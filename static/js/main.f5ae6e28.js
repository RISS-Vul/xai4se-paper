/*! For license information please see main.f5ae6e28.js.LICENSE.txt */
!function(){var e={87757:function(e,t,n){e.exports=n(19727)},53469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i};t.default=n},69252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(77249),i=r.detectCycleAsync;t.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=o},66299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(69748))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new i.default,u=e.edges,c=void 0===u?[]:u;s.enqueue(t);for(var l="",f=function(){var e=s.dequeue();a.enter({current:e,previous:l}),(0,o.getNeighbors)(e,c,r?"target":void 0).forEach((function(t){a.allowTraversal({previous:l,current:e,next:t})&&s.enqueue(t)})),a.leave({current:e,previous:l}),l=e};!s.isEmpty();)f()};t.default=a},73265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?o(e):i(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(70399),i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u=[],c=function e(t){u.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o),a=function(t){var r=i[t];if(!s[r]){var o=n.filter((function(e){return e.id===r}));o.length>0&&e(o[0])}},c=0;c<i.length;++c)a(c)},l=0;l<n.length;l++){var f=n[l];if(!s[f.id]){c(f);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};t.detectConnectedComponents=i;var o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u={},c={},l=[],f=0,d=function e(t){u[t.id]=f,c[t.id]=f,f+=1,a.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),d=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(c[t.id]=Math.min(c[t.id],u[o]));else{var a=n.filter((function(e){return e.id===o}));a.length>0&&e(a[0]),c[t.id]=Math.min(c[t.id],c[o])}},h=0;h<i.length;h++)d(h);if(c[t.id]===u[t.id]){for(var p=[];a.length>0;){var v=a.pop();if(s[v.id]=!1,p.push(v),v===t)break}p.length>0&&l.push(p)}},h=0,p=n;h<p.length;h++){var v=p[h];u[v.id]||0===u[v.id]||d(v)}return l};t.detectStrongConnectComponents=o},70834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},19020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var n=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},r=n;t.default=r;t.getInDegree=function(e,t){return n(e)[t]?n(e)[t].inDegree:0};t.getOutDegree=function(e,t){return n(e)[t]?n(e)[t].outDegree:0}},11354:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var i,o=(i=n(25068))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(73265)),s=n(70399);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,c=(0,a.default)(e,!1);u<c.length;u++){var l=c[u];if(l.length)for(var f=l[0],d=f.id,h=[f],p=((r={})[d]=f,r),v=((i={})[d]=new Set,i);h.length>0;)for(var g=h.pop(),m=g.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var i,a=y[r],s=e.nodes.find((function(e){return e.id===a}));if(a===m)o.push(((i={})[a]=g,i));else if(a in v){if(!v[m].has(s)){for(var u=!0,c=[s,g],l=p[m];v[a].size&&!v[a].has(l)&&(c.push(l),l!==p[l.id]);)l=p[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var f={},d=1;d<c.length;d+=1)f[c[d-1].id]=c[d];c.length&&(f[c[c.length-1].id]=c[0]),o.push(f)}v[a].add(g)}}else p[a]=g,h.push(s),v[a]=new Set([g])},x=0;x<y.length;x+=1)b(x)}return o};t.detectAllUndirectedCycle=c;var l=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],c={},l={},f=function e(a,s,l){var f=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return f;r.push(a),i.add(a);for(var d=l[a.id],h=0;h<d.length;h+=1){if((g=c[d[h]])===s){for(var p={},v=1;v<r.length;v+=1)p[r[v-1].id]=r[v];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),f=!0}else i.has(g)||e(g,s,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(a);else for(h=0;h<d.length;h+=1){var g=c[d[h]];o[g.id].has(a)||o[g.id].add(a)}return r.pop(),f},d=e.nodes,h=void 0===d?[]:d,p=0;p<h.length;p+=1){var v=h[p],g=v.id;l[g]=p,c[p]=v}if(t&&n){var m=function(e){var n=t[e];l[h[e].id]=l[n],l[n]=0,c[0]=h.find((function(e){return e.id===n})),c[l[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var i,o,a=1/0,c=0;c<r.length;c+=1)for(var f=r[c],d=0;d<f.length;d++){var h=l[f[d].id];h<a&&(a=h,o=c)}var p=r[o],v=[];for(c=0;c<p.length;c+=1){var g=p[c];v[g.id]=[];for(var m=0,y=(0,s.getNeighbors)(g.id,e.edges,"target").filter((function(e){return p.map((function(e){return e.id})).indexOf(e)>-1}));m<y.length;m++){var b=y[m];b!==g.id||!1===n&&t.indexOf(g.id)>-1?v[g.id].push(l[b]):u.push(((i={})[g.id]=g,i))}}return{component:p,adjList:v,minIdx:a}},b=0;b<h.length;){var x=h.filter((function(e){return l[e.id]>=b})),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter((function(e){return e.length>1}));if(0===w.length)break;var _=y(w),E=_.minIdx,S=_.adjList,k=_.component;if(!(k.length>1))break;k.forEach((function(e){o[e.id]=new Set}));var C=c[E];if(t&&n&&-1===t.indexOf(C.id))return u;f(C,C,S),b=E+1}return u};t.detectAllDirectedCycle=l;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?l(e,n,r):c(e,n,r)};var f=function(e){var t=null,n=e.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var u={enter:function(e){var n=e.current,o=e.previous;if(a[n]){t={};for(var s=n,u=o;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(i).length;){var c=Object.keys(i)[0];(0,o.default)(e,c,u)}return t};t.default=f},25068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){i(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(70399);function i(e,t,n,o){o.enter({current:t,previous:n});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(t,s,"target").forEach((function(r){o.allowTraversal({previous:n,current:t,next:r})&&i(e,r,t,o)})),o.leave({current:t,previous:n})}},95581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3431),i=n(98092),o=n(70399),a=function(e,t,n,r){var i=e.nodes,a=void 0===i?[]:i,u=e.edges,c=void 0===u?[]:u,l=[],f={},d={},h={};a.forEach((function(e,n){var r=e.id;l.push(r),d[r]=1/0,r===t&&(d[r]=0)}));for(var p=a.length,v=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(d,a,f),i=t.id;if(f[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,c):(0,o.getEdgesByNodeId)(i,c)).forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;d[a]>d[t.id]+s?(d[a]=d[t.id]+s,h[a]=[t.id]):d[a]===d[t.id]+s&&h[a].push(t.id)}))},g=0;g<p;g++)v();h[t]=[t];var m={};for(var y in d)d[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(e,t,n,o){if(e===t)return[e];if(o[t])return o[t];for(var a=[],u=0,c=n[t];u<c.length;u++){var l=s(e,c[u],n,o);if(!l)return;for(var f=0,d=l;f<d.length;f++){var h=d[f];(0,i.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return o[t]=a,o[t]}t.default=a},26384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,i=(r=n(95581))&&r.__esModule?r:{default:r},o=n(70399);t.findShortestPath=function(e,t,n,r,o){var a=(0,i.default)(e,t,r,o),s=a.length,u=a.path,c=a.allPath;return{length:s[n],path:u[n],allPath:c[n]}};t.findAllPath=function(e,t,n,r){var i;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],c=((i={})[t]=!0,i),l=[],f=[],d=r?(0,o.getNeighbors)(t,s,"target"):(0,o.getNeighbors)(t,s);for(l.push(d);u.length>0&&l.length>0;){var h=l[l.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),c[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),l.push(d.filter((function(e){return!c[e]})))),u[u.length-1]===n){var v=u.map((function(e){return e}));f.push(v);g=u.pop();c[g]=!1,l.pop()}}else{var g=u.pop();c[g]=!1,l.pop()}}return f}},39345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(53469))&&r.__esModule?r:{default:r};var o=function(e,t){for(var n=(0,i.default)(e,t),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=o},21225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=n(37468),o=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new o(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=i.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new i.Graph(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(t,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,s=e.maxNodeNum,u=void 0===s?4:s,c=e.top,l=void 0===c?10:c,f=e.directed,d=void 0!==f&&f,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=o[l.to].label;t.to===l.to||n>f||r.hasNode(o[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&i.push(l)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,c=new a,l={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=u[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);l[i]||(l[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var o={graphId:r.id,edge:e,preNode:null};l[i].projected.push(o)}))}));var f=this.findMinLabel(l);if(f){c.dfsEdgeList.push(new o(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var d="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return function a(l){for(var f=c.buildRmpath(),d=c.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=c.dfsEdgeList[f[0]].toNode,p={},v=!1,g=0,m=n?-1:0,y=function(t){if(v)return"break";l.forEach((function(n){var i=new s(n),o=e.findBackwardEdge(r,i.edges[f[t]],i.edges[f[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),g=c.dfsEdgeList[f[t]].fromNode,v=!0)}))},b=f.length-1;b>m;b--){if("break"===y(b))break}if(v){var x=e.findMinLabel(p);c.dfsEdgeList.push(new o(h,g,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var w=c.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[w]===c.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var _={};v=!1;var E=0;l.forEach((function(t){var n=new s(t),i=e.findForwardPureEdges(r,n.edges[f[0]],d,n);i.length>0&&(v=!0,E=h,i.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);_[n]||(_[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),_[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var S=f.length,k=function(t){if(v)return"break";var n=f[t];l.forEach((function(t){var i=new s(t),o=e.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(v=!0,E=c.dfsEdgeList[n].fromNode,o.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);_[n]||(_[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),_[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(b=0;b<S;b++){if("break"===k(b))break}if(!v)return!0;var C=e.findMinLabel(_);c.dfsEdgeList.push(new o(E,h+1,i.VACANT_NODE_LABEL,C.edgeLabel,C.nodeLabel2));var M=c.dfsEdgeList.length-1;return t.dfsEdgeList[M]===c.dfsEdgeList[M]&&a(_["".concat(C.edgeLabel,"-").concat(C.nodeLabel2)].projected)}(l[d].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c={},l={};e.forEach((function(e){for(var i=t.graphs[e.graphId],o=i.nodeMap,f=new s(e),d=r.length-1;d>=0;d--){var h=t.findBackwardEdge(i,f.edges[r[d]],f.edges[r[0]],f);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(h.label);l[p]||(l[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:h.label}),l[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(i,f.edges[r[0]],u,f).forEach((function(t){var n="".concat(a,"-").concat(t.label,"-").concat(o[t.to].label);c[n]||(c[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:o[t.to].label}),c[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var v=function(n){t.findForwardRmpathEdges(i,f.edges[r[n]],u,f).forEach((function(i){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);c[a]||(c[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),c[a].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(d=0;d<r.length;d++)v(d)}})),Object.keys(l).forEach((function(e){var n=l[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(c).forEach((function(e){var n=c[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=i[c]||0;f++,i[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach((function(e){var r=c,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(i),d="".concat(r,"-").concat(l,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),c="cluster",l=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,a=void 0===o?c:o,s=e.edgeLabelProp,l=void 0===s?c:s,f=function(e,t,n,r){var o={};return Object.keys(e).forEach((function(a,s){var u=e[a],c=new i.Graph(s,!0,t),l={};u.nodes.forEach((function(e,t){c.addNode(t,e[n]),l[e.id]=t})),u.edges.forEach((function(e,t){var n=l[e.source],i=l[e.target];c.addEdge(-1,n,i,e[r])})),c&&c.getNodeNum()&&(o[c.id]=c)})),o}(t,r,a,l),d=e.minSupport,h=e.maxNodeNum,p=e.minNodeNum,v=e.verbose,g=e.top,m=new u({graphs:f,minSupport:d,maxNodeNum:h,minNodeNum:p,top:g,verbose:v,directed:r});m.run();var y=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(m.frequentSubgraphs,a,l);return y};t.default=l},37468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;t.VACANT_EDGE_ID=-1;t.VACANT_NODE_ID=-1;t.VACANT_EDGE_LABEL="-1";t.VACANT_NODE_LABEL="-1";t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var n=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r};t.Edge=n;var r=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t="-1"),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=r;var i=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new r(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,i){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new n(e,t,r,i);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(o),!this.directed){var a=new n(e,r,t,i);this.nodeMap[r].addEdge(a),this.edgeLabelMap[i].push(a)}}},e}();t.Graph=i},55472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3431),i=u(n(39345)),o=u(n(21225)),a=u(n(95581)),s=n(70399);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(l(o,e,t,n,r))})),i},l=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},f=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,v=0;v<p;v++){var g=i[d[v]];r[o].nodes.push(g),h[g.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},d=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(i===u&&o===c||i===c&&o===u)&&s++})),s)},h=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(s.uniqueId)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var c=n[e.target];c&&(c.degree++,c.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},v=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var c=e[u].id,l=t[u];i["".concat(s,"-").concat(c)]=l,n||(i["".concat(c,"-").concat(s)]=l)}})),i},g=function(e,t,n,r,i,o,a,s,u,c,l){var h,p="".concat(t.id,"-").concat(n.id);if(c&&c[p])return c[p];var v=l?l[p]:void 0;if(!v){var g=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:i},h);v=(l=f(g,o,e,l))[p]}return d(v,a,s,u)},m=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;c>i&&(c=i)})),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var w=e.nodes.length;if(w){var _=(0,i.default)(e,n),E=(0,i.default)(t,n),S=v(e.nodes,_,n),k=v(t.nodes,E,n),C=h(e.nodes,y),M=C.nodeMap,O=C.nodeLabelMap,N=h(t.nodes,y),T=N.nodeMap,A=N.nodeLabelMap;p(e.edges,b,M);var P=p(t.edges,b,T).edgeLabelMap,I=[];null===E||void 0===E||E.forEach((function(e){I=I.concat(e)})),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],I,!1),[2],!1))),s||(s=u);var D=c(e,_,y,s),R=c(t,E,y,s),L=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,w,Math.min(100,w*(w-1)/2),D,_),j=f(L,D,e),F={graphs:j,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},B=(0,o.default)(F).slice(0,10),z=B.length,U=[];B.forEach((function(e,t){U[t]={},Object.keys(j).forEach((function(n){var r=j[n],i=d(r,e,y,b);U[t][n]=i}))}));var G=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var c=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(c+=Math.abs(e-n))})),c/=u.length*(u.length-1)/2}));var l=c-s;r<l&&(r=l,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(U,z,B),V=G.structure,Z=G.structureCountMap,W=t.nodes[0],Y=[],H=null===(x=t.nodes[0])||void 0===x?void 0:x[y],q=-1/0;t.nodes.forEach((function(e){var t=e[y],n=O[t];(null===n||void 0===n?void 0:n.length)>q&&(q=n.length,Y=n,H=t,W=e)}));var X={},K={},$={},Q={},J={},ee={};Object.keys(A).forEach((function(r,i){J[r]=[],n&&(ee[r]=[]);var o=-1/0,a=A[r],s={};a.forEach((function(e){var t=k["".concat(W.id,"-").concat(e.id)];if(t&&J[r].push(t),o<t&&(o=t),s["".concat(W.id,"-").concat(e.id)]={start:0,end:T[e.id].idx,distance:t},n){var i=k["".concat(e.id,"-").concat(W.id)];i&&ee[r].push(i)}})),J[r]=J[r].sort((function(e,t){return e-t})),n&&(ee[r]=ee[r].sort((function(e,t){return e-t}))),K=f(s,R,t,K);var u=[];if(Object.keys(s).forEach((function(e){if($[e])u.push($[e]);else{var t=K[e];$[e]=d(t,V,y,b),u.push($[e])}})),u=u.sort((function(e,t){return t-e})),Q["".concat(W.id,"-").concat(r)]=u,r!==H)for(var c=function(t){var n=Y[t],i=D[M[n.id].idx],o=i.nodeLabelCountMap[r],a=A[r].length;if(!o||o.count<a)return Y.splice(t,1),"continue";for(var s=!1,c=0;c<a;c++)if(o.dists[c]>J[r][c]){s=!0;break}if(s)return Y.splice(t,1),"continue";var l={};i.neighbors.forEach((function(e){var t=S["".concat(n.id,"-").concat(e.id)];l["".concat(n.id,"-").concat(e.id)]={start:M[n.id].idx,end:M[e.id].idx,distance:t}})),j=f(l,D,e,j);var h=[];Object.keys(l).forEach((function(e){if(Z[e])h.push(Z[e]);else{var t=j[e];Z[e]=d(t,V,y,b),h.push(Z[e])}})),h=h.sort((function(e,t){return t-e}));var p=!1;for(c=0;c<a;c++)if(h[c]<u[c]){p=!0;break}return p?(Y.splice(t,1),"continue"):void 0},l=((null===Y||void 0===Y?void 0:Y.length)||0)-1;l>=0;l--)c(l)}));var te=[];null===Y||void 0===Y||Y.forEach((function(r){for(var i=M[r.id].idx,o=l(e.nodes,_[i],i,y,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<t.nodes.length)return void(a=!0);var c=o[s],f=c[y];if(A[f]&&A[f].length)if(J[f]&&J[f].length){var d="".concat(r.id,"-").concat(c.id),h=S[d],p=J[f].length-1;if(h>J[f][p])o.splice(s,1);else{if(n){var v="".concat(c.id,"-").concat(r.id),x=S[v];if(p=ee[f].length-1,x>ee[f][p]){o.splice(s,1);continue}}var w=Z[d]?Z[d]:g(e,r,c,M,h,D,V,y,b,Z,j),E="".concat(W.id,"-").concat(f);if(w<Q[E][Q[E].length-1])o.splice(s,1);else{var k=m(X,f,T,A),C=k.minPatternNodeLabelDegree;k.minPatternNodeLabelInDegree,k.minPatternNodeLabelOutDegree;M[c.id].degree<C&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||te.push({nodes:[r].concat(o)})}));var ne=(0,a.default)(t,W.id,!1).length,re={};n?(Object.keys(ne).forEach((function(e){var t=T[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]})),Object.keys(re).forEach((function(e){re[e].sort((function(e,t){return e-t}))}))):re=J;for(var ie=function(r){var i=te[r],o=i.nodes[0],s={},u={};i.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1}));var c=[],l={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(c.push(e),l[e[b]]?l[e[b]]++:l[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)}));for(var f=Object.keys(P).length,d=!1,h=0;h<f;h++){var p=Object.keys(P)[h];if(!l[p]||l[p]<P[p].length){d=!0;break}}if(d)return te.splice(r,1),"continue";var v=c.length;if(v<t.edges.length)return te.splice(r,1),"break";var g=!1,x=function(e){var t=c[e],r=t[b],i=P[r];if(!i||!i.length)return l[r]--,i&&l[r]<i.length?(g=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var o=u[t.source].node[y],a=u[t.target].node[y],s=!1;return i.forEach((function(e){var t=T[e.source].node,r=T[e.target].node;t[y]===o&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==o||(s=!0)})),s?void 0:(l[r]--,i&&l[r]<i.length?(g=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=v-1;h>=0;h--){if("break"===x(h))break}if(g)return te.splice(r,1),"continue";i.edges=c;var w=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!g){if(w[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<A[t].length)return void(g=!0);var n=i.nodes.indexOf(u[e].node);return i.nodes.splice(n,1),void(u[e]=void 0)}var r=M[e].node[y];if(!re[r]||!re[r].length||w[e]>re[r][re[r].length-1]){t=u[e].node[y];if(s[t]--,s[t]<A[t].length)return void(g=!0);n=i.nodes.indexOf(u[e].node);i.nodes.splice(n,1),u[e]=void 0}}})),g)return te.splice(r,1),"continue";for(var _=!0,E=0;_&&!g;){if(_=!1,n?u[o.id].degree<T[W.id].degree||u[o.id].inDegree<T[W.id].inDegree||u[o.id].outDegree<T[W.id].outDegree:u[o.id].degree<T[W.id].degree){g=!0;break}if(s[o[y]]<A[o[y]].length){g=!0;break}for(var S=i.nodes.length-1;S>=0;S--){var k=i.nodes[S],C=u[k.id].degree,O=u[k.id].inDegree,N=u[k.id].outDegree,I=k[y],D=m(X,I,T,A),R=D.minPatternNodeLabelDegree,L=D.minPatternNodeLabelInDegree,j=D.minPatternNodeLabelOutDegree;if(n?C<R||O<L||N<j:C<R){if(s[k[y]]--,s[k[y]]<A[k[y]].length){g=!0;break}i.nodes.splice(S,1),u[k.id]=void 0,_=!0}}if(g||!_&&0!==E)break;for(var F=(v=c.length)-1;F>=0;F--){var B=c[F];if(!u[B.source]||!u[B.target]){c.splice(F,1);var z=B[b];if(l[z]--,u[B.source]&&(u[B.source].degree--,u[B.source].outDegree--),u[B.target]&&(u[B.target].degree--,u[B.target].inDegree--),P[z]&&l[z]<P[z].length){g=!0;break}_=!0}}E++}return g||g||i.nodes.length<t.nodes.length||c.length<t.edges.length?(te.splice(r,1),"continue"):void 0},oe=te.length-1;oe>=0;oe--){if("break"===ie(oe))break}var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=te[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&te.splice(e,1)},i=ae-1;i>e;i--)r(i);ae=te.length};for(oe=0;oe<=ae-1;oe++)se(oe);return te}}};t.default=y},82186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(53469))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={},f={};s.forEach((function(e,t){var n=(0,o.uniqueId)();e.clusterId=n,l[n]={id:n,nodes:[e]},f[e.id]={node:e,idx:t}}));var d=(0,i.default)(e,t),h=[],p={};d.forEach((function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach((function(e,t){if(e){n+=e;var i=s[t].id;p[r][i]=e}})),h.push(n)}));for(var v=0,g=function(){var e=!1;if(s.forEach((function(t){var n={};Object.keys(p[t.id]).forEach((function(e){var r=p[t.id][e],i=f[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=l[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),c=l[i[u]];c.nodes.push(t),t.clusterId=c.id}}})),!e)return"break";v++};v<r;){if("break"===g())break}Object.keys(l).forEach((function(e){var t=l[e];t.nodes&&t.nodes.length||delete l[e]}));var m=[],y={};c.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=f[t].node.clusterId,a=f[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,m.push(u)}}));var b=[];return Object.keys(l).forEach((function(e){b.push(l[e])})),{clusters:b,clusterEdges:m}};t.default=a},56977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=u(n(53469)),o=u(n(32210)),a=n(38831),s=n(63708);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,c=0;c<i;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/o}return a*=1/o},l=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(t[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(c=new o.default(t[i])).squareEuclideanDistance(a)}var u=[];e.forEach((function(){u.push([])}));for(i=0;i<n;i++){var c=new o.default(t[i]);e[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var f=new o.default(t[l]);u[i][l]=c.squareEuclideanDistance(f),e[i].clusterInertial+=u[i][l]}else u[i][l]=0}var d=0,h=2*n*s;for(i=0;i<n;i++){var p=e[i].clusterId;for(l=0;l<n;l++){var v=e[l].clusterId;if(i!==l&&p===v)d+=e[i].clusterInertial*e[l].clusterInertial/Math.pow(h,2)-u[i][l]/h}}return Number(d.toFixed(4))},f=function(e,t,n,o,u,f,d,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===f&&(f=void 0),void 0===d&&(d=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var v=e.nodes,g=void 0===v?[]:v,m=e.edges,y=void 0===m?[]:m,b=[];if(u){g.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var x=[];g.every((function(e){return e.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(g.map((function(e){return e.nodeType})))),g.forEach((function(e){e.properties.nodeType=x.findIndex((function(t){return t===e.nodeType}))})));var w=(0,a.getAllProperties)(g,f);b=(0,s.oneHot)(w,d,h)}var _=1,E={},S={};g.forEach((function(e,t){var n=String(_++);e.clusterId=n,E[n]={id:n,nodes:[e]},S[e.id]={node:e,idx:t}}));var k=(0,i.default)(e,t),C=[],M={},O=0;k.forEach((function(e,t){var n=0,r=g[t].id;M[r]={},e.forEach((function(e,t){if(e){n+=e;var i=g[t].id;M[r][i]=e,O+=e}})),C.push(n)})),O/=2;for(var N=1/0,T=1/0,A=0,P=[],I={};;){N=u&&g.every((function(e){return e.hasOwnProperty("properties")}))?c(g,k,C,O)+l(g,b)*p:c(g,k,C,O),0===A&&(T=N,P=g,I=E);var D=N>0&&N>T&&N-T<o;if(N>T&&(P=g.map((function(e){return{node:e,clusterId:e.clusterId}})),I=(0,r.clone)(E),T=N),D||A>100)break;A++,Object.keys(E).forEach((function(e){var t=0;y.forEach((function(r){var i=r.source,o=r.target,a=S[i].node.clusterId,s=S[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),E[e].sumTot=t})),g.forEach((function(e,t){var r,i=E[e.clusterId],o=0,a=C[t]/(2*O),s=0,c=i.nodes;c.forEach((function(e){var n=S[e.id].idx;s+=k[t][n]||0}));var f=s-i.sumTot*a,d=c.filter((function(t){return t.id!==e.id})),h=[];d.forEach((function(e,t){h[t]=b[e.originIndex]}));var v=l(d,b)*p,g=M[e.id];if(Object.keys(g).forEach((function(n){var i=S[n].node.clusterId;if(i!==e.clusterId){var s=E[i],c=s.nodes;if(c&&c.length){var d=0;c.forEach((function(e){var n=S[e.id].idx;d+=k[t][n]||0}));var h=d-s.sumTot*a,g=c.concat([e]),m=[];g.forEach((function(e,t){m[t]=b[e.originIndex]}));var y=l(g,b)*p,x=h-f;u&&(x=h+y-(f+v)),x>o&&(o=x,r=s)}}})),o>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=i.nodes.indexOf(e);i.nodes.splice(x,1);var w=0,_=0;y.forEach((function(e){var t=e.source,i=e.target,o=S[t].node.clusterId,a=S[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(w+=e[n]||1),(o===m&&a!==m||a===m&&o!==m)&&(_+=e[n]||1)})),r.sumTot=w,i.sumTot=_}}))}var R={},L=0;Object.keys(I).forEach((function(e){var t=I[e];if(t.nodes&&t.nodes.length){var n=String(L+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),I[n]=t,R[e]=n,delete I[e],L++)}else delete I[e]})),P.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&R[t.clusterId]&&(t.clusterId=R[t.clusterId])}));var j=[],F={};y.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=S[t].node.clusterId,a=S[r].node.clusterId,s="".concat(o,"---").concat(a);if(F[s])F[s].weight+=i,F[s].count++;else{var u={source:o,target:a,weight:i,count:1};F[s]=u,j.push(u)}}));var B=[];return Object.keys(I).forEach((function(e){B.push(I[e])})),{clusters:B,clusterEdges:j}};t.default=f},98433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(15997)),i=a(n(90567)),o=n(70399);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var c=a[0],l=new Set;l.add(c);var f=new i.default((function(e,n){return t?e.weight-n.weight:0}));for((0,o.getEdgesByNodeId)(c.id,u).forEach((function(e){f.insert(e)}));!f.isEmpty();){var d=f.delMin(),h=d.source,p=d.target;l.has(h)&&l.has(p)||(n.push(d),l.has(h)||(l.add(h),(0,o.getEdgesByNodeId)(h,u).forEach((function(e){f.insert(e)}))),l.has(p)||(l.add(p),(0,o.getEdgesByNodeId)(p,u).forEach((function(e){f.insert(e)}))))}return n},u=function(e,t){var n=[],i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map((function(e){return e}));t&&u.sort((function(e,t){return e.weight-t.weight}));for(var c=new r.default(o.map((function(e){return e.id})));u.length>0;){var l=u.shift(),f=l.source,d=l.target;c.connected(f,d)||(n.push(l),c.union(f,d))}return n},c=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=c},43962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19020))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=l.length,p={},v={},g=0;g<h;++g){p[y=(E=l[g]).id]=1/h,v[y]=1/h}for(var m=(0,i.default)(e);u>0&&a>t;){s=0;for(g=0;g<h;++g){var y=(E=l[g]).id;if(r=0,0===m[E.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var w=b[x],_=m[w].outDegree;_>0&&(r+=v[w]/_)}p[y]=n*r,s+=p[y]}}s=(1-s)/h,a=0;for(g=0;g<h;++g){var E;r=p[y=(E=l[g]).id]+s,a+=Math.abs(r-v[y]),v[y]=r}u-=1}return v};t.default=a},90567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e-t},r=function(){function e(e){void 0===e&&(e=n),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=r},94182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var n=function(e,t){return e===t},r=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=r;var i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new r(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new r(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}();t.default=i},69748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(94182))&&r.__esModule?r:{default:r};var o=function(){function e(){this.linkedList=new i.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=o},15997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=n},31391:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=n,function(e){e.EuclideanDistance="euclideanDistance"}(n||(t.DistanceType=n={}))},70399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))};t.getOutEdgesNodeId=function(e,t){return t.filter((function(t){return t.source===e}))};t.getEdgesByNodeId=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},63708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,i=n(98092),o=n(31391),a=(r=n(32210))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,i.uniq)(r));var o={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,i.uniq)(r))})),o};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i};t.oneHot=u;var c=function(e,t,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;if(n===o.DistanceType.EuclideanDistance)i=new a.default(e).euclideanDistance(new a.default(t));return i};t.getDistance=c;var l={getAllKeyValueMap:s,oneHot:u,getDistance:c};t.default=l},38831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(70834),i=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach((function(e){e.properties&&Object.keys(e.properties).forEach((function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1}))}));var i=Object.keys(n).sort((function(e,t){return n[t]-n[e]}));return i.length<t?i:i.slice(0,t)};t.getAllSortProperties=i;var o=function(e,t){return t.map((function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0}))},a=function(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n[r]=o(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};t.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};t.default=u},32210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort((function(e,t){return e-t}));var i=n[n.length-1],o=n[0];for(var a in this.arr)t[a]=(this.arr[a]-o)/(i-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=i},73658:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return f.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return f.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return g.default}});var i=x(n(53469)),o=x(n(66299)),a=x(n(73265)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(19020)),u=x(n(11354)),c=x(n(25068)),l=x(n(95581)),f=n(26384),d=x(n(39345)),h=x(n(82186)),p=x(n(56977)),v=x(n(98433)),g=x(n(43962)),m=x(n(55472)),y=n(70399);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},3857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},82130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(3857),o=(r=n(34524))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var a=new o.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,o=t.data,s=t._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}}))}};t.default=a},77249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,i=(r=n(82130))&&r.__esModule?r:{default:r},o=n(3857);t.getAdjMatrixAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,i.default)(o.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},34524:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(73658)),o=n(3857);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};t.default=null},3543:function(){},39102:function(){},30736:function(){},4566:function(){},68783:function(){},22332:function(){},51326:function(){},71101:function(){},50930:function(){},32929:function(){},45760:function(){},90678:function(){},72288:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.r(t),n.d(t,{Camera:function(){return Jr},Geometry:function(){return ei},Kernel:function(){return eo},Material:function(){return to},Renderable:function(){return no},World:function(){return Pu}});var i=n(15671),o=n(43144);function a(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(66121);var s=n(87757),u=n.n(s),c=n(15861),l=1;function f(){return l++}var d=function e(t){(0,i.Z)(this,e)},h=function(){function e(t){(0,i.Z)(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return(0,o.Z)(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return-1}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return i=r[n],o=Number(i),a=this.lookup[o],e.next=7,t(o,this.getComponent(a));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}(),p=n(29439),v=n(66543),g={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},m=function e(){(0,i.Z)(this,e),this.index=void 0},y=function e(){(0,i.Z)(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},b=function(){function e(){(0,i.Z)(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,o.Z)(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),x=n(60136),w=n(82963),_=n(61120);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var S,k,C,M,O,N,T=function(e){(0,x.Z)(n,e);var t=E(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return(0,o.Z)(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){(0,i.Z)(this,e),this.first=void 0,this.last=void 0})),A=function e(){(0,i.Z)(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function P(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(S=(0,v.b2)(),k=(0,v.f3)(g.RenderEngine),S((N=function(){function e(){(0,i.Z)(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],r(this,"engine",O,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new y;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new b;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=P(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(A){n.e(A)}finally{n.f()}var i,o=[],a=P(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(A){a.e(A)}finally{a.f()}for(;o.length;){var u=o.pop(),c=u&&u.writer;if(c&&0===--c.refCount){var l,f=P(c.reads);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=this.resourceNodes[d.index];0===--h.readerCount&&o.push(h)}}catch(A){f.e(A)}finally{f.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,v=P(this.passNodes);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(g.refCount){var m,y=P(g.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:g,x.last=g}}catch(A){y.e(A)}finally{y.f()}var w,_=P(g.writes);try{for(_.s();!(w=_.n()).done;){var E=w.value,S=this.resourceNodes[E.index].resource;S.first=S.first?S.first:g,S.last=g}}catch(A){_.e(A)}finally{_.f()}}}}catch(A){v.e(A)}finally{v.f()}for(var k=0;k<2;k++){var C,M=P(this.resourceNodes);try{for(M.s();!(C=M.n()).done;){var O=C.value.resource;if(O.priority===k&&O.refs){var N=O.first,T=O.last;N&&T&&(N.devirtualize.push(O),T.destroy.push(O))}}}catch(A){M.e(A)}finally{M.f()}}}},{key:"executePassNodes",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,i,o,a,s,c,l,f,d,h,v,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=P(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(i=(0,p.Z)(r.value,2),o=i[0],!(a=i[1]).refCount){e.next=16;break}s=P(a.devirtualize);try{for(s.s();!(c=s.n()).done;)c.value.preExecuteDevirtualize(this.engine)}catch(u){s.e(u)}finally{s.f()}l=P(a.destroy);try{for(l.s();!(f=l.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(u){l.e(u)}finally{l.f()}return e.next=12,this.frameGraphPasses[o].execute(this,this.frameGraphPasses[o],t);case 12:d=P(a.devirtualize);try{for(d.s();!(h=d.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(u){d.e(u)}finally{d.f()}v=P(a.destroy);try{for(v.s();!(g=v.n()).done;)g.value.postExecuteDestroy(this.engine)}catch(u){v.e(u)}finally{v.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new A;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new m;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new T;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new T;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),O=a((M=N).prototype,"engine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=M))||C),R=n(4942),L=n(97326),j=n(50907);function F(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function B(e,t,n,r){var i=new j.WT(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function z(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=F()}();var U=n(5742),G=n(88679),V=n(71002),Z=9007199254740991,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var Y=Object.prototype.toString;var H=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=Z}(e.length)&&!!W[Y.call(e)]};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var $,Q,J,ee,te,ne,re,ie,oe,ae=function(e){(0,x.Z)(n,e);var t=K(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find((function(t){return t.name===e}));return i?(i.data=t,i.dirty=!0):this.attributes.push(X(X({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=B(t.data[r],t.data[r+1],t.data[r+2],1);z(i,i,e),H(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=U.normalFromMat4(U.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=G.al(n.data[a],n.data[a+1],n.data[a+2]);G.kK(s,s,o),G.Fv(s,s),H(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(d);!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}($||($={}));var se=(Q=(0,v.b2)(),J=(0,v.f3)(g.GeometryComponentManager),ee=(0,v.f3)(g.RenderEngine),Q((oe=function(){function e(){(0,i.Z)(this,e),r(this,"geometry",re,this),r(this,"engine",ie,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:$.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:$.UNSIGNED_INT,usage:$.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=f();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=f();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),re=a((ne=oe).prototype,"geometry",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=a(ne.prototype,"engine",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var fe,de,he,pe,ve,ge,me,ye,be,xe,we=function(e){(0,x.Z)(n,e);var t=le(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:$.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setDefines",value:function(e){return this.defines=ce(ce({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(d);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se,ke=(fe=(0,v.b2)(),de=(0,v.f3)(g.MaterialComponentManager),he=(0,v.f3)(g.RenderEngine),pe=(0,v.f3)(g.ShaderModuleService),fe((xe=function(){function e(){(0,i.Z)(this,e),r(this,"material",me,this),r(this,"engine",ye,this),r(this,"shaderModule",be,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=f(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,Ee(Ee({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),me=a((ge=xe).prototype,"material",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=a(ge.prototype,"engine",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ge.prototype,"shaderModule",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=ge))||ve);function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}!function(e){e[e.Standard=0]="Standard"}(Se||(Se={}));var Me=function(e){(0,x.Z)(n,e);var t=Ce(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).strategy=Se.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign((0,L.Z)(r),e),r}return n}(d),Oe=function(){function e(t,n){(0,i.Z)(this,e),this.center=void 0,this.halfExtents=void 0,this.min=G.Ue(),this.max=G.Ue(),this.update(t,n)}return(0,o.Z)(e,[{key:"update",value:function(e,t){this.center=e||G.Ue(),this.halfExtents=t||G.al(.5,.5,.5),this.min=G.lu(this.min,this.center,this.halfExtents),this.max=G.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){G.IH(this.center,t,e),G.bA(this.center,this.center,.5),G.lu(this.halfExtents,t,e),G.bA(this.halfExtents,this.halfExtents,.5),G.JG(this.min,e),G.JG(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],c=n-a,l=n+a,f=r-s,d=r+s,h=i-u,p=i+u,v=e.center,g=v[0],m=v[1],y=v[2],b=e.halfExtents,x=b[0],w=b[1],_=b[2],E=g-x,S=g+x,k=m-w,C=m+w,M=y-_,O=y+_;E<c&&(c=E),S>l&&(l=S),k<f&&(f=k),C>d&&(d=C),M<h&&(h=M),O>p&&(p=O),t[0]=.5*(c+l),t[1]=.5*(f+d),t[2]=.5*(h+p),o[0]=.5*(l-c),o[1]=.5*(d-f),o[2]=.5*(p-h),this.min[0]=c,this.min[1]=f,this.min[2]=h,this.max[0]=l,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.min):272===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):G.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.max):272===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):G.al(this.min[0],this.min[1],this.min[2])}}]),e}();function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Te,Ae=function(e){(0,x.Z)(n,e);var t=Ne(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new Oe,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign((0,L.Z)(r),e),r}return n}(d),Pe=function(){function e(t,n){(0,i.Z)(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||G.al(0,1,0),this.updatePNVertexFlag()}return(0,o.Z)(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return G.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/G.Zh(this.normal);G.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&G.t7(n,e,t,i),o}}]),e}();!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(Te||(Te={}));var Ie,De,Re,Le,je,Fe,Be,ze,Ue,Ge,Ve,Ze,We,Ye,He=function(){function e(t){if((0,i.Z)(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new Pe)}return(0,o.Z)(e,[{key:"extractFromVPMatrix",value:function(e){var t=(0,p.Z)(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],v=t[12],g=t[13],m=t[14],y=t[15];G.t8(this.planes[0].normal,o-n,c-a,h-l),this.planes[0].distance=-(y-v),G.t8(this.planes[1].normal,o+n,c+a,h+l),this.planes[1].distance=-(y+v),G.t8(this.planes[2].normal,o+r,c+s,h+f),this.planes[2].distance=-(y+g),G.t8(this.planes[3].normal,o-r,c-s,h-f),this.planes[3].distance=-(y-g),G.t8(this.planes[4].normal,o-i,c-u,h-d),this.planes[4].distance=-(y-m),G.t8(this.planes[5].normal,o+i,c+u,h+d),this.planes[5].distance=-(y+m),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}();function qe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=(Ie=(0,v.b2)(),De=(0,v.f3)(g.MeshComponentManager),Re=(0,v.f3)(g.CullableComponentManager),Le=(0,v.f3)(g.GeometryComponentManager),je=(0,v.f3)(g.HierarchyComponentManager),Fe=(0,v.f3)(g.TransformComponentManager),Ie((Ye=function(){function e(){(0,i.Z)(this,e),r(this,"mesh",Ue,this),r(this,"cullable",Ge,this),r(this,"geometry",Ve,this),r(this,"hierarchy",Ze,this),r(this,"transform",We,this),this.planes=void 0}return(0,o.Z)(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,i,o,a,s,c,l,f,d,h,p,v,g,m,y,b,x,w,_,E;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qe(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=qe(o.getEntities());try{for(s.s();!(c=s.n()).done;)l=c.value,(f=this.mesh.getComponentByEntity(l))&&(d=this.hierarchy.getComponentByEntity(l),h=this.cullable.getComponentByEntity(l),p=f.geometry,v=this.transform.getComponentByEntity(l),p&&p.aabb&&v&&f.aabbDirty&&(g=v.worldTransform,m=p.aabb,y=m.center,b=m.halfExtents,x=G.fF(G.Ue(),y,g),u=g,(S=U.create())[0]=u[0],S[1]=u[1],S[2]=u[2],S[3]=u[4],S[4]=u[5],S[5]=u[6],S[6]=u[8],S[7]=u[9],S[8]=u[10],w=S,_=G.kK(G.Ue(),b,w),f.aabb.update(x,_),f.aabbDirty=!1),h&&p&&(E=this.cullable.getComponentByEntity((null===d||void 0===d?void 0:d.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(f.aabb,(null===E||void 0===E?void 0:E.visibilityPlaneMask)||Te.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==Te.OUTSIDE))}catch(k){s.e(k)}finally{s.f()}}}catch(k){n.e(k)}finally{n.f()}case 2:case"end":return e.stop()}var u,S}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===Te.OUTSIDE||t===Te.INSIDE)return t;for(var r=Te.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,c=s.distance;if(G.AK(u,e.getNegativeFarPoint(n[i]))+c>0)return Te.OUTSIDE;G.AK(u,e.getPositiveFarPoint(n[i]))+c>0&&(r|=a)}}return r}}]),e}(),Ue=a((ze=Ye).prototype,"mesh",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=a(ze.prototype,"cullable",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=a(ze.prototype,"geometry",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=a(ze.prototype,"hierarchy",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=a(ze.prototype,"transform",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=ze))||Be);function $e(){var e=new j.WT(16);return j.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Je(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,_=r*c-o*s,E=i*c-o*u,S=l*v-f*p,k=l*g-d*p,C=l*m-h*p,M=f*g-d*v,O=f*m-h*v,N=d*m-h*g,T=y*N-b*O+x*M+w*C-_*k+E*S;return T?(T=1/T,e[0]=(s*N-u*O+c*M)*T,e[1]=(i*O-r*N-o*M)*T,e[2]=(v*E-g*_+m*w)*T,e[3]=(d*_-f*E-h*w)*T,e[4]=(u*C-a*N-c*k)*T,e[5]=(n*N-i*C+o*k)*T,e[6]=(g*x-p*E-m*b)*T,e[7]=(l*E-d*x+h*b)*T,e[8]=(a*O-s*C+c*S)*T,e[9]=(r*C-n*O-o*S)*T,e[10]=(p*_-v*x+m*y)*T,e[11]=(f*x-l*_-h*y)*T,e[12]=(s*k-a*M-u*S)*T,e[13]=(n*M-r*k+i*S)*T,e[14]=(v*b-p*w-g*y)*T,e[15]=(l*w-f*b+d*y)*T,e):null}function tt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],b=n[0],x=n[1],w=n[2],_=n[3];return e[0]=b*r+x*s+w*f+_*v,e[1]=b*i+x*u+w*d+_*g,e[2]=b*o+x*c+w*h+_*m,e[3]=b*a+x*l+w*p+_*y,b=n[4],x=n[5],w=n[6],_=n[7],e[4]=b*r+x*s+w*f+_*v,e[5]=b*i+x*u+w*d+_*g,e[6]=b*o+x*c+w*h+_*m,e[7]=b*a+x*l+w*p+_*y,b=n[8],x=n[9],w=n[10],_=n[11],e[8]=b*r+x*s+w*f+_*v,e[9]=b*i+x*u+w*d+_*g,e[10]=b*o+x*c+w*h+_*m,e[11]=b*a+x*l+w*p+_*y,b=n[12],x=n[13],w=n[14],_=n[15],e[12]=b*r+x*s+w*f+_*v,e[13]=b*i+x*u+w*d+_*g,e[14]=b*o+x*c+w*h+_*m,e[15]=b*a+x*l+w*p+_*y,e}function nt(e,t,n){var r,i,o,a,s,u,c,l,f,d,h,p,v=n[0],g=n[1],m=n[2];return t===e?(e[12]=t[0]*v+t[4]*g+t[8]*m+t[12],e[13]=t[1]*v+t[5]*g+t[9]*m+t[13],e[14]=t[2]*v+t[6]*g+t[10]*m+t[14],e[15]=t[3]*v+t[7]*g+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*v+s*g+f*m+t[12],e[13]=i*v+u*g+d*m+t[13],e[14]=o*v+c*g+h*m+t[14],e[15]=a*v+l*g+p*m+t[15]),e}function rt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function it(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,l),e}function ot(e,t){var n=new j.WT(3);it(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,c=t[4]*r,l=t[5]*i,f=t[6]*o,d=t[8]*r,h=t[9]*i,p=t[10]*o,v=a+l+p,g=0;return v>0?(g=2*Math.sqrt(v+1),e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-u)/g,e[2]=(s-c)/g):a>l&&a>p?(g=2*Math.sqrt(1+a-l-p),e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+u)/g):l>p?(g=2*Math.sqrt(1+l-a-p),e[3]=(d-u)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=2*Math.sqrt(1+p-a-l),e[3]=(s-c)/g,e[0]=(d+u)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function at(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,v=o*a,g=o*s,m=o*u;return e[0]=1-f-p,e[1]=l+m,e[2]=d-g,e[3]=0,e[4]=l-m,e[5]=1-c-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var st=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var ut=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e};var ct,lt,ft,dt,ht,pt,vt,gt,mt,yt,bt,xt,wt,_t,Et,St,kt,Ct,Mt,Ot,Nt,Tt,At,Pt;function It(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt,Lt,jt,Ft,Bt,zt,Ut,Gt,Vt,Zt,Wt,Yt,Ht,qt=(ct=(0,v.b2)(),lt=(0,v.f3)(g.MeshComponentManager),ft=(0,v.f3)(g.GeometryComponentManager),dt=(0,v.f3)(g.MaterialComponentManager),ht=(0,v.f3)(g.CullableComponentManager),pt=(0,v.f3)(g.TransformComponentManager),vt=(0,v.f3)(g.HierarchyComponentManager),gt=(0,v.f3)(g.Systems),mt=(0,v.t6)(g.FrameGraphSystem),yt=(0,v.f3)(g.RenderEngine),bt=(0,v.f3)(g.ResourcePool),ct((Pt=At=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"mesh",_t,this),r(this,"geometry",Et,this),r(this,"material",St,this),r(this,"cullable",kt,this),r(this,"transform",Ct,this),r(this,"hierarchy",Mt,this),r(this,"frameGraphSystem",Ot,this),r(this,"engine",Nt,this),r(this,"resourcePool",Tt,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:$.RENDER_ATTACHMENT|$.SAMPLED|$.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r,i){var o,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=It(i),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=11;break}return l=c.value,e.next=9,t.initView(l);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:f=t.engine.getCanvas(),a.resize({width:f.width,height:f.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=It(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=tt($e(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,c=o.height;this.engine.viewport({x:a,y:s,width:u,height:c});var l,f=It(t.getEntities());try{for(f.s();!(l=f.n()).done;){var d=l.value;this.renderMesh(d,{camera:n,view:e,viewMatrix:r})}}catch(h){f.e(h)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),c=tt($e(),i,u.worldTransform),l=r.getViewport(),f=l.width,d=l.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:c,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[f,d]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,i,o,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,c=s.createModel,l=s.createAttribute,f={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=l({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:i.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(f.cull=i.cull),i.depth&&(f.depth=i.depth),i.blend&&(f.blend=i.blend),o.indicesBuffer&&(f.elements=o.indicesBuffer),o.maxInstancedCount&&(f.instances=o.maxInstancedCount,f.count=o.vertexCount||3),e.next=22,c(f);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=It(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),At.IDENTIFIER="Render Pass",_t=a((wt=Pt).prototype,"mesh",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=a(wt.prototype,"geometry",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(wt.prototype,"material",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(wt.prototype,"cullable",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(wt.prototype,"transform",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(wt.prototype,"hierarchy",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=a(wt.prototype,"frameGraphSystem",[gt,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=a(wt.prototype,"engine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(wt.prototype,"resourcePool",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=wt))||xt);function Xt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t,Qt,Jt,en,tn,nn,rn,on,an,sn,un,cn,ln,fn,dn,hn,pn,vn,gn,mn,yn,bn,xn=1,wn=2,_n=(Rt=(0,v.b2)(),Lt=(0,v.f3)(g.RenderEngine),jt=(0,v.f3)(g.ResourcePool),Ft=(0,v.f3)(g.RenderPassFactory),Bt=(0,v.f3)(g.MeshComponentManager),Rt((Ht=Yt=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",Gt,this),r(this,"resourcePool",Vt,this),r(this,"renderPassFactory",Zt,this),r(this,"mesh",Wt,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r,i){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=Xt(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(qt.IDENTIFIER),i=[],o=Xt(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",xn),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach((function(e){e.material.setUniform("u_PickingStage",wn)})),t.alreadyInRendering=!1}))},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,c=s.useFramebuffer,l=n.getViewport(),f=l.width,d=l.height,h=o*window.devicePixelRatio,v=a*window.devicePixelRatio;if(!(h>f||h<0||v>d||v<0))return c(t.pickingFBO,(function(){0===(r=u({x:Math.round(h),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=function(e){var t=(0,p.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),i}}return(0,o.Z)(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=Xt(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",wn),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),Yt.IDENTIFIER="PixelPicking Pass",Gt=a((Ut=Ht).prototype,"engine",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=a(Ut.prototype,"resourcePool",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=a(Ut.prototype,"renderPassFactory",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Ut.prototype,"mesh",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Ut))||zt),En=($t=(0,v.b2)(),Qt=(0,v.f3)(g.RenderEngine),Jt=(0,v.f3)(g.ResourcePool),$t((an=on=function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",nn,this),r(this,"resourcePool",rn,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(qt.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r){var i,o,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:$.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:c=e.sent,t.model=c;case 6:l=n.getResourceNode(r.data.input),f=t.resourcePool.getOrCreateResource(l.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},on.IDENTIFIER="Copy Pass",nn=a((tn=an).prototype,"engine",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=a(tn.prototype,"resourcePool",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=tn))||en),Sn=(sn=(0,v.b2)(),un=(0,v.f3)(g.Systems),cn=(0,v.t6)(g.FrameGraphSystem),ln=(0,v.f3)(g.RenderPassFactory),fn=(0,v.f3)(g.ConfigService),dn=(0,v.f3)(g.ResourcePool),sn((bn=function(){function e(){(0,i.Z)(this,e),r(this,"frameGraphSystem",vn,this),r(this,"renderPassFactory",gn,this),r(this,"configService",mn,this),r(this,"resourcePool",yn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,i,o,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(qt.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(qt.IDENTIFIER,r,i),o=this.renderPassFactory(En.IDENTIFIER),a=o.setup,s=o.execute,c=o.tearDown,l=this.frameGraphSystem.addPass(En.IDENTIFIER,a,s,c),this.frameGraphSystem.present(l.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(_n.IDENTIFIER).pick(e,t)}}]),e}(),vn=a((pn=bn).prototype,"frameGraphSystem",[un,cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=a(pn.prototype,"renderPassFactory",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=a(pn.prototype,"configService",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=a(pn.prototype,"resourcePool",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=pn))||hn);function kn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Cn,Mn,On,Nn,Tn,An,Pn,In,Dn,Rn,Ln=function(e){(0,x.Z)(n,e);var t=kn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign((0,L.Z)(r),e),r}return n}(d),jn=(Cn=(0,v.b2)(),Mn=(0,v.f3)(g.HierarchyComponentManager),On=(0,v.f3)(g.TransformComponentManager),Nn=(0,v.f3)(g.MeshComponentManager),Cn((Rn=function(){function e(){(0,i.Z)(this,e),r(this,"hierarchy",Pn,this),r(this,"transform",In,this),r(this,"mesh",Dn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(et($e(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),Pn=a((An=Rn).prototype,"hierarchy",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=a(An.prototype,"transform",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=a(An.prototype,"mesh",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=An))||Tn);function Fn(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Bn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function zn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-r*c,e[2]=o*l+a*c+r*u-i*s,e[3]=a*l-r*s-i*u-o*c,e}function Un(e,t,n,r){var i,o,a,s,u,c=t[0],l=t[1],f=t[2],d=t[3],h=n[0],p=n[1],v=n[2],g=n[3];return(o=c*h+l*p+f*v+d*g)<0&&(o=-o,h=-h,p=-p,v=-v,g=-g),1-o>j.Ib?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*c+u*h,e[1]=s*l+u*p,e[2]=s*f+u*v,e[3]=s*d+u*g,e}function Gn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Vn(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=o*u*l-a*s*c,e[1]=a*s*l+o*u*c,e[2]=a*u*c-o*s*l,e[3]=a*u*l+o*s*c,e}var Zn=B,Wn=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Yn=zn,Hn=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};(function(){var e=G.Ue(),t=G.al(1,0,0),n=G.al(0,1,0)})(),function(){var e=Fn(),t=Fn()}(),function(){var e=U.create()}();function qn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Xn=function(e){(0,x.Z)(n,e);var t=qn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=G.al(0,0,0),r.localRotation=Zn(0,0,0,1),r.localScale=G.al(1,1,1),r.localTransform=$e(),r.position=G.al(0,0,0),r.rotation=Zn(0,0,0,1),r.scaling=G.al(1,1,1),r.worldTransform=$e(),r.matrixTransform=function(){var e=$e();return function(t){tt(e,r.getLocalTransform(),t),it(r.localScale,e),rt(r.localPosition,e),ot(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=Fn(),t=Fn(),n=Fn();return function(i,o,a){r.setDirty(),Vn(e,i,0,0),Vn(t,0,o,0),Vn(n,0,0,a),zn(r.localRotation,e,r.localRotation),zn(r.localRotation,r.localRotation,t),zn(r.localRotation,n,r.localRotation),Hn(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=G.Ue(),t=Fn(),n=G.Ue(),i=G.Ue(),o=Fn(),a=G.Ue();return function(s,u,c){r.setDirty(),it(e,s.worldTransform),rt(n,s.worldTransform),ot(t,s.worldTransform),it(i,u.worldTransform),rt(a,u.worldTransform),ot(o,u.worldTransform),G.t7(r.localScale,e,i,c),Un(r.localRotation,t,o,c),G.t7(r.localPosition,n,a,c)}}(),r.translate=function(){var e=G.Ue();return function(t){return G.IH(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),(0,L.Z)(r)}}(),r.translateLocal=function(e){return G.VC(e,e,r.localRotation),G.IH(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),(0,L.Z)(r)},r.setPosition=function(){var e=$e();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?G.JG(r.localPosition,t):(Qe(e,r.parent.worldTransform),et(e,e),G.fF(r.localPosition,t,e)),(0,L.Z)(r)}}(),r.rotate=function(){var e=Fn();return function(t){if(null===r.parent)zn(r.localRotation,r.localRotation,t),Hn(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();Wn(e,i),Gn(e,e),zn(e,e,t),zn(r.localRotation,t,n),Hn(r.localRotation,r.localRotation)}return r.setLocalDirty(),(0,L.Z)(r)}}(),r.rotateLocal=function(e){return zn(r.localRotation,r.localRotation,e),Hn(r.localRotation,r.localRotation),r.setLocalDirty(!0),(0,L.Z)(r)},r.setRotation=function(){var e=Fn();return function(t){return null===r.parent?Wn(r.localRotation,t):(Wn(e,r.parent.getRotation()),Gn(e,e),Wn(r.localRotation,e),Yn(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),(0,L.Z)(r)}}(),r}return(0,o.Z)(n,[{key:"setLocalPosition",value:function(e){G.JG(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){G.JG(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return Wn(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(Qe(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){tt(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),it(this.localScale,this.worldTransform),rt(this.localPosition,this.worldTransform),ot(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=G.al(0,0,0),this.localRotation=Zn(0,0,0,1),this.localScale=G.al(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),G.Jp(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(!function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,c=o+o,l=a+a,f=i*u,d=i*c,h=i*l,p=o*c,v=o*l,g=a*l,m=s*u,y=s*c,b=s*l,x=r[0],w=r[1],_=r[2];e[0]=(1-(p+g))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+g))*w,e[6]=(v+m)*w,e[7]=0,e[8]=(h+y)*_,e[9]=(v-m)*_,e[10]=(1-(f+p))*_,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1}(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return rt(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return ot(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return it(this.scaling,this.worldTransform),this.scaling}}]),n}(d);Xn.DIRTY=1;var Kn,$n,Qn,Jn,er,tr,nr=n(45696),rr=(Kn=(0,v.b2)(),$n=(0,v.f3)(g.RenderEngine),Kn((tr=function(){function e(){(0,i.Z)(this,e),r(this,"engine",er,this),this.resourcePool={}}return(0,o.Z)(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:$.CLAMP_TO_EDGE,wrapT:$.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),er=a((Jn=tr).prototype,"engine",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=Jn))||Qn);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var or,ar,sr,ur,cr=function(e){(0,x.Z)(n,e);var t=ir(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(d),lr=(0,v.b2)()((ar=function(){function e(){(0,i.Z)(this,e),this.config=void 0}return(0,o.Z)(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),or=ar))||or;!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(ur||(ur={}));var fr=(0,v.b2)()(sr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||sr;var dr,hr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function vr(e){var t={};return{content:e=e.replace(pr,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),uniforms:t}}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yr=/precision\s+(high|low|medium)p\s+float/,br=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,xr=(0,v.b2)()((hr=function(){function e(){(0,i.Z)(this,e),this.moduleCache={},this.rawContentCache={}}return(0,o.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=vr(r),u=s.content,c=s.uniforms,l=vr(o),f=l.content,d=l.uniforms;this.rawContentCache[e]={fs:f,uniforms:mr(mr(mr({},c),d),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),c=u.content,l=u.includeList,f=c,d=(n=s.concat(l).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return mr(mr({},e),t.rawContentCache[n].uniforms)}),{});return yr.test(c)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+c),this.moduleCache[e]={fs:f.trim(),uniforms:d,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(br,(function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}(),dr=hr))||dr,wr=new v.W2;(0,nr.Z)(wr,!1);function _r(){var e=new v.W2;return e.parent=wr,e.bind(g.Systems).to(jn).inSingletonScope().whenTargetNamed(g.SceneGraphSystem),e.bind(g.Systems).to(D).inSingletonScope().whenTargetNamed(g.FrameGraphSystem),e.bind(g.Systems).to(Ke).inSingletonScope().whenTargetNamed(g.MeshSystem),e.bind(g.Systems).to(se).inSingletonScope().whenTargetNamed(g.GeometrySystem),e.bind(g.Systems).to(ke).inSingletonScope().whenTargetNamed(g.MaterialSystem),e.bind(g.Systems).to(Sn).inSingletonScope().whenTargetNamed(g.RendererSystem),e.bind(g.ResourcePool).to(rr).inSingletonScope(),e.bind(g.ConfigService).to(lr).inSingletonScope(),e.bind(g.InteractorService).to(fr).inSingletonScope(),e.bind(g.RenderPass).to(qt).inSingletonScope().whenTargetNamed(qt.IDENTIFIER),e.bind(g.RenderPass).to(En).inSingletonScope().whenTargetNamed(En.IDENTIFIER),e.bind(g.RenderPass).to(_n).inSingletonScope().whenTargetNamed(_n.IDENTIFIER),e.bind(g.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(g.RenderPass,t)}})),e}function Er(e){for(var t=new Oe,n=G.al(e[0],e[1],e[2]),r=G.al(e[0],e[1],e[2]),i=3;i<e.length;){var o=e[i++],a=e[i++],s=e[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}wr.bind(g.ShaderModuleService).to(xr).inSingletonScope(),wr.bind(g.NameComponentManager).toConstantValue(new h(cr)),wr.bind(g.HierarchyComponentManager).toConstantValue(new h(Ln)),wr.bind(g.TransformComponentManager).toConstantValue(new h(Xn)),wr.bind(g.MeshComponentManager).toConstantValue(new h(Ae)),wr.bind(g.CullableComponentManager).toConstantValue(new h(Me)),wr.bind(g.GeometryComponentManager).toConstantValue(new h(ae)),wr.bind(g.MaterialComponentManager).toConstantValue(new h(we));var Sr,kr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),n(30736),n(4566),n(68783),n(22332),n(51326),n(71101);!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(Sr||(Sr={}));var Cr,Mr,Or,Nr;n(50930),n(32929),n(45760),n(90678),n(3543),n(39102);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(Cr||(Cr={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Mr||(Mr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Or||(Or={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Nr||(Nr={}));function Tr(e){return"number"===typeof e}function Ar(e){return void 0===e?0:e>360||e<-360?e%360:e}function Pr(e,t,n){return Tr(e)?G.al(e,t,n):3===e.length?G.d9(e):G.al(e[0],e[1],e[2])}var Ir,Dr,Rr,Lr,jr,Fr,Br,zr,Ur,Gr,Vr=function(){function e(t,n){(0,i.Z)(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=function(e){var t=new j.WT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}(n.matrix),this.right=G.d9(n.right),this.up=G.d9(n.up),this.forward=G.d9(n.forward),this.position=G.d9(n.position),this.focalPoint=G.d9(n.focalPoint),this.distanceVector=G.d9(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return(0,o.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=Qe(e.matrix,this.matrix),e.right=G.JG(e.right,this.right),e.up=G.JG(e.up,this.up),e.forward=G.JG(e.forward,this.forward),e.position=G.JG(e.position,this.position),e.focalPoint=G.JG(e.focalPoint,this.focalPoint),e.distanceVector=G.JG(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(zr||(zr={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(Ur||(Ur={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(Gr||(Gr={}));var Zr,Wr,Yr,Hr,qr,Xr,Kr,$r=Math.PI/180,Qr=180/Math.PI,Jr=(Ir=(0,v.b2)(),Dr=(0,v.f3)(g.InteractorService),Ir((Br=Fr=function(){function e(){(0,i.Z)(this,e),this.matrix=$e(),this.right=G.al(1,0,0),this.up=G.al(0,1,0),this.forward=G.al(0,0,1),this.position=G.al(0,0,1),this.focalPoint=G.al(0,0,0),this.distanceVector=G.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,r(this,"interactor",jr,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=$e(),this.view=void 0,this.following=void 0,this.type=zr.EXPLORING,this.trackingMode=Ur.DEFAULT,this.projectionMode=Gr.PERSPECTIVE,this.frustum=new He,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,o.Z)(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===zr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===zr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==zr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return et($e(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=Gr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,st(this.perspective,this.fov*$r,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=Gr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,l=u-a,f=u+a,d=c+s,h=c-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(l+=p*this.view.offsetX)+p*this.view.width,h=(d-=v*this.view.offsetY)-v*this.view.height}return ut(this.perspective,l,f,d,h,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=G.al(0,1,0);if(this.focalPoint=Pr(e,t,n),this.trackingMode===Ur.CINEMATIC){var i=G.$X(G.Ue(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=G.kE(i),a=Math.asin(t/o)*Qr,s=90+Math.atan2(n,e)*Qr,u=$e();!function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-l*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=o*r+c*i,e[9]=a*r+l*i,e[10]=s*r+f*i,e[11]=u*r+d*i}(u,u,s*$r),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=f*i-s*r,e[11]=d*i-u*r}(u,u,a*$r),r=G.fF(G.Ue(),[0,1,0],u)}return et(this.matrix,function(e,t,n,r){var i,o,a,s,u,c,l,f,d,h,p=t[0],v=t[1],g=t[2],m=r[0],y=r[1],b=r[2],x=n[0],w=n[1],_=n[2];return Math.abs(p-x)<j.Ib&&Math.abs(v-w)<j.Ib&&Math.abs(g-_)<j.Ib?Je(e):(l=p-x,f=v-w,d=g-_,i=y*(d*=h=1/Math.hypot(l,f,d))-b*(f*=h),o=b*(l*=h)-m*d,a=m*f-y*l,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=f*a-d*o,u=d*i-l*a,c=l*o-f*i,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=o,e[5]=u,e[6]=f,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+o*v+a*g),e[13]=-(s*p+u*v+c*g),e[14]=-(l*p+f*v+d*g),e[15]=1,e)}($e(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=G.Ue();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Ar(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Ar(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Ar(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===zr.EXPLORING){e=Ar(e),t=Ar(t),n=Ar(n);var r=Bn(Fn(),[1,0,0],(this.rotateWorld?1:-1)*t*$r),i=Bn(Fn(),[0,1,0],(this.rotateWorld?1:-1)*e*$r),o=Bn(Fn(),[0,0,1],n*$r),a=zn(Fn(),i,r);a=zn(Fn(),a,o);var s=at($e(),a);nt(this.matrix,this.matrix,[0,0,-this.distance]),tt(this.matrix,this.matrix,s),nt(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Ar(t),this.relAzimuth=Ar(e),this.relRoll=Ar(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Pr(e,t,0),r=G.d9(this.position);return G.IH(r,r,G.bA(G.Ue(),this.right,n[0])),G.IH(r,r,G.bA(G.Ue(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=G.d9(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getDistance():this.type===zr.TRACKING&&G.IH(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new Vr(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new Vr(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===i&&(i=r);var u,c=r-i,l=(1-Math.cos(c/n*Math.PI))/2,f=G.Ue(),d=G.Ue();if(G.t7(f,t.focalPoint,a,l),G.t7(d,t.position,o,l),u=t.roll*(1-l)+s*l,t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),!(G.TK(f,a)+G.TK(d,o)>.01))return t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();c<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Bn(Fn(),[0,0,1],this.roll*$r);Je(this.matrix),e=Bn(Fn(),[1,0,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.elevation*$r),t=Bn(Fn(),[0,1,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.azimuth*$r);var r=zn(Fn(),t,e);r=zn(Fn(),r,n);var i=at($e(),r);this.type===zr.ORBITING||this.type===zr.EXPLORING?(nt(this.matrix,this.matrix,this.focalPoint),tt(this.matrix,this.matrix,i),nt(this.matrix,this.matrix,[0,0,this.distance])):this.type===zr.TRACKING&&(nt(this.matrix,this.matrix,this.position),tt(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Pr(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){G.JG(this.right,Pr(z(F(),[1,0,0,0],this.matrix))),G.JG(this.up,Pr(z(F(),[0,1,0,0],this.matrix))),G.JG(this.forward,Pr(z(F(),[0,0,1,0],this.matrix))),G.Fv(this.right,this.right),G.Fv(this.up,this.up),G.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=G.kE(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===zr.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*Qr,this.azimuth=Math.atan2(-e,-n)*Qr):(this.elevation=-Math.asin(t/r)*Qr,this.azimuth=-Math.atan2(-e,-n)*Qr)}},{key:"_getPosition",value:function(){G.JG(this.position,Pr(z(F(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){G.kK(this.distanceVector,[0,0,-this.distance],U.fromMat4(U.create(),this.matrix)),G.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=G.$X(G.Ue(),this.focalPoint,this.position),this.distance=G.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),Fr.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},jr=a((Lr=Br).prototype,"interactor",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=Lr))||Rr),ei=(Zr=(0,v.b2)(),Wr=(0,v.f3)(g.GeometryComponentManager),Zr((Kr=Xr=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"geometry",qr,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Xr.BOX="box",Xr.SPHERE="sphere",Xr.PLANE="plane",Xr.MERGED="merged",qr=a((Hr=Kr).prototype,"geometry",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=Hr))||Yr),ti=n(45511);function ni(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var ri={}.toString,ii=function(e,t){return ri.call(e)==="[object "+t+"]"},oi=9007199254740991,ai={};ai["[object Float32Array]"]=ai["[object Float64Array]"]=ai["[object Int8Array]"]=ai["[object Int16Array]"]=ai["[object Int32Array]"]=ai["[object Uint8Array]"]=ai["[object Uint8ClampedArray]"]=ai["[object Uint16Array]"]=ai["[object Uint32Array]"]=!0,ai["[object Arguments]"]=ai["[object Array]"]=ai["[object ArrayBuffer]"]=ai["[object Boolean]"]=ai["[object DataView]"]=ai["[object Date]"]=ai["[object Error]"]=ai["[object Function]"]=ai["[object Map]"]=ai["[object Number]"]=ai["[object Object]"]=ai["[object RegExp]"]=ai["[object Set]"]=ai["[object String]"]=ai["[object WeakMap]"]=!1;var si=Object.prototype.toString;var ui,ci,li,fi,di,hi,pi,vi,gi=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=oi}(e.length)&&!!ai[si.call(e)]};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi,xi,wi,_i,Ei,Si,ki,Ci,Mi,Oi,Ni,Ti,Ai,Pi,Ii,Di,Ri,Li,ji,Fi,Bi,zi,Ui,Gi,Vi,Zi,Wi,Yi,Hi,qi,Xi,Ki,$i,Qi,Ji,eo=(ui=(0,v.b2)(),ci=(0,v.f3)(g.RenderEngine),li=(0,v.f3)(g.ConfigService),ui((vi=function(){function e(){(0,i.Z)(this,e),r(this,"engine",hi,this),r(this,"configService",pi,this),this.entity=f(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(yi({canvas:t||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=Tr(t)||gi(t)||(n=t,Array.isArray?Array.isArray(n):ii(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===Or.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=yi({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Nr.WGSL:Nr.GLSL450:Nr.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat("__DefineValuePlaceholder__").concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===Or.StorageBuffer){var n=1;e.type===Cr.FloatArray?n=1:e.type===Cr.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=a((di=vi).prototype,"engine",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=a(di.prototype,"configService",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=di))||fi),to=(bi=(0,v.b2)(),xi=(0,v.f3)(g.MaterialComponentManager),bi((ki=Si=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"material",Ei,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Si.BASIC="basic",Ei=a((_i=ki).prototype,"material",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=_i))||wi),no=(Ci=(0,v.b2)(),Mi=(0,v.f3)(g.MeshComponentManager),Oi=(0,v.f3)(g.CullableComponentManager),Ni=(0,v.f3)(g.TransformComponentManager),Ti=(0,v.f3)(g.Systems),Ai=(0,v.t6)(g.SceneGraphSystem),Ci((Bi=Fi=function(){function e(){(0,i.Z)(this,e),this.attributes={},this.config=void 0,r(this,"mesh",Di,this),r(this,"cullable",Ri,this),r(this,"transform",Li,this),r(this,"sceneGraphSystem",ji,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),Fi.POINT="point",Fi.LINE="line",Fi.GRID="grid",Di=a((Ii=Bi).prototype,"mesh",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=a(Ii.prototype,"cullable",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=a(Ii.prototype,"transform",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=a(Ii.prototype,"sceneGraphSystem",[Ti,Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=Ii))||Pi),ro=n(39084),io=n.n(ro),oo=function(){function e(t,n){(0,i.Z)(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,a=n.stride,s=n.normalized,u=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:c||0},u&&(this.attribute.size=u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ao=(zi={},(0,R.Z)(zi,$.POINTS,"points"),(0,R.Z)(zi,$.LINES,"lines"),(0,R.Z)(zi,$.LINE_LOOP,"line loop"),(0,R.Z)(zi,$.LINE_STRIP,"line strip"),(0,R.Z)(zi,$.TRIANGLES,"triangles"),(0,R.Z)(zi,$.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(zi,$.TRIANGLE_STRIP,"triangle strip"),zi),so=(Ui={},(0,R.Z)(Ui,$.STATIC_DRAW,"static"),(0,R.Z)(Ui,$.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(Ui,$.STREAM_DRAW,"stream"),Ui),uo=(Gi={},(0,R.Z)(Gi,$.BYTE,"int8"),(0,R.Z)(Gi,$.UNSIGNED_INT,"int16"),(0,R.Z)(Gi,$.INT,"int32"),(0,R.Z)(Gi,$.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Gi,$.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Gi,$.UNSIGNED_INT,"uint32"),(0,R.Z)(Gi,$.FLOAT,"float"),Gi),co=(Vi={},(0,R.Z)(Vi,$.ALPHA,"alpha"),(0,R.Z)(Vi,$.LUMINANCE,"luminance"),(0,R.Z)(Vi,$.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(Vi,$.RGB,"rgb"),(0,R.Z)(Vi,$.RGBA,"rgba"),(0,R.Z)(Vi,$.RGBA4,"rgba4"),(0,R.Z)(Vi,$.RGB5_A1,"rgb5 a1"),(0,R.Z)(Vi,$.RGB565,"rgb565"),(0,R.Z)(Vi,$.DEPTH_COMPONENT,"depth"),(0,R.Z)(Vi,$.DEPTH_STENCIL,"depth stencil"),Vi),lo=(Zi={},(0,R.Z)(Zi,$.DONT_CARE,"dont care"),(0,R.Z)(Zi,$.NICEST,"nice"),(0,R.Z)(Zi,$.FASTEST,"fast"),Zi),fo=(Wi={},(0,R.Z)(Wi,$.NEAREST,"nearest"),(0,R.Z)(Wi,$.LINEAR,"linear"),(0,R.Z)(Wi,$.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(Wi,$.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(Wi,$.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(Wi,$.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Wi),ho=(Yi={},(0,R.Z)(Yi,$.REPEAT,"repeat"),(0,R.Z)(Yi,$.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(Yi,$.MIRRORED_REPEAT,"mirror"),Yi),po=(Hi={},(0,R.Z)(Hi,$.NONE,"none"),(0,R.Z)(Hi,$.BROWSER_DEFAULT_WEBGL,"browser"),Hi),vo=(qi={},(0,R.Z)(qi,$.NEVER,"never"),(0,R.Z)(qi,$.ALWAYS,"always"),(0,R.Z)(qi,$.LESS,"less"),(0,R.Z)(qi,$.LEQUAL,"lequal"),(0,R.Z)(qi,$.GREATER,"greater"),(0,R.Z)(qi,$.GEQUAL,"gequal"),(0,R.Z)(qi,$.EQUAL,"equal"),(0,R.Z)(qi,$.NOTEQUAL,"notequal"),qi),go=(Xi={},(0,R.Z)(Xi,$.FUNC_ADD,"add"),(0,R.Z)(Xi,$.MIN_EXT,"min"),(0,R.Z)(Xi,$.MAX_EXT,"max"),(0,R.Z)(Xi,$.FUNC_SUBTRACT,"subtract"),(0,R.Z)(Xi,$.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Xi),mo=(Ki={},(0,R.Z)(Ki,$.ZERO,"zero"),(0,R.Z)(Ki,$.ONE,"one"),(0,R.Z)(Ki,$.SRC_COLOR,"src color"),(0,R.Z)(Ki,$.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(Ki,$.SRC_ALPHA,"src alpha"),(0,R.Z)(Ki,$.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(Ki,$.DST_COLOR,"dst color"),(0,R.Z)(Ki,$.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(Ki,$.DST_ALPHA,"dst alpha"),(0,R.Z)(Ki,$.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(Ki,$.CONSTANT_COLOR,"constant color"),(0,R.Z)(Ki,$.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(Ki,$.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(Ki,$.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(Ki,$.SRC_ALPHA_SATURATE,"src alpha saturate"),Ki),yo=($i={},(0,R.Z)($i,$.NEVER,"never"),(0,R.Z)($i,$.ALWAYS,"always"),(0,R.Z)($i,$.LESS,"less"),(0,R.Z)($i,$.LEQUAL,"lequal"),(0,R.Z)($i,$.GREATER,"greater"),(0,R.Z)($i,$.GEQUAL,"gequal"),(0,R.Z)($i,$.EQUAL,"equal"),(0,R.Z)($i,$.NOTEQUAL,"notequal"),$i),bo=(Qi={},(0,R.Z)(Qi,$.ZERO,"zero"),(0,R.Z)(Qi,$.KEEP,"keep"),(0,R.Z)(Qi,$.REPLACE,"replace"),(0,R.Z)(Qi,$.INVERT,"invert"),(0,R.Z)(Qi,$.INCR,"increment"),(0,R.Z)(Qi,$.DECR,"decrement"),(0,R.Z)(Qi,$.INCR_WRAP,"increment wrap"),(0,R.Z)(Qi,$.DECR_WRAP,"decrement wrap"),Qi),xo=(Ji={},(0,R.Z)(Ji,$.FRONT,"front"),(0,R.Z)(Ji,$.BACK,"back"),Ji),wo=function(){function e(t,n){(0,i.Z)(this,e),this.buffer=void 0;var r=n.data,o=n.usage,a=n.type;this.buffer=t.buffer({data:r,usage:so[o||$.STATIC_DRAW],type:uo[a||$.UNSIGNED_BYTE]})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),_o=n(93433),Eo=9007199254740991,So={};So["[object Float32Array]"]=So["[object Float64Array]"]=So["[object Int8Array]"]=So["[object Int16Array]"]=So["[object Int32Array]"]=So["[object Uint8Array]"]=So["[object Uint8ClampedArray]"]=So["[object Uint16Array]"]=So["[object Uint32Array]"]=!0,So["[object Arguments]"]=So["[object Array]"]=So["[object ArrayBuffer]"]=So["[object Boolean]"]=So["[object DataView]"]=So["[object Date]"]=So["[object Error]"]=So["[object Function]"]=So["[object Map]"]=So["[object Number]"]=So["[object Object]"]=So["[object RegExp]"]=So["[object Set]"]=So["[object String]"]=So["[object WeakMap]"]=!1;var ko=Object.prototype.toString;var Co=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=Eo}(e.length)&&!!So[ko.call(e)]};function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=0,To=function(){function e(t,n){var r=this;(0,i.Z)(this,e),this.reGl=t,this.context=n,this.entity=f(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,i=e.data,a=e.isReferer,s=e.storageClass;if(s===Or.StorageBuffer){if(a)r.textureCache[t]={data:void 0},o["".concat(t,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,i);var u=r.textureCache[t],c=u.textureWidth,l=u.isOutput;o["".concat(t,"Size")]=[c,c],l&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,i)))}o[t]=function(){return r.textureCache[t].texture}}else if(s===Or.Uniform){if(i&&(Array.isArray(i)||Co(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[t]=function(){return e.data}}}));var a=this.getOuputDataTexture(),s=a.textureWidth,u=a.texelCount;o.u_OutputTextureSize=[s,s],o.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var c={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(c)}return(0,o.Z)(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o,a,s,c,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=l.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(c=0;c<t.length;c+=4)1===i?s.push(t[c]):2===i?s.push(t[c],t[c+1]):s.push(t[c],t[c+1],t[c+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return Oo(Oo({},e),{},{id:No++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===Cr.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),c=u*u;s<c&&i.push.apply(i,(0,_o.Z)(new Array(4*(c-s)).fill(0)));var l=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:No++,data:i,originalDataLength:a,typedArrayConstructor:Co(n)?n.constructor:void 0,textureWidth:u,texture:l,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),Ao=function(){function e(t,n){(0,i.Z)(this,e),this.elements=void 0;var r=n.data,o=n.usage,a=n.type,s=n.count;this.elements=t.elements({data:r,usage:so[o||$.STATIC_DRAW],type:uo[a||$.UNSIGNED_BYTE],count:s})}return(0,o.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Po=function(){function e(t,n){(0,i.Z)(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,a=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(s)&&(u.colors=s.map((function(e){return e.get()}))),a&&"boolean"!==typeof a&&(u.color=a.get()),this.framebuffer=t.framebuffer(u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function Io(e){var t={};return Object.keys(e).forEach((function(n){Do(n,e[n],t,"")})),t}function Do(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||Co(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=(0,V.Z)(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(i){Do(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(o){Do(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jo,Fo,Bo,zo=function(){function e(t,n){(0,i.Z)(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,a=n.defines,s=n.attributes,u=n.uniforms,c=n.primitive,l=n.count,f=n.elements,d=n.depth,h=n.blend,p=n.stencil,v=n.cull,g=n.instances,m=n.scissor,y=n.viewport,b={};u&&(this.uniforms=Io(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var x={};Object.keys(s).forEach((function(e){x[e]=s[e].get()}));var w=a&&this.generateDefines(a)||"",_={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(o),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:ao[void 0===c?$.TRIANGLES:c]};g&&(_.instances=g),l&&(_.count=l),f&&(_.elements=f.get()),m&&(_.scissor=m),y&&(_.viewport=y),this.initDepthDrawParams({depth:d},_),this.initBlendDrawParams({blend:h},_),this.initStencilDrawParams({stencil:p},_),this.initCullDrawParams({cull:v},_),this.drawCommand=t(_)}return(0,o.Z)(e,[{key:"addUniforms",value:function(e){this.uniforms=Lo(Lo({},this.uniforms),Io(e))}},{key:"draw",value:function(e){var t=Lo(Lo({},this.uniforms),Io(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,V.Z)(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:vo[n.func||$.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:mo[i&&i.srcRGB||$.SRC_ALPHA],srcAlpha:mo[i&&i.srcAlpha||$.SRC_ALPHA],dstRGB:mo[i&&i.dstRGB||$.ONE_MINUS_SRC_ALPHA],dstAlpha:mo[i&&i.dstAlpha||$.ONE_MINUS_SRC_ALPHA]},equation:{rgb:go[o&&o.rgb||$.FUNC_ADD],alpha:go[o&&o.alpha||$.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:$.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,c=void 0===u?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:u,l=n.opBack,f=void 0===l?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:l;t.stencil={enable:!!r,mask:o,func:Lo(Lo({},s),{},{cmp:yo[s.cmp]}),opFront:{fail:bo[c.fail],zfail:bo[c.zfail],zpass:bo[c.zpass]},opBack:{fail:bo[f.fail],zfail:bo[f.zfail],zpass:bo[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?$.BACK:i;t.cull={enable:!!r,face:xo[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),Uo=function(){function e(t,n){(0,i.Z)(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,a=void 0===o?$.UNSIGNED_BYTE:o,s=n.width,u=n.height,c=n.flipY,l=void 0!==c&&c,f=n.format,d=void 0===f?$.RGBA:f,h=n.mipmap,p=void 0!==h&&h,v=n.wrapS,g=void 0===v?$.CLAMP_TO_EDGE:v,m=n.wrapT,y=void 0===m?$.CLAMP_TO_EDGE:m,b=n.aniso,x=void 0===b?0:b,w=n.alignment,_=void 0===w?1:w,E=n.premultiplyAlpha,S=void 0!==E&&E,k=n.mag,C=void 0===k?$.NEAREST:k,M=n.min,O=void 0===M?$.NEAREST:M,N=n.colorSpace,T=void 0===N?$.BROWSER_DEFAULT_WEBGL:N;this.width=s,this.height=u;var A={width:s,height:u,type:uo[a],format:co[d],wrapS:ho[g],wrapT:ho[y],mag:fo[C],min:fo[O],alignment:_,flipY:l,colorSpace:po[T],premultiplyAlpha:S,aniso:x};r&&(A.data=r),"number"===typeof p?A.mipmap=lo[p]:"boolean"===typeof p&&(A.mipmap=p),this.texture=t.texture(A)}return(0,o.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Go=(0,v.b2)()((Fo=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=(0,c.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new zo(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new oo(t.gl,e)},this.createBuffer=function(e){return new wo(t.gl,e)},this.createElements=function(e){return new Ao(t.gl,e)},this.createTexture2D=function(e){return new Uo(t.gl,e)},this.createFramebuffer=function(e){return new Po(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new To(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable($.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable($.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){io()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),jo=Fo))||jo;function Vo(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function Zo(e,t){return new Promise((function(t,n){Vo(e,(function(){t()}),(function(e,t){n(t)}))}))}function Wo(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bo){e.next=2;break}return e.abrupt("return",Bo);case 2:return e.next=4,Zo("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Bo=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",Bo);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ho=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,a=r.offset,s=r.stride,u=r.normalized,c=r.size,l=r.divisor,f=r.arrayStride,d=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:l||0,arrayStride:f||0,attributes:d,stepMode:h||"vertex"},c&&(this.attribute.size=c)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),qo=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,o=r.data,a=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,a||ti.FB.Vertex|ti.FB.CopyDst)}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Xo,Ko,$o,Qo,Jo,ea,ta,na=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.context=n,this.entity=f(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o,a,s,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===Or.StorageBuffer})),i=this.context.uniforms.filter((function(e){return e.storageClass===Or.Uniform})),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach((function(e){if("number"===typeof e.data)c.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,(0,_o.Z)(e.data)),c.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,(0,_o.Z)(e.data)),c.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new qo(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:ti.FB.Uniform|ti.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==Cr.Vector4FloatArray&&e.type!==Cr.FloatArray||(e.name===c.context.output.name?(t=new qo(c.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),c.outputBuffer=t,c.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new qo(c.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),c.vertexBuffers[e.name]=t,c.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(ti.gc.Read);case 12:return c=a.getMappedRange(),l=new r(c.slice(0)),a.unmap(),e.abrupt("return",l);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,(0,_o.Z)(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:kr}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ra=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,a=(r.usage,r.type,r.count);this.indexCount=a||0,this.buffer=new qo(t,{data:o instanceof Array?new Uint16Array(o):o,usage:ti.FB.Index|ti.FB.CopyDst})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ia=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),a=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),a&&(this.depthTexture=a)}return(0,o.Z)(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),oa=(Xo={},(0,R.Z)(Xo,$.POINTS,ti.YV.PointList),(0,R.Z)(Xo,$.LINES,ti.YV.LineList),(0,R.Z)(Xo,$.LINE_LOOP,ti.YV.LineList),(0,R.Z)(Xo,$.LINE_STRIP,ti.YV.LineStrip),(0,R.Z)(Xo,$.TRIANGLES,ti.YV.TriangleList),(0,R.Z)(Xo,$.TRIANGLE_FAN,ti.YV.TriangleList),(0,R.Z)(Xo,$.TRIANGLE_STRIP,ti.YV.TriangleStrip),Xo),aa=(Ko={},(0,R.Z)(Ko,$.NEVER,ti.wb.Never),(0,R.Z)(Ko,$.ALWAYS,ti.wb.Always),(0,R.Z)(Ko,$.LESS,ti.wb.Less),(0,R.Z)(Ko,$.LEQUAL,ti.wb.LessEqual),(0,R.Z)(Ko,$.GREATER,ti.wb.Greater),(0,R.Z)(Ko,$.GEQUAL,ti.wb.GreaterEqual),(0,R.Z)(Ko,$.EQUAL,ti.wb.Equal),(0,R.Z)(Ko,$.NOTEQUAL,ti.wb.NotEqual),Ko),sa=($o={},(0,R.Z)($o,$.FUNC_ADD,ti.db.Add),(0,R.Z)($o,$.MIN_EXT,ti.db.Min),(0,R.Z)($o,$.MAX_EXT,ti.db.Max),(0,R.Z)($o,$.FUNC_SUBTRACT,ti.db.Subtract),(0,R.Z)($o,$.FUNC_REVERSE_SUBTRACT,ti.db.ReverseSubtract),$o),ua=(Qo={},(0,R.Z)(Qo,$.ZERO,ti.zi.Zero),(0,R.Z)(Qo,$.ONE,ti.zi.One),(0,R.Z)(Qo,$.SRC_COLOR,ti.zi.SrcColor),(0,R.Z)(Qo,$.ONE_MINUS_SRC_COLOR,ti.zi.OneMinusSrcColor),(0,R.Z)(Qo,$.SRC_ALPHA,ti.zi.SrcAlpha),(0,R.Z)(Qo,$.ONE_MINUS_SRC_ALPHA,ti.zi.OneMinusSrcAlpha),(0,R.Z)(Qo,$.DST_COLOR,ti.zi.DstColor),(0,R.Z)(Qo,$.ONE_MINUS_DST_COLOR,ti.zi.OneMinusDstColor),(0,R.Z)(Qo,$.DST_ALPHA,ti.zi.DstAlpha),(0,R.Z)(Qo,$.ONE_MINUS_DST_ALPHA,ti.zi.OneMinusDstAlpha),(0,R.Z)(Qo,$.CONSTANT_COLOR,ti.zi.BlendColor),(0,R.Z)(Qo,$.ONE_MINUS_CONSTANT_COLOR,ti.zi.OneMinusBlendColor),(0,R.Z)(Qo,$.SRC_ALPHA_SATURATE,ti.zi.SrcAlphaSaturated),Qo),ca=(Jo={},(0,R.Z)(Jo,$.ALPHA,"r8unorm"),(0,R.Z)(Jo,$.RGBA,"rgba8unorm"),(0,R.Z)(Jo,$.DEPTH_COMPONENT,"depth32float"),(0,R.Z)(Jo,$.DEPTH_STENCIL,"depth24plus-stencil8"),Jo),la=(ea={},(0,R.Z)(ea,$.NEAREST,"nearest"),(0,R.Z)(ea,$.LINEAR,"linear"),ea),fa=(ta={},(0,R.Z)(ta,$.REPEAT,"repeat"),(0,R.Z)(ta,$.CLAMP_TO_EDGE,"clamp-to-edge"),(0,R.Z)(ta,$.MIRRORED_REPEAT,"mirror-repeat"),ta);function da(e){var t=e.cull;return t&&t.enable?t.face?t.face===$.FRONT?ti.Wf.Front:ti.Wf.Back:void 0:ti.Wf.None}function ha(e){var t=e.depth,n=(e.stencil,{compare:ti.wb.Always,depthFailOp:ti.xS.Keep,failOp:ti.xS.Keep,passOp:ti.xS.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:aa[(null===t||void 0===t?void 0:t.func)||$.ALWAYS],format:ti.EV.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function pa(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:ua[n&&n.func&&n.func.srcAlpha||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstAlpha||$.ZERO],operation:sa[n&&n.equation&&n.equation.alpha||$.FUNC_ADD]},colorBlend:{srcFactor:ua[n&&n.func&&n.func.srcRGB||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstRGB||$.ZERO],operation:sa[n&&n.equation&&n.equation.rgb||$.FUNC_ADD]},writeMask:ti.Yw.All}]}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t+=s.length}for(var u=new e(t),c=0,l=0,f=r;l<f.length;l++){var d=f[l];u.set(d,c),c+=d.length}return u}var ya,ba,xa,wa=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o,a,s,c,l,f,d,h,p,v,g,m,y=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,c=t.depth,l=t.blend,f=t.stencil,d=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,v=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),g={vertexBuffers:Object.keys(i).map((function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:oa[a||$.TRIANGLES],rasterizationState:ga(ga({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:da({cull:d})}),depthStencilState:ha({depth:c,stencil:f}),colorStates:pa({blend:l},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:v,vertexState:g},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=ga(ga({},this.uniforms),Io(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=ga(ga({},this.uniforms),Io(e.uniforms||{})),i=[];Object.keys(r).forEach((function(e){var n=(0,V.Z)(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var c=r[e].get(),l=c.color||c,f=l.texture,d=l.sampler;d&&(i.push({binding:u,resource:d}),u++),i.push({binding:u,resource:f.createView()})}}})),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ti.iD.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=(0,c.Z)(u().mark((function e(t,n,r){var i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:kr}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:kr}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ti.zX.CCW,cullMode:ti.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=ma.apply(void 0,[Float32Array].concat((0,_o.Z)(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:ti.$X.Fragment|ti.$X.Vertex,type:ti.$l.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:ti.$X.Fragment,type:ti.$l.Sampler},{binding:2*n+(o?1:0)+1,visibility:ti.$X.Fragment,type:ti.$l.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new qo(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ti.FB.Uniform|ti.FB.CopyDst}))}}]),e}(),_a=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,o.Z)(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&$.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?$.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?$.CLAMP_TO_EDGE:a,u=e.wrapT,c=void 0===u?$.CLAMP_TO_EDGE:u,l=e.aniso,f=void 0===l?0:l,d=(e.alignment,e.premultiplyAlpha,e.mag),h=void 0===d?$.NEAREST:d,p=e.min,v=void 0===p?$.NEAREST:p,g=e.colorSpace,m=(void 0===g&&$.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ti.kd.E2d,format:ca[o],usage:m||ti.v2.Sampled|ti.v2.CopyDst}),(!m||m&ti.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:fa[s],addressModeV:fa[c],addressModeW:fa[s],magFilter:la[h],minFilter:la[v],maxAnisotropy:f}))}}]),e}(),Ea=(0,v.b2)()((ba=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||ti.Ws.Load,t.mainDepthAttachment.depthLoadValue=r||ti.Ws.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:ti.Ws.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=(0,c.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new wa(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Ho(t,e)},this.createBuffer=function(e){return new qo(t,e)},this.createElements=function(e){return new ra(t,e)},this.createTexture2D=function(e){return new _a(t,e)},this.createFramebuffer=function(e){return new ia(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:ti.p_.E2d,arrayLayerCount:1,aspect:ti.H7.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=(0,c.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new na(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return(0,o.Z)(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),kr?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(kr?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ti.v2.OutputAttachment|ti.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:ti.EV.BGRA8Unorm,usage:ti.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:kr?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}]}else this.mainColorAttachments=[{attachment:kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:kr?"depth32float-stencil8":ti.EV.Depth24PlusStencil8,usage:ti.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:kr?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ti.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ti.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,c=null===(i=e.get().depth)||void 0===i?void 0:i.texture;c&&(u=c.createView());var l=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:ti.Ws.Load,storeOp:ti.EG.Store}],depthStencilAttachment:c&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:ti.Ws.Load,depthStoreOp:ti.EG.Store,stencilLoadValue:a?this.clearStencilValue:ti.Ws.Load,stencilStoreOp:ti.EG.Store}:void 0});this.currentRenderPass=l,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),ya=ba))||ya;function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var ka,Ca=4/64,Ma=(0,v.b2)()(xa=function(e){(0,x.Z)(n,e);var t=Sa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?G.al(.5,.5,.5):s,c=n,l=i,f=a,d=(0,p.Z)(u,3),h=d[0],v=d[1],g=d[2],m=[G.al(-h,-v,g),G.al(h,-v,g),G.al(h,v,g),G.al(-h,v,g),G.al(h,-v,-g),G.al(-h,-v,-g),G.al(-h,v,-g),G.al(h,v,-g)],y=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],x=1,w=2,_=3,E=4,S=5,k=[],C=[],M=[],O=[],N=[],T=0,A=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=G.Ue(),u=G.Ue(),c=G.Ue(),l=G.Ue();G.t7(s,m[y[e][0]],m[y[e][1]],o/t),G.t7(u,m[y[e][0]],m[y[e][2]],a/n),G.lu(c,u,m[y[e][0]]),G.IH(l,s,c),r=o/t,i=a/n,k.push(l[0],l[1],l[2]),C.push(b[e][0],b[e][1],b[e][2]),M.push(r,i),r=.875*(r/=3)+Ca,i=.875*(i/=3)+Ca,r+=e%3/3,i+=Math.floor(e/3)/3,O.push(r,i),o<t&&a<n&&(N.push(T+n+1,T+1,T),N.push(T+n+1,T+n+2,T+1)),T++}};A(0,c,l),A(x,c,l),A(w,c,f),A(_,c,f),A(E,f,l),A(S,f,l);var P=Er(k),I=this.getComponent();I.indices=Uint32Array.from(N),I.aabb=P,I.vertexCount=T,I.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(C),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(M),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||xa;function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Na,Ta=(0,v.b2)()(ka=function(e){(0,x.Z)(n,e);var t=Oa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new Oe;var r=[],i=[],o=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,(0,_o.Z)(a.map((function(e){return e+o})))),o+=s,u.forEach((function(e,t){r[t]?e.data&&(Tr(e.data)?r[t].push(e.data):gi(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(ei))||ka;function Aa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Pa,Ia=(0,v.b2)()(Na=function(e){(0,x.Z)(n,e);var t=Aa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],c=[],l=[],f=0,d=0;d<=i;d++)for(var h=0;h<=a;h++){var p=-n[0]+2*n[0]*d/i,v=-(-n[1]+2*n[1]*h/a),g=d/i,m=h/a;s.push(p,0,v),u.push(0,1,0),c.push(g,m),d<i&&h<a&&(l.push(f+a+1,f+1,f),l.push(f+a+1,f+a+2,f+1)),f++}var y=Er(s),b=this.getComponent();b.indices=Uint32Array.from(l),b.aabb=y,b.vertexCount=f,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Na;function Da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ra,La,ja,Fa,Ba,za,Ua,Ga,Va=(0,v.b2)()(Pa=function(e){(0,x.Z)(n,e);var t=Da(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],c=[],l=[],f=0;f<=i;f++)for(var d=f*Math.PI/i,h=Math.sin(d),p=Math.cos(d),v=0;v<=a;v++){var g=2*v*Math.PI/a-Math.PI/2,m=Math.sin(g),y=Math.cos(g)*h,b=p,x=m*h,w=1-v/a,_=1-f/i;s.push(y*n,b*n,x*n),u.push(y,b,x),c.push(w,_)}for(var E=0;E<i;++E)for(var S=0;S<a;++S){var k=E*(a+1)+S,C=k+a+1;l.push(k+1,C,k),l.push(k+1,C+1,C)}var M=Er(s),O=this.getComponent();O.indices=Uint32Array.from(l),O.aabb=M,O.vertexCount=s.length/3,O.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Pa;function Za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Wa,Ya,Ha,qa,Xa,Ka,$a,Qa,Ja,es,ts,ns,rs=(Ra=(0,v.b2)(),La=(0,v.f3)(g.RenderEngine),ja=(0,v.f3)(g.ShaderModuleService),Ra((Ga=function(e){(0,x.Z)(n,e);var t=Za(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"engine",za,(0,L.Z)(e)),r(e,"shaderModuleService",Ua,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:U.create()}))}}]),n}(to),za=a((Ba=Ga).prototype,"engine",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua=a(Ba.prototype,"shaderModuleService",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Ba))||Fa);function is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var os,as,ss,us,cs,ls,fs,ds,hs,ps,vs,gs,ms=(Wa=(0,v.b2)(),Ya=(0,v.f3)(g.Systems),Ha=(0,v.t6)(g.MaterialSystem),qa=(0,v.f3)(g.Systems),Xa=(0,v.t6)(g.GeometrySystem),Ka=(0,v.f3)(g.ShaderModuleService),Wa((ns=function(e){(0,x.Z)(n,e);var t=is(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Ja,(0,L.Z)(e)),r(e,"geometrySystem",es,(0,L.Z)(e)),r(e,"shaderModuleService",ts,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:$.BACK}).setDepth({enable:!0,func:$.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(no),Ja=a((Qa=ns).prototype,"materialSystem",[Ya,Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=a(Qa.prototype,"geometrySystem",[qa,Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=a(Qa.prototype,"shaderModuleService",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=Qa))||$a),ys=n(31583),bs=n(45687);function xs(e,t,n,r,i){ws(t,r,-i),ws(t,r,i),e.push(n),e.push(n)}function ws(e,t,n){e.push([[t[0],t[1]],n])}function _s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Es,Ss,ks,Cs,Ms,Os,Ns,Ts,As,Ps,Is,Ds,Rs=(os=(0,v.b2)(),as=(0,v.f3)(g.Systems),ss=(0,v.t6)(g.MaterialSystem),us=(0,v.f3)(g.Systems),cs=(0,v.t6)(g.GeometrySystem),ls=(0,v.f3)(g.ShaderModuleService),os((gs=function(e){(0,x.Z)(n,e);var t=_s(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",hs,(0,L.Z)(e)),r(e,"geometrySystem",ps,(0,L.Z)(e)),r(e,"shaderModuleService",vs,(0,L.Z)(e)),e.vertexCount=void 0,e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,c=null,l=(0,ys.create)(),f=n||0,d=[],h=[],p=[],v=[0,0];t&&(e=e.slice()).push(e[0]);for(var g=e.length,m=1;m<g;m++){var y=f,b=e[m-1],x=e[m],w=m<e.length-1?e[m+1]:null;if(v.push(m/g,m/g),(0,bs.o7)(r,x,b),c||(c=[0,0],(0,bs.mJ)(c,r)),u||(u=!0,xs(h,d,b,c,1)),p.push([y+0,y+1,y+2]),w){(0,bs.o7)(i,w,x);var _=(0,bs.x7)(o,a,r,i,1),E=(0,ys.dot)(o,c)<0?-1:1,S=_>3;if(!isFinite(_)){(0,bs.mJ)(c,r),xs(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2,s=E;continue}S?(_=3,v.push(m/g),ws(d,c,-E),h.push(x),ws(d,a,_*E),h.push(x),p.push(s!==-E?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),(0,bs.mJ)(l,i),(0,ys.copy)(c,l),ws(d,c,-E),h.push(x),f+=3):(xs(h,d,x,a,_),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),E=-1,(0,ys.copy)(c,a),f+=2),s=E}else(0,bs.mJ)(c,r),xs(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2}return{normals:d,attrIndex:p,attrPos:h,attrCounters:v}}(this.config.points,!1),s=a.normals,u=a.attrIndex,c=a.attrPos,l=a.attrCounters,f=c.length;this.vertexCount=f;var d=this.geometrySystem.createBufferGeometry({vertexCount:f});this.setMaterial(o),this.setGeometry(d),o.setCull({enable:!1,face:$.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var h=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];h.push([t[0],t[1]]),p.push(n)})),d.setIndex(u.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),d.setAttribute("a_pos",Float32Array.from(c.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var v=new Array(f).fill(void 0).map((function(){return(0,_o.Z)(e.config.color)})).reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[]);d.setAttribute("a_color",Float32Array.from(v),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),d.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),d.setAttribute("a_line_normal",Float32Array.from(h.reduce((function(e,t){return[].concat((0,_o.Z)(e),(0,_o.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),d.setAttribute("a_counters",Float32Array.from(l),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(no),hs=a((ds=gs).prototype,"materialSystem",[as,ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=a(ds.prototype,"geometrySystem",[us,cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vs=a(ds.prototype,"shaderModuleService",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs=ds))||fs);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Fs,Bs,zs,Us,Gs,Vs,Zs,Ws,Ys,Hs,qs=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Xs=(Es=(0,v.b2)(),Ss=(0,v.f3)(g.Systems),ks=(0,v.t6)(g.MaterialSystem),Cs=(0,v.f3)(g.Systems),Ms=(0,v.t6)(g.GeometrySystem),Os=(0,v.f3)(g.ShaderModuleService),Es((Ds=function(e){(0,x.Z)(n,e);var t=js(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",As,(0,L.Z)(e)),r(e,"geometrySystem",Ps,(0,L.Z)(e)),r(e,"shaderModuleService",Is,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:$.SRC_ALPHA,dstRGB:$.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,(0,_o.Z)([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(qs.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,(0,_o.Z)(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,(0,_o.Z)(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,(0,_o.Z)(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(no),As=a((Ts=Ds).prototype,"materialSystem",[Ss,ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=a(Ts.prototype,"geometrySystem",[Cs,Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=a(Ts.prototype,"shaderModuleService",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=Ts))||Ns);function Ks(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qs,Js,eu,tu,nu,ru,iu,ou,au,su,uu,cu,lu=(Fs=(0,v.b2)(),Bs=(0,v.f3)(g.RenderEngine),zs=(0,v.f3)(g.ShaderModuleService),Us=(0,v.f3)(g.ConfigService),Fs((Hs=function(){function e(){(0,i.Z)(this,e),this.container=void 0,r(this,"engine",Zs,this),r(this,"shaderModule",Ws,this),r(this,"configService",Ys,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(g.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1});case 11:r=Ks(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i,o,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(g.Systems),n=c.length,r=new Array(n),i=0;i<n;i++)r[i]=c[i];o=Ks(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Zs=a((Vs=Hs).prototype,"engine",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ws=a(Vs.prototype,"shaderModule",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ys=a(Vs.prototype,"configService",[Us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=Vs))||Gs),fu=(0,v.b2)()((Js=function(){function e(){(0,i.Z)(this,e),this.entities=[]}return(0,o.Z)(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}(),Qs=Js))||Qs,du=(0,v.b2)()((tu=function(){function e(){(0,i.Z)(this,e),this.cache={}}return(0,o.Z)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}(),eu=tu))||eu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu,gu,mu,yu,bu,xu,wu,_u,Eu,Su,ku,Cu,Mu,Ou=(nu=(0,v.b2)(),ru=(0,v.f3)(du),iu=(0,v.f3)(g.RenderEngine),nu((cu=function(){function e(){(0,i.Z)(this,e),r(this,"textureCache",su,this),r(this,"engine",uu,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,o.Z)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=(0,c.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(pu(pu({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),su=a((au=cu).prototype,"textureCache",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=a(au.prototype,"engine",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=au))||ou),Nu=(vu=(0,v.b2)(),gu=(0,v.f3)(g.Systems),mu=(0,v.t6)(g.RendererSystem),vu((wu=function(){function e(){(0,i.Z)(this,e),r(this,"rendererSystem",xu,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,o.Z)(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),xu=a((bu=wu).prototype,"rendererSystem",[gu,mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu);function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pu=(_u=(0,v.b2)(),Eu=(0,v.f3)(g.ConfigService),_u((Mu=function(){function e(){(0,i.Z)(this,e),r(this,"configService",Cu,this),this.container=void 0}return(0,o.Z)(e,[{key:"getEngine",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(g.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(Au({canvas:r||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(g.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(g.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return f()}},{key:"createScene",value:function(){return this.container.get(fu)}},{key:"createCamera",value:function(){return this.container.get(Jr)}},{key:"createView",value:function(){return this.container.get(Nu)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(g.Renderable,e):this.container.get(no),r=f();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(g.Geometry,e),r=f();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(g.Material,e),r=f();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(Ou);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(g.Systems,g.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(g.Systems,g.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(g.Systems,g.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(eo);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(lu);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(g.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(g.RenderEngine).destroy(),this.container.get(g.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=_r(),r=navigator.gpu?Ea:Go;n.isBound(g.RenderEngine)||n.bind(g.RenderEngine).to(r).inSingletonScope(),n.bind(lu).toSelf(),n.bind(eo).toSelf(),n.bind(no).toSelf(),n.bind(Nu).toSelf(),n.bind(Jr).toSelf(),n.bind(fu).toSelf(),n.bind(e).toSelf(),n.bind(du).toSelf(),n.bind(Ou).toSelf(),n.bind(g.Geometry).to(Ma).whenTargetNamed(ei.BOX),n.bind(g.Geometry).to(Va).whenTargetNamed(ei.SPHERE),n.bind(g.Geometry).to(Ia).whenTargetNamed(ei.PLANE),n.bind(g.Geometry).to(Ta).whenTargetNamed(ei.MERGED),n.bind(g.Material).to(rs).whenTargetNamed(to.BASIC),n.bind(g.Renderable).to(Xs).whenTargetNamed(no.POINT),n.bind(g.Renderable).to(Rs).whenTargetNamed(no.LINE),n.bind(g.Renderable).to(ms).whenTargetNamed(no.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),Cu=a((ku=Mu).prototype,"configService",[Eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su=ku))||Su)},3941:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.hmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",T="[object Uint32Array]",A=/\w*$/,P=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[x]=D[w]=D[s]=D[u]=D[_]=D[E]=D[S]=D[k]=D[C]=D[f]=D[d]=D[h]=D[v]=D[g]=D[m]=D[y]=D[M]=D[O]=D[N]=D[T]=!0,D["[object Error]"]=D[c]=D[b]=!1;var R="object"==("undefined"===typeof n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,L="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,j=R||L||Function("return this")(),F="object"==("undefined"===typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,B=F&&"object"==r(e)&&e&&!e.nodeType&&e,z=B&&B.exports===F;function U(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Y(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q=Array.prototype,X=Function.prototype,K=Object.prototype,$=j["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=X.toString,ee=K.hasOwnProperty,te=K.toString,ne=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=z?j.Buffer:void 0,ie=j.Symbol,oe=j.Uint8Array,ae=Y(Object.getPrototypeOf,Object),se=Object.create,ue=K.propertyIsEnumerable,ce=q.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=Y(Object.keys,Object),he=Fe(j,"DataView"),pe=Fe(j,"Map"),ve=Fe(j,"Promise"),ge=Fe(j,"Set"),me=Fe(j,"WeakMap"),ye=Fe(Object,"create"),be=Ve(he),xe=Ve(pe),we=Ve(ve),_e=Ve(ge),Ee=Ve(me),Se=ie?ie.prototype:void 0,ke=Se?Se.valueOf:void 0;function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){this.__data__=new Me(e)}function Te(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ye(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||Ue(s,i))||n.push(s);return n}function Ae(e,t,n){var r=e[t];ee.call(e,t)&&Ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(Ze(e[n][0],t))return n;return-1}function Ie(e,t,n,r,i,o,p){var b;if(r&&(b=o?r(e,i,o,p):r(e)),void 0!==b)return b;if(!Xe(e))return e;var P=We(e);if(P){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var I=ze(e),R=I==c||I==l;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(I==h||I==a||R&&!o){if(Z(e))return o?e:{};if(b=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=ae(e),Xe(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return Le(e,Be(e),t)}(e,function(e,t){return e&&Le(t,Ke(t),e)}(b,e))}else{if(!D[I])return o?e:{};b=function(e,t,n,r){var i=e.constructor;switch(t){case x:return Re(e);case s:case u:return new i(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case E:case S:case k:case C:case M:case O:case N:case T:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return V(t?n(W(e),!0):W(e),U,new e.constructor)}(e,r,n);case d:case m:return new i(e);case v:return function(e){var t=new e.constructor(e.source,A.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,n){return V(t?n(H(e),!0):H(e),G,new e.constructor)}(e,r,n);case y:return o=e,ke?Object(ke.call(o)):{}}var o}(e,I,Ie,t)}}p||(p=new Ne);var L=p.get(e);if(L)return L;if(p.set(e,b),!P)var j=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ke,Be)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(i,o){j&&(i=e[o=i]),Ae(b,o,Ie(i,t,n,r,o,e,p))})),b}function De(e){return!(!Xe(e)||(t=e,Q&&Q in t))&&(qe(e)||Z(e)?ne:P).test(Ve(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Le(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Ae(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=ye?ye(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?i:t,this},Me.prototype.clear=function(){this.__data__=[]},Me.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Me.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},Me.prototype.has=function(e){return Pe(this.__data__,e)>-1},Me.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Oe.prototype.clear=function(){this.__data__={hash:new Ce,map:new(pe||Me),string:new Ce}},Oe.prototype.delete=function(e){return je(this,e).delete(e)},Oe.prototype.get=function(e){return je(this,e).get(e)},Oe.prototype.has=function(e){return je(this,e).has(e)},Oe.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ne.prototype.clear=function(){this.__data__=new Me},Ne.prototype.delete=function(e){return this.__data__.delete(e)},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Me){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Oe(r)}return n.set(e,t),this};var Be=le?Y(le,Object):function(){return[]},ze=function(e){return te.call(e)};function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function Ve(e){if(null!=e){try{return J.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ze(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=w||pe&&ze(new pe)!=f||ve&&ze(ve.resolve())!=p||ge&&ze(new ge)!=g||me&&ze(new me)!=b)&&(ze=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case be:return w;case xe:return f;case we:return p;case _e:return g;case Ee:return b}return t});var We=Array.isArray;function Ye(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!qe(e)}var He=fe||function(){return!1};function qe(e){var t=Xe(e)?te.call(e):"";return t==c||t==l}function Xe(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ke(e){return Ye(e)?Te(e):function(e){if(!Ge(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.Z=function(e){return Ie(e,!0,!0)}},7701:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n++);else if(Object(i.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),i=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(i.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),i=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=i},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){t(e,r)&&n.push(e)})),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,i){return t&&r(e,t),n&&r(e,n),i&&r(e,i),e}},function(e,t,n){var r=n(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return o.indexOf(e)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(e,t);else if(s===i[1])n(e,t),e.right2left();else if(s===i[2])n(e,t);else if(s===i[3])n(e,t),e.bottom2top();else if(s===i[4]||s===i[5]){var u=r(e,t),c=u.left,l=u.right;n(c,t),n(l,t),t.isHorizontal?c.right2left():c.bottom2top(),l.translate(c.x-l.x,c.y-l.y),e.x=c.x,e.y=l.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}var d=t.fixedRoot;return void 0===d&&(d=!0),d&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),i={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function o(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof o)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new o(e,t=r.assign({},i,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var c=t.getChildren(a.data),l=c?c.length:0;if(a.children=new Array(l),c&&l)for(var f=0;f<l;f++){var d=new o(c[f],t);a.children[f]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),i=n(20);t.a=function(e,t){var n=Object(i.a)(t),o=n.length;if(Object(r.a)(e))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(r)})),t};t.a=o},function(e,t,n){"use strict";var r=n(1),i=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var a=void 0,s=t[n];n!==o&&s===a||(a=s,i.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),i=n(2);t.a=function(e){var t=[];return Object(i.a)(e,(function(e){Object(r.a)(t,e)||t.push(e)})),t}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(i.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(i.a)(e))return{};var n,s={},u=Object(o.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(n)})),t};t.a=o},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),i=n(1),o=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(o.a)(t)||Object(o.a)(n))return!1;if(Object(i.a)(t)||Object(i.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),i=r(e.data,t,!0),o=e.children.length,a=Math.round(o/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<o;u++){var c=e.children[u];"right"===s(c,u)?i.children.push(c):n.children.push(c)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),i.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:i}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),i=n(113),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",(function(){return r.a})),n.d(t,"includes",(function(){return r.a}));var i=n(34);n.d(t,"difference",(function(){return i.a}));var o=n(35);n.d(t,"find",(function(){return o.a}));var a=n(36);n.d(t,"findIndex",(function(){return a.a}));var s=n(37);n.d(t,"firstValue",(function(){return s.a}));var u=n(38);n.d(t,"flatten",(function(){return u.a}));var c=n(39);n.d(t,"flattenDeep",(function(){return c.a}));var l=n(40);n.d(t,"getRange",(function(){return l.a}));var f=n(41);n.d(t,"pull",(function(){return f.a}));var d=n(21);n.d(t,"pullAt",(function(){return d.a}));var h=n(42);n.d(t,"reduce",(function(){return h.a}));var p=n(43);n.d(t,"remove",(function(){return p.a}));var v=n(44);n.d(t,"sortBy",(function(){return v.a}));var g=n(45);n.d(t,"union",(function(){return g.a}));var m=n(22);n.d(t,"uniq",(function(){return m.a}));var y=n(46);n.d(t,"valuesOfKey",(function(){return y.a}));var b=n(47);n.d(t,"head",(function(){return b.a}));var x=n(48);n.d(t,"last",(function(){return x.a}));var w=n(49);n.d(t,"startsWith",(function(){return w.a}));var _=n(50);n.d(t,"endsWith",(function(){return _.a}));var E=n(14);n.d(t,"filter",(function(){return E.a}));var S=n(51);n.d(t,"every",(function(){return S.a}));var k=n(52);n.d(t,"some",(function(){return k.a}));var C=n(53);n.d(t,"group",(function(){return C.a}));var M=n(24);n.d(t,"groupBy",(function(){return M.a}));var O=n(23);n.d(t,"groupToMap",(function(){return O.a}));var N=n(54);n.d(t,"getWrapBehavior",(function(){return N.a}));var T=n(55);n.d(t,"wrapBehavior",(function(){return T.a}));var A=n(56);n.d(t,"number2color",(function(){return A.a}));var P=n(57);n.d(t,"parseRadius",(function(){return P.a}));var I=n(58);n.d(t,"clamp",(function(){return I.a}));var D=n(59);n.d(t,"fixedBase",(function(){return D.a}));var R=n(60);n.d(t,"isDecimal",(function(){return R.a}));var L=n(61);n.d(t,"isEven",(function(){return L.a}));var j=n(62);n.d(t,"isInteger",(function(){return j.a}));var F=n(63);n.d(t,"isNegative",(function(){return F.a}));var B=n(64);n.d(t,"isNumberEqual",(function(){return B.a}));var z=n(65);n.d(t,"isOdd",(function(){return z.a}));var U=n(66);n.d(t,"isPositive",(function(){return U.a}));var G=n(67);n.d(t,"maxBy",(function(){return G.a}));var V=n(68);n.d(t,"minBy",(function(){return V.a}));var Z=n(69);n.d(t,"mod",(function(){return Z.a}));var W=n(70);n.d(t,"toDegree",(function(){return W.a}));var Y=n(71);n.d(t,"toInteger",(function(){return Y.a}));var H=n(72);n.d(t,"toRadian",(function(){return H.a}));var q=n(73);n.d(t,"forIn",(function(){return q.a}));var X=n(25);n.d(t,"has",(function(){return X.a}));var K=n(74);n.d(t,"hasKey",(function(){return K.a}));var $=n(75);n.d(t,"hasValue",(function(){return $.a}));var Q=n(20);n.d(t,"keys",(function(){return Q.a}));var J=n(19);n.d(t,"isMatch",(function(){return J.a}));var ee=n(26);n.d(t,"values",(function(){return ee.a}));var te=n(76);n.d(t,"lowerCase",(function(){return te.a}));var ne=n(77);n.d(t,"lowerFirst",(function(){return ne.a}));var re=n(78);n.d(t,"substitute",(function(){return re.a}));var ie=n(79);n.d(t,"upperCase",(function(){return ie.a}));var oe=n(80);n.d(t,"upperFirst",(function(){return oe.a}));var ae=n(27);n.d(t,"getType",(function(){return ae.a}));var se=n(81);n.d(t,"isArguments",(function(){return se.a}));var ue=n(0);n.d(t,"isArray",(function(){return ue.a}));var ce=n(1);n.d(t,"isArrayLike",(function(){return ce.a}));var le=n(82);n.d(t,"isBoolean",(function(){return le.a}));var fe=n(83);n.d(t,"isDate",(function(){return fe.a}));var de=n(84);n.d(t,"isError",(function(){return de.a}));var he=n(3);n.d(t,"isFunction",(function(){return he.a}));var pe=n(85);n.d(t,"isFinite",(function(){return pe.a}));var ve=n(6);n.d(t,"isNil",(function(){return ve.a}));var ge=n(86);n.d(t,"isNull",(function(){return ge.a}));var me=n(5);n.d(t,"isNumber",(function(){return me.a}));var ye=n(13);n.d(t,"isObject",(function(){return ye.a}));var be=n(15);n.d(t,"isObjectLike",(function(){return be.a}));var xe=n(9);n.d(t,"isPlainObject",(function(){return xe.a}));var we=n(28);n.d(t,"isPrototype",(function(){return we.a}));var _e=n(87);n.d(t,"isRegExp",(function(){return _e.a}));var Ee=n(8);n.d(t,"isString",(function(){return Ee.a}));var Se=n(4);n.d(t,"isType",(function(){return Se.a}));var ke=n(88);n.d(t,"isUndefined",(function(){return ke.a}));var Ce=n(89);n.d(t,"isElement",(function(){return Ce.a}));var Me=n(90);n.d(t,"requestAnimationFrame",(function(){return Me.a}));var Oe=n(91);n.d(t,"clearAnimationFrame",(function(){return Oe.a}));var Ne=n(92);n.d(t,"augment",(function(){return Ne.a}));var Te=n(93);n.d(t,"clone",(function(){return Te.a}));var Ae=n(94);n.d(t,"debounce",(function(){return Ae.a}));var Pe=n(95);n.d(t,"memoize",(function(){return Pe.a}));var Ie=n(96);n.d(t,"deepMix",(function(){return Ie.a}));var De=n(2);n.d(t,"each",(function(){return De.a}));var Re=n(97);n.d(t,"extend",(function(){return Re.a}));var Le=n(98);n.d(t,"indexOf",(function(){return Le.a}));var je=n(99);n.d(t,"isEmpty",(function(){return je.a}));var Fe=n(29);n.d(t,"isEqual",(function(){return Fe.a}));var Be=n(100);n.d(t,"isEqualWith",(function(){return Be.a}));var ze=n(101);n.d(t,"map",(function(){return ze.a}));var Ue=n(102);n.d(t,"mapValues",(function(){return Ue.a}));var Ge=n(16);n.d(t,"mix",(function(){return Ge.a})),n.d(t,"assign",(function(){return Ge.a}));var Ve=n(103);n.d(t,"get",(function(){return Ve.a}));var Ze=n(104);n.d(t,"set",(function(){return Ze.a}));var We=n(105);n.d(t,"pick",(function(){return We.a}));var Ye=n(106);n.d(t,"throttle",(function(){return Ye.a}));var He=n(107);n.d(t,"toArray",(function(){return He.a}));var qe=n(10);n.d(t,"toString",(function(){return qe.a}));var Xe=n(108);n.d(t,"uniqueId",(function(){return Xe.a}));var Ke=n(109);n.d(t,"noop",(function(){return Ke.a}));var $e=n(110);n.d(t,"identity",(function(){return $e.a}));var Qe=n(111);n.d(t,"size",(function(){return Qe.a}));var Je=n(112);n.d(t,"Cache",(function(){return Je.a}))},function(e,t,n){"use strict";var r=n(14),i=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,(function(e){return!Object(i.a)(t,e)}))}},function(e,t,n){"use strict";var r=n(3),i=n(19),o=n(0),a=n(9);t.a=function(e,t){if(!Object(o.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(i.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),i=n(0);t.a=function(e,t){for(var n=null,o=0;o<e.length;o++){var a=e[o][t];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),i=n(14);t.a=function(e){if(!(e=Object(i.a)(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},function(e,t,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=o.call(e,a))>-1;)i.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9);t.a=function(e,t,n){if(!Object(i.a)(e)&&!Object(o.a)(e))return e;var a=n;return Object(r.a)(e,(function(e,n){a=t(a,e,n)})),a}},function(e,t,n){"use strict";var r=n(1),i=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var o=-1,a=[],s=e.length;++o<s;){var u=e[o];t(u,o,e)&&(n.push(u),a.push(o))}return Object(i.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(3);t.a=function(e,t){var n;if(Object(o.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(i.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(6);t.a=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];Object(o.a)(s)||(Object(i.a)(s)||(s=[s]),Object(r.a)(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0]};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[e.length-1]};var r=n(1)},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),i=[];for(var o in n)i.push(n[o]);return i}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),i=n.length;i<6;i++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,i=0,o=0;return Object(r.a)(e)?1===e.length?t=n=i=o=e[0]:2===e.length?(t=i=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],o=e[3]):t=n=i=o=e,{r1:t,r2:n,r3:i,r4:o}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=i},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])>n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])<n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),i=n(26);t.a=function(e,t){return Object(r.a)(Object(i.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=1;o<e.length;o++){var a=e[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),i=n(9);function o(e,t,n,a){for(var s in n=n||0,a=a||5,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&Object(i.a)(u)?(Object(i.a)(e[s])||(e[s]={}),n<a?o(e[s],u,n+1,a):e[s]=t[s]):Object(r.a)(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)o(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(e,t,n,o){Object(i.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,o),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(i.a)(e))return!e.length;var t=Object(o.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){n.push(t(e,r))})),n}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=function(e){return e};t.a=function(e,t){void 0===t&&(t=o);var n={};return Object(i.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var i=0,o=Object(r.a)(t)?t.split("."):t;e&&i<o.length;)e=e[o[i++]];return void 0===e||i<o.length?n:e}},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(5);t.a=function(e,t,n){var a=e,s=Object(i.a)(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(o.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,(function(t){o.call(e,t)&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)?0:Object(i.a)(e)?e.length:Object.keys(e).length};var r=n(6),i=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function i(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(i(e,t),n)})),n}function o(e,t){r(e,-i(e,t),t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function i(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){for(var r=e.c[t-1],i=r.mod,o=e.c[t],a=o.mod;null!==r&&null!==o;){d(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,c(e,t,n.index,s));var u=d(r),h=d(o);u<=h&&null!==(r=f(r))&&(i+=r.mod),u>=h&&null!==(o=l(o))&&(a+=o.mod)}!r&&o?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,o,a):r&&!o&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function c(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function l(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function d(e){return e.y+e.h}function h(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var p=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=h(d(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var o=d(t.c[r].er);u(t,r,n),n=h(o,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),i(t)}else i(t)}(p),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(p,0),a(p,e,r),o(e,r),e}},function(e,t,n){var r=n(11),i=n(115),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this;return e.rootNode.width=0,o(e.rootNode,e.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,s=0,u=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var n=t.children,r=n.length,o=new i(t.height,[]);return n.forEach((function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var n=t.children.map((function(t){return e(t)})),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(u),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(u),a(u,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),i=n(117),o=n(30),a=n(7),s=["LR","RL","H"],u=s[0],c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,c=void 0===a||a,l=e.direction||u;if(l&&-1===s.indexOf(l))throw new TypeError("Invalid direction: "+l);if(l===s[0])i(t,r,c);else if(l===s[1])i(t,r,c),t.right2left();else if(l===s[2]){var f=o(t,e),d=f.left,h=f.right;i(d,r,c),d.right2left(),i(h,r,c);var p=d.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),l={};e.exports=function(e,t){return t=a.assign({},l,t),new c(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode((function(e){!function(e,t,n,r){var i="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=i,void(e.y=t?t.y:0)}catch(o){}e.x+=i,e.y=t?t.y+t.height:0}(e,r,t,n),r=e}))}},function(e,t,n){var r=n(11),i=n(119),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=i(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function o(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){o(e)}));var r=t[0],i=t[n-1],a=i.y-r.y+i.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,i(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(e)}}])},e.exports=t()},68253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(18252);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(6929),t)},14950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var n=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=n},82893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=n(14950),o=n(51784);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this,n=t.nodes,r=t.edges,i=n.length;if(0!==i){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(1===i)return n[0].x=a[0],n[0].y=a[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.radius,u=t.startRadius,c=t.endRadius,l=t.divisions,f=t.startAngle,d=t.endAngle,h=t.angleRatio,p=t.ordering,v=t.clockwise,g=t.nodeSpacing,m=t.nodeSize,y=(d-f)/i,b={};n.forEach((function(e,t){b[e.id]=t})),t.nodeMap=b;var x=(0,o.getDegree)(n.length,b,r);if(t.degrees=x,g){var w=(0,o.getFuncByUnknownType)(10,g),_=(0,o.getFuncByUnknownType)(10,m),E=-1/0;n.forEach((function(e){var t=_(e);E<t&&(E=t)}));var S=0;n.forEach((function(e,t){S+=0===t?E||10:(w(e)||0)+(E||10)})),s=S/(2*Math.PI)}else s||u||c?!u&&c?u=c:u&&!c&&(c=u):s=t.height>t.width?t.width/2:t.height/2;var k=y*h,C=[];C="topology"===p?t.topologyOrdering():"topology-directed"===p?t.topologyOrdering(!0):"degree"===p?t.degreeOrdering():n;for(var M=Math.ceil(i/l),O=0;O<i;++O){var N=s;N||null===u||null===c||(N=u+O*(c-u)/(i-1)),N||(N=10+100*O/(i-1));var T=f+O%M*k+2*Math.PI/l*Math.floor(O/M);v||(T=d-O%M*k-2*Math.PI/l*Math.floor(O/M)),C[O].x=a[0]+Math.cos(T)*N,C[O].y=a[1]+Math.sin(T)*N,C[O].weight=x[O]}return null===(e=t.onLayoutEnd)||void 0===e||e.call(t),{nodes:C,edges:this.edges}}t.onLayoutEnd&&t.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this,n=t.degrees,r=t.edges,i=t.nodes,a=(0,o.clone)(i),s=t.nodeMap,u=[a[0]],c=[i[0]],l=[],f=i.length;l[0]=!0,function(e,t,n,r){e.forEach((function(t,n){e[n].children=[],e[n].parent=[]})),r?t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,c=e[s].parent;u.push(e[s].id),c.push(e[a].id)})):t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,c=e[s].children;u.push(e[s].id),c.push(e[a].id)}))}(a,r,s,e);var d=0;return a.forEach((function(e,t){if(0!==t)if(t!==f-1&&n[t]===n[t+1]&&!function(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=(0,o.getEdgeTerminal)(n[i],"source"),s=(0,o.getEdgeTerminal)(n[i],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(u[d],e,r)||l[t]){for(var h=u[d].children,p=!1,v=0;v<h.length;v++){var g=s[h[v]];if(n[g]===n[t]&&!l[g]){u.push(a[g]),c.push(i[s[a[g].id]]),l[g]=!0,p=!0;break}}for(var m=0;!p&&(l[m]||(u.push(a[m]),c.push(i[s[a[m].id]]),l[m]=!0,p=!0),++m!==f););}else u.push(e),c.push(i[s[e.id]]),l[t]=!0,d++})),c},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach((function(e,r){e.degree=n[r],t.push(e)})),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(i.Base);t.CircularLayout=s},33467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var o=n(73023),a=n(14950),s=n(51784),u=n(6929),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e,t=this,n=t.nodes,r=t.edges,i=t.combos,a=t.comboEdges,c=t.center,l=t.getInnerGraphs(),f={};n.forEach((function(e){f[e.id]=e}));var d={};i.forEach((function(e){d[e.id]=e}));var h=[],p=[],v={},g=!0;this.comboTrees.forEach((function(e){var t=l[e.id],n={id:e.id,x:t.x||d[e.id].x,y:t.y||d[e.id].y,fx:t.fx||d[e.id].fx,fy:t.fy||d[e.id].fy,mass:t.mass||d[e.id].mass,size:t.size};p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):g=!1,h.push(e.id),(0,s.traverseTreeUp)(e,(function(t){return t.id!==e.id&&(v[t.id]=e.id),!0}))})),n.forEach((function(e){if(!e.comboId||!d[e.comboId]){var t={id:e.id,x:e.x,y:e.y,fx:e.fx,fy:e.fy,mass:e.mass,size:e.size};p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):g=!1,h.push(e.id)}}));var m=[];if(r.concat(a).forEach((function(e){var t=v[e.source]||e.source,n=v[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})})),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=c[0],p[0].y=c[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,i,o=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:c,kg:5,preventOverlap:!0,animate:!1}),g&&o.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach((function(e){var t=l[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach((function(t){t.x+=e.x,t.y+=e.y}));else{var n=f[e.id];n&&(n.x=e.x,n.y=e.y)}}))}for(var w=Object.keys(l),_=function(e){var t=w[e],n=l[t];if(!n)return"continue";n.nodes.forEach((function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),f[e.id]&&(f[e.id].x=e.x,f[e.id].y=e.y)})),d[t]&&(d[t].x=n.x,d[t].y=n.y)},E=w.length-1;E>=0;E--)_(E);return{nodes:n,edges:r,combos:i,comboEdges:a}},t.prototype.getInnerGraphs=function(){var e=this,t=e.comboTrees,n=e.nodeSize,r=e.edges,o=e.comboPadding,a=e.spacing,c={},l=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return l.center=[0,0],l.preventOverlap=!0,l.nodeSpacing=a,(t||[]).forEach((function(e){(0,s.traverseTreeUp)(e,(function(e){var t,a=(null===o||void 0===o?void 0:o(e))||10;if((0,s.isArray)(a)&&(a=Math.max.apply(Math,a)),null===(t=e.children)||void 0===t?void 0:t.length){var u=e.children.map((function(e){return"combo"===e.itemType?c[e.id]:i({},e)})),f=u.map((function(e){return e.id})),d={nodes:u,edges:r.filter((function(e){return f.includes(e.source)&&f.includes(e.target)}))},h=1/0;u.forEach((function(e){var t;e.size||(e.size=(null===(t=c[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),h>e.size[0]&&(h=e.size[0]),h>e.size[1]&&(h=e.size[1])})),l.layout(d);var p=(0,s.findMinMaxNodeXY)(u),v=p.minX,g=p.minY,m=p.maxX,y=p.maxY,b=Math.max(m-v,y-g,h)+2*a;c[e.id]={id:e.id,nodes:u,size:[b,b]}}else if("combo"===e.itemType){var x=a?[2*a,2*a]:[30,30];c[e.id]={id:e.id,nodes:[],size:x}}return!0}))})),c},t.prototype.initVals=function(){var e,t,n=this,r=n.nodeSize,i=n.spacing;if(t=(0,s.isNumber)(i)?function(){return i}:(0,s.isFunction)(i)?i:function(){return 0},this.spacing=t,r)if((0,s.isFunction)(r))e=function(e){var n=r(e),i=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+i)/2:((n||10)+i)/2};else if((0,s.isArray)(r)){var o=(r[0]>r[1]?r[0]:r[1])/2;e=function(e){return o+t(e)/2}}else{var a=r/2;e=function(e){return a+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var u,c=n.comboPadding;u=(0,s.isNumber)(c)?function(){return c}:(0,s.isArray)(c)?function(){return Math.max.apply(null,c)}:(0,s.isFunction)(c)?c:function(){return 0},this.comboPadding=u},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=c},7315:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var i=n(14950),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,i=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach((function(e,t){r[t]={x:0,y:0}})),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=r[t].x*i,e.y+=r[t].y*i)})),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var c=[0,0];t.forEach((function(e){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(c[0]+=e.x,c[1]+=e.y)})),c[0]/=t.length,c[1]/=t.length;var l=[r[0]-c[0],r[1]-c[1]];t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=l[0],e.y+=l[1])})),e.combos.forEach((function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)})),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this,t=e.edges,n=e.nodes,r=e.combos,i={},a={},s={};n.forEach((function(e,t){a[e.id]=e,s[e.id]=t})),e.nodeMap=a,e.indexMap=s;var u={};r.forEach((function(e){u[e.id]=e})),e.oriComboMap=u,e.comboMap=e.getComboMap();var c=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||c,e.preventNodeOverlap=e.preventNodeOverlap||c;var l=e.collideStrength;l&&(e.comboCollideStrength=l,e.nodeCollideStrength=l),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(var f=0;f<t.length;++f){var d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");i[d]?i[d]++:i[d]=1,i[h]?i[h]++:i[h]=1}var p=[];for(f=0;f<t.length;++f){d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");p[f]=i[d]/(i[d]+i[h])}this.bias=p;var v,g,m=e.nodeSize,y=e.nodeSpacing;if(g=(0,o.isNumber)(y)?function(){return y}:(0,o.isFunction)(y)?y:function(){return 0},this.nodeSpacing=g,m)if((0,o.isFunction)(m))v=function(e){return m(e)};else if((0,o.isArray)(m)){var b=(m[0]>m[1]?m[0]:m[1])/2;v=function(e){return b}}else{var x=m/2;v=function(e){return x}}else v=function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=v;var w,_=e.comboSpacing;w=(0,o.isNumber)(_)?function(){return _}:(0,o.isFunction)(_)?_:function(){return 0},this.comboSpacing=w;var E,S=e.comboPadding;E=(0,o.isNumber)(S)?function(){return S}:(0,o.isArray)(S)?function(){return Math.max.apply(null,S)}:(0,o.isFunction)(S)?S:function(){return 0},this.comboPadding=E;var k,C=this.linkDistance;C||(C=10),k=(0,o.isNumber)(C)?function(e){return C}:C,this.linkDistance=k;var M,O=this.edgeStrength;O||(O=1),M=(0,o.isNumber)(O)?function(e){return O}:O,this.edgeStrength=M;var N,T=this.nodeStrength;T||(T=30),N=(0,o.isNumber)(T)?function(e){return T}:T,this.nodeStrength=N},t.prototype.initPos=function(e){this.nodes.forEach((function(t,n){var r=t.comboId,i=e[r];r&&i?(t.x=i.cx+100/(n+1),t.y=i.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))}))},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach((function(e){if(!i[e.id]&&!t[e.id])return!0;a.push(e)}));var c=i[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var l=r[n.id];c.cx=l.x,c.cy=l.y}return a.forEach((function(e){if(c.count++,"node"!==e.itemType){var n=i[e.id];return(0,o.isNumber)(n.cx)&&(c.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(c.cy+=n.cy))}var r=t[e.id];r&&((0,o.isNumber)(r.x)&&(c.cx+=r.x),(0,o.isNumber)(r.y)&&(c.cy+=r.y))})),c.cx/=c.count||1,c.cy/=c.count||1,c.children=a,!0}))})),i},t.prototype.applyComboCenterForce=function(e){var t=this,n=t.gravity,r=t.comboGravity||n,i=this.alpha,a=t.comboTrees,s=t.indexMap,u=t.nodeMap,c=t.comboMap;(a||[]).forEach((function(t){(0,o.traverseTreeUp)(t,(function(t){if("node"===t.itemType)return!0;if(!c[t.id])return!0;var n=c[t.id],a=(n.depth+1)/10*.5,l=n.cx,f=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(t){if("node"!==t.itemType){var d=c[t.id];return d&&(0,o.isNumber)(d.cx)&&(n.cx+=d.cx),void(d&&(0,o.isNumber)(d.cy)&&(n.cy+=d.cy))}var h=u[t.id],p=h.x-l||.005,v=h.y-f||.005,g=Math.sqrt(p*p+v*v),m=s[h.id],y=r*i/g*a;e[m].x-=p*y,e[m].y-=v*y,(0,o.isNumber)(h.x)&&(n.cx+=h.x),(0,o.isNumber)(h.y)&&(n.cy+=h.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},t.prototype.applyCalculate=function(e){var t=this,n=t.comboMap,r=t.nodes,i={};r.forEach((function(e,t){r.forEach((function(n,r){if(!(t<r)){var o=e.x-n.x||.005,a=e.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),i[e.id+"-"+n.id]={vx:o,vy:a,vl2:s,vl:u},i[n.id+"-"+e.id]={vl2:s,vl:u,vx:-o,vy:-a}}}))})),t.updateComboSizes(n),t.calRepulsive(e,i),t.calAttractive(e,i),t.preventComboOverlap&&t.comboNonOverlapping(e,n)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,i=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach((function(n){var u=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var c=e[n.id];if(!c)return!1;var l=n.children;l&&l.forEach((function(t){(e[t.id]||r[t.id])&&u.push(t)})),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0,u.forEach((function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=i(t),o=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;c.minX>o&&(c.minX=o),c.minY>a&&(c.minY=a),c.maxX<s&&(c.maxX=s),c.maxY<u&&(c.maxY=u)}));var f=t.oriComboMap[n.id].size||10;(0,o.isArray)(f)&&(f=f[0]);var d=Math.max(c.maxX-c.minX,c.maxY-c.minY,f);return c.r=d/2+a(c)/2+s(c),!0}))}))},t.prototype.comboNonOverlapping=function(e,t){var n=this,r=n.comboTree,i=n.comboCollideStrength,a=n.indexMap,s=n.nodeMap;(0,o.traverseTreeUp)(r,(function(n){if(!t[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,o){if("node"===n.itemType)return!1;var u=t[n.id];u&&r.forEach((function(r,c){if(o<=c)return!1;if("node"===r.itemType)return!1;var l=t[r.id];if(!l)return!1;var f=u.cx-l.cx||.005,d=u.cy-l.cy||.005,h=f*f+d*d,p=u.r||1,v=l.r||1,g=p+v,m=v*v,y=p*p;if(h<g*g){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var w=Math.sqrt(h),_=(g-w)/w*i,E=f*_,S=d*_,k=m/(y+m),C=1-k;b.forEach((function(t){if("node"!==t.itemType)return!1;if(s[t.id]){var n=a[t.id];x.forEach((function(t){if("node"!==t.itemType)return!1;if(!s[t.id])return!1;var r=a[t.id];e[n].x+=E*k,e[n].y+=S*k,e[r].x-=E*C,e[r].y-=S*C}))}}))}}))})),!0}))},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,c=n.nodeSize,l=n.nodeSpacing,f=n.depthRepulsiveForceScale,d=n.center;r.forEach((function(h,p){if(h.x&&h.y){if(d){var v=n.gravity,g=h.x-d[0]||.005,m=h.y-d[1]||.005,y=Math.sqrt(g*g+m*m);e[p].x-=g*v*a/y,e[p].y-=m*v*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var d=t[h.id+"-"+n.id],v=d.vl2,g=d.vl;if(!(g>i)){var m=t[h.id+"-"+n.id],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var w=x?Math.pow(f,x):1,_=o(n)*a/v*w;if(e[p].x+=y*_,e[p].y+=b*_,p<r&&u){var E=c(h)+l(h)||1,S=c(n)+l(n)||1,k=E+S;if(v<k*k){var C=(k-g)/g*s,M=S*S,O=M/(E*E+M),N=y*C,T=b*C;e[p].x+=N*O,e[p].y+=T*O,O=1-O,e[r].x-=N*O,e[r].y-=T*O}}}}}))}}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,i=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,c=n.depthAttractiveForceScale;r.forEach((function(r,l){var f=(0,o.getEdgeTerminal)(r,"source"),d=(0,o.getEdgeTerminal)(r,"target");if(f&&d&&f!==d){var h=n.indexMap[f],p=n.indexMap[d],v=n.nodeMap[f],g=n.nodeMap[d];if(v&&g){var m=v.depth===g.depth?0:Math.log(Math.abs(v.depth-g.depth)/10);v.comboId===g.comboId&&(m/=2);var y=m?Math.pow(c,m):1;if(v.comboId!==g.comboId&&1===y?y=c/2:v.comboId===g.comboId&&(y=2),(0,o.isNumber)(g.x)&&(0,o.isNumber)(v.x)&&(0,o.isNumber)(g.y)&&(0,o.isNumber)(v.y)){var b=t[d+"-"+f],x=b.vl,w=b.vx,_=b.vy,E=(x-i(r))/x*a*s(r)*y,S=w*E,k=_*E,C=u[l];e[p].x-=S*C,e[p].y-=k*C,e[h].x+=S*(1-C),e[h].y+=k*(1-C)}}}}))},t.prototype.getType=function(){return"comboForce"},t}(i.Base);t.ComboForceLayout=a},1457:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var i=n(51784),o=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,o=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,c=n.nodeSize,l=n.nodeSpacing,f=[],d=0;u=(0,i.isArray)(c)?Math.max(c[0],c[1]):c,(0,i.isArray)(l)?d=Math.max(l[0],l[1]):(0,i.isNumber)(l)&&(d=l),r.forEach((function(e){f.push(e);var t=u;(0,i.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,i.isNumber)(e.size)?t=e.size:(0,i.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,i.isFunction)(l)&&(d=Math.max(l(e),d))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(f.forEach((function(e,t){h[e.id]=e,p[e.id]=t})),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===f[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var v=(0,i.getDegree)(r.length,p,o);f.forEach((function(e,t){e.degree=v[t]}))}f.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),n.maxValueNode=f[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var g=[[]],m=g[0];f.forEach((function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],g.push(m))}m.push(e)}));var y=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=g.length>0&&g[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(g.length+(b?1:0));y=Math.min(y,x)}var w=0;if(g.forEach((function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));w=Math.max(a,w)}e.r=w,w+=y})),n.equidistant){for(var _=0,E=0,S=0;S<g.length;S++){var k=g[S].r-E;_=Math.max(_,k)}E=0,g.forEach((function(e,t){0===t&&(E=e.r),e.r=E,E+=_}))}return g.forEach((function(e){var t=e.dTheta,r=e.r;e.forEach((function(e,i){var o=n.startAngle+(n.clockwise?1:-1)*t*i;e.x=s[0]+r*Math.cos(o),e.y=s[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(14950).Base);t.ConcentricLayout=o},73023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},71893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var o=i(n(14199)),a=n(51784),s=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,i=t.rankdir,s=t.combos,u=t.begin,c=t.radial;if(n){var l,f=t.edges||[],d=new o.default.graphlib.Graph({multigraph:!0,compound:!0});l=r?(0,a.isArray)(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var h=(0,a.getFunc)(t.ranksep,50,t.ranksepFunc),p=(0,a.getFunc)(t.nodesep,50,t.nodesepFunc),v=p,g=h;"LR"!==i&&"RL"!==i||(v=h,g=p),d.setDefaultEdgeLabel((function(){return{}})),d.setGraph(t);var m={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=l(t),r=g(t),i=v(t),o=n[0]+2*i,s=n[1]+2*r,u=t.layer;(0,a.isNumber)(u)?d.setNode(t.id,{width:o,height:s,layer:u}):d.setNode(t.id,{width:o,height:s}),e.sortByCombo&&t.comboId&&(m[t.comboId]||(m[t.comboId]=!0,d.setNode(t.comboId,{})),d.setParent(t.id,t.comboId))})),this.sortByCombo&&s&&s.forEach((function(e){e.parentId&&(m[e.parentId]||(m[e.parentId]=!0,d.setNode(e.parentId,{})),d.setParent(e.id,e.parentId))})),f.forEach((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&d.setEdge(n,r,{weight:t.weight||1})}));var y=void 0;t.preset&&(y=new o.default.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===y||void 0===y||y.setNode(e.id,e)}))),o.default.layout(d,{prevGraph:y,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});var b=[0,0];if(u){var x=1/0,w=1/0;d.nodes().forEach((function(e){var t=d.node(e);x>t.x&&(x=t.x),w>t.y&&(w=t.y)})),d.edges().forEach((function(e){d.edge(e).points.forEach((function(e){x>e.x&&(x=e.x),w>e.y&&(w=e.y)}))})),b[0]=u[0]-x,b[1]=u[1]-w}if(c){var _=this,E=_.focusNode,S=_.ranksep,k=_.getRadialPos,C=(0,a.isString)(E)?E:null===E||void 0===E?void 0:E.id,M=C?d.node(C)._rank:0,O=[],N="LR"===i||"RL"===i,T=N?"y":"x",A=N?"height":"width",P=1/0,I=-1/0;d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));if(n[r]){var i=p(n[r]);if(0===M)O[t._rank]||(O[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),O[t._rank].nodes.push(e),O[t._rank].totalWidth+=2*i+t[A],O[t._rank].maxSize<Math.max(t.width,t.height)&&(O[t._rank].maxSize=Math.max(t.width,t.height));else{var o=t._rank-M;if(0===o)O[o]||(O[o]={nodes:[],totalWidth:0,maxSize:-1/0}),O[o].nodes.push(e),O[o].totalWidth+=2*i+t[A],O[o].maxSize<Math.max(t.width,t.height)&&(O[o].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(o);O[a]||(O[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),O[a].totalWidth+=2*i+t[A],O[a].maxSize<Math.max(t.width,t.height)&&(O[a].maxSize=Math.max(t.width,t.height)),o<0?O[a].left.push(e):O[a].right.push(e)}}var s=t[T]-t[A]/2-i,u=t[T]+t[A]/2+i;s<P&&(P=s),u>I&&(I=u)}}));var D=S||50,R={},L=(I-P)/.9,j=[.5*(P+I-L),.5*(P+I+L)],F=function(e,t,r,i){void 0===r&&(r=-1/0),void 0===i&&(i=[0,1]);var o=r;return e.forEach((function(e){var r=d.node(e);R[e]=t;var a=k(r[T],j,L,t,i),s=a.x,u=a.y,c=n.findIndex((function(t){return t.id===e}));if(n[c]){n[c].x=s+b[0],n[c].y=u+b[1],n[c]._order=r._order;var l=h(n[c]);o<l&&(o=l)}})),o},B=!0;O.forEach((function(e){var t,r,i,o,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(r=null===e||void 0===e?void 0:e.left)||void 0===r?void 0:r.length)||(null===(i=null===e||void 0===e?void 0:e.right)||void 0===i?void 0:i.length)){if(B&&1===e.nodes.length){var c=n.findIndex((function(t){return t.id===e.nodes[0]}));return n[c].x=b[0],n[c].y=b[1],R[e.nodes[0]]=0,D=h(n[c]),void(B=!1)}D=Math.max(D,e.totalWidth/(2*Math.PI));var l=-1/0;if(0===M||(null===(o=e.nodes)||void 0===o?void 0:o.length))l=F(e.nodes,D,l,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));l=F(e.left,D,l,[0,f]),l=F(e.right,D,l,[f+.05,1])}D+=l,B=!1,e.maxSize}})),d.edges().forEach((function(e){var n,r,i=d.edge(e),o=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));if(t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[o].type){var s="x"===T?"y":"x",u=i.points.slice(1,i.points.length-1),c=[],l=null===(n=d.node(e.v))||void 0===n?void 0:n[s],h=l-(null===(r=d.node(e.w))||void 0===r?void 0:r[s]),p=R[e.v],v=p-R[e.w];u.forEach((function(e){var t=(e[s]-l)/h*v+p,n=k(e[T],j,L,t);c.push({x:n.x+b[0],y:n.y+b[1]})})),f[o].controlPoints=c}}))}else d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));n[r]&&(n[r].x=t.x+b[0],n[r].y=t.y+b[1],n[r]._order=t._order)})),d.edges().forEach((function(e){var n=d.edge(e),r=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[r].type&&(f[r].controlPoints=n.points.slice(1,n.points.length-1),f[r].controlPoints.forEach((function(e){e.x+=b[0],e.y+=b[1]})))}));return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:f}}},t.prototype.getRadialPos=function(e,t,n,r,i){void 0===i&&(i=[0,1]);var o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(n(14950).Base);t.DagreLayout=s},14199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)),o=r(n(26908)),a=n(81724);t.default={graphlib:i.default,layout:o.default,util:{time:a.time,notime:a.notime}}},65831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(75010)),o=function(e){var t=[],n={},r={};return e.nodes().forEach((function i(o){var a;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach((function(e){n.hasOwnProperty(e.w)?t.push(e):i(e.w)})),delete n[o])})),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,i.default)(e,function(e){return function(t){return e.edge(t).weight}}(e)):o(e);null===t||void 0===t||t.forEach((function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-"+Math.random())}))},undo:function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},60817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t,n,r,o,a){var s={rank:a,width:0,height:0,borderType:t},u=o[t][a-1],c=i.default.addDummyNode(e,"border",s,n);o[t][a]=c,e.setParent(c,r),u&&e.setEdge(u,c,{weight:1})};t.default=function(e){var t,n=function t(n){var r=e.children(n),i=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(e){return t(e)})),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)o(e,"borderLeft","_bl",n,i,a),o(e,"borderRight","_br",n,i,a)}};null===(t=e.children())||void 0===t||t.forEach((function(e){return n(e)}))}},80829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.nodes().forEach((function(t){r(e.node(t))})),e.edges().forEach((function(t){r(e.edge(t))}))},r=function(e){var t=e.width;e.width=e.height,e.height=t},i=function(e){e.nodes().forEach((function(t){o(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return o(e)})),r.hasOwnProperty("y")&&o(r)}))},o=function(e){e.y=-e.y},a=function(e){e.nodes().forEach((function(t){s(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return s(e)})),r.hasOwnProperty("x")&&s(r)}))},s=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==r&&"rl"!==r||n(e)},undo:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==r&&"rl"!==r||i(e),"lr"!==r&&"rl"!==r||(a(e),n(e))}}},81462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev},r=function(e,t){if("_next"!==e&&"_prev"!==e)return t},i=function(){function e(){var e={};e._next=e._prev=e,this.isentinel=e}return e.prototype.dequeue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.enqueue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.toString=function(){for(var e=[],t=this.isentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"},e}();t.default=i},99770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33915)).default;i||"undefined"===typeof window||(i=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(e){var t=e||1;if(isFinite(t)){var n=this.length,r=[];if(0===this.length)return this;for(;t--;){var i=[],o=!1;if(0===r.length){o=!0;for(var a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a])}else{for(a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push.apply(i,r[a])):i.push(r[a]);r=i}if(!o&&t===1/0)break}return r}}),t.default=i},75010:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)),o=r(n(81462)),a=i.default.Graph,s=function(){return 1},u=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)c(e,t,n,r);for(;r=o.dequeue();)c(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(c(e,t,n,r,!0));break}}return i},c=function(e,t,n,r,i){var o,a,s=i?[]:void 0;return null===(o=e.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=e.edge(r),a=e.node(r.v);i&&s.push({v:r.v,w:r.w}),void 0===a.out&&(a.out=0),a.out-=o,f(t,n,a)})),null===(a=e.outEdges(r.v))||void 0===a||a.forEach((function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,f(t,n,a)})),e.removeNode(r.v),s},l=function(e,t){var n=new a,r=0,i=0;e.nodes().forEach((function(e){n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((function(e){var o=n.edge(e.v,e.w)||0,a=null===t||void 0===t?void 0:t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));for(var s=[],u=i+r+3,c=0;c<u;c++)s.push(new o.default);var l=r+1;return n.nodes().forEach((function(e){f(s,l,n.node(e))})),{buckets:s,zeroIdx:l,graph:n}},f=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=l(e,t||s);return null===(n=u(r.graph,r.buckets,r.zeroIdx).map((function(t){return e.outEdges(t.v,t.w)})))||void 0===n?void 0:n.flat()}},26908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(65831)),u=a(n(26885)),c=a(n(77098)),l=o(n(81724)),f=a(n(5604)),d=a(n(52912)),h=a(n(60817)),p=a(n(80829)),v=a(n(62854)),g=a(n(57746)),m=a(n(99770)),y=a(n(37914)),b=m.default.Graph,x=function(e,t,n){t("    removeSelfEdges",(function(){U(e)})),t("    acyclic",(function(){s.default.run(e)})),t("    nestingGraph.run",(function(){d.default.run(e)})),t("    rank",(function(){(0,c.default)(l.default.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){I(e)})),t("    removeEmptyRanks",(function(){(0,l.removeEmptyRanks)(e)})),t("    nestingGraph.cleanup",(function(){d.default.cleanup(e)})),t("    normalizeRanks",(function(){(0,l.normalizeRanks)(e)})),t("    assignRankMinMax",(function(){D(e)})),t("    removeEdgeLabelProxies",(function(){R(e)})),t("    normalize.run",(function(){u.default.run(e)})),t("    parentDummyChains",(function(){(0,f.default)(e)})),t("    addBorderSegments",(function(){(0,h.default)(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){(0,y.default)(e,n.nodeOrder)})),t("    order",(function(){(0,v.default)(e)})),t("    insertSelfEdges",(function(){G(e)})),t("    adjustCoordinateSystem",(function(){p.default.adjust(e)})),t("    position",(function(){(0,g.default)(e)})),t("    positionSelfEdges",(function(){V(e)})),t("    removeBorderNodes",(function(){z(e)})),t("    normalize.undo",(function(){u.default.undo(e)})),t("    fixupEdgeLabelCoords",(function(){F(e)})),t("    undoCoordinateSystem",(function(){p.default.undo(e)})),t("    translateGraph",(function(){L(e)})),t("    assignNodeIntersects",(function(){j(e)})),t("    reversePoints",(function(){B(e)})),t("    acyclic.undo",(function(){s.default.undo(e)}))},w=function(e,t){var n=t._nodes||{};e.nodes().forEach((function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))},_=function(e,t){e.nodes().forEach((function(n){var r,i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height))})),e.edges().forEach((function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height},E=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],C=["width","height","layer","fixorder"],M={width:0,height:0},O=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"],A=function(e){var t=new b({multigraph:!0,compound:!0}),n=W(e.graph()),r={};return null===k||void 0===k||k.forEach((function(e){void 0!==n[e]&&(r[e]=n[e])})),t.setGraph(Object.assign({},S,Z(n,E),r)),e.nodes().forEach((function(n){var r=W(e.node(n)),i=Z(r,C);Object.keys(M).forEach((function(e){void 0===i[e]&&(i[e]=M[e])})),t.setNode(n,i),t.setParent(n,e.parent(n))})),e.edges().forEach((function(n){var r=W(e.edge(n)),i={};null===T||void 0===T||T.forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),t.setEdge(n,Object.assign({},N,Z(r,O),i))})),t},P=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)})),e.edges().forEach((function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},I=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};l.default.addDummyNode(e,"edge-proxy",i,"_ep")}}))},D=function(e){var t=0;e.nodes().forEach((function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank||-1/0))})),e.graph().maxRank=t},R=function(e){e.nodes().forEach((function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))},L=function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0,u=function(e){if(e){var o=e.x,a=e.y,s=e.width,u=e.height;isNaN(o)||isNaN(s)||(t=Math.min(t,o-s/2),n=Math.max(n,o+s/2)),isNaN(a)||isNaN(u)||(r=Math.min(r,a-u/2),i=Math.max(i,a+u/2))}};e.nodes().forEach((function(t){u(e.node(t))})),e.edges().forEach((function(t){var n=e.edge(t);n.hasOwnProperty("x")&&u(n)})),t-=a,r-=s,e.nodes().forEach((function(n){var i=e.node(n);i.x-=t,i.y-=r})),e.edges().forEach((function(n){var i,o=e.edge(n);null===(i=o.points)||void 0===i||i.forEach((function(e){e.x-=t,e.y-=r})),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=r)})),o.width=n-t+a,o.height=i-r+s},j=function(e){e.edges().forEach((function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(l.default.intersectRect(o,n)),i.points.push(l.default.intersectRect(a,r))}))},F=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},B=function(e){e.edges().forEach((function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))},z=function(e){e.nodes().forEach((function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),s=e.node(o.borderBottom),u=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),c=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===c||void 0===c?void 0:c.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}})),e.nodes().forEach((function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))},U=function(e){e.edges().forEach((function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))},G=function(e){var t=l.default.buildLayerMatrix(e);null===t||void 0===t||t.forEach((function(t){var n=0;null===t||void 0===t||t.forEach((function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(t){l.default.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))},V=function(e){e.nodes().forEach((function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))},Z=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(t){void 0!==e[t]&&(n[t]=+e[t])})),n},W=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n.toLowerCase()]=r})),t};t.default=function(e,t){var n=t&&t.debugTiming?l.default.time:l.default.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){w(e,t.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return A(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){P(r)}));try{n("  runLayout",(function(){x(r,n,t)}))}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",(function(){_(e,r)}))}))}},52912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function e(t,n,r,o,a,s,u){var c=t.children(u);if(null===c||void 0===c?void 0:c.length){var l=i.default.addBorderNode(t,"_bt"),f=i.default.addBorderNode(t,"_bb"),d=t.node(u);t.setParent(l,u),d.borderTop=l,t.setParent(f,u),d.borderBottom=f,null===c||void 0===c||c.forEach((function(i){e(t,n,r,o,a,s,i);var c=t.node(i),d=c.borderTop?c.borderTop:i,h=c.borderBottom?c.borderBottom:i,p=c.borderTop?o:2*o,v=d!==h?1:a-s[u]+1;t.setEdge(l,d,{minlen:v,weight:p,nestingEdge:!0}),t.setEdge(h,f,{minlen:v,weight:p,nestingEdge:!0})})),t.parent(u)||t.setEdge(n,l,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},a=function(e){var t,n={},r=function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach((function(e){return t(e,i+1)})),n[r]=i};return null===(t=e.children())||void 0===t||t.forEach((function(e){return r(e,1)})),n},s=function(e){var t=0;return e.edges().forEach((function(n){t+=e.edge(n).weight})),t};t.default={run:function(e){var t,n=i.default.addDummyNode(e,"root",{},"_root"),r=a(e),u=Math.max.apply(Math,Object.values(r))-1,c=2*u+1;e.graph().nestingRoot=n,e.edges().forEach((function(t){e.edge(t).minlen*=c}));var l=s(e)+1;null===(t=e.children())||void 0===t||t.forEach((function(t){o(e,n,c,l,u,r,t)})),e.graph().nodeRankFactor=c},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},26885:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t){var n,r,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u!==a+1){var d,h,p;for(e.removeEdge(t),p=0,++a;a<u;++p,++a)l.points=[],h={edgeLabel:l,width:0,height:0,edgeObj:t,rank:a},d=i.default.addDummyNode(e,"edge",h,"_d"),a===f&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),e.setEdge(o,d,{weight:l.weight},c),0===p&&(e.graph().dummyChains||(e.graph().dummyChains=[]),null===(r=null===(n=e.graph())||void 0===n?void 0:n.dummyChains)||void 0===r||r.push(d)),o=d;e.setEdge(o,s,{weight:l.weight},c)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach((function(t){return o(e,t)}))},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var n,r,i=e.node(t),o=i.edgeLabel;i.edgeObj&&e.setEdge(i.edgeObj,o);for(var a=t;i.dummy;)r=null===(n=e.successors(a))||void 0===n?void 0:n[0],e.removeNode(a),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),a=r,i=e.node(a)}))}}},87070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach((function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},54333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map((function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))}},20862:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)).default.Graph,o=function(e){for(var t;e.hasNode(t="_root"+Math.random()););return t};t.default=function(e,t,n){var r=o(e),a=new i({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return e.nodes().forEach((function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||r),e[n](i).forEach((function(t){var n=t.v===i?t.w:t.v,r=a.edge(n,i),o=void 0!==r?r.weight:0;a.setEdge(n,i,{weight:e.edge(t).weight+o})})),o.hasOwnProperty("minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),a}},76778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81724),i=function(e,t,n){for(var i=(0,r.zipObject)(n,n.map((function(e,t){return t}))),o=t.map((function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map((function(t){return{pos:i[t.w]||0,weight:e.edge(t).weight}}));return null===r||void 0===r?void 0:r.sort((function(e,t){return e.pos-t.pos}))})).flat().filter((function(e){return void 0!==e})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),c=0;return null===o||void 0===o||o.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;c+=e.weight*n})),c};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);++r)n+=i(e,t[r-1],t[r]);return n}},62854:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(89220)),o=r(n(76778)),a=r(n(20862)),s=r(n(87070)),u=r(n(80055)),c=r(n(99770)),l=r(n(81724)),f=n(51784),d=c.default.Graph,h=function(e,t,n){return t.map((function(t){return(0,a.default)(e,t,n)}))},p=function(e,t,n){var r=new d;null===e||void 0===e||e.forEach((function(e){for(var i,o=e.graph().root,a=(0,u.default)(e,o,r,t,n),c=0;c<(null===(i=a.vs)||void 0===i?void 0:i.length);c++)e.node(a.vs[c]).order=c;(0,s.default)(e,r,a.vs)}))},v=function(e,t){null===t||void 0===t||t.forEach((function(t){null===t||void 0===t||t.forEach((function(t,n){e.node(t).order=n}))}))};t.default=function(e){for(var t=l.default.maxRank(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=h(e,n,"inEdges"),u=h(e,r,"outEdges"),c=(0,i.default)(e);v(e,c);for(var d,g=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m){p(a%2?s:u,a%4>=2),c=l.default.buildLayerMatrix(e),(y=(0,o.default)(e,c))<g&&(m=0,d=(0,f.clone)(c),g=y)}c=(0,i.default)(e),v(e,c);for(a=0,m=0;m<4;++a,++m){var y;p(a%2?s:u,a%4>=2,!0),c=l.default.buildLayerMatrix(e),(y=(0,o.default)(e,c))<g&&(m=0,d=(0,f.clone)(c),g=y)}v(e,d)}},37914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})).map((function(t){return e.node(t).rank})),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i.push([]);null===t||void 0===t||t.forEach((function(t){var n=e.node(t);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t)))}))}},89220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})),r=n.map((function(t){return e.node(t).rank})),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=n.sort((function(t,n){return e.node(t).rank-e.node(n).rank})),u=s.filter((function(t){return void 0!==e.node(t).fixorder})).sort((function(t,n){return e.node(t).fixorder-e.node(n).fixorder}));return null===u||void 0===u||u.forEach((function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0})),null===s||void 0===s||s.forEach((function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach((function(e){return n(e)}))}})),o}},93896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t,n,i=[],o=function(){var o=e.pop();i.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach((function(e){return(t=o,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&r(t,e)})(e);var t})),null===(n=o.out)||void 0===n||n.forEach((function(t){return(n=o,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n}))};null===e||void 0===e?void 0:e.length;)o();var a=i.filter((function(e){return!e.merged})),s=["vs","i","barycenter","weight"];return a.map((function(e){var t={};return null===s||void 0===s||s.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))},r=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var r,i,o,a={};null===e||void 0===e||e.forEach((function(e,t){var n=a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(r=t.edges())||void 0===r||r.forEach((function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))}));var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,(function(e){return!e.indegree}));return n(s)}},80055:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(54333)),o=r(n(93896)),a=r(n(13267)),s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map((function(e){return t[e]?t[e].vs:e}));e.vs=r.flat()}))},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,c,l){var f,d,h,p,v=t.children(n),g=t.node(n),m=g?g.borderLeft:void 0,y=g?g.borderRight:void 0,b={};m&&(v=null===v||void 0===v?void 0:v.filter((function(e){return e!==m&&e!==y})));var x=(0,i.default)(t,v||[]);null===x||void 0===x||x.forEach((function(n){var i;if(null===(i=t.children(n.v))||void 0===i?void 0:i.length){var o=e(t,n.v,r,c);b[n.v]=o,o.hasOwnProperty("barycenter")&&u(n,o)}}));var w=(0,o.default)(x,r);s(w,b),null===(f=w.filter((function(e){var t;return!!e.vs||(null===(t=e.vs)||void 0===t?void 0:t.length)>0})))||void 0===f||f.forEach((function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var _=(0,a.default)(w,c,l);if(m&&(_.vs=[m,_.vs,y].flat(),null===(d=t.predecessors(m))||void 0===d?void 0:d.length)){var E=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||{}),S=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||{});_.hasOwnProperty("barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+E.order+S.order)/(_.weight+2),_.weight+=2}return _}},13267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},a=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var r=i.default.partition(e,(function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")})),s=r.lhs,u=r.rhs.sort((function(e,t){return-e.i- -t.i})),c=[],l=0,f=0,d=0;null===s||void 0===s||s.sort(a(!!t,!!n)),d=o(c,u,d),null===s||void 0===s||s.forEach((function(e){var t;d+=null===(t=e.vs)||void 0===t?void 0:t.length,c.push(e.vs),l+=e.barycenter*e.weight,f+=e.weight,d=o(c,u,d)}));var h={vs:c.flat()};return f&&(h.barycenter=l/f,h.weight=f),h}},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||c>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{lca:o,path:a.concat(s.reverse())}},r=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach((function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}})),n};t.default=function(e){var t,i=r(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var r,o,a=e.node(t),s=a.edgeObj;if(s)for(var u=n(e,i,s.v,s.w),c=u.path,l=u.lca,f=0,d=c[f],h=!0;t!==s.w;){if(a=e.node(t),h){for(;(d=c[f])!==l&&e.node(d).maxRank<a.rank;)f++;d===l&&(h=!1)}if(!h){for(;f<c.length-1&&(null===(r=e.node(d=c[f+1]))||void 0===r?void 0:r.minRank)<=a.rank;)f++;d=c[f]}e.setParent(t,d),t=null===(o=e.successors(t))||void 0===o?void 0:o[0]}}))}},59864:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0;var i=r(n(99770)),o=r(n(81724)),a=i.default.Graph,s=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,r){var i=0,o=0,a=t.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach((function(t,u){var f,d=c(e,t),h=d?e.node(d).order:a;(d||t===s)&&(null===(f=r.slice(o,u+1))||void 0===f||f.forEach((function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach((function(r){var o=e.node(r),a=o.order;!(a<i||h<a)||o.dummy&&e.node(t).dummy||l(n,r,t)}))})),o=u+1,i=h)})),r})),n};t.findType1Conflicts=s;var u=function(e,t){var n={},r=function(t,r,i,o,a){for(var s,u=[],c=r;c<i;c++)u.push(c);u.forEach((function(r){var i;s=t[r],e.node(s).dummy&&(null===(i=e.predecessors(s))||void 0===i||i.forEach((function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&l(n,t,s)})))}))};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,n){var i,o=-1,a=0;return null===n||void 0===n||n.forEach((function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s)||[];c.length&&(i=e.node(c[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n};t.findType2Conflicts=u;var c=function(e,t){var n;if(e.node(t).dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find((function(t){return e.node(t).dummy}))},l=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0};t.addConflict=l;var f=function(e,t,n){var r=t,i=n;r>i&&(r=i,i=t);return e[r]&&e[r].hasOwnProperty(i)};t.hasConflict=f;var d=function(e,t,n,r){var i={},o={},a={};return null===t||void 0===t||t.forEach((function(e){null===e||void 0===e||e.forEach((function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),null===t||void 0===t||t.forEach((function(e){var t=-1;null===e||void 0===e||e.forEach((function(e){var s=r(e);if(s.length)for(var u=((s=s.sort((function(e,t){return a[e]-a[t]}))).length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var d=s[c];o[e]===e&&t<a[d]&&!f(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}))})),{root:i,align:o}};t.verticalAlignment=d;var h=function(e,t,n,r,i){var o,a={},s=p(e,t,n,i),u=i?"borderLeft":"borderRight",c=function(e,t){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return c((function(e){a[e]=(s.inEdges(e)||[]).reduce((function(e,t){return Math.max(e,(a[t.v]||0)+s.edge(t))}),0)}),s.predecessors.bind(s)),c((function(t){var n=(s.outEdges(t)||[]).reduce((function(e,t){return Math.min(e,(a[t.w]||0)-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}),s.successors.bind(s)),null===(o=Object.values(r))||void 0===o||o.forEach((function(e){a[e]=a[n[e]]})),a};t.horizontalCompaction=h;var p=function(e,t,n,r){var i=new a,o=e.graph(),s=b(o.nodesep,o.edgesep,r);return null===t||void 0===t||t.forEach((function(t){var r;null===t||void 0===t||t.forEach((function(t){var o=n[t];if(i.setNode(o),r){var a=n[r],u=i.edge(a,o);i.setEdge(a,o,Math.max(s(e,t,r),u||0))}r=t}))})),i},v=function(e,t){return o.default.minBy(Object.values(t),(function(t){var n,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((function(n){var o=t[n],a=x(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i}))};function g(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach((function(n){["l","r"].forEach((function(o){var a,s=n+o,u=e[s];if(u!==t){var c=Object.values(u);(a="l"===o?r-Math.min.apply(Math,c):i-Math.max.apply(Math,c))&&(e[s]={},Object.keys(u).forEach((function(t){e[s][t]=u[t]+a})))}}))}))}t.findSmallestWidthAlignment=v,t.alignCoordinates=g;var m=function(e,t){var n={};return Object.keys(e.ul).forEach((function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map((function(e){return e[r]})).sort((function(e,t){return e-t}));n[r]=(i[1]+i[2])/2}})),n};t.balance=m;var y=function(e){var t,n=o.default.buildLayerMatrix(e),r=Object.assign(s(e,n),u(e,n)),i={};["u","d"].forEach((function(o){t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=d(0,t,r,a),u=h(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Object.values(u).map((function(e){return-e}))),i[o+n]=u}))}));var a=v(e,i);return g(i,a),m(i,e.graph().align)};t.positionX=y;var b=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),c=0;if(c+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}},x=function(e,t){var n;return(null===(n=e.node(t))||void 0===n?void 0:n.width)||0};t.default={positionX:y,findType1Conflicts:s,findType2Conflicts:u,addConflict:l,hasConflict:f,verticalAlignment:d,horizontalCompaction:h,alignCoordinates:g,findSmallestWidthAlignment:v,balance:m}},57746:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=n(59864);t.default=function(e){var t;!function(e){var t=i.default.buildLayerMatrix(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach((function(t){var i=t.map((function(t){return e.node(t).height})),o=Math.max.apply(Math,i);null===t||void 0===t||t.forEach((function(t){e.node(t).y=r+o/2})),r+=o+n}))}(e=i.default.asNonCompoundGraph(e));var n=function(e){var t,n=i.default.buildLayerMatrix(e),r=Object.assign((0,o.findType1Conflicts)(e,n),(0,o.findType2Conflicts)(e,n)),a={};["u","d"].forEach((function(i){t="u"===i?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var s=("u"===i?e.predecessors:e.successors).bind(e),u=(0,o.verticalAlignment)(e,t,r,s),c=(0,o.horizontalCompaction)(e,t,u.root,u.align,"r"===n);"r"===n&&Object.keys(c).forEach((function(e){return c[e]=-c[e]})),a[i+n]=c}))}));var s=(0,o.findSmallestWidthAlignment)(e,a);return s&&(0,o.alignCoordinates)(a,s),(0,o.balance)(a,e.graph().align)}(e);null===(t=Object.keys(n))||void 0===t||t.forEach((function(t){e.node(t).x=n[t]}))}},20358:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var i=r(n(99770)),o=n(91850),a=n(81724),s=i.default.Graph,u=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});c(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTree=u;var c=function(e,t){return e.nodes().forEach((function n(r){t.nodeEdges(r).forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},l=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});f(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTreeWithLayer=l;var f=function(e,t){return e.nodes().forEach((function n(r){var i;null===(i=t.nodeEdges(r))||void 0===i||i.forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},d=function(e,t){return(0,a.minBy)(t.edges(),(function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,o.slack)(t,n):1/0}))},h=function(e,t,n){e.nodes().forEach((function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n}))};t.default={feasibleTree:u,feasibleTreeWithLayer:l}},77098:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(91850),o=n(20358),a=r(n(67922)),s=i.longestPath,u=function(e){(0,i.longestPathWithLayer)(e),(0,o.feasibleTreeWithLayer)(e)},c=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":c(e);break;case"tight-tree":default:u(e);break;case"longest-path":s(e)}}},67922:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(20358),o=n(91850),a=n(81724),s=r(n(99770)).default.alg,u=s.preorder,c=s.postorder,l=function(e){e=(0,a.simplify)(e),(0,o.longestPath)(e);var t,n,r=(0,i.feasibleTree)(e);for(p(r),f(r,e);t=g(r);)n=m(r,e,t),y(r,e,t,n)},f=function(e,t){var n=c(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach((function(n){d(e,t,n)}))},d=function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)},h=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var c=a===o,l=t.edge(r).weight;if(s+=c?l:-l,x(e,n,u)){var f=e.edge(n,u).cutvalue;s+=c?-f:f}}})),s},p=function(e,t){void 0!==t&&(t=e.nodes()[0]),v(e,{},1,t)},v=function e(t,n,r,i,o){var a,s=r,u=r,c=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach((function(r){n.hasOwnProperty(r)||(u=e(t,n,u,r,i))})),c.low=s,c.lim=u++,o?c.parent=o:delete c.parent,u},g=function(e){return e.edges().find((function(t){return e.edge(t).cutvalue<0}))},m=function(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),u=e.node(i),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=t.edges().filter((function(t){return l===w(e,e.node(t.v),c)&&l!==w(e,e.node(t.w),c)}));return(0,a.minBy)(f,(function(e){return(0,o.slack)(t,e)}))},y=function(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),p(e),f(e,t),b(e,t)},b=function(e,t){var n=e.nodes().find((function(e){return!t.node(e).parent})),r=u(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach((function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))},x=function(e,t,n){return e.hasEdge(t,n)},w=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=h,l.leaveEdge=g,l.enterEdge=m,l.exchangeEdges=y,t.default=l},91850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var n=function(e){var t,n={},r=function t(r){var i,o=e.node(r);if(n.hasOwnProperty(r))return o.rank;n[r]=!0;var a=null===(i=e.outEdges(r))||void 0===i?void 0:i.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),s=Math.min.apply(Math,a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),o.rank=s,s};null===(t=e.sources())||void 0===t||t.forEach((function(e){return r(e)}))};t.longestPath=n;var r=function(e){var t,n={},r=0,i=function t(i){var o,a=e.node(i);if(n.hasOwnProperty(i))return a.rank;n[i]=!0;var s=null===(o=e.outEdges(i))||void 0===o?void 0:o.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),u=Math.min.apply(Math,s);return u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0),a.rank=u,r=Math.min(a.rank,r),a.rank};null===(t=e.sources())||void 0===t||t.forEach((function(e){return i(e)})),r+=1;var o=function t(n,r){var i,o=e.node(n),a=isNaN(o.layer)?r:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),null===(i=e.outEdges(n))||void 0===i||i.map((function(n){t(n.w,a+e.edge(n).minlen)}))};e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)?n.rank-=r:o(t,n.layer)}))};t.longestPathWithLayer=r;var i=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=i,t.default={longestPath:n,longestPathWithLayer:r,slack:i}},81724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var i=n(51784),o=r(n(99770)).default.Graph,a=function(e,t,n,r){var i;do{i=""+r+Math.random()}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i};t.addDummyNode=a;var s=function(e){var t=(new o).setGraph(e.graph());return e.nodes().forEach((function(n){t.setNode(n,e.node(n))})),e.edges().forEach((function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t};t.simplify=s;var u=function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))})),e.edges().forEach((function(n){return t.setEdge(n,e.edge(n))})),t};t.asNonCompoundGraph=u;var c=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e,r){n[e]=t[r]})),n};t.zipObject=c;var l=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.outEdges(t))||void 0===n||n.forEach((function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)};t.successorWeights=l;var f=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach((function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)};t.predecessorWeights=f;var d=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,c=e.height/2;return a||s?(Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};t.intersectRect=d;var h=function(e){for(var t=[],n=[],r=m(e)+1,i=0;i<r;i++)t.push([]),n.push([]);return e.nodes().forEach((function(r){var i=e.node(r).rank;void 0!==i&&t[i]&&n[i].push(r)})),null===n||void 0===n||n.forEach((function(n,r){null===n||void 0===n||n.sort((function(t,n){var r,i;return(null===(r=e.node(t))||void 0===r?void 0:r.order)-(null===(i=e.node(n))||void 0===i?void 0:i.order)})),n.forEach((function(e){t[r].push(e)}))})),t};t.buildLayerMatrix=h;var p=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t);e.nodes().forEach((function(t){var r=e.node(t);r.hasOwnProperty("rank")&&(r.rank||(r.rank=0),r.rank-=n)}))};t.normalizeRanks=p;var v=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t),r=[];e.nodes().forEach((function(t){var i,o=((null===(i=e.node(t))||void 0===i?void 0:i.rank)||0)-n;r[o]||(r[o]=[]),r[o].push(t)}));for(var i=0,o=e.graph().nodeRankFactor||0,a=0;a<r.length;a++){var s=r[a];void 0===s&&a%o!==0?--i:i&&(null===s||void 0===s||s.forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=i})))}};t.removeEmptyRanks=v;var g=function(e,t,n,r){var o={width:0,height:0};return(0,i.isNumber)(n)&&(0,i.isNumber)(r)&&(o.rank=n,o.order=r),a(e,"border",o,t)};t.addBorderNode=g;var m=function(e){var t=e.nodes().map((function(t){var n=e.node(t).rank;return void 0!==n?n:-1/0}));return Math.max.apply(Math,t)};t.maxRank=m;var y=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach((function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n};t.partition=y;var b=function(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}};t.time=b;var x=function(e,t){return t()};t.notime=x;var w=function(e,t){var n,r=1/0;return null===e||void 0===e||e.forEach((function(e){var i=t(e);r>i&&(r=i,n=e)})),n};t.minBy=w,t.default={addDummyNode:a,simplify:s,asNonCompoundGraph:u,successorWeights:l,predecessorWeights:f,intersectRect:d,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:v,addBorderNode:g,maxRank:m,partition:y,time:b,notime:x,zipObject:c,minBy:w}},47530:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(14950),s=n(99457),u=n(51784),c=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map((function(e){return i(i({},e),{collapsed:!0})})))},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;if(t){var r=e.getLayoutConfig(),i=r.graphDef,o=r.graphOption,a=r.graphSettings,u=(0,s.buildGraph)(i,o,a),c=(0,s.flatGraph)(u,!0);return this.updatePosition(c),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find((function(t){return t.id===e}));return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var i=n.find((function(e){return e.id===t}));return i?(r.unshift(t),i.parentId?e(i.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this,c=a.nodes,l=a.edges,f=a.combos,d=a.nodeSize,h=a.rankdir,p=a.align,v=a.edgesep,g=a.nodesep,m=a.ranksep,y=a.settings,b=(f||[]).reduce((function(e,t){var n=c.filter((function(e){return e.comboId===t.id})).map((function(e){return e.id})),r=(f||[]).filter((function(e){return e.parentId===t.id})).map((function(e){return e.id}));return(n.length||r.length)&&(e[t.id]=o(o([],n,!0),r,!0)),e}),{});r=d?(0,u.isArray)(d)?function(){return d}:function(){return[d,d]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var x=function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:[e.size,e.size]:[80,40]}(null===f||void 0===f?void 0:f[0]),w=x[0],_=x[1],E=null===(t=null===(e=a.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,S=(null===(n=f.find((function(e){return!e.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],k=S[0],C=S[1],M=S[2],O=S[3],N={compound:b,nodes:o([],(c||[]).map((function(e){var t=r(e),n=t[0],o=t[1];return i(i({},e),{width:n,height:o})})),!0),edges:o([],(l||[]).map((function(e){return i(i({},e),{v:e.source,w:e.target})})),!0)},T={expanded:(f||[]).filter((function(e){return!e.collapsed})).map((function(e){return e.id}))},A={graph:{meta:{align:p,rankDir:h,nodeSep:g,edgeSep:v,rankSep:m}},subScene:{meta:{paddingTop:k||(null===E||void 0===E?void 0:E.paddingTop)||20,paddingRight:C||(null===E||void 0===E?void 0:E.paddingRight)||20,paddingBottom:M||(null===E||void 0===E?void 0:E.paddingBottom)||20,paddingLeft:O||(null===E||void 0===E?void 0:E.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:w,height:_}}},P=(0,s.mergeConfig)(y,i({},(0,s.mergeConfig)(A,s.LAYOUT_CONFIG)));return a.graphSettings=P,{graphDef:N,graphOption:T,graphSettings:P}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;e.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)})),t.forEach((function(e){e.points.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)}))})),r[0]=n[0]-i,r[1]=n[1]-o}return r},t.prototype.updateNodePosition=function(e,t){var n=this,r=n.combos,i=n.nodes,o=n.edges,a=n.anchorPoint,u=n.graphSettings,c=this.getBegin(e,t);e.forEach((function(e){var n,l=e.x,f=e.y,d=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&d!==s.ROOT_NAME){var v=r.findIndex((function(e){return e.id===d})),g=null===(n=null===u||void 0===u?void 0:u.subScene)||void 0===n?void 0:n.meta;r[v].offsetX=l+c[0],r[v].offsetY=f+c[1],r[v].fixSize=[p.width,p.height],r[v].fixCollapseSize=[p.width,p.height],e.expanded?r[v].padding=[null===g||void 0===g?void 0:g.paddingTop,null===g||void 0===g?void 0:g.paddingRight,null===g||void 0===g?void 0:g.paddingBottom,null===g||void 0===g?void 0:g.paddingLeft]:r[v].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){v=i.findIndex((function(e){return e.id===d}));if(i[v].x=l+c[0],i[v].y=f+c[1],a){var m=[],y=t.filter((function(e){return e.v===d})),b=t.filter((function(e){return e.w===d}));y.length>0&&y.forEach((function(t){var n=t.points[0],r=(n.x-l)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.sourceAnchor=m.length-1)}))})),b.length>0&&b.forEach((function(t){var n=t.points[t.points.length-1],r=(n.x-l)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.targetAnchor=m.length-1)}))})),i[v].anchorPoints=m.length>0?m:i[v].anchorPoints||[]}}}))},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,c=this.getBegin(e,t);u&&(r.forEach((function(e){e.inEdges=[],e.outEdges=[]})),a.forEach((function(t){var a,u,l,f,d=e.find((function(e){return e.id===t.source})),h=e.find((function(e){return e.id===t.target})),p=[],v=[];if(d&&h)v=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e);else if(!d||!h){var g=n.getNodePath(t.source),m=n.getNodePath(t.target),y=g.reverse().slice(d?0:1).find((function(t){return e.find((function(e){return e.id===t}))})),b=m.reverse().slice(h?0:1).find((function(t){return e.find((function(e){return e.id===t}))}));d=e.find((function(e){return e.id===y})),h=e.find((function(e){return e.id===b})),v=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=v.reduce((function(e,t){return o(o([],e,!0),t.points.map((function(e){return i(i({},e),{x:e.x+c[0],y:e.y+c[1]})})),!0)}),[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}));if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:d.id,target:h.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===s.NodeType.META){x=r.findIndex((function(e){return e.id===(null===d||void 0===d?void 0:d.id)}));if(!r[x]||(null===(l=r[x].outEdges)||void 0===l?void 0:l.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(f=r[x].outEdges)||void 0===f||f.push({source:d.id,target:h.id,controlPoints:p})}})))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every((function(e){return void 0!==e.layoutOrder}))||e.forEach((function(e,t){e.layoutOrder=t})),e.sort((function(e,t){return e.layoutOrder-t.layoutOrder}))},t}(a.Base);t.DagreCompoundLayout=c},59150:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(8878)),c=s(n(9523)),l=s(n(93529)),f=n(71893);t.default=function(e,t){var n=e.nodes,i=e.edges,o=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(e){if(i.filter((function(t){return t.source===e.id||t.target===e.id})).length>1){var t=r({},e);delete t.size,s.push(t)}}));var d=[];i.forEach((function(e){var t=s.find((function(t){return t.id===e.source})),n=s.find((function(t){return t.id===e.target}));t&&n&&d.push(e)}));var h=new f.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach((function(e){var t=(h||[]).find((function(t){return t.id===e.id}));e.x=(null===t||void 0===t?void 0:t.x)||o/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),v=JSON.parse(JSON.stringify(i)),g=u.forceSimulation().nodes(p).force("link",u.forceLink(v).id((function(e){return e.id})).distance((function(e){return d.find((function(t){return t.source===e.source&&t.target===e.target}))?30:20}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(e){g.on("end",(function(){n.forEach((function(e){var t=p.find((function(t){return t.id===e.id}));t&&(e.x=t.x,e.y=t.y)}));var r=Math.min.apply(Math,n.map((function(e){return e.x}))),s=Math.max.apply(Math,n.map((function(e){return e.x}))),u=Math.min.apply(Math,n.map((function(e){return e.y}))),f=Math.max.apply(Math,n.map((function(e){return e.y}))),d=o/(s-r),h=a/(f-u);n.forEach((function(e){void 0!==e.x&&d<1&&(e.x=(e.x-r)*d),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)})),n.forEach((function(e){e.sizeTemp=e.size,e.size=[10,10]})),(0,l.default)(n,i),n.forEach((function(e){e.size=e.sizeTemp||[],delete e.sizeTemp})),(0,c.default)({nodes:n,edges:i},t),e()}))}))}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(18048));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,o=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach((function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)}));var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach((function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)}));for(var c=0;c<e.nodes.length;c++){var l=e.nodes[c],f=u.findGridByNodeId(l.id);if(!f)throw new Error("can not find node cell");var d=f.column,h=f.row;if(l.size[0]+o>a){for(var p=g=Math.ceil((l.size[0]+o)/a)-1,v=0;v<g;v++){if(!(u.additionColumn.indexOf(d+v+1)>-1)||u.cells[d+v+1][h].node)break;p--}u.insertColumn(d,p)}if(l.size[1]+o>s){var g;for(p=g=Math.ceil((l.size[1]+o)/s)-1,v=0;v<g;v++){if(!(u.additionRow.indexOf(h+v+1)>-1)||u.cells[d][h+v+1].node)break;p--}u.insertRow(h,p)}}for(c=0;c<u.columnNum;c++){var m=function(t){var n=u.cells[c][t];if(n.node){var r=e.nodes.find((function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(v=0;v<u.rowNum;v++)m(v)}}},18048:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>e;r--)for(i=0;i<this.rowNum;i++)this.cells[r+t][i]=n(n({},this.cells[r][i]),{x:(r+t)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=e&&(this.additionColumn[i]+=t);for(r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>e;r--)this.cells[i][r+t]=n(n({},this.cells[i][r]),{dx:i,dy:r+t,x:i*this.CELL_W,y:(r+t)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(i=0;i<t;i++)this.additionRow.push(e+i+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=r},68698:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var o=n(14950),a=i(n(59150)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach((function(e){e.size||(e.size=[50,50])})),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.getType=function(){return"er"},t}(o.Base);t.ERLayout=s},93529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=1e7,r=1.5707963267948966,i=new Map,o=.8;function a(e,t){var o=(i.get(e.id)||[]).find((function(e){return e.source===t.id||e.target===t.id})),a=e.size[0]*e.size[1],s=t.size[0]*t.size[1],u=a>s?t:e,c=a>s?e:t,l=u.x-u.size[0]/2,f=u.y-u.size[1]/2,d=u.x+u.size[0]/2,h=u.y+u.size[1]/2,p=c.x-c.size[0]/2,v=c.y-c.size[1]/2,g=c.x+c.size[0]/2,m=c.y+c.size[1]/2,y=u.x,b=u.y,x=c.x,w=c.y,_=0,E=0;if(d>=p&&g>=l&&h>=v&&m>=f){0===(E=Math.sqrt(Math.pow(x-y,2)+Math.pow(w-b,2)))&&(E=1e-7),_=10/E*100+((d<g?d:g)-(l>p?l:p))*((h<m?h:m)-(f>v?f:v)),_*=n}else{var S=!1,k=function(e,t,n){var i=e.x-e.size[0]/2,o=e.y-e.size[1]/2,a=e.x+e.size[0]/2,s=e.y+e.size[1]/2,u=t.x-t.size[0]/2,c=t.y-t.size[1]/2,l=t.x+t.size[0]/2,f=t.y+t.size[1]/2,d=e.x,h=e.y,p=t.x,v=t.y,g=p-d,m=Math.atan2(g,v-h),y=0,b=0,x=0,w=0;m>r?(b=o-f,y=u-a,x=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),w=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):x=w=0<m&&m<=r?(b=c-s)>(y=u-a)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):m<-r?(b=o-f)>(y=-(l-i))?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):(b=c-s)>(y=Math.abs(g)>(a-i)/2?i-l:g)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y&&0!==m?(y/Math.sin(m)).toFixed(2):b.toFixed(2));var _=parseFloat(m.toFixed(2)),E=n;return n&&(E=1.1780972450961724<_&&_<1.9634954084936207),{distance:Math.abs(x<w?x:w),isHoriz:E}}(u,c,S);E=k.distance,S=k.isHoriz,E<=10?_+=0!==E?o?10+1e7/E:10+1e8/E:n:(_+=E,o&&(_+=E*E))}return _}function s(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];(r.x<0||r.y<0||r.x>1200||r.y>800)&&(t+=1e12);for(var i=n+1;i<e.length;i++)t+=a(r,e[i])}return t}function u(e,t,n,r){var i=new Map;n.forEach((function(e,t){i.set(e.id,e)}));var o=r.filter((function(t){return t.source===e.id||t.target===e.id}))||[],a=[];o.forEach((function(t){var n=t.source===e.id?t.target:t.source,r=i.get(n);r&&a.push(r)}));for(var s=!0,u=0;u<a.length;u++){var c=a[u],l=180*Math.atan((e.y-c.y)/(c.x-e.y)),f=180*Math.atan((t.y-c.y)/(c.x-t.y)),d=l>70&&l<110,h=f>70&&f<110;if((l<30||l>150)&&!(f<30||f>150)||l*f<0){s=!1;break}if(d&&!h||l*f<0){s=!1;break}if((c.x-e.x)*(c.x-t.x)<0){s=!1;break}if((c.y-e.y)*(c.y-t.y)<0){s=!1;break}}return s}function c(e,t){for(var n=!1,r=[10,-10,0,0],i=[0,0,10,-10],a=0;a<e.length;++a)for(var c=e[a],f=l(c,e),d=0;d<r.length;d++){if(u(c,{x:c.x+r[d],y:c.y+i[d]},e,t)){c.x+=r[d],c.y+=i[d];var h=l(c,e),p=Math.random();h<f||p<o&&p>.1?(f=h,n=!0):(c.x-=r[d],c.y-=i[d])}}return o>.1&&(o*=.5),n?s(e):0}function l(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>1200||e.y+e.size[1]+20>800)&&(n+=1e12);for(var r=0;r<t.length;++r)e.id!==t[r].id&&(n+=a(e,t[r]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach((function(e){var n=t.filter((function(t){return t.source===e.id||t.target===e.id}));i.set(e,n)})),e.sort((function(e,t){var n,r;return(null===(n=i.get(e.id))||void 0===n?void 0:n.length)-(null===(r=i.get(t.id))||void 0===r?void 0:r.length)}));for(var n=s(e),r=20,o=1,a=0,u=0;r>0&&!(++u>=50);){var l=c(e,t);0!==l&&(a=l),o=a-n,n=a,0===o?--r:r=20}return e.forEach((function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2})),{nodes:e,edges:t}}},99662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(8878)),s=n(51784);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),i=e(-1),o=e(100),u=e(.1),c=[0,0],l=[],f={},d=[],h=100,p=100,v={none:{x:0,y:0}},g=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),_();for(var r=0,i=l.length,o=void 0,a=e*b;r<i;++r)(o=l[r]).vx+=(v[n(o)].x-o.x)*a,o.vy+=(v[n(o)].y-o.y)*a}function w(){l&&function(){if(!l||!l.length)return;if(void 0===n(l[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],i={},o={},a=[];return o=function(e){var t={};return e.forEach((function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})})),e.forEach((function(e){var i=n(e),o=r(e),a=t[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,t[i]=a})),t}(l),a=function(e){var t={},r=[];return e.forEach((function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=n(f[t]),o=n(f[r]);return i<=o?i+"~"+o:o+"~"+i}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i})),Object.entries(t).forEach((function(e){var t=e[0],n=e[1],i=t.split("~")[0],o=t.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})})),r}(d),Object.keys(o).forEach((function(t,n){var r=o[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),i[t]=n})),a.forEach((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=i[n],a=i[r];void 0!==o&&void 0!==a&&t.push({source:o,target:a,count:e.count})})),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(e){return e.r})).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(o).strength(u)),g=t.nodes(),_()}()}function _(){return v={none:{x:0,y:0}},g.forEach((function(e){v[e.id]={x:e.x-c[0],y:e.y-c[1]}})),v}function E(e){f={},e.forEach((function(e){f[e.id]=e}))}return x.initialize=function(e){l=e,w()},x.template=function(e){return arguments.length?(m=e,w(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(E(e||[]),l=e||[],x):l},x.links=function(e){return arguments.length?(d=e||[],w(),x):d},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),w(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),w(),x):i},x.forceLinkDistance=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),w(),x):o},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.offset=function(e){return arguments.length?(c=e,x):c},x.getFocis=_,x}},39902:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(8878)),c=s(n(99662)),l=n(51784),f=n(14950),d=n(73023),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){var t=this;t.nodes=e.nodes||[];var n=e.edges||[];t.edges=n.map((function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach((function(r){n.indexOf(r)>-1||(t[r]=e[r])})),t})),t.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var i=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(i){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),i.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}t.preventOverlap&&t.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var l=u.forceManyBody();if(t.nodeStrength&&l.strength(t.nodeStrength),i=u.forceSimulation().nodes(n),t.clustering){var f=(0,c.default)();f.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=f,i.force("group",f)}if(i.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",l).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(i),r){var h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){i.stop();for(var v=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),i=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(i)}(i),g=1;g<=v;g++)i.tick(),postMessage({nodes:n,currentTick:g,totalTicks:v,type:d.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else i.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=i,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this,i=r.nodeSize,o=r.nodeSpacing,a=r.collideStrength;if(n=(0,l.isNumber)(o)?function(){return o}:(0,l.isFunction)(o)?o:function(){return 0},i)if((0,l.isFunction)(i))t=function(e){return i(e)+n(e)};else if((0,l.isArray)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;t=function(e){return s+n(e)}}else if((0,l.isNumber)(i)){var c=i/2;t=function(e){return c+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,l.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,l.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(a))},t.prototype.updateCfg=function(e){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)},t.prototype.destroy=function(){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0},t}(f.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},2283:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(39902),t)},57941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=n},63299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var o=n(14950),a=n(51784),s=i(n(57941)),u=i(n(9171)),c=i(n(80612)),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.onLayoutEnd,r=e.prune,i=e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);for(var o=[],s=t.length,u=0;u<s;u+=1){var c=t[u],l=10,f=10;(0,a.isNumber)(c.size)&&(l=c.size,f=c.size),(0,a.isArray)(c.size)?(isNaN(c.size[0])||(l=c.size[0]),isNaN(c.size[1])||(f=c.size[1])):(0,a.isObject)(c.size)&&(l=c.size.width,f=c.size.height),e.getWidth&&!isNaN(e.getWidth(c))&&(f=e.getWidth(c)),e.getHeight&&!isNaN(e.getHeight(c))&&(l=e.getHeight(c));var d=Math.max(l,f);o.push(d)}void 0===e.barnesHut&&s>250&&(e.barnesHut=!0),void 0===e.prune&&s>100&&(e.prune=!0),0!==this.maxIteration||e.prune?0===this.maxIteration&&r&&(i=100,s<=200&&s>100?i=500:s>200&&(i=950),this.maxIteration=i):(i=250,s<=200&&s>100?i=1e3:s>200&&(i=1200),this.maxIteration=i),e.kr||(e.kr=50,s>100&&s<=500?e.kr=20:s>500&&(e.kr=1)),e.kg||(e.kg=20,s>100&&s<=500?e.kg=10:s>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(o),n()},t.prototype.updateNodesByForces=function(e){for(var t=this,n=t.edges,r=t.maxIteration,i=t.nodes,o=n.filter((function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")})),s=i.length,u=o.length,c=[],l={},f={},d=[],h=0;h<s;h+=1)l[i[h].id]=h,c[h]=0,(void 0===i[h].x||isNaN(i[h].x))&&(i[h].x=1e3*Math.random()),(void 0===i[h].y||isNaN(i[h].y))&&(i[h].y=1e3*Math.random()),d.push({x:i[h].x,y:i[h].y});for(h=0;h<u;h+=1){for(var p=void 0,v=void 0,g=0,m=0,y=0;y<s;y+=1){var b=(0,a.getEdgeTerminal)(o[h],"source"),x=(0,a.getEdgeTerminal)(o[h],"target");i[y].id===b?(p=i[y],g=y):i[y].id===x&&(v=i[y],m=y),f[h]={sourceIdx:g,targetIdx:m}}p&&(c[l[p.id]]+=1),v&&(c[l[v.id]]+=1)}var w=r;if(i=this.iterate(w,l,f,u,c,e),t.prune){for(y=0;y<u;y+=1)c[f[y].sourceIdx]<=1?(i[f[y].sourceIdx].x=i[f[y].targetIdx].x,i[f[y].sourceIdx].y=i[f[y].targetIdx].y):c[f[y].targetIdx]<=1&&(i[f[y].targetIdx].x=i[f[y].sourceIdx].x,i[f[y].targetIdx].y=i[f[y].sourceIdx].y);t.prune=!1,t.barnesHut=!1,w=100,i=this.iterate(w,l,f,u,c,e)}return i},t.prototype.iterate=function(e,t,n,r,i,o){for(var a=this,u=a.nodes,c=a.kr,l=a.preventOverlap,f=a.barnesHut,d=u.length,h=0,p=e,v=[],g=[],m=[],y=0;y<d;y+=1)if(v[2*y]=0,v[2*y+1]=0,f){var b={id:y,rx:u[y].x,ry:u[y].y,mass:1,g:c,degree:i[y]};m[y]=new s.default(b)}for(;p>0;){for(y=0;y<d;y+=1)g[2*y]=v[2*y],g[2*y+1]=v[2*y+1],v[2*y]=0,v[2*y+1]=0;v=this.getAttrForces(p,50,r,t,n,i,o,v),v=f&&(l&&p>50||!l)?this.getOptRepGraForces(v,m,i):this.getRepGraForces(p,50,v,100,o,i);var x=this.updatePos(v,g,h,i);u=x.nodes,h=x.sg,p--,a.tick&&a.tick()}return u},t.prototype.getAttrForces=function(e,t,n,r,i,o,a,s){for(var u=this,c=u.nodes,l=u.preventOverlap,f=u.dissuadeHubs,d=u.mode,h=u.prune,p=0;p<n;p+=1){var v=c[i[p].sourceIdx],g=i[p].sourceIdx,m=c[i[p].targetIdx],y=i[p].targetIdx;if(!h||!(o[g]<=1||o[y]<=1)){var b=[m.x-v.x,m.y-v.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,l&&e<t&&(x=x-a[g]-a[y]);var w=x,_=w;"linlog"===d&&(_=w=Math.log(1+x)),f&&(w=x/o[g],_=x/o[y]),l&&e<t&&x<=0?(w=0,_=0):l&&e<t&&x>0&&(w=x,_=x),s[2*r[v.id]]+=w*b[0],s[2*r[m.id]]-=_*b[0],s[2*r[v.id]+1]+=w*b[1],s[2*r[m.id]+1]-=_*b[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,i,o){for(var a=this,s=a.nodes,u=a.preventOverlap,c=a.kr,l=a.kg,f=a.center,d=a.prune,h=s.length,p=0;p<h;p+=1){for(var v=p+1;v<h;v+=1)if(!d||!(o[p]<=1||o[v]<=1)){var g=[s[v].x-s[p].x,s[v].y-s[p].y],m=Math.hypot(g[0],g[1]);m=m<1e-4?1e-4:m,g[0]=g[0]/m,g[1]=g[1]/m,u&&e<t&&(m=m-i[p]-i[v]);var y=c*(o[p]+1)*(o[v]+1)/m;u&&e<t&&m<0?y=r*(o[p]+1)*(o[v]+1):u&&e<t&&0===m?y=0:u&&e<t&&m>0&&(y=c*(o[p]+1)*(o[v]+1)/m),n[2*p]-=y*g[0],n[2*v]+=y*g[0],n[2*p+1]-=y*g[1],n[2*v+1]+=y*g[1]}var b=[s[p].x-f[0],s[p].y-f[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var w=l*(o[p]+1);n[2*p]-=w*b[0],n[2*p+1]-=w*b[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this,i=r.nodes,o=r.kg,a=r.center,s=r.prune,l=i.length,f=9e10,d=-9e10,h=9e10,p=-9e10,v=0;v<l;v+=1)s&&n[v]<=1||(t[v].setPos(i[v].x,i[v].y),i[v].x>=d&&(d=i[v].x),i[v].x<=f&&(f=i[v].x),i[v].y>=p&&(p=i[v].y),i[v].y<=h&&(h=i[v].y));var g={xmid:(d+f)/2,ymid:(p+h)/2,length:Math.max(d-f,p-h),massCenter:a,mass:l},m=new u.default(g),y=new c.default(m);for(v=0;v<l;v+=1)s&&n[v]<=1||t[v].in(m)&&y.insert(t[v]);for(v=0;v<l;v+=1)if(!(s&&n[v]<=1)){t[v].resetForce(),y.updateForce(t[v]),e[2*v]-=t[v].fx,e[2*v+1]-=t[v].fy;var b=[i[v].x-a[0],i[v].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var w=o*(n[v]+1);e[2*v]-=w*b[0],e[2*v+1]-=w*b[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var i=this,o=i.nodes,a=i.ks,s=i.tao,u=i.prune,c=i.ksmax,l=o.length,f=[],d=[],h=0,p=0,v=0;v<l;v+=1)if(!(u&&r[v]<=1)){var g=[e[2*v]-t[2*v],e[2*v+1]-t[2*v+1]],m=Math.hypot(g[0],g[1]),y=[e[2*v]+t[2*v],e[2*v+1]+t[2*v+1]],b=Math.hypot(y[0],y[1]);f[v]=m,d[v]=b/2,h+=(r[v]+1)*f[v],p+=(r[v]+1)*d[v]}var x=n;n=s*p/h,0!==x&&(n=n>1.5*x?1.5*x:n);for(v=0;v<l;v+=1)if(!(u&&r[v]<=1)){var w=a*n/(1+n*Math.sqrt(f[v])),_=Math.hypot(e[2*v],e[2*v+1]),E=c/(_=_<1e-4?1e-4:_),S=(w=w>E?E:w)*e[2*v],k=w*e[2*v+1];o[v].x+=S,o[v].y+=k}return{nodes:o,sg:n}},t}(o.Base);t.ForceAtlas2Layout=l},9171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=n},80612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=n},54328:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var i=n(14950),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var a=r.center;if(1===i.length)return i[0].x=a[0],i[0].y=a[1],void(null===(t=r.onLayoutEnd)||void 0===t||t.call(r));var s={},u={};return i.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),r.nodeMap=s,r.nodeIdxMap=u,r.run()}null===(e=r.onLayoutEnd)||void 0===e||e.call(r)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,i=t.maxIteration,o=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach((function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})})),o||!s){for(var c=0;c<i;c++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var e;t.runOneStep(u),++l>=i&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))}),0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes;if(r){var i=n.edges,a=n.center,s=n.gravity,u=n.speed,c=n.clustering,l=n.height*n.width,f=Math.sqrt(l)/10,d=l/(r.length+1),h=Math.sqrt(d),p=[];if(r.forEach((function(e,t){p[t]={x:0,y:0}})),n.applyCalculate(r,i,p,h,d),c){for(var v in e)e[v].cx=0,e[v].cy=0,e[v].count=0;for(var v in r.forEach((function(t){var n=e[t.cluster];(0,o.isNumber)(t.x)&&(n.cx+=t.x),(0,o.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[v].cx/=e[v].count,e[v].cy/=e[v].count;var g=n.clusterGravity||s;r.forEach((function(t,n){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var r=e[t.cluster],i=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=h*g;p[n].x-=a*(t.x-r.cx)/i,p[n].y-=a*(t.y-r.cy)/i}}))}r.forEach((function(e,t){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=.01*h*s;p[t].x-=n*(e.x-a[0]),p[t].y-=n*(e.y-a[1])}})),r.forEach((function(e,t){if((0,o.isNumber)(e.fx)&&(0,o.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=Math.sqrt(p[t].x*p[t].x+p[t].y*p[t].y);if(n>0){var r=Math.min(f*(u/800),n);e.x+=p[t].x/n*r,e.y+=p[t].y/n*r}}})),null===(t=n.tick)||void 0===t||t.call(n)}},t.prototype.applyCalculate=function(e,t,n,r,i){this.calRepulsive(e,n,i),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach((function(r,i){t[i]={x:0,y:0},e.forEach((function(e,a){if(i!==a&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(e.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,c=s*s+u*u;if(0===c){c=1;var l=i>a?1:-1;s=.01*l,u=.01*l}var f=n/c;t[i].x+=s*f,t[i].y+=u*f}}))}))},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach((function(e){var i=(0,o.getEdgeTerminal)(e,"source"),a=(0,o.getEdgeTerminal)(e,"target");if(i&&a){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[a];if(s!==u){var c=r.nodeMap[i],l=r.nodeMap[a];if((0,o.isNumber)(l.x)&&(0,o.isNumber)(c.x)&&(0,o.isNumber)(l.y)&&(0,o.isNumber)(c.y)){var f=l.x-c.x,d=l.y-c.y,h=Math.sqrt(f*f+d*d),p=h*h/n;t[u].x-=f/h*p,t[u].y-=d/h*p,t[s].x+=f/h*p,t[s].y+=d/h*p}}}}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(i.Base);t.FruchtermanLayout=a},14461:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var i=n(14950),o=n(51784),a=function(e,t){return e?(0,o.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var c,l=n.nodeSize;if(n.preventOverlap){var f,d=n.nodeSpacing;f=(0,o.isNumber)(d)?function(){return d}:(0,o.isFunction)(d)?d:function(){return 0},c=l?(0,o.isArray)(l)?function(e){return Math.max(l[0],l[1])+f(e)}:function(e){return l+f(e)}:function(e){return e.size?(0,o.isArray)(e.size)?Math.max(e.size[0],e.size[1])+f(e):(0,o.isObject)(e.size)?Math.max(e.size.width,e.size.height)+f(e):e.size+f(e):10+f(e)}}n.nodeSize=c;var h=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,i=t.workerEnabled,o=t.minMovement,a=t.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,o))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var e,i;if(r){var a=t.runOneStep(c)||[];t.reachMoveThreshold(r,a,o)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++c>=n&&(null===(i=t.onLayoutEnd)||void 0===i||i.call(t),window.clearInterval(t.timeInterval))}}),0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach((function(e,n){var i=e.x-t[n].x,o=e.y-t[n].y;r+=Math.sqrt(i*i+o*o)})),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes,i=n.edges,o=[],a=[];if(r){r.forEach((function(e,t){o[2*t]=0,o[2*t+1]=0,a[2*t]=0,a[2*t+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var s=Math.max(.02,n.interval-.002*e);n.updateVelocity(o,a,s,r);var u=[];return r.forEach((function(e){u.push({x:e.x,y:e.y})})),n.updatePosition(a,s,r),null===(t=n.tick)||void 0===t||t.call(n),u}},t.prototype.calRepulsive=function(e,t){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,u=void 0===s?1:s,c=n.nodeStrength,l=n.nodeSize;t.forEach((function(n,s){var f=r?r(n):1;t.forEach((function(t,d){if(!(s>=d)){var h=n.x-t.x,p=n.y-t.y;0===h&&0===p&&(h=.01*Math.random(),p=.01*Math.random());var v=h*h+p*p,g=Math.sqrt(v),m=(g+.1)*o,y=h/g,b=p/g,x=.5*(c(n)+c(t))*i/(m*m),w=r?r(t):1;if(e[2*s]+=y*x,e[2*s+1]+=b*x,e[2*d]-=y*x,e[2*d+1]-=b*x,a&&(l(n)+l(t))/2>g){var _=u*(c(n)+c(t))*.5/v;e[2*s]+=y*_/f,e[2*s+1]+=b*_/f,e[2*d]-=y*_/w,e[2*d+1]-=b*_/w}}}))}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.nodeMap,i=n.nodeIdxMap,a=n.linkDistance,s=n.edgeStrength,u=n.nodeSize,c=n.getMass;t.forEach((function(t,n){var l=(0,o.getEdgeTerminal)(t,"source"),f=(0,o.getEdgeTerminal)(t,"target"),d=r[l],h=r[f],p=h.x-d.x,v=h.y-d.y;0===p&&0===v&&(p=.01*Math.random(),v=.01*Math.random());var g=Math.sqrt(p*p+v*v),m=p/g,y=v/g,b=((a(t,d,h)||1+(u(d)+u(d)||0)/2)-g)*s(t),x=i[l],w=i[f],_=c?c(d):1,E=c?c(h):1;e[2*x]-=m*b/_,e[2*x+1]-=y*b/_,e[2*w]+=m*b/E,e[2*w+1]+=y*b/E}))},t.prototype.calGravity=function(e,t){for(var n=this,r=n.center,i=n.gravity,a=n.degrees,s=t.length,u=0;u<s;u++){var c=t[u],l=c.x-r[0],f=c.y-r[1],d=i;if(n.getCenter){var h=n.getCenter(c,a[u]);h&&(0,o.isNumber)(h[0])&&(0,o.isNumber)(h[1])&&(0,o.isNumber)(h[2])&&(l=c.x-h[0],f=c.y-h[1],d=h[2])}d&&(e[2*u]-=d*l,e[2*u+1]-=d*f)}},t.prototype.updateVelocity=function(e,t,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var a=e[2*r]*o||.01,s=e[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var c=i.maxSpeed/u;a*=c,s*=c}t[2*r]=a,t[2*r+1]=s}))},t.prototype.updatePosition=function(e,t,n){n.forEach((function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=e[2*r]*t,a=e[2*r+1]*t;n.x+=i,n.y+=a}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(i.Base);t.GForceLayout=s},28584:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(14950),s=n(51784),u=n(72288),c=n(7471),l=n(97446),f=n(73023),d=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,i[e.id]=t})),e.nodeMap=r,e.nodeIdxMap=i,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,u,c=this;return o(this,(function(o){switch(o.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(a={},u={},r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*c.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*c.height),a[e.id]=e,u[e.id]=t})),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return o.sent(),[2]}}))}))},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,d,h,p,v,g,m,y,b,x,w,_,E,S,k,C,M,O,N,T,A,P,I,D,R=this;return o(this,(function(L){switch(L.label){case 0:for(r=(n=this).nodes,a=n.edges,d=n.maxIteration,h=n.center,p=n.height*n.width,v=Math.sqrt(p)/10,g=p/(r.length+1),m=Math.sqrt(g),y=n.speed,b=n.clustering,x=(0,c.attributesToTextureData)([n.clusterField],r),w=x.array,_=x.count,r.forEach((function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),w[4*t+1]=n,w[4*t+2]=r})),E=r.length,S=(0,c.buildTextureData)(r,a),k=S.maxEdgePerVetex,C=S.array,M=n.workerEnabled,O=M?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),N=n.onLayoutEnd,T=[],A=0;A<_;A++)T.push(0,0,0,0);return P=O.createKernel(l.fruchtermanBundle).setDispatch([E,1,1]).setBinding({u_Data:C,u_K:m,u_K2:g,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:v,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:w,u_ClusterCenters:T,MAX_EDGE_PER_VERTEX:k,VERTEX_COUNT:E}),b&&(I=O.createKernel(l.clusterBundle).setDispatch([_,1,1]).setBinding({u_Data:C,u_NodeAttributes:w,u_ClusterCenters:T,VERTEX_COUNT:E,CLUSTER_COUNT:_})),D=function(){return i(R,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<d?[4,P.execute()]:[3,6];case 2:return o.sent(),b?(I.setBinding({u_Data:P}),[4,I.execute()]):[3,4];case 3:o.sent(),P.setBinding({u_ClusterCenters:I}),o.label=4;case 4:P.setBinding({u_MaxDisplace:v*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,P.getOutput()];case 7:return i=o.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(e,t){var n=i[4*t],r=i[4*t+1];e.x=n,e.y=r})),N&&N(),[2]}}))}))},[4,D()];case 1:return L.sent(),[2]}}))}))},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=d},97446:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},97042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(14950),s=n(51784),u=n(72288),c=n(7471),l=n(40930),f=n(35193),d=n(73023),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,i[t.id]=n})),e.nodeMap=r,e.nodeIdxMap=i,e.nodeStrength=(0,c.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,c.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),o[e.id]=e,a[e.id]=t})),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,c.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,h,p,v,g,m,y,b,x,w,_,E,S,k,C,M,O,N,T,A,P,I,D,R,L,j=this;return o(this,(function(F){switch(F.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,c.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength),v=(0,c.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),g=v.maxEdgePerVetex,m=v.array,n.degrees=(0,l.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],w=[],_=[],E=[],S=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),k=n.gravity,C=n.center,r.forEach((function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[C[0],C[1],k];if(n.getCenter){var i=n.getCenter(e,n.degrees[t]);i&&(0,s.isNumber)(i[0])&&(0,s.isNumber)(i[1])&&(0,s.isNumber)(i[2])&&(r=i)}x.push(r[0]),w.push(r[1]),_.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(E.push(e.fx||.001),S.push(e.fy||.001)):(E.push(0),S.push(0))})),M=(0,c.arrayToTextureData)([y,n.degrees,b,E]),O=(0,c.arrayToTextureData)([x,w,_,S]),N=n.workerEnabled,T=N?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),A=n.onLayoutEnd,P=[],m.forEach((function(e){P.push(e)})),I=0;I<4;I++)P.push(0);return D=T.createKernel(f.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:M,u_NodeAttributeArray2:O,MAX_EDGE_PER_VERTEX:g,VERTEX_COUNT:p,u_AveMovement:P,u_interval:n.interval}),R=T.createKernel(f.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),L=function(){return i(j,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<h?[4,D.execute()]:[3,5];case 2:return o.sent(),R.setBinding({u_Data:D}),[4,R.execute()];case 3:o.sent(),a=Math.max(.02,n.interval-.002*i),D.setBinding({u_interval:a,u_AveMovement:R}),o.label=4;case 4:return i++,[3,1];case 5:return[4,D.getOutput()];case 6:return s=o.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach((function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r})),A&&A(),[2]}}))}))},[4,L()];case 1:return F.sent(),[2]}}))}))},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},35193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},68609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var i=n(51784),o=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,o=t.length;if(0===o)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===o)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,c=e.condense,l=e.preventOverlapPadding,f=e.preventOverlap,d=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach((function(e){p.push(e)}));var v={};if(p.forEach((function(e,t){v[e.id]=t})),("degree"===a||!(0,i.isString)(a)||void 0===p[0][a])&&(a="degree",(0,i.isNaN)(t[0].degree))){var g=(0,i.getDegree)(p.length,v,n);p.forEach((function(e,t){e.degree=g[t]}))}p.sort((function(e,t){return t[a]-e[a]})),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=o,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,c&&(e.cellWidth=0,e.cellHeight=0),f||d){var w=(0,i.getFuncByUnknownType)(10,d),_=(0,i.getFuncByUnknownType)(30,h,!1);p.forEach((function(t){t.x&&t.y||(t.x=0,t.y=0);var n=_(t),r=n[0],i=void 0===r?30:r,o=n[1],a=void 0===o?30:o,s=void 0!==w?w(t):l,u=i+s,c=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,c)}))}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var E=0;E<p.length;E++){var S=p[E],k=void 0;if(e.position&&(k=e.position(S)),k&&(void 0!==k.row||void 0!==k.col)){var C={row:k.row,col:k.col};if(void 0===C.col)for(C.col=0;e.used(C.row,C.col);)C.col++;else if(void 0===C.row)for(C.row=0;e.used(C.row,C.col);)C.row++;e.id2manPos[S.id]=C,e.use(C.row,C.col)}e.getPos(S)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.large=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-"+e+"-"+t]||!1},t.prototype.use=function(e,t){this.cellUsed["c-"+e+"-"+t]=!0},t.prototype.moveToNextCell=function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},t.prototype.getPos=function(e){var t,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(14950).Base);t.GridLayout=o},6929:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var o=n(68609);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n(51831);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(14461);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(2283);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var c=n(82893);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}});var l=n(71893);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return l.DagreLayout}});var f=n(47530);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return f.DagreCompoundLayout}});var d=n(15374);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return d.RadialLayout}});var h=n(1457);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(36647);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var v=n(54328);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return v.FruchtermanLayout}});var g=n(28584);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return g.FruchtermanGPULayout}});var m=n(97042);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(7315);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(33467);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(63299);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var w=n(68698);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var _=n(74060);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return _.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return _.Layouts}}),i(n(82514),t)},74060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(18252),i=n(68609),o=n(51831),a=n(14461),s=n(2283),u=n(82893),c=n(71893),l=n(15374),f=n(1457),d=n(36647),h=n(54328),p=n(28584),v=n(97042),g=n(7315),m=n(33467),y=n(63299),b=n(68698),x=n(47530),w=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=w,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:c.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:l.RadialLayout,concentric:f.ConcentricLayout,grid:i.GridLayout,mds:d.MDSLayout,comboForce:g.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":v.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},36647:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var i=n(71132),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=void 0===n?[]:n,i=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=i[0],t[0].y=i[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.linkDistance,s=(0,o.getAdjMatrix)({nodes:t,edges:r},!1),u=(0,o.floydWarshall)(s);e.handleInfinity(u);var c=(0,o.scaleMatrix)(u,a);e.scaledDistances=c;var l=e.runMDS();return e.positions=l,l.forEach((function(e,n){t[n].x=e[0]+i[0],t[n].y=e[1]+i[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=i.Matrix.mul(i.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),o=t.mean();t.add(o).subRowVector(n).subColumnVector(r);var a=new i.SingularValueDecomposition(t),s=i.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(e){return i.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)}))},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach((function(e){e.forEach((function(e){e!==1/0&&t<e&&(t=e)}))})),e.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(e[r][i]=t)}))}))},t.prototype.getType=function(){return"mds"},t}(n(14950).Base);t.MDSLayout=a},15374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(39164),t)},96058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71132),i=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this,t=e.dimension,n=e.distances,i=e.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=o.mean("row"),s=o.mean("column"),u=o.mean();o.add(u).subRowVector(a).subColumnVector(s);var c=new r.SingularValueDecomposition(o),l=r.Matrix.sqrt(c.diagonalMatrix).diagonal();return c.leftSingularVectors.toJSON().map((function(e){return r.Matrix.mul([e],[l]).toJSON()[0].splice(0,t)}))}catch(v){for(var f=[],d=0;d<n.length;d++){var h=Math.random()*i,p=Math.random()*i;f.push([h,p])}return f}},e}();t.default=i},39164:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var o=n(51784),a=n(14950),s=i(n(96058)),u=i(n(87113));function c(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var l=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var i=e.linkDistance,a=null;if((0,o.isString)(e.focusNode)){for(var c=!1,l=0;l<t.length;l++)t[l].id===e.focusNode&&(a=t[l],e.focusNode=a,c=!0,l=t.length);c||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var f=function(e,t){var n=-1;return e.forEach((function(e,r){e.id===t&&(n=r)})),n}(t,a.id);f<0&&(f=0),e.focusIndex=f;var d=(0,o.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,o.floydWarshall)(d),p=e.maxToFocus(h,f);e.handleInfinity(h,f,p+1),e.distances=h;var v=h[f],g=e.width||500,m=e.height||500,y=g-r[0]>r[0]?r[0]:g-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=g/2),0===b&&(b=m/2);var x=b>y?y:b,w=Math.max.apply(Math,v),_=[];v.forEach((function(t,n){e.unitRadius||(e.unitRadius=x/w),_[n]=t*e.unitRadius})),e.radii=_;var E=e.eIdealDisMatrix();e.eIdealDistances=E;var S=function(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)0!==e[i][a]?o.push(1/(e[i][a]*e[i][a])):o.push(0);r.push(o)}return r}(E);e.weights=S;var k=new s.default({linkDistance:i,distances:E}).layout();k.forEach((function(e){(0,o.isNaN)(e[0])&&(e[0]=Math.random()*i),(0,o.isNaN)(e[1])&&(e[1]=Math.random()*i)})),e.positions=k,k.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),k.forEach((function(e){e[0]-=k[f][0],e[1]-=k[f][1]})),e.run();var C,M=e.preventOverlap,O=e.nodeSize,N=e.strictRadial;if(M){var T,A=e.nodeSpacing;T=(0,o.isNumber)(A)?function(){return A}:(0,o.isFunction)(A)?A:function(){return 0},C=O?(0,o.isArray)(O)?function(e){return(O[0]>O[1]?O[0]:O[1])+T(e)}:function(e){return O+T(e)}:function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+T(e):(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+T(e):e.size+T(e):10+T(e)};var P={nodes:t,nodeSizeFunc:C,adjMatrix:d,positions:k,radii:_,height:m,width:g,strictRadial:N,focusID:f,iterations:e.maxPreventOverlapIteration||200,k:k.length/4.5},I=new u.default(P);k=I.layout()}return k.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this,t=e.maxIteration,n=e.positions||[],r=e.weights||[],i=e.eIdealDistances||[],o=e.radii||[],a=0;a<=t;a++){var s=a/t;e.oneIteration(s,n,o,i,r)}},t.prototype.oneIteration=function(e,t,n,r,i){var o=1-e,a=this.focusIndex;t.forEach((function(s,u){var l=c(s,[0,0]),f=0===l?0:1/l;if(u!==a){var d=0,h=0,p=0;t.forEach((function(e,t){if(u!==t){var n=c(s,e),o=0===n?0:1/n,a=r[t][u];p+=i[u][t],d+=i[u][t]*(e[0]+a*(s[0]-e[0])*o),h+=i[u][t]*(e[1]+a*(s[1]-e[1])*o)}}));var v=0===n[u]?0:1/n[u];p*=o,p+=e*v*v,d*=o,d+=e*v*s[0]*f,s[0]=d/p,h*=o,h+=e*v*s[1]*f,s[1]=h/p}}))},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,i=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach((function(n,u){var c=[];n.forEach((function(n,s){if(u===s)c.push(0);else if(i[u]===i[s])if("data"===e.sortBy)c.push(n*(Math.abs(u-s)*e.sortStrength)/(i[u]/a));else if(e.sortBy){var l=t[u][e.sortBy]||0,f=t[s][e.sortBy]||0;(0,o.isString)(l)&&(l=l.charCodeAt(0)),(0,o.isString)(f)&&(f=f.charCodeAt(0)),c.push(n*(Math.abs(l-f)*e.sortStrength)/(i[u]/a))}else c.push(n*r/(i[u]/a));else{var d=(r+a)/2;c.push(n*d)}})),s.push(c)})),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(var o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(i=0;i<r;i++)if(i!==t)for(o=0;o<r;o++)if(e[i][o]===1/0){var a=Math.abs(e[t][i]-e[t][o]);a=0===a?1:a,e[i][o]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=l},87113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this,t=e.positions,n=[],r=e.iterations,i=e.width/10;e.maxDisplace=i,e.disp=n;for(var o=0;o<r;o++)t.forEach((function(e,t){n[t]={x:0,y:0}})),e.getRepulsion(),e.updatePositions();return t},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,i=e.k,o=e.radii||[];t.forEach((function(a,s){r[s]={x:0,y:0},t.forEach((function(t,u){if(s!==u&&o[s]===o[u]){var c=a[0]-t[0],l=a[1]-t[1],f=Math.sqrt(c*c+l*l);if(0===f){f=1;var d=s>u?1:-1;c=.01*d,l=.01*d}if(f<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=i*i/f;r[s].x+=c/f*h,r[s].y+=l/f*h}}}))}))},e.prototype.updatePositions=function(){var e=this,t=e.positions,n=e.disp,r=e.speed,i=e.strictRadial,o=e.focusID,a=e.maxDisplace||e.width/10;i&&n.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),s=i/a,u=-r/a,c=Math.sqrt(e.x*e.x+e.y*e.y),l=Math.acos((s*e.x+u*e.y)/c);l>Math.PI/2&&(l-=Math.PI/2,s*=-1,u*=-1);var f=Math.cos(l)*c;e.x=s*f,e.y=u*f}));var s=e.radii;t.forEach((function(e,u){if(u!==o){var c=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(c>0&&u!==o){var l=Math.min(a*(r/800),c);if(e[0]+=n[u].x/c*l,e[1]+=n[u].y/c*l,i){var f=e[0]-t[o][0],d=e[1]-t[o][1],h=Math.sqrt(f*f+d*d);f=f/h*s[u],d=d/h*s[u],e[0]=t[o][0]+f,e[1]=t[o][1]+d}}}}))},e}();t.default=n},51831:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach((function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(14950).Base);t.RandomLayout=i},82514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18252:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(14950),o=n(51784),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name "+e+" exists already, it will be overridden"),(0,o.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,t,n),Object.keys(o).forEach((function(e){var t=o[e];i[e]=t})),r}return r(n,e),n}(i.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},74229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},63479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(51784),i=n(36162);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,i.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,o){return void 0===o&&(o=!0),n||0===n?(0,t.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(o){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},7471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(51784),i=n(40930);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],c=(0,i.getEdgeTerminal)(u,"source"),l=(0,i.getEdgeTerminal)(u,"target");r[o[c]].push(o[l]),r[o[l]].push(o[c])}var f=0;for(a=0;a<e.length;a++){var d=n.length,h=r[a],p=h.length;n[4*a+2]=d,n[4*a+3]=h.length,f=Math.max(f,h.length);for(var v=0;v<p;++v){var g=h[v];n.push(+g)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:f,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var o=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var c=e[u];s[c.id]=u,o.push(c.x),o.push(c.y),o.push(0),o.push(0),a.push([])}for(u=0;u<t.length;u++){var l=t[u],f=(0,i.getEdgeTerminal)(l,"source"),d=(0,i.getEdgeTerminal)(l,"target");a[s[f]].push(s[d]),a[s[f]].push(n(l)),a[s[f]].push(r(l)),a[s[f]].push(0),a[s[d]].push(s[f]),a[s[d]].push(n(l)),a[s[d]].push(r(l)),a[s[d]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=o.length,v=a[u],g=v.length;o[4*u+2]=p+1048576*g/4,o[4*u+3]=0,h=Math.max(h,g/4);for(var m=0;m<g;++m){var y=v[m];o.push(+y)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:h,array:new Float32Array(o)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)}},51784:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(54426),t),i(n(74229),t),i(n(36162),t),i(n(40930),t),i(n(63040),t),i(n(63479),t)},40930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(63040);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var i=[],o=0;o<e;o++)i[o]=0;return r?(r.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target");r&&(i[n[r]]+=1),o&&(i[n[o]]+=1)})),i):i};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,i=e.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){a[e.id]=t;o.push([])})),i&&i.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[i];o[s][u]=1,n||(o[u][s]=1)})),o};t.scaleMatrix=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n};var i=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)};t.traverseTreeUp=function(e,t){"function"===typeof t&&i(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach((function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),i<e.y&&(i=e.y)})),{minX:t,minY:n,maxX:r,maxY:i}}},36162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},63040:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var r=[];return e.forEach((function(e){r.push(e)})),r.map((function(e){return(0,t.clone)(e)}))}if("object"===typeof e&&e!=={}){var i=n({},e);return Object.keys(i).forEach((function(e){i[e]=(0,t.clone)(i[e])})),i}return e}},54426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var n=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.replace(n,(function(e,t){return t?t.toUpperCase():""}))}))},98092:function(e,t,n){"use strict";n.r(t),n.d(t,{Cache:function(){return Et},assign:function(){return We},augment:function(){return Ye},clamp:function(){return ee},clearAnimationFrame:function(){return Ve},clone:function(){return He},contains:function(){return i},debounce:function(){return qe},deepMix:function(){return $e},difference:function(){return a},each:function(){return h},endsWith:function(){return G},every:function(){return V},extend:function(){return Qe},filter:function(){return o},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return te},flatten:function(){return w},flattenDeep:function(){return _},forIn:function(){return ye},get:function(){return st},getEllipsisText:function(){return _t},getRange:function(){return k},getType:function(){return Te},getWrapBehavior:function(){return X},group:function(){return q},groupBy:function(){return Y},groupToMap:function(){return H},has:function(){return be},hasKey:function(){return xe},hasValue:function(){return _e},head:function(){return B},identity:function(){return mt},includes:function(){return i},indexOf:function(){return Je},isArguments:function(){return Ae},isArray:function(){return f},isArrayLike:function(){return r},isBoolean:function(){return Pe},isDate:function(){return Ie},isDecimal:function(){return re},isElement:function(){return Ue},isEmpty:function(){return tt},isEqual:function(){return nt},isEqualWith:function(){return rt},isError:function(){return De},isEven:function(){return ie},isFinite:function(){return Re},isFunction:function(){return c},isInteger:function(){return oe},isMatch:function(){return v},isNegative:function(){return ae},isNil:function(){return l},isNull:function(){return Le},isNumber:function(){return ne},isNumberEqual:function(){return se},isObject:function(){return d},isObjectLike:function(){return g},isOdd:function(){return ue},isPlainObject:function(){return m},isPositive:function(){return ce},isPrototype:function(){return Fe},isRegExp:function(){return Be},isString:function(){return D},isType:function(){return u},isUndefined:function(){return ze},keys:function(){return p},last:function(){return z},lowerCase:function(){return Se},lowerFirst:function(){return ke},map:function(){return it},mapValues:function(){return at},max:function(){return E},maxBy:function(){return le},measureTextWidth:function(){return wt},memoize:function(){return Xe},min:function(){return S},minBy:function(){return fe},mix:function(){return We},mod:function(){return de},noop:function(){return gt},number2color:function(){return Q},omit:function(){return ft},parseRadius:function(){return J},pick:function(){return lt},pull:function(){return N},pullAt:function(){return A},reduce:function(){return P},remove:function(){return I},requestAnimationFrame:function(){return Ge},set:function(){return ut},size:function(){return yt},some:function(){return Z},sortBy:function(){return R},startsWith:function(){return U},substitute:function(){return Ce},throttle:function(){return dt},toArray:function(){return ht},toDegree:function(){return pe},toInteger:function(){return ve},toRadian:function(){return me},toString:function(){return Ee},union:function(){return j},uniq:function(){return L},uniqueId:function(){return vt},upperCase:function(){return Me},upperFirst:function(){return Oe},values:function(){return we},valuesOfKey:function(){return F},wrapBehavior:function(){return K}});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},i=function(e,t){return!!r(e)&&e.indexOf(t)>-1},o=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o,i)&&n.push(o)}return n},a=function(e,t){return void 0===t&&(t=[]),o(e,(function(e){return!i(t,e)}))},s={}.toString,u=function(e,t){return s.call(e)==="[object "+t+"]"},c=function(e){return u(e,"Function")},l=function(e){return null===e||void 0===e},f=function(e){return Array.isArray?Array.isArray(e):u(e,"Array")},d=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var h=function(e,t){if(e)if(f(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(d(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break},p=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return h(e,(function(n,r){c(e)&&"prototype"===r||t.push(r)})),t};var v=function(e,t){var n=p(t),r=n.length;if(l(e))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},g=function(e){return"object"===typeof e&&null!==e},m=function(e){if(!g(e)||!u(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var y=function(e,t){if(!f(e))return null;var n;if(c(t)&&(n=t),m(t)&&(n=function(e){return v(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var b=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},x=function(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r][t];if(!l(i)){n=f(i)?i[0]:i;break}}return n},w=function(e){if(!f(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},_=function e(t,n){if(void 0===n&&(n=[]),f(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},E=function(e){if(f(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},S=function(e){if(f(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},k=function(e){var t=e.filter((function(e){return!isNaN(e)}));if(!t.length)return{min:0,max:0};if(f(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var i=E(t);return{min:S(t),max:i}},C=Array.prototype,M=C.splice,O=C.indexOf,N=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=-1;(o=O.call(e,i))>-1;)M.call(e,o,1);return e},T=Array.prototype.splice,A=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,a=t[n];n!==i&&a===o||(o=a,T.call(e,a,1))}return e},P=function(e,t,n){if(!f(e)&&!m(e))return e;var r=n;return h(e,(function(e,n){r=t(r,e,n)})),r},I=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,o=[],a=e.length;++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return A(e,o),n},D=function(e){return u(e,"String")};var R=function(e,t){var n;if(c(t))n=function(e,n){return t(e)-t(n)};else{var r=[];D(t)?r.push(t):f(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n];if(e[i]>t[i])return 1;if(e[i]<t[i])return-1}return 0}}return e.sort(n),e};function L(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}var j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L([].concat.apply([],e))},F=function(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];if(!l(o)){f(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function B(e){if(r(e))return e[0]}function z(e){if(r(e)){return e[e.length-1]}}var U=function(e,t){return!(!f(e)&&!D(e))&&e[0]===t};var G=function(e,t){return!(!f(e)&&!D(e))&&e[e.length-1]===t},V=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},Z=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},W=Object.prototype.hasOwnProperty;var Y=function(e,t){if(!t||!f(e))return{};for(var n,r={},i=c(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),W.call(r,n)?r[n].push(a):r[n]=[a]}return r};function H(e,t){if(!t)return{0:e};if(!c(t)){var n=f(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Y(e,t)}var q=function(e,t){if(!t)return[e];var n=H(e,t),r=[];for(var i in n)r.push(n[i]);return r};var X=function(e,t){return e["_wrap_"+t]};var K=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},$={};var Q=function(e){var t=$[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,$[e]=t}return t};var J=function(e){var t=0,n=0,r=0,i=0;return f(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},ee=function(e,t,n){return e<t?t:e>n?n:e},te=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},ne=function(e){return u(e,"Number")},re=function(e){return ne(e)&&e%1!==0},ie=function(e){return ne(e)&&e%2===0},oe=Number.isInteger?Number.isInteger:function(e){return ne(e)&&e%1===0},ae=function(e){return ne(e)&&e<0};function se(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}var ue=function(e){return ne(e)&&e%2!==0},ce=function(e){return ne(e)&&e>0},le=function(e,t){if(f(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=c(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},fe=function(e,t){if(f(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=c(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},de=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ve=parseInt,ge=Math.PI/180,me=function(e){return ge*e},ye=h,be=function(e,t){return e.hasOwnProperty(t)},xe=be,we=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return h(e,(function(n,r){c(e)&&"prototype"===r||t.push(n)})),t},_e=function(e,t){return i(we(e),t)},Ee=function(e){return l(e)?"":e.toString()},Se=function(e){return Ee(e).toLowerCase()},ke=function(e){var t=Ee(e);return t.charAt(0).toLowerCase()+t.substring(1)};var Ce=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e},Me=function(e){return Ee(e).toUpperCase()},Oe=function(e){var t=Ee(e);return t.charAt(0).toUpperCase()+t.substring(1)},Ne={}.toString,Te=function(e){return Ne.call(e).replace(/^\[object /,"").replace(/]$/,"")},Ae=function(e){return u(e,"Arguments")},Pe=function(e){return u(e,"Boolean")},Ie=function(e){return u(e,"Date")},De=function(e){return u(e,"Error")};function Re(e){return ne(e)&&isFinite(e)}var Le=function(e){return null===e},je=Object.prototype,Fe=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||je)},Be=function(e){return u(e,"RegExp")},ze=function(e){return void 0===e},Ue=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ge(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ve(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function Ze(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function We(e,t,n,r){return t&&Ze(e,t),n&&Ze(e,n),r&&Ze(e,r),e}var Ye=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];c(i)&&(i=i.prototype),We(n.prototype,i)}},He=function e(t){if("object"!==typeof t||null===t)return t;var n;if(f(t)){n=[];for(var r=0,i=t.length;r<i;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var o in n={},t)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o];return n};var qe=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},Xe=function(e,t){if(!c(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function Ke(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&m(o)?(m(e[i])||(e[i]={}),n<r?Ke(e[i],o,n+1,r):e[i]=t[i]):f(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var $e=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Ke(e,t[r]);return e},Qe=function(e,t,n,r){c(t)||(n=t,t=e,e=function(){});var i=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},o=i(t.prototype,e);return e.prototype=We(o,e.prototype),e.superclass=i(t.prototype,t),We(o,n),We(e,r),e},Je=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i},et=Object.prototype.hasOwnProperty;var tt=function(e){if(l(e))return!0;if(r(e))return!e.length;var t=Te(e);if("Map"===t||"Set"===t)return!e.size;if(Fe(e))return!Object.keys(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},nt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(D(t)||D(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var i=!0,o=0;o<t.length&&(i=e(t[o],n[o]));o++);return i}if(g(t)||g(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=e(t[a[o]],n[a[o]]));o++);return i}return!1},rt=function(e,t,n){return c(n)?!!n(e,t):nt(e,t)},it=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(t(o,i))}return n},ot=function(e){return e},at=function(e,t){void 0===t&&(t=ot);var n={};return d(e)&&!l(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n},st=function(e,t,n){for(var r=0,i=D(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},ut=function(e,t,n){var r=e,i=D(t)?t.split("."):t;return i.forEach((function(e,t){t<i.length-1?(d(r[e])||(r[e]=ne(i[t+1])?[]:{}),r=r[e]):r[e]=n})),e},ct=Object.prototype.hasOwnProperty,lt=function(e,t){if(null===e||!m(e))return{};var n={};return h(t,(function(t){ct.call(e,t)&&(n[t]=e[t])})),n},ft=function(e,t){return P(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},dt=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},ht=function(e){return r(e)?Array.prototype.slice.call(e):[]},pt={},vt=function(e){return pt[e=e||"g"]?pt[e]+=1:pt[e]=1,e+pt[e]},gt=function(){},mt=function(e){return e};function yt(e){return l(e)?0:r(e)?e.length:Object.keys(e).length}var bt,xt=n(3431),wt=Xe((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return bt||(bt=document.createElement("canvas").getContext("2d")),bt.font=[o,a,i,n+"px",r].join(" "),bt.measureText(D(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),(0,xt.__spreadArrays)([e],we(t)).join("")})),_t=function(e,t,n,r){void 0===r&&(r="...");var i,o,a=wt(r,n),s=D(e)?e:Ee(e),u=t,c=[];if(wt(e,n)<=t)return e;for(;i=s.substr(0,16),!((o=wt(i,n))+a>u&&o>u);)if(c.push(i),u-=o,!(s=s.substr(16)))return c.join("");for(;i=s.substr(0,1),!((o=wt(i,n))+a>u);)if(c.push(i),u-=o,!(s=s.substr(1)))return c.join("");return""+c.join("")+r},Et=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}()},33915:function(e,t,n){var r=n(46149);e.exports={Graph:r.Graph,json:n(19071),alg:n(93959),version:r.version}},52936:function(e,t,n){var r=n(92783);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},94270:function(e,t,n){var r=n(92783);function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}},88869:function(e,t,n){var r=n(91787),i=n(92783);e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},91787:function(e,t,n){var r=n(92783),i=n(20148);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},u=new i,c=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,u.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},72219:function(e,t,n){var r=n(92783),i=n(17181);e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},54035:function(e,t,n){var r=n(92783);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},93959:function(e,t,n){e.exports={components:n(52936),dijkstra:n(91787),dijkstraAll:n(88869),findCycles:n(72219),floydWarshall:n(54035),isAcyclic:n(63714),postorder:n(24945),preorder:n(63098),prim:n(15074),tarjan:n(17181),topsort:n(32980)}},63714:function(e,t,n){var r=n(32980);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},24945:function(e,t,n){var r=n(94270);e.exports=function(e,t){return r(e,t,"post")}},63098:function(e,t,n){var r=n(94270);e.exports=function(e,t){return r(e,t,"pre")}},15074:function(e,t,n){var r=n(92783),i=n(60317),o=n(20148);e.exports=function(e,t){var n,a=new i,s={},u=new o;function c(e){var r=e.v===n?e.w:e.v,i=u.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(c)}return a}},17181:function(e,t,n){var r=n(92783);e.exports=function(e){var t=0,n=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(u.lowlink=Math.min(u.lowlink,i[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,i[e].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),i[c].onStack=!1,l.push(c)}while(s!==c);o.push(l)}}return e.nodes().forEach((function(e){r.has(i,e)||a(e)})),o}},32980:function(e,t,n){var r=n(92783);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o},20148:function(e,t,n){var r=n(92783);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},60317:function(e,t,n){"use strict";var r=n(92783);e.exports=o;var i="\0";function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var o=""+t,a=""+n;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(r.isUndefined(i)?"\0":i)}function c(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function l(e,t){return u(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._in[e])}),this))},o.prototype.sinks=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._out[e])}),this))},o.prototype.setNodes=function(e,t){var n=arguments;return r.each(e,r.bind((function(e){n.length>1?this.setNode(e,t):this.setNode(e)}),this)),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),r.bind((function(e){this.setParent(e)}),this)),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),r.each(this._nodes,r.bind((function(n,r){e(r)&&t.setNode(r,n)}),this)),r.each(this._edgeObjs,r.bind((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,this.edge(e))}),this));var n=this,i={};function o(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},o.prototype.setEdge=function(){var e,t,n,i,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return o&&(this._edgeLabels[l]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=o?i:this._defaultEdgeLabelFn(e,t,n);var f=c(this._isDirected,e,t,n);return e=f.v,t=f.w,Object.freeze(f),this._edgeObjs[l]=f,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][l]=f,this._out[e][l]=f,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},46149:function(e,t,n){e.exports={Graph:n(60317),version:n(68931)}},19071:function(e,t,n){var r=n(92783),i=n(60317);function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},92783:function(e,t,n){var r;try{r=n(763)}catch(i){}r||(r=window._),e.exports=r},68931:function(e){e.exports="2.1.4"},45511:function(e,t){"use strict";(function(e){e.TextureCompressionBC="texture-compression-bc"})(t.UX||(t.UX={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.OB||(t.OB={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.$l||(t.$l={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.zi||(t.zi={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.db||(t.db={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.wb||(t.wb={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.Wf||(t.Wf={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.X9||(t.X9={})),function(e){e.CCW="ccw",e.CW="cw"}(t.zX||(t.zX={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.iD||(t.iD={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.V||(t.V={})),function(e){e.Load="load"}(t.Ws||(t.Ws={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.YV||(t.YV={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.xS||(t.xS={})),function(e){e.Store="store",e.Clear="clear"}(t.EG||(t.EG={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.kd||(t.kd={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.EV||(t.EV={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.Ek||(t.Ek={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.p_||(t.p_={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.gB||(t.gB={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.H7||(t.H7={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.mj||(t.mj={})),function(e){e.Occlusion="occlusion"}(t.xL||(t.xL={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.FB||(t.FB={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.Yw||(t.Yw={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.$X||(t.$X={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.v2||(t.v2={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.gc||(t.gc={}))},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},47910:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},99194:function(e,t,n){var r=n(47910),i=n(65114),o=Object.hasOwnProperty,a={};for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},3861:function(e,t,n){"use strict";var r=n(99194),i=n(79203),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var u={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,l;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=r.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,l=i[this.model].channels,this.color=f.value.slice(0,l),this.valpha="number"===typeof f.value[l]?f.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var d=o.call(e,0,l);this.color=h(d,l),this.valpha="number"===typeof e[l]?e[l]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var v=p.sort().join("");if(!(v in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[v];var g=i[this.model].labels,m=[];for(n=0;n<g.length;n++)m.push(e[g[n]]);this.color=h(m)}if(u[this.model])for(l=i[this.model].channels,n=0;n<l;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function f(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,f(255)),green:l("rgb",1,f(255)),blue:l("rgb",2,f(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,f(100)),lightness:l("hsl",2,f(100)),saturationv:l("hsv",1,f(100)),value:l("hsv",2,f(100)),chroma:l("hcg",1,f(100)),gray:l("hcg",2,f(100)),white:l("hwb",1,f(100)),wblack:l("hwb",2,f(100)),cyan:l("cmyk",0,f(100)),magenta:l("cmyk",1,f(100)),yellow:l("cmyk",2,f(100)),black:l("cmyk",3,f(100)),x:l("xyz",0,f(100)),y:l("xyz",1,f(100)),z:l("xyz",2,f(100)),l:l("lab",0,f(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new c(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return c.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new c(d(i[this.model][e].raw(this.color)).concat(n),e)},c[e]=function(n){return"number"===typeof n&&(n=h(o.call(arguments),t)),new c(n,e)}}})),e.exports=c},6871:function(e,t,n){var r=n(19065),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}function l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),f=function(e){return(c-e)/6/l+.5};return 0===l?i=o=0:(o=l/c,t=f(a),n=f(s),r=f(u),a===c?i=r-n:s===c?i=1/3+t-r:u===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o=1/0;for(var a in r)if(r.hasOwnProperty(a)){var s=l(e,r[a]);s<o&&(o=s,n=a)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[c]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=c+r*((n=1-l)-c),t){default:case 6:case 0:o=n,a=i,s=c;break;case 1:o=i,a=n,s=c;break;case 2:o=c,a=n,s=i;break;case 3:o=c,a=i,s=n;break;case 4:o=i,a=c,s=n;break;case 5:o=n,a=c,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},79203:function(e,t,n){var r=n(6871),i=n(51283),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},51283:function(e,t,n){var r=n(6871);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],c=t[u];-1===c.distance&&(c.distance=t[i].distance+1,c.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},19065:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},76998:function(e,t,n){"use strict";var r=n(42458),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,u,c,l=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),u=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),c&&document.body.removeChild(c),a()}return l}},8878:function(e,t,n){"use strict";function r(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function i(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,d,h=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}function o(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new c(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function c(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function l(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return g},forceLink:function(){return b},forceManyBody:function(){return I},forceRadial:function(){return D},forceSimulation:function(){return P},forceX:function(){return R},forceY:function(){return L}});var f=u.prototype=c.prototype;function d(e){return function(){return e}}function h(e){return 1e-6*(e()-.5)}function p(e){return e.x+e.vx}function v(e){return e.y+e.vy}function g(e){var t,n,r,i=1,o=1;function a(){for(var e,a,c,l,f,d,g,m=t.length,y=0;y<o;++y)for(a=u(t,p,v).visitAfter(s),e=0;e<m;++e)c=t[e],d=n[c.index],g=d*d,l=c.x+c.vx,f=c.y+c.vy,a.visit(b);function b(e,t,n,o,a){var s=e.data,u=e.r,p=d+u;if(!s)return t>l+p||o<l-p||n>f+p||a<f-p;if(s.index>c.index){var v=l-s.x-s.vx,m=f-s.y-s.vy,y=v*v+m*m;y<p*p&&(0===v&&(y+=(v=h(r))*v),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,c.vx+=(v*=y)*(p=(u*=u)/(g+u)),c.vy+=(m*=y)*p,s.vx-=v*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function c(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=d(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,c()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),c(),a):e},a}function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function b(e){var t,n,r,i,o,a,s=m,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=d(30),l=1;function f(r){for(var i=0,s=e.length;i<l;++i)for(var u,c,f,d,p,v,g,m=0;m<s;++m)c=(u=e[m]).source,d=(f=u.target).x+f.vx-c.x-c.vx||h(a),p=f.y+f.vy-c.y-c.vy||h(a),d*=v=((v=Math.sqrt(d*d+p*p))-n[m])/v*r*t[m],p*=v,f.vx-=d*(g=o[m]),f.vy-=p*g,c.vx+=d*(g=1-g),c.vy+=p*g}function p(){if(r){var a,u,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,i=new Array(c);a<l;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(f,u.source)),"object"!==typeof u.target&&(u.target=y(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(l),v(),n=new Array(l),g()}}function v(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function g(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:d(+e),v(),f):u},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:d(+e),g(),f):c},f}f.copy=function(){var e,t,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=l(t));return n},f.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)},f.addAll=function(e){var t,n,r,o,a=e.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,f=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,u[n]=o,r<c&&(c=r),r>f&&(f=r),o<l&&(l=o),o>d&&(d=o));if(c>f||l>d)return this;for(this.cover(c,l).cover(f,d),n=0;n<a;++n)i(this,s[n],u[n],e[n]);return this},f.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},f.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(e,t,n){var r,i,a,s,u,c,l,f=this._x0,d=this._y0,h=this._x1,p=this._y1,v=[],g=this._root;for(g&&v.push(new o(g,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);c=v.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(a=c.y0)>p||(s=c.x1)<f||(u=c.y1)<d))if(g.length){var m=(i+s)/2,y=(a+u)/2;v.push(new o(g[3],m,y,s,u),new o(g[2],i,y,m,u),new o(g[1],m,a,s,y),new o(g[0],i,a,m,y)),(l=(t>=y)<<1|e>=m)&&(c=v[v.length-1],v[v.length-1]=v[v.length-1-l],v[v.length-1-l]=c)}else{var b=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),w=b*b+x*x;if(w<n){var _=Math.sqrt(n=w);f=e-_,d=t-_,h=e+_,p=t+_,r=g.data}}return r},f.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(v+m)/2))?v=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},f.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},f.visit=function(e){var t,n,r,i,a,s,u=[],c=this._root;for(c&&u.push(new o(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&c.length){var l=(r+a)/2,f=(i+s)/2;(n=c[3])&&u.push(new o(n,l,f,a,s)),(n=c[2])&&u.push(new o(n,r,f,l,s)),(n=c[1])&&u.push(new o(n,l,i,a,f)),(n=c[0])&&u.push(new o(n,r,i,l,f))}return this},f.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,u=t.y0,c=t.x1,l=t.y1,f=(s+c)/2,d=(u+l)/2;(a=i[0])&&n.push(new o(a,s,u,f,d)),(a=i[1])&&n.push(new o(a,f,u,c,d)),(a=i[2])&&n.push(new o(a,s,d,f,l)),(a=i[3])&&n.push(new o(a,f,d,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y};var x={value:function(){}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new _(r)}function _(e){this._=e}function E(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function S(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function k(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}_.prototype=w.prototype={constructor:_,on:function(e,t){var n,r=this._,i=E(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=k(r[n],e.name,t);else if(null==t)for(n in r)r[n]=k(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=S(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var C=w,M=n(96212),O=4294967296;function N(e){return e.x}function T(e){return e.y}var A=Math.PI*(3-Math.sqrt(5));function P(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=(0,M.HT)(f),c=C("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%O)/O}}();function f(){d(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function d(r){var u,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<l;++u)null==(c=e[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*A;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(l=e,s.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=t-(s=e[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function I(){var e,t,n,r,i,o=d(-30),a=1,s=1/0,c=.81;function l(n){var i,o=e.length,a=u(e,N,T).visitAfter(p);for(r=n,i=0;i<o;++i)t=e[i],a.visit(v)}function f(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function p(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function v(e,o,u,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=l-o,v=f*f+d*d;if(p*p/c<v)return v<s&&(0===f&&(v+=(f=h(n))*f),0===d&&(v+=(d=h(n))*d),v<a&&(v=Math.sqrt(a*v)),t.vx+=f*e.value*r/v,t.vy+=d*e.value*r/v),!0;if(!(e.length||v>=s)){(e.data!==t||e.next)&&(0===f&&(v+=(f=h(n))*f),0===d&&(v+=(d=h(n))*d),v<a&&(v=Math.sqrt(a*v)));do{e.data!==t&&(p=i[e.data.index]*r/v,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,f()},l.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),f(),l):o},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(c=e*e,l):Math.sqrt(c)},l}function D(e,t,n){var r,i,o,a=d(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-t||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),d=(o[a]-f)*i[a]*e/f;u.vx+=c*d,u.vy+=l*d}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=d(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:d(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function R(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}function L(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}},96212:function(e,t,n){"use strict";n.d(t,{HT:function(){return g}});var r,i,o=0,a=0,s=0,u=0,c=0,l=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return c||(d(p),c=f.now()+l)}function p(){c=0}function v(){this._call=this._time=this._next=null}function g(e,t,n){var r=new v;return r.restart(e,t,n),r}function m(){c=(u=f.now())+l,o=a=0;try{!function(){h(),++o;for(var e,t=r;t;)(e=c-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(o)}(),c=0}}function y(){var e=f.now(),t=e-u;t>1e3&&(l-=t,u=e)}function b(e){o||(a&&(a=clearTimeout(a)),e-c>24?(e<1/0&&(a=setTimeout(m,e-f.now()-l)),s&&(s=clearInterval(s))):(s||(u=f.now(),s=setInterval(y,1e3)),o=1,d(m)))}v.prototype=g.prototype={constructor:v,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},99457:function(e,t,n){"use strict";n.r(t),n.d(t,{BRIDGE_GRAPH_NAME:function(){return y},GraphType:function(){return v},HierarchyNodeType:function(){return g},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return l},NodeType:function(){return h},ROOT_NAME:function(){return m},buildGraph:function(){return wa},flatGraph:function(){return _a},getEdges:function(){return Ea},mergeConfig:function(){return f}});var r=n(37762),i=n(93433),o=n(60136),a=n(29388),s=n(29439),u=n(43144),c=n(15671),l={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function f(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=JSON.parse(JSON.stringify(o)),s=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},c=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},f=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},d=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,c),node:Object.assign(a.nodeSize.node,f),bridge:d}}}function d(e){return"\u25ec".concat(e,"\u25ec")}var h,p,v,g,m=d("ROOT"),y=d("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(h||(h={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(v||(v={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(g||(g={}));var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function x(e,t){return e(t={exports:{}},t.exports),t.exports}var w=function(e,t){return e===t||e!=e&&t!=t},_=function(e,t){for(var n=e.length;n--;)if(w(e[n][0],t))return n;return-1},E=Array.prototype.splice;function S(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),--this.size,!0)},S.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return _(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var k,C=S,M="object"==typeof b&&b&&b.Object===Object&&b,O="object"==typeof self&&self&&self.Object===Object&&self,N=M||O||Function("return this")(),T=N.Symbol,A=Object.prototype,P=A.hasOwnProperty,I=A.toString,D=T?T.toStringTag:void 0,R=Object.prototype.toString,L=T?T.toStringTag:void 0,j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=P.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch(e){}var i=I.call(e);return r&&(t?e[D]=n:delete e[D]),i}(e):function(e){return R.call(e)}(e)},F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},B=function(e){if(!F(e))return!1;var t=j(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=N["__core-js_shared__"],U=(k=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",G=Function.prototype.toString,V=function(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Z=/^\[object .+?Constructor\]$/,W=Function.prototype,Y=Object.prototype,H=W.toString,q=Y.hasOwnProperty,X=RegExp("^"+H.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=function(e){return!(!F(e)||function(e){return!!U&&U in e}(e))&&(B(e)?X:Z).test(V(e))},$=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return K(n)?n:void 0},Q=$(N,"Map"),J=$(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this};var re=ne,ie=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(Q||C),string:new re}},oe.prototype.delete=function(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ie(this,e).get(e)},oe.prototype.has=function(e){return ie(this,e).has(e)},oe.prototype.set=function(e,t){var n=ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ae=oe;function se(e){var t=this.__data__=new C(e);this.size=t.size}se.prototype.clear=function(){this.__data__=new C,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!Q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(r)}return n.set(e,t),this.size=n.size,this};var ue=se,ce=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},le=function(){try{var e=$(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),fe=function(e,t,n){"__proto__"==t&&le?le(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},de=Object.prototype.hasOwnProperty,he=function(e,t,n){var r=e[t];de.call(e,t)&&w(r,n)&&(void 0!==n||t in e)||fe(e,t,n)},pe=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?fe(n,s,u):he(n,s,u)}return n},ve=function(e){return null!=e&&"object"==typeof e},ge=function(e){return ve(e)&&"[object Arguments]"==j(e)},me=Object.prototype,ye=me.hasOwnProperty,be=me.propertyIsEnumerable,xe=ge(function(){return arguments}())?ge:function(e){return ve(e)&&ye.call(e,"callee")&&!be.call(e,"callee")},we=Array.isArray,_e=function(){return!1},Ee=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?N.Buffer:void 0,o=(i?i.isBuffer:void 0)||_e;e.exports=o})),Se=/^(?:0|[1-9]\d*)$/,ke=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Se.test(e))&&e>-1&&e%1==0&&e<t},Ce=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Me={};Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object Boolean]"]=Me["[object DataView]"]=Me["[object Date]"]=Me["[object Error]"]=Me["[object Function]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object WeakMap]"]=!1;var Oe=function(e){return function(t){return e(t)}},Ne=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&M.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Te=Ne&&Ne.isTypedArray,Ae=Te?Oe(Te):function(e){return ve(e)&&Ce(e.length)&&!!Me[j(e)]},Pe=Object.prototype.hasOwnProperty,Ie=function(e,t){var n=we(e),r=!n&&xe(e),i=!n&&!r&&Ee(e),o=!n&&!r&&!i&&Ae(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Pe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ke(c,u))||s.push(c);return s},De=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)},Le=function(e,t){return function(n){return e(t(n))}},je=Le(Object.keys,Object),Fe=Object.prototype.hasOwnProperty,Be=function(e){if(!Re(e))return je(e);var t=[];for(var n in Object(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t},ze=function(e){return null!=e&&Ce(e.length)&&!B(e)},Ue=function(e){return ze(e)?Ie(e):Be(e)},Ge=Object.prototype.hasOwnProperty,Ve=function(e){if(!F(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&Ge.call(e,r))&&n.push(r);return n},Ze=function(e){return ze(e)?Ie(e,!0):Ve(e)},We=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?N.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}})),Ye=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},He=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},qe=function(){return[]},Xe=Object.prototype.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols,$e=Ke?function(e){return null==e?[]:(e=Object(e),He(Ke(e),(function(t){return Xe.call(e,t)})))}:qe,Qe=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Je=Le(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Qe(t,$e(e)),e=Je(e);return t}:qe,tt=function(e,t,n){var r=t(e);return we(e)?r:Qe(r,n(e))},nt=function(e){return tt(e,Ue,$e)},rt=function(e){return tt(e,Ze,et)},it=$(N,"DataView"),ot=$(N,"Promise"),at=$(N,"Set"),st=$(N,"WeakMap"),ut=V(it),ct=V(Q),lt=V(ot),ft=V(at),dt=V(st),ht=j;(it&&"[object DataView]"!=ht(new it(new ArrayBuffer(1)))||Q&&"[object Map]"!=ht(new Q)||ot&&"[object Promise]"!=ht(ot.resolve())||at&&"[object Set]"!=ht(new at)||st&&"[object WeakMap]"!=ht(new st))&&(ht=function(e){var t=j(e),n="[object Object]"==t?e.constructor:void 0,r=n?V(n):"";if(r)switch(r){case ut:return"[object DataView]";case ct:return"[object Map]";case lt:return"[object Promise]";case ft:return"[object Set]";case dt:return"[object WeakMap]"}return t});var pt=ht,vt=Object.prototype.hasOwnProperty,gt=N.Uint8Array,mt=function(e){var t=new e.constructor(e.byteLength);return new gt(t).set(new gt(e)),t},yt=/\w*$/,bt=T?T.prototype:void 0,xt=bt?bt.valueOf:void 0,wt=function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},_t=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return xt?Object(xt.call(e)):{}}(e)}},Et=Object.create,St=function(){function e(){}return function(t){if(!F(t))return{};if(Et)return Et(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),kt=function(e){return"function"!=typeof e.constructor||Re(e)?{}:St(Je(e))},Ct=Ne&&Ne.isMap,Mt=Ct?Oe(Ct):function(e){return ve(e)&&"[object Map]"==pt(e)},Ot=Ne&&Ne.isSet,Nt=Ot?Oe(Ot):function(e){return ve(e)&&"[object Set]"==pt(e)},Tt={};Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object DataView]"]=Tt["[object Boolean]"]=Tt["[object Date]"]=Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object Symbol]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object WeakMap]"]=!1;var At=function e(t,n,r,i,o,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!F(t))return t;var f=we(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return Ye(t,s)}else{var d=pt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Ee(t))return We(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!o){if(s=c||h?{}:kt(t),!u)return c?function(e,t){return pe(e,et(e),t)}(t,function(e,t){return e&&pe(t,Ze(t),e)}(s,t)):function(e,t){return pe(e,$e(e),t)}(t,function(e,t){return e&&pe(t,Ue(t),e)}(s,t))}else{if(!Tt[d])return o?t:{};s=_t(t,d,u)}}a||(a=new ue);var p=a.get(t);if(p)return p;a.set(t,s),Nt(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Mt(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=f?void 0:(l?c?rt:nt:c?Ze:Ue)(t);return ce(v||t,(function(i,o){v&&(i=t[o=i]),he(s,o,e(i,n,r,o,t,a))})),s},Pt=function(e){return function(){return e}},It=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Dt=function(e,t){return e&&It(e,t,Ue)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!ze(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Dt),Lt=function(e){return e},jt=function(e){return"function"==typeof e?e:Lt},Ft=function(e,t){return(we(e)?ce:Rt)(e,jt(t))},Bt=Ft,zt=function(e,t){var n=[];return Rt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};function Ut(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ae;++t<n;)this.add(e[t])}Ut.prototype.add=Ut.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ut.prototype.has=function(e){return this.__data__.has(e)};var Gt=Ut,Vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Zt=function(e,t){return e.has(t)},Wt=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Gt:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!Vt(t,(function(e,t){if(!Zt(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Yt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},qt=T?T.prototype:void 0,Xt=qt?qt.valueOf:void 0,Kt=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new gt(e),new gt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return w(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Yt;case"[object Set]":var u=1&r;if(s||(s=Ht),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Wt(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Xt)return Xt.call(e)==Xt.call(t)}return!1},$t=Object.prototype.hasOwnProperty,Qt=Object.prototype.hasOwnProperty,Jt=function(e,t,n,r,i,o){var a=we(e),s=we(t),u=a?"[object Array]":pt(e),c=s?"[object Array]":pt(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=u==c;if(d&&Ee(e)){if(!Ee(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new ue),a||Ae(e)?Wt(e,t,n,r,i,o):Kt(e,t,u,n,r,i,o);if(!(1&n)){var h=l&&Qt.call(e,"__wrapped__"),p=f&&Qt.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return o||(o=new ue),i(v,g,n,r,o)}}return!!d&&(o||(o=new ue),function(e,t,n,r,i,o){var a=1&n,s=nt(e),u=s.length;if(u!=nt(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:$t.call(t,l)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var v=e[l=s[c]],g=t[l];if(r)var m=a?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))},en=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ve(t)&&!ve(n)?t!=t&&n!=n:Jt(t,n,r,i,e,o))},tn=function(e){return e==e&&!F(e)},nn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},rn=function(e){var t=function(e){for(var t=Ue(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tn(i)]}return t}(e);return 1==t.length&&t[0][2]?nn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ue;if(r)var d=r(c,l,u,e,t,f);if(!(void 0===d?en(l,c,3,r,f):d))return!1}}return!0}(n,e,t)}},on=function(e){return"symbol"==typeof e||ve(e)&&"[object Symbol]"==j(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,un=function(e,t){if(we(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)};function cn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cn.Cache||ae),n}cn.Cache=ae;var ln,fn=cn,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,pn=function(e){var t=fn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dn,(function(e,n,r,i){t.push(r?i.replace(hn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),vn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},gn=T?T.prototype:void 0,mn=gn?gn.toString:void 0,yn=function e(t){if("string"==typeof t)return t;if(we(t))return vn(t,e)+"";if(on(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},bn=function(e){return null==e?"":yn(e)},xn=function(e,t){return we(e)?e:un(e,t)?[e]:pn(bn(e))},wn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},_n=function(e,t){for(var n=0,r=(t=xn(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0},En=function(e,t){return null!=e&&t in Object(e)},Sn=function(e,t,n){for(var r=-1,i=(t=xn(t,e)).length,o=!1;++r<i;){var a=wn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ce(i)&&ke(a,i)&&(we(e)||xe(e))},kn=function(e,t){return null!=e&&Sn(e,t,En)},Cn=function(e,t){return un(e)&&tn(t)?nn(wn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:_n(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?kn(n,e):en(t,r,3)}},Mn=function(e){return function(t){return null==t?void 0:t[e]}},On=function(e){return un(e)?Mn(wn(e)):function(e){return function(t){return _n(t,e)}}(e)},Nn=function(e){return"function"==typeof e?e:null==e?Lt:"object"==typeof e?we(e)?Cn(e[0],e[1]):rn(e):On(e)},Tn=function(e,t){return(we(e)?He:zt)(e,Nn(t))},An=Object.prototype.hasOwnProperty,Pn=function(e,t){return null!=e&&An.call(e,t)},In=function(e,t){return null!=e&&Sn(e,t,Pn)},Dn=Object.prototype.hasOwnProperty,Rn=function(e){return void 0===e},Ln=function(e,t){var n=-1,r=ze(e)?Array(e.length):[];return Rt(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},jn=function(e,t){return(we(e)?vn:Ln)(e,Nn(t))},Fn=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},Bn=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n},zn=function(e,t,n){var r=we(e)?Fn:Bn,i=arguments.length<3;return r(e,Nn(t),n,i,Rt)},Un=Mn("length"),Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Vn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zn="\\ud83c[\\udffb-\\udfff]",Wn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",qn="(?:"+Vn+"|"+Zn+")?",Xn="[\\ufe0e\\ufe0f]?"+qn+"(?:\\u200d(?:"+[Wn,Yn,Hn].join("|")+")[\\ufe0e\\ufe0f]?"+qn+")*",Kn="(?:"+[Wn+Vn+"?",Vn,Yn,Hn,"[\\ud800-\\udfff]"].join("|")+")",$n=RegExp(Zn+"(?="+Zn+")|"+Kn+Xn,"g"),Qn=function(e){return function(e){return Gn.test(e)}(e)?function(e){for(var t=$n.lastIndex=0;$n.test(e);)++t;return t}(e):Un(e)},Jn=T?T.isConcatSpreadable:void 0,er=function(e){return we(e)||xe(e)||!!(Jn&&e&&e[Jn])},tr=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=er),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):Qe(o,u):i||(o[o.length]=u)}return o},nr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},rr=Math.max,ir=function(e,t,n){return t=rr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=rr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),nr(e,this,s)}},or=le?function(e,t){return le(e,"toString",{configurable:!0,enumerable:!1,value:Pt(t),writable:!0})}:Lt,ar=Date.now,sr=function(e){var t=0,n=0;return function(){var r=ar(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(or),ur=function(e,t){return sr(ir(e,t,Lt),e+"")},cr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},lr=function(e){return e!=e},fr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):cr(e,lr,n)}(e,t,0)>-1},dr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},hr=at&&1/Ht(new at([,-0]))[1]==1/0?function(e){return new at(e)}:function(){},pr=function(e){return ve(e)&&ze(e)},vr=ur((function(e){return function(e,t,n){var r=-1,i=fr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=dr;else if(o>=200){var c=t?null:hr(e);if(c)return Ht(c);a=!1,i=Zt,u=new Gt}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}(tr(e,1,pr,!0))})),gr=function(e){return null==e?[]:function(e,t){return vn(t,(function(t){return e[t]}))}(e,Ue(e))};try{ln={clone:function(e){return At(e,4)},constant:Pt,each:Bt,filter:Tn,has:In,isArray:we,isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(we(e)||"string"==typeof e||"function"==typeof e.splice||Ee(e)||Ae(e)||xe(e)))return!e.length;var t=pt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!Be(e).length;for(var n in e)if(Dn.call(e,n))return!1;return!0},isFunction:B,isUndefined:Rn,keys:Ue,map:jn,reduce:zn,size:function(e){if(null==e)return 0;if(ze(e))return function(e){return"string"==typeof e||!we(e)&&ve(e)&&"[object String]"==j(e)}(e)?Qn(e):e.length;var t=pt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Be(e).length},transform:function(e,t,n){var r=we(e),i=r||Ee(e)||Ae(e);if(t=Nn(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:F(e)&&B(o)?St(Je(e)):{}}return(i?ce:Dt)(e,(function(e,r,i){return t(n,e,r,i)})),n},union:vr,values:gr}}catch(l){}ln||(ln=window._);var mr=ln,yr=br;function br(e){this._isDirected=!mr.has(e,"directed")||e.directed,this._isMultigraph=!!mr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!mr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=mr.constant(void 0),this._defaultEdgeLabelFn=mr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function xr(e,t){e[t]?e[t]++:e[t]=1}function wr(e,t){--e[t]||delete e[t]}function _r(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(mr.isUndefined(r)?"\0":r)}function Er(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function Sr(e,t){return _r(e,t.v,t.w,t.name)}br.prototype._nodeCount=0,br.prototype._edgeCount=0,br.prototype.isDirected=function(){return this._isDirected},br.prototype.isMultigraph=function(){return this._isMultigraph},br.prototype.isCompound=function(){return this._isCompound},br.prototype.setGraph=function(e){return this._label=e,this},br.prototype.graph=function(){return this._label},br.prototype.setDefaultNodeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultNodeLabelFn=e,this},br.prototype.nodeCount=function(){return this._nodeCount},br.prototype.nodes=function(){return mr.keys(this._nodes)},br.prototype.sources=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._in[t])}))},br.prototype.sinks=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._out[t])}))},br.prototype.setNodes=function(e,t){var n=arguments,r=this;return mr.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},br.prototype.setNode=function(e,t){return mr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},br.prototype.node=function(e){return this._nodes[e]},br.prototype.hasNode=function(e){return mr.has(this._nodes,e)},br.prototype.removeNode=function(e){var t=this;if(mr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],mr.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),mr.each(mr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],mr.each(mr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},br.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mr.isUndefined(t))t="\0";else{for(var n=t+="";!mr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},br.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},br.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},br.prototype.children=function(e){if(mr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return mr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},br.prototype.predecessors=function(e){var t=this._preds[e];if(t)return mr.keys(t)},br.prototype.successors=function(e){var t=this._sucs[e];if(t)return mr.keys(t)},br.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return mr.union(t,this.successors(e))},br.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},br.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;mr.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),mr.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&mr.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},br.prototype.setDefaultEdgeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultEdgeLabelFn=e,this},br.prototype.edgeCount=function(){return this._edgeCount},br.prototype.edges=function(){return mr.values(this._edgeObjs)},br.prototype.setPath=function(e,t){var n=this,r=arguments;return mr.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},br.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,mr.isUndefined(n)||(n=""+n);var a=_r(this._isDirected,e,t,n);if(mr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!mr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=Er(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,xr(this._preds[t],e),xr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},br.prototype.edge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):_r(this._isDirected,e,t,n);return this._edgeLabels[r]},br.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):_r(this._isDirected,e,t,n);return mr.has(this._edgeLabels,r)},br.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):_r(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],wr(this._preds[t],e),wr(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},br.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.v===t})):r}},br.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.w===t})):r}},br.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var kr={Graph:yr,version:"2.1.8"},Cr={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Mr(e),edges:Or(e)};return mr.isUndefined(e.graph())||(t.value=mr.clone(e.graph())),t},read:function(e){var t=new yr(e.options).setGraph(e.value);return mr.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),mr.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function Mr(e){return mr.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return mr.isUndefined(n)||(i.value=n),mr.isUndefined(r)||(i.parent=r),i}))}function Or(e){return mr.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return mr.isUndefined(t.name)||(r.name=t.name),mr.isUndefined(n)||(r.value=n),r}))}var Nr=Tr;function Tr(){this._arr=[],this._keyIndices={}}Tr.prototype.size=function(){return this._arr.length},Tr.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},Tr.prototype.has=function(e){return mr.has(this._keyIndices,e)},Tr.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Tr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Tr.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!mr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Tr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Tr.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Tr.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Tr.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Tr.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Ar=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},s=new Nr,u=function(e){var t=e.v!==i?e.v:e.w,r=a[t],u=n(e),c=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(e,String(t),n||Pr,r||function(t){return e.outEdges(t)})},Pr=mr.constant(1),Ir=function(e){var t=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){mr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var u,c=[];do{u=n.pop(),r[u].onStack=!1,c.push(u)}while(a!==u);i.push(c)}}return e.nodes().forEach((function(e){mr.has(r,e)||o(e)})),i},Dr=mr.constant(1),Rr=Lr;function Lr(e){var t={},n={},r=[];if(mr.each(e.sinks(),(function i(o){if(mr.has(n,o))throw new jr;mr.has(t,o)||(n[o]=!0,t[o]=!0,mr.each(e.predecessors(o),i),delete n[o],r.push(o))})),mr.size(t)!==e.nodeCount())throw new jr;return r}function jr(){}Lr.CycleException=jr,jr.prototype=new Error;var Fr=function(e,t,n){mr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return mr.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);Br(e,t,"post"===n,o,r,i)})),i};function Br(e,t,n,r,i,o){mr.has(r,t)||(r[t]=!0,n||o.push(t),mr.each(i(t),(function(t){Br(e,t,n,r,i,o)})),n&&o.push(t))}var zr,Ur={Graph:kr.Graph,json:Cr,alg:{components:function(e){var t,n={},r=[];function i(r){mr.has(n,r)||(n[r]=!0,t.push(r),mr.each(e.successors(r),i),mr.each(e.predecessors(r),i))}return mr.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r},dijkstra:Ar,dijkstraAll:function(e,t,n){return mr.transform(e.nodes(),(function(r,i){r[i]=Ar(e,i,t,n)}),{})},findCycles:function(e){return mr.filter(Ir(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||Dr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Rr(e)}catch(e){if(e instanceof Rr.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Fr(e,t,"post")},preorder:function(e,t){return Fr(e,t,"pre")},prim:function(e,t){var n,r=new yr,i={},o=new Nr;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===e.nodeCount())return r;mr.each(e.nodes(),(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),mr.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:Ir,topsort:Rr},version:kr.version};try{zr=Ur}catch(l){}zr||(zr=window.graphlib);var Gr,Vr=zr,Zr=function(e,t,n){if(!F(n))return!1;var r=typeof t;return!!("number"==r?ze(n)&&ke(t,n.length):"string"==r&&t in n)&&w(n[t],e)},Wr=Object.prototype,Yr=Wr.hasOwnProperty,Hr=ur((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Zr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Ze(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||w(l,Wr[c])&&!Yr.call(e,c))&&(e[c]=o[c])}return e})),qr=/^\s+|\s+$/g,Xr=/^[-+]0x[0-9a-f]+$/i,Kr=/^0b[01]+$/i,$r=/^0o[0-7]+$/i,Qr=parseInt,Jr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(qr,"");var n=Kr.test(e);return n||$r.test(e)?Qr(e.slice(2),n?2:8):Xr.test(e)?NaN:+e}(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ei=Math.max,ti=function(e){return function(t,n,r){var i=Object(t);if(!ze(t)){var o=Nn(n);t=Ue(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=Jr(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=ei(r+i,0)),cr(e,Nn(t),i)})),ni=function(e){return null!=e&&e.length?tr(e,1):[]},ri=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!on(a):n(a,s)))var s=a,u=o}return u},ii=function(e,t){return e>t},oi=function(e,t,n){(void 0!==n&&!w(e[t],n)||void 0===n&&!(t in e))&&fe(e,t,n)},ai=Function.prototype,si=Object.prototype,ui=ai.toString,ci=si.hasOwnProperty,li=ui.call(Object),fi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},di=function(e,t,n,r,i,o,a){var s=fi(e,n),u=fi(t,n),c=a.get(u);if(c)oi(e,n,c);else{var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=we(u),h=!d&&Ee(u),p=!d&&!h&&Ae(u);l=u,d||h||p?we(s)?l=s:pr(s)?l=Ye(s):h?(f=!1,l=We(u,!0)):p?(f=!1,l=wt(u,!0)):l=[]:function(e){if(!ve(e)||"[object Object]"!=j(e))return!1;var t=Je(e);if(null===t)return!0;var n=ci.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ui.call(n)==li}(u)||xe(u)?(l=s,xe(s)?l=function(e){return pe(e,Ze(e))}(s):F(s)&&!B(s)||(l=kt(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),oi(e,n,l)}},hi=function e(t,n,r,i,o){t!==n&&It(n,(function(a,s){if(o||(o=new ue),F(a))di(t,n,s,r,e,i,o);else{var u=i?i(fi(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),oi(t,s,u)}}),Ze)},pi=function(e){return ur((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Zr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r)}return t}))}((function(e,t,n){hi(e,t,n)})),vi=function(e,t){return e<t},gi=function(e,t,n,r){if(!F(e))return e;for(var i=-1,o=(t=xn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=wn(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=F(l)?l:ke(t[i+1])?[]:{})}he(s,u,c),s=s[u]}return e},mi=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_n(e,a);n(s,a)&&gi(o,xn(a,e),s)}return o}(e,t,(function(t,n){return kn(e,n)}))},yi=function(e){return sr(ir(e,void 0,ni),e+"")}((function(e,t){return null==e?{}:mi(e,t)})),bi=Math.ceil,xi=Math.max,wi=function(e,t,n){return n&&"number"!=typeof n&&Zr(e,t,n)&&(t=n=void 0),e=Jr(e),void 0===t?(t=e,e=0):t=Jr(t),function(e,t,n,r){for(var i=-1,o=xi(bi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Jr(n),void 0)},_i=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=on(e),a=void 0!==t,s=null===t,u=t==t,c=on(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},Ei=function(e,t,n){t=t.length?vn(t,(function(e){return we(e)?function(t){return _n(t,1===e.length?e[0]:e)}:e})):[Lt];var r=-1;t=vn(t,Oe(Nn));var i=Ln(e,(function(e,n,i){return{criteria:vn(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=_i(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},Si=ur((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Zr(e,t[0],t[1])?t=[]:n>2&&Zr(t[0],t[1],t[2])&&(t=[t[0]]),Ei(e,tr(t,1),[])})),ki=0;try{Gr={cloneDeep:function(e){return At(e,5)},constant:Pt,defaults:Hr,each:Bt,filter:Tn,find:ti,flatten:ni,forEach:Ft,forIn:function(e,t){return null==e?e:It(e,jt(t),Ze)},has:In,isUndefined:Rn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:jn,mapValues:function(e,t){var n={};return t=Nn(t),Dt(e,(function(e,r,i){fe(n,r,t(e,r,i))})),n},max:function(e){return e&&e.length?ri(e,Lt,ii):void 0},merge:pi,min:function(e){return e&&e.length?ri(e,Lt,vi):void 0},minBy:function(e,t){return e&&e.length?ri(e,Nn(t),vi):void 0},now:function(){return N.Date.now()},pick:yi,range:wi,reduce:zn,sortBy:Si,uniqueId:function(e){var t=++ki;return bn(e)+t},values:gr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],he)}}}catch(l){}Gr||(Gr=window._);var Ci=Gr,Mi=Oi;function Oi(){var e={};e._next=e._prev=e,this._sentinel=e}function Ni(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Ti(e,t){if("_next"!==e&&"_prev"!==e)return t}Oi.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ni(t),t},Oi.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ni(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Oi.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Ti)),n=n._prev;return"["+e.join(", ")+"]"};var Ai=Vr.Graph,Pi=Ci.constant(1);function Ii(e,t,n,r,i){var o=i?[]:void 0;return Ci.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Di(t,n,s)})),Ci.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Di(t,n,a)})),e.removeNode(r.v),o}function Di(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ri=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Ai,r=0,i=0;Ci.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),Ci.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var o=Ci.range(i+r+3).map((function(){return new Mi})),a=r+1;return Ci.forEach(n.nodes(),(function(e){Di(o,a,n.node(e))})),{graph:n,buckets:o,zeroIdx:a}}(e,t||Pi),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Ii(e,t,n,r);for(;r=o.dequeue();)Ii(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(Ii(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return Ci.flatten(Ci.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return Ci.forEach(e.nodes(),(function i(o){Ci.has(r,o)||(r[o]=!0,n[o]=!0,Ci.forEach(e.outEdges(o),(function(e){Ci.has(n,e.w)?t.push(e):i(e.w)})),delete n[o])})),t}(e);Ci.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,Ci.uniqueId("rev"))}))},Li=function(e){Ci.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))},ji=Vr.Graph,Fi={addDummyNode:Bi,simplify:function(e){var t=(new ji).setGraph(e.graph());return Ci.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),Ci.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new ji({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ci.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),Ci.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=Ci.map(e.nodes(),(function(t){var n={};return Ci.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return Ci.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=Ci.map(e.nodes(),(function(t){var n={};return Ci.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return Ci.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=Ci.map(Ci.range(zi(e)+1),(function(){return[]}));return Ci.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;Ci.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=Ci.min(Ci.map(e.nodes(),(function(t){return e.node(t).rank})));Ci.forEach(e.nodes(),(function(n){var r=e.node(n);Ci.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=Ci.min(Ci.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];Ci.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;Ci.forEach(n,(function(t,n){Ci.isUndefined(t)&&n%i!=0?--r:r&&Ci.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Bi(e,"border",i,t)},maxRank:zi,partition:function(e,t){var n={lhs:[],rhs:[]};return Ci.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=Ci.now();try{return t()}finally{console.log(e+" time: "+(Ci.now()-n)+"ms")}},notime:function(e,t){return t()}};function Bi(e,t,n,r){var i;do{i=Ci.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function zi(e){return Ci.max(Ci.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!Ci.isUndefined(n))return n})))}var Ui=function(e){e.graph().dummyChains=[],Ci.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u!==a+1){for(e.removeEdge(t),i=0,++a;a<u;++i,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:t,rank:a},n=Fi.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),e.setEdge(o,n,{weight:l.weight},c),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:l.weight},c)}}(e,t)}))},Gi=function(e){Ci.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))},Vi=function(e){var t={};Ci.forEach(e.sources(),(function n(r){var i=e.node(r);if(Ci.has(t,r))return i.rank;t[r]=!0;var o=Ci.min(Ci.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},Zi=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Wi=Vr.Graph,Yi=Zi,Hi=function(e){var t,n,r=new Wi({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});qi(r,e)<o;)t=Xi(r,e),n=r.hasNode(t.v)?Yi(e,t):-Yi(e,t),Ki(r,e,n);return r};function qi(e,t){return Ci.forEach(e.nodes(),(function n(r){Ci.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Yi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function Xi(e,t){return Ci.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Yi(t,n)}))}function Ki(e,t,n){Ci.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var $i=Zi,Qi=Vi,Ji=Vr.alg.preorder,eo=Vr.alg.postorder,to=Fi.simplify,no=ro;function ro(e){e=to(e),Qi(e);var t,n=Hi(e);for(ao(n),io(n,e);t=uo(n);)lo(n,e,t,co(n,e,t))}function io(e,t){var n=eo(e,e.nodes());n=n.slice(0,n.length-1),Ci.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=oo(e,t,n)}(e,t,n)}))}function oo(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,Ci.forEach(t.nodeEdges(n),(function(o){var s,u,c=o.v===n,l=c?o.w:o.v;if(l!==r){var f=c===i,d=t.edge(o).weight;if(a+=f?d:-d,s=n,u=l,e.hasEdge(s,u)){var h=e.edge(n,l).cutvalue;a+=f?-h:h}}})),a}function ao(e,t){arguments.length<2&&(t=e.nodes()[0]),so(e,{},1,t)}function so(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Ci.forEach(e.neighbors(r),(function(i){Ci.has(t,i)||(n=so(e,t,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function uo(e){return Ci.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function co(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=Ci.filter(t.edges(),(function(t){return u===fo(e,e.node(t.v),s)&&u!==fo(e,e.node(t.w),s)}));return Ci.minBy(c,(function(e){return $i(t,e)}))}function lo(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),ao(e),io(e,t),function(e,t){var n=Ci.find(e.nodes(),(function(e){return!t.node(e).parent})),r=Ji(e,n);r=r.slice(1),Ci.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function fo(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}ro.initLowLimValues=ao,ro.initCutValues=io,ro.calcCutValue=oo,ro.leaveEdge=uo,ro.enterEdge=co,ro.exchangeEdges=lo;var ho=Vi,po=ho;function vo(e){no(e)}var go=function(e){var t=Fi.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Ci.forEach(o,(function(e){n(e,i+1)})),t[r]=i}return Ci.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=Ci.max(Ci.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Ci.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var o=function(e){return Ci.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;Ci.forEach(e.children(),(function(a){yo(e,t,i,o,r,n,a)})),e.graph().nodeRankFactor=i},mo=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ci.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))};function yo(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var u=Fi.addBorderNode(e,"_bt"),c=Fi.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,Ci.forEach(s,(function(s){yo(e,t,n,r,i,o,s);var l=e.node(s),f=l.borderTop?l.borderTop:s,d=l.borderBottom?l.borderBottom:s,h=l.borderTop?r:2*r,p=f!==d?1:i-o[a]+1;e.setEdge(u,f,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(d,c,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function bo(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=Fi.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var xo=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||_o(e)},wo=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){Ci.forEach(e.nodes(),(function(t){So(e.node(t))})),Ci.forEach(e.edges(),(function(t){var n=e.edge(t);Ci.forEach(n.points,So),Ci.has(n,"y")&&So(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){Ci.forEach(e.nodes(),(function(t){ko(e.node(t))})),Ci.forEach(e.edges(),(function(t){var n=e.edge(t);Ci.forEach(n.points,ko),Ci.has(n,"x")&&ko(n)}))}(e),_o(e))};function _o(e){Ci.forEach(e.nodes(),(function(t){Eo(e.node(t))})),Ci.forEach(e.edges(),(function(t){Eo(e.edge(t))}))}function Eo(e){var t=e.width;e.width=e.height,e.height=t}function So(e){e.y=-e.y}function ko(e){var t=e.x;e.x=e.y,e.y=t}var Co=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=Mo(e,t[r-1],t[r]);return n};function Mo(e,t,n){for(var r=Ci.zipObject(n,Ci.map(n,(function(e,t){return t}))),i=Ci.flatten(Ci.map(t,(function(t){return Ci.sortBy(Ci.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Ci.map(new Array(a),(function(){return 0})),u=0;return Ci.forEach(i.forEach((function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}function Oo(e,t,n){for(var r;t.length&&(r=Ci.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var No=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,c={};s&&(o=Ci.filter(o,(function(e){return e!==s&&e!==u})));var l=function(e,t){return Ci.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=Ci.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}(t,o);Ci.forEach(l,(function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);c[n.v]=o,Ci.has(o,"barycenter")&&(a=n,s=o,Ci.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var f=function(e,t){var n={};return Ci.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};Ci.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),Ci.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];Ci.isUndefined(t)||Ci.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(Ci.isUndefined(t.barycenter)||Ci.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),Ci.forEach(i.in.reverse(),n(i)),Ci.forEach(i.out,r(i))}return Ci.map(Ci.filter(t,(function(e){return!e.merged})),(function(e){return Ci.pick(e,["vs","i","barycenter","weight"])}))}(Ci.filter(n,(function(e){return!e.indegree})))}(l,r);!function(e,t){Ci.forEach(e,(function(e){e.vs=Ci.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(f,c);var d=function(e,t){var n,r=Fi.partition(e,(function(e){return Ci.has(e,"barycenter")})),i=r.lhs,o=Ci.sortBy(r.rhs,(function(e){return-e.i})),a=[],s=0,u=0,c=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),c=Oo(a,o,c),Ci.forEach(i,(function(e){c+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,c=Oo(a,o,c)}));var l={vs:Ci.flatten(a,!0)};return u&&(l.barycenter=s/u,l.weight=u),l}(f,i);if(s&&(d.vs=Ci.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);Ci.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d},To=Vr.Graph,Ao=Vr.Graph,Po=function(e){var t=Fi.maxRank(e),n=Io(e,Ci.range(1,t+1),"inEdges"),r=Io(e,Ci.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=Ci.filter(e.nodes(),(function(t){return!e.children(t).length})),r=Ci.max(Ci.map(n,(function(t){return e.node(t).rank}))),i=Ci.map(Ci.range(r+1),(function(){return[]})),o=Ci.sortBy(n,(function(t){return e.node(t).rank}));return Ci.forEach(o,(function n(r){if(!Ci.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),Ci.forEach(e.successors(r),n)}})),i}(e);Ro(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Do(s%2?n:r,s%4>=2),i=Fi.buildLayerMatrix(e);var c=Co(e,i);c<a&&(u=0,o=Ci.cloneDeep(i),a=c)}Ro(e,o)};function Io(e,t,n){return Ci.map(t,(function(t){return function(e,t,n){var r=function(e){for(var t;e.hasNode(t=Ci.uniqueId("_root")););return t}(e),i=new To({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return Ci.forEach(e.nodes(),(function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Ci.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=Ci.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})})),Ci.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i}(e,t,n)}))}function Do(e,t){var n=new Ao;Ci.forEach(e,(function(e){var r=e.graph().root,i=No(e,r,n,t);Ci.forEach(i.vs,(function(t,n){e.node(t).order=n})),function(e,t,n){var r,i={};Ci.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}(e,n,i.vs)}))}function Ro(e,t){Ci.forEach(t,(function(t){Ci.forEach(t,(function(t,n){e.node(t).order=n}))}))}var Lo=Vr.Graph;function jo(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Fo(e,t,n){if(t>n){var r=t;t=n,n=r}return Ci.has(e[t],n)}var Bo=function(e){var t,n=Fi.buildLayerMatrix(e),r=Ci.merge(function(e,t){var n={};return Ci.reduce(t,(function(t,r){var i=0,o=0,a=t.length,s=Ci.last(r);return Ci.forEach(r,(function(t,u){var c=function(e,t){if(e.node(t).dummy)return Ci.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),l=c?e.node(c).order:a;(c||t===s)&&(Ci.forEach(r.slice(o,u+1),(function(t){Ci.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||l<a)||o.dummy&&e.node(t).dummy||jo(n,r,t)}))})),o=u+1,i=l)})),r})),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;Ci.forEach(Ci.range(r,i),(function(r){s=t[r],e.node(s).dummy&&Ci.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&jo(n,t,s)}))}))}return Ci.reduce(t,(function(t,n){var i,o=-1,a=0;return Ci.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s);c.length&&(i=e.node(c[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n}(e,n)),i={};Ci.forEach(["u","d"],(function(o){t="u"===o?n:Ci.values(n).reverse(),Ci.forEach(["l","r"],(function(n){"r"===n&&(t=Ci.map(t,(function(e){return Ci.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return Ci.forEach(t,(function(e){Ci.forEach(e,(function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),Ci.forEach(t,(function(e){var t=-1;Ci.forEach(e,(function(e){var s=r(e);if(s.length)for(var u=((s=Ci.sortBy(s,(function(e){return a[e]}))).length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var f=s[c];o[e]===e&&t<a[f]&&!Fo(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}}))})),{root:i,align:o}}(0,t,r,a),u=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new Lo,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),c=0;if(c+=s.width/2,Ci.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,Ci.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}}(o.nodesep,o.edgesep,r);return Ci.forEach(t,(function(t){var r;Ci.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){o[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}),a.successors.bind(a)),Ci.forEach(r,(function(e){o[e]=o[n[e]]})),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Ci.mapValues(u,(function(e){return-e}))),i[o+n]=u}))}));var o=function(e,t){return Ci.minBy(Ci.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Ci.forIn(t,(function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}(e,i);return function(e,t){var n=Ci.values(t),r=Ci.min(n),i=Ci.max(n);Ci.forEach(["u","d"],(function(n){Ci.forEach(["l","r"],(function(o){var a,s=n+o,u=e[s];if(u!==t){var c=Ci.values(u);(a="l"===o?r-Ci.min(c):i-Ci.max(c))&&(e[s]=Ci.mapValues(u,(function(e){return e+a})))}}))}))}(i,o),function(e,t){return Ci.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=Ci.sortBy(Ci.map(e,r));return(i[1]+i[2])/2}))}(i,e.graph().align)},zo=Fi.normalizeRanks,Uo=Fi.removeEmptyRanks,Go=Fi,Vo=Vr.Graph,Zo=["nodesep","edgesep","ranksep","marginx","marginy"],Wo={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Yo=["acyclicer","ranker","rankdir","align"],Ho=["width","height"],qo={width:0,height:0},Xo=["minlen","weight","width","height","labeloffset"],Ko={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$o=["labelpos"];function Qo(e,t){return Ci.mapValues(Ci.pick(e,t),Number)}function Jo(e){var t={};return Ci.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var ea=Vr.Graph,ta={graphlib:Vr,layout:function(e,t){var n=t&&t.debugTiming?Go.time:Go.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new Vo({multigraph:!0,compound:!0}),n=Jo(e.graph());return t.setGraph(Ci.merge({},Wo,Qo(n,Zo),Ci.pick(n,Yo))),Ci.forEach(e.nodes(),(function(n){var r=Jo(e.node(n));t.setNode(n,Ci.defaults(Qo(r,Ho),qo)),t.setParent(n,e.parent(n))})),Ci.forEach(e.edges(),(function(n){var r=Jo(e.edge(n));t.setEdge(n,Ci.merge({},Ko,Qo(r,Xo),Ci.pick(r,$o)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,Ci.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){Ci.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){Ri(e)})),t("    nestingGraph.run",(function(){go(e)})),t("    rank",(function(){!function(e){switch(e.graph().ranker){case"network-simplex":default:vo(e);break;case"tight-tree":!function(e){ho(e),Hi(e)}(e);break;case"longest-path":po(e)}}(Go.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){Ci.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Go.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){Uo(e)})),t("    nestingGraph.cleanup",(function(){mo(e)})),t("    normalizeRanks",(function(){zo(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;Ci.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Ci.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){Ci.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){Ui(e)})),t("    parentDummyChains",(function(){!function(e){var t=function(e){var t={},n=0;return Ci.forEach(e.children(),(function r(i){var o=n;Ci.forEach(e.children(i),r),t[i]={low:o,lim:n++}})),t}(e);Ci.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||c>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}}))}(e)})),t("    addBorderSegments",(function(){!function(e){Ci.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Ci.forEach(r,t),Ci.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)bo(e,"borderLeft","_bl",n,i,o),bo(e,"borderRight","_br",n,i,o)}}))}(e)})),t("    order",(function(){Po(e)})),t("    insertSelfEdges",(function(){!function(e){var t=Go.buildLayerMatrix(e);Ci.forEach(t,(function(t){var n=0;Ci.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,Ci.forEach(i.selfEdges,(function(t){Go.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){xo(e)})),t("    position",(function(){!function(e){(function(e){var t=Fi.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ci.forEach(t,(function(t){var i=Ci.max(Ci.map(t,(function(t){return e.node(t).height})));Ci.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=Fi.asNonCompoundGraph(e)),Ci.forEach(Bo(e),(function(t,n){e.node(n).x=t}))}(e)})),t("    positionSelfEdges",(function(){!function(e){Ci.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){Ci.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(Ci.last(n.borderLeft)),a=e.node(Ci.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),Ci.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){Gi(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){Ci.forEach(e.edges(),(function(t){var n=e.edge(t);if(Ci.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){wo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}Ci.forEach(e.nodes(),(function(t){u(e.node(t))})),Ci.forEach(e.edges(),(function(t){var n=e.edge(t);Ci.has(n,"x")&&u(n)})),t-=a,r-=s,Ci.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),Ci.forEach(e.edges(),(function(n){var i=e.edge(n);Ci.forEach(i.points,(function(e){e.x-=t,e.y-=r})),Ci.has(i,"x")&&(i.x-=t),Ci.has(i,"y")&&(i.y-=r)})),o.width=n-t+a,o.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){Ci.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Go.intersectRect(o,n)),i.points.push(Go.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){Ci.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){Li(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){Ci.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),Ci.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Ci.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},debug:{debugOrdering:function(e){var t=Fi.buildLayerMatrix(e),n=new ea({compound:!0,multigraph:!0}).setGraph({});return Ci.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),Ci.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),Ci.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),Ci.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:Fi.time,notime:Fi.notime},version:"0.8.5"},na=ta.graphlib,ra=ta.layout,ia=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=h.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height})),oa=(0,u.Z)((function e(){(0,c.Z)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]}));var aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=h.META,this.path=[],this.name=t,this.metaGraph=la(t,v.META,n)}return(0,u.Z)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map((function(t){return e.metaGraph.node(t)}))}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach((function(t){return n.push(e.node(t))})):t.push(r.name)}return t}}]),e}(),sa=function(){function e(t,n){(0,c.Z)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return(0,u.Z)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new aa(e,t)}function ca(e,t){return new sa(e,t)}function la(e,t,n){var r=n||{},i=new na.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ua(m,this.graphOptions),this.index[m]=this.root}return(0,u.Z)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=la(y,v.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach((function(n){n.edges().filter((function(t){return t.v===e||t.w===e})).forEach((function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach((function(n){var a=o?[n.w,r.v]:[n.v,r.w],u=(0,s.Z)(a,2),c=u[0],l=u[1],f=t.getChildName(e,c),d={v:o?l:f,w:o?f:l},h=i.edge(d);h||((h=ca(d.v,d.w)).inbound=o,i.setEdge(d.v,d.w,h)),h.addBaseEdge(n,t)}))}))})),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return da(i,e,t,n),da(o,e,t,n),n}}]),e}();function da(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach((function(t){var n=e.edge(t);r.push(n)}))}var ha=function(){function e(t){(0,c.Z)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new ga(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return(0,u.Z)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===h.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach((function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)})),i.edges().forEach((function(e){var t=i.edge(e),n=new va(t);o.setEdge(e.v,e.w,n)}));var a=r.node.parentNode;if(a){var u=this.getRenderNodeByName(a.name),c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},l=this.hierarchy.getBridgeGraph(e);l.edges().forEach((function(n){var r=l.edge(n),f=!!i.node(n.w),d=f?[n.w,n.v]:[n.v,n.w],v=(0,s.Z)(d,2),g=v[0],m=v[1],y=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return u.coreGraph.edge(n)},b=y(m);b||(b=y(c(f,m,a.name)));var x=c(f,e),w=c(f,m,e),_=o.node(w);if(!_){var E=o.node(x);if(!E){var S={name:x,type:h.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};E=new pa(S),t.index[x]=E,o.setNode(x,E)}var k={name:w,type:h.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};_=new pa(k),t.index[w]=_,o.setNode(w,_),o.setParent(w,x),E.node.cardinality++}var C=new va(r);C.adjoiningMetaEdge=b,f?o.setEdge(w,g,C):o.setEdge(g,w,C)}))}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new ga(t,this.hierarchy.graphOptions):new pa(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),pa=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr})),va=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]})),ga=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;(0,c.Z)(this,n),i=t.call(this,e);var o=e.metaGraph.graph();return r.compound=!0,i.coreGraph=la(o.name,v.CORE,r),i}return(0,u.Z)(n)}(pa);function ma(e,t){e.node.isGroupNode&&function(e,t){var n=f(t);e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)})).forEach((function(e){var r,i,o,a,s,u,c=e.height,l=e.width;switch(e.node.type){case h.NODE:Object.assign(e,n.nodeSize.node),e.height=c||n.nodeSize.node.height,e.width=l||n.nodeSize.node.width;break;case h.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case h.META:e.expanded?ma(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length,r=3;e.width=Math.max(e.coreBox.width,n*r)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(e,t),e.node.type===h.META&&function(e,t){var n=f(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach((function(t){e.node(t).node.type!==h.BRIDGE&&a.push(t)})),!a.length)return{width:0,height:0};ra(e);var s=1/0,u=1/0,c=-1/0,l=-1/0;return a.forEach((function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,c=o>c?o:c;var a=.5*n.height,f=n.y-a,d=n.y+a;u=f<u?f:u,l=d>l?d:l})),e.edges().forEach((function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ya(e[0],e[1]),n=1;n<e.length-1;n++){var r=ya(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:ba(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:ba(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=xa(f,i));var d=n.points[1];null!=r&&(n.points[0]=xa(d,r)),n.points.forEach((function(e){s=e.x<s?e.x:s,c=e.x>c?e.x:c,u=e.y<u?e.y:u,l=e.y>l?e.y:l}))})),e.nodes().forEach((function(t){var n=e.node(t);n.x-=s,n.y-=u})),e.edges().forEach((function(t){e.edge(t).points.forEach((function(e){e.x-=s,e.y-=u}))})),{width:c-s,height:l-u}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ya(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function ba(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function xa(e,t){var n,r,i=t.expanded?t.x:ba(t),o=t.y,a=e.x-i,s=e.y-o,u=t.expanded?t.width:t.coreBox.width,c=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*c/2?(s<0&&(c=-c),n=0===s?0:c/2*a/s,r=c/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:i+n,y:o+r}}function wa(e,t,n){var o,a,u,c,f=e.nodes.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))!==t})).map((function(e){return e.id}));if(f.length)throw new Error("Duplicated ids found: ".concat(f.join(", ")));var d=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),o=new Map,a=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.has(t))return o.get(t);for(var a=0;a<r.length;a++){var s=r[a];if(n&&-1!==n[s].indexOf(t))return i.unshift(s),e(s,i)}return 0===i.length&&o.set(t,i),i},s=function(t){return e.edges.filter((function(e){return e.w===t})).map((function(e){return{name:e.v}}))};return e.nodes.forEach((function(e){var n=e.id,r=[].concat((0,i.Z)(a(n)),[n]),o=s(n);t.nodes.push({name:n,path:r,inputs:o,width:e.width,height:e.height,attr:Object.assign({},e)})})),t}(e),h=function(e,t){var n=function(e,t){var n,i=(0,r.Z)(t.values());try{for(i.s();!(n=i.n()).done;){if(n.value.includes(e))return!0}}catch(o){i.e(o)}finally{i.f()}return!1};return function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return(0,i.Z)(new Set(o));var a,u=new Map(Object.keys(t).map((function(e){return[e,t[e]]}))),c={},l=(0,r.Z)(u);try{for(l.s();!(a=l.n()).done;){var f=(0,s.Z)(a.value,2),d=f[0],h=f[1];n(d,u)?c[d]=h:o=o.concat(d,h)}}catch(p){l.e(p)}finally{l.f()}return e(c,o)}(e).filter((function(e){return t.includes(e)}))}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new ha(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new fa({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var s=i[a],u=e.node(s);u||((u=ua(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=o,e.setNode(s,u),o.metaGraph.setNode(s,u)),o=u}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach((function(a){r=[],i=[];for(var s=o(t.nodes[a.v],r),u=o(t.nodes[a.w],i);r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var c=n[r[s+1]],l=r[s],f=i[u],d=c.metaGraph.edge(l,f);d||(d=ca(l,f),c.metaGraph.setEdge(l,f,d)),d.addBaseEdge(a,e)}))}(i,e),i}(function(e){var t=new oa;return e.nodes.map((function(e){return new ia(e)})).forEach((function(e){t.nodes[e.name]=e,e.inputs.forEach((function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)}))})),t}(e),t))}(d,{rankDirection:(null===(a=null===(o=null==n?void 0:n.graph)||void 0===o?void 0:o.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||l.graph.meta.rankDir,align:(null===(c=null===(u=null==n?void 0:n.graph)||void 0===u?void 0:u.meta)||void 0===c?void 0:c.align)||l.graph.meta.align});return function(e,t){t.forEach((function(t){var n=e.getRenderInfoNodes().find((function(e){return e.displayName===t})),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)}))}(p,h),ma(p.root,n),Sa(p.root)}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:(0,i.Z)(n.edges)};return n.nodes.forEach((function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)})),t&&r.nodes.forEach((function(e){var t=r.nodes.find((function(t){return t.id===e.parentNodeName}));if(t){var n=t.x-t.width/2+t.paddingLeft,i=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==m&&(e.x+=n,e.y+=i),0===e.type&&e.edges.forEach((function(t){t.points.forEach((function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop}))}))}})),r}function Ea(e,t,n,r){var o,a,s=[],u=(null===(o=n.find((function(t){return t.id===e})))||void 0===o?void 0:o.path)||[],c=(null===(a=n.find((function(e){return e.id===t})))||void 0===a?void 0:a.path)||[],l=[m].concat((0,i.Z)(u)).slice(0,u.length).reverse(),f=[m].concat((0,i.Z)(c)).slice(0,c.length);return l.forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),f.filter((function(e){return!l.includes(e)})).forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),s}function Sa(e){var t,n=e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)}));return Object.assign(Object.assign({},ka(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map((function(e){return e.node.type===h.META?Sa(e):ka(e)}))):[],edges:e.expanded?Ca(e):[]})}function ka(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function Ca(e){return e.coreGraph.edges().map((function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}})).filter((function(e){return e.renderInfoEdge.metaEdge})).map((function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map((function(e){return Object.assign({},e)}));if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,c=o.x-s,l=o.y-u,f=-e.paddingLeft,d=-(e.paddingTop+e.labelHeight);a.x=c+f,a.y=l+d}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}}))}},50907:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5742:function(e,t,n){"use strict";n.r(t),n.d(t,{add:function(){return O},adjoint:function(){return h},clone:function(){return a},copy:function(){return s},create:function(){return i},determinant:function(){return p},equals:function(){return I},exactEquals:function(){return P},frob:function(){return M},fromMat2d:function(){return _},fromMat4:function(){return o},fromQuat:function(){return E},fromRotation:function(){return x},fromScaling:function(){return w},fromTranslation:function(){return b},fromValues:function(){return u},identity:function(){return l},invert:function(){return d},mul:function(){return D},multiply:function(){return v},multiplyScalar:function(){return T},multiplyScalarAndAdd:function(){return A},normalFromMat4:function(){return S},projection:function(){return k},rotate:function(){return m},scale:function(){return y},set:function(){return c},str:function(){return C},sub:function(){return R},subtract:function(){return N},translate:function(){return g},transpose:function(){return f}});var r=n(50907);function i(){var e=new r.WT(9);return r.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new r.WT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,n,i,o,a,s,u,c){var l=new r.WT(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=i,l[4]=o,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l}function c(e,t,n,r,i,o,a,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,d=-l*o+s*u,h=c*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(l*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=i*c-r*l,e[2]=r*s-i*a,e[3]=s*u-o*l,e[4]=n*l-i*u,e[5]=i*o-n*s,e[6]=o*c-a*u,e[7]=r*u-n*c,e[8]=n*a-r*o,e}function p(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+h*a+p*c,e[1]=d*i+h*s+p*l,e[2]=d*o+h*u+p*f,e[3]=v*r+g*a+m*c,e[4]=v*i+g*s+m*l,e[5]=v*o+g*u+m*f,e[6]=y*r+b*a+x*c,e[7]=y*i+b*s+x*l,e[8]=y*o+b*u+x*f,e}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+c,e[7]=d*i+h*s+l,e[8]=d*o+h*u+f,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*i+d*s,e[2]=h*o+d*u,e[3]=h*a-d*r,e[4]=h*s-d*i,e[5]=h*u-d*o,e[6]=c,e[7]=l,e[8]=f,e}function y(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function x(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function E(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,v=o*a,g=o*s,m=o*u;return e[0]=1-f-p,e[3]=l-m,e[6]=d+g,e[1]=l+m,e[4]=1-c-p,e[7]=h-v,e[2]=d-g,e[5]=h+v,e[8]=1-c-f,e}function S(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*c-o*a,w=r*u-i*s,_=r*c-o*s,E=i*c-o*u,S=l*v-f*p,k=l*g-d*p,C=l*m-h*p,M=f*g-d*v,O=f*m-h*v,N=d*m-h*g,T=y*N-b*O+x*M+w*C-_*k+E*S;return T?(T=1/T,e[0]=(s*N-u*O+c*M)*T,e[1]=(u*C-a*N-c*k)*T,e[2]=(a*O-s*C+c*S)*T,e[3]=(i*O-r*N-o*M)*T,e[4]=(n*N-i*C+o*k)*T,e[5]=(r*C-n*O-o*S)*T,e[6]=(v*E-g*_+m*w)*T,e[7]=(g*x-p*E-m*b)*T,e[8]=(p*_-v*x+m*y)*T,e):null}function k(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function C(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function M(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function O(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function N(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function T(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function A(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function P(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function I(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=t[0],h=t[1],p=t[2],v=t[3],g=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-d)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-h)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-g)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(f-x)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(x))}var D=v,R=N},88679:function(e,t,n){"use strict";n.d(t,{$X:function(){return f},AK:function(){return v},Fv:function(){return p},IH:function(){return l},JG:function(){return u},Jp:function(){return d},TK:function(){return _},Ue:function(){return i},VC:function(){return x},Zh:function(){return E},al:function(){return s},bA:function(){return h},d9:function(){return o},fF:function(){return y},kC:function(){return g},kE:function(){return a},kK:function(){return b},lu:function(){return w},t7:function(){return m},t8:function(){return c}});var r=n(50907);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.WT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function m(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function x(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-r*c,d=r*u-i*s,h=i*d-o*f,p=o*l-r*d,v=r*f-i*l,g=2*a;return l*=g,f*=g,d*=g,h*=2,p*=2,v*=2,e[0]=s+l+h,e[1]=u+f+p,e[2]=c+d+v,e}var w=f,_=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},E=a;!function(){var e=i()}()},91989:function(e){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},73543:function(e){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},19573:function(e){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},1523:function(e){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},47684:function(e){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},41023:function(e){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},6219:function(e,t,n){e.exports=n(40857)},40857:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},38785:function(e,t,n){e.exports=n(74967)},74967:function(e){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},847:function(e){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},61446:function(e){e.exports=1e-6},3348:function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(61446)},42239:function(e){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},95497:function(e){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},74330:function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(47684)()},39347:function(e){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},31583:function(e,t,n){e.exports={EPSILON:n(61446),create:n(47684),clone:n(19573),fromValues:n(39347),copy:n(1523),set:n(45713),equals:n(3348),exactEquals:n(42239),add:n(91989),subtract:n(88828),sub:n(61756),multiply:n(73533),mul:n(63749),divide:n(74967),div:n(38785),inverse:n(28937),min:n(37539),max:n(46912),rotate:n(60631),floor:n(95497),ceil:n(73543),round:n(80190),scale:n(68362),scaleAndAdd:n(25685),distance:n(40857),dist:n(6219),squaredDistance:n(65773),sqrDist:n(63039),length:n(70011),len:n(45007),squaredLength:n(66915),sqrLen:n(44269),negate:n(99582),normalize:n(97249),dot:n(847),cross:n(41023),lerp:n(35358),random:n(42970),transformMat2:n(59519),transformMat2d:n(80300),transformMat3:n(60492),transformMat4:n(78823),forEach:n(74330),limit:n(61407)}},28937:function(e){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},45007:function(e,t,n){e.exports=n(70011)},70011:function(e){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},35358:function(e){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},61407:function(e){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},46912:function(e){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},37539:function(e){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},63749:function(e,t,n){e.exports=n(73533)},73533:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},99582:function(e){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},97249:function(e){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},42970:function(e){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},60631:function(e){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},80190:function(e){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},68362:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},25685:function(e){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},45713:function(e){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},63039:function(e,t,n){e.exports=n(65773)},44269:function(e,t,n){e.exports=n(66915)},65773:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},66915:function(e){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},61756:function(e,t,n){e.exports=n(88828)},88828:function(e){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},59519:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},80300:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},60492:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},78823:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},62110:function(e,t,n){"use strict";var r=n(57441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=d(n,m);try{c(t,m,y)}catch(b){}}}}return t}},95929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},10722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(e,t,r,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,t)&&Reflect.defineMetadata(n,r(),this,t),Reflect.hasMetadata(n,this,t)?Reflect.getMetadata(n,this,t):r()},set:function(e){Reflect.defineMetadata(n,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,i){return function(o,a){r(o,a,(function(){return e.getNamed(n,i)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,i,o){return function(a,s){r(a,s,(function(){return e.getTagged(n,i,o)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.getAll(n)}),t)}}}},45696:function(e,t,n){"use strict";var r=n(10722);t.Z=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},43893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(39220),i=n(47909);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var d=f[l];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(39220),i=n(47909),o=n(4706),a=n(43893),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},59369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(39220),i=n(47909);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},65030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(47909),i=n(4706),o=n(43893);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},8130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(47909),i=n(4706),o=n(43893);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},54841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(47909),i=n(4706),o=n(43893);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},14793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(39220),i=n(47909),o=n(4706);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},94460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(4706),i=n(43893);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},60802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(47909),i=n(4706),o=n(43893);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},36906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(47909),i=n(4706),o=n(43893);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},58522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(71664),i=n(19825),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},71770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},39220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},71664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},47909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},13918:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(58522),s=n(39220),u=n(71664),c=n(47909),l=n(14658),f=n(77206),d=n(31801),h=n(44310),p=n(19825),v=n(94362),g=n(5628),m=n(39847),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+v.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},67837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(19825),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},5628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},39847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(39220),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},66543:function(e,t,n){"use strict";t.f3=t.t6=t.b2=t.W2=void 0,n(47909);var r=n(13918);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(71664);var o=n(67837);var a=n(59369);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(94460);var u=n(8130);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var c=n(1412);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return c.inject}});var l=n(54841);var f=n(36906);var d=n(65030);var h=n(60802);var p=n(14793);var v=n(14658);var g=n(19825);var m=n(43893);var y=n(80371);var b=n(94362);var x=n(26747)},73065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(19825),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},4706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(47909),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},14658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(47909),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},50343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},77206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(71770),i=n(39220),o=n(71664),a=n(47909),s=n(26016),u=n(94362),c=n(73065),l=n(4706),f=n(50343),d=n(82440),h=n(3668),p=n(697);function v(e){return e._bindingDictionary}function g(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),c=t?s:s.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function m(e,t,n,r,a,s){var u,c;if(null===a){u=g(e,t,r,null,s),c=new h.Request(n,r,null,u,s);var l=new f.Plan(r,c);r.addPlan(l)}else u=g(e,t,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=c}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=d.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=v(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=v,t.plan=function(e,t,n,r,i,o,f,d){void 0===d&&(d=!1);var h=new c.Context(t),v=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new p.Target(t,r,n,u);if(void 0!==i){var f=new l.Metadata(i,o);c.metadata.push(f)}return c}(n,r,i,"",o,f);try{return m(e,d,i,h,null,v),h}catch(g){throw s.isStackOverflowExeption(g)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),g}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e);return new h.Request(t,a,null,[],i)}},63970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},82440:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(1412),o=n(39220),a=n(71664),s=n(47909),u=n(94362);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n(697);function l(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var c=a.userGeneratedMetadata,l=Object.keys(c),h=0===n.length&&l.length>0,p=l.length>n.length,v=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,c,h||p?l.length:n.length),g=d(e,n);return r(r([],v),g)}function f(e,t,n,r,s){var u=s[e.toString()]||[],l=h(u),f=!0!==l.unmanaged,d=r[e],p=l.inject||l.multiInject;if((d=p||d)instanceof i.LazyServiceIdentifer&&(d=d.unwrap()),f){if(!t&&(d===Object||d===Function||void 0===d)){var v=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(v)}var g=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,d);return g.metadata=u,g}return null}function d(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],l=n[u],f=h(n[u]),p=f.targetName||u,v=f.inject||f.multiInject,g=new c.Target(a.TargetTypeEnum.ClassProperty,p,v);g.metadata=l,i.push(g)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=d(e,m);i=r(r([],i),y)}return i}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:e(t,r)}return 0}},3668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(19825),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(47909),i=n(19825),o=n(4706),a=n(63970),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},1265:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(39220),o=n(71664),a=n(47909);t.resolveInstance=function(e,t,n){var s,u,c=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=l,c=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(c=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,c),c}},31801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(39220),i=n(71664),o=n(26016),a=n(94362),s=n(1265),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},c=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&f)return c.map((function(n){return e(t)(n)}));var d=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],p=h.scope===i.BindingScopeEnum.Singleton,v=h.scope===i.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(v&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)d=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)d=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)d=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)d=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var g=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+g)}d=s.resolveInstance(h.implementationType,c,e(t))}return"function"===typeof h.onActivation&&(d=h.onActivation(n.parentContext,d)),p&&(h.cache=d,h.activated=!0),v&&null!==t&&!t.has(h.id)&&t.set(h.id,d),d}}};t.resolve=function(e){return c(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},46120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(71664),i=n(56),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},28109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(46120),i=n(28262),o=n(85472),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},28262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(85472),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},44310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(39220),i=n(71664),o=n(28109),a=n(56),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(28262),i=n(85472),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},85472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(28262),i=n(80371),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},80371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(47909),i=n(4706);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},26747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},26016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(39220);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},19825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},94362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(39220);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),o=n(16037),a=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),o=n(64957),a=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),o=n(29186),a=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},20692:function(e,t,n){var r=n(78059),i=n(35774),o=n(41596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},22854:function(e,t,n){var r=n(38384),i=n(20511),o=n(50835),a=n(90707),s=n(18832),u=n(35077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},13665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},59055:function(e,t,n){var r=n(24842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},32683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},47538:function(e,t,n){var r=n(86478),i=n(34963),o=n(93629),a=n(5174),s=n(26800),u=n(19102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},68950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},47897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},28002:function(e,t,n){var r=n(32526),i=n(29231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},18463:function(e,t,n){var r=n(32526),i=n(29231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},11855:function(e,t,n){var r=n(64503),i=n(12742);e.exports=function(e,t){return e&&r(t,i(t),e)}},95076:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e,t){return e&&r(t,i(t),e)}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},31905:function(e,t,n){var r=n(22854),i=n(4550),o=n(18463),a=n(11855),s=n(95076),u=n(94523),c=n(10291),l=n(52455),f=n(57636),d=n(38248),h=n(55341),p=n(88383),v=n(39243),g=n(39759),m=n(40548),y=n(93629),b=n(5174),x=n(60103),w=n(8092),_=n(36995),E=n(12742),S=n(73961),k="[object Arguments]",C="[object Function]",M="[object Object]",O={};O[k]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[M]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[C]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,N,T,A,P){var I,D=1&n,R=2&n,L=4&n;if(N&&(I=A?N(t,T,A,P):N(t)),void 0!==I)return I;if(!w(t))return t;var j=y(t);if(j){if(I=v(t),!D)return c(t,I)}else{var F=p(t),B=F==C||"[object GeneratorFunction]"==F;if(b(t))return u(t,D);if(F==M||F==k||B&&!A){if(I=R||B?{}:m(t),!D)return R?f(t,s(I,t)):l(t,a(I,t))}else{if(!O[F])return A?t:{};I=g(t,F,D)}}P||(P=new r);var z=P.get(t);if(z)return z;P.set(t,I),_(t)?t.forEach((function(r){I.add(e(r,n,N,r,t,P))})):x(t)&&t.forEach((function(r,i){I.set(i,e(r,n,N,i,t,P))}));var U=j?void 0:(L?R?h:d:R?S:E)(t);return i(U||t,(function(r,i){U&&(r=t[i=r]),o(I,i,e(r,n,N,i,t,P))})),I}},65763:function(e,t,n){var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},21468:function(e,t,n){var r=n(20692),i=n(59055),o=n(32683),a=n(68950),s=n(16194),u=n(60075);e.exports=function(e,t,n,c){var l=-1,f=i,d=!0,h=e.length,p=[],v=t.length;if(!h)return p;n&&(t=a(t,s(n))),c?(f=o,d=!1):t.length>=200&&(f=u,d=!1,t=new r(t));e:for(;++l<h;){var g=e[l],m=null==n?g:n(g);if(g=c||0!==g?g:0,d&&m===m){for(var y=v;y--;)if(t[y]===m)continue e;p.push(g)}else f(t,m,c)||p.push(g)}return p}},87927:function(e,t,n){var r=n(15358),i=n(67056)(r);e.exports=i},57523:function(e,t,n){var r=n(87927);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},55182:function(e,t,n){var r=n(41705),i=n(73529);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},85099:function(e,t,n){var r=n(30372)();e.exports=r},15358:function(e,t,n){var r=n(85099),i=n(12742);e.exports=function(e,t){return e&&r(e,t,i)}},98667:function(e,t,n){var r=n(43082),i=n(69793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),o=n(43581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},90529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},24842:function(e,t,n){var r=n(2045),i=n(50505),o=n(77167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},89931:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Date]"==r(e)}},71848:function(e,t,n){var r=n(93355),i=n(43141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},93355:function(e,t,n){var r=n(22854),i=n(15305),o=n(92206),a=n(88078),s=n(88383),u=n(93629),c=n(5174),l=n(19102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var y=u(e),b=u(t),x=y?d:s(e),w=b?d:s(t),_=(x=x==f?h:x)==h,E=(w=w==f?h:w)==h,S=x==w;if(S&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(S&&!_)return m||(m=new r),y||l(e)?i(e,t,n,v,g,m):o(e,t,x,n,v,g,m);if(!(1&n)){var k=_&&p.call(e,"__wrapped__"),C=E&&p.call(t,"__wrapped__");if(k||C){var M=k?e.value():e,O=C?t.value():t;return m||(m=new r),g(M,O,n,v,m)}}return!!S&&(m||(m=new r),a(e,t,n,v,g,m))}},53085:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},8856:function(e,t,n){var r=n(22854),i=n(71848);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(o)var p=o(f,d,l,e,t,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},50505:function(e){e.exports=function(e){return e!==e}},26703:function(e,t,n){var r=n(74786),i=n(257),o=n(8092),a=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},48680:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},68150:function(e,t,n){var r=n(39066),i=n(24635),o=n(43141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},56025:function(e,t,n){var r=n(97080),i=n(24322),o=n(2100),a=n(93629),s=n(10038);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},43654:function(e,t,n){var r=n(62936),i=n(75964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(62936),o=n(4221),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},53849:function(e,t,n){var r=n(87927),i=n(21473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},97080:function(e,t,n){var r=n(8856),i=n(79091),o=n(50284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},24322:function(e,t,n){var r=n(71848),i=n(26181),o=n(75658),a=n(25823),s=n(25072),u=n(50284),c=n(69793);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},64173:function(e,t,n){var r=n(22854),i=n(28002),o=n(85099),a=n(49216),s=n(8092),u=n(73961),c=n(85906);e.exports=function e(t,n,l,f,d){t!==n&&o(n,(function(o,u){if(d||(d=new r),s(o))a(t,n,u,l,e,f,d);else{var h=f?f(c(t,u),o,u+"",t,n,d):void 0;void 0===h&&(h=o),i(t,u,h)}}),u)}},49216:function(e,t,n){var r=n(28002),i=n(94523),o=n(40613),a=n(10291),s=n(40548),u=n(34963),c=n(93629),l=n(56279),f=n(5174),d=n(74786),h=n(8092),p=n(93977),v=n(19102),g=n(85906),m=n(6576);e.exports=function(e,t,n,y,b,x,w){var _=g(e,n),E=g(t,n),S=w.get(E);if(S)r(e,n,S);else{var k=x?x(_,E,n+"",e,t,w):void 0,C=void 0===k;if(C){var M=c(E),O=!M&&f(E),N=!M&&!O&&v(E);k=E,M||O||N?c(_)?k=_:l(_)?k=a(_):O?(C=!1,k=i(E,!0)):N?(C=!1,k=o(E,!0)):k=[]:p(E)||u(E)?(k=_,u(_)?k=m(_):h(_)&&!d(_)||(k=s(E))):C=!1}C&&(w.set(E,k),b(k,E,y,x,w),w.delete(E)),r(e,n,k)}}},93226:function(e,t,n){var r=n(68950),i=n(98667),o=n(56025),a=n(53849),s=n(19179),u=n(16194),c=n(94480),l=n(2100),f=n(93629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,u(o));var h=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(h,(function(e,t){return c(e,t,n)}))}},14980:function(e,t,n){var r=n(2591),i=n(75658);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2591:function(e,t,n){var r=n(98667),i=n(40379),o=n(43082);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(98667);e.exports=function(e){return function(t){return r(t,e)}}},58794:function(e,t,n){var r=n(2100),i=n(64262),o=n(79156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},40379:function(e,t,n){var r=n(18463),i=n(43082),o=n(26800),a=n(8092),s=n(69793);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,f=l-1,d=e;null!=d&&++c<l;){var h=s(t[c]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=f){var v=d[h];void 0===(p=u?u(v,h,d):void 0)&&(p=a(v)?v:o(t[c+1])?[]:{})}r(d,h,p),d=d[h]}return e}},7532:function(e,t,n){var r=n(71547),i=n(48528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},19179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(87197),i=n(68950),o=n(93629),a=n(70152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},39602:function(e,t,n){var r=n(20692),i=n(59055),o=n(32683),a=n(60075),s=n(77730),u=n(22230);e.exports=function(e,t,n){var c=-1,l=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,l=o;else if(f>=200){var v=t?null:s(e);if(v)return u(v);d=!1,l=a,p=new r}else p=t?[]:h;e:for(;++c<f;){var g=e[c],m=t?t(g):g;if(g=n||0!==g?g:0,d&&m===m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),h.push(g)}else l(p,m,n)||(p!==h&&p.push(m),h.push(g))}return h}},86555:function(e,t,n){var r=n(43082),i=n(15727),o=n(68978),a=n(69793);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},60075:function(e){e.exports=function(e,t){return e.has(t)}},43082:function(e,t,n){var r=n(93629),i=n(25823),o=n(10170),a=n(63518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},7010:function(e,t,n){var r=n(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},94523:function(e,t,n){e=n.nmd(e);var r=n(97009),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},61022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},64720:function(e,t,n){var r=n(87197),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},40613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},88558:function(e,t,n){var r=n(70152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,u=null===t,c=t===t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},94480:function(e,t,n){var r=n(88558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},10291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},64503:function(e,t,n){var r=n(18463),i=n(32526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},52455:function(e,t,n){var r=n(64503),i=n(65918);e.exports=function(e,t){return r(e,i(e),t)}},57636:function(e,t,n){var r=n(64503),i=n(38487);e.exports=function(e,t){return r(e,i(e),t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},39934:function(e,t,n){var r=n(58794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},67056:function(e,t,n){var r=n(21473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},30372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},77730:function(e,t,n){var r=n(23924),i=n(19694),o=n(22230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},26013:function(e,t,n){var r=n(93977);e.exports=function(e){return r(e)?void 0:e}},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},15305:function(e,t,n){var r=n(20692),i=n(47897),o=n(60075);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],y=t[p];if(a)var b=c?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,a,u)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},92206:function(e,t,n){var r=n(87197),i=n(46219),o=n(29231),a=n(15305),s=n(90234),u=n(22230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var g=a(h(e),h(t),r,c,f,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},88078:function(e,t,n){var r=n(38248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<l;){var m=e[d=c[f]],y=t[d];if(o)var b=u?o(y,m,d,t,e,s):o(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},27038:function(e,t,n){var r=n(25506),i=n(64262),o=n(79156);e.exports=function(e){return o(i(e,void 0,r),e+"")}},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),o=n(12742);e.exports=function(e){return r(e,o,i)}},55341:function(e,t,n){var r=n(61986),i=n(38487),o=n(73961);e.exports=function(e){return r(e,o,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},79091:function(e,t,n){var r=n(25072),i=n(12742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},31137:function(e,t,n){var r=n(12709)(Object.getPrototypeOf,Object);e.exports=r},81587:function(e,t,n){var r=n(87197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},38487:function(e,t,n){var r=n(41705),i=n(31137),o=n(65918),a=n(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),o=n(78319),a=n(23924),s=n(7091),u=n(39066),c=n(27907),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),g=c(i),m=c(o),y=c(a),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=l||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case g:return l;case m:return f;case y:return d;case b:return h}return t}),e.exports=x},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},86417:function(e,t,n){var r=n(43082),i=n(34963),o=n(93629),a=n(26800),s=n(24635),u=n(69793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},39759:function(e,t,n){var r=n(7010),i=n(61022),o=n(18503),a=n(64720),s=n(40613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},40548:function(e,t,n){var r=n(65763),i=n(31137),o=n(62936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},73529:function(e,t,n){var r=n(87197),i=n(34963),o=n(93629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(29231),i=n(21473),o=n(26800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},25823:function(e,t,n){var r=n(93629),i=n(70152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},25072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),o=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},90234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},50284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},14634:function(e,t,n){var r=n(49151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},64262:function(e,t,n){var r=n(13665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},68978:function(e,t,n){var r=n(98667),i=n(2646);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},85906:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},35774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},41596:function(e){e.exports=function(e){return this.__data__.has(e)}},22230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},79156:function(e,t,n){var r=n(7532),i=n(83197)(r);e.exports=i},83197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),o=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},77167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},10170:function(e,t,n){var r=n(14634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},69793:function(e,t,n){var r=n(70152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},58121:function(e,t,n){var r=n(31905);e.exports=function(e){return r(e,5)}},71547:function(e){e.exports=function(e){return function(){return e}}},48573:function(e,t,n){var r=n(8092),i=n(50072),o=n(42582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(w,t),v?y(e):f}function x(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=l}function w(){var e=i();if(x(e))return _(e);d=setTimeout(w,function(e){var n=t-(e-h);return g?s(n,l-(e-p)):n}(e))}function _(e){return d=void 0,m&&u?y(e):(u=c=void 0,f)}function E(){var e=i(),n=x(e);if(u=arguments,c=this,h=e,n){if(void 0===d)return b(h);if(g)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=c=d=void 0},E.flush=function(){return void 0===d?f:_(i())},E}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},80086:function(e,t,n){var r=n(84903),i=n(57523),o=n(56025),a=n(93629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},25506:function(e,t,n){var r=n(55182);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},26181:function(e,t,n){var r=n(98667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},75658:function(e,t,n){var r=n(90529),i=n(86417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},34963:function(e,t,n){var r=n(4906),i=n(43141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},56279:function(e,t,n){var r=n(21473),i=n(43141);e.exports=function(e){return i(e)&&r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},36609:function(e,t,n){var r=n(89931),i=n(16194),o=n(49494),a=o&&o.isDate,s=a?i(a):r;e.exports=s},18111:function(e,t,n){var r=n(71848);e.exports=function(e,t){return r(e,t)}},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,n){var r=n(53085),i=n(16194),o=n(49494),a=o&&o.isMap,s=a?i(a):r;e.exports=s},30298:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},93977:function(e,t,n){var r=n(39066),i=n(31137),o=n(43141),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},36995:function(e,t,n){var r=n(48680),i=n(16194),o=n(49494),a=o&&o.isSet,s=a?i(a):r;e.exports=s},26769:function(e,t,n){var r=n(39066),i=n(93629),o=n(43141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),o=n(49494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),o=n(21473);e.exports=function(e){return o(e)?r(e):i(e)}},73961:function(e,t,n){var r=n(47538),i=n(8664),o=n(21473);e.exports=function(e){return o(e)?r(e,!0):i(e)}},15727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",_="[object Error]",E="[object Function]",S="[object GeneratorFunction]",k="[object Map]",C="[object Number]",M="[object Object]",O="[object Promise]",N="[object RegExp]",T="[object Set]",A="[object String]",P="[object Symbol]",I="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",Z="[object Uint32Array]",W=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,K=RegExp(q.source),$=RegExp(X.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Me="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",Ae="[\\ud800-\\udfff]",Pe="["+Ne+"]",Ie="["+Se+"]",De="\\d+",Re="[\\u2700-\\u27bf]",Le="["+Ce+"]",je="[^\\ud800-\\udfff"+Ne+De+ke+Ce+Me+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Me+"]",Ve="(?:"+Le+"|"+je+")",Ze="(?:"+Ge+"|"+je+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Ie+"|"+Fe+")"+"?",qe="[\\ufe0e\\ufe0f]?",Xe=qe+He+("(?:\\u200d(?:"+[Be,ze,Ue].join("|")+")"+qe+He+")*"),Ke="(?:"+[Re,ze,Ue].join("|")+")"+Xe,$e="(?:"+[Be+Ie+"?",Ie,ze,Ue,Ae].join("|")+")",Qe=RegExp(Te,"g"),Je=RegExp(Ie,"g"),et=RegExp(Fe+"(?="+Fe+")|"+$e+Xe,"g"),tt=RegExp([Ge+"?"+Le+"+"+We+"(?="+[Pe,Ge,"$"].join("|")+")",Ze+"+"+Ye+"(?="+[Pe,Ge+Ve,"$"].join("|")+")",Ge+"?"+Ve+"+"+We,Ge+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ke].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[L]=at[j]=at[F]=at[B]=at[z]=at[U]=at[G]=at[V]=at[Z]=!0,at[y]=at[b]=at[D]=at[x]=at[R]=at[w]=at[_]=at[E]=at[k]=at[C]=at[M]=at[N]=at[T]=at[A]=at[I]=!1;var st={};st[y]=st[b]=st[D]=st[R]=st[x]=st[w]=st[L]=st[j]=st[F]=st[B]=st[z]=st[k]=st[C]=st[M]=st[N]=st[T]=st[A]=st[P]=st[U]=st[G]=st[V]=st[Z]=!0,st[_]=st[E]=st[I]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,gt=vt&&vt.exports===pt,mt=gt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,_t=yt&&yt.isRegExp,Et=yt&&yt.isSet,St=yt&&yt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Wt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Vt,n)}function Gt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!==e}function Zt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:v}function Wt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function Qt(e,t){return It(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ht:mn.defaults(ht.Object(),t,mn.pick(ht,it))).Array,r=t.Date,se=t.Error,Se=t.Function,ke=t.Math,Ce=t.Object,Me=t.RegExp,Oe=t.String,Ne=t.TypeError,Te=n.prototype,Ae=Se.prototype,Pe=Ce.prototype,Ie=t["__core-js_shared__"],De=Ae.toString,Re=Pe.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Pe.toString,Be=De.call(Ce),ze=ht._,Ue=Me("^"+De.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=gt?t.Buffer:i,Ve=t.Symbol,Ze=t.Uint8Array,We=Ge?Ge.allocUnsafe:i,Ye=cn(Ce.getPrototypeOf,Ce),He=Ce.create,qe=Pe.propertyIsEnumerable,Xe=Te.splice,Ke=Ve?Ve.isConcatSpreadable:i,$e=Ve?Ve.iterator:i,et=Ve?Ve.toStringTag:i,nt=function(){try{var e=ho(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=r&&r.now!==ht.Date.now&&r.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=ke.ceil,vt=ke.floor,mt=Ce.getOwnPropertySymbols,yt=Ge?Ge.isBuffer:i,Ft=t.isFinite,Yt=Te.join,yn=cn(Ce.keys,Ce),bn=ke.max,xn=ke.min,wn=r.now,_n=t.parseInt,En=ke.random,Sn=Te.reverse,kn=ho(t,"DataView"),Cn=ho(t,"Map"),Mn=ho(t,"Promise"),On=ho(t,"Set"),Nn=ho(t,"WeakMap"),Tn=ho(Ce,"create"),An=Nn&&new Nn,Pn={},In=zo(kn),Dn=zo(Cn),Rn=zo(Mn),Ln=zo(On),jn=zo(Nn),Fn=Ve?Ve.prototype:i,Bn=Fn?Fn.valueOf:i,zn=Fn?Fn.toString:i;function Un(e){if(rs(e)&&!Ya(e)&&!(e instanceof Wn)){if(e instanceof Zn)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new Zn(e)}var Gn=function(){function e(){}return function(t){if(!ns(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Hn(e);this.size=t.size}function $n(e,t){var n=Ya(e),r=!n&&Wa(e),i=!n&&!r&&Ka(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Xt(e.length,Oe):[],u=s.length;for(var c in e)!t&&!Re.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xo(c,u))||s.push(c);return s}function Qn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function Jn(e,t){return jo(Ti(e),ur(t,0,e.length))}function er(e){return jo(Ti(e))}function tr(e,t,n){(n!==i&&!Ga(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Re.call(e,t)&&Ga(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ai(t,Is(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Os(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var f=Ya(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ti(e,s)}else{var d=go(e),h=d==E||d==S;if(Ka(e))return Si(e,u);if(d==M||d==y||h&&!o){if(s=c||h?{}:yo(e),!u)return c?function(e,t){return Ai(e,vo(e),t)}(e,function(e,t){return e&&Ai(t,Ds(t),e)}(s,e)):function(e,t){return Ai(e,po(e),t)}(e,or(s,e))}else{if(!st[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return ki(e);case x:case w:return new r(+e);case R:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case F:case B:case z:case U:case G:case V:case Z:return Ci(e,n);case k:return new r;case C:case A:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case P:return i=e,Bn?Ce(Bn.call(i)):{}}var i}(e,d,u)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,a))}));var v=f?i:(l?c?oo:io:c?Ds:Is)(e);return Mt(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,cr(r,t,n,i,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ne(o);return Io((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=It(t,$t(n))),r?(o=Pt,a=!1):t.length>=200&&(o=Jt,a=!1,t=new Xn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Un.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,Zn.prototype=Gn(Vn.prototype),Zn.prototype.constructor=Zn,Wn.prototype=Gn(Vn.prototype),Wn.prototype.constructor=Wn,Yn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===a?i:n}return Re.call(t,e)?t[e]:i},Yn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==i:Re.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===i?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Cn||Hn),string:new Yn}},qn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return lo(this,e).get(e)},qn.prototype.has=function(e){return lo(this,e).has(e)},qn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var hr=Di(wr),pr=Di(_r,!0);function vr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!ls(s):n(s,u)))var u=s,c=a}return c}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var br=Ri(),xr=Ri(!0);function wr(e,t){return e&&br(e,t,Is)}function _r(e,t){return e&&xr(e,t,Is)}function Er(e,t){return Tt(t,(function(t){return Ja(e[t])}))}function Sr(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Bo(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Ya(e)?r:Dt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ce(e)?function(e){var t=Re.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Fe.call(e)}(e)}function Mr(e,t){return e>t}function Or(e,t){return null!=e&&Re.call(e,t)}function Nr(e,t){return null!=e&&t in Ce(e)}function Tr(e,t,r){for(var o=r?Pt:At,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=It(d,$t(t))),l=xn(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new Xn(u&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var v=d[h],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?Jt(p,g):o(f,g,r))){for(u=s;--u;){var m=c[u];if(!(m?Jt(m,g):o(e[u],g,r)))continue e}p&&p.push(g),f.push(v)}}return f}function Ar(e,t,n){var r=null==(e=No(e,t=xi(t,e)))?e:e[Bo(Qo(t))];return null==r?i:kt(r,e,n)}function Pr(e){return rs(e)&&Cr(e)==y}function Ir(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ya(e),u=Ya(t),c=s?b:go(e),l=u?b:go(t),f=(c=c==y?M:c)==M,d=(l=l==y?M:l)==M,h=c==l;if(h&&Ka(e)){if(!Ka(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||fs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new Ze(e),new Ze(t)));case x:case w:case C:return Ga(+e,+t);case _:return e.name==t.name&&e.message==t.message;case N:case A:return e==t+"";case k:var s=un;case T:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case P:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=f&&Re.call(e,"__wrapped__"),v=d&&Re.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return a||(a=new Kn),o(g,m,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,r,o,a){var s=1&n,u=io(e),c=u.length,l=io(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var d=u[f];if(!(s?d in t:Re.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<c;){var m=e[d=u[f]],y=t[d];if(r)var b=s?r(y,m,d,t,e,a):r(m,y,d,e,t,a);if(!(b===i?m===y||o(m,y,n,r,a):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,o,a)}(e,t,n,r,Ir,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ce(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Kn;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?Ir(f,l,3,r,d):h))return!1}}return!0}function Rr(e){return!(!ns(e)||(t=e,je&&je in t))&&(Ja(e)?Ue:ye).test(zo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ya(e)?Gr(e[0],e[1]):Ur(e):pu(e)}function jr(e){if(!ko(e))return yn(e);var t=[];for(var n in Ce(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ko(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function zr(e,t){var r=-1,i=qa(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Ur(e){var t=fo(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Gr(e,t){return _o(e)&&Co(t)?Mo(Bo(e),t):function(n){var r=Os(n,e);return r===i&&r===t?Ns(n,e):Ir(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new Kn),ns(a))!function(e,t,n,r,o,a,s){var u=Ao(e,n),c=Ao(t,n),l=s.get(c);if(l)return void tr(e,n,l);var f=a?a(u,c,n+"",e,t,s):i,d=f===i;if(d){var h=Ya(c),p=!h&&Ka(c),v=!h&&!p&&fs(c);f=c,h||p||v?Ya(u)?f=u:Xa(u)?f=Ti(u):p?(d=!1,f=Si(c,!0)):v?(d=!1,f=Ci(c,!0)):f=[]:as(c)||Wa(c)?(f=u,Wa(u)?f=bs(u):ns(u)&&!Ja(u)||(f=yo(c))):d=!1}d&&(s.set(c,f),o(f,c,r,a,s),s.delete(c));tr(e,n,f)}(e,t,s,n,Vr,r,o);else{var u=r?r(Ao(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Ds)}function Zr(e,t){var n=e.length;if(n)return xo(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?It(t,(function(e){return Ya(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=It(t,$t(co()));var i=zr(e,(function(e,n,i){var o=It(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Mi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&ei(o,xi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Gt:Ut,o=-1,a=t.length,s=e;for(e===t&&(t=Ti(t)),n&&(s=It(e,$t(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xo(i)?Xe.call(e,i,1):di(e,i)}}return e}function Xr(e,t){return e+vt(En()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Do(Oo(e,t,ou),e+"")}function Qr(e){return Qn(Gs(e))}function Jr(e,t){var n=Gs(e);return jo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=xi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Bo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ns(f)?f:xo(t[o+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=An?function(e,t){return An.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return jo(Gs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=ls(t),l=t===i;o<a;){var f=vt((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,v=d===d,g=ls(d);if(s)var m=r||v;else m=l?v&&(r||h):u?v&&h&&(r||!p):c?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);m?o=f+1:a=f}return xn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ls(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ya(e))return It(e,li)+"";if(ls(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Pt;else if(o>=200){var c=t?null:Ki(e);if(c)return fn(c);a=!1,i=Jt,u=new Xn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function di(e,t){return null==(e=No(e,t=xi(t,e)))||delete e[Bo(Qo(t))]}function hi(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,e[u],t,r));return fi(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Xa(e)?e:[]}function bi(e){return"function"==typeof e?e:ou}function xi(e,t){return Ya(e)?e:_o(e,t)?[e]:Fo(xs(e))}var wi=$r;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ei=ut||function(e){return ht.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new Ze(t).set(new Ze(e)),t}function Ci(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=ls(e),s=t!==i,u=null===t,c=t===t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Oi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=bn(a-s,0),f=n(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ni(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=bn(a-u,0),d=n(f+l),h=!i;++o<f;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Ti(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ai(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ar(n,u,c):nr(n,u,c)}return n}function Pi(e,t){return function(n,r){var i=Ya(n)?Ct:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Ii(e){return $r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ce(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ce(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Ce(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=sn(t=xs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?_i(n,1).join(""):t.slice(1);return r[e]()+o}}function ji(e){return function(t){return Rt(Js(Ws(t).replace(Qe,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Bi(e){return function(t,n,r){var o=Ce(t);if(!qa(t)){var a=co(n,3);t=Is(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function zi(e){return ro((function(t){var n=t.length,r=n,a=Zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ne(o);if(a&&!u&&"wrapper"==so(s))var u=new Zn([],!0)}for(r=u?r:n;++r<n;){var c=so(s=t[r]),l="wrapper"==c?ao(s):i;u=l&&Eo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==s.length&&Eo(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ya(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,r,o,a,s,u,c,l,d){var h=t&f,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Fi(e);return function i(){for(var f=arguments.length,b=n(f),x=f;x--;)b[x]=arguments[x];if(g)var w=uo(i),_=nn(b,w);if(o&&(b=Oi(b,o,a,g)),s&&(b=Ni(b,s,u,g)),f-=_,g&&f<d){var E=ln(b,w);return qi(e,t,Ui,i.placeholder,r,b,E,c,l,d-f)}var S=p?r:this,k=v?S[e]:e;return f=b.length,c?b=To(b,c):m&&f>1&&b.reverse(),h&&l<f&&(b.length=l),this&&this!==ht&&this instanceof i&&(k=y||Fi(k)),k.apply(S,b)}}function Gi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Zi(e){return ro((function(t){return t=It(t,$t(co())),$r((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,pt(e/hn(t)));return sn(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Yi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=vs(t),r===i?(r=t,t=0):r=vs(r),function(e,t,r,i){for(var o=-1,a=bn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:vs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function qi(e,t,n,r,o,a,s,u,f,d){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],v=n.apply(i,p);return Eo(e)&&Po(v,p),v.placeholder=r,Ro(v,e,t)}function Xi(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:xn(gs(n),292))&&Ft(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=On&&1/fn(new On([,-0]))[1]==h?function(e){return new On(e)}:lu;function $i(e){return function(t){var n=go(t);return n==k?un(t):n==T?dn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,r,a,h,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ne(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),v=v===i?v:bn(gs(v),0),g=g===i?g:gs(g),y-=h?h.length:0,t&l){var b=a,x=h;a=h=i}var w=m?i:ao(e),_=[e,t,r,a,h,b,x,p,v,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Oi(c,u,t[4]):u,e[4]=c?ln(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ni(c,u,t[6]):u,e[6]=c?ln(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],a=_[3],h=_[4],!(g=_[9]=_[9]===i?m?0:e.length:bn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,r){var o=Fi(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=uo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=f.length)<r?qi(e,t,Ui,a.placeholder,i,u,f,i,i,r-s):kt(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,g):t!=c&&33!=t||h.length?Ui.apply(i,_):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),d=this&&this!==ht&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return kt(d,o?r:this,f)}}(e,t,r,a);else var E=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ro((w?ti:Po)(E,_),e,t)}function Ji(e,t,n,r){return e===i||Ga(e,Pe[n])&&!Re.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Vr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Xn:i;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],g=t[d];if(r)var m=s?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!jt(t,(function(e,t){if(!Jt(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Do(Oo(e,i,Ho),e+"")}function io(e){return kr(e,Is,po)}function oo(e){return kr(e,Ds,vo)}var ao=An?function(e){return An.get(e)}:lu;function so(e){for(var t=e.name+"",n=Pn[t],r=Re.call(Pn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function co(){var e=Un.iteratee||au;return e=e===au?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=Ce(e),Tt(mt(e),(function(t){return qe.call(e,t)})))}:mu,vo=mt?function(e){for(var t=[];e;)Dt(t,po(e)),e=Ye(e);return t}:mu,go=Cr;function mo(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,o=!1;++r<i;){var a=Bo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&xo(a,i)&&(Ya(e)||Wa(e))}function yo(e){return"function"!=typeof e.constructor||ko(e)?{}:Gn(Ye(e))}function bo(e){return Ya(e)||Wa(e)||!!(Ke&&e&&e[Ke])}function xo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&xo(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function _o(e,t){if(Ya(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function Eo(e){var t=so(e),n=Un[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(kn&&go(new kn(new ArrayBuffer(1)))!=R||Cn&&go(new Cn)!=k||Mn&&go(Mn.resolve())!=O||On&&go(new On)!=T||Nn&&go(new Nn)!=I)&&(go=function(e){var t=Cr(e),n=t==M?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case In:return R;case Dn:return k;case Rn:return O;case Ln:return T;case jn:return I}return t});var So=Ie?Ja:yu;function ko(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Co(e){return e===e&&!ns(e)}function Mo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Oo(e,t,r){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),kt(e,this,u)}}function No(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function To(e,t){for(var n=e.length,r=xn(t.length,n),o=Ti(e);r--;){var a=t[r];e[r]=xo(a,n)?o[a]:i}return e}function Ao(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Lo(ti),Io=dt||function(e,t){return ht.setTimeout(e,t)},Do=Lo(ni);function Ro(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(m,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Xr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Bo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Uo(e){if(e instanceof Wn)return e.clone();var t=new Zn(e.__wrapped__,e.__chain__);return t.__actions__=Ti(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=$r((function(e,t){return Xa(e)?dr(e,yr(t,1,Xa,!0)):[]})),Vo=$r((function(e,t){var n=Qo(t);return Xa(n)&&(n=i),Xa(e)?dr(e,yr(t,1,Xa,!0),co(n,2)):[]})),Zo=$r((function(e,t){var n=Qo(t);return Xa(n)&&(n=i),Xa(e)?dr(e,yr(t,1,Xa,!0),i,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=bn(r+i,0)),zt(e,co(t,3),i)}function Yo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?bn(r+o,0):xn(o,r-1)),zt(e,co(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?yr(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Xo=$r((function(e){var t=It(e,yi);return t.length&&t[0]===e[0]?Tr(t):[]})),Ko=$r((function(e){var t=Qo(e),n=It(e,yi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Tr(n,co(t,2)):[]})),$o=$r((function(e){var t=Qo(e),n=It(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=$r(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return qr(e,It(t,(function(e){return xo(e,n)?+e:e})).sort(Mi)),r}));function na(e){return null==e?e:Sn.call(e)}var ra=$r((function(e){return fi(yr(e,1,Xa,!0))})),ia=$r((function(e){var t=Qo(e);return Xa(t)&&(t=i),fi(yr(e,1,Xa,!0),co(t,2))})),oa=$r((function(e){var t=Qo(e);return t="function"==typeof t?t:i,fi(yr(e,1,Xa,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Xa(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return It(e,Wt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:It(n,(function(e){return kt(t,i,e)}))}var ua=$r((function(e,t){return Xa(e)?dr(e,t):[]})),ca=$r((function(e){return gi(Tt(e,Xa))})),la=$r((function(e){var t=Qo(e);return Xa(t)&&(t=i),gi(Tt(e,Xa),co(t,2))})),fa=$r((function(e){var t=Qo(e);return t="function"==typeof t?t:i,gi(Tt(e,Xa),i,t)})),da=$r(aa);var ha=$r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Un(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&xo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new Zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Pi((function(e,t,n){Re.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Bi(Wo),ba=Bi(Yo);function xa(e,t){return(Ya(e)?Mt:hr)(e,co(t,3))}function wa(e,t){return(Ya(e)?Ot:pr)(e,co(t,3))}var _a=Pi((function(e,t,n){Re.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ea=$r((function(e,t,r){var i=-1,o="function"==typeof t,a=qa(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?kt(t,e,r):Ar(e,t,r)})),a})),Sa=Pi((function(e,t,n){ar(e,n,t)}));function ka(e,t){return(Ya(e)?It:zr)(e,co(t,3))}var Ca=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ma=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),Oa=ft||function(){return ht.Date.now()};function Na(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Qi(e,f,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Ne(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Aa=$r((function(e,t,n){var r=1;if(n.length){var i=ln(n,uo(Aa));r|=c}return Qi(e,r,t,n,i)})),Pa=$r((function(e,t,n){var r=3;if(n.length){var i=ln(n,uo(Pa));r|=c}return Qi(t,r,e,n,i)}));function Ia(e,t,n){var r,a,s,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ne(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function g(e){return f=e,c=Io(y,t),d?v(e):u}function m(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=s}function y(){var e=Oa();if(m(e))return b(e);c=Io(y,function(e){var n=t-(e-l);return h?xn(n,s-(e-f)):n}(e))}function b(e){return c=i,p&&r?v(e):(r=a=i,u)}function x(){var e=Oa(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return g(l);if(h)return Ei(c),c=Io(y,t),v(l)}return c===i&&(c=Io(y,t)),u}return t=ys(t)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==i&&Ei(c),f=0,r=l=a=c=i},x.flush=function(){return c===i?u:b(Oa())},x}var Da=$r((function(e,t){return fr(e,1,t)})),Ra=$r((function(e,t,n){return fr(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||qn),n}function ja(e){if("function"!=typeof e)throw new Ne(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=qn;var Fa=wi((function(e,t){var n=(t=1==t.length&&Ya(t[0])?It(t[0],$t(co())):It(yr(t,1),$t(co()))).length;return $r((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Ba=$r((function(e,t){var n=ln(t,uo(Ba));return Qi(e,c,i,t,n)})),za=$r((function(e,t){var n=ln(t,uo(za));return Qi(e,l,i,t,n)})),Ua=ro((function(e,t){return Qi(e,d,i,i,i,t)}));function Ga(e,t){return e===t||e!==e&&t!==t}var Va=Hi(Mr),Za=Hi((function(e,t){return e>=t})),Wa=Pr(function(){return arguments}())?Pr:function(e){return rs(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Ya=n.isArray,Ha=bt?$t(bt):function(e){return rs(e)&&Cr(e)==D};function qa(e){return null!=e&&ts(e.length)&&!Ja(e)}function Xa(e){return rs(e)&&qa(e)}var Ka=yt||yu,$a=xt?$t(xt):function(e){return rs(e)&&Cr(e)==w};function Qa(e){if(!rs(e))return!1;var t=Cr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ja(e){if(!ns(e))return!1;var t=Cr(e);return t==E||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?$t(wt):function(e){return rs(e)&&go(e)==k};function os(e){return"number"==typeof e||rs(e)&&Cr(e)==C}function as(e){if(!rs(e)||Cr(e)!=M)return!1;var t=Ye(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Be}var ss=_t?$t(_t):function(e){return rs(e)&&Cr(e)==N};var us=Et?$t(Et):function(e){return rs(e)&&go(e)==T};function cs(e){return"string"==typeof e||!Ya(e)&&rs(e)&&Cr(e)==A}function ls(e){return"symbol"==typeof e||rs(e)&&Cr(e)==P}var fs=St?$t(St):function(e){return rs(e)&&ts(e.length)&&!!at[Cr(e)]};var ds=Hi(Br),hs=Hi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(qa(e))return cs(e)?pn(e):Ti(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=go(e);return(t==k?un:t==T?fn:Gs)(e)}function vs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(gs(e),0,g):0}function ys(e){if("number"==typeof e)return e;if(ls(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=me.test(e);return n||be.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?v:+e}function bs(e){return Ai(e,Ds(e))}function xs(e){return null==e?"":li(e)}var ws=Ii((function(e,t){if(ko(t)||qa(t))Ai(t,Is(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),_s=Ii((function(e,t){Ai(t,Ds(t),e)})),Es=Ii((function(e,t,n,r){Ai(t,Ds(t),e,r)})),Ss=Ii((function(e,t,n,r){Ai(t,Is(t),e,r)})),ks=ro(sr);var Cs=$r((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Ga(f,Pe[l])&&!Re.call(e,l))&&(e[l]=a[l])}return e})),Ms=$r((function(e){return e.push(i,eo),kt(Ls,i,e)}));function Os(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Ns(e,t){return null!=e&&mo(e,t,Nr)}var Ts=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nu(ou)),As=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),co),Ps=$r(Ar);function Is(e){return qa(e)?$n(e):jr(e)}function Ds(e){return qa(e)?$n(e,!0):Fr(e)}var Rs=Ii((function(e,t,n){Vr(e,t,n)})),Ls=Ii((function(e,t,n,r){Vr(e,t,n,r)})),js=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Ai(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n}));var Fs=ro((function(e,t){return null==e?{}:function(e,t){return Yr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=It(oo(e),(function(e){return[e]}));return t=co(t),Yr(e,n,(function(e,n){return t(e,n[0])}))}var zs=$i(Is),Us=$i(Ds);function Gs(e){return null==e?[]:Qt(e,Is(e))}var Vs=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Zs(t):t)}));function Zs(e){return Qs(xs(e).toLowerCase())}function Ws(e){return(e=xs(e))&&e.replace(we,rn).replace(Je,"")}var Ys=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Li("toLowerCase");var Xs=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=ji((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var $s=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Li("toUpperCase");function Js(e,t,n){return e=xs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=$r((function(e,t){try{return kt(e,i,t)}catch(n){return Qa(n)?n:new se(n)}})),tu=ro((function(e,t){return Mt(t,(function(t){t=Bo(t),ar(e,t,Aa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=zi(),iu=zi(!0);function ou(e){return e}function au(e){return Lr("function"==typeof e?e:cr(e,1))}var su=$r((function(e,t){return function(n){return Ar(n,e,t)}})),uu=$r((function(e,t){return function(n){return Ar(e,n,t)}}));function cu(e,t,n){var r=Is(t),i=Er(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Is(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Ja(e);return Mt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ti(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function lu(){}var fu=Zi(It),du=Zi(Nt),hu=Zi(jt);function pu(e){return _o(e)?Wt(Bo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vu=Yi(),gu=Yi(!0);function mu(){return[]}function yu(){return!1}var bu=Vi((function(e,t){return e+t}),0),xu=Xi("ceil"),wu=Vi((function(e,t){return e/t}),1),_u=Xi("floor");var Eu=Vi((function(e,t){return e*t}),1),Su=Xi("round"),ku=Vi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ne(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Na,Un.assign=ws,Un.assignIn=_s,Un.assignInWith=Es,Un.assignWith=Ss,Un.at=ks,Un.before=Ta,Un.bind=Aa,Un.bindAll=tu,Un.bindKey=Pa,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Un.chain=pa,Un.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:bn(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Ya(r)?Ti(r):[r],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Ne(o);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Is(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Un.constant=nu,Un.countBy=ma,Un.create=function(e,t){var n=Gn(e);return null==t?n:or(n,t)},Un.curry=function e(t,n,r){var o=Qi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Qi(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=Ia,Un.defaults=Cs,Un.defaultsDeep=Ms,Un.defer=Da,Un.delay=Ra,Un.difference=Go,Un.differenceBy=Vo,Un.differenceWith=Zo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Ya(e)?Tt:mr)(e,co(t,3))},Un.flatMap=function(e,t){return yr(ka(e,t),1)},Un.flatMapDeep=function(e,t){return yr(ka(e,t),h)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),yr(ka(e,t),n)},Un.flatten=Ho,Un.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:gs(t)):[]},Un.flip=function(e){return Qi(e,512)},Un.flow=ru,Un.flowRight=iu,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Er(e,Is(e))},Un.functionsIn=function(e){return null==e?[]:Er(e,Ds(e))},Un.groupBy=_a,Un.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Un.intersection=Xo,Un.intersectionBy=Ko,Un.intersectionWith=$o,Un.invert=Ts,Un.invertBy=As,Un.invokeMap=Ea,Un.iteratee=au,Un.keyBy=Sa,Un.keys=Is,Un.keysIn=Ds,Un.map=ka,Un.mapKeys=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(cr(e,1))},Un.matchesProperty=function(e,t){return Gr(e,cr(t,1))},Un.memoize=La,Un.merge=Rs,Un.mergeWith=Ls,Un.method=su,Un.methodOf=uu,Un.mixin=cu,Un.negate=ja,Un.nthArg=function(e){return e=gs(e),$r((function(t){return Zr(t,e)}))},Un.omit=js,Un.omitBy=function(e,t){return Bs(e,ja(co(t)))},Un.once=function(e){return Ta(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Ya(t)||(t=null==t?[]:[t]),Ya(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Un.over=fu,Un.overArgs=Fa,Un.overEvery=du,Un.overSome=hu,Un.partial=Ba,Un.partialRight=za,Un.partition=Ca,Un.pick=Fs,Un.pickBy=Bs,Un.property=pu,Un.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Un.pull=Jo,Un.pullAll=ea,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,co(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Un.pullAt=ta,Un.range=vu,Un.rangeRight=gu,Un.rearg=Ua,Un.reject=function(e,t){return(Ya(e)?Tt:mr)(e,ja(co(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return qr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ne(o);return $r(e,t=t===i?t:gs(t))},Un.reverse=na,Un.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),(Ya(e)?Jn:Jr)(e,t)},Un.set=function(e,t,n){return null==e?e:ei(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Un.shuffle=function(e){return(Ya(e)?er:ri)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Un.sortBy=Ma,Un.sortedUniq=function(e){return e&&e.length?ui(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=li(t))&&sn(e)?_i(pn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ne(o);return t=null==t?0:bn(gs(t),0),$r((function(n){var r=n[t],i=_i(n,0,t);return r&&Dt(i,r),kt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ia(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=va,Un.toArray=ps,Un.toPairs=zs,Un.toPairsIn=Us,Un.toPath=function(e){return Ya(e)?It(e,Bo):ls(e)?[e]:Ti(Fo(xs(e)))},Un.toPlainObject=bs,Un.transform=function(e,t,n){var r=Ya(e),i=r||Ka(e)||fs(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Ja(o)?Gn(Ye(e)):{}}return(i?Mt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Na(e,1)},Un.union=ra,Un.unionBy=ia,Un.unionWith=oa,Un.uniq=function(e){return e&&e.length?fi(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fi(e,co(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Un.unset=function(e,t){return null==e||di(e,t)},Un.unzip=aa,Un.unzipWith=sa,Un.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Un.values=Gs,Un.valuesIn=function(e){return null==e?[]:Qt(e,Ds(e))},Un.without=ua,Un.words=Js,Un.wrap=function(e,t){return Ba(bi(t),e)},Un.xor=ca,Un.xorBy=la,Un.xorWith=fa,Un.zip=da,Un.zipObject=function(e,t){return mi(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Un.zipWith=ha,Un.entries=zs,Un.entriesIn=Us,Un.extend=_s,Un.extendWith=Es,cu(Un,Un),Un.add=bu,Un.attempt=eu,Un.camelCase=Vs,Un.capitalize=Zs,Un.ceil=xu,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Un.clone=function(e){return cr(e,4)},Un.cloneDeep=function(e){return cr(e,5)},Un.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Is(t))},Un.deburr=Ws,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=wu,Un.endsWith=function(e,t,n){e=xs(e),t=li(t);var r=e.length,o=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ga,Un.escape=function(e){return(e=xs(e))&&$.test(e)?e.replace(X,on):e},Un.escapeRegExp=function(e){return(e=xs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Ya(e)?Nt:vr;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Un.find=ya,Un.findIndex=Wo,Un.findKey=function(e,t){return Bt(e,co(t,3),wr)},Un.findLast=ba,Un.findLastIndex=Yo,Un.findLastKey=function(e,t){return Bt(e,co(t,3),_r)},Un.floor=_u,Un.forEach=xa,Un.forEachRight=wa,Un.forIn=function(e,t){return null==e?e:br(e,co(t,3),Ds)},Un.forInRight=function(e,t){return null==e?e:xr(e,co(t,3),Ds)},Un.forOwn=function(e,t){return e&&wr(e,co(t,3))},Un.forOwnRight=function(e,t){return e&&_r(e,co(t,3))},Un.get=Os,Un.gt=Va,Un.gte=Za,Un.has=function(e,t){return null!=e&&mo(e,t,Or)},Un.hasIn=Ns,Un.head=qo,Un.identity=ou,Un.includes=function(e,t,n,r){e=qa(e)?e:Gs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=bn(r+i,0)),Ut(e,t,i)},Un.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Un.invoke=Ps,Un.isArguments=Wa,Un.isArray=Ya,Un.isArrayBuffer=Ha,Un.isArrayLike=qa,Un.isArrayLikeObject=Xa,Un.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Cr(e)==x},Un.isBuffer=Ka,Un.isDate=$a,Un.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||fs(e)||Wa(e)))return!e.length;var t=go(e);if(t==k||t==T)return!e.size;if(ko(e))return!jr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Ir(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ir(e,t,i,n):!!r},Un.isError=Qa,Un.isFinite=function(e){return"number"==typeof e&&Ft(e)},Un.isFunction=Ja,Un.isInteger=es,Un.isLength=ts,Un.isMap=is,Un.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fo(t),n)},Un.isNaN=function(e){return os(e)&&e!=+e},Un.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=os,Un.isObject=ns,Un.isObjectLike=rs,Un.isPlainObject=as,Un.isRegExp=ss,Un.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Un.isSet=us,Un.isString=cs,Un.isSymbol=ls,Un.isTypedArray=fs,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return rs(e)&&go(e)==I},Un.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Cr(e)},Un.join=function(e,t){return null==e?"":Yt.call(e,t)},Un.kebabCase=Ys,Un.last=Qo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?bn(r+o,0):xn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Vt,o,!0)},Un.lowerCase=Hs,Un.lowerFirst=qs,Un.lt=ds,Un.lte=hs,Un.max=function(e){return e&&e.length?gr(e,ou,Mr):i},Un.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),Mr):i},Un.mean=function(e){return Zt(e,ou)},Un.meanBy=function(e,t){return Zt(e,co(t,2))},Un.min=function(e){return e&&e.length?gr(e,ou,Br):i},Un.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),Br):i},Un.stubArray=mu,Un.stubFalse=yu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Eu,Un.nth=function(e,t){return e&&e.length?Zr(e,gs(t)):i},Un.noConflict=function(){return ht._===this&&(ht._=ze),this},Un.noop=lu,Un.now=Oa,Un.pad=function(e,t,n){e=xs(e);var r=(t=gs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(pt(i),n)},Un.padEnd=function(e,t,n){e=xs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?e+Wi(t-r,n):e},Un.padStart=function(e,t,n){e=xs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(xs(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=En();return xn(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return Xr(e,t)},Un.reduce=function(e,t,n){var r=Ya(e)?Rt:Ht,i=arguments.length<3;return r(e,co(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=Ya(e)?Lt:Ht,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Un.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),Kr(xs(e),t)},Un.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=xi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Bo(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Un.round=Su,Un.runInContext=e,Un.sample=function(e){return(Ya(e)?Qn:Qr)(e)},Un.size=function(e){if(null==e)return 0;if(qa(e))return cs(e)?hn(e):e.length;var t=go(e);return t==k||t==T?e.size:jr(e).length},Un.snakeCase=Xs,Un.some=function(e,t,n){var r=Ya(e)?jt:oi;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return si(e,t,co(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ga(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return si(e,t,co(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Un.startCase=Ks,Un.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:ur(gs(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Un.subtract=ku,Un.sum=function(e){return e&&e.length?qt(e,ou):0},Un.sumBy=function(e,t){return e&&e.length?qt(e,co(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&wo(e,t,n)&&(t=i),e=xs(e),t=Es({},t,r,Ji);var o,a,s=Es({},t.imports,r.imports,Ji),u=Is(s),c=Qt(s,u),l=0,f=t.interpolate||_e,d="__p += '",h=Me((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(Ee,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var v=Re.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(Y,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=eu((function(){return Se(u,p+"return "+d).apply(i,c)}));if(g.source=d,Qa(g))throw g;return g},Un.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=xn(e,g);t=co(t),e-=g;for(var i=Xt(r,t);++n<e;)t(n);return i},Un.toFinite=vs,Un.toInteger=gs,Un.toLength=ms,Un.toLower=function(e){return xs(e).toLowerCase()},Un.toNumber=ys,Un.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Un.toString=xs,Un.toUpper=function(e){return xs(e).toUpperCase()},Un.trim=function(e,t,n){if((e=xs(e))&&(n||t===i))return Kt(e);if(!e||!(t=li(t)))return e;var r=pn(e),o=pn(t);return _i(r,en(r,o),tn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var c=s?_i(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),ss(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Me(o.source,xs(ve.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(li(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Un.unescape=function(e){return(e=xs(e))&&K.test(e)?e.replace(q,gn):e},Un.uniqueId=function(e){var t=++Le;return xs(e)+t},Un.upperCase=$s,Un.upperFirst=Qs,Un.each=xa,Un.eachRight=wa,Un.first=qo,cu(Un,function(){var e={};return wr(Un,(function(t,n){Re.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Mt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:bn(gs(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ou)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ar(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(ja(co(e)))},Wn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Wn,c=s[0],l=u||Ya(t),f=function(e){var t=o.apply(Un,Dt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&l){t=v?t:new Wn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[f],thisArg:i}),new Zn(g,d)}return p&&v?e.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ya(i)?i:[],e)}return this[n]((function(n){return t.apply(Ya(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Ui(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ti(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ti(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ti(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=xn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=e[c+=t];++v<f;){var m=l[v],y=m.iteratee,b=m.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue e;break e}}p[d++]=g}return p},Un.prototype.at=ga,Un.prototype.chain=function(){return pa(this)},Un.prototype.commit=function(){return new Zn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:i}),new Zn(t,this.__chain__)}return this.thru(na)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,$e&&(Un.prototype[$e]=function(){return this}),Un}();ht._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},79286:function(e,t,n){var r=n(64173),i=n(39934)((function(e,t,n){r(e,t,n)}));e.exports=i},19694:function(e){e.exports=function(){}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},24242:function(e,t,n){var r=n(68950),i=n(31905),o=n(86555),a=n(43082),s=n(64503),u=n(26013),c=n(27038),l=n(55341),f=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var f=t.length;f--;)o(n,t[f]);return n}));e.exports=f},36460:function(e,t,n){var r=n(14980),i=n(27038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},10038:function(e,t,n){var r=n(9586),i=n(4084),o=n(25823),a=n(69793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},74485:function(e,t,n){var r=n(40379);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},64286:function(e,t,n){var r=n(55182),i=n(93226),o=n(58794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),o=n(70152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6576:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e){return r(e,i(e))}},63518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},72064:function(e,t,n){var r=n(39602);e.exports=function(e){return e&&e.length?r(e):[]}},66339:function(e,t,n){var r=n(56025),i=n(39602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},41761:function(e,t,n){var r=n(21468),i=n(58794),o=n(56279),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},71132:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractMatrix:function(){return z},CHO:function(){return we},CholeskyDecomposition:function(){return we},EVD:function(){return ve},EigenvalueDecomposition:function(){return ve},LU:function(){return ne},LuDecomposition:function(){return ne},Matrix:function(){return G},MatrixColumnSelectionView:function(){return W},MatrixColumnView:function(){return Z},MatrixFlipColumnView:function(){return Y},MatrixFlipRowView:function(){return H},MatrixRowSelectionView:function(){return X},MatrixRowView:function(){return q},MatrixSelectionView:function(){return K},MatrixSubView:function(){return $},MatrixTransposeView:function(){return Q},NIPALS:function(){return _e},Nipals:function(){return _e},QR:function(){return ie},QrDecomposition:function(){return ie},SVD:function(){return oe},SingularValueDecomposition:function(){return oe},WrapperMatrix1D:function(){return J},WrapperMatrix2D:function(){return ee},correlation:function(){return pe},covariance:function(){return he},default:function(){return G},determinant:function(){return ue},inverse:function(){return ae},linearDependencies:function(){return fe},pseudoInverse:function(){return de},solve:function(){return se},wrap:function(){return te}});var r=n(82963),i=n(60136),o=n(29388),a=n(15671),s=n(43144),u=Object.prototype.toString;function c(e){return u.call(e).endsWith("Array]")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!c(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=f(e),i=l(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var d=(u-a)/(i-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*d+a;return t}var h=" ".repeat(2),p=" ".repeat(4);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(h,"[\n").concat(p).concat(g(e,r,o,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(e.rows,"\n").concat(h,"columns: ").concat(e.columns,"\n}")}function g(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],c=0;c<a;c++){for(var l=[],f=0;f<s;f++)l.push(m(e.get(c,f),r));u.push("".concat(l.join(" ")))}return s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns")),a!==i&&u.push("... ".concat(i-t," more rows")),u.join("\n".concat(p))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function y(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function b(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function x(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function w(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function _(e,t){if(!c(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function E(e,t){if(!c(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function S(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(C("startRow",t),C("endRow",n),C("startColumn",r),C("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function k(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function C(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function M(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function O(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,c=0,l=0;l<i;l++)s+=c=e.get(a,l)-n[a],u+=c*c;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}function N(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,c=0,l=0;l<r;l++)s+=c=e.get(l,a)-n[a],u+=c*c;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}function T(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,c=0;c<r;c++)for(var l=0;l<i;l++)a+=u=e.get(c,l)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}function A(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function P(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function I(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function D(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function R(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function L(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function j(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function F(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function B(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var z=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var c=n+1;c<e.columns;c++)e.set(s,c,e.get(s,c)-e.get(t,c)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var c=e.get(a,u)-s*e.get(r,u);e.set(a,u,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new G(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){y(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return G.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){y(this,e),t=x(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){y(this,e),y(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){b(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return G.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){b(this,e),t=w(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){b(this,e),b(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){y(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){b(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){M(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){M(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){y(this,e),M(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){y(this,e),M(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){b(this,e),M(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){b(this,e),M(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new G(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var c=0,l=0;l<n;l++)c+=this.get(u,l)*o[l];i.set(u,a,c)}}return i}},{key:"strassen2x2",value:function(e){e=G.checkMatrix(e);var t=new G(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),c=e.get(1,1),l=(n+u)*(r+c),f=(a+u)*r,d=n*(o-c),h=u*(s-r),p=(n+i)*c,v=l+h-p+(i-u)*(s+c),g=d+p,m=f+h,y=l-f+d+(a-n)*(r+o);return t.set(0,0,v),t.set(0,1,g),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=G.checkMatrix(e);var t=new G(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),v=e.get(1,1),g=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-o)*(-d+v),w=(-n+o+a)*(f-d+v),_=(o+a)*(-f+d),E=n*f,S=(-n+u+c)*(f-h+g),k=(-n+u)*(h-g),C=(u+c)*(-f+h),M=(-i+c+l)*(v+m-y),O=(i-l)*(v-y),N=i*m,T=(c+l)*(-m+y),A=(-i+a+s)*(g+m-b),P=(i-s)*(g-b),I=(a+s)*(-m+b),D=E+N+r*p,R=(n+r+i-o-a-c-l)*v+w+_+E+M+N+T,L=E+S+C+(n+r+i-a-s-u-c)*g+N+A+I,j=x+a*(-f+d+p-v-g-m+b)+w+E+N+A+P,F=x+w+_+E+s*y,B=N+A+P+I+o*h,z=E+S+k+c*(-f+h+p-v-g-m+y)+M+O+N,U=M+O+N+T+u*d,V=E+S+k+C+l*b;return t.set(0,0,D),t.set(0,1,R),t.set(0,2,L),t.set(1,0,j),t.set(1,1,F),t.set(1,2,B),t.set(2,0,z),t.set(2,1,U),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=G.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,o),c=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,u-1),l=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),v=n.subMatrix(a,n.rows-1,u,n.columns-1),g=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(c,v),e.add(l,g),a,u),y=t(e.add(h,v),l,a,u),b=t(c,e.sub(d,g),a,u),x=t(v,e.sub(p,l),a,u),w=t(e.add(c,f),g,a,u),_=t(e.sub(h,c),e.add(l,d),a,u),E=t(e.sub(f,v),e.add(p,g),a,u),S=e.add(m,x);S.sub(w),S.add(E);var k=e.add(b,w),C=e.add(y,x),M=e.sub(m,y);M.add(b),M.add(_);var O=e.zeros(2*S.rows,2*S.columns);return(O=(O=(O=(O=O.setSubMatrix(S,0,0)).setSubMatrix(k,S.rows,0)).setSubMatrix(C,0,S.columns)).setSubMatrix(M,S.rows,S.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,c),t=s(t,u,c),u,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&d(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&d(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new G(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<i;c++)o.set(r*a+u,i*s+c,this.get(a,s)*e.get(u,c));return o}},{key:"kroneckerSum",value:function(e){if(e=G.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(G.eye(n,n)),i=G.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new G(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){S(this,e,t,n,r);for(var i=new G(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new G(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new G(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=G.checkMatrix(e)).isEmpty())return this;S(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){_(this,e),E(this,t);for(var n=new G(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new G(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=k(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=k(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=k(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=k(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!c(a))throw new TypeError("mean must be an array");return O(this,i,a);case"column":if(!c(a))throw new TypeError("mean must be an array");return N(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return T(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!c(i))throw new TypeError("center must be an array");return A(this,i),this;case"column":if(!c(i))throw new TypeError("center must be an array");return P(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return I(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=D(this);else if(!c(n))throw new TypeError("scale must be an array");return R(this,n),this;case"column":if(void 0===n)n=L(this);else if(!c(n))throw new TypeError("scale must be an array");return j(this,n),this;case void 0:if(void 0===n)n=F(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return B(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return v(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new G(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new G(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new G(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new G(e,t)}},{key:"ones",value:function(e,t){return new G(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new G(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var c=a-i,l=new G(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=i+Math.round(u()*c);l.set(f,d,h)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new G(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new G(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function U(e,t){return e-t}z.prototype.klass="Matrix","undefined"!==typeof Symbol&&(z.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return v(this)}),z.random=z.rand,z.randomInt=z.randInt,z.diagonal=z.diag,z.prototype.diagonal=z.prototype.diag,z.identity=z.eye,z.prototype.negate=z.prototype.neg,z.prototype.tensorProduct=z.prototype.kroneckerProduct;var G=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;if((0,a.Z)(this,n),o=t.call(this),n.isMatrix(e))return(0,r.Z)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)o.data.push(new Float64Array(i))}else{if(!c(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(i=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var l=0;l<e;l++){if(u[l].length!==i)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(u[l]))}}return o.rows=e,o.columns=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return y(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),y(this,e,!0),t=Float64Array.from(x(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){b(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),b(this,e,!0),t=w(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(z);!function(e,t){e.prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e.get(n,r));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e.get(n,r));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e.get(n,r));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e.get(n,r));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%e.get(n,r));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&e.get(n,r));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|e.get(n,r));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^e.get(n,r));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<e.get(n,r));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>e.get(n,r));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>e.get(n,r));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),e.get(n,r)));return this}}(z,G);var V=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this)).matrix=e,o.rows=r,o.columns=i,o}return(0,s.Z)(n)}(z),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),b(e,r),(i=t.call(this,e,e.rows,1)).column=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(V),W=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),E(e,r),(i=t.call(this,e,e.rows,r.length)).columnIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(V),Y=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(V),H=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(V),q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),y(e,r),(i=t.call(this,e,1,e.columns)).row=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(V),X=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),_(e,r),(i=t.call(this,e,r.length,e.columns)).rowIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(V),K=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),_(e,r),E(e,i),(o=t.call(this,e,r.length,i.length)).rowIndices=r,o.columnIndices=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(V),$=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,o,s){var u;return(0,a.Z)(this,n),S(e,r,i,o,s),(u=t.call(this,e,i-r+1,s-o+1)).startRow=r,u.startColumn=o,u}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(V),Q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.columns,e.rows)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(V),J=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var o=i.rows,s=void 0===o?1:o;if(e.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=s,r.columns=e.length/s,r.data=e,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(z),ee=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).data=e,r.rows=e.length,r.columns=e[0].length,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(z);function te(e,t){if(c(e))return e[0]&&c(e[0])?new ee(e):new J(e,t);throw new Error("the argument is not an array")}var ne=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s,u,c,l,f,d=(t=ee.checkMatrix(t)).clone(),h=d.rows,p=d.columns,v=new Float64Array(h),g=1;for(n=0;n<h;n++)v[n]=n;for(l=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)l[n]=d.get(n,r);for(n=0;n<h;n++){for(f=Math.min(n,r),s=0,i=0;i<f;i++)s+=d.get(n,i)*l[i];l[n]-=s,d.set(n,r,l[n])}for(o=r,n=r+1;n<h;n++)Math.abs(l[n])>Math.abs(l[o])&&(o=n);if(o!==r){for(i=0;i<p;i++)u=d.get(o,i),d.set(o,i,d.get(r,i)),d.set(r,i,u);c=v[o],v[o]=v[r],v[r]=c,g=-g}if(r<h&&0!==d.get(r,r))for(n=r+1;n<h;n++)d.set(n,r,d.get(n,r)/d.get(r,r))}this.LU=d,this.pivotVector=v,this.pivotSign=g}return(0,s.Z)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i>o?r.set(i,o,e.get(i,o)):i===o?r.set(i,o,1):r.set(i,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i<=o?r.set(i,o,e.get(i,o)):r.set(i,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function re(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var ie=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s=(t=ee.checkMatrix(t)).clone(),u=t.rows,c=t.columns,l=new Float64Array(c);for(i=0;i<c;i++){var f=0;for(n=i;n<u;n++)f=re(f,s.get(n,i));if(0!==f){for(s.get(i,i)<0&&(f=-f),n=i;n<u;n++)s.set(n,i,s.get(n,i)/f);for(s.set(i,i,s.get(i,i)+1),r=i+1;r<c;r++){for(o=0,n=i;n<u;n++)o+=s.get(n,i)*s.get(n,r);for(o=-o/s.get(i,i),n=i;n<u;n++)s.set(n,r,s.get(n,r)+o*s.get(n,i))}}l[i]=-f}this.QR=s,this.Rdiag=l}return(0,s.Z)(e,[{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,i,o,a,s=e.columns,u=e.clone(),c=t.columns;for(o=0;o<c;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*u.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*t.get(r,o))}for(o=c-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*t.get(r,o))}return u.subMatrix(0,c-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,i=new G(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new G(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}]),e}(),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),(t=ee.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,i=t.rows,o=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,c=n.computeRightSingularVectors,l=void 0===c||c,f=n.autoTranspose,d=void 0!==f&&f,h=Boolean(u),p=Boolean(l),v=!1;if(i<o)if(d){i=(r=t.transpose()).rows,o=r.columns,v=!0;var g=h;h=p,p=g}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(i,o),y=Math.min(i+1,o),b=new Float64Array(y),x=new G(i,m),w=new G(o,o),_=new Float64Array(o),E=new Float64Array(i),S=new Float64Array(y),k=0;k<y;k++)S[k]=k;for(var C=Math.min(i-1,o),M=Math.max(0,Math.min(o-2,i)),O=Math.max(C,M),N=0;N<O;N++){if(N<C){b[N]=0;for(var T=N;T<i;T++)b[N]=re(b[N],r.get(T,N));if(0!==b[N]){r.get(N,N)<0&&(b[N]=-b[N]);for(var A=N;A<i;A++)r.set(A,N,r.get(A,N)/b[N]);r.set(N,N,r.get(N,N)+1)}b[N]=-b[N]}for(var P=N+1;P<o;P++){if(N<C&&0!==b[N]){for(var I=0,D=N;D<i;D++)I+=r.get(D,N)*r.get(D,P);I=-I/r.get(N,N);for(var R=N;R<i;R++)r.set(R,P,r.get(R,P)+I*r.get(R,N))}_[P]=r.get(N,P)}if(h&&N<C)for(var L=N;L<i;L++)x.set(L,N,r.get(L,N));if(N<M){_[N]=0;for(var j=N+1;j<o;j++)_[N]=re(_[N],_[j]);if(0!==_[N]){_[N+1]<0&&(_[N]=0-_[N]);for(var F=N+1;F<o;F++)_[F]/=_[N];_[N+1]+=1}if(_[N]=-_[N],N+1<i&&0!==_[N]){for(var B=N+1;B<i;B++)E[B]=0;for(var z=N+1;z<i;z++)for(var U=N+1;U<o;U++)E[z]+=_[U]*r.get(z,U);for(var V=N+1;V<o;V++)for(var Z=-_[V]/_[N+1],W=N+1;W<i;W++)r.set(W,V,r.get(W,V)+Z*E[W])}if(p)for(var Y=N+1;Y<o;Y++)w.set(Y,N,_[Y])}}var H=Math.min(o,i+1);if(C<o&&(b[C]=r.get(C,C)),i<H&&(b[H-1]=0),M+1<H&&(_[M]=r.get(M,H-1)),_[H-1]=0,h){for(var q=C;q<m;q++){for(var X=0;X<i;X++)x.set(X,q,0);x.set(q,q,1)}for(var K=C-1;K>=0;K--)if(0!==b[K]){for(var $=K+1;$<m;$++){for(var Q=0,J=K;J<i;J++)Q+=x.get(J,K)*x.get(J,$);Q=-Q/x.get(K,K);for(var te=K;te<i;te++)x.set(te,$,x.get(te,$)+Q*x.get(te,K))}for(var ne=K;ne<i;ne++)x.set(ne,K,-x.get(ne,K));x.set(K,K,1+x.get(K,K));for(var ie=0;ie<K-1;ie++)x.set(ie,K,0)}else{for(var oe=0;oe<i;oe++)x.set(oe,K,0);x.set(K,K,1)}}if(p)for(var ae=o-1;ae>=0;ae--){if(ae<M&&0!==_[ae])for(var se=ae+1;se<o;se++){for(var ue=0,ce=ae+1;ce<o;ce++)ue+=w.get(ce,ae)*w.get(ce,se);ue=-ue/w.get(ae+1,ae);for(var le=ae+1;le<o;le++)w.set(le,se,w.get(le,se)+ue*w.get(le,ae))}for(var fe=0;fe<o;fe++)w.set(fe,ae,0);w.set(ae,ae,1)}for(var de=H-1,he=Number.EPSILON;H>0;){var pe=void 0,ve=void 0;for(pe=H-2;pe>=-1&&-1!==pe;pe--){var ge=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(_[pe])<=ge||Number.isNaN(_[pe])){_[pe]=0;break}}if(pe===H-2)ve=4;else{var me=void 0;for(me=H-1;me>=pe&&me!==pe;me--){var ye=(me!==H?Math.abs(_[me]):0)+(me!==pe+1?Math.abs(_[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ve=3:me===H-1?ve=1:(ve=2,pe=me)}switch(pe++,ve){case 1:var be=_[H-2];_[H-2]=0;for(var xe=H-2;xe>=pe;xe--){var we=re(b[xe],be),_e=b[xe]/we,Ee=be/we;if(b[xe]=we,xe!==pe&&(be=-Ee*_[xe-1],_[xe-1]=_e*_[xe-1]),p)for(var Se=0;Se<o;Se++)we=_e*w.get(Se,xe)+Ee*w.get(Se,H-1),w.set(Se,H-1,-Ee*w.get(Se,xe)+_e*w.get(Se,H-1)),w.set(Se,xe,we)}break;case 2:var ke=_[pe-1];_[pe-1]=0;for(var Ce=pe;Ce<H;Ce++){var Me=re(b[Ce],ke),Oe=b[Ce]/Me,Ne=ke/Me;if(b[Ce]=Me,ke=-Ne*_[Ce],_[Ce]=Oe*_[Ce],h)for(var Te=0;Te<i;Te++)Me=Oe*x.get(Te,Ce)+Ne*x.get(Te,pe-1),x.set(Te,pe-1,-Ne*x.get(Te,Ce)+Oe*x.get(Te,pe-1)),x.set(Te,Ce,Me)}break;case 3:var Ae=Math.max(Math.abs(b[H-1]),Math.abs(b[H-2]),Math.abs(_[H-2]),Math.abs(b[pe]),Math.abs(_[pe])),Pe=b[H-1]/Ae,Ie=b[H-2]/Ae,De=_[H-2]/Ae,Re=b[pe]/Ae,Le=_[pe]/Ae,je=((Ie+Pe)*(Ie-Pe)+De*De)/2,Fe=Pe*De*(Pe*De),Be=0;0===je&&0===Fe||(Be=Fe/(je+(Be=je<0?0-Math.sqrt(je*je+Fe):Math.sqrt(je*je+Fe))));for(var ze=(Re+Pe)*(Re-Pe)+Be,Ue=Re*Le,Ge=pe;Ge<H-1;Ge++){var Ve=re(ze,Ue);0===Ve&&(Ve=Number.MIN_VALUE);var Ze=ze/Ve,We=Ue/Ve;if(Ge!==pe&&(_[Ge-1]=Ve),ze=Ze*b[Ge]+We*_[Ge],_[Ge]=Ze*_[Ge]-We*b[Ge],Ue=We*b[Ge+1],b[Ge+1]=Ze*b[Ge+1],p)for(var Ye=0;Ye<o;Ye++)Ve=Ze*w.get(Ye,Ge)+We*w.get(Ye,Ge+1),w.set(Ye,Ge+1,-We*w.get(Ye,Ge)+Ze*w.get(Ye,Ge+1)),w.set(Ye,Ge,Ve);if(0===(Ve=re(ze,Ue))&&(Ve=Number.MIN_VALUE),Ze=ze/Ve,We=Ue/Ve,b[Ge]=Ve,ze=Ze*_[Ge]+We*b[Ge+1],b[Ge+1]=-We*_[Ge]+Ze*b[Ge+1],Ue=We*_[Ge+1],_[Ge+1]=Ze*_[Ge+1],h&&Ge<i-1)for(var He=0;He<i;He++)Ve=Ze*x.get(He,Ge)+We*x.get(He,Ge+1),x.set(He,Ge+1,-We*x.get(He,Ge)+Ze*x.get(He,Ge+1)),x.set(He,Ge,Ve)}_[H-2]=ze,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var qe=0;qe<=de;qe++)w.set(qe,pe,-w.get(qe,pe));for(;pe<de&&!(b[pe]>=b[pe+1]);){var Xe=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Xe,p&&pe<o-1)for(var Ke=0;Ke<o;Ke++)Xe=w.get(Ke,pe+1),w.set(Ke,pe+1,w.get(Ke,pe)),w.set(Ke,pe,Xe);if(h&&pe<i-1)for(var $e=0;$e<i;$e++)Xe=x.get($e,pe+1),x.set($e,pe+1,x.get($e,pe)),x.set($e,pe,Xe);pe++}0,H--}}if(v){var Qe=w;w=x,x=Qe}this.m=i,this.n=o,this.s=b,this.U=x,this.V=w}return(0,s.Z)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,i=G.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),c=s.rows,l=a.rows,f=G.zeros(c,l),d=0;d<c;d++)for(var h=0;h<l;h++){for(var p=0,v=0;v<r;v++)p+=u.get(d,v)*a.get(h,v);f.set(d,h,p)}return f.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(G.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new G(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&i.set(o,a,e.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,c=s.columns,l=new G(n,u),f=0;f<n;f++)for(var d=0;d<u;d++){for(var h=0,p=0;p<c;p++)h+=i.get(f,p)*s.get(d,p);l.set(f,d,h)}return l}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return G.diag(this.s)}}]),e}();function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=ee.checkMatrix(e),t?new oe(e).inverse():se(e,G.eye(e.rows))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=ee.checkMatrix(e),t=ee.checkMatrix(t),n?new oe(e).solve(t):e.isSquare()?new ne(e).solve(t):new ie(e).solve(t)}function ue(e){var t,n,r,i,o,a;if((e=G.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(i=new K(e,[1,2],[1,2]),o=new K(e,[1,2],[0,2]),a=new K(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*ue(i)-n*ue(o)+r*ue(a)):new ne(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function ce(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function le(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>i)return new Array(t.rows+1).fill(0);for(var o=t.addRow(n,[0]),a=0;a<o.rows;a++)Math.abs(o.get(a,0))<r&&o.set(a,0,0);return o.to1DArray()}function fe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,a=(e=G.checkMatrix(e)).rows,s=new G(a,a),u=0;u<a;u++){var c=G.columnVector(e.getRow(u)),l=e.subMatrixRow(ce(a,u)).transpose(),f=new oe(l),d=f.solve(c),h=G.sub(c,l.mmul(d)).abs().max();s.setRow(u,le(h,d,u,r,o))}return s}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=G.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new oe(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,a=0;a<o.length;a++)Math.abs(o[a])>t?o[a]=1/o[a]:o[a]=0;return i.mmul(G.diag(o).mmul(r.transpose()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||c(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o;a&&(e=e.center("column"),r||(t=t.center("column")));for(var s=e.transpose().mmul(t),u=0;u<s.rows;u++)for(var l=0;l<s.columns;l++)s.set(u,l,s.get(u,l)*(1/(e.rows-1)));return s}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||c(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o,s=i.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var l=e.standardDeviation("column",{unbiased:!0}),f=r?l:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(l[h]*f[p]))*(1/(e.rows-1)));return d}var ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e);var r=n.assumeSymmetric,i=void 0!==r&&r;if(!(t=ee.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var o,s,u=t.columns,c=new G(u,u),l=new Float64Array(u),f=new Float64Array(u),d=t;if(!!i||t.isSymmetric()){for(o=0;o<u;o++)for(s=0;s<u;s++)c.set(o,s,d.get(o,s));ge(u,f,l,c),me(u,f,l,c)}else{var h=new G(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(o=0;o<u;o++)h.set(o,s,d.get(o,s));ye(u,h,p,c),be(u,f,l,c,h)}this.n=u,this.e=f,this.d=l,this.V=c}return(0,s.Z)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,i=this.d,o=new G(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}]),e}();function ge(e,t,n,r){var i,o,a,s,u,c,l,f;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(f=0,a=0,c=0;c<s;c++)f+=Math.abs(n[c]);if(0===f)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(c=0;c<s;c++)n[c]/=f,a+=n[c]*n[c];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=f*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=t[u]+r.get(u,u)*i,c=u+1;c<=s-1;c++)o+=r.get(c,u)*n[c],t[c]+=r.get(c,u)*i;t[u]=o}for(i=0,u=0;u<s;u++)t[u]/=a,i+=t[u]*n[u];for(l=i/(a+a),u=0;u<s;u++)t[u]-=l*n[u];for(u=0;u<s;u++){for(i=n[u],o=t[u],c=u;c<=s-1;c++)r.set(c,u,r.get(c,u)-(i*t[c]+o*n[c]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(c=0;c<=s;c++)n[c]=r.get(c,s+1)/a;for(u=0;u<=s;u++){for(o=0,c=0;c<=s;c++)o+=r.get(c,s+1)*r.get(c,u);for(c=0;c<=s;c++)r.set(c,u,r.get(c,u)-o*n[c])}}for(c=0;c<=s;c++)r.set(c,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}function me(e,t,n,r){var i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,w=0,_=Number.EPSILON;for(c=0;c<e;c++){for(w=Math.max(w,Math.abs(n[c])+Math.abs(t[c])),l=c;l<e&&!(Math.abs(t[l])<=_*w);)l++;if(l>c){0;do{for(1,i=n[c],d=re(f=(n[c+1]-i)/(2*t[c]),1),f<0&&(d=-d),n[c]=t[c]/(f+d),n[c+1]=t[c]*(f+d),h=n[c+1],o=i-n[c],a=c+2;a<e;a++)n[a]-=o;for(x+=o,f=n[l],v=p=1,g=p,m=t[c+1],y=0,b=0,a=l-1;a>=c;a--)for(g=v,v=p,b=y,i=p*t[a],o=p*f,d=re(f,t[a]),t[a+1]=y*d,y=t[a]/d,f=(p=f/d)*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<e;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);f=-y*b*g*m*t[c]/h,t[c]=y*f,n[c]=p*f}while(Math.abs(t[c])>_*w)}n[c]=n[c]+x,t[c]=0}for(a=0;a<e-1;a++){for(u=a,f=n[a],s=a+1;s<e;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<e;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}function ye(e,t,n,r){var i,o,a,s,u,c,l,f=e-1;for(c=1;c<=f-1;c++){for(l=0,s=c;s<=f;s++)l+=Math.abs(t.get(s,c-1));if(0!==l){for(a=0,s=f;s>=c;s--)n[s]=t.get(s,c-1)/l,a+=n[s]*n[s];for(o=Math.sqrt(a),n[c]>0&&(o=-o),a-=n[c]*o,n[c]=n[c]-o,u=c;u<e;u++){for(i=0,s=f;s>=c;s--)i+=n[s]*t.get(s,u);for(i/=a,s=c;s<=f;s++)t.set(s,u,t.get(s,u)-i*n[s])}for(s=0;s<=f;s++){for(i=0,u=f;u>=c;u--)i+=n[u]*t.get(s,u);for(i/=a,u=c;u<=f;u++)t.set(s,u,t.get(s,u)-i*n[u])}n[c]=l*n[c],t.set(c,c-1,l*o)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(c=f-1;c>=1;c--)if(0!==t.get(c,c-1)){for(s=c+1;s<=f;s++)n[s]=t.get(s,c-1);for(u=c;u<=f;u++){for(o=0,s=c;s<=f;s++)o+=n[s]*r.get(s,u);for(o=o/n[c]/t.get(c,c-1),s=c;s<=f;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}function be(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,g,m,y,b,x=e-1,w=e-1,_=Number.EPSILON,E=0,S=0,k=0,C=0,M=0,O=0,N=0,T=0;for(o=0;o<e;o++)for((o<0||o>w)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)S+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(O=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(O=S),!(Math.abs(i.get(u,u-1))<_*O));)u--;if(u===x)i.set(x,x,i.get(x,x)+E),n[x]=i.get(x,x),t[x]=0,x--,T=0;else if(u===x-1){if(f=i.get(x,x-1)*i.get(x-1,x),C=(k=(i.get(x-1,x-1)-i.get(x,x))/2)*k+f,N=Math.sqrt(Math.abs(C)),i.set(x,x,i.get(x,x)+E),i.set(x-1,x-1,i.get(x-1,x-1)+E),d=i.get(x,x),C>=0){for(N=k>=0?k+N:k-N,n[x-1]=d+N,n[x]=n[x-1],0!==N&&(n[x]=d-f/N),t[x-1]=0,t[x]=0,k=(d=i.get(x,x-1))/(O=Math.abs(d)+Math.abs(N)),C=N/O,k/=M=Math.sqrt(k*k+C*C),C/=M,a=x-1;a<e;a++)N=i.get(x-1,a),i.set(x-1,a,C*N+k*i.get(x,a)),i.set(x,a,C*i.get(x,a)-k*N);for(o=0;o<=x;o++)N=i.get(o,x-1),i.set(o,x-1,C*N+k*i.get(o,x)),i.set(o,x,C*i.get(o,x)-k*N);for(o=0;o<=w;o++)N=r.get(o,x-1),r.set(o,x-1,C*N+k*r.get(o,x)),r.set(o,x,C*r.get(o,x)-k*N)}else n[x-1]=d+k,n[x]=d+k,t[x-1]=N,t[x]=-N;x-=2,T=0}else{if(d=i.get(x,x),h=0,f=0,u<x&&(h=i.get(x-1,x-1),f=i.get(x,x-1)*i.get(x-1,x)),10===T){for(E+=d,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-d);d=h=.75*(O=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2))),f=-.4375*O*O}if(30===T&&(O=(O=(h-d)/2)*O+f)>0){for(O=Math.sqrt(O),h<d&&(O=-O),O=d-f/((h-d)/2+O),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-O);E+=O,d=h=f=.964}for(T+=1,c=x-2;c>=u&&(k=((M=d-(N=i.get(c,c)))*(O=h-N)-f)/i.get(c+1,c)+i.get(c,c+1),C=i.get(c+1,c+1)-N-M-O,M=i.get(c+2,c+1),k/=O=Math.abs(k)+Math.abs(C)+Math.abs(M),C/=O,M/=O,c!==u)&&!(Math.abs(i.get(c,c-1))*(Math.abs(C)+Math.abs(M))<_*(Math.abs(k)*(Math.abs(i.get(c-1,c-1))+Math.abs(N)+Math.abs(i.get(c+1,c+1)))));)c--;for(o=c+2;o<=x;o++)i.set(o,o-2,0),o>c+2&&i.set(o,o-3,0);for(s=c;s<=x-1&&(y=s!==x-1,s!==c&&(k=i.get(s,s-1),C=i.get(s+1,s-1),M=y?i.get(s+2,s-1):0,0!==(d=Math.abs(k)+Math.abs(C)+Math.abs(M))&&(k/=d,C/=d,M/=d)),0!==d);s++)if(O=Math.sqrt(k*k+C*C+M*M),k<0&&(O=-O),0!==O){for(s!==c?i.set(s,s-1,-O*d):u!==c&&i.set(s,s-1,-i.get(s,s-1)),d=(k+=O)/O,h=C/O,N=M/O,C/=k,M/=k,a=s;a<e;a++)k=i.get(s,a)+C*i.get(s+1,a),y&&(k+=M*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-k*N)),i.set(s,a,i.get(s,a)-k*d),i.set(s+1,a,i.get(s+1,a)-k*h);for(o=0;o<=Math.min(x,s+3);o++)k=d*i.get(o,s)+h*i.get(o,s+1),y&&(k+=N*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-k*M)),i.set(o,s,i.get(o,s)-k),i.set(o,s+1,i.get(o,s+1)-k*C);for(o=0;o<=w;o++)k=d*r.get(o,s)+h*r.get(o,s+1),y&&(k+=N*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-k*M)),r.set(o,s,r.get(o,s)-k),r.set(o,s+1,r.get(o,s+1)-k*C)}}}if(0!==S){for(x=e-1;x>=0;x--)if(k=n[x],0===(C=t[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(f=i.get(o,o)-k,M=0,a=u;a<=x;a++)M+=i.get(o,a)*i.get(a,x);if(t[o]<0)N=f,O=M;else if(u=o,0===t[o]?i.set(o,x,0!==f?-M/f:-M/(_*S)):(d=i.get(o,o+1),h=i.get(o+1,o),l=(d*O-N*M)/(C=(n[o]-k)*(n[o]-k)+t[o]*t[o]),i.set(o,x,l),i.set(o+1,x,Math.abs(d)>Math.abs(N)?(-M-f*l)/d:(-O-h*l)/N)),_*(l=Math.abs(i.get(o,x)))*l>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/l)}else if(C<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,C/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-k)/i.get(x,x-1))):(b=xe(0,-i.get(x-1,x),i.get(x-1,x-1)-k,C),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,v=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),v+=i.get(o,a)*i.get(a,x);if(f=i.get(o,o)-k,t[o]<0)N=f,M=p,O=v;else if(u=o,0===t[o]?(b=xe(-p,-v,f,C),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),h=i.get(o+1,o),g=(n[o]-k)*(n[o]-k)+t[o]*t[o]-C*C,m=2*(n[o]-k)*C,0===g&&0===m&&(g=_*S*(Math.abs(f)+Math.abs(C)+Math.abs(d)+Math.abs(h)+Math.abs(N))),b=xe(d*M-N*p+C*v,d*O-N*v-C*p,g,m),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(N)+Math.abs(C)?(i.set(o+1,x-1,(-p-f*i.get(o,x-1)+C*i.get(o,x))/d),i.set(o+1,x,(-v-f*i.get(o,x)-C*i.get(o,x-1))/d)):(b=xe(-M-h*i.get(o,x-1),-O-h*i.get(o,x),N,C),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),_*(l=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))))*l>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/l),i.set(a,x,i.get(a,x)/l)}for(o=0;o<e;o++)if(o<0||o>w)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=0;a--)for(o=0;o<=w;o++){for(N=0,s=0;s<=Math.min(a,w);s++)N+=r.get(o,s)*i.get(s,a);r.set(o,a,N)}}}function xe(e,t,n,r){var i,o;return Math.abs(n)>Math.abs(r)?[(e+(i=r/n)*t)/(o=n+i*r),(t-i*e)/o]:[((i=n/r)*e+t)/(o=r+i*n),(i*t-e)/o]}var we=function(){function e(t){if((0,a.Z)(this,e),!(t=ee.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,i,o=t,s=o.rows,u=new G(s,s),c=!0;for(r=0;r<s;r++){var l=0;for(i=0;i<r;i++){var f=0;for(n=0;n<i;n++)f+=u.get(i,n)*u.get(r,n);f=(o.get(r,i)-f)/u.get(i,i),u.set(r,i,f),l+=f*f}for(c&=(l=o.get(r,r)-l)>0,u.set(r,r,Math.sqrt(Math.max(l,0))),i=r+1;i<s;i++)u.set(r,i,0)}this.L=u,this.positiveDefinite=Boolean(c)}return(0,s.Z)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=ee.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),_e=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),t=ee.checkMatrix(t);var r,i=n.Y,o=n.scaleScores,s=void 0!==o&&o,u=n.maxIterations,l=void 0===u?1e3:u,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(i){if((i=c(i)&&"number"===typeof i[0]?G.columnVector(i):ee.checkMatrix(i)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=i.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,v,g,m=1,y=0;y<l&&m>d;y++)v=(v=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(v.norm()),h=t.mmul(v).div(v.transpose().mmul(v).get(0,0)),y>0&&(m=h.clone().sub(g).pow(2).sum()),g=h.clone(),i?(p=(p=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=i.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(i){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),w=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),_=i.clone().sub(h.clone().mulS(w.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=v.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=_,this.betas=w}else this.w=v.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(v.transpose()))}))},72426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return qn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,i,o=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=b[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function E(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,M={};function O(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),M[e]||(S(t),M[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var I={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=U(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=N(r[i])?r[i].call(t,e):r[i];return o}}function V(e,t){return e.isValid()?(t=Z(t,e.localeData()),F[t]=F[t]||G(t),F[t](e)):e.localeData().invalidDate()}function Z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function q(){return this._invalidDate}var X="%d",K=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var ge,me=/\d/,ye=/\d\d/,be=/\d{3}/,xe=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,Ee=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Ce=/\d{1,4}/,Me=/[+-]?\d{1,6}/,Oe=/\d+/,Ne=/[+-]?\d+/,Te=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,Ie=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ge[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return s(ge,e)?ge[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var Fe={};function Be(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function ze(e,t){Be(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ue(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var Ge,Ve=0,Ze=1,We=2,Ye=3,He=4,qe=5,Xe=6,Ke=7,$e=8;function Qe(e,t){return(e%t+t)%t}function Je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Qe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),De("M",_e),De("MM",_e,ye),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Be(["M","MM"],(function(e,t){t[Ze]=le(e)-1})),Be(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ze]=i:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Ie,it=Ie;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))||-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))||-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Je(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)o[t]=je(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),De("Y",Ne),De("YY",_e,ye),De("YYYY",Ce,xe),De("YYYYY",Me,we),De("YYYYYY",Me,we),Be(["YYYYY","YYYYYY"],Ve),Be("YYYY",(function(e,t){t[Ve]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Be("YY",(function(e,t){t[Ve]=r.parseTwoDigitYear(e)})),Be("Y",(function(e,t){t[Ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var gt=fe("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?a=vt(o=e-1)+s:s>vt(e)?(o=e+1,a=s-vt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function _t(e,t,n){var r,i,o=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Et(i=e.year()-1,t,n):a>Et(e.year(),t,n)?(r=a-Et(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Et(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),De("w",_e),De("ww",_e,ye),De("W",_e),De("WW",_e,ye),ze(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var kt={dow:0,doy:6};function Ct(){return this._week.dow}function Mt(){return this._week.doy}function Ot(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),De("d",_e),De("e",_e),De("E",_e),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),ze(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),ze(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var It="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Ie,jt=Ie,Ft=Ie;function Bt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Gt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null}function Vt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Gt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),o=je(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);a.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Jt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,$t),z("k",["kk",2],0,Qt),z("hmm",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),ne("hour","h"),ae("hour",13),De("a",en),De("A",en),De("H",_e),De("h",_e),De("k",_e),De("HH",_e,ye),De("hh",_e,ye),De("kk",_e,ye),De("hmm",Ee),De("hmmss",Se),De("Hmm",Ee),De("Hmmss",Se),Be(["H","HH"],Ye),Be(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),Be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Be(["h","hh"],(function(e,t,n){t[Ye]=le(e),g(n).bigHour=!0})),Be("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r)),g(n).bigHour=!0})),Be("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[qe]=le(e.substr(i)),g(n).bigHour=!0})),Be("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r))})),Be("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[qe]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:I,longDateFormat:W,invalidDate:H,ordinal:X,dayOfMonthOrdinalParse:K,relativeTime:Q,months:et,monthsShort:tt,week:kt,weekdays:It,weekdaysMin:Rt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=fn(e[o]).split("-")).length,n=(n=fn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}o++}return an}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&hn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new P(A(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function bn(){return C(un)}function xn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Ze]<0||n[Ze]>11?Ze:n[We]<1||n[We]>Je(n[Ve],n[Ze])?We:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[He]||0!==n[qe]||0!==n[Xe])?Ye:n[He]<0||n[He]>59?He:n[qe]<0||n[qe]>59?qe:n[Xe]<0||n[Xe]>999?Xe:-1,g(e)._overflowDayOfYear&&(t<Ve||t>We)&&(t=We),g(e)._overflowWeeks&&-1===t&&(t=Ke),g(e)._overflowWeekday&&-1===t&&(t=$e),g(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,Mn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,On={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,o,a,s=e._i,u=wn.exec(s)||_n.exec(s),c=Sn.length,l=kn.length;if(u){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(kn[t][1].exec(u[3])){o=(u[2]||" ")+kn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Un(e)}else e._isValid=!1}function Tn(e,t,n,r,i,o){var a=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function In(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return On[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=Mn.exec(Pn(e._i));if(n){if(t=Tn(n[4],n[3],n[2],n[5],n[6],n[7]),!In(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Cn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[We]&&null==e._a[Ze]&&zn(e),null!=e._dayOfYear&&(o=jn(e._a[Ve],r[Ve]),(e._dayOfYear>vt(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Ze]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[He]&&0===e._a[qe]&&0===e._a[Xe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,i,o,a,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=jn(t.GG,e._a[Ve],_t(Xn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=_t(Xn(),o,a),n=jn(t.gg,e._a[Ve],c.year),r=jn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Et(n,o,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function Un(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,a,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=Z(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)o=i[t],(n=(c.match(Re(o,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),f+=n.length),B[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Ue(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=l-f,c.length>0&&g(e).unusedInput.push(c),e._a[Ye]<=12&&!0===g(e).bigHour&&e._a[Ye]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Ye]=Gn(e._locale,e._a[Ye],e._meridiem),null!==(s=g(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(s,e._a[Ve])),Bn(e),xn(e)}else Rn(e);else Nn(e)}function Gn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,i,o,a,s=!1,u=e._f.length;if(0===u)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Un(t),m(t)&&(a=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));h(e,n||t)}function Zn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Wn(e){var t=new _(xn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new _(xn(t)):(f(t)?e._d=t:o(n)?Vn(e):n?Un(e):Hn(e),m(e)||(e._d=null),e))}function Hn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?Zn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Xn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),$n=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Qn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function er(){return Qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Ge.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Or(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&a++;return a+o}function lr(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),De("Z",Ae),De("ZZ",Ae),Be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(Ae,e)}));var fr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||f(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=dr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Ir(this,Or(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=dr(Te,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Cr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Mr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Or(e,t){var n,r,i,o=e,a=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Cr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:le(a[We])*n,h:le(a[Ye])*n,m:le(a[He])*n,s:le(a[qe])*n,ms:le(ur(1e3*a[Xe]))*n}):(a=Mr.exec(e))?(n="-"===a[1]?-1:1,o={y:Nr(a[2],n),M:Nr(a[3],n),w:Nr(a[4],n),d:Nr(a[5],n),h:Nr(a[6],n),m:Nr(a[7],n),s:Nr(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ar(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Tr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Tr(e,t):((n=Tr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ir(this,Or(n,r),e),this}}function Ir(e,t,n,i){var o=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,de(e,"Month")+s*n),a&&he(e,"Date",de(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Or.fn=ar.prototype,Or.invalid=or;var Dr=Pr(1,"add"),Rr=Pr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function jr(e){return E(e)||f(e)||Lr(e)||l(e)||Br(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Br(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function zr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Ur(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Gr(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=hr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(N(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Vr(){return new _(this)}function Zr(e,t){var n=E(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=E(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=E(e)?e:Xn(e),o=E(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Hr(e,t){var n,r=E(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=$r(this,r)/12;break;case"month":o=$r(this,r);break;case"quarter":o=$r(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ce(o)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(E(e)&&e.isValid()||Xn(e).isValid())?Or({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Xn(),e)}function ii(e,t){return this.isValid()&&(E(e)&&e.isValid()||Xn(e).isValid())?Or({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Xn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,di=3506328*fi;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=hi(t,li);break;case"second":t=this._d.valueOf(),t-=hi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-hi(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-hi(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-hi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function ki(){return h({},g(this))}function Ci(){return g(this).overflow}function Mi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Oi(e,t){var n,i,o,a=this._eras||yn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ni(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Ti(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ii(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Ri(e){return s(this,"_erasNameRegex")||Gi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||Gi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return s(this,"_erasNarrowRegex")||Gi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Bi(e,t){return t.erasNameRegex(e)}function zi(e,t){return t.erasNarrowRegex(e)}function Ui(e,t){return t._eraYearOrdinalRegex||Oe}function Gi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(je(a[e].name)),n.push(je(a[e].abbr)),i.push(je(a[e].narrow)),o.push(je(a[e].name)),o.push(je(a[e].abbr)),o.push(je(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Vi(e,t){z(0,[e,e.length],0,t)}function Zi(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return Et(this.year(),1,4)}function Hi(){return Et(this.isoWeekYear(),1,4)}function qi(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Ki(e,t,n,r,i){var o;return null==e?_t(this,r,i).year:(t>(o=Et(e,r,i))&&(t=o),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var o=wt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),De("N",Fi),De("NN",Fi),De("NNN",Fi),De("NNNN",Bi),De("NNNNN",zi),Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),De("y",Oe),De("yy",Oe),De("yyy",Oe),De("yyyy",Oe),De("yo",Ui),Be(["y","yy","yyy","yyyy"],Ve),Be(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ve]=n._locale.eraYearOrdinalParse(e,i):t[Ve]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),De("G",Ne),De("g",Ne),De("GG",_e,ye),De("gg",_e,ye),De("GGGG",Ce,xe),De("gggg",Ce,xe),De("GGGGG",Me,we),De("ggggg",Me,we),ze(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),ze(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),De("Q",me),Be("Q",(function(e,t){t[Ze]=3*(le(e)-1)})),z("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),De("D",_e),De("DD",_e,ye),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Be(["D","DD"],We),Be("Do",(function(e,t){t[We]=le(e.match(_e)[0])}));var Ji=fe("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),De("DDD",ke),De("DDDD",be),Be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),z("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),De("m",_e),De("mm",_e,ye),Be(["m","mm"],He);var to=fe("Minutes",!1);z("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),De("s",_e),De("ss",_e,ye),Be(["s","ss"],qe);var no,ro,io=fe("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),De("S",ke,me),De("SS",ke,ye),De("SSS",ke,be),no="SSSS";no.length<=9;no+="S")De(no,Oe);function oo(e,t){t[Xe]=le(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Be(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=fe("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var uo=_.prototype;function co(e){return Xn(1e3*e)}function lo(){return Xn.apply(null,arguments).parseZone()}function fo(e){return e}uo.add=Dr,uo.calendar=Gr,uo.clone=Vr,uo.diff=Kr,uo.endOf=mi,uo.format=ti,uo.from=ni,uo.fromNow=ri,uo.to=ii,uo.toNow=oi,uo.get=pe,uo.invalidAt=Ci,uo.isAfter=Zr,uo.isBefore=Wr,uo.isBetween=Yr,uo.isSame=Hr,uo.isSameOrAfter=qr,uo.isSameOrBefore=Xr,uo.isValid=Si,uo.lang=si,uo.locale=ai,uo.localeData=ui,uo.max=$n,uo.min=Kn,uo.parsingFlags=ki,uo.set=ve,uo.startOf=gi,uo.subtract=Rr,uo.toArray=wi,uo.toObject=_i,uo.toDate=xi,uo.toISOString=Jr,uo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Ei,uo.toString=Qr,uo.unix=bi,uo.valueOf=yi,uo.creationData=Mi,uo.eraName=Ai,uo.eraNarrow=Pi,uo.eraAbbr=Ii,uo.eraYear=Di,uo.year=gt,uo.isLeapYear=mt,uo.weekYear=Zi,uo.isoWeekYear=Wi,uo.quarter=uo.quarters=Qi,uo.month=lt,uo.daysInMonth=ft,uo.week=uo.weeks=Ot,uo.isoWeek=uo.isoWeeks=Nt,uo.weeksInYear=qi,uo.weeksInWeekYear=Xi,uo.isoWeeksInYear=Yi,uo.isoWeeksInISOWeekYear=Hi,uo.date=Ji,uo.day=uo.days=Zt,uo.weekday=Wt,uo.isoWeekday=Yt,uo.dayOfYear=eo,uo.hour=uo.hours=rn,uo.minute=uo.minutes=to,uo.second=uo.seconds=io,uo.millisecond=uo.milliseconds=ro,uo.utcOffset=vr,uo.utc=mr,uo.local=yr,uo.parseZone=br,uo.hasAlignedHourOffset=xr,uo.isDST=wr,uo.isLocal=Er,uo.isUtcOffset=Sr,uo.isUtc=kr,uo.isUTC=kr,uo.zoneAbbr=ao,uo.zoneName=so,uo.dates=k("dates accessor is deprecated. Use date instead.",Ji),uo.months=k("months accessor is deprecated. Use month instead",lt),uo.years=k("years accessor is deprecated. Use year instead",gt),uo.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),uo.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ho=P.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function vo(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),a=e?o._week.dow:0,s=[];if(null!=n)return po(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=po(t,(i+a)%7,r,"day");return s}function mo(e,t){return vo(e,t,"months")}function yo(e,t){return vo(e,t,"monthsShort")}function bo(e,t,n){return go(e,t,n,"weekdays")}function xo(e,t,n){return go(e,t,n,"weekdaysShort")}function wo(e,t,n){return go(e,t,n,"weekdaysMin")}ho.calendar=D,ho.longDateFormat=Y,ho.invalidDate=q,ho.ordinal=$,ho.preparse=fo,ho.postformat=fo,ho.relativeTime=J,ho.pastFuture=ee,ho.set=T,ho.eras=Oi,ho.erasParse=Ni,ho.erasConvertYear=Ti,ho.erasAbbrRegex=Li,ho.erasNameRegex=Ri,ho.erasNarrowRegex=ji,ho.months=ot,ho.monthsShort=at,ho.monthsParse=ut,ho.monthsRegex=ht,ho.monthsShortRegex=dt,ho.week=St,ho.firstDayOfYear=Mt,ho.firstDayOfWeek=Ct,ho.weekdays=Bt,ho.weekdaysMin=Ut,ho.weekdaysShort=zt,ho.weekdaysParse=Vt,ho.weekdaysRegex=Ht,ho.weekdaysShortRegex=qt,ho.weekdaysMinRegex=Xt,ho.isPM=tn,ho.meridiem=on,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var _o=Math.abs;function Eo(){var e=this._data;return this._milliseconds=_o(this._milliseconds),this._days=_o(this._days),this._months=_o(this._months),e.milliseconds=_o(e.milliseconds),e.seconds=_o(e.seconds),e.minutes=_o(e.minutes),e.hours=_o(e.hours),e.months=_o(e.months),e.years=_o(e.years),this}function So(e,t,n,r){var i=Or(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ko(e,t){return So(this,e,t,1)}function Co(e,t){return So(this,e,t,-1)}function Mo(e){return e<0?Math.floor(e):Math.ceil(e)}function Oo(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Mo(To(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=ce(o/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,a+=ce(n/24),s+=i=ce(No(a)),a-=Mo(To(i)),r=ce(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function No(e){return 4800*e/146097}function To(e){return 146097*e/4800}function Ao(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+No(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(To(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Po(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Io(e){return function(){return this.as(e)}}var Do=Io("ms"),Ro=Io("s"),Lo=Io("m"),jo=Io("h"),Fo=Io("d"),Bo=Io("w"),zo=Io("M"),Uo=Io("Q"),Go=Io("y");function Vo(){return Or(this)}function Zo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yo=Wo("milliseconds"),Ho=Wo("seconds"),qo=Wo("minutes"),Xo=Wo("hours"),Ko=Wo("days"),$o=Wo("months"),Qo=Wo("years");function Jo(){return ce(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var i=Or(e).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),u=ea(i.as("d")),c=ea(i.as("M")),l=ea(i.as("w")),f=ea(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,na.apply(null,d)}function ia(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=sa(this._milliseconds)/1e3,c=sa(this._days),l=sa(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=ua(this._months)!==ua(f)?"-":"",a=ua(this._days)!==ua(f)?"-":"",s=ua(this._milliseconds)!==ua(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var la=ar.prototype;return la.isValid=ir,la.abs=Eo,la.add=ko,la.subtract=Co,la.as=Ao,la.asMilliseconds=Do,la.asSeconds=Ro,la.asMinutes=Lo,la.asHours=jo,la.asDays=Fo,la.asWeeks=Bo,la.asMonths=zo,la.asQuarters=Uo,la.asYears=Go,la.valueOf=Po,la._bubble=Oo,la.clone=Vo,la.get=Zo,la.milliseconds=Yo,la.seconds=Ho,la.minutes=qo,la.hours=Xo,la.days=Ko,la.weeks=Jo,la.months=$o,la.years=Qo,la.humanize=aa,la.toISOString=ca,la.toString=ca,la.toJSON=ca,la.locale=ai,la.localeData=ui,la.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),la.lang=si,z("X",0,0,"unix"),z("x",0,0,"valueOf"),De("x",Ne),De("X",Pe),Be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Be("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.2",i(Xn),r.fn=uo,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=co,r.months=mo,r.isDate=f,r.locale=vn,r.invalid=y,r.duration=Or,r.isMoment=E,r.weekdays=bo,r.parseZone=lo,r.localeData=yn,r.isDuration=sr,r.monthsShort=yo,r.weekdaysMin=wo,r.defineLocale=gn,r.updateLocale=mn,r.locales=bn,r.weekdaysShort=xo,r.normalizeUnits=re,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Ur,r.prototype=uo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},45687:function(e,t,n){var r=n(91989),i=n(45713),o=n(97249),a=n(88828),s=n(847),u=[0,0];e.exports.x7=function(e,t,n,a,c){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),c/s(t,u)},e.exports.mJ=function(e,t){return i(e,-t[1],t[0]),e},e.exports.o7=function(e,t,n){return a(e,t,n),o(e,e),e}},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),o=n(45296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,E=60106,S=60107,k=60108,C=60114,M=60109,O=60110,N=60112,T=60113,A=60120,P=60115,I=60116,D=60121,R=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;_=B("react.element"),E=B("react.portal"),S=B("react.fragment"),k=B("react.strict_mode"),C=B("react.profiler"),M=B("react.provider"),O=B("react.context"),N=B("react.forward_ref"),T=B("react.suspense"),A=B("react.suspense_list"),P=B("react.memo"),I=B("react.lazy"),D=B("react.block"),B("react.scope"),R=B("react.opaque.id"),L=B("react.debug_trace_mode"),j=B("react.offscreen"),F=B("react.legacy_hidden")}var z,U="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var Z=!1;function W(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function Y(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return H(e.type);case D:return H(e._render);case I:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ce(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Me=null,Oe=null;function Ne(e){if(e=Jr(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Ce(e.stateNode,e.type,t))}}function Te(e){Me?Oe?Oe.push(e):Oe=[e]:Me=e}function Ae(){if(Me){var e=Me,t=Oe;if(Oe=Me=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Ie(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Re=Pe,Le=!1,je=!1;function Fe(){null===Me&&null===Oe||(De(),Ae())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(f)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(uc){ze=!1}function Ge(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ve=!1,Ze=null,We=!1,Ye=null,He={onError:function(e){Ve=!0,Ze=e}};function qe(e,t,n,r,i,o,a,s,u){Ve=!1,Ze=null,Ge.apply(He,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=Jr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Qr(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Jr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Jr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function wt(e){function t(t){return xt(t,e)}if(0<ot.length){xt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&xt(at,e),null!==st&&xt(st,e),null!==ut&&xt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},kt={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Mt=Ct("animationend"),Ot=Ct("animationiteration"),Nt=Ct("animationstart"),Tt=Ct("transitionend"),At=new Map,Pt=new Map,It=["abort","abort",Mt,"animationEnd",Ot,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Rt=8;function Lt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Lt(u),i=Rt):0!==(s&=o)&&(r=Lt(s),i=Rt)}else 0!==(o=n&~a)?(r=Lt(o),i=Rt):0!==s&&(r=Lt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Bt(10,t):e;case 10:return 0===(e=zt(192&~t))?Bt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Zt(e)/Wt|0)|0},Zt=Math.log,Wt=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,qt=!0;function Xt(e,t,n,r){Le||De();var i=$t,o=Le;Le=!0;try{Ie(i,e,t,n,r)}finally{(Le=o)||Fe()}}function Kt(e,t,n,r){Ht(Yt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),ot.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ht(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Ar(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=ke(r);if(null!==(i=Qr(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ke(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ar(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),hn=i({},fn,{view:0,detail:0}),pn=sn(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(vn),mn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},hn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=sn(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(i({},fn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var Mn=sn(i({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=sn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],In=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Rn=f&&"TextEvent"in window&&!Dn,Ln=f&&(!In||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Zn(e,t,n,r){Te(r),0<(t=Ir(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function Hn(e){kr(e,0)}function qn(e){if($(ei(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(f){var $n;if(f){var Qn="oninput"in document;if(!Qn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Qn="function"===typeof Jn.oninput}$n=Qn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Yn=Wn=null)}function tr(e){if("value"===e.propertyName&&qn(Yn)){var t=[];if(Zn(t,Yn,e,ke(e)),e=Hn,Le)e(t);else{Le=!0;try{Pe(e,t)}finally{Le=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Yn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Yn)}function ir(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,mr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Ir(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(It,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<xr.length;wr++)Pt.set(xr[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(qe.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var l=Ze;Ve=!1,Ze=null,We||(We=!0,Ye=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}}}if(We)throw e=Ye,We=!1,Ye=null,e}function Cr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Mr]||(e[Mr]=!0,s.forEach((function(t){Er.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Tr(o,e,i,t),a.add(s))}function Tr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Kt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ar(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Qr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Re(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Mn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Mt:case Ot:case Nt:u=bn;break;case Tt:u=Tn;break;case"scroll":u=pn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Be(p,d))&&l.push(Pr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Qr(c)&&!c[Kr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qr(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ei(u),h=null==c?s:ei(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,Qr(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Dr(h))p++;for(h=0,v=d;v;v=Dr(v))h++;for(;0<p-h;)l=Dr(l),p--;for(;0<h-p;)d=Dr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Dr(l),d=Dr(d)}l=null}else l=null;null!==u&&Rr(a,s,u,l,!1),null!==c&&null!==f&&Rr(a,f,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xn;else if(Vn(s))if(Kn)g=or;else{g=rr;var m=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Zn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ei(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(vr=m,gr=r,mr=null);break;case"focusout":mr=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(m=Ir(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Bn(e,t)?(e=nn(),tn=en=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}kr(a,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=Be(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Lr(){}var jr=null,Fr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Hr=Math.random().toString(36).slice(2),qr="__reactFiber$"+Hr,Xr="__reactProps$"+Hr,Kr="__reactContainer$"+Hr,$r="__reactEvents$"+Hr;function Qr(e){var t=e[qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[qr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Jr(e){return!(e=e[qr]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Xr]||null}function ni(e){var t=e[$r];return void 0===t&&(t=e[$r]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),fi=ui;function di(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pi(){ai(li),ai(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,xi=null,wi=o.unstable_runWithPriority,_i=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Si=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ci=o.unstable_now,Mi=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Ii={},Di=void 0!==ki?ki:function(){},Ri=null,Li=null,ji=!1,Fi=Ci(),Bi=1e4>Fi?Ci:function(){return Ci()-Fi};function zi(){switch(Mi()){case Oi:return 99;case Ni:return 98;case Ti:return 97;case Ai:return 96;case Pi:return 95;default:throw Error(a(332))}}function Ui(e){switch(e){case 99:return Oi;case 98:return Ni;case 97:return Ti;case 96:return Ai;case 95:return Pi;default:throw Error(a(332))}}function Gi(e,t){return e=Ui(e),wi(e,t)}function Vi(e,t,n){return e=Ui(e),_i(e,t,n)}function Zi(){if(null!==Li){var e=Li;Li=null,Ei(e)}Wi()}function Wi(){if(!ji&&null!==Ri){ji=!0;var e=0;try{var t=Ri;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),_i(Oi,Zi),n}finally{ji=!1}}}var Yi=w.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=oi(null),Xi=null,Ki=null,$i=null;function Qi(){$i=Ki=Xi=null}function Ji(e){var t=qi.current;ai(qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Xi=e,$i=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ia=!0),e.firstContext=null)}function no(e,t){if($i!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===Xi)throw Error(a(308));Ki=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,f=l=c=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,js|=s,e.lanes=s,e.memoizedState=d}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uu(),i=cu(e),o=ao(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),so(e,o),lu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uu(),i=cu(e),o=ao(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),so(e,o),lu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uu(),r=cu(e),i=ao(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),so(e,i),lu(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"===typeof o&&null!==o?o=no(o):(i=hi(t)?fi:ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,io(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=no(o):(o=hi(t)?fi:ci.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _o(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Vu(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Zu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Vu(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case E:return(t=Hu(t,e.mode,n)).return=e,t}if(bo(t)||G(t))return(t=Zu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(bo(n)||G(n))return null!==i?null:f(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||G(r))return f(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=G(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Zu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Vu(o.type,o.key,o.props,null,e.mode,u)).ref=xo(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return v(e,r,o,u);if(G(o))return g(e,r,o,u);if(l&&wo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var Eo=_o(!0),So=_o(!1),ko={},Co=oi(ko),Mo=oi(ko),Oo=oi(ko);function No(e){if(e===ko)throw Error(a(174));return e}function To(e,t){switch(si(Oo,t),si(Mo,e),si(Co,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Co),si(Co,t)}function Ao(){ai(Co),ai(Mo),ai(Oo)}function Po(e){No(Oo.current);var t=No(Co.current),n=pe(t,e.type);t!==n&&(si(Mo,e),si(Co,n))}function Io(e){Mo.current===e&&(ai(Co),ai(Mo))}var Do=oi(0);function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=null,jo=null,Fo=!1;function Bo(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Uo(e){if(Fo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Zr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Lo=e);Bo(Lo,n)}Lo=e,jo=Zr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Lo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Vo(e){if(e!==Lo)return!1;if(!Fo)return Go(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Bo(e,t),t=Zr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Lo?Zr(e.stateNode.nextSibling):null;return!0}function Zo(){jo=Lo=null,Fo=!1}var Wo=[];function Yo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Ho=w.ReactCurrentDispatcher,qo=w.ReactCurrentBatchConfig,Xo=0,Ko=null,$o=null,Qo=null,Jo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Xo=o,Ko=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?Na:Ta,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Qo=$o=null,t.updateQueue=null,Ho.current=Aa,e=n(r,i)}while(ea)}if(Ho.current=Oa,t=null!==$o&&null!==$o.next,Xo=0,Qo=$o=Ko=null,Jo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?Ko.memoizedState=Qo=e:Qo=Qo.next=e,Qo}function oa(){if(null===$o){var e=Ko.alternate;e=null!==e?e.memoizedState:null}else e=$o.next;var t=null===Qo?Ko.memoizedState:Qo.next;if(null!==t)Qo=t,$o=e;else{if(null===e)throw Error(a(310));e={memoizedState:($o=e).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===Qo?Ko.memoizedState=Qo=e:Qo=Qo.next=e}return Qo}function aa(e,t){return"function"===typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=$o,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Ko.lanes|=l,js|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function la(e,t,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ho.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],f=c[0];c=Qo;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var g=Ko;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(f,e)||(l(e),e=cu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Vt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=cu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ar(p,n)&&ar(v,t)&&ar(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:f}).dispatch=l=Ma.bind(null,Ko,e),c.queue=e,c.baseQueue=null,f=ca(i,t,n),c.memoizedState=c.baseState=f),f}function fa(e,t,n){return la(oa(),e,t,n)}function da(e){var t=ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ma.bind(null,Ko,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ko.updateQueue)?(t={lastEffect:null},Ko.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function va(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();Ko.flags|=e,i.memoizedState=ha(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void ha(t,n,o,r)}Ko.flags|=e,i.memoizedState=ha(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return ma(516,4,e,t)}function xa(e,t){return ma(4,2,e,t)}function wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,wa.bind(null,t,e),n)}function Ea(){}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=zi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=qo.transition;qo.transition=1;try{e(!1),t()}finally{qo.transition=n}}))}function Ma(e,t,n){var r=uu(),i=cu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ko||null!==a&&a===Ko)ea=Jo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(c){}lu(e,i,r)}}var Oa={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ma.bind(null,Ko,e),[r.memoizedState,e]},useRef:pa,useState:da,useDebugValue:Ea,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ya((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return pa(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0===(2&Ko.mode)&&(Ko.flags|=516,ha(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ta={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:_a,useLayoutEffect:xa,useMemo:ka,useReducer:sa,useRef:va,useState:function(){return sa(aa)},useDebugValue:Ea,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:_a,useLayoutEffect:xa,useMemo:ka,useReducer:ua,useRef:va,useState:function(){return ua(aa)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Pa=w.ReactCurrentOwner,Ia=!1;function Da(e,t,n,r){t.child=null===e?So(t,null,n,r):Eo(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Ia?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ts(e,t,i))}function La(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ts(e,t,o):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ia=!1,0===(o&i))return t.lanes=e.lanes,ts(e,t,o);0!==(16384&e.flags)&&(Ia=!0)}return za(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},yu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yu(t,e),null;t.memoizedState={baseLanes:0},yu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yu(t,r);return Da(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=hi(n)?fi:ci.current;return o=di(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Ia?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ts(e,t,i))}function Ua(e,t,n,r,i){if(hi(n)){var o=!0;mi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=no(c):c=di(t,c=hi(n)?fi:ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(t,a,r,c),ro=!1;var d=t.memoizedState;a.state=d,co(t,r,a,i),u=t.memoizedState,s!==r||d!==u||li.current||ro?("function"===typeof l&&(ho(t,n,l,r),u=t.memoizedState),(s=ro||vo(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Hi(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=no(u):u=di(t,u=hi(n)?fi:ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&mo(t,a,r,u),ro=!1,d=t.memoizedState,a.state=d,co(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||li.current||ro?("function"===typeof h&&(ho(t,n,h,r),p=t.memoizedState),(c=ro||vo(t,n,c,r,d,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),ts(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),To(e,t.containerInfo)}var Za,Wa,Ya,Ha={dehydrated:null,retryLane:0};function qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&Uo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=Wu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=$a(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i):(n=Ka(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Wu(t,i,0,null),n=Zu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ka(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function $a(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Zu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Qa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ro(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ns(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return hi(t.type)&&pi(),null;case 3:return Ao(),ai(li),ai(ci),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Io(t);var o=No(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Co.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qr]=t,r[Xr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Cr(_r[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[qr]=t,e[Xr]=r,Za(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<_r.length;o++)Cr(_r[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&x(e,s,f,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Lr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Oo.current),No(Co.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[qr]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Ns||0===(134217727&js)&&0===(134217727&Fs)||pu(Ns,As))),(r||n)&&(t.flags|=4),null);case 4:return Ao(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return Ji(t),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)ns(r,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ro(e))){for(t.flags|=64,ns(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Gs&&(t.flags|=64,s=!0,ns(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ro(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,ns(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return bu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function is(e){switch(e.tag){case 1:hi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ao(),ai(li),ai(ci),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Io(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Ao(),null;case 10:return Ji(e),null;case 23:case 24:return bu(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function as(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Co.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===R?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var ss="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Hs=r),as(0,t)},n}function cs(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return as(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ls="function"===typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lu(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo))}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Iu(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ps(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(bi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Iu(t,n);else{r=t;try{i()}catch(o){Lu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Lu(t,o)}break;case 5:fs(t);break;case 4:ws(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):xs(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function ws(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Us=Bi(),ps(t.child,!0)),void Es(t);case 19:return void Es(t);case 23:case 24:return void ps(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Cs=w.ReactCurrentDispatcher,Ms=w.ReactCurrentOwner,Os=0,Ns=null,Ts=null,As=0,Ps=0,Is=oi(0),Ds=0,Rs=null,Ls=0,js=0,Fs=0,Bs=0,zs=null,Us=0,Gs=1/0;function Vs(){Gs=Bi()+500}var Zs,Ws=null,Ys=!1,Hs=null,qs=null,Xs=!1,Ks=null,$s=90,Qs=[],Js=[],eu=null,tu=0,nu=null,ru=-1,iu=0,ou=0,au=null,su=!1;function uu(){return 0!==(48&Os)?Bi():-1!==ru?ru:ru=Bi()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===iu&&(iu=Ls),0!==Yi.transition){0!==ou&&(ou=null!==zs?zs.pendingLanes:0),e=iu;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Os)&&98===e?e=Bt(12,iu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),iu),e}function lu(e,t,n){if(50<tu)throw tu=0,nu=null,Error(a(185));if(null===(e=fu(e,t)))return null;Gt(e,t,n),e===Ns&&(Fs|=t,4===Ds&&pu(e,As));var r=zi();1===t?0!==(8&Os)&&0===(48&Os)?vu(e):(du(e,n),0===Os&&(Vs(),Zi())):(0===(4&Os)||98!==r&&99!==r||(null===eu?eu=new Set([e]):eu.add(e)),du(e,n)),zs=e}function fu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Rt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Ns?As:0),t=Rt,0===r)null!==n&&(n!==Ii&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ii&&Ei(n)}15===t?(n=vu.bind(null,e),null===Ri?(Ri=[n],Li=_i(Oi,Wi)):Ri.push(n),n=Ii):14===t?n=Vi(99,vu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Vi(n,hu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(ru=-1,ou=iu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Au()&&e.callbackNode!==t)return null;var n=jt(e,e===Ns?As:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=_u();for(Ns===e&&As===r||(Vs(),xu(e,r));;)try{ku();break}catch(u){wu(e,u)}if(Qi(),Cs.current=o,Os=i,null!==Ts?r=0:(Ns=null,As=0,r=Ds),0!==(Ls&Fs))xu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=Eu(e,n))),1===r)throw t=Rs,xu(e,0),pu(e,n),du(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(pu(e,n),(62914560&n)===n&&10<(r=Us+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(pu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Ur(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return du(e,Bi()),e.callbackNode===t?hu.bind(null,e):null}function pu(e,t){for(t&=~Bs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!==(48&Os))throw Error(a(327));if(Au(),e===Ns&&0!==(e.expiredLanes&As)){var t=As,n=Eu(e,t);0!==(Ls&Fs)&&(n=Eu(e,t=jt(e,t)))}else n=Eu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=Eu(e,t))),1===n)throw n=Rs,xu(e,0),pu(e,t),du(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),du(e,Bi()),null}function gu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Vs(),Zi())}}function mu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Vs(),Zi())}}function yu(e,t){si(Is,Ps),Ps|=t,Ls|=t}function bu(){Ps=Is.current,ai(Is)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pi();break;case 3:Ao(),ai(li),ai(ci),Yo();break;case 5:Io(r);break;case 4:Ao();break;case 13:case 19:ai(Do);break;case 10:Ji(r);break;case 23:case 24:bu()}n=n.return}Ns=e,Ts=Gu(e.current,null),As=Ps=Ls=t,Ds=0,Rs=null,Bs=Fs=js=0}function wu(e,t){for(;;){var n=Ts;try{if(Qi(),Ho.current=Oa,Jo){for(var r=Ko.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Jo=!1}if(Xo=0,Qo=$o=Ko=null,ea=!1,Ms.current=null,null===n||null===n.return){Ds=1,Rs=t,Ts=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Do.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(c),d.updateQueue=m}else g.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ss,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var x=ju.bind(null,o,c,s);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=os(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,uo(d,us(0,o,t));break e;case 1:o=u;var w=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===qs||!qs.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,uo(d,cs(d,o,t));break e}}d=d.return}while(null!==d)}Mu(n)}catch(E){t=E,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function _u(){var e=Cs.current;return Cs.current=Oa,null===e?Oa:e}function Eu(e,t){var n=Os;Os|=16;var r=_u();for(Ns===e&&As===t||xu(e,t);;)try{Su();break}catch(i){wu(e,i)}if(Qi(),Os=n,Cs.current=r,null!==Ts)throw Error(a(261));return Ns=null,As=0,Ds}function Su(){for(;null!==Ts;)Cu(Ts)}function ku(){for(;null!==Ts&&!Si();)Cu(Ts)}function Cu(e){var t=Zs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Mu(e):Ts=t,Ms.current=null}function Mu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=rs(n,t,Ps)))return void(Ts=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=is(t)))return n.flags&=2047,void(Ts=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ds&&(Ds=5)}function Ou(e){var t=zi();return Gi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Au()}while(null!==Ks);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Vt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==eu&&0===(24&r)&&eu.has(e)&&eu.delete(e),e===Ns&&(Ts=Ns=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ms.current=null,jr=qt,hr(s=dr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var f=0,d=-1,h=-1,p=0,v=0,g=s,m=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(d=f+o),g!==c||0!==l&&3!==g.nodeType||(h=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===s)break t;if(m===u&&++p===o&&(d=f),m===c&&++v===l&&(h=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},qt=!1,au=null,su=!1,Ws=r;do{try{Tu()}catch(C){if(null===Ws)throw Error(a(330));Lu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);au=null,Ws=r;do{try{for(s=e;null!==Ws;){var b=Ws.flags;if(16&b&&me(Ws.stateNode,""),128&b){var x=Ws.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ys(Ws),Ws.flags&=-3;break;case 6:ys(Ws),Ws.flags&=-3,_s(Ws.alternate,Ws);break;case 1024:Ws.flags&=-1025;break;case 1028:Ws.flags&=-1025,_s(Ws.alternate,Ws);break;case 4:_s(Ws.alternate,Ws);break;case 8:ws(s,u=Ws);var _=u.alternate;gs(u),null!==_&&gs(_)}Ws=Ws.nextEffect}}catch(C){if(null===Ws)throw Error(a(330));Lu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);if(w=Fr,x=dr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&hr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=lr(b,_),o=lr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!jr,Fr=jr=null,e.current=n,Ws=r;do{try{for(b=e;null!==Ws;){var E=Ws.flags;if(36&E&&hs(b,Ws.alternate,Ws),128&E){x=void 0;var S=Ws.ref;if(null!==S){var k=Ws.stateNode;Ws.tag,x=k,"function"===typeof S?S(x):S.current=x}}Ws=Ws.nextEffect}}catch(C){if(null===Ws)throw Error(a(330));Lu(Ws,C),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Di(),Os=i}else e.current=n;if(Xs)Xs=!1,Ks=e,$s=t;else for(Ws=r;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,8&Ws.flags&&((E=Ws).sibling=null,E.stateNode=null),Ws=t;if(0===(r=e.pendingLanes)&&(qs=null),1===r?e===nu?tu++:(tu=0,nu=e):tu=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(C){}if(du(e,Bi()),Ys)throw Ys=!1,e=Hs,Hs=null,e;return 0!==(8&Os)||Zi(),null}function Tu(){for(;null!==Ws;){var e=Ws.alternate;su||null===au||(0!==(8&Ws.flags)?Je(Ws,au)&&(su=!0):13===Ws.tag&&Ss(e,Ws)&&Je(Ws,au)&&(su=!0));var t=Ws.flags;0!==(256&t)&&ds(e,Ws),0===(512&t)||Xs||(Xs=!0,Vi(97,(function(){return Au(),null}))),Ws=Ws.nextEffect}}function Au(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Gi(e,Du)}return!1}function Pu(e,t){Qs.push(t,e),Xs||(Xs=!0,Vi(97,(function(){return Au(),null})))}function Iu(e,t){Js.push(t,e),Xs||(Xs=!0,Vi(97,(function(){return Au(),null})))}function Du(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Lu(o,c)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Lu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Zi(),!0}function Ru(e,t,n){so(e,t=us(0,t=os(n,t),1)),t=uu(),null!==(e=fu(e,1))&&(Gt(e,1,t),du(e,t))}function Lu(e,t){if(3===e.tag)Ru(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ru(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){var i=cs(n,e=os(t,e),1);if(so(n,i),i=uu(),null!==(n=fu(n,1)))Gt(n,1,i),du(n,i);else if("function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uu(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(As&n)===n&&(4===Ds||3===Ds&&(62914560&As)===As&&500>Bi()-Us?xu(e,0):Bs|=n),du(e,t)}function Fu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===iu&&(iu=Ls),0===(t=zt(62914560&~iu))&&(t=4194304))),n=uu(),null!==(e=fu(e,t))&&(Gt(e,t,n),du(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Bu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Uu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Zu(n.children,i,o,t);case L:s=8,i|=16;break;case k:s=8,i|=1;break;case C:return(e=zu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case T:return(e=zu(13,n,t,i)).type=T,e.elementType=T,e.lanes=o,e;case A:return(e=zu(19,n,t,i)).elementType=A,e.lanes=o,e;case j:return Wu(n,i,o,t);case F:return(e=zu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case O:s=9;break e;case N:s=11;break e;case P:s=14;break e;case I:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Zu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Wu(e,t,n,r){return(e=zu(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e,t,n,r){var i=t.current,o=uu(),s=cu(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(hi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(hi(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),lu(i,s,o),s}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function ec(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new qu(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Kr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}Ku(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ec(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=$u(a);u.call(e)}}mu((function(){Ku(t,a,e,i)}))}return $u(a)}function rc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw Error(a(200));return Xu(e,t,null,n)}Zs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Ia=!0;else{if(0===(n&r)){switch(Ia=!1,t.tag){case 3:Va(t),Zo();break;case 5:Po(t);break;case 1:hi(t.type)&&mi(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?qa(e,t,n):(si(Do,1&Do.current),null!==(t=ts(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return es(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return ts(e,t,n)}Ia=0!==(16384&e.flags)}else Ia=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ho(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Uu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Hi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ua(null,t,i,e,n);break e;case 11:t=Ra(null,t,i,e,n);break e;case 14:t=La(null,t,i,Hi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Zo(),t=ts(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Zr(t.stateNode.containerInfo.firstChild),Lo=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Zo();t=t.child}return t;case 5:return Po(t),null===e&&Uo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Uo(t),null;case 13:return qa(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=ar(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=ts(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Hi(i=t.type,t.pendingProps),La(e,t,i,o=Hi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,hi(r)?(e=!0,mi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return es(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},ec.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},ec.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,(function(){t[Kr]=null}))},et=function(e){13===e.tag&&(lu(e,4,uu()),Ju(e,4))},tt=function(e){13===e.tag&&(lu(e,67108864,uu()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=uu(),n=cu(e);lu(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=gu,Ie=function(e,t,n,r,i){var o=Os;Os|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Vs(),Zi())}},De=function(){0===(49&Os)&&(function(){if(null!==eu){var e=eu;eu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,Bi())}))}Zi()}(),Au())},Re=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Vs(),Zi())}};var ic={Events:[Jr,ei,ti,Te,Ae,Au,{current:!1}]},oc={findFiberByHostInstance:Qr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{bi=sc.inject(ac),xi=sc}catch(uc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ic,t.createPortal=rc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Os=n,Zi()}},t.hydrate=function(e,t,n){if(!tc(t))throw Error(a(200));return nc(null,e,t,!0,n)},t.render=function(e,t,n){if(!tc(t))throw Error(a(200));return nc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tc(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return rc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return nc(e,t,n,!1,r)},t.version="17.0.2"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},57441:function(e,t,n){"use strict";e.exports=n(11372)},98459:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,g=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),g=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case d:case s:return e;default:return t}}case r:return t}}}},36900:function(e,t,n){"use strict";n(98459)},66374:function(e,t,n){"use strict";n(31725);var r=n(72791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},59117:function(e,t,n){"use strict";var r=n(31725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),M(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=M(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=M(s=s.value,t,n,l=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function A(){var e=T.current;if(null===e)throw Error(h(321));return e}var P={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},66121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/xai-papers",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/xai-papers",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,d=l||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,h=new(l||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(R(n)){if(!Z(e))throw new TypeError;if(!Y(t))throw new TypeError;return S(e,t)}if(!Z(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!R(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),k(e,t,n=V(n),r)}function v(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!R(r)&&!H(r))throw new TypeError;A(e,t,n,r)}return n}function g(e,t,n,r){if(!F(n))throw new TypeError;return R(r)||(r=V(r)),A(e,t,n,r)}function m(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),M(e,t,n)}function y(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),O(e,t,n)}function b(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),N(e,t,n)}function x(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),T(e,t,n)}function w(e,t){if(!F(e))throw new TypeError;return R(t)||(t=V(t)),P(e,t)}function _(e,t){if(!F(e))throw new TypeError;return R(t)||(t=V(t)),I(e,t)}function E(e,t,n){if(!F(t))throw new TypeError;R(n)||(n=V(n));var r=C(t,n,!1);if(R(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}function S(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!R(r)&&!L(r)){if(!Y(r))throw new TypeError;t=r}}return t}function k(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!R(o)&&!L(o)){if(!F(o))throw new TypeError;r=o}}return r}function C(e,t,n){var r=h.get(e);if(R(r)){if(!n)return;r=new f,h.set(e,r)}var i=r.get(t);if(R(i)){if(!n)return;i=new f,r.set(t,i)}return i}function M(e,t,n){if(O(e,t,n))return!0;var r=J(t);return!L(r)&&M(e,r,n)}function O(e,t,n){var r=C(t,n,!1);return!R(r)&&U(r.has(e))}function N(e,t,n){if(O(e,t,n))return T(e,t,n);var r=J(t);return L(r)?void 0:N(e,r,n)}function T(e,t,n){var r=C(t,n,!1);if(!R(r))return r.get(e)}function A(e,t,n,r){C(n,r,!0).set(e,t)}function P(e,t){var n=I(e,t),r=J(e);if(null===r)return n;var i=P(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,f=i;l<f.length;l++){c=f[l];o.has(c)||(o.add(c),a.push(c))}return a}function I(e,t){var n=[],r=C(e,t,!1);if(R(r))return n;for(var i=X(r.keys()),o=0;;){var a=$(i);if(!a)return n.length=o,n;var s=K(a);try{n[o]=s}catch(u){try{Q(i)}finally{throw u}}o++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function B(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=q(e,r);if(void 0!==i){var o=i.call(e,n);if(F(o))throw new TypeError;return o}return z(e,"default"===n?"number":n)}function z(e,t){if("string"===t){var n=e.toString;if(W(n))if(!F(i=n.call(e)))return i;if(W(r=e.valueOf))if(!F(i=r.call(e)))return i}else{var r;if(W(r=e.valueOf))if(!F(i=r.call(e)))return i;var i,o=e.toString;if(W(o))if(!F(i=o.call(e)))return i}throw new TypeError}function U(e){return!!e}function G(e){return""+e}function V(e){var t=B(e,3);return j(t)?t:G(t)}function Z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"===typeof e}function Y(e){return"function"===typeof e}function H(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!W(n))throw new TypeError;return n}}function X(e){var t=q(e,i);if(!W(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function K(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function Q(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",v),e("defineMetadata",g),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",b),e("getOwnMetadata",x),e("getMetadataKeys",w),e("getOwnMetadataKeys",_),e("deleteMetadata",E)}(i)}()}(r||(r={}))},19727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(N([])));w&&w!==n&&r.call(w,o)&&(b=w);var _=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return m.prototype=y,u(_,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},39084:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||i(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function c(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function l(e,t,n){c(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function v(e,t){for(e+="";e.length<t;)e=" "+e;return e}function g(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,o=0,a={unknown:new g,0:new g};a.unknown.name=a[0].name=t||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(c)switch(c[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(c[2]);l&&(i=0|l[1],l[2]&&((o=0|l[2])in a||(a[o]=new g)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(a[o].name=f[1]?r(f[2]):f[2])}a[o].lines.push(new m(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function _(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function E(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";A(r,"string",u+" shader source must be a string",a);var c=w(r,a),l=_(s);E(c,l),Object.keys(c).forEach((function(e){var t=c[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(v(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(v("| ",6)),o(v("^^^",t+3)+n,"font-weight:bold"),o(v("| ",6)),o(i+n,"font-weight:bold")})),o(v("| ",6)+n)}else o(v(e.number,4)+"|  "),o(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+c[0].name)}}function k(e,t,r,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(r,a),c='Error linking program with vertex shader, "'+w(i,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+c+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+n+s),o.raise(c)}}function C(e){e._commandRef=b()}function M(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}C(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function O(e,t){var n=x();i(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function N(e,t,n){e||O(t,n||b())}function T(e,t,n,r){e in t||O("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||b())}function A(e,t,n,r){c(e,t)||O("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||b())}function P(e){e()}function I(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var D=33071,R=9728,L=9984,j=9985,F=9986,B=9987,z=5121,U=5122,G=5123,V=5124,Z=5125,W=5126,Y=32819,H=32820,q=33635,X=34042,K=36193,$={};function Q(e,t){return e===H||e===Y||e===q?2:e===X?4:$[e]*t}function J(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===D&&e.wrapT===D||o(J(i)&&J(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==L&&e.minFilter!==F&&e.minFilter!==j&&e.minFilter!==B,"min filter requires mipmap"):(o(J(i)&&J(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===W&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===R&&e.magFilter===R,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var c=i>>r,l=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(o(f.width===c&&f.height===l,"invalid shape for mip images"),o(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(Q(f.type,s)*c/f.unpackAlignment)*f.unpackAlignment;o(f.data.byteLength===d*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===D&&t.wrapT===D,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];o(c.width===i&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!c.compressed,"can not generate mipmap for compressed textures"),o(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var d=l[f];if(d){var h=i>>f,p=a>>f;o(c.mipmask&1<<f,"missing mipmap data"),o(d.width===h&&d.height===p,"invalid shape for mip images"),o(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?o(d.data.byteLength===h*p*Math.max(Q(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}$[5120]=$[z]=1,$[U]=$[G]=$[K]=$[q]=$[Y]=$[H]=2,$[V]=$[Z]=$[W]=$[X]=4;var ne=t(o,{optional:P,raise:i,commandRaise:O,command:N,parameter:s,commandParameter:T,constructor:p,type:l,commandType:A,isTypedArray:u,nni:f,oneOf:d,shaderError:S,linkError:k,callSite:x,saveCommandRef:C,saveDrawInfo:M,framebufferFormat:I,guessCommand:b,texture2D:ee,textureCube:te}),re=0,ie=0,oe=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ce(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return ce(e.substr(0,r.index)).concat(ce(r[1])).concat(ce(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(ce(i[a]));return o}function le(e){return"["+ce(e).join("][")+"]"}function fe(e,t){return new se(e,le(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof se}function he(e,t){return"function"===typeof e?new se(ie,e):"number"===typeof e||"boolean"===typeof e?new se(oe,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:fe,isDynamic:de,unbox:he,accessor:le},ve={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ge="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function me(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function _e(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function Ee(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,r,i,o=e||{},a={},s=[],u=[],c="undefined"===typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof o?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),ne(t,"invalid query string for element")):"object"===typeof o?xe(o)?t=o:we(o)?r=(i=o).canvas:(ne.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Ee(o.canvas):"container"in o&&(n=Ee(o.container)),"attributes"in o&&(a=o.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in o&&(s=_e(o.extensions)),"optionalExtensions"in o&&(u=_e(o.optionalExtensions)),"onDone"in o&&(ne.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(l=!!o.profile),"pixelRatio"in o&&(c=+o.pixelRatio,ne(c>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=ye(n||document.body,f,c);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=be(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:c,profile:l,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ke(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Ce(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Me=5120,Oe=5121,Ne=5122,Te=5123,Ae=5124,Pe=5125,Ie=5126;function De(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Re(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Le(){var e=Ce(8,(function(){return[]}));function t(t){var n=De(t),r=e[Re(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Re(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Me:r=new Int8Array(t(n),0,n);break;case Oe:r=new Uint8Array(t(n),0,n);break;case Ne:r=new Int16Array(t(2*n),0,n);break;case Te:r=new Uint16Array(t(2*n),0,n);break;case Ae:r=new Int32Array(t(4*n),0,n);break;case Pe:r=new Uint32Array(t(4*n),0,n);break;case Ie:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var je=Le();je.zero=Le();var Fe=3408,Be=3410,ze=3411,Ue=3412,Ge=3413,Ve=3414,Ze=3415,We=33901,Ye=33902,He=3379,qe=3386,Xe=34921,Ke=36347,$e=36348,Qe=35661,Je=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,ot=7937,at=7938,st=35724,ut=34047,ct=36063,lt=34852,ft=3553,dt=34067,ht=34069,pt=33984,vt=6408,gt=5126,mt=5121,yt=36160,bt=36053,xt=36064,wt=16384,_t=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(lt),i=e.getParameter(ct));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(ft,a),e.texImage2D(ft,0,vt,1,1,0,vt,gt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,xt,ft,a,0),e.bindTexture(ft,null),e.checkFramebufferStatus(yt)!==bt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=je.allocType(gt,4);e.readPixels(0,0,1,1,vt,gt,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),je.freeType(u)}}var c=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var l=e.createTexture(),f=je.allocType(mt,36);e.activeTexture(pt),e.bindTexture(dt,l),e.texImage2D(ht,0,vt,3,3,0,vt,mt,f),je.freeType(f),e.bindTexture(dt,null),e.deleteTexture(l),c=!e.getError()}return{colorBits:[e.getParameter(Be),e.getParameter(ze),e.getParameter(Ue),e.getParameter(Ge)],depthBits:e.getParameter(Ve),stencilBits:e.getParameter(Ze),subpixelBits:e.getParameter(Fe),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(We),lineWidthDims:e.getParameter(Ye),maxViewportDims:e.getParameter(qe),maxCombinedTextureUnits:e.getParameter(Qe),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(He),maxAttributes:e.getParameter(Xe),maxVertexUniforms:e.getParameter(Ke),maxVertexTextureUnits:e.getParameter(Je),maxVaryingVectors:e.getParameter($e),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(ot),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:o,npotTextureCube:c}};function Et(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},kt={shape:At,flatten:Tt};function Ct(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Mt(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Ot(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],c=0;c<n;++c)for(var l=u[c],f=0;f<r;++f)i[a++]=l[f]}function Nt(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],c=t[n+2],l=t[n+3];for(a=0;a<s;++a)Ot(e[a],u,c,l,r,i),i+=o}else for(a=0;a<s;++a)Nt(e[a],t,n+1,r,i),i+=o}function Tt(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||je.allocType(n,i);switch(t.length){case 0:break;case 1:Ct(e,t[0],a);break;case 2:Mt(e,t[0],t[1],a);break;case 3:Ot(e,t[0],t[1],t[2],a,0);break;default:Nt(e,t,0,a,0)}return a}function At(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Pt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},It={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Dt={dynamic:35048,stream:35040,static:35044},Rt=kt.flatten,Lt=kt.shape,jt=35044,Ft=35040,Bt=5121,zt=5126,Ut=[];function Gt(e){return 0|Pt[Object.prototype.toString.call(e)]}function Vt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Zt(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)e[s++]=t[i*u+o*c+a]}function Wt(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=jt,this.byteLength=0,this.dimension=1,this.dtype=Bt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function c(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),d(n,t,Ft,0,1,!1),n}function l(e){u.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||zt,n.length>0)if(Array.isArray(n[0])){s=Lt(n);for(var c=1,l=1;l<s.length;++l)c*=s[l];t.dimension=c,f(t,u=Rt(n,s,t.dtype),r),a?t.persistentData=u:je.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var d=je.allocType(t.dtype,n.length);Vt(d,n),f(t,d,r),a?t.persistentData=d:je.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Gt(n[0])||zt,f(t,u=Rt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:je.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Gt(n),t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Et(n)){s=n.shape;var h=n.stride,p=n.offset,v=0,g=0,m=0,y=0;1===s.length?(v=s[0],g=1,m=h[0],y=0):2===s.length?(v=s[0],g=s[1],m=h[0],y=h[1]):ne.raise("invalid shape"),t.dtype=i||Gt(n.data)||zt,t.dimension=g;var b=je.allocType(t.dtype,v*g);Zt(b,n.data,v,g,m,y,p),f(t,b,r),a?t.persistentData=b:je.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Bt,t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(i,o,u,c){n.bufferCount++;var l=new s(o);function f(n){var i=jt,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||Et(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===o||Array.isArray(o)||e(o)||Et(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ne.parameter(n.usage,Dt,"invalid buffer usage"),i=Dt[n.usage]),"type"in n&&(ne.parameter(n.type,It,"invalid buffer type"),s=It[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),l.bind(),o?d(l,o,i,s,u,c):(a&&t.bufferData(l.type,a,i),l.dtype=s||Bt,l.usage=i,l.dimension=u,l.byteLength=a),r.profile&&(l.stats.size=l.byteLength*Ut[l.dtype]),f}function p(e,n){ne(n+e.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+l.byteLength),t.bufferSubData(l.type,n,e)}function v(t,n){var r,i=0|(n||0);if(l.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=je.allocType(l.dtype,t.length);Vt(o,t),p(o,i),je.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=Lt(t);var a=Rt(t,r,l.dtype);p(a,i),je.freeType(a)}else ne.raise("invalid buffer data")}else if(Et(t)){r=t.shape;var s=t.stride,u=0,c=0,d=0,h=0;1===r.length?(u=r[0],c=1,d=s[0],h=0):2===r.length?(u=r[0],c=r[1],d=s[0],h=s[1]):ne.raise("invalid shape");var v=Array.isArray(t.data)?l.dtype:Gt(t.data),g=je.allocType(v,u*c);Zt(g,t.data,u,c,d,h,t.offset),p(g,i),je.freeType(g)}else ne.raise("invalid data for buffer subdata");return f}return a[l.id]=l,u||f(i),f._reglType="buffer",f._buffer=l,f.subdata=v,r.profile&&(f.stats=l.stats),f.destroy=function(){h(l)},f}function v(){St(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:c,destroyStream:l,clear:function(){St(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:v,_initBuffer:d}}Ut[5120]=1,Ut[5122]=2,Ut[5124]=4,Ut[5121]=1,Ut[5123]=2,Ut[5125]=4,Ut[5126]=4;var Yt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ht=0,qt=1,Xt=4,Kt=5120,$t=5121,Qt=5122,Jt=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,i){var o={},a=0,s={uint8:$t,uint16:Jt};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Xt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var c=[];function l(e){var t=c.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){c.push(e)}function d(i,o,a,s,u,c,l){var f;if(i.buffer.bind(),o){var d=l;l||e(o)&&(!Et(o)||e(o.data))||(d=n.oes_element_index_uint?tn:Jt),r._initBuffer(i.buffer,o,a,d,3)}else t.bufferData(nn,c,a),i.buffer.dtype=f||$t,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;if(f=l,!l){switch(i.buffer.dtype){case $t:case Kt:f=$t;break;case Jt:case Qt:f=Jt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===Jt?h>>=1:f===tn&&(h>>=2)),i.vertCount=h;var p=s;if(s<0){p=Xt;var v=i.buffer.dimension;1===v&&(p=Ht),2===v&&(p=qt),3===v&&(p=Xt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var o=r.create(null,nn,!0),a=new u(o._buffer);function c(t){if(t)if("number"===typeof t)o(t),a.primType=Xt,a.vertCount=0|t,a.type=$t;else{var n=null,r=on,i=-1,u=-1,l=0,f=0;Array.isArray(t)||e(t)||Et(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||Et(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Dt,"invalid element buffer usage"),r=Dt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Yt,"invalid element buffer primitive"),i=Yt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?l=0|t.length:(l=u,f===Jt||f===Qt?l*=2:f!==tn&&f!==en||(l*=4))),d(a,n,r,i,u,l,f)}else o(),a.primType=Xt,a.vertCount=0,a.type=$t;return c}return i.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return o.subdata(e,t),c},c.destroy=function(){h(a)},c}return{create:p,createStream:l,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){St(o).forEach(h)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),cn=5123;function ln(e){for(var t=je.allocType(cn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,vn=34067,gn=34069,mn=6408,yn=6406,bn=6407,xn=6409,wn=6410,_n=32854,En=32855,Sn=36194,kn=32819,Cn=32820,Mn=33635,On=34042,Nn=6402,Tn=34041,An=35904,Pn=35906,In=36193,Dn=33776,Rn=33777,Ln=33778,jn=33779,Fn=35986,Bn=35987,zn=34798,Un=35840,Gn=35841,Vn=35842,Zn=35843,Wn=36196,Yn=5121,Hn=5123,qn=5125,Xn=5126,Kn=10242,$n=10243,Qn=10497,Jn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,ur=9987,cr=33170,lr=4352,fr=4353,dr=4354,hr=34046,pr=3317,vr=37440,gr=37441,mr=37443,yr=37444,br=33984,xr=[or,sr,ar,ur],wr=[0,xn,wn,bn,mn],_r={};function Er(e){return"[object "+e+"]"}_r[xn]=_r[yn]=_r[Nn]=1,_r[Tn]=_r[wn]=2,_r[bn]=_r[An]=3,_r[mn]=_r[Pn]=4;var Sr=Er("HTMLCanvasElement"),kr=Er("OffscreenCanvas"),Cr=Er("CanvasRenderingContext2D"),Mr=Er("ImageBitmap"),Or=Er("HTMLImageElement"),Nr=Er("HTMLVideoElement"),Tr=Object.keys(Pt).concat([Sr,kr,Cr,Mr,Or,Nr]),Ar=[];Ar[Yn]=1,Ar[Xn]=4,Ar[In]=2,Ar[Hn]=2,Ar[qn]=4;var Pr=[];function Ir(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Dr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Rr(e){return Object.prototype.toString.call(e)}function Lr(e){return Rr(e)===Sr}function jr(e){return Rr(e)===kr}function Fr(e){return Rr(e)===Cr}function Br(e){return Rr(e)===Mr}function zr(e){return Rr(e)===Or}function Ur(e){return Rr(e)===Nr}function Gr(e){if(!e)return!1;var t=Rr(e);return Tr.indexOf(t)>=0||Ir(e)||Dr(e)||Et(e)}function Vr(e){return 0|Pt[Object.prototype.toString.call(e)]}function Zr(e,t){var n=t.length;switch(e.type){case Yn:case Hn:case qn:case Xn:var r=je.allocType(e.type,n);r.set(t),e.data=r;break;case In:e.data=ln(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Wr(e,t){return je.allocType(e.type===In?Xn:e.type,t)}function Yr(e,t){e.type===In?(e.data=ln(t),je.freeType(t)):e.data=t}function Hr(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,c=Wr(e,a*s*u),l=0,f=0;f<s;++f)for(var d=0;d<a;++d)for(var h=0;h<u;++h)c[l++]=t[n*d+r*f+i*h+o];Yr(e,c)}function qr(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Pr[e]?Pr[e]:_r[e]*Ar[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Xr(n,r,i,o,a,s,u){var c={"don't care":lr,"dont care":lr,nice:dr,fast:fr},l={repeat:Qn,clamp:Jn,mirror:er},f={nearest:rr,linear:ir},d=t({mipmap:ur,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},f),h={none:0,browser:yr},p={uint8:Yn,rgba4:kn,rgb565:Mn,"rgb5 a1":Cn},v={alpha:yn,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:_n,"rgb5 a1":En,rgb565:Sn},g={};r.ext_srgb&&(v.srgb=An,v.srgba=Pn),r.oes_texture_float&&(p.float32=p.float=Xn),r.oes_texture_half_float&&(p.float16=p["half float"]=In),r.webgl_depth_texture&&(t(v,{depth:Nn,"depth stencil":Tn}),t(p,{uint16:Hn,uint32:qn,"depth stencil":On})),r.webgl_compressed_texture_s3tc&&t(g,{"rgb s3tc dxt1":Dn,"rgba s3tc dxt1":Rn,"rgba s3tc dxt3":Ln,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&t(g,{"rgb atc":Fn,"rgba atc explicit alpha":Bn,"rgba atc interpolated alpha":zn}),r.webgl_compressed_texture_pvrtc&&t(g,{"rgb pvrtc 4bppv1":Un,"rgb pvrtc 2bppv1":Gn,"rgba pvrtc 4bppv1":Vn,"rgba pvrtc 2bppv1":Zn}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=Wn);var m=Array.prototype.slice.call(n.getParameter(hn));Object.keys(g).forEach((function(e){var t=g[e];m.indexOf(t)>=0&&(v[e]=t)}));var y=Object.keys(v);i.textureFormats=y;var b=[];Object.keys(v).forEach((function(e){var t=v[e];b[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var _=[];Object.keys(d).forEach((function(e){var t=d[e];_[t]=e}));var E=[];Object.keys(l).forEach((function(e){var t=l[e];E[t]=e}));var S=y.reduce((function(e,t){var n=v[t];return n===xn||n===yn||n===xn||n===wn||n===Nn||n===Tn||r.ext_srgb&&(n===An||n===Pn)?e[n]=n:n===En||t.indexOf("rgba")>=0?e[n]=mn:e[n]=bn,e}),{});function k(){this.internalformat=mn,this.format=mn,this.type=Yn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function C(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function M(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(o>=0&&o<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ne(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ne(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var l=t.format;ne(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(l,v,"invalid texture format");var f=e.internalformat=v[l];e.format=S[f],l in p&&("type"in t||(e.type=p[l])),l in g&&(e.compressed=!0),c=!0}!u&&c?e.channels=_r[e.format]:u&&!c?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):c&&u&&ne(e.channels===_r[e.format],"number of channels inconsistent with specified format")}}function O(e){n.pixelStorei(vr,e.flipY),n.pixelStorei(gr,e.premultiplyAlpha),n.pixelStorei(mr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function N(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function T(t,n){var r=null;if(Gr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),M(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Gr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Yn||(t.type=Vr(r));else if(Ir(r))t.channels=t.channels||4,Zr(t,r),t.alignment=1,t.needsFree=!0;else if(Et(r)){var u=r.data;Array.isArray(u)||t.type!==Yn||(t.type=Vr(u));var c,l,f,d,h,p,v=r.shape,g=r.stride;3===v.length?(f=v[2],p=g[2]):(ne(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=v[0],l=v[1],d=g[0],h=g[1],t.alignment=1,t.width=c,t.height=l,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Hr(t,u,d,h,p,r.offset)}else if(Lr(r)||jr(r)||Fr(r))Lr(r)||jr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Br(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(zr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Ur(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Dr(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=fn(r[0][0])?b||r[0][0].length:b||1;for(var x=kt.shape(r),w=1,_=0;_<x.length;++_)w*=x[_];var E=Wr(t,w);kt.flatten(r,x,"",E),Yr(t,E),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Xn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===In&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function A(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,c=e.type,l=e.width,f=e.height;O(e),i?n.texImage2D(t,r,u,u,c,i):e.compressed?n.compressedTexImage2D(t,r,s,l,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,u,l,f,0,u,c,a||null)}function P(e,t,r,i,a){var s=e.element,u=e.data,c=e.internalformat,l=e.format,f=e.type,d=e.width,h=e.height;O(e),s?n.texSubImage2D(t,a,r,i,l,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,c,d,h,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,i,d,h,l,f,u)}var I=[];function D(){return I.pop()||new N}function R(e){e.needsFree&&je.freeType(e.data),N.call(e),I.push(e)}function L(){k.call(this),this.genMipmaps=!1,this.mipmapHint=lr,this.mipmask=0,this.images=Array(16)}function j(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(Gr(t))C(n=e.images[0]=D(),e),T(n,t),e.mipmask=1;else if(M(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)C(n=e.images[i]=D(),e),n.width>>=i,n.height>>=i,T(n,r[i]),e.mipmask|=1<<i;else C(n=e.images[0]=D(),e),T(n,t),e.mipmask=1;C(e,e.images[0]),!e.compressed||e.internalformat!==Dn&&e.internalformat!==Rn&&e.internalformat!==Ln&&e.internalformat!==jn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;A(n[r],t,r)}}var z=[];function U(){var e=z.pop()||new L;k.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function G(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;z.push(e)}function V(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Jn,this.wrapT=Jn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=lr}function Z(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],xr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,l),o=a=l[s]):Array.isArray(s)&&(ne.parameter(s[0],l),ne.parameter(s[1],l),o=l[s[0]],a=l[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,l),o=l[u]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,l),a=l[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:ne.raise("invalid mipmap type")}v&&!("min"in t)&&(e.minFilter=or)}}function W(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Kn,e.wrapS),n.texParameteri(t,$n,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(cr,e.mipmapHint),n.generateMipmap(t))}var Y=0,H={},q=i.maxTextureUnits,X=Array(q).map((function(){return null}));function K(e){k.call(this),this.mipmask=0,this.internalformat=mn,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new V,u.profile&&(this.stats={size:0})}function $(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function Q(){var e=X[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function J(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),X[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete H[e.id],s.textureCount--}function ee(e,t){var r=new K(pn);function o(e,t){var n=r.texInfo;V.call(n);var a=U();return"number"===typeof e?j(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),Z(n,e),F(a,e)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,C(r,a),ne.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,$(r),B(a,pn),W(n,pn),Q(),G(a),u.profile&&(r.stats.size=qr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=w[n.magFilter],o.min=_[n.minFilter],o.wrapS=E[n.wrapS],o.wrapT=E[n.wrapT],o}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,c=D();return C(c,r),c.width=0,c.height=0,T(c,e),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,ne(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(c.data||c.element||c.needsCopy,"missing image data"),$(r),P(c,pn,a,s,u),Q(),R(c),o}function c(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,$(r);for(var s=0;r.mipmask>>s;++s){var c=i>>s,l=a>>s;if(!c||!l)break;n.texImage2D(pn,s,r.format,c,l,0,r.format,r.type,null)}return Q(),u.profile&&(r.stats.size=qr(r.internalformat,r.type,i,a,!1,!1)),o}return H[r.id]=r,s.textureCount++,o(e,t),o.subimage=a,o.resize=c,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(e,t,r,o,a,c){var l=new K(vn);H[l.id]=l,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,o,a){var s,c=l.texInfo;for(V.call(c),s=0;s<6;++s)f[s]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],o),F(f[5],a);else if(Z(c,e),M(l,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),C(f[s],l),F(f[s],h[s])}else for(s=0;s<6;++s)F(f[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)j(f[s],p,p)}for(C(l,f[0]),i.npotTextureCube||ne(dn(l.width)&&dn(l.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,ne.textureCube(l,c,f,i),l.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,$(l),s=0;s<6;++s)B(f[s],gn+s);for(W(c,vn),Q(),u.profile&&(l.stats.size=qr(l.internalformat,l.type,d.width,d.height,c.genMipmaps,!0)),d.format=b[l.internalformat],d.type=x[l.type],d.mag=w[c.magFilter],d.min=_[c.minFilter],d.wrapS=E[c.wrapS],d.wrapT=E[c.wrapT],s=0;s<6;++s)G(f[s]);return d}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=D();return C(u,l),u.width=0,u.height=0,T(u,t),u.width=u.width||(l.width>>s)-o,u.height=u.height||(l.height>>s)-a,ne(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&a>=0&&o+u.width<=l.width&&a+u.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),$(l),P(u,gn+e,o,a,s),Q(),R(u),d}function p(e){var t=0|e;if(t!==l.width){d.width=l.width=t,d.height=l.height=t,$(l);for(var r=0;r<6;++r)for(var i=0;l.mipmask>>i;++i)n.texImage2D(gn+r,i,l.format,t>>i,t>>i,0,l.format,l.type,null);return Q(),u.profile&&(l.stats.size=qr(l.internalformat,l.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,o,a,c),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=l,u.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d}function re(){for(var e=0;e<q;++e)n.activeTexture(br+e),n.bindTexture(pn,null),X[e]=null;St(H).forEach(J),s.cubeCount=0,s.textureCount=0}function ie(){for(var e=0;e<q;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null)}St(H).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(gn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);W(e.texInfo,e.target)}))}function oe(){for(var e=0;e<q;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(vn,null)}}return t(K.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<q;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=e,t=r;break}t>=q&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&J(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(H).forEach((function(t){e+=H[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:oe}}Pr[_n]=2,Pr[En]=2,Pr[Sn]=2,Pr[Tn]=4,Pr[Dn]=.5,Pr[Rn]=.5,Pr[Ln]=1,Pr[jn]=1,Pr[Fn]=.5,Pr[Bn]=1,Pr[zn]=1,Pr[Un]=.5,Pr[Gn]=.25,Pr[Vn]=.5,Pr[Zn]=.25,Pr[Wn]=.5;var Kr=36161,$r=32854,Qr=32855,Jr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function ui(e,t,n){return si[e]*t*n}si[$r]=2,si[Qr]=2,si[Jr]=2,si[ei]=2,si[ti]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var ci=function(e,t,n,r,i){var o={rgba4:$r,rgb565:Jr,"rgb5 a1":Qr,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(o.srgba=ri),t.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),t.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=$r,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Kr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var l=new c(e.createRenderbuffer());function f(t,r){var s=0,u=0,c=$r;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(ne.parameter(d.format,o,"invalid renderbuffer format"),c=o[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||u!==l.height||c!==l.format)return f.width=l.width=s,f.height=l.height=u,l.format=c,e.bindRenderbuffer(Kr,l.renderbuffer),e.renderbufferStorage(Kr,c,s,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ui(l.format,l.width,l.height)),f.format=a[l.format],f}function d(t,r){var o=0|t,a=0|r||o;return o===l.width&&a===l.height||(ne(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=o,f.height=l.height=a,e.bindRenderbuffer(Kr,l.renderbuffer),e.renderbufferStorage(Kr,l.format,o,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ui(l.format,l.width,l.height))),f}return u[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=l,i.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f}function d(){St(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Kr,t.renderbuffer),e.renderbufferStorage(Kr,t.format,t.width,t.height)})),e.bindRenderbuffer(Kr,null)}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){St(u).forEach(l)},restore:d}},li=36160,fi=36161,di=3553,hi=34069,pi=36064,vi=36096,gi=36128,mi=33306,yi=36053,bi=36054,xi=36055,wi=36057,_i=36061,Ei=36193,Si=5121,ki=5126,Ci=6407,Mi=6408,Oi=6402,Ni=[Ci,Mi],Ti=[];Ti[Mi]=4,Ti[Ci]=3;var Ai=[];Ai[Si]=1,Ai[ki]=4,Ai[Ei]=2;var Pi=33189,Ii=36168,Di=34041,Ri=[32854,32855,36194,35907,34842,34843,34836],Li={};function ji(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ne(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(li,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(li,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=di,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ne(t===di)):"textureCube"===o?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function g(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(di,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(fi,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function _(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function E(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function S(t){var n;e.bindFramebuffer(li,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(li,pi+n,di,null,0);e.framebufferTexture2D(li,mi,di,null,0),e.framebufferTexture2D(li,vi,di,null,0),e.framebufferTexture2D(li,gi,di,null,0),p(vi,t.depthAttachment),p(gi,t.stencilAttachment),p(mi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(li);e.isContextLost()||o===yi||ne.raise("framebuffer configuration not supported, status = "+Li[o]),e.bindFramebuffer(li,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function k(e,i){var o=new w;function f(e,t){var i;ne(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,w="rgba",E="uint8",k=1,C=null,M=null,O=null,N=!1;if("number"===typeof e)a=0|e,d=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var T=e;if("shape"in T){var A=T.shape;ne(Array.isArray(A)&&A.length>=2,"invalid shape for framebuffer"),a=A[0],d=A[1]}else"radius"in T&&(a=d=T.radius),"width"in T&&(a=T.width),"height"in T&&(d=T.height);("color"in T||"colors"in T)&&(b=T.color||T.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in T&&(k=0|T.colorCount,ne(k>0,"invalid color buffer count")),"colorTexture"in T&&(x=!!T.colorTexture,w="rgba4"),"colorType"in T&&(E=T.colorType,x?(ne(n.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==E&&"float32"!==E||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(E,l,"invalid color type")),"colorFormat"in T&&(w=T.colorFormat,u.indexOf(w)>=0?x=!0:c.indexOf(w)>=0?x=!1:x?ne.oneOf(T.colorFormat,u,"invalid color format for texture"):ne.oneOf(T.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in T||"depthStencilTexture"in T)&&(N=!(!T.depthTexture&&!T.depthStencilTexture),ne(!N||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in T&&("boolean"===typeof T.depth?p=T.depth:(C=T.depth,y=!1)),"stencil"in T&&("boolean"===typeof T.stencil?y=T.stencil:(M=T.stencil,p=!1)),"depthStencil"in T&&("boolean"===typeof T.depthStencil?p=y=T.depthStencil:(O=T.depthStencil,p=!1,y=!1))}else a=d=1;var P=null,I=null,D=null,R=null;if(Array.isArray(b))P=b.map(v);else if(b)P=[v(b)];else for(P=new Array(k),i=0;i<k;++i)P[i]=g(a,d,x,w,E);ne(n.webgl_draw_buffers||P.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(P.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||P[0].width,d=d||P[0].height,C?I=v(C):p&&!y&&(I=g(a,d,N,"depth","uint32")),M?D=v(M):y&&!p&&(D=g(a,d,!1,"stencil","uint8")),O?R=v(O):!C&&!M&&y&&p&&(R=g(a,d,N,"depth stencil","depth stencil")),ne(!!C+!!M+!!O<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(i=0;i<P.length;++i)if(h(P[i],a,d),ne(!P[i]||P[i].texture&&Ni.indexOf(P[i].texture._texture.format)>=0||P[i].renderbuffer&&Ri.indexOf(P[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),P[i]&&P[i].texture){var j=Ti[P[i].texture._texture.format]*Ai[P[i].texture._texture.type];null===L?L=j:ne(L===j,"all color attachments much have the same number of bits per pixel.")}return h(I,a,d),ne(!I||I.texture&&I.texture._texture.format===Oi||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Pi,"invalid depth attachment for framebuffer object"),h(D,a,d),ne(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Ii,"invalid stencil attachment for framebuffer object"),h(R,a,d),ne(!R||R.texture&&R.texture._texture.format===Di||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Di,"invalid depth-stencil attachment for framebuffer object"),_(o),o.width=a,o.height=d,o.colorAttachments=P,o.depthAttachment=I,o.stencilAttachment=D,o.depthStencilAttachment=R,f.color=P.map(m),f.depth=m(I),f.stencil=m(D),f.depthStencil=m(R),f.width=o.width,f.height=o.height,S(o),f}function d(e,t){ne(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,S(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:o,destroy:function(){E(o),_(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function C(e){var o=Array(6);function a(e){var r;ne(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},d=0,h=null,p="rgba",v="uint8",g=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&ne(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(g=0|m.colorCount,ne(g>0,"invalid color buffer count")),"colorType"in m&&(ne.oneOf(m.colorType,l,"invalid color type"),v=m.colorType),"colorFormat"in m&&(p=m.colorFormat,ne.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(f.depth=m.depth),"stencil"in m&&(f.stencil=m.stencil),"depthStencil"in m&&(f.depthStencil=m.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(g);var b={radius:d,format:p,type:v};for(r=0;r<g;++r)c[r]=i.createCube(b)}for(f.color=Array(c.length),r=0;r<c.length;++r){var x=c[r];ne("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,ne(x.width===d&&x.height===d,"invalid cube map shape"),f.color[r]={target:hi,data:c[r]}}for(r=0;r<6;++r){for(var w=0;w<c.length;++w)f.color[w].target=hi+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=k(f)}return t(a,{width:d,height:d,color:c})}function c(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:o,resize:c,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function M(){s.cur=null,s.next=null,s.dirty=!0,St(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:k,createCube:C,clear:function(){St(x).forEach(E)},restore:M})}Li[yi]="complete",Li[bi]="incomplete attachment",Li[wi]="incomplete dimensions",Li[xi]="incomplete, missing attachment",Li[_i]="unsupported";var Fi=5126,Bi=34962;function zi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Fi,this.offset=0,this.stride=0,this.divisor=0}function Ui(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new zi;var c=0,l={},f={Record:zi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:h()?x:function(){},createVAO:w,getVAO:v,destroyBuffer:d,setVAO:h()?g:m,clear:h()?y:function(){}};function d(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function v(e){return"function"===typeof e&&e._vao?e._vao:null}function g(e){if(e!==f.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function m(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}}function y(){St(l).forEach((function(e){e.destroy()}))}function b(){this.id=++c,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}function x(){h()&&St(l).forEach((function(e){e.refresh()}))}function w(t){var r=new b;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var c=0;c<t.length;++c){var l,f=t[c],d=u[c]=new zi,h=f.data||f;Array.isArray(h)||e(h)||Et(h)?(r.buffers[c]&&(l=r.buffers[c],e(h)&&l._buffer.byteLength>=h.byteLength?l.subdata(h):(l.destroy(),r.buffers[c]=null)),r.buffers[c]||(l=r.buffers[c]=o.create(f,Bi,!1,!0)),d.buffer=o.getBuffer(l),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[c]=1):o.getBuffer(f)?(d.buffer=o.getBuffer(f),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(f.buffer)?(d.buffer=o.getBuffer(f.buffer),d.size=0|(+f.size||d.buffer.dimension),d.normalized=!!f.normalized||!1,"type"in f?(ne.parameter(f.type,It,"invalid buffer type"),d.type=It[f.type]):d.type=d.buffer.dtype,d.offset=0|(f.offset||0),d.stride=0|(f.stride||0),d.divisor=0|(f.divisor||0),d.state=1,ne(d.size>=1&&d.size<=4,"size must be between 1 and 4"),ne(d.offset>=0,"invalid offset"),ne(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),ne(d.divisor>=0,"divisor must be positive"),ne(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(ne(c>0,"first attribute must not be a constant"),d.x=+f.x||0,d.y=+f.y||0,d.z=+f.z||0,d.w=+f.w||0,d.state=2):ne(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return b.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Bi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},b.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=h();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}l[this.id]&&(delete l[this.id],i.vaoCount-=1)},f}var Gi=35632,Vi=35633,Zi=35718,Wi=35721;function Yi(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,i){var s=t===Gi?o:a,u=s[r];if(!u){var c=n.str(r);u=e.createShader(t),e.shaderSource(u,c),e.compileShader(u),ne.shaderError(e,u,c,t,i),s[r]=u}return u}var l={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,l,f=c(Gi,t.fragId),d=c(Vi,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var v=e.getProgramParameter(h,Zi);i.profile&&(t.stats.uniformsCount=v);var g=t.uniforms;for(a=0;a<v;++a)if(l=e.getActiveUniform(h,a))if(l.size>1)for(var m=0;m<l.size;++m){var y=l.name.replace("[0]","["+m+"]");u(g,new s(y,n.id(y),e.getUniformLocation(h,y),l))}else u(g,new s(l.name,n.id(l.name),e.getUniformLocation(h,l.name),l));var b=e.getProgramParameter(h,Wi);i.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(l=e.getActiveAttrib(h,a))&&u(x,new s(l.name,n.id(l.name),e.getAttribLocation(h,l.name),l))}function v(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(o).forEach(t),o={},St(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,l={},r.shaderCount=0},program:function(n,i,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(i>=0,"missing fragment shader",s);var c=l[i];c||(c=l[i]={});var d=c[n];if(d&&(d.refCount++,!u))return d;var v=new h(i,n);return r.shaderCount++,p(v,s,u),d||(c[n]=v),f.push(v),t(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}c[v.vertId].refCount<=0&&(e.deleteShader(a[v.vertId]),delete a[v.vertId],delete l[v.fragId][v.vertId]),Object.keys(l[v.fragId]).length||(e.deleteShader(o[v.fragId]),delete o[v.fragId],delete l[v.fragId])}})},restore:v,shader:c,frag:-1,vert:-1}}var Hi=6408,qi=5121,Xi=3333,Ki=5126;function $i(t,n,r,i,o,a,s){function u(u){var c;null===n.next?(ne(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=qi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(c===qi||c===Ki,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===Ki&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(c===qi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),l=0|u.x,f=0|u.y,ne(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||i.framebufferWidth-l),h=0|(u.height||i.framebufferHeight-f),p=u.data||null),p&&(c===qi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===Ki&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+l<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=d*h*4;return p||(c===qi?p=new Uint8Array(v):c===Ki&&(p=p||new Float32Array(v))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=v,"data buffer for regl.read() too small"),t.pixelStorei(Xi,4),t.readPixels(l,f,d,h,Hi,c,p),p}function c(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function l(e){return e&&"framebuffer"in e?c(e):u(e)}return l}function Qi(e){return Array.prototype.slice.call(e)}function Ji(e){return Qi(e).join("")}function eo(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o}function o(){var n=[];function r(){n.push.apply(n,Qi(arguments))}var i=[];function o(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Qi(arguments)),n.push(";")),t}return t(r,{def:o,toString:function(){return Ji([i.length>0?"var "+i.join(",")+";":"",Ji(n)])}})}function a(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,Qi(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var e=Ji(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,Qi(arguments)),this},else:function(){return r.apply(r,Qi(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Ji(["if(",e,"){",i(),"}",t])}})}var u=o(),c={};function l(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),u=s.toString;return c[e]=t(s,{arg:i,toString:function(){return Ji(["function(",r.join(),"){",u(),"}"])}})}function f(){var e=['"use strict";',u,"return {"];Object.keys(c).forEach((function(t){e.push('"',t,'":',c[t].toString(),",")})),e.push("}");var t=Ji(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:i,block:o,proc:l,scope:a,cond:s,compile:f}}var to="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,uo=3,co=4,lo=5,fo=6,ho="dither",po="blend.enable",vo="blend.color",go="blend.equation",mo="blend.func",yo="depth.enable",bo="depth.func",xo="depth.range",wo="depth.mask",_o="colorMask",Eo="cull.enable",So="cull.face",ko="frontFace",Co="lineWidth",Mo="polygonOffset.enable",Oo="polygonOffset.offset",No="sample.alpha",To="sample.enable",Ao="sample.coverage",Po="stencil.enable",Io="stencil.mask",Do="stencil.func",Ro="stencil.opFront",Lo="stencil.opBack",jo="scissor.enable",Fo="scissor.box",Bo="viewport",zo="profile",Uo="framebuffer",Go="vert",Vo="frag",Zo="elements",Wo="primitive",Yo="count",Ho="offset",qo="instances",Xo="vao",Ko="Width",$o="Height",Qo=Uo+Ko,Jo=Uo+$o,ea=Bo+Ko,ta=Bo+$o,na="drawingBuffer",ra=na+Ko,ia=na+$o,oa=[mo,go,Do,Ro,Lo,Ao,Bo,Fo,Oo],aa=34962,sa=34963,ua=3553,ca=34067,la=2884,fa=3042,da=3024,ha=2960,pa=2929,va=3089,ga=32823,ma=32926,ya=32928,ba=5126,xa=35664,wa=35665,_a=35666,Ea=5124,Sa=35667,ka=35668,Ca=35669,Ma=35670,Oa=35671,Na=35672,Ta=35673,Aa=35674,Pa=35675,Ia=35676,Da=35678,Ra=35680,La=4,ja=1028,Fa=1029,Ba=2304,za=2305,Ua=32775,Ga=32776,Va=519,Za=7680,Wa=0,Ya=1,Ha=32774,qa=513,Xa=36160,Ka=36064,$a={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qa=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ja={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Ba,ccw:za};function rs(t){return Array.isArray(t)||e(t)||Et(t)}function is(e){return e.sort((function(e,t){return e===Bo?-1:t===Bo?1:e<t?-1:1}))}function os(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new os(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===oo){var r=e.data.length;return new os(!0,r>=1,r>=2,t)}if(n===co){var i=e.data;return new os(i.thisDep,i.contextDep,i.propDep,t)}if(n===lo)return new os(!1,!1,!1,t);if(n===fo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var c=e.data[u];if(c.type===ao)s=!0;else if(c.type===so)a=!0;else if(c.type===uo)o=!0;else if(c.type===oo){o=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(s=!0)}else c.type===co&&(o=o||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new os(o,a,s,t)}return new os(n===uo,n===so,n===ao,t)}var cs=new os(!1,!1,!1,(function(){}));function ls(e,n,r,i,o,a,s,u,c,l,f,d,h,p,v){var g=l.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Ua,m.max=Ga);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:v.profile},w={},_=[],E={},S={};function k(e){return e.replace(".","_")}function C(e,t,n){var r=k(e);_.push(e),w[r]=x[r]=!!n,E[r]=t}function M(e,t,n){var r=k(e);_.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,S[r]=t}C(ho,da),C(po,fa),M(vo,"blendColor",[0,0,0,0]),M(go,"blendEquationSeparate",[Ha,Ha]),M(mo,"blendFuncSeparate",[Ya,Wa,Ya,Wa]),C(yo,pa,!0),M(bo,"depthFunc",qa),M(xo,"depthRange",[0,1]),M(wo,"depthMask",!0),M(_o,_o,[!0,!0,!0,!0]),C(Eo,la),M(So,"cullFace",Fa),M(ko,ko,za),M(Co,Co,1),C(Mo,ga),M(Oo,"polygonOffset",[0,0]),C(No,ma),C(To,ya),M(Ao,"sampleCoverage",[1,!1]),C(Po,ha),M(Io,"stencilMask",-1),M(Do,"stencilFunc",[Va,0,-1]),M(Ro,"stencilOpSeparate",[ja,Za,Za,Za]),M(Lo,"stencilOpSeparate",[Fa,Za,Za,Za]),C(jo,va),M(Fo,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),M(Bo,Bo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var O={gl:e,context:h,strings:n,next:w,current:x,draw:d,elements:a,buffer:o,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},N={primTypes:Yt,compareFuncs:Ja,blendFuncs:$a,blendEquations:m,stencilOps:es,glTypes:It,orientationType:ns};ne.optional((function(){O.isArrayLike=fn})),b&&(N.backBuffer=[Fa],N.drawBuffer=Ce(i.maxDrawbuffers,(function(e){return 0===e?[0]:Ce(e,(function(e){return Ka+e}))})));var T=0;function A(){var e=eo(),t=e.link,r=e.global;e.id=T++,e.batchId="0";var i=t(O),o=e.shared={props:"a0"};Object.keys(O).forEach((function(e){o[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},N.invalidBlendCombinations=Qa}));var a=e.next={},s=e.current={};Object.keys(S).forEach((function(e){Array.isArray(x[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(N).forEach((function(e){u[e]=r.def(JSON.stringify(N[e]))})),e.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case uo:return n.def("this",r.data);case co:return r.data.append(e,n),r.data.ref;case lo:return r.data.toString();case fo:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in c)return c[r];var i=l.scope[r];return i||(i=l.scope[r]=new g),c[r]=t(i)},e}function P(e){var t,n=e.static,r=e.dynamic;if(zo in n){var i=!!n[zo];(t=ss((function(e,t){return i}))).enable=i}else if(zo in r){var o=r[zo];t=us(o,(function(e,t){return e.invoke(t,o)}))}return t}function I(e,t){var n=e.static,r=e.dynamic;if(Uo in n){var i=n[Uo];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ss((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Qo,n+".width"),t.set(o,"."+Jo,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Qo,r+"."+ra),t.set(r,"."+Jo,r+"."+ia),"null"}))}if(Uo in r){var o=r[Uo];return us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Qo,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+Jo,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function D(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];ne.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,c=0|o.x,l=0|o.y;return"width"in o?(a=0|o.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new os(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Qo,"-",c));var i=s;return"height"in o||(i=t.def(n,".",Jo,"-",l)),[c,l,r,i]}))}if(e in i){var f=i[e],d=us(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Qo,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Jo,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new os(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Qo),t.def(n,".",Jo)]})):null}var a=o(Bo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:o(Fo)}}function R(e,t){var n=e.static;if("string"===typeof n[Vo]&&"string"===typeof n[Go]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)ne("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function L(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in o){var a=o[e];return us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(Vo),c=a(Go),l=null;return as(u)&&as(c)?(l=f.program(c.id,u.id,null,r),s=ss((function(e,t){return e.link(l)}))):s=new os(u&&u.thisDep||c&&c.thisDep,u&&u.contextDep||c&&c.contextDep,u&&u.propDep||c&&c.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Vo);var i=r+".program("+(c?c.append(e,t):t.def(r,".",Go))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:c,progVar:s,program:l}}function j(e,t){var n=e.static,r=e.dynamic;function i(){if(Zo in n){var e=n[Zo];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var i=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return i.value=e,i}if(Zo in r){var o=r[Zo];return us(o,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),c=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(c.else,"!"+a+"||"+s,"invalid elements")})),t.entry(c),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Wo in n){var e=n[Wo];return ne.commandParameter(e,Yt,"invalid primitve",t.commandStr),ss((function(t,n){return Yt[e]}))}if(Wo in r){var i=r[Wo];return us(i,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Yt))})),t.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return La})):new os(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",La)})):null}function u(e,i){if(e in n){var a=0|n[e];return ne.command(!i||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return i&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return i&&o?ss((function(e,t){return e.OFFSET="0",0})):null}var c=u(Ho,!0);function l(){if(Yo in n){var e=0|n[Yo];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Yo in r){var i=r[Yo];return us(i,(function(e,t){var n=e.invoke(t,i);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return c?new os(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||c.thisDep,o.contextDep||c.contextDep,o.propDep||c.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:l(),instances:u(qo,!1),offset:c}}function F(e,t){var n=e.static,r=e.dynamic,o={};return _.forEach((function(e){var a=k(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=ss((function(){return s}))}else if(e in r){var u=r[e];o[a]=us(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case Eo:case po:case ho:case Po:case yo:case jo:case Mo:case No:case To:case wo:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case bo:return s((function(n){return ne.commandParameter(n,Ja,"invalid "+e,t.commandStr),Ja[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Ja))})),n.def(i,"[",r,"]")}));case xo:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case mo:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,$a,a+".srcRGB",t.commandStr),ne.commandParameter(r,$a,a+".srcAlpha",t.commandStr),ne.commandParameter(i,$a,a+".dstRGB",t.commandStr),ne.commandParameter(o,$a,a+".dstAlpha",t.commandStr),ne.command(-1===Qa.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[$a[n],$a[i],$a[r],$a[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ne.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys($a))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),c=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),c,n.def(i,"[",o("dst","Alpha"),"]")]}));case go:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,m,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case vo:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Ce(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Ce(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Io:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Do:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ne.commandParameter(r,Ja,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(o,"number",e+".mask",t.commandStr),[Ja[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Za),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Ro:case Lo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(i,es,e+".zfail",t.commandStr),ne.commandParameter(o,es,e+".zpass",t.commandStr),[e===Lo?Fa:ja,es[r],es[i],es[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ne.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(es))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Za)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Lo?Fa:ja,o("fail"),o("zfail"),o("zpass")]}));case Oo:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case So:return s((function(e){var n=0;return"front"===e?n=ja:"back"===e&&(n=Fa),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ja,":",Fa)}));case Co:return s((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case ko:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Ba+":"+za)}));case _o:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Ce(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Ao:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),o}function B(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=ss((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(o.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(o)?r=ss((function(t){return t.global.def("[",Ce(o.length,(function(n){return ne.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),i}function z(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=n.id(e),u=new g;if(rs(i))u.state=ro,u.buffer=o.getBuffer(o.create(i,aa,!1,!0)),u.type=0;else{var c=o.getBuffer(i);if(c)u.state=ro,u.buffer=c,u.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var l=i.constant;u.buffer="null",u.state=io,"number"===typeof l?u.x=l:(ne.command(fn(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),to.forEach((function(e,t){t<l.length&&(u[e]=l[t])})))}else{c=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),ne.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,v=0;"type"in i&&(ne.commandParameter(i.type,It,"invalid type for attribute "+e,t.commandStr),v=It[i.type]);var m=0|i.divisor;"divisor"in i&&(ne.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=c,u.state=ro,u.size=h,u.normalized=p,u.type=v||c.dtype,u.offset=f,u.stride=d,u.divisor=m}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var c={isStream:r.def(!1)},l=new g;l.state=ro,Object.keys(l).forEach((function(e){c[e]=r.def(""+l[e])}));var f=c.buffer,d=c.type;function h(e){r(c[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",c.isStream,"=true;",f,"=",u,".createStream(",aa,",",i,");",d,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",io,";","if(typeof "+i+'.constant === "number"){',c[to[0]],"=",i,".constant;",to.slice(1).map((function(e){return c[e]})).join("="),"=0;","}else{",to.map((function(e,t){return c[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",aa,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",c.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",f,");","}"),c}a[e]=us(t,n)})),a}function U(e,t){var n=e.static,r=e.dynamic;if(Xo in n){var i=n[Xo];return null!==i&&null===l.getVAO(i)&&(i=l.createVAO(i)),ss((function(e){return e.link(l.getVAO(i))}))}if(Xo in r){var o=r[Xo];return us(o,(function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function G(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function V(e,t,n,i,o){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Uo,Go,Vo,Zo,Wo,Ho,Yo,qo,zo,Xo].concat(_);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=R(e,t),c=I(e,o),f=D(e,c,o),d=j(e,o),h=F(e,o),p=L(e,o,u);function v(e){var t=f[e];t&&(h[e]=t)}v(Bo),v(k(Fo));var g=Object.keys(h).length>0,m={framebuffer:c,draw:d,shader:p,state:h,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(m.profile=P(e,o),m.uniforms=B(n,o),m.drawVAO=m.scopeVAO=U(e,o),!m.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&b.length>0){var x=l.getVAO(l.createVAO(b));m.drawVAO=new os(null,null,null,(function(e,t){return e.link(x)})),m.useVAO=!0}}return u?m.useVAO=!0:m.attributes=z(t,o),m.context=G(i,o),m}function Z(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(o){t.save(r,"."+o);var a=n[o].append(e,t);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),t(i)}function W(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,c=e.constants,l=c.drawBuffer,f=c.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Xa,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Xa,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function Y(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,c=e.cond(s,".dirty");_.forEach((function(t){var r,l,f=k(t);if(!(f in n.state))if(f in a){r=a[f],l=o[f];var d=Ce(x[f].length,(function(e){return c.def(r,"[",e,"]")}));c(e.cond(d.map((function(e,t){return e+"!=="+l+"["+t+"]"})).join("||")).then(i,".",S[f],"(",d,");",d.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";"))}else{r=c.def(u,".",f);var h=e.cond(r,"!==",s,".",f);c(h),f in E?h(e.cond(r).then(i,".enable(",E[f],");").else(i,".disable(",E[f],");"),s,".",f,"=",r,";"):h(i,".",S[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function H(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var c=u.append(e,t);if(E[i]){var l=E[i];as(u)?t(s,c?".enable(":".disable(",l,");"):t(e.cond(c).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(a,".",i,"=",c,";")}else if(fn(c)){var f=o[i];t(s,".",S[i],"(",c,");",c.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",S[i],"(",c,");",a,".",i,"=",c,";")}}))}function q(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,i){var o,a,s,u=e.shared,c=e.stats,l=u.current,f=u.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){e(o=t.def(),"=",h(),";"),"string"===typeof i?e(c,".count+=",i,";"):e(c,".count++;"),p&&(r?e(a=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",c,");"))}function g(e){e(c,".cpuTime+=",h(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function m(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(d){if(as(d))return void(d.enable?(v(t),g(t.exit),m("true")):m("false"));m(s=d.append(e,t))}else s=t.def(l,".profile");var y=e.block();v(y),t("if(",s,"){",y,"}");var b=e.block();g(b),t.exit("if(",s,"){",b,"}")}function K(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case xa:case Sa:case Oa:return 2;case wa:case ka:case Na:return 3;case _a:case Ca:case Ta:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),c=i.state,l=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",d.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",aa,",",l,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",d.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),y){var c=i.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",to.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",to.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}c===ro?h():c===io?p():(t("if(",c,"===",ro,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var o,u=r.name,c=n.attributes[u];if(c){if(!i(c))return;o=c.append(e,t)}else{if(!i(cs))return;var l=e.scopeAttrib(u);ne.optional((function(){e.assert(t,l+".state","missing attribute "+u)})),o={},Object.keys(new g).forEach((function(e){o[e]=t.def(l,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function $(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,c=0;c<i.length;++c){var l,f=i[c],d=f.name,h=f.info.type,p=r.uniforms[d],v=e.link(f)+".location";if(p){if(!o(p))continue;if(as(p)){var g=p.value;if(ne.command(null!==g&&"undefined"!==typeof g,'missing uniform "'+d+'"',e.commandStr),h===Da||h===Ra){ne.command("function"===typeof g&&(h===Da&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||h===Ra&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+d,e.commandStr);var m=e.link(g._texture||g.color[0]._texture);t(u,".uniform1i(",v,",",m+".bind());"),t.exit(m,".unbind();")}else if(h===Aa||h===Pa||h===Ia){ne.optional((function(){ne.command(fn(g),"invalid matrix for uniform "+d,e.commandStr),ne.command(h===Aa&&4===g.length||h===Pa&&9===g.length||h===Ia&&16===g.length,"invalid length for matrix uniform "+d,e.commandStr)}));var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),b=2;h===Pa?b=3:h===Ia&&(b=4),t(u,".uniformMatrix",b,"fv(",v,",false,",y,");")}else{switch(h){case ba:ne.commandType(g,"number","uniform "+d,e.commandStr),a="1f";break;case xa:ne.command(fn(g)&&2===g.length,"uniform "+d,e.commandStr),a="2f";break;case wa:ne.command(fn(g)&&3===g.length,"uniform "+d,e.commandStr),a="3f";break;case _a:ne.command(fn(g)&&4===g.length,"uniform "+d,e.commandStr),a="4f";break;case Ma:ne.commandType(g,"boolean","uniform "+d,e.commandStr),a="1i";break;case Ea:ne.commandType(g,"number","uniform "+d,e.commandStr),a="1i";break;case Oa:case Sa:ne.command(fn(g)&&2===g.length,"uniform "+d,e.commandStr),a="2i";break;case Na:case ka:ne.command(fn(g)&&3===g.length,"uniform "+d,e.commandStr),a="3i";break;case Ta:case Ca:ne.command(fn(g)&&4===g.length,"uniform "+d,e.commandStr),a="4i"}t(u,".uniform",a,"(",v,",",fn(g)?Array.prototype.slice.call(g):g,");")}continue}l=p.append(e,t)}else{if(!o(cs))continue;l=t.def(s.uniforms,"[",n.id(d),"]")}h===Da?(ne(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):h===Ra&&(ne(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ne(!Array.isArray(l),"must not specify an array type for uniform"),n("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(l)?ne(l.length===t,"must have length "+t):n(s.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){ne(!Array.isArray(l),"must not specify a value type"),n("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case Ea:r("number");break;case Sa:i(2,"number");break;case ka:i(3,"number");break;case Ca:i(4,"number");break;case ba:r("number");break;case xa:i(2,"number");break;case wa:i(3,"number");break;case _a:i(4,"number");break;case Ma:r("boolean");break;case Oa:i(2,"boolean");break;case Na:i(3,"boolean");break;case Ta:i(4,"boolean");break;case Aa:i(4,"number");break;case Pa:i(9,"number");break;case Ia:i(16,"number");break;case Da:o(ua);break;case Ra:o(ca)}}));var x=1;switch(h){case Da:case Ra:var w=t.def(l,"._texture");t(u,".uniform1i(",v,",",w,".bind());"),t.exit(w,".unbind();");continue;case Ea:case Ma:a="1i";break;case Sa:case Oa:a="2i",x=2;break;case ka:case Na:a="3i",x=3;break;case Ca:case Ta:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case wa:a="3f",x=3;break;case _a:a="4f",x=4;break;case Aa:a="Matrix2fv";break;case Pa:a="Matrix3fv";break;case Ia:a="Matrix4fv"}if(t(u,".uniform",a,"(",v,","),"M"===a.charAt(0)){var _=Math.pow(h-Aa+2,2),E=e.global.def("new Float32Array(",_,")");Array.isArray(l)?t("false,(",Ce(_,(function(e){return E+"["+e+"]="+l[e]})),",",E,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",Ce(_,(function(e){return E+"["+e+"]="+l+"["+e+"]"})),",",E,")")}else x>1?t(Ce(x,(function(e){return Array.isArray(l)?l[e]:l+"["+e+"]"}))):(ne(!Array.isArray(l),"uniform value must not be an array"),t(l));t(");")}}function Q(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var i,u=s.elements,c=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),i=u.append(e,c)):i=c.def(a,".",Zo),i&&c("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function c(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ne.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Yo),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var l=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var d,h,p=f(Wo),v=f(Ho),g=c();if("number"===typeof g){if(0===g)return}else n("if(",g,"){"),n.exit("}");y&&(d=f(qo),h=e.instancing);var m=l+".type",b=s.elements&&as(s.elements);function x(){function e(){n(h,".drawElementsInstancedANGLE(",[p,g,m,v+"<<(("+m+"-"+no+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,v,g,d],");")}l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(o+".drawElements("+[p,g,m,v+"<<(("+m+"-"+no+")>>1)"]+");")}function t(){n(o+".drawArrays("+[p,v,g]+");")}l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),w(),n("}")):x():w()}function J(e,t,n,r,i){var o=A(),a=o.proc("body",i);return ne.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){q(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,n,r.attributes,(function(){return!0}))),$(e,t,n,r.uniforms,(function(){return!0})),Q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);q(e,n),Z(e,n,t.context),W(e,n,t.framebuffer),Y(e,n,t),H(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link((function(n){return J(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",q(e,t),K(e,t,n,r.attributes,i),$(e,t,n,r.uniforms,i),Q(e,t,t,n)}function ie(e,t,n,r){q(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var c=e.scope(),l=e.scope();function f(e){return e.contextDep&&i||e.propDep}function d(e){return!f(e)}if(t(c.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",l,"}",c.exit),n.needsContext&&Z(e,l,n.context),n.needsFramebuffer&&W(e,l,n.framebuffer),H(e,l,n.state,f),n.profile&&f(n.profile)&&X(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):c(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(c(e.shared.vao,".setVAO(null);"),K(e,c,n,r.attributes,d),K(e,l,n,r.attributes,f)),$(e,c,n,r.uniforms,d),$(e,l,n,r.uniforms,f),Q(e,c,l,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,l),v=l.def(p,".id"),g=l.def(h,"[",v,"]");l(e.shared.gl,".useProgram(",p,".program);","if(!",g,"){",g,"=",h,"[",v,"]=",e.link((function(t){return J(re,e,n,t,2)})),"(",p,");}",g,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",q(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(Z(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||W(e,n,o)):W(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Y(e,n,t),H(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)ie(e,n,t,null);else{var c=u.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),d=n.def(l,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",l,"[",f,"]=",e.link((function(n){return J(ie,e,t,n,2)})),"(",c,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}Z(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),is(Object.keys(t.state)).forEach((function(n){var o=t.state[n].append(e,r);fn(o)?o.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,o)})),X(e,r,t,!0,!0),[Zo,Ho,Yo,qo,Wo].forEach((function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))})),Object.keys(t.uniforms).forEach((function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new g).forEach((function(e){r.set(o,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Go),a(Vo),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,c=e.global.def("{}");o.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var o=us(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(c,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(co,{thisDep:a,contextDep:s,propDep:u,ref:c,append:l}),delete t.static[n]}function l(e,t){o.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var o=e.invoke(t,i);t(c,".",n,"=",o,";")}}))}}function ce(e,n,r,i,o){var a=A();a.stats=a.link(o),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),oa.forEach((function(t){ue(a,e,t)}));var s=V(e,n,r,i,a);return te(a,s),ae(a,s),oe(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=A(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,c=s.next,l=s.current;o(l,".dirty=false;"),W(e,t),W(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",aa,",",d,".buffer.buffer);",u,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(E).forEach((function(r){var i=E[r],a=o.def(c,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",l,".",r,"=",a,";"),n(s),t("if(",a,"!==",l,".",r,"){",s,"}")})),Object.keys(S).forEach((function(r){var i,a,s=S[r],f=x[r],d=e.block();if(d(u,".",s,"("),fn(f)){var h=f.length;i=e.global.def(c,".",r),a=e.global.def(l,".",r),d(Ce(h,(function(e){return i+"["+e+"]"})),");",Ce(h,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Ce(h,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",d,"}")}else i=o.def(c,".",r),a=o.def(l,".",r),d(i,");",l,".",r,"=",i,";"),t("if(",i,"!==",a,"){",d,"}");n(d)})),e.compile()}(),compile:ce}}function fs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ds=34918,hs=34919,ps=35007,vs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),h(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var c=[];function l(){return c.pop()||new u}function f(e){c.push(e)}var d=[];function h(e,t,n){var r=l();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],v=[];function g(){var e,n,r=o.length;if(0!==r){v.length=Math.max(v.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,v[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ds),i(s)):o[e++]=s,p[n+1]=a,v[n+1]=e}for(o.length=e,e=0,n=0;n<d.length;++n){var u=d[n],c=u.startQueryIndex,l=u.endQueryIndex;u.sum+=p[l]-p[c];var h=v[c],g=v[l];g===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=g,d[e++]=u)}d.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:g,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},gs=16384,ms=256,ys=1024,bs=34962,xs="webglcontextlost",ws="webglcontextrestored",_s=1,Es=2,Ss=3;function ks(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Cs(e){var n=Se(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=ke(r,n);if(!a)return null;var s=me(),u=fs(),c=a.extensions,l=vs(r,c),f=ge(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},v={},g={elements:null,primitive:4,count:-1,offset:0,instances:-1},m=_t(r,c),y=Wt(r,u,n,x),b=Ui(r,c,m,u,y);function x(e){return b.destroyBuffer(e)}var w=an(r,c,y,u),_=Yi(r,s,u,n),E=Xr(r,c,m,(function(){C.procs.poll()}),p,u,n),S=ci(r,c,m,u,n),k=ji(r,c,m,E,S,u),C=ls(r,s,c,m,y,w,E,k,v,b,_,g,p,l,n),M=$i(r,k,C.procs.poll,p,i,c,m),O=C.next,N=r.canvas,T=[],A=[],P=[],I=[n.onDestroy],D=null;function R(){if(0===T.length)return l&&l.update(),void(D=null);D=ve.next(R),H();for(var e=T.length-1;e>=0;--e){var t=T[e];t&&t(p,null,0)}r.flush(),l&&l.update()}function L(){!D&&T.length>0&&(D=ve.next(R))}function j(){D&&(ve.cancel(R),D=null)}function F(e){e.preventDefault(),o=!0,j(),A.forEach((function(e){e()}))}function B(e){r.getError(),o=!1,a.restore(),_.restore(),y.restore(),E.restore(),S.restore(),k.restore(),b.restore(),l&&l.restore(),C.procs.refresh(),L(),P.forEach((function(e){e()}))}function z(){T.length=0,j(),N&&(N.removeEventListener(xs,F),N.removeEventListener(ws,B)),_.clear(),k.clear(),S.clear(),E.clear(),w.clear(),y.clear(),b.clear(),l&&l.clear(),I.forEach((function(e){e()}))}function U(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(pe.isDynamic(o))r[i]=pe.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pe.isDynamic(o[a]))return void(r[i]=pe.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),c={gpuTime:0,cpuTime:0,count:0},l=C.compile(u,s,a,i,c),f=l.draw,d=l.batch,h=l.scope,p=[];function v(e){for(;p.length<e;)p.push(null);return p}function g(e,t){var n;if(o&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(g,{stats:c,destroy:function(){l.destroy()}})}N&&(N.addEventListener(xs,F,!1),N.addEventListener(ws,B,!1));var G=k.setFBO=U({framebuffer:pe.define.call(null,_s,"framebuffer")});function V(e,t){var n=0;C.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=gs),"depth"in t&&(r.clearDepth(+t.depth),n|=ms),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=ys),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function Z(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)G(t({framebuffer:e.framebuffer.faces[n]},e),V);else G(e,V);else V(null,e)}function W(e){function t(){var t=ks(T,e);function n(){var e=ks(T,n);T[e]=T[T.length-1],T.length-=1,T.length<=0&&j()}ne(t>=0,"cannot cancel a frame twice"),T[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),T.push(e),L(),{cancel:t}}function Y(){var e=O.viewport,t=O.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function H(){p.tick+=1,p.time=X(),Y(),C.procs.poll()}function q(){E.refresh(),Y(),C.procs.refresh(),l&&l.update()}function X(){return(ge()-f)/1e3}function K(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return W(t);case"lost":n=A;break;case"restore":n=P;break;case"destroy":n=I;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}q();var $=t(U,{clear:Z,prop:pe.define.bind(null,_s),context:pe.define.bind(null,Es),this:pe.define.bind(null,Ss),draw:U({}),buffer:function(e){return y.create(e,bs,!1,!1)},elements:function(e){return w.create(e,!1)},texture:E.create2D,cube:E.createCube,renderbuffer:S.create,framebuffer:k.create,framebufferCube:k.createCube,vao:b.createVAO,attributes:i,frame:W,on:K,limits:m,hasExtension:function(e){return m.extensions.indexOf(e.toLowerCase())>=0},read:M,destroy:z,_gl:r,_refresh:q,poll:function(){H(),l&&l.update()},now:X,stats:u});return n.onDone(null,$),$}return Cs}()},36813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],M=[],O=1,N=null,T=3,A=!1,P=!1,I=!1;function D(e){for(var t=E(M);null!==t;){if(null===t.callback)S(M);else{if(!(t.startTime<=e))break;S(M),t.sortIndex=t.expirationTime,_(C,t)}t=E(M)}}function R(e){if(I=!1,D(e),!P)if(null!==E(C))P=!0,n(L);else{var t=E(M);null!==t&&r(R,t.startTime-e)}}function L(e,n){P=!1,I&&(I=!1,i()),A=!0;var o=T;try{for(D(n),N=E(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,T=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(C)&&S(C),D(n)}else S(C);N=E(C)}if(null!==N)var u=!0;else{var c=E(M);null!==c&&r(R,c.startTime-n),u=!1}return u}finally{N=null,T=o,A=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(M,e),null===E(C)&&e===E(M)&&(I?i():I=!0,r(R,a-s))):(e.sortIndex=u,_(C,e),P||A||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},65114:function(e,t,n){"use strict";var r=n(20423),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},20423:function(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},47045:function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,c=i.min,l=i.max,f=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(T[e])e=T[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(t=function(e,t,n){return{r:255*I(e,255),g:255*I(t,255),b:255*I(n,255)}}(e.r,e.g,e.b),f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(e.h,r,s),f=!0,d="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=j(e.s),u=j(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=P(n),{ok:f,format:e.format||d,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function v(e,t,n,r){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r){return[L(F(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=D(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=D(n.s),d(n)}function b(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=D(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=l(0,c(255,n.r-u(-t/100*255))),n.g=l(0,c(255,n.g-u(-t/100*255))),n.b=l(0,c(255,n.b-u(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=D(n.l),d(n)}function E(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function S(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function N(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=P(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(F(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*I(this._r,255))+"%",g:u(100*I(this._g,255))+"%",b:u(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*I(this._r,255))+"%, "+u(100*I(this._g,255))+"%, "+u(100*I(this._b,255))+"%)":"rgba("+u(100*I(this._r,255))+"%, "+u(100*I(this._g,255))+"%, "+u(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>u&&(u=r,s=d(t[c]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var T=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(T);function P(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return c(1,l(0,e))}function R(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return R(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},42458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},3431:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return x},__asyncValues:function(){return _},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return M},__classPrivateFieldSet:function(){return O},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return C},__importStar:function(){return k},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},29388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(61120),i=n(78814),o=n(82963);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},82963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(71002),i=n(97326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(83878);var i=n(40181),o=n(25267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(30907);var i=n(59199),o=n(40181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{GADDI:function(){return PY},Stack:function(){return DY},breadthFirstSearch:function(){return EW},connectedComponent:function(){return kW},cosineSimilarity:function(){return nY},default:function(){return LY},depthFirstSearch:function(){return AW},detectAllCycles:function(){return DW},detectAllDirectedCycle:function(){return IW},detectAllUndirectedCycle:function(){return PW},detectCycle:function(){return RW},detectDirectedCycle:function(){return RY},dijkstra:function(){return LW},findAllPath:function(){return zW},findShortestPath:function(){return BW},floydWarshall:function(){return UW},getAdjMatrix:function(){return hW},getDegree:function(){return MW},getInDegree:function(){return OW},getNeighbors:function(){return xW},getOutDegree:function(){return NW},iLouvain:function(){return QW},kCore:function(){return JW},kMeans:function(){return tY},labelPropagation:function(){return GW},louvain:function(){return $W},minimumSpanningTree:function(){return fY},nodesCosineSimilarity:function(){return rY},pageRank:function(){return dY}});var t={};n.r(t),n.d(t,{Line:function(){return mH},applyMatrix:function(){return tH},compare:function(){return XY},distance:function(){return iH},floydWarshall:function(){return aH},fractionToLine:function(){return wH},getAdjMatrix:function(){return sH},getBBoxBoundLine:function(){return yH},getCircleCenterByPoints:function(){return rH},getCircleIntersectByPoint:function(){return JY},getDegree:function(){return dH},getEllipseIntersectByPoint:function(){return eH},getLineIntersect:function(){return $Y},getPointsCenter:function(){return _H},getRectIntersectByPoint:function(){return QY},intersectBBox:function(){return vH},invertMatrix:function(){return nH},isPointInPolygon:function(){return pH},isPointsOverlap:function(){return kH},isPolygonsIntersect:function(){return gH},itemIntersectByLine:function(){return xH},lerp:function(){return OH},move:function(){return cH},pointLineDistance:function(){return MH},pointLineSquareDist:function(){return SH},pointRectSquareDist:function(){return CH},rotate:function(){return fH},scale:function(){return lH},scaleMatrix:function(){return oH},squareDist:function(){return EH},translate:function(){return uH}});var r={};n.r(r),n.d(r,{cloneBesidesImg:function(){return iq},getBBox:function(){return WH},getComboBBox:function(){return nq},getLabelPosition:function(){return HH},getLetterWidth:function(){return QH},getLoopCfgs:function(){return YH},getTextSize:function(){return JH},plainCombosToTrees:function(){return eq},reconstructTree:function(){return tq},shouldRefreshEdge:function(){return rq},traverseTree:function(){return KH},traverseTreeUp:function(){return $H}});var i={};n.r(i),n.d(i,{catmullRomToBezier:function(){return dq},fillPath:function(){return Dq},fillPathByDiff:function(){return jq},formatPath:function(){return zq},intersection:function(){return Aq},parsePathArray:function(){return xq},parsePathString:function(){return fq},pathToAbsolute:function(){return pq},pathToCurve:function(){return yq},rectPath:function(){return Cq}});var o={};n.r(o),n.d(o,{easeBack:function(){return eK},easeBackIn:function(){return QX},easeBackInOut:function(){return eK},easeBackOut:function(){return JX},easeBounce:function(){return XX},easeBounceIn:function(){return qX},easeBounceInOut:function(){return KX},easeBounceOut:function(){return XX},easeCircle:function(){return WX},easeCircleIn:function(){return VX},easeCircleInOut:function(){return WX},easeCircleOut:function(){return ZX},easeCubic:function(){return TX},easeCubicIn:function(){return OX},easeCubicInOut:function(){return TX},easeCubicOut:function(){return NX},easeElastic:function(){return rK},easeElasticIn:function(){return nK},easeElasticInOut:function(){return iK},easeElasticOut:function(){return rK},easeExp:function(){return GX},easeExpIn:function(){return zX},easeExpInOut:function(){return GX},easeExpOut:function(){return UX},easeLinear:function(){return SX},easePoly:function(){return IX},easePolyIn:function(){return AX},easePolyInOut:function(){return IX},easePolyOut:function(){return PX},easeQuad:function(){return MX},easeQuadIn:function(){return kX},easeQuadInOut:function(){return MX},easeQuadOut:function(){return CX},easeSin:function(){return FX},easeSinIn:function(){return LX},easeSinInOut:function(){return FX},easeSinOut:function(){return jX}});var a={};n.r(a),n.d(a,{calculationItemsBBox:function(){return O$},cloneEvent:function(){return k$},formatPadding:function(){return S$},isNaN:function(){return M$},isViewportChanged:function(){return C$},processParallelEdges:function(){return N$},uniqueId:function(){return E$}});var s={};n.r(s),n.d(s,{getClosedSpline:function(){return SQ},getControlPoint:function(){return wQ},getSpline:function(){return xQ},paddedHull:function(){return NQ},pathToPoints:function(){return EQ},pointsToPolygon:function(){return _Q},roundedHull:function(){return OQ}});var u={};n.r(u),n.d(u,{defaultSubjectColors:function(){return lJ}});var c={};n.r(c),n.d(c,{Base:function(){return a0},Circle:function(){return u0},Ellipse:function(){return f0},Image:function(){return p0},Line:function(){return m0},Marker:function(){return x0},Path:function(){return T0},Polygon:function(){return I0},Polyline:function(){return R0},Rect:function(){return j0},Text:function(){return B0}});var l={};n.r(l),n.d(l,{Base:function(){return r1},Circle:function(){return o1},Dom:function(){return s1},Ellipse:function(){return c1},Image:function(){return f1},Line:function(){return h1},Marker:function(){return m1},Path:function(){return b1},Polygon:function(){return w1},Polyline:function(){return E1},Rect:function(){return k1},Text:function(){return T1}});var f={};n.r(f),n.d(f,{getColorSetsBySubjectColors:function(){return f2},getColorsWithSubjectColor:function(){return l2},mixColor:function(){return c2}});var d={};n.r(d),n.d(d,{arrayToTextureData:function(){return N2},attributesToTextureData:function(){return O2},buildTextureData:function(){return k2},buildTextureDataWithOneEdgeAttr:function(){return C2},buildTextureDataWithTwoEdgeAttr:function(){return M2},proccessToFunc:function(){return S2},radialLayout:function(){return T2}});var h={};n.r(h),n.d(h,{gpuDetector:function(){return A2}});var p={};n.r(p),n.d(p,{assign:function(){return o4},default:function(){return k4},defaultI18n:function(){return c4},format:function(){return E4},parse:function(){return S4},setGlobalDateI18n:function(){return f4},setGlobalDateMasks:function(){return _4}});var v={};n.r(v),n.d(v,{handleAutoZoom:function(){return D9},handleChangeZoom:function(){return P9},handleRealZoom:function(){return I9},handleZoomIn:function(){return A9},handleZoomOut:function(){return T9}});var g={};n.r(g),n.d(g,{focusNodeById:function(){return L9},highlightNodeById:function(){return R9}});var m=n(29439),y=n(72791),b=n(54164);function x(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function w(e){return!!e&&!!e[ce]}function _(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===le}(e)||Array.isArray(e)||!!e[ue]||!!e.constructor[ue]||N(e)||T(e))}function E(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:fe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[ce];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:N(e)?2:T(e)?3:0}function k(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return 2===S(e)?e.get(t):e[t]}function M(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function O(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function N(e){return ie&&e instanceof Map}function T(e){return oe&&e instanceof Set}function A(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[ce];for(var n=fe(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function I(e,t){return void 0===t&&(t=!1),R(e)||w(e)||!_(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&E(e,(function(e,t){return I(t,!0)}),!0)),e}function D(){x(2)}function R(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function L(e){var t=he[e];return t||x(18,e),t}function j(e,t){he[e]||(he[e]=t)}function F(){return ne}function B(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function z(e){U(e),e.p.forEach(V),e.p=null}function U(e){e===ne&&(ne=e.l)}function G(e){return ne={p:[],l:ne,h:e,m:!0,_:0}}function V(e){var t=e[ce];0===t.i||1===t.i?t.j():t.O=!0}function Z(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||L("ES5").S(t,e,r),r?(n[ce].P&&(z(t),x(4)),_(e)&&(e=W(t,e),t.l||H(t,e)),t.u&&L("Patches").M(n[ce].t,e,t.u,t.s)):e=W(t,n,[]),z(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function W(e,t,n){if(R(t))return t;var r=t[ce];if(!r)return E(t,(function(i,o){return Y(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return H(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=P(r.k):r.o;E(3===r.i?new Set(i):i,(function(t,o){return Y(e,r,i,t,o,n)})),H(e,i,!1),n&&e.u&&L("Patches").R(r,n,e.u,e.s)}return r.o}function Y(e,t,n,r,i,o){if(w(i)){var a=W(e,i,o&&t&&3!==t.i&&!k(t.D,r)?o.concat(r):void 0);if(M(n,r,a),!w(a))return;e.m=!1}if(_(i)&&!R(i)){if(!e.h.F&&e._<1)return;W(e,i),t&&t.A.l||H(e,i)}}function H(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&I(t,n)}function q(e,t){var n=e[ce];return(n?A(n):e)[t]}function X(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function $(e){e.o||(e.o=P(e.t))}function Q(e,t,n){var r=N(t)?L("MapSet").N(t,n):T(t)?L("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=pe;n&&(i=[r],o=ve);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):L("ES5").J(t,n);return(n?n.A:F()).p.push(r),r}function J(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}function ee(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ce];return pe.get(t,e)},set:function(t){var n=this[ce];pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ce];if(!i.P)switch(i.i){case 5:r(i)&&K(i);break;case 4:n(i)&&K(i)}}}function n(e){for(var t=e.t,n=e.k,r=fe(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ce){var a=t[o];if(void 0===a&&!k(t,o))return!0;var s=n[o],u=s&&s[ce];if(u?u.t!==a:!O(s,a))return!0}}var c=!!t[ce];return r.length!==fe(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};j("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=de(n);delete o[ce];for(var a=fe(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:F(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ce,{value:o,writable:!0}),i},S:function(e,n,i){i?w(n)&&n[ce].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ce];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)E(o,(function(t){t!==ce&&(void 0!==i[t]||k(i,t)?a[t]||e(o[t]):(a[t]=!0,K(n)))})),E(i,(function(e){void 0!==o[e]||k(o,e)||(a[e]=!1,K(n))}));else if(5===s){if(r(n)&&(K(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),f=0;f<l;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var te,ne,re="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ie="undefined"!=typeof Map,oe="undefined"!=typeof Set,ae="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=re?Symbol.for("immer-nothing"):((te={})["immer-nothing"]=!0,te),ue=re?Symbol.for("immer-draftable"):"__$immer_draftable",ce=re?Symbol.for("immer-state"):"__$immer_state",le=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),fe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return fe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},he={},pe={get:function(e,t){if(t===ce)return e;var n=A(e);if(!k(n,t))return function(e,t,n){var r,i=X(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_(r)?r:r===q(e.t,t)?($(e),e.o[t]=Q(e.A.h,r,e)):r},has:function(e,t){return t in A(e)},ownKeys:function(e){return Reflect.ownKeys(A(e))},set:function(e,t,n){var r=X(A(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=q(A(e),t),o=null==i?void 0:i[ce];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(O(n,i)&&(void 0!==n||k(e.t,t)))return!0;$(e),K(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.D[t]=!1,$(e),K(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=A(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){x(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){x(12)}},ve={};E(pe,(function(e,t){ve[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ve.deleteProperty=function(e,t){return ve.set.call(this,e,t,void 0)},ve.set=function(e,t,n){return pe.set.call(this,e[0],t,n,e[0])};var ge=function(){function e(e){var t=this;this.g=ae,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&x(6),void 0!==r&&"function"!=typeof r&&x(7),_(e)){var s=G(t),u=Q(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?z(s):U(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return B(s,r),Z(e,s)}),(function(e){throw z(s),e})):(B(s,r),Z(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===se&&(a=void 0),t.F&&I(a,!0),r){var l=[],f=[];L("Patches").M(e,a,l,f),r(l,f)}return a}x(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_(e)||x(8),w(e)&&(e=function(e){return w(e)||x(22,e),function e(t){if(!_(t))return t;var n,r=t[ce],i=S(t);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=J(t,i),r.I=!1}else n=J(t,i);return E(n,(function(t,i){r&&C(r.t,t)===i||M(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=G(this),n=Q(this,e,void 0);return n[ce].C=!0,U(t),n},t.finishDraft=function(e,t){var n=(e&&e[ce]).A;return B(n,t),Z(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ae&&x(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=L("Patches").$;return w(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),me=new ge,ye=me.produce,be=(me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),ye),xe=n(4942);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Se="function"===typeof Symbol&&Symbol.observable||"@@observable",ke=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ce={INIT:"@@redux/INIT"+ke(),REPLACE:"@@redux/REPLACE"+ke(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ke()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Oe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ee(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ee(1));return n(Oe)(e,t)}if("function"!==typeof e)throw new Error(Ee(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(Ee(3));return o}function f(e){if("function"!==typeof e)throw new Error(Ee(4));if(u)throw new Error(Ee(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Ee(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Me(e))throw new Error(Ee(7));if("undefined"===typeof e.type)throw new Error(Ee(8));if(u)throw new Error(Ee(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Ee(10));i=e,d({type:Ce.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ee(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Se]=function(){return this},e}return d({type:Ce.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[Se]=p,r}function Ne(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Ce.INIT}))throw new Error(Ee(12));if("undefined"===typeof n(void 0,{type:Ce.PROBE_UNKNOWN_ACTION()}))throw new Error(Ee(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ee(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ee(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Te.apply(void 0,o)(n.dispatch),_e(_e({},n),{},{dispatch:r})}}}function Pe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ie=Pe();Ie.withExtraArgument=Pe;var De=Ie,Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},je=Object.defineProperty,Fe=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Be=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Ue=function(e,t,n){return t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ge=function(e,t){for(var n in t||(t={}))Be.call(t,n)&&Ue(e,n,t[n]);if(Fe)for(var r=0,i=Fe(t);r<i.length;r++){n=i[r];ze.call(t,n)&&Ue(e,n,t[n])}return e},Ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Te:Te.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ze(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var We=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Re(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Le([void 0],e[0].concat(this)))):new(t.bind.apply(t,Le([void 0],e.concat(this))))},t}(Array);function Ye(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new We);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(De.withExtraArgument(n.extraArgument)):r.push(De));0;return r}(e)}}function He(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ge(Ge({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function qe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Xe(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:be(e.initialState,(function(){})),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?qe(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Ge(Ge({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?qe(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return be(e(),(function(){}))};else{var c=be(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Le([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(w(e))return"undefined"===typeof(r=n(e,t))?e:r;if(_(e))return be(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,a,c)}return o.forEach((function(e){var n,r,o=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,u[e]=r?He(c,r):He(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var Ke="listenerMiddleware";He(Ke+"/add"),He(Ke+"/removeAll"),He(Ke+"/remove");ee();var $e,Qe,Je,et,tt=JSON.parse('{"e":{"aK":{"Title":{"type":"string"},"url":{"type":"string"},"Year":{"type":"string"},"Venue":{"type":"object","properties":{"isOld":{"type":"boolean"},"value":{"type":"string"}}},"Authors":{"type":"array","items":{"type":"string"}},"Type of Task":{"type":"array","items":{"type":"string","enum":["Code Understanding","Program Synthesis","Code Summarization","Test Case-Related","Code Search","Debugging","Vulnerability Detection","Bug/Fault Localization","Malware/Anomaly Detection"]}},"Type":{"type":"array","items":{"type":"string","enum":["EE","IM","AM","DK","FA"]}},"Type of Output":{"type":"array","items":{"type":"string","enum":["Source Code","Rules","Text","Visualization","Numerical"]}}}}}').e.aK;!function(e){tt["Type of Task"].items.enum.forEach((function(t){e[t]=t}))}($e||($e={})),function(e){tt.Type.items.enum.forEach((function(t){e[t]=t}))}(Qe||(Qe={})),function(e){tt["Type of Output"].items.enum.forEach((function(t){e[t]=t}))}(Je||(Je={})),function(e){e.ESECFSE="ESEC/FSE",e.ASE="ASE",e.QRS="QRS",e.TOSEM="TOSEM",e.NeurIPS="NeurIPS",e.ICPC="ICPC",e.ISSRE="ISSRE",e.Other="Other"}(et||(et={}));var nt=function(e){return function(t){var n=!0;return t.forEach((function(t){rt(e)(t)||(console.log("".concat(t," is not part of given enum")),n=!1)})),n}},rt=function(e){return function(t){return Object.values(e).includes(t)}};function it(e){var t="";return e.forEach((function(n){t+=e.indexOf(n)!==e.length-1?n+", ":n})),t}var ot,at=["Type of Task","Type","Type of Output"],st={task:"Type of Task",type:"Type",output:"Type of Output",venue:"Venue"},ut=function(e){switch(e){case"Type of Task":return"magenta";case"Type":return"green";case"Type of Output":return"geekblue";case"Venue":return"cyan";default:return"gold"}};function ct(e){return e.map((function(e){return e.label}))}var lt="https://github.com/RISS-Vul/xai4se-paper",ft=(ot={},(0,xe.Z)(ot,"/","landing"),(0,xe.Z)(ot,"/papers","papers"),(0,xe.Z)(ot,"/charts","charts"),(0,xe.Z)(ot,"/add-paper","add-paper"),ot),dt=function(e){return e in ft?ft[e]:"landing"},ht=function(e){for(var t=0,n=Object.entries(ft);t<n.length;t++){var r=n[t];if(r[1]===e)return r[0]}return"/"},pt=JSON.parse('[{"Title":"Understanding Neural Code Intelligence through Program Simplification","url":"https://github.com/UH-SERG/SIVAND","Year":"2021","Venue":{"isOld":true,"value":"ESEC/FSE"},"Authors":["Rabin"],"Type of Task":["Code Understanding"],"Type":["EE"],"Type of Output":["Source Code"],"Abstract":"","IsOld":true},{"Title":"PLANS: Neuro-Symbolic Program Learning from Videos","url":"https://github.com/rdang-nhu/PLANS","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Nhu"],"Type of Task":["Program Synthesis"],"Type":["IM"],"Type of Output":["Rules"],"Abstract":"","IsOld":true},{"Title":"Thinking Like a Developer? Comparing the Attention of Humans with Neural Models of Code","url":"https://github.com/MattePalte/thinking-like-a-developer","Year":"2021","Venue":{"isOld":true,"value":"ASE"},"Authors":["Paltenghi"],"Type of Task":["Code Summarization"],"Type":["AM"],"Type of Output":["Source Code"],"Abstract":"","IsOld":true},{"Title":"Interpretable Test Case Recommendation based on Knowledge Graph","url":"N/A","Year":"2020","Venue":{"isOld":true,"value":"QRS"},"Authors":["Ke"],"Type of Task":["Test Case-Related"],"Type":["DK"],"Type of Output":["Text"],"Abstract":"","IsOld":true},{"Title":"XCoS: Explainable Code Search Based on Query Scoping and Knowledge Graph","url":"N/A","Year":"2023","Venue":{"isOld":true,"value":"TOSEM"},"Authors":["Wang"],"Type of Task":["Code Search"],"Type":["DK"],"Type of Output":["Visualization"],"Abstract":"","IsOld":true},{"Title":"Explaining Mispredictions of Machine Learning Models using Rule Induction","url":"https://github.com/facebookresearch/mmd","Year":"2021","Venue":{"isOld":true,"value":"ESEC/FSE"},"Authors":["Cito"],"Type of Task":["Debugging"],"Type":["IM"],"Type of Output":["Rules"],"Abstract":"","IsOld":true},{"Title":"Interpreting Deep Learning-based Vulnerability Detector Predictions Based on Heuristic Searching","url":"N/A","Year":"2021","Venue":{"isOld":true,"value":"TOSEM"},"Authors":["Zou"],"Type of Task":["Vulnerability Detection"],"Type":["IM"],"Type of Output":["Rules"],"Abstract":"","IsOld":true},{"Title":"Incorporating Signal Awareness in Source Code Modeling: an Application to Vulnerability Detection","url":"N/A","Year":"2023","Venue":{"isOld":true,"value":"TOSEM"},"Authors":["Suneja"],"Type of Task":["Vulnerability Detection"],"Type":["EE"],"Type of Output":["Source Code"],"Abstract":"","IsOld":true},{"Title":"XAI4FL: Enhancing Spectrum-Based Fault Localization with Explainable Artificial Intelligence","url":"https://github.com/soarsmu/XAI4FL","Year":"2022","Venue":{"isOld":true,"value":"ICPC"},"Authors":["Widyasari"],"Type of Task":["Bug/Fault Localization"],"Type":["FA"],"Type of Output":["Source Code"],"Abstract":"","IsOld":true},{"Title":"Explainable AI for Android Malware Detection: Towards Understanding Why the Models Perform So Well?","url":"N/A","Year":"2022","Venue":{"isOld":true,"value":"ISSRE"},"Authors":["Liu"],"Type of Task":["Malware/Anomaly Detection"],"Type":["DK","FA"],"Type of Output":["Numerical"],"Abstract":"","IsOld":true}]'),vt=[];pt.forEach((function(e){var t=e;"string"===typeof t.Date&&(t.Date=new Date(t.Date)),!function(e){return"url"in e&&"Title"in e&&"Year"in e&&"Venue"in e&&(e.Venue.isOld&&rt(et)(e.Venue.value)||!e.Venue.isOld)&&"Authors"in e&&"Type of Task"in e&&nt($e)(e["Type of Task"])&&"Type"in e&&nt(Qe)(e.Type)&&"Type of Output"in e&&nt(Je)(e["Type of Output"])}(t)?console.log(e," is not a paper and was excluded fromt the list"):vt.push(t)}));var gt,mt=Xe({name:"papers",initialState:vt,reducers:{}}),yt=mt.reducer,bt=(mt.actions,{task:[],type:[],output:[],venue:[],startYear:void 0,endYear:void 0,search:"",filterStateAND:!0,showOriginal:!0,showNew:!0}),xt=Xe({name:"filters",initialState:bt,reducers:{reset:function(){return bt},setData:function(e,t){e.task=t.payload},setProblem:function(e,t){e.type=t.payload},setModel:function(e,t){e.output=t.payload},setVenue:function(e,t){e.venue=t.payload},changeState:function(e,t){e.filterStateAND=t.payload},setStartYear:function(e,t){e.startYear=t.payload},setEndYear:function(e,t){e.endYear=t.payload},setSearch:function(e,t){e.search=t.payload},setShowOriginal:function(e,t){e.showOriginal=t.payload},setShowNew:function(e,t){e.showNew=t.payload}}}),wt=xt.reducer,_t=xt.actions,Et=Xe({name:"form",initialState:{Title:"",url:"",Year:"2020",Venue:{isOld:!0,value:""},Authors:[],"Type of Task":[],Type:[],"Type of Output":[]},reducers:{setTitle:function(e,t){e.Title=t.payload},setDoi:function(e,t){e.url=t.payload},setYear:function(e,t){e.Year=t.payload.toString()},setAuthors:function(e,t){e.Authors=t.payload},setIsOldVenue:function(e,t){e.Venue.isOld=t.payload},setVenue:function(e,t){e.Venue.value=t.payload},setTask:function(e,t){e["Type of Task"]=t.payload},settype:function(e,t){e.Type=t.payload},setOutput:function(e,t){e["Type of Output"]=t.payload},setComment:function(e,t){t.payload?e.Comment=t.payload:delete e.Comment}}}),St=Et.reducer,kt=Et.actions,Ct=function(e){var t,n=Ye(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!Ze(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ne(o)}var p=s;"function"===typeof p&&(p=p(n));var v=Ae.apply(void 0,p),g=Te;c&&(g=Ve(Ge({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(h)?m=Le([v],h):"function"===typeof h&&(m=h(m)),Oe(t,f,g.apply(void 0,m))}({reducer:{papers:yt,filters:wt,form:St},middleware:function(e){return e({serializableCheck:!1})}});function Mt(){return Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(gt||(gt={}));var Ot=function(e){return e};var Nt="beforeunload",Tt="popstate";function At(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=Lt(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,u=void 0===s?"":s,c=r.state||{};return[c.idx,Ot({pathname:i,search:a,hash:u,state:c.usr||null,key:c.key||"default"})]}var o=null;function a(){if(o)d.call(o),o=null;else{var e=gt.Pop,t=i(),n=t[0],r=t[1];if(d.length){if(null!=n){var a=c-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else m(e)}}n.addEventListener(Tt,a),n.addEventListener("hashchange",(function(){Rt(i()[1])!==Rt(l)&&a()}));var s=gt.Pop,u=i(),c=u[0],l=u[1],f=It(),d=It();function h(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:Rt(e))}function p(e,t){return void 0===t&&(t=null),Ot(Mt({pathname:l.pathname,hash:"",search:""},"string"===typeof e?Lt(e):e,{state:t,key:Dt()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function g(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function m(e){s=e;var t=i();c=t[0],l=t[1],f.call({action:s,location:l})}function y(e){r.go(e)}null==c&&(c=0,r.replaceState(Mt({},r.state,{idx:c}),""));var b={get action(){return s},get location(){return l},createHref:h,push:function e(t,i){var o=gt.Push,a=p(t,i);if(g(o,a,(function(){e(t,i)}))){var s=v(a,c+1),u=s[0],l=s[1];try{r.pushState(u,"",l)}catch(f){n.location.assign(l)}m(o)}},replace:function e(t,n){var i=gt.Replace,o=p(t,n);if(g(i,o,(function(){e(t,n)}))){var a=v(o,c),s=a[0],u=a[1];r.replaceState(s,"",u),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return f.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(Nt,Pt),function(){t(),d.length||n.removeEventListener(Nt,Pt)}}};return b}function Pt(e){e.preventDefault(),e.returnValue=""}function It(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Dt(){return Math.random().toString(36).substr(2,8)}function Rt(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Lt(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jt(e,t){if(!e)throw new Error(t)}var Ft=(0,y.createContext)(null);var Bt=(0,y.createContext)(null);var zt=(0,y.createContext)({outlet:null,matches:[]});function Ut(e){jt(!1)}function Gt(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,o=e.location,a=e.navigationType,s=void 0===a?gt.Pop:a,u=e.navigator,c=e.static,l=void 0!==c&&c;Zt()&&jt(!1);var f=on(n),d=(0,y.useMemo)((function(){return{basename:f,navigator:u,static:l}}),[f,u,l]);"string"===typeof o&&(o=Lt(o));var h=o,p=h.pathname,v=void 0===p?"/":p,g=h.search,m=void 0===g?"":g,b=h.hash,x=void 0===b?"":b,w=h.state,_=void 0===w?null:w,E=h.key,S=void 0===E?"default":E,k=(0,y.useMemo)((function(){var e=nn(v,f);return null==e?null:{pathname:e,search:m,hash:x,state:_,key:S}}),[f,v,m,x,_,S]);return null==k?null:(0,y.createElement)(Ft.Provider,{value:d},(0,y.createElement)(Bt.Provider,{children:i,value:{location:k,navigationType:s}}))}function Vt(e){var t=e.children,n=e.location;return function(e,t){Zt()||jt(!1);var n=(0,y.useContext)(zt).matches,r=n[n.length-1],i=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var a,s=Wt();if(t){var u,c="string"===typeof t?Lt(t):t;"/"===o||(null==(u=c.pathname)?void 0:u.startsWith(o))||jt(!1),a=c}else a=s;var l=a.pathname||"/",f="/"===o?l:l.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=nn(("string"===typeof t?Lt(t):t).pathname||"/",n);if(null==r)return null;var i=qt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=Qt(i[a],r);return o}(e,{pathname:f});0;return Jt(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},i,e.params),pathname:rn([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:rn([o,e.pathnameBase])})})),n)}(Ht(t),n)}function Zt(){return null!=(0,y.useContext)(Bt)}function Wt(){return Zt()||jt(!1),(0,y.useContext)(Bt).location}function Yt(){Zt()||jt(!1);var e=(0,y.useContext)(Ft),t=e.basename,n=e.navigator,r=(0,y.useContext)(zt).matches,i=Wt().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),a=(0,y.useRef)(!1);(0,y.useEffect)((function(){a.current=!0}));var s=(0,y.useCallback)((function(e,r){if(void 0===r&&(r={}),a.current)if("number"!==typeof e){var s=tn(e,JSON.parse(o),i);"/"!==t&&(s.pathname=rn([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}else n.go(e)}),[t,n,o,i]);return s}function Ht(e){var t=[];return y.Children.forEach(e,(function(e){if((0,y.isValidElement)(e))if(e.type!==y.Fragment){e.type!==Ut&&jt(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Ht(e.props.children)),t.push(n)}else t.push.apply(t,Ht(e.props.children))})),t}function qt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||jt(!1),o.relativePath=o.relativePath.slice(r.length));var a=rn([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&jt(!1),qt(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:$t(a,e.index),routesMeta:s})})),t}var Xt=/^:\w+$/,Kt=function(e){return"*"===e};function $t(e,t){var n=e.split("/"),r=n.length;return n.some(Kt)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Kt(e)})).reduce((function(e,t){return e+(Xt.test(t)?3:""===t?1:10)}),r)}function Qt(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=en({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:rn([i,l.pathname]),pathnameBase:on(rn([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=rn([i,l.pathnameBase]))}return o}function Jt(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,y.createElement)(zt.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function en(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1),l=o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function tn(e,t,n){var r,i="string"===typeof e?Lt(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Lt(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:an(o),hash:sn(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function nn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var rn=function(e){return e.join("/").replace(/\/\/+/g,"/")},on=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},an=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},sn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function un(e){var t=e.basename,n=e.children,r=e.window,i=(0,y.useRef)();null==i.current&&(i.current=At({window:r}));var o=i.current,a=(0,y.useState)({action:o.action,location:o.location}),s=(0,m.Z)(a,2),u=s[0],c=s[1];return(0,y.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,y.createElement)(Gt,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var cn=y.createContext(null);var ln=function(e){e()},fn=function(){return ln};var dn={notify:function(){},get:function(){return[]}};function hn(e,t){var n,r=dn;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=fn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=dn)},getListeners:function(){return r}};return a}var pn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?y.useLayoutEffect:y.useEffect;var vn=function(e){var t=e.store,n=e.context,r=e.children,i=(0,y.useMemo)((function(){var e=hn(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),o=(0,y.useMemo)((function(){return t.getState()}),[t]);pn((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=n||cn;return y.createElement(a.Provider,{value:i},r)};n(62110),n(36900);function gn(){return(0,y.useContext)(cn)}function mn(e){void 0===e&&(e=cn);var t=e===cn?gn:function(){return(0,y.useContext)(e)};return function(){return t().store}}var yn=mn();function bn(e){void 0===e&&(e=cn);var t=e===cn?yn:mn(e);return function(){return t().dispatch}}var xn=bn(),wn=function(e,t){return e===t};function _n(e){void 0===e&&(e=cn);var t=e===cn?gn:function(){return(0,y.useContext)(e)};return function(e,n){void 0===n&&(n=wn);var r=t(),i=function(e,t,n,r){var i,o=(0,y.useReducer)((function(e){return e+1}),0),a=o[1],s=(0,y.useMemo)((function(){return hn(n,r)}),[n,r]),u=(0,y.useRef)(),c=(0,y.useRef)(),l=(0,y.useRef)(),f=(0,y.useRef)(),d=n.getState();try{if(e!==c.current||d!==l.current||u.current){var h=e(d);i=void 0!==f.current&&t(h,f.current)?f.current:h}else i=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return pn((function(){c.current=e,l.current=d,f.current=i,u.current=void 0})),pn((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,f.current))return;f.current=r,l.current=e}catch(p){u.current=p}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,r.store,r.subscription);return(0,y.useDebugValue)(i),i}}var En,Sn=_n();En=b.unstable_batchedUpdates,ln=En;var kn=n(93433),Cn=n(81694),Mn=n.n(Cn),On=n(15671),Nn=n(43144),Tn=n(60136),An=n(29388),Pn={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},In={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Dn={lang:Mt({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:Mt({},In)},Rn="${label} is not a valid ${type}",Ln={locale:"en",Pagination:Pn,DatePicker:Dn,TimePicker:In,Calendar:Dn,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Rn,method:Rn,array:Rn,object:Rn,number:Rn,date:Rn,boolean:Rn,integer:Rn,float:Rn,regexp:Rn,email:Rn,url:Rn,hex:Rn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},jn=Ln,Fn=(0,y.createContext)(void 0),Bn=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||jn[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return Mt(Mt({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?jn.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(y.Component);function zn(e,t){var n=y.useContext(Fn),r=y.useMemo((function(){var r=t||jn[e||"global"],i=e&&n?n[e]:{};return Mt(Mt({},"function"===typeof r?r():r),i||{})}),[e,t,n]);return[r]}Bn.defaultProps={componentName:"global"},Bn.contextType=Fn;var Un=function(){var e=(0,y.useContext(Xn).getPrefixCls)("empty-img-default");return y.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),y.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),y.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),y.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),y.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),y.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Gn=function(){var e=(0,y.useContext(Xn).getPrefixCls)("empty-img-simple");return y.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},Vn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zn=y.createElement(Un,null),Wn=y.createElement(Gn,null),Yn=function(e){var t=e.className,n=e.prefixCls,r=e.image,i=void 0===r?Zn:r,o=e.description,a=e.children,s=e.imageStyle,u=Vn(e,["className","prefixCls","image","description","children","imageStyle"]),c=y.useContext(Xn),l=c.getPrefixCls,f=c.direction;return y.createElement(Bn,{componentName:"Empty"},(function(e){var r,c=l("empty",n),d="undefined"!==typeof o?o:e.description,h="string"===typeof d?d:"empty",p=null;return p="string"===typeof i?y.createElement("img",{alt:h,src:i}):i,y.createElement("div",Mt({className:Mn()(c,(r={},(0,xe.Z)(r,"".concat(c,"-normal"),i===Wn),(0,xe.Z)(r,"".concat(c,"-rtl"),"rtl"===f),r),t)},u),y.createElement("div",{className:"".concat(c,"-image"),style:s},p),d&&y.createElement("div",{className:"".concat(c,"-description")},d),a&&y.createElement("div",{className:"".concat(c,"-footer")},a))}))};Yn.PRESENTED_IMAGE_DEFAULT=Zn,Yn.PRESENTED_IMAGE_SIMPLE=Wn;var Hn=Yn,qn=function(e){return y.createElement(Kn,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return y.createElement(Hn,{image:Hn.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return y.createElement(Hn,{image:Hn.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return y.createElement(Hn,null)}}))},Xn=y.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:qn}),Kn=Xn.Consumer;var $n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Qn=y.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function Jn(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var i=function(r){var i=y.useContext(Xn).getPrefixCls,o=r.prefixCls,a=i(t,o);return y.createElement(e,Mt({prefixCls:a,tagName:n},r))};return i.displayName=r,i}}var er=function(e){var t=e.prefixCls,n=e.className,r=e.children,i=e.tagName,o=$n(e,["prefixCls","className","children","tagName"]),a=Mn()(t,n);return y.createElement(i,Mt({className:a},o),r)},tr=Jn({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t,n=y.useContext(Xn).direction,r=y.useState([]),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=e.prefixCls,u=e.className,c=e.children,l=e.hasSider,f=e.tagName,d=$n(e,["prefixCls","className","children","hasSider","tagName"]),h=Mn()(s,(t={},(0,xe.Z)(t,"".concat(s,"-has-sider"),"boolean"===typeof l?l:o.length>0),(0,xe.Z)(t,"".concat(s,"-rtl"),"rtl"===n),t),u),p=y.useMemo((function(){return{siderHook:{addSider:function(e){a((function(t){return[].concat((0,kn.Z)(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return y.createElement(Qn.Provider,{value:p},y.createElement(f,Mt({className:h},d),c))})),nr=Jn({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(er),rr=Jn({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(er),ir=Jn({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(er),or=tr;function ar(e,t){var n=_e({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var sr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function ur(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var cr=(0,y.createContext)({}),lr=n(71002);function fr(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function dr(e){return Math.min(1,Math.max(0,e))}function hr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function pr(e){return e<=1?100*Number(e)+"%":e}function vr(e){return 1===e.length?"0"+e:String(e)}function gr(e,t,n){e=fr(e,255),t=fr(t,255),n=fr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function mr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yr(e,t,n){e=fr(e,255),t=fr(t,255),n=fr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function br(e,t,n,r){var i=[vr(Math.round(e).toString(16)),vr(Math.round(t).toString(16)),vr(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function xr(e){return Math.round(255*parseFloat(e)).toString(16)}function wr(e){return _r(e)/255}function _r(e){return parseInt(e,16)}var Er={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sr(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Er[e])e=Er[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Or.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Or.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Or.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Or.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Or.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Or.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Or.hex8.exec(e))return{r:_r(n[1]),g:_r(n[2]),b:_r(n[3]),a:wr(n[4]),format:t?"name":"hex8"};if(n=Or.hex6.exec(e))return{r:_r(n[1]),g:_r(n[2]),b:_r(n[3]),format:t?"name":"hex"};if(n=Or.hex4.exec(e))return{r:_r(n[1]+n[1]),g:_r(n[2]+n[2]),b:_r(n[3]+n[3]),a:wr(n[4]+n[4]),format:t?"name":"hex8"};if(n=Or.hex3.exec(e))return{r:_r(n[1]+n[1]),g:_r(n[2]+n[2]),b:_r(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Nr(e.r)&&Nr(e.g)&&Nr(e.b)?(t=function(e,t,n){return{r:255*fr(e,255),g:255*fr(t,255),b:255*fr(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Nr(e.h)&&Nr(e.s)&&Nr(e.v)?(r=pr(e.s),i=pr(e.v),t=function(e,t,n){e=6*fr(e,360),t=fr(t,100),n=fr(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):Nr(e.h)&&Nr(e.s)&&Nr(e.l)&&(r=pr(e.s),o=pr(e.l),t=function(e,t,n){var r,i,o;if(e=fr(e,360),t=fr(t,100),n=fr(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=mr(s,a,e+1/3),i=mr(s,a,e),o=mr(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=hr(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var kr="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Cr="[\\s|\\(]+("+kr+")[,|\\s]+("+kr+")[,|\\s]+("+kr+")\\s*\\)?",Mr="[\\s|\\(]+("+kr+")[,|\\s]+("+kr+")[,|\\s]+("+kr+")[,|\\s]+("+kr+")\\s*\\)?",Or={CSS_UNIT:new RegExp(kr),rgb:new RegExp("rgb"+Cr),rgba:new RegExp("rgba"+Mr),hsl:new RegExp("hsl"+Cr),hsla:new RegExp("hsla"+Mr),hsv:new RegExp("hsv"+Cr),hsva:new RegExp("hsva"+Mr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Nr(e){return Boolean(Or.CSS_UNIT.exec(String(e)))}var Tr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ar(e){var t=yr(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Pr(e){var t=e.r,n=e.g,r=e.b;return"#".concat(br(t,n,r,!1))}function Ir(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Dr(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Rr(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Lr(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function jr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Sr(e),i=5;i>0;i-=1){var o=Ar(r),a=Pr(Sr({h:Dr(o,i,!0),s:Rr(o,i,!0),v:Lr(o,i,!0)}));n.push(a)}n.push(Pr(r));for(var s=1;s<=4;s+=1){var u=Ar(r),c=Pr(Sr({h:Dr(u,s),s:Rr(u,s),v:Lr(u,s)}));n.push(c)}return"dark"===t.theme?Tr.map((function(e){var r=e.index,i=e.opacity;return Pr(Ir(Sr(t.backgroundColor||"#141414"),Sr(n[r]),100*i))})):n}var Fr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Br={},zr={};Object.keys(Fr).forEach((function(e){Br[e]=jr(Fr[e]),Br[e].primary=Br[e][5],zr[e]=jr(Fr[e],{theme:"dark",backgroundColor:"#141414"}),zr[e].primary=zr[e][5]}));Br.red,Br.volcano,Br.gold,Br.orange,Br.yellow,Br.lime,Br.green,Br.cyan,Br.blue,Br.geekblue,Br.purple,Br.magenta,Br.grey;var Ur={};function Gr(e,t){0}function Vr(e,t){0}function Zr(e,t,n){t||Ur[n]||(e(!1,n),Ur[n]=!0)}function Wr(e,t){Zr(Vr,e,t)}var Yr=function(e,t){Zr(Gr,e,t)};function Hr(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var qr="rc-util-key";function Xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):qr}function Kr(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function $r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Hr())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=Kr(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var Qr=new Map;function Jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Kr(t);return Array.from(Qr.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Xr(t))===e}))}function ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Kr(n);if(!Qr.has(r)){var i=$r("",n),o=i.parentNode;Qr.set(r,o),o.removeChild(i)}var a=Jr(t,n);if(a){var s,u,c;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var l=$r(e,n);return l.setAttribute(Xr(n),t),l}function ti(e){return"object"===(0,lr.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,lr.Z)(e.icon)||"function"===typeof e.icon)}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ri(e,t,n){return n?y.createElement(e.tag,_e(_e({key:t},ni(e.attrs)),n),(e.children||[]).map((function(n,r){return ri(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):y.createElement(e.tag,_e({key:t},ni(e.attrs)),(e.children||[]).map((function(n,r){return ri(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function ii(e){return jr(e)[0]}function oi(e){return e?Array.isArray(e)?e:[e]:[]}var ai="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",si=["icon","className","onClick","style","primaryColor","secondaryColor"],ui={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ci=function(e){var t=e.icon,n=e.className,r=e.onClick,i=e.style,o=e.primaryColor,a=e.secondaryColor,s=ur(e,si),u=ui;if(o&&(u={primaryColor:o,secondaryColor:a||ii(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai,t=(0,y.useContext)(cr).csp;(0,y.useEffect)((function(){ei(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){Yr(e,"[@ant-design/icons] ".concat(t))}(ti(t),"icon should be icon definiton, but got ".concat(t)),!ti(t))return null;var c=t;return c&&"function"===typeof c.icon&&(c=_e(_e({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),ri(c.icon,"svg-".concat(c.name),_e({className:n,onClick:r,style:i,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};ci.displayName="IconReact",ci.getTwoToneColors=function(){return _e({},ui)},ci.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ui.primaryColor=t,ui.secondaryColor=n||ii(t),ui.calculated=!!n};var li=ci;function fi(e){var t=oi(e),n=(0,m.Z)(t,2),r=n[0],i=n[1];return li.setTwoToneColors({primaryColor:r,secondaryColor:i})}var di=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];fi("#1890ff");var hi=y.forwardRef((function(e,t){var n,r=e.className,i=e.icon,o=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,c=e.twoToneColor,l=ur(e,di),f=y.useContext(cr).prefixCls,d=void 0===f?"anticon":f,h=Mn()(d,(n={},(0,xe.Z)(n,"".concat(d,"-").concat(i.name),!!i.name),(0,xe.Z)(n,"".concat(d,"-spin"),!!o||"loading"===i.name),n),r),p=s;void 0===p&&u&&(p=-1);var v=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,g=oi(c),b=(0,m.Z)(g,2),x=b[0],w=b[1];return y.createElement("span",_e(_e({role:"img","aria-label":i.name},l),{},{ref:t,tabIndex:p,onClick:u,className:h}),y.createElement(li,{icon:i,primaryColor:x,secondaryColor:w,style:v}))}));hi.displayName="AntdIcon",hi.getTwoToneColor=function(){var e=li.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},hi.setTwoToneColor=fi;var pi=hi,vi=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:sr}))};vi.displayName="BarsOutlined";var gi=y.forwardRef(vi),mi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},yi=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:mi}))};yi.displayName="RightOutlined";var bi=y.forwardRef(yi),xi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},wi=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:xi}))};wi.displayName="LeftOutlined";var _i=y.forwardRef(wi),Ei=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Si=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ki={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Ci=y.createContext({}),Mi=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),Oi=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.trigger,o=e.children,a=e.defaultCollapsed,s=void 0!==a&&a,u=e.theme,c=void 0===u?"dark":u,l=e.style,f=void 0===l?{}:l,d=e.collapsible,h=void 0!==d&&d,p=e.reverseArrow,v=void 0!==p&&p,g=e.width,b=void 0===g?200:g,x=e.collapsedWidth,w=void 0===x?80:x,_=e.zeroWidthTriggerStyle,E=e.breakpoint,S=e.onCollapse,k=e.onBreakpoint,C=Si(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),M=(0,y.useContext)(Qn).siderHook,O=(0,y.useState)("collapsed"in C?C.collapsed:s),N=(0,m.Z)(O,2),T=N[0],A=N[1],P=(0,y.useState)(!1),I=(0,m.Z)(P,2),D=I[0],R=I[1];(0,y.useEffect)((function(){"collapsed"in C&&A(C.collapsed)}),[C.collapsed]);var L=function(e,t){"collapsed"in C||A(e),null===S||void 0===S||S(e,t)},j=(0,y.useRef)();j.current=function(e){R(e.matches),null===k||void 0===k||k(e.matches),T!==e.matches&&L(e.matches,"responsive")},(0,y.useEffect)((function(){function e(e){return j.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&E&&E in ki){t=n("(max-width: ".concat(ki[E],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[E]),(0,y.useEffect)((function(){var e=Mi("ant-sider-");return M.addSider(e),function(){return M.removeSider(e)}}),[]);var F=function(){L(!T,"clickTrigger")},B=(0,y.useContext)(Xn).getPrefixCls,z=y.useMemo((function(){return{siderCollapsed:T}}),[T]);return y.createElement(Ci.Provider,{value:z},function(){var e,a=B("layout-sider",n),s=ar(C,["collapsed"]),u=T?w:b,l=Ei(u)?"".concat(u,"px"):String(u),d=0===parseFloat(String(w||0))?y.createElement("span",{onClick:F,className:Mn()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(v?"right":"left")),style:_},i||y.createElement(gi,null)):null,p={expanded:v?y.createElement(bi,null):y.createElement(_i,null),collapsed:v?y.createElement(_i,null):y.createElement(bi,null)}[T?"collapsed":"expanded"],g=null!==i?d||y.createElement("div",{className:"".concat(a,"-trigger"),onClick:F,style:{width:l}},i||p):null,m=Mt(Mt({},f),{flex:"0 0 ".concat(l),maxWidth:l,minWidth:l,width:l}),x=Mn()(a,"".concat(a,"-").concat(c),(e={},(0,xe.Z)(e,"".concat(a,"-collapsed"),!!T),(0,xe.Z)(e,"".concat(a,"-has-trigger"),h&&null!==i&&!d),(0,xe.Z)(e,"".concat(a,"-below"),!!D),(0,xe.Z)(e,"".concat(a,"-zero-width"),0===parseFloat(l)),e),r);return y.createElement("aside",Mt({className:x},s,{style:m,ref:t}),y.createElement("div",{className:"".concat(a,"-children")},o),h||D&&d?g:null)}())}));Oi.displayName="Sider";var Ni=Oi,Ti=or;Ti.Header=nr,Ti.Footer=rr,Ti.Content=ir,Ti.Sider=Ni;var Ai=Ti,Pi=n(57441);function Ii(e,t,n){var r=y.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}function Di(e,t){"function"===typeof e?e(t):"object"===(0,lr.Z)(e)&&e&&"current"in e&&(e.current=t)}function Ri(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Di(t,e)}))}}function Li(e){var t,n,r=(0,Pi.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var ji=function(e,t,n){Yr(e,"[antd: ".concat(t,"] ").concat(n))},Fi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Bi=function(e,t){var n=e.prefixCls,r=e.component,i=void 0===r?"article":r,o=e.className,a=e["aria-label"],s=e.setContentRef,u=e.children,c=Fi(e,["prefixCls","component","className","aria-label","setContentRef","children"]),l=y.useContext(Xn),f=l.getPrefixCls,d=l.direction,h=t;s&&(ji(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),h=Ri(t,s));var p=i,v=f("typography",n),g=Mn()(v,(0,xe.Z)({},"".concat(v,"-rtl"),"rtl"===d),o);return y.createElement(p,Mt({className:g,"aria-label":a,ref:h},c),u)},zi=y.forwardRef(Bi);zi.displayName="Typography";var Ui=zi;function Gi(e){var t=y.useRef(!1),n=y.useState(e),r=(0,m.Z)(n,2),i=r[0],o=r[1];return y.useEffect((function(){return function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||o(e)}]}function Vi(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Gi((function(){return void 0!==i?i:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=void 0!==i?i:c;a&&(f=a(f));var d=y.useRef(o);d.current=o;var h=y.useCallback((function(e,t){l(e,t),f!==e&&d.current&&d.current(e,f)}),[f,d]),p=y.useRef(!0);return y.useEffect((function(){p.current?p.current=!1:void 0===i&&l(i)}),[i]),[f,h]}function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return y.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Zi(e)):(0,Pi.isFragment)(e)&&e.props?n=n.concat(Zi(e.props.children,t)):n.push(e))})),n}var Wi=n(76998),Yi=n.n(Wi),Hi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},qi=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Hi}))};qi.displayName="EditOutlined";var Xi=y.forwardRef(qi),Ki={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},$i=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ki}))};$i.displayName="CheckOutlined";var Qi=y.forwardRef($i),Ji={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},eo=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ji}))};eo.displayName="CopyOutlined";var to=y.forwardRef(eo);function no(e){return e instanceof HTMLElement?e:b.findDOMNode(e)}var ro=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),io="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,oo="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),ao="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(oo):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var so=["top","right","bottom","left","width","height","size","weight"],uo="undefined"!==typeof MutationObserver,co=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){ao(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){io&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),uo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){io&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=so.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),lo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},fo=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||oo},ho=bo(0,0,0,0);function po(e){return parseFloat(e)||0}function vo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+po(e["border-"+n+"-width"])}),0)}function go(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ho;var r=fo(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=po(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=po(r.width),u=po(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=vo(r,"left","right")+o),Math.round(u+a)!==n&&(u-=vo(r,"top","bottom")+a)),!function(e){return e===fo(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return bo(i.left,i.top,s,u)}var mo="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof fo(e).SVGGraphicsElement}:function(e){return e instanceof fo(e).SVGElement&&"function"===typeof e.getBBox};function yo(e){return io?mo(e)?function(e){var t=e.getBBox();return bo(0,0,t.width,t.height)}(e):go(e):ho}function bo(e,t,n,r){return{x:e,y:t,width:n,height:r}}var xo=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bo(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=yo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),wo=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return lo(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);lo(this,{target:e,contentRect:n})},_o=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ro,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof fo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new xo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof fo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new wo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Eo="undefined"!==typeof WeakMap?new WeakMap:new ro,So=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=co.getInstance(),r=new _o(t,n,this);Eo.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){So.prototype[e]=function(){var t;return(t=Eo.get(this))[e].apply(t,arguments)}}));var ko="undefined"!==typeof oo.ResizeObserver?oo.ResizeObserver:So,Co=new Map;var Mo=new ko((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Co.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Oo=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),No=y.createContext(null);function To(e){var t=e.children,n=e.disabled,r=y.useRef(null),i=y.useRef(null),o=y.useContext(No),a="function"===typeof t,s=a?t(r):t,u=y.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!a&&y.isValidElement(s)&&Li(s),l=c?s.ref:null,f=y.useMemo((function(){return Ri(l,r)}),[l,r]),d=y.useRef(e);d.current=e;var h=y.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,c=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=p;var v=c===Math.round(a)?a:c,g=l===Math.round(s)?s:l,m=_e(_e({},p),{},{offsetWidth:v,offsetHeight:g});null===o||void 0===o||o(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return y.useEffect((function(){var e,t,o=no(r.current)||no(i.current);return o&&!n&&(e=o,t=h,Co.has(e)||(Co.set(e,new Set),Mo.observe(e)),Co.get(e).add(t)),function(){return function(e,t){Co.has(e)&&(Co.get(e).delete(t),Co.get(e).size||(Mo.unobserve(e),Co.delete(e)))}(o,h)}}),[r.current,n]),y.createElement(Oo,{ref:i},c?y.cloneElement(s,{ref:f}):s)}function Ao(e){var t=e.children;return("function"===typeof t?[t]:Zi(t)).map((function(t,n){var r=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return y.createElement(To,Mt({},e,{key:r}),t)}))}Ao.Collection=function(e){var t=e.children,n=e.onBatchResize,r=y.useRef(0),i=y.useRef([]),o=y.useContext(No),a=y.useCallback((function(e,t,a){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(e,t,a)}),[n,o]);return y.createElement(No.Provider,{value:a},t)};var Po=Ao,Io=Hr()?y.useLayoutEffect:y.useEffect,Do={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Do.F1&&t<=Do.F12)return!1;switch(t){case Do.ALT:case Do.CAPS_LOCK:case Do.CONTEXT_MENU:case Do.CTRL:case Do.DOWN:case Do.END:case Do.ESC:case Do.HOME:case Do.INSERT:case Do.LEFT:case Do.MAC_FF_META:case Do.META:case Do.NUMLOCK:case Do.NUM_CENTER:case Do.PAGE_DOWN:case Do.PAGE_UP:case Do.PAUSE:case Do.PRINT_SCREEN:case Do.RIGHT:case Do.SHIFT:case Do.UP:case Do.WIN_KEY:case Do.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Do.ZERO&&e<=Do.NINE)return!0;if(e>=Do.NUM_ZERO&&e<=Do.NUM_MULTIPLY)return!0;if(e>=Do.A&&e<=Do.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Do.SPACE:case Do.QUESTION_MARK:case Do.NUM_PLUS:case Do.NUM_MINUS:case Do.NUM_PERIOD:case Do.NUM_DIVISION:case Do.SEMICOLON:case Do.DASH:case Do.EQUALS:case Do.COMMA:case Do.PERIOD:case Do.SLASH:case Do.APOSTROPHE:case Do.SINGLE_QUOTE:case Do.OPEN_SQUARE_BRACKET:case Do.BACKSLASH:case Do.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ro=Do,Lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jo={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Fo=y.forwardRef((function(e,t){var n=e.style,r=e.noStyle,i=e.disabled,o=Lo(e,["style","noStyle","disabled"]),a={};return r||(a=Mt({},jo)),i&&(a.pointerEvents="none"),a=Mt(Mt({},a),n),y.createElement("div",Mt({role:"button",tabIndex:0,ref:t},o,{onKeyDown:function(e){e.keyCode===Ro.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,r=e.onClick;n===Ro.ENTER&&r&&r()},style:a}))})),Bo=Fo,zo=function(e){if(Hr()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function Uo(e,t){return Array.isArray(e)||void 0===t?zo(e):function(e,t){if(!zo(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var Go=n(97326),Vo=function(e){return+setTimeout(e,16)},Zo=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Vo=function(e){return window.requestAnimationFrame(e)},Zo=function(e){return window.cancelAnimationFrame(e)});var Wo=0,Yo=new Map;function Ho(e){Yo.delete(e)}function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Wo+=1;function r(t){if(0===t)Ho(n),e();else{var i=Vo((function(){r(t-1)}));Yo.set(n,i)}}return r(t),n}function Xo(e,t){return!!e&&e.contains(t)}function Ko(e,t,n,r){var i=b.unstable_batchedUpdates?function(e){b.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}qo.cancel=function(e){var t=Yo.get(e);return Ho(t),Zo(t)};var $o=(0,y.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,o=(0,y.useRef)();(0,y.useImperativeHandle)(t,(function(){return{}}));var a=(0,y.useRef)(!1);return!a.current&&Hr()&&(o.current=r(),a.current=!0),(0,y.useEffect)((function(){null===n||void 0===n||n(e)})),(0,y.useEffect)((function(){return function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?b.createPortal(i,o.current):null})),Qo=$o;function Jo(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var ea=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var na=function(e,t){var n={animationend:ta("Animation","AnimationEnd"),transitionend:ta("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Hr(),"undefined"!==typeof window?window:{}),ra={};if(Hr()){var ia=document.createElement("div");ra=ia.style}var oa={};function aa(e){if(oa[e])return oa[e];var t=na[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in ra)return oa[e]=t[o],oa[e]}return""}var sa=aa("animationend"),ua=aa("transitionend"),ca=!(!sa||!ua),la=sa||"animationend",fa=ua||"transitionend";function da(e,t){if(!e)return null;if("object"===(0,lr.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var ha="none",pa="appear",va="enter",ga="leave",ma="none",ya="prepare",ba="start",xa="active",wa="end",_a=Hr()?y.useLayoutEffect:y.useEffect,Ea=[ya,ba,xa,wa];function Sa(e){return e===xa||e===wa}var ka=function(e,t){var n=Gi(ma),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=function(){var e=y.useRef(null);function t(){qo.cancel(e.current)}return y.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=qo((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=(0,m.Z)(a,2),u=s[0],c=s[1];return _a((function(){if(i!==ma&&i!==wa){var e=Ea.indexOf(i),n=Ea[e+1],r=t(i);false===r?o(n,!0):u((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),y.useEffect((function(){return function(){c()}}),[]),[function(){o(ya,!0)},i]};function Ca(e,t,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,u=r.motionLeave,c=void 0===u||u,l=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,g=r.onEnterStart,b=r.onLeaveStart,x=r.onAppearActive,w=r.onEnterActive,_=r.onLeaveActive,E=r.onAppearEnd,S=r.onEnterEnd,k=r.onLeaveEnd,C=r.onVisibleChanged,M=Gi(),O=(0,m.Z)(M,2),N=O[0],T=O[1],A=Gi(ha),P=(0,m.Z)(A,2),I=P[0],D=P[1],R=Gi(null),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=(0,y.useRef)(!1),z=(0,y.useRef)(null),U=(0,y.useRef)(null);function G(){return n()||U.current}var V=(0,y.useRef)(!1);function Z(e){var t,n=G();e&&!e.deadline&&e.target!==n||(I===pa&&V.current?t=null===E||void 0===E?void 0:E(n,e):I===va&&V.current?t=null===S||void 0===S?void 0:S(n,e):I===ga&&V.current&&(t=null===k||void 0===k?void 0:k(n,e)),!1!==t&&(D(ha,!0),F(null,!0)))}var W=function(e){var t=(0,y.useRef)(),n=(0,y.useRef)(e);n.current=e;var r=y.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(fa,r),e.removeEventListener(la,r))}return y.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(fa,r),e.addEventListener(la,r),t.current=e)},i]}(Z),Y=(0,m.Z)(W,1)[0],H=y.useMemo((function(){var e,t,n;switch(I){case pa:return e={},(0,xe.Z)(e,ya,d),(0,xe.Z)(e,ba,v),(0,xe.Z)(e,xa,x),e;case va:return t={},(0,xe.Z)(t,ya,h),(0,xe.Z)(t,ba,g),(0,xe.Z)(t,xa,w),t;case ga:return n={},(0,xe.Z)(n,ya,p),(0,xe.Z)(n,ba,b),(0,xe.Z)(n,xa,_),n;default:return{}}}),[I]),q=ka(I,(function(e){if(e===ya){var t=H.prepare;return!!t&&t(G())}var n;$ in H&&F((null===(n=H[$])||void 0===n?void 0:n.call(H,G(),null))||null);return $===xa&&(Y(G()),l>0&&(clearTimeout(z.current),z.current=setTimeout((function(){Z({deadline:!0})}),l))),true})),X=(0,m.Z)(q,2),K=X[0],$=X[1],Q=Sa($);V.current=Q,_a((function(){T(t);var n,r=B.current;(B.current=!0,e)&&(!r&&t&&s&&(n=pa),r&&t&&o&&(n=va),(r&&!t&&c||!r&&f&&!t&&c)&&(n=ga),n&&(D(n),K()))}),[t]),(0,y.useEffect)((function(){(I===pa&&!s||I===va&&!o||I===ga&&!c)&&D(ha)}),[s,o,c]),(0,y.useEffect)((function(){return function(){clearTimeout(z.current)}}),[]),(0,y.useEffect)((function(){void 0!==N&&I===ha&&(null===C||void 0===C||C(N))}),[N,I]);var J=j;return H.prepare&&$===ba&&(J=_e({transition:"none"},J)),[I,$,J,null!==N&&void 0!==N?N:t]}var Ma=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),Oa=Ma;var Na=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,lr.Z)(e)&&(t=e.transitionSupport);var r=y.forwardRef((function(e,t){var r=e.visible,i=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,s=e.forceRender,u=e.children,c=e.motionName,l=e.leavedClassName,f=e.eventProps,d=n(e),h=(0,y.useRef)(),p=(0,y.useRef)();var v=Ca(d,i,(function(){try{return h.current instanceof HTMLElement?h.current:no(p.current)}catch(e){return null}}),e),g=(0,m.Z)(v,4),b=g[0],x=g[1],w=g[2],_=g[3],E=y.useRef(_);_&&(E.current=!0);var S,k=y.useCallback((function(e){h.current=e,Di(t,e)}),[]),C=_e(_e({},f),{},{visible:i});if(u)if(b!==ha&&n(e)){var M,O;x===ya?O="prepare":Sa(x)?O="active":x===ba&&(O="start"),S=u(_e(_e({},C),{},{className:Mn()(da(c,b),(M={},(0,xe.Z)(M,da(c,"".concat(b,"-").concat(O)),O),(0,xe.Z)(M,c,"string"===typeof c),M)),style:w}),k)}else S=_?u(_e({},C),k):!a&&E.current?u(_e(_e({},C),{},{className:l}),k):s?u(_e(_e({},C),{},{style:{display:"none"}}),k):null;else S=null;return y.createElement(Oa,{ref:p},S)}));return r.displayName="CSSMotion",r}(ca),Ta="add",Aa="keep",Pa="remove",Ia="removed";function Da(e){var t;return _e(_e({},t=e&&"object"===(0,lr.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Da)}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Ra(e),a=Ra(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return _e(_e({},e),{},{status:Ta})}))),r=o),n.push(_e(_e({},s),{},{status:Aa})),r+=1,t=!0;break}}t||n.push(_e(_e({},e),{},{status:Pa}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return _e(_e({},e),{},{status:Ta})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Pa})),n.forEach((function(t){t.key===e&&(t.status=Aa)}))})),n}var ja=["component","children","onVisibleChanged"],Fa=["status"],Ba=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var za=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Na,n=function(e){(0,Tn.Z)(r,e);var n=(0,An.Z)(r);function r(){var e;(0,On.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:_e(_e({},e),{},{status:Ia})}))}}))},e}return(0,Nn.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=ur(r,ja),u=i||y.Fragment,c={};return Ba.forEach((function(e){c[e]=s[e],delete s[e]})),delete s.keys,y.createElement(u,s,n.map((function(n){var r=n.status,i=ur(n,Fa),s=r===Ta||r===Aa;return y.createElement(t,Mt({},c,{key:i.key,visible:s,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Ra(n);return{keyEntities:La(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Ia||e.status!==Pa}))}}}]),r}(y.Component);return n.defaultProps={component:"div"},n}(ca),Ua=Na;function Ga(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Va(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,s=e.maskTransitionName;if(!i)return null;var u={};return(o||s||a)&&(u=_e({motionAppear:!0},Ga({motion:o,prefixCls:t,transitionName:s,animation:a}))),y.createElement(Ua,Mt({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return y.createElement("div",{style:{zIndex:r},className:Mn()("".concat(t,"-mask"),n)})}))}var Za,Wa=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e){return qa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ka={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function $a(){if(void 0!==Za)return Za;Za="";var e=document.createElement("p").style;for(var t in Ka)t+"Transform"in e&&(Za=t);return Za}function Qa(){return $a()?"".concat($a(),"TransitionProperty"):"transitionProperty"}function Ja(){return $a()?"".concat($a(),"Transform"):"transform"}function es(e,t){var n=Qa();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function ts(e,t){var n=Ja();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ns,rs=/matrix\((.*)\)/,is=/matrix3d\((.*)\)/;function os(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function as(e,t,n){var r=n;if("object"!==qa(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):ns(e,t);for(var i in t)t.hasOwnProperty(i)&&as(e,i,t[i])}function ss(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function us(e){return ss(e)}function cs(e){return ss(e,!0)}function ls(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=us(r),t.top+=cs(r),t}function fs(e){return null!==e&&void 0!==e&&e==e.window}function ds(e){return fs(e)?e.document:9===e.nodeType?e:e.ownerDocument}var hs=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ps=/^(top|right|bottom|left)$/;function vs(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function gs(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function ms(e,t,n){"static"===as(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=vs("left",n),a=vs("top",n),s=gs(o),u=gs(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c="",l=ls(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[Qa()]}(e)||"",es(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),os(e);var f=ls(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=vs(h,n),v="left"===h?r:i,g=l[h]-f[h];d[p]=p===h?v+g:v-g}as(e,d),os(e),("left"in t||"top"in t)&&es(e,c);var m={};for(var y in t)if(t.hasOwnProperty(y)){var b=vs(y,n),x=t[y]-l[y];m[b]=y===b?d[b]+x:d[b]-x}as(e,m)}function ys(e,t){var n=ls(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Ja());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Ja());if(r&&"none"!==r){var i,o=r.match(rs);o?(i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,ts(e,"matrix(".concat(i.join(","),")"))):(i=r.match(is)[1].split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,ts(e,"matrix3d(".concat(i.join(","),")")))}else ts(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function bs(e,t){for(var n=0;n<e.length;n++)t(e[n])}function xs(e){return"border-box"===ns(e,"boxSizing")}"undefined"!==typeof window&&(ns=window.getComputedStyle?function(e,t,n){var r=n,i="",o=ds(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(hs.test(n)&&!ps.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var ws=["margin","border","padding"];function _s(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function Es(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(ns(e,s))||0}return a}var Ss={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ks(e,t,n){var r=n;if(fs(e))return"width"===t?Ss.viewportWidth(e):Ss.viewportHeight(e);if(9===e.nodeType)return"width"===t?Ss.docWidth(e):Ss.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=xs(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=ns(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,c=o||s;return-1===r?u?c-Es(e,["border","padding"],i):s:u?1===r?c:c+(2===r?-Es(e,["border"],i):Es(e,["margin"],i)):s+Es(e,ws.slice(r),i)}bs(["Width","Height"],(function(e){Ss["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Ss["viewport".concat(e)](n))},Ss["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var Cs={position:"absolute",visibility:"hidden",display:"block"};function Ms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ks.apply(void 0,t):_s(i,Cs,(function(){r=ks.apply(void 0,t)})),r}function Os(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}bs(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Ss["outer".concat(t)]=function(t,n){return t&&Ms(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Ss[e]=function(t,r){var i=r;return void 0!==i?t?(xs(t)&&(i+=Es(t,["padding","border"],n)),as(t,e,i)):void 0:t&&Ms(t,e,-1)}}));var Ns={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:ds,offset:function(e,t,n){if("undefined"===typeof t)return ls(e);!function(e,t,n){if(n.ignoreShake){var r=ls(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?ms(e,t,n):n.useCssTransform&&Ja()in document.body.style?ys(e,t):ms(e,t,n)}(e,t,n||{})},isWindow:fs,each:bs,css:as,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Os,getWindowScrollLeft:function(e){return us(e)},getWindowScrollTop:function(e){return cs(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ns.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Os(Ns,Ss);var Ts=Ns.getParent;function As(e){if(Ns.isWindow(e)||9===e.nodeType)return null;var t,n=Ns.getDocument(e).body,r=Ns.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Ts(e);for(t=Ts(e);t&&t!==n&&9!==t.nodeType;t=Ts(t))if("static"!==(r=Ns.css(t,"position")))return t;return null}var Ps=Ns.getParent;function Is(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=As(e),i=Ns.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Ns.css(r,"overflow")){if(r===a||r===s)break}else{var u=Ns.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=As(r)}var c=null;Ns.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Ns.css(e,"position")&&(e.style.position="fixed"));var l=Ns.getWindowScrollLeft(o),f=Ns.getWindowScrollTop(o),d=Ns.viewportWidth(o),h=Ns.viewportHeight(o),p=s.scrollWidth,v=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(p=o.innerWidth),"hidden"===g.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Ns.isWindow(e)||9===e.nodeType)return!1;var t=Ns.getDocument(e),n=t.body,r=null;for(r=Ps(e);r&&r!==n&&r!==t;r=Ps(r))if("fixed"===Ns.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+d),n.bottom=Math.min(n.bottom,f+h);else{var m=Math.max(p,l+d);n.right=Math.min(n.right,m);var y=Math.max(v,f+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ds(e){var t,n,r;if(Ns.isWindow(e)||9===e.nodeType){var i=Ns.getWindow(e);t={left:Ns.getWindowScrollLeft(i),top:Ns.getWindowScrollTop(i)},n=Ns.viewportWidth(i),r=Ns.viewportHeight(i)}else t=Ns.offset(e),n=Ns.outerWidth(e),r=Ns.outerHeight(e);return t.width=n,t.height=r,t}function Rs(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Ls(e,t,n,r,i){var o=Rs(t,n[1]),a=Rs(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function js(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Fs(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Bs(e,t,n){var r=[];return Ns.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function zs(e,t){return e[t]=-e[t],e}function Us(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Gs(e,t){e[0]=Us(e[0],t.width),e[1]=Us(e[1],t.height)}function Vs(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var c={},l=0,f=Is(u,!(!(s=s||{})||!s.alwaysByViewport)),d=Ds(u);Gs(o,d),Gs(a,t);var h=Ls(d,t,i,o,a),p=Ns.merge(d,h);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&js(h,d,f)){var v=Bs(i,/[lr]/gi,{l:"r",r:"l"}),g=zs(o,0),m=zs(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Ls(d,t,v,g,m),d,f)||(l=1,i=v,o=g,a=m)}if(s.adjustY&&Fs(h,d,f)){var y=Bs(i,/[tb]/gi,{t:"b",b:"t"}),b=zs(o,1),x=zs(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Ls(d,t,y,b,x),d,f)||(l=1,i=y,o=b,a=x)}l&&(h=Ls(d,t,i,o,a),Ns.mix(p,h));var w=js(h,d,f),_=Fs(h,d,f);if(w||_){var E=i;w&&(E=Bs(i,/[lr]/gi,{l:"r",r:"l"})),_&&(E=Bs(i,/[tb]/gi,{t:"b",b:"t"})),i=E,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&_,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=Ns.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Ns.mix(i,o)}(h,d,f,c))}return p.width!==d.width&&Ns.css(u,"width",Ns.width(u)+p.width-d.width),p.height!==d.height&&Ns.css(u,"height",Ns.height(u)+p.height-d.height),Ns.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function Zs(e,t,n){var r=n.target||t,i=Ds(r),o=!function(e,t){var n=Is(e,t),r=Ds(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Vs(e,i,n,o)}Zs.__getOffsetParent=As,Zs.__getVisibleRectForElement=Is;var Ws=n(18111),Ys=n.n(Ws);function Hs(e,t){var n=null,r=null;var i=new ko((function(e){var i=(0,m.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),c=Math.floor(s);n===u&&r===c||Promise.resolve().then((function(){t({width:u,height:c})})),n=u,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function qs(e){return"function"!==typeof e?null:e()}function Xs(e){return"object"===(0,lr.Z)(e)&&e?e:null}var Ks=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,c=void 0===u?0:u,l=y.useRef({}),f=y.useRef(),d=y.Children.only(n),h=y.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var p=function(e,t){var n=y.useRef(!1),r=y.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=f.current,s=qs(n),u=Xs(n);l.current.element=s,l.current.point=u,l.current.align=r;var c=document.activeElement;return s&&Wa(s)?o=Zs(a,s,r):u&&(o=function(e,t,n){var r,i,o=Ns.getDocument(e),a=o.defaultView||o.parentWindow,s=Ns.getWindowScrollLeft(a),u=Ns.getWindowScrollTop(a),c=Ns.viewportWidth(a),l=Ns.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},d=r>=0&&r<=s+c&&i>=0&&i<=u+l,h=[n.points[0],"cc"];return Vs(e,f,Ha(Ha({},n),{},{points:h}),d)}(a,u,r)),function(e,t){e!==document.activeElement&&Xo(t,e)&&"function"===typeof e.focus&&e.focus()}(c,a),i&&o&&i(a,o),!0}return!1}),c),v=(0,m.Z)(p,2),g=v[0],b=v[1],x=y.useRef({cancel:function(){}}),w=y.useRef({cancel:function(){}});y.useEffect((function(){var e,t,n=qs(i),r=Xs(i);f.current!==w.current.element&&(w.current.cancel(),w.current.element=f.current,w.current.cancel=Hs(f.current,g)),l.current.element===n&&((e=l.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Ys()(l.current.align,o)||(g(),x.current.element!==n&&(x.current.cancel(),x.current.element=n,x.current.cancel=Hs(n,g)))})),y.useEffect((function(){r?b():g()}),[r]);var _=y.useRef(null);return y.useEffect((function(){s?_.current||(_.current=Ko(window,"resize",g)):_.current&&(_.current.remove(),_.current=null)}),[s]),y.useEffect((function(){return function(){x.current.cancel(),w.current.cancel(),_.current&&_.current.remove(),b()}}),[]),y.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),y.isValidElement(d)&&(d=y.cloneElement(d,{ref:Ri(d.ref,f)})),d},$s=y.forwardRef(Ks);$s.displayName="Align";var Qs=$s,Js=n(87757),eu=n.n(Js),tu=n(15861),nu=["measure","align",null,"motion"],ru=y.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.zIndex,u=e.stretch,c=e.destroyPopupOnHide,l=e.forceRender,f=e.align,d=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,v=e.onAlign,g=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,_=(0,y.useRef)(),E=(0,y.useRef)(),S=(0,y.useState)(),k=(0,m.Z)(S,2),C=k[0],M=k[1],O=function(e){var t=y.useState({width:0,height:0}),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=y.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[o,function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(u),N=(0,m.Z)(O,2),T=N[0],A=N[1];var P=function(e,t){var n=Gi(null),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useRef)();function s(e){o(e,!0)}function u(){qo.cancel(a.current)}return(0,y.useEffect)((function(){s("measure")}),[e]),(0,y.useEffect)((function(){"measure"===i&&t(),i&&(a.current=qo((0,tu.Z)(eu().mark((function e(){var t,n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=nu.indexOf(i),(n=nu[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,y.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=qo((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){u&&A(h())})),I=(0,m.Z)(P,2),D=I[0],R=I[1],L=(0,y.useRef)();function j(){var e;null===(e=_.current)||void 0===e||e.forceAlign()}function F(e,t){var n=p(t);C!==n&&M(n),"align"===D&&(C!==n?Promise.resolve().then((function(){j()})):R((function(){var e;null===(e=L.current)||void 0===e||e.call(L)})),null===v||void 0===v||v(e,t))}var B=_e({},Ga(e));function z(){return new Promise((function(e){L.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=B[e];B[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),y.useEffect((function(){B.motionName||"motion"!==D||R()}),[B.motionName,D]),y.useImperativeHandle(t,(function(){return{forceAlign:j,getElement:function(){return E.current}}}));var U=_e(_e({},T),{},{zIndex:s,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:"stable"===D?void 0:"none"},o),G=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==D&&"stable"!==D||(G=!1);var V=a;return y.Children.count(a)>1&&(V=y.createElement("div",{className:"".concat(r,"-content")},a)),y.createElement(Ua,Mt({visible:n,ref:E,leavedClassName:"".concat(r,"-hidden")},B,{onAppearPrepare:z,onEnterPrepare:z,removeOnLeave:c,forceRender:l}),(function(e,t){var n=e.className,o=e.style,a=Mn()(r,i,C,n);return y.createElement(Qs,{target:d||h,key:"popup",ref:_,monitorWindowResize:!0,disabled:G,align:f,onAlign:F},y.createElement("div",{ref:t,className:a,onMouseEnter:g,onMouseLeave:b,onMouseDownCapture:x,onTouchStartCapture:w,style:_e(_e({},o),U)},V))}))}));ru.displayName="PopupInner";var iu=ru,ou=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.children,a=e.mobile,s=(a=void 0===a?{}:a).popupClassName,u=a.popupStyle,c=a.popupMotion,l=void 0===c?{}:c,f=a.popupRender,d=y.useRef();y.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var h=_e({zIndex:i},u),p=o;return y.Children.count(o)>1&&(p=y.createElement("div",{className:"".concat(n,"-content")},o)),f&&(p=f(p)),y.createElement(Ua,Mt({visible:r,ref:d,removeOnLeave:!0},l),(function(e,t){var r=e.className,i=e.style,o=Mn()(n,s,r);return y.createElement("div",{ref:t,className:o,style:_e(_e({},i),h)},p)}))}));ou.displayName="MobilePopupInner";var au=ou,su=["visible","mobile"],uu=y.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=ur(e,su),o=(0,y.useState)(n),a=(0,m.Z)(o,2),s=a[0],u=a[1],c=(0,y.useState)(!1),l=(0,m.Z)(c,2),f=l[0],d=l[1],h=_e(_e({},i),{},{visible:s});(0,y.useEffect)((function(){u(n),n&&r&&d(ea())}),[n,r]);var p=f?y.createElement(au,Mt({},h,{mobile:r,ref:t})):y.createElement(iu,Mt({},h,{ref:t}));return y.createElement("div",null,y.createElement(Va,h),p)}));uu.displayName="Popup";var cu=uu,lu=y.createContext(null);function fu(){}function du(){return""}function hu(e){return e?e.ownerDocument:window.document}var pu=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var vu=function(e){var t=function(t){(0,Tn.Z)(r,t);var n=(0,An.Z)(r);function r(e){var t,i;return(0,On.Z)(this,r),(t=n.call(this,e)).popupRef=y.createRef(),t.triggerRef=y.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Xo(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Xo(r,n)&&!t.isContextMenuOnly()||Xo(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=no(t.triggerRef.current);if(n)return n}catch(r){}return b.findDOMNode((0,Go.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(Jo(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,i=e.popupClassName,o=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,u=e.popupTransitionName,c=e.popupStyle,l=e.mask,f=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,p=e.zIndex,v=e.popup,g=e.stretch,m=e.alignPoint,b=e.mobile,x=e.forceRender,w=t.state,_=w.popupVisible,E=w.point,S=t.getPopupAlign(),k={};return t.isMouseEnterToShow()&&(k.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(k.onMouseLeave=t.onPopupMouseLeave),k.onMouseDown=t.onPopupMouseDown,k.onTouchStart=t.onPopupMouseDown,y.createElement(cu,Mt({prefixCls:n,destroyPopupOnHide:r,visible:_,point:m&&E,className:i,align:S,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},k,{stretch:g,getRootDomNode:t.getRootDomNode,style:c,mask:l,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:d,maskMotion:h,ref:t.popupRef,motion:a,mobile:b,forceRender:x}),"function"===typeof v?v():v)},t.attachParent=function(e){qo.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=qo((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:i,popupVisible:i},pu.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,Nn.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Ko(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Ko(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Ko(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Ko(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),qo.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return _e(_e({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,u=y.Children.only(r),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,o&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var l=Mn()(u&&u.props&&u.props.className,a);l&&(c.className=l);var f=_e({},c);Li(u)&&(f.ref=Ri(this.triggerRef,u.ref));var d,h=y.cloneElement(u,f);return(t||this.popupRef.current||i)&&(d=y.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),y.createElement(lu.Provider,{value:this.triggerContextValue},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(y.Component);return t.contextType=lu,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:du,getDocument:hu,onPopupVisibleChange:fu,afterPopupVisibleChange:fu,onPopupAlign:fu,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(Qo),gu={adjustX:1,adjustY:1},mu=[0,0],yu={left:{points:["cr","cl"],overflow:gu,offset:[-4,0],targetOffset:mu},right:{points:["cl","cr"],overflow:gu,offset:[4,0],targetOffset:mu},top:{points:["bc","tc"],overflow:gu,offset:[0,-4],targetOffset:mu},bottom:{points:["tc","bc"],overflow:gu,offset:[0,4],targetOffset:mu},topLeft:{points:["bl","tl"],overflow:gu,offset:[0,-4],targetOffset:mu},leftTop:{points:["tr","tl"],overflow:gu,offset:[-4,0],targetOffset:mu},topRight:{points:["br","tr"],overflow:gu,offset:[0,-4],targetOffset:mu},rightTop:{points:["tl","tr"],overflow:gu,offset:[4,0],targetOffset:mu},bottomRight:{points:["tr","br"],overflow:gu,offset:[0,4],targetOffset:mu},rightBottom:{points:["bl","br"],overflow:gu,offset:[4,0],targetOffset:mu},bottomLeft:{points:["tl","bl"],overflow:gu,offset:[0,4],targetOffset:mu},leftBottom:{points:["br","bl"],overflow:gu,offset:[-4,0],targetOffset:mu}},bu=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return y.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof t?t():t)},xu=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,a=void 0===o?0:o,s=e.mouseLeaveDelay,u=void 0===s?.1:s,c=e.overlayStyle,l=e.prefixCls,f=void 0===l?"rc-tooltip":l,d=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,v=e.transitionName,g=e.animation,m=e.motion,b=e.placement,x=void 0===b?"right":b,w=e.align,_=void 0===w?{}:w,E=e.destroyTooltipOnHide,S=void 0!==E&&E,k=e.defaultVisible,C=e.getTooltipContainer,M=e.overlayInnerStyle,O=ur(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),N=(0,y.useRef)(null);(0,y.useImperativeHandle)(t,(function(){return N.current}));var T=_e({},O);"visible"in e&&(T.popupVisible=e.visible);var A=!1,P=!1;if("boolean"===typeof S)A=S;else if(S&&"object"===(0,lr.Z)(S)){var I=S.keepParent;A=!0===I,P=!1===I}return y.createElement(vu,Mt({popupClassName:n,prefixCls:f,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,i=e.id;return[y.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),y.createElement(bu,{key:"content",prefixCls:f,id:i,overlay:r,overlayInnerStyle:M})]},action:i,builtinPlacements:yu,popupPlacement:x,ref:N,popupAlign:_,getPopupContainer:C,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:m,defaultPopupVisible:k,destroyPopupOnHide:A,autoDestroy:P,mouseLeaveDelay:u,popupStyle:c,mouseEnterDelay:a},T),d)},wu=(0,y.forwardRef)(xu),_u={adjustX:1,adjustY:1},Eu={adjustX:0,adjustY:0},Su=[0,0];function ku(e){return"boolean"===typeof e?e?_u:Eu:Mt(Mt({},Eu),e)}function Cu(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(c).forEach((function(e){c[e]=u?Mt(Mt({},c[e]),{overflow:ku(s),targetOffset:Su}):Mt(Mt({},yu[e]),{overflow:ku(s)}),c[e].ignoreShake=!0})),c}var Mu=y.isValidElement;function Ou(e,t){return function(e,t,n){return Mu(e)?y.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Nu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Tu=Nu("success","processing","error","default","warning"),Au=Nu("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Pu=function(){return{height:0,opacity:0}},Iu=function(e){return{height:e.scrollHeight,opacity:1}},Du=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Ru={motionName:"ant-motion-collapse",onAppearStart:Pu,onEnterStart:Pu,onAppearActive:Iu,onEnterActive:Iu,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Pu,onAppearEnd:Du,onEnterEnd:Du,onLeaveEnd:Du,motionDeadline:500},Lu=(Nu("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),ju=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Fu=Ru,Bu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zu=new RegExp("^(".concat(Au.join("|"),")(-inverse)?$"));function Uu(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var r=function(e,t){var n={},r=Mt({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=Mt(Mt({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Ou(e,{style:Mt(Mt({},o),{pointerEvents:"none"}),className:null});return y.createElement("span",{style:a,className:Mn()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var Gu=y.forwardRef((function(e,t){var n,r=y.useContext(Xn),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=Vi(!1,{value:e.visible,defaultValue:e.defaultVisible}),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||Cu({arrowPointAtCenter:n,autoAdjustOverflow:r})},h=e.getPopupContainer,p=Bu(e,["getPopupContainer"]),v=e.prefixCls,g=e.openClassName,b=e.getTooltipContainer,x=e.overlayClassName,w=e.color,_=e.overlayInnerStyle,E=e.children,S=o("tooltip",v),k=o(),C=c;!("visible"in e)&&f()&&(C=!1);var M,O=Uu(Mu(E)?E:y.createElement("span",null,E),S),N=O.props,T=Mn()(N.className,(0,xe.Z)({},g||"".concat(S,"-open"),!0)),A=Mn()(x,(n={},(0,xe.Z)(n,"".concat(S,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(S,"-").concat(w),w&&zu.test(w)),n)),P=_;return w&&!zu.test(w)&&(P=Mt(Mt({},_),{background:w}),M={"--antd-arrow-background-color":w}),y.createElement(wu,Mt({},p,{prefixCls:S,overlayClassName:A,getTooltipContainer:h||b||i,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:C,onVisibleChange:function(t){var n;l(!f()&&t),f()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:P,arrowContent:y.createElement("span",{className:"".concat(S,"-arrow-content"),style:M}),motion:{motionName:ju(k,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),C?Ou(O,{className:T}):O)}));Gu.displayName="Tooltip",Gu.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Vu=Gu,Zu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},Wu=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Zu}))};Wu.displayName="EnterOutlined";var Yu,Hu=y.forwardRef(Wu),qu="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Xu=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Ku={};function $u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Ku[n])return Ku[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Xu.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(Ku[n]=u),u}var Qu,Ju=n(79613),ec=n.n(Ju);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(Qu||(Qu={}));var tc=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(e){r.textArea=e},r.handleResize=function(e){var t=r.state.resizeStatus,n=r.props,i=n.autoSize,o=n.onResize;t===Qu.NONE&&("function"===typeof o&&o(e),i&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var e=r.props.autoSize;if(e&&r.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yu||((Yu=document.createElement("textarea")).setAttribute("tab-index","-1"),Yu.setAttribute("aria-hidden","true"),document.body.appendChild(Yu)),e.getAttribute("wrap")?Yu.setAttribute("wrap",e.getAttribute("wrap")):Yu.removeAttribute("wrap");var i=$u(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;Yu.setAttribute("style","".concat(u,";").concat(qu)),Yu.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=Yu.scrollHeight;if("border-box"===s?d+=a:"content-box"===s&&(d-=o),null!==n||null!==r){Yu.value=" ";var h=Yu.scrollHeight-o;null!==n&&(l=h*n,"border-box"===s&&(l=l+o+a),d=Math.max(l,d)),null!==r&&(f=h*r,"border-box"===s&&(f=f+o+a),c=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(r.textArea,!1,t,n);r.setState({textareaStyles:i,resizeStatus:Qu.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:Qu.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:Qu.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var e=r.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,i=e.autoSize,o=e.onResize,a=e.className,s=e.disabled,u=r.state,c=u.textareaStyles,l=u.resizeStatus,f=ar(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=Mn()(n,a,(0,xe.Z)({},"".concat(n,"-disabled"),s));"value"in f&&(f.value=f.value||"");var h=_e(_e(_e({},r.props.style),c),l===Qu.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return y.createElement(Po,{onResize:r.handleResize,disabled:!(i||o)},y.createElement("textarea",Mt({},f,{className:d,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:Qu.NONE},r}return(0,Nn.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&ec()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(y.Component),nc=tc,rc=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,Nn.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return y.createElement(nc,Mt({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(y.Component),ic=rc,oc=y.createContext(void 0),ac=function(e){var t=e.children,n=e.size;return y.createElement(oc.Consumer,null,(function(e){return y.createElement(oc.Provider,{value:n||e},t)}))},sc=oc,uc="RC_FORM_INTERNAL_HOOKS",cc=function(){Yr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},lc=y.createContext({getFieldValue:cc,getFieldsValue:cc,getFieldError:cc,getFieldWarning:cc,getFieldsError:cc,isFieldsTouched:cc,isFieldTouched:cc,isFieldValidating:cc,isFieldsValidating:cc,resetFields:cc,setFields:cc,setFieldsValue:cc,validateFields:cc,submit:cc,getInternalHooks:function(){return cc(),{dispatch:cc,initEntityValue:cc,registerField:cc,useSubscribe:cc,setInitialValues:cc,setCallbacks:cc,getFields:cc,setValidateMessages:cc,setPreserve:cc,getInitialValue:cc}}});function fc(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function dc(){return dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dc.apply(this,arguments)}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(e)}function pc(e,t){return pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pc(e,t)}function vc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gc(e,t,n){return gc=vc()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&pc(i,n.prototype),i},gc.apply(null,arguments)}function mc(e){var t="function"===typeof Map?new Map:void 0;return mc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gc(e,arguments,hc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pc(n,e)},mc(e)}var yc=/%[sdj%]/g;function bc(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(yc,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(F){return"[Circular]"}break;default:return e}}));return a}return e}function wc(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function _c(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var Ec=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,pc(t,n),r}(mc(Error));function Sc(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);_c(a,n,(function(e){return r(e),e.length?o(new Ec(e,bc(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,c=0,l=[],f=new Promise((function(t,o){var f=function(e){if(l.push.apply(l,e),++c===u)return r(l),l.length?o(new Ec(l,bc(l))):t(i)};s.length||(r(l),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?_c(r,n,f):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function kc(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Cc(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=dc({},e[n],r):e[n]=r}return e}var Mc=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!wc(t,o||e.type)||r.push(xc(i.messages.required,e.fullField))},Oc={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nc={integer:function(e){return Nc.number(e)&&parseInt(e,10)===e},float:function(e){return Nc.number(e)&&!Nc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Nc.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Oc.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(Oc.url)},hex:function(e){return"string"===typeof e&&!!e.match(Oc.hex)}},Tc={required:Mc,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(xc(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Mc(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Nc[o](t)||r.push(xc(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(xc(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(l?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(u=t.length),f&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(xc(i.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(xc(i.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(xc(i.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(xc(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(xc(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(xc(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(xc(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Ac=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t,o)&&!e.required)return n();Tc.required(e,t,r,a,i,o),wc(t,o)||Tc.type(e,t,r,a,i)}n(a)},Pc={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t,"string")&&!e.required)return n();Tc.required(e,t,r,o,i,"string"),wc(t,"string")||(Tc.type(e,t,r,o,i),Tc.range(e,t,r,o,i),Tc.pattern(e,t,r,o,i),!0===e.whitespace&&Tc.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&Tc.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&(Tc.type(e,t,r,o,i),Tc.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&Tc.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),wc(t)||Tc.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&(Tc.type(e,t,r,o,i),Tc.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&(Tc.type(e,t,r,o,i),Tc.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Tc.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(Tc.type(e,t,r,o,i),Tc.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&Tc.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i),void 0!==t&&Tc.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t,"string")&&!e.required)return n();Tc.required(e,t,r,o,i),wc(t,"string")||Tc.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t,"date")&&!e.required)return n();var a;if(Tc.required(e,t,r,o,i),!wc(t,"date"))a=t instanceof Date?t:new Date(t),Tc.type(e,a,r,o,i),a&&Tc.range(e,a.getTime(),r,o,i)}n(o)},url:Ac,hex:Ac,email:Ac,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;Tc.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(wc(t)&&!e.required)return n();Tc.required(e,t,r,o,i)}n(o)}};function Ic(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Dc=Ic(),Rc=function(){function e(e){this.rules=null,this._messages=Dc,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Cc(Ic(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===Dc&&(u=Ic()),Cc(u,a.messages),a.messages=u}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=dc({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:dc({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:o,field:e}))}))}));var l={};return Sc(c,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return dc({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(kc(i,o));if(a.first&&f.length)return l[i.field]=1,n(f);if(s){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(kc(i,o)):a.error&&(f=[a.error(i,xc(a.messages.required,i.field))]),n(f);var d={};i.defaultField&&Object.keys(t.value).map((function(e){d[e]=i.defaultField})),d=dc({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(u.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator?r=i.asyncValidator(i,t.value,c,t.source,a):i.validator&&(!0===(r=i.validator(i,t.value,c,t.source,a))?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)),r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=bc(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Pc.hasOwnProperty(e.type))throw new Error(xc("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Pc.required:Pc[this.getType(e)]||void 0},e}();Rc.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Pc[e]=t},Rc.warning=function(){},Rc.messages=Dc,Rc.validators=Pc;var Lc="'${name}' is not a valid ${type}",jc={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Lc,method:Lc,array:Lc,object:Lc,number:Lc,date:Lc,boolean:Lc,integer:Lc,float:Lc,regexp:Lc,email:Lc,url:Lc,hex:Lc},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Fc(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Bc=n(83878),zc=n(59199),Uc=n(40181),Gc=n(25267);function Vc(e){return(0,Bc.Z)(e)||(0,zc.Z)(e)||(0,Uc.Z)(e)||(0,Gc.Z)()}function Zc(e,t,n,r){if(!t.length)return n;var i,o=Vc(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?(0,kn.Z)(e):_e({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=Zc(i[a],s,n,r),i}function Wc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Fc(e,t.slice(0,-1))?e:Zc(e,t,n,r)}function Yc(e){return Array.isArray(e)?function(e){return e.map((function(e){return Yc(e)}))}(e):"object"===(0,lr.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Yc(e[n]);return t}return e}(e):e}var Hc=Yc;function qc(e){return fc(e)}function Xc(e,t){return Fc(e,t)}function Kc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Wc(e,t,n,r);return i}function $c(e,t){var n={};return t.forEach((function(t){var r=Xc(e,t);n=Kc(n,t,r)})),n}function Qc(e,t){return e&&e.some((function(e){return nl(e,t)}))}function Jc(e){return"object"===(0,lr.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function el(e,t){var n=Array.isArray(e)?(0,kn.Z)(e):_e({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=Jc(r)&&Jc(i);n[e]=o?el(r,i||{}):Hc(i)})),n):n}function tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return el(e,t)}),e)}function nl(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function rl(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,lr.Z)(t.target)&&e in t.target?t.target[e]:t}function il(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat((0,kn.Z)(e.slice(0,n)),[i],(0,kn.Z)(e.slice(n,t)),(0,kn.Z)(e.slice(t+1,r))):o<0?[].concat((0,kn.Z)(e.slice(0,t)),(0,kn.Z)(e.slice(t+1,n+1)),[i],(0,kn.Z)(e.slice(n+1,r))):e}var ol=Rc;function al(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function sl(e,t,n,r,i){return ul.apply(this,arguments)}function ul(){return ul=(0,tu.Z)(eu().mark((function e(t,n,r,i,o){var a,s,u,c,l,f,d,h;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=_e({},r)).ruleIndex,s=null,a&&"array"===a.type&&a.defaultField&&(s=a.defaultField,delete a.defaultField),u=new ol((0,xe.Z)({},t,[a])),c=tl({},jc,i.validateMessages),u.messages(c),l=[],e.prev=8,e.next=11,Promise.resolve(u.validate((0,xe.Z)({},t,n),_e({},i)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),e.t0.errors?l=e.t0.errors.map((function(e,t){var n=e.message;return y.isValidElement(n)?y.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),l=[c.default]);case 16:if(l.length||!s){e.next=21;break}return e.next=19,Promise.all(n.map((function(e,n){return sl("".concat(t,".").concat(n),e,s,i,o)})));case 19:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat((0,kn.Z)(e),(0,kn.Z)(t))}),[]));case 21:return d=_e(_e({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),h=l.map((function(e){return"string"===typeof e?al(e,d):e})),e.abrupt("return",h);case 24:case"end":return e.stop()}}),e,null,[[8,13]])}))),ul.apply(this,arguments)}function cl(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=_e(_e({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Yr(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,Yr(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=(0,tu.Z)(eu().mark((function e(n,i){var a,c,l;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return c=u[a],e.next=5,sl(s,t,c,r,o);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=u.map((function(e){return sl(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return fl.apply(this,arguments)}(c):function(e){return ll.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function ll(){return(ll=(0,tu.Z)(eu().mark((function e(t){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,kn.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(){return fl=(0,tu.Z)(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var dl=["name"],hl=[];function pl(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var vl=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;((0,On.Z)(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=hl,r.warnings=hl,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,qc(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName,i=void 0===n?[]:n;return void 0!==t?[].concat((0,kn.Z)(i),(0,kn.Z)(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t(_e(_e({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,c=n.store,l=r.getNamePath(),f=r.getValue(e),d=r.getValue(c),h=t&&Qc(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=hl,r.warnings=hl,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=hl,r.warnings=hl,r.triggerMetaEvent(),null===u||void 0===u||u(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||hl),"warnings"in p&&(r.warnings=p.warnings||hl),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!l.length&&pl(o,e,c,f,d,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(qc).some((function(e){return Qc(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||l.length||o)&&pl(o,e,c,f,d,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,c=(e||{}).triggerName,l=r.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||fc(t).includes(c)})));var f=cl(t,n,l,e,s,u);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl;if(r.validatePromise===i){r.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,o=void 0===i?hl:i;r?n.push.apply(n,(0,kn.Z)(o)):t.push.apply(t,(0,kn.Z)(o))})),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),f}));return r.validatePromise=i,r.dirty=!0,r.errors=hl,r.warnings=hl,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(uc).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return _e(_e({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Zi(e);return 1===n.length&&y.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return Xc(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,c=t.fieldContext,l=void 0!==i?i:c.validateTrigger,f=r.getNamePath(),d=c.getInternalHooks,h=c.getFieldsValue,p=d(uc),v=p.dispatch,g=r.getValue(),m=u||function(e){return(0,xe.Z)({},s,e)},y=e[n],b=_e(_e({},e),m(g));b[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):rl.apply(void 0,[s].concat(n)),a&&(e=a(e,g,h(!0))),v({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)};var x=fc(l||[]);return x.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(uc).initEntityValue)((0,Go.Z)(r));return r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(uc).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:y.isValidElement(i)?e=y.cloneElement(i,this.getControlled(i.props)):(Yr(!i,"`children` of Field is not validate ReactElement."),e=i),y.createElement(y.Fragment,{key:t},e)}}]),n}(y.Component);vl.contextType=lc,vl.defaultProps={trigger:"onChange",valuePropName:"value"};var gl=function(e){var t=e.name,n=ur(e,dl),r=y.useContext(lc),i=void 0!==t?qc(t):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),y.createElement(vl,Mt({key:o,name:i},n,{fieldContext:r}))},ml=y.createContext(null),yl=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,a=y.useContext(lc),s=y.useRef({keys:[],id:0}).current,u=y.useMemo((function(){var e=qc(a.prefixName)||[];return[].concat((0,kn.Z)(e),(0,kn.Z)(qc(t)))}),[a.prefixName,t]),c=y.useMemo((function(){return _e(_e({},a),{},{prefixName:u})}),[a,u]),l=y.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof r)return Yr(!1,"Form.List only accepts function as children."),null;return y.createElement(ml.Provider,{value:l},y.createElement(lc.Provider,{value:c},y.createElement(gl,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,c=a.getFieldValue,l=function(){return c(u||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat((0,kn.Z)(s.keys.slice(0,t)),[s.id],(0,kn.Z)(s.keys.slice(t))),o([].concat((0,kn.Z)(n.slice(0,t)),[e],(0,kn.Z)(n.slice(t))))):(s.keys=[].concat((0,kn.Z)(s.keys),[s.id]),o([].concat((0,kn.Z)(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=il(s.keys,e,t),o(il(n,e,t)))}}},d=i||[];return Array.isArray(d)||(d=[]),r(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var bl="__@field_split__";function xl(e){return e.map((function(e){return"".concat((0,lr.Z)(e),":").concat(e)})).join(bl)}var wl=function(){function e(){(0,On.Z)(this,e),this.kvs=new Map}return(0,Nn.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(xl(e),t)}},{key:"get",value:function(e){return this.kvs.get(xl(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(xl(e))}},{key:"map",value:function(e){return(0,kn.Z)(this.kvs.entries()).map((function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1],o=r.split(bl);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,m.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),_l=wl,El=["name","errors"],Sl=(0,Nn.Z)((function e(t){var n=this;(0,On.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===uc?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(Yr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=tl({},n.store,e))},this.getInitialValue=function(e){return Hc(Xc(n.initialValues,e))},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new _l;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=qc(e);return t.get(n)||{INVALIDATE_NAME_PATH:qc(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),$c(n.store,i.map(qc))},this.getFieldValue=function(e){n.warningUnhooked();var t=qc(e);return Xc(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:qc(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=qc(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=qc(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(qc),s=!1):(i=null,s=o):(i=o.map(qc),s=a);var u=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var l=new _l;i.forEach((function(e){l.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat((0,kn.Z)(t),[e])}))}))}));var f=function(e){return e.some(c)},d=l.map((function(e){return e.value}));return s?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(qc);return t.some((function(e){var t=e.getNamePath();return Qc(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new _l,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Yr(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)Yr(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||(n.store=Kc(n.store,i,(0,kn.Z)(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,kn.Z)((0,kn.Z)(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=tl({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(qc);r.forEach((function(e){var t=n.getInitialValue(e);n.store=Kc(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,ur(e,El)),o=qc(r);"value"in i&&(n.store=Kc(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=_e(_e({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Xc(n.store,r)&&(n.store=Kc(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:n.getInitialValue(a);if(a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!nl(e.getNamePath(),a)}))){var u=n.store;n.store=Kc(u,a,s,!0),n.notifyObservers(u,[a],{type:"remove"}),n.triggerDependenciesUpdate(u,a)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=_e(_e({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,kn.Z)(r))}),r},this.updateValue=function(e,t){var r=qc(e),i=n.store;n.store=Kc(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a($c(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,kn.Z)(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=tl(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new _l;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=qc(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new _l;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Qc(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(qc):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||Qc(i,u)){var c=a.validateRules(_e({validateMessages:_e(_e({},jc),n.validateMessages)},t));o.push(c.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,(0,kn.Z)(i)):t.push.apply(t,(0,kn.Z)(i))})),t.length?Promise.reject({name:u,errors:t,warnings:n}):{name:u,errors:t,warnings:n}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var kl=function(e){var t=y.useRef(),n=y.useState({}),r=(0,m.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new Sl((function(){r({})}));t.current=i.getForm()}return[t.current]},Cl=y.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ml=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,o=y.useContext(Cl),a=y.useRef({});return y.createElement(Cl.Provider,{value:_e(_e({},o),{},{validateMessages:_e(_e({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=_e(_e({},a.current),{},(0,xe.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=_e({},a.current);delete t[e],a.current=t,o.unregisterForm(e)}})},i)},Ol=Cl,Nl=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Tl=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,o=e.form,a=e.preserve,s=e.children,u=e.component,c=void 0===u?"form":u,l=e.validateMessages,f=e.validateTrigger,d=void 0===f?"onChange":f,h=e.onValuesChange,p=e.onFieldsChange,v=e.onFinish,g=e.onFinishFailed,b=ur(e,Nl),x=y.useContext(Ol),w=kl(o),_=(0,m.Z)(w,1)[0],E=_.getInternalHooks(uc),S=E.useSubscribe,k=E.setInitialValues,C=E.setCallbacks,M=E.setValidateMessages,O=E.setPreserve;y.useImperativeHandle(t,(function(){return _})),y.useEffect((function(){return x.registerForm(n,_),function(){x.unregisterForm(n)}}),[x,_,n]),M(_e(_e({},x.validateMessages),l)),C({onValuesChange:h,onFieldsChange:function(e){if(x.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p.apply(void 0,[e].concat(r))}},onFinish:function(e){x.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:g}),O(a);var N=y.useRef(null);k(r,!N.current),N.current||(N.current=!0);var T=s,A="function"===typeof s;A&&(T=s(_.getFieldsValue(!0),_));S(!A);var P=y.useRef();y.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,lr.Z)(e)||"object"!==(0,lr.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,kn.Z)(n),(0,kn.Z)(r)));return(0,kn.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(P.current||[],i||[])||_.setFields(i||[]),P.current=i}),[i,_]);var I=y.useMemo((function(){return _e(_e({},_),{},{validateTrigger:d})}),[_,d]),D=y.createElement(lc.Provider,{value:I},T);return!1===c?D:y.createElement(c,Mt({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),_.submit()},onReset:function(e){var t;e.preventDefault(),_.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)},Al=y.forwardRef(Tl);Al.FormProvider=Ml,Al.Field=gl,Al.List=yl,Al.useForm=kl;var Pl=Al,Il=y.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Dl=y.createContext(null),Rl=y.createContext({prefixCls:""}),Ll=y.createContext({}),jl=function(e){var t=e.children,n=(0,y.useMemo)((function(){return{}}),[]);return y.createElement(Ll.Provider,{value:n},t)},Fl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Bl=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Fl}))};Bl.displayName="CheckCircleFilled";var zl=y.forwardRef(Bl),Ul={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Gl=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ul}))};Gl.displayName="ExclamationCircleFilled";var Vl=y.forwardRef(Gl),Zl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Wl=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Zl}))};Wl.displayName="CloseCircleFilled";var Yl=y.forwardRef(Wl),Hl={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ql=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Hl}))};ql.displayName="LoadingOutlined";var Xl=y.forwardRef(ql),Kl=(Nu("warning","error",""),{success:zl,warning:Vl,error:Yl,validating:Xl}),$l=function(e,t){var n=t&&Kl[t];return n?y.createElement("span",{className:"".concat(e,"-feedback-icon")},y.createElement(n,null)):null};function Ql(e,t,n){var r;return Mn()((r={},(0,xe.Z)(r,"".concat(e,"-status-success"),"success"===t),(0,xe.Z)(r,"".concat(e,"-status-warning"),"warning"===t),(0,xe.Z)(r,"".concat(e,"-status-error"),"error"===t),(0,xe.Z)(r,"".concat(e,"-status-validating"),"validating"===t),(0,xe.Z)(r,"".concat(e,"-has-feedback"),n),r))}var Jl=function(e,t){return t||e},ef=Nu("text","input");var tf=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,r=n.value,i=n.disabled,o=n.readOnly,a=n.handleReset,s=n.suffix,u=!i&&!o&&r,c="".concat(e,"-clear-icon");return y.createElement(Yl,{onClick:a,onMouseDown:function(e){return e.preventDefault()},className:Mn()((t={},(0,xe.Z)(t,"".concat(c,"-hidden"),!u),(0,xe.Z)(t,"".concat(c,"-has-suffix"),!!s),t),c),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var r,i=this.props,o=i.value,a=i.allowClear,s=i.className,u=i.style,c=i.direction,l=i.bordered,f=i.hidden,d=i.status,h=n.status,p=n.hasFeedback;if(!a)return Ou(t,{value:o});var v,g=Mn()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),Ql("".concat(e,"-affix-wrapper"),Jl(h,d),p),(r={},(0,xe.Z)(r,"".concat(e,"-affix-wrapper-rtl"),"rtl"===c),(0,xe.Z)(r,"".concat(e,"-affix-wrapper-borderless"),!l),(0,xe.Z)(r,"".concat(s),!((v=this.props).addonBefore||v.addonAfter)&&s),r));return y.createElement("span",{className:g,style:u,hidden:f},Ou(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return y.createElement(Ll.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,o=n.element;if(i===ef[0])return e.renderTextAreaWithClearIcon(r,o,t)}))}}]),n}(y.Component),nf=tf;function rf(e){return!(!e.addonBefore&&!e.addonAfter)}function of(e){return!!(e.prefix||e.suffix||e.allowClear)}function af(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function sf(e){return"undefined"===typeof e||null===e?"":String(e)}var uf=function(e){var t=e.inputElement,n=e.prefixCls,r=e.prefix,i=e.suffix,o=e.addonBefore,a=e.addonAfter,s=e.className,u=e.style,c=e.affixWrapperClassName,l=e.groupClassName,f=e.wrapperClassName,d=e.disabled,h=e.readOnly,p=e.focused,v=e.triggerFocus,g=e.allowClear,m=e.value,b=e.handleReset,x=e.hidden,w=(0,y.useRef)(null),_=(0,y.cloneElement)(t,{value:m,hidden:x});if(of(e)){var E,S="".concat(n,"-affix-wrapper"),k=Mn()(S,(E={},(0,xe.Z)(E,"".concat(S,"-disabled"),d),(0,xe.Z)(E,"".concat(S,"-focused"),p),(0,xe.Z)(E,"".concat(S,"-readonly"),h),(0,xe.Z)(E,"".concat(S,"-input-with-clear-btn"),i&&g&&m),E),!rf(e)&&s,c),C=(i||g)&&y.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!g)return null;var t=!d&&!h&&m,r="".concat(n,"-clear-icon"),o="object"===(0,lr.Z)(g)&&(null===g||void 0===g?void 0:g.clearIcon)?g.clearIcon:"\u2716";return y.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:Mn()(r,(e={},(0,xe.Z)(e,"".concat(r,"-hidden"),!t),(0,xe.Z)(e,"".concat(r,"-has-suffix"),!!i),e)),role:"button",tabIndex:-1},o)}(),i);_=y.createElement("span",{className:k,style:u,hidden:!rf(e)&&x,onMouseUp:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===v||void 0===v||v())},ref:w},r&&y.createElement("span",{className:"".concat(n,"-prefix")},r),(0,y.cloneElement)(t,{style:null,value:m,hidden:null}),C)}if(rf(e)){var M="".concat(n,"-group"),O="".concat(M,"-addon"),N=Mn()("".concat(n,"-wrapper"),M,f),T=Mn()("".concat(n,"-group-wrapper"),s,l);return y.createElement("span",{className:T,style:u,hidden:x},y.createElement("span",{className:N},o&&y.createElement("span",{className:O},o),(0,y.cloneElement)(_,{style:null,hidden:null}),a&&y.createElement("span",{className:O},a)))}return _},cf=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],lf=(0,y.forwardRef)((function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,o=e.onBlur,a=e.onPressEnter,s=e.onKeyDown,u=e.prefixCls,c=void 0===u?"rc-input":u,l=e.disabled,f=e.htmlSize,d=e.className,h=e.maxLength,p=e.suffix,v=e.showCount,g=e.type,b=void 0===g?"text":g,x=e.inputClassName,w=ur(e,cf),_=Vi(e.defaultValue,{value:e.value}),E=(0,m.Z)(_,2),S=E[0],k=E[1],C=(0,y.useState)(!1),M=(0,m.Z)(C,2),O=M[0],N=M[1],T=(0,y.useRef)(null),A=function(e){T.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(T.current,e)};(0,y.useImperativeHandle)(t,(function(){return{focus:A,blur:function(){var e;null===(e=T.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=T.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=T.current)||void 0===e||e.select()},input:T.current}})),(0,y.useEffect)((function(){N((function(e){return(!e||!l)&&e}))}),[l]);var P=function(e){k(e.target.value),T.current&&af(T.current,e,r)},I=function(e){a&&"Enter"===e.key&&a(e),null===s||void 0===s||s(e)},D=function(e){N(!0),null===i||void 0===i||i(e)},R=function(e){N(!1),null===o||void 0===o||o(e)};return y.createElement(uf,_e(_e({},w),{},{prefixCls:c,className:d,inputElement:function(){var t=ar(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return y.createElement("input",_e(_e({autoComplete:n},t),{},{onChange:P,onFocus:D,onBlur:R,onKeyDown:I,className:Mn()(c,(0,xe.Z)({},"".concat(c,"-disabled"),l),x,!rf(e)&&!of(e)&&d),ref:T,size:f,type:b}))}(),handleReset:function(e){k(""),A(),T.current&&af(T.current,e,r)},value:sf(S),focused:O,triggerFocus:A,suffix:function(){var e=Number(h)>0;if(p||v){var t=(0,kn.Z)(sf(S)).length,n="object"===(0,lr.Z)(v)?v.formatter({count:t,maxLength:h}):"".concat(t).concat(e?" / ".concat(h):"");return y.createElement(y.Fragment,null,!!v&&y.createElement("span",{className:Mn()("".concat(c,"-show-count-suffix"),(0,xe.Z)({},"".concat(c,"-show-count-has-suffix"),!!p))},n),p)}return null}(),disabled:l}))})),ff=lf;function df(e){return!!(e.prefix||e.suffix||e.allowClear)}var hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function pf(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var vf=(0,y.forwardRef)((function(e,t){var n,r,i,o=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.status,c=e.size,l=e.onBlur,f=e.onFocus,d=e.suffix,h=e.allowClear,p=e.addonAfter,v=e.addonBefore,g=hf(e,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),m=y.useContext(Xn),b=m.getPrefixCls,x=m.direction,w=m.input,_=b("input",o),E=(0,y.useRef)(null),S=y.useContext(sc),k=c||S,C=(0,y.useContext)(Ll),M=C.status,O=C.hasFeedback,N=Jl(M,u),T=df(e),A=(0,y.useRef)(T);(0,y.useEffect)((function(){var e;T&&!A.current&&ji(document.activeElement===(null===(e=E.current)||void 0===e?void 0:e.input),"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),A.current=T}),[T]);var P=(0,y.useRef)([]),I=function(){P.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=E.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=E.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=E.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=E.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,y.useEffect)((function(){return I(),function(){return P.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var D,R=(O||d)&&y.createElement(y.Fragment,null,d,O&&$l(_,N)),L=df(e)||O;return"object"===(0,lr.Z)(h)&&(null===h||void 0===h?void 0:h.clearIcon)?D=h:h&&(D={clearIcon:y.createElement(Yl,null)}),y.createElement(ff,Mt({ref:Ri(t,E),prefixCls:_,autoComplete:null===w||void 0===w?void 0:w.autoComplete},g,{onBlur:function(e){I(),null===l||void 0===l||l(e)},onFocus:function(e){I(),null===f||void 0===f||f(e)},suffix:R,allowClear:D,addonAfter:p&&y.createElement(jl,null,p),addonBefore:v&&y.createElement(jl,null,v),inputClassName:Mn()(!L&&(n={},(0,xe.Z)(n,"".concat(_,"-sm"),"small"===k),(0,xe.Z)(n,"".concat(_,"-lg"),"large"===k),(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(_,"-borderless"),!s),n),!L&&Ql(_,N)),affixWrapperClassName:Mn()((r={},(0,xe.Z)(r,"".concat(_,"-affix-wrapper-sm"),"small"===k),(0,xe.Z)(r,"".concat(_,"-affix-wrapper-lg"),"large"===k),(0,xe.Z)(r,"".concat(_,"-affix-wrapper-rtl"),"rtl"===x),(0,xe.Z)(r,"".concat(_,"-affix-wrapper-borderless"),!s),r),Ql("".concat(_,"-affix-wrapper"),N,O)),wrapperClassName:Mn()((0,xe.Z)({},"".concat(_,"-group-rtl"),"rtl"===x)),groupClassName:Mn()((i={},(0,xe.Z)(i,"".concat(_,"-group-wrapper-sm"),"small"===k),(0,xe.Z)(i,"".concat(_,"-group-wrapper-lg"),"large"===k),(0,xe.Z)(i,"".concat(_,"-group-wrapper-rtl"),"rtl"===x),i),Ql("".concat(_,"-group-wrapper"),N,O))}))})),gf=vf,mf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function yf(e,t){return(0,kn.Z)(e||"").slice(0,t).join("")}function bf(e,t,n,r){var i=n;return e?i=yf(n,r):(0,kn.Z)(t||"").length<n.length&&(0,kn.Z)(n||"").length>r&&(i=t),i}var xf=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.bordered,o=void 0===i||i,a=e.showCount,s=void 0!==a&&a,u=e.maxLength,c=e.className,l=e.style,f=e.size,d=e.onCompositionStart,h=e.onCompositionEnd,p=e.onChange,v=e.status,g=mf(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),b=y.useContext(Xn),x=b.getPrefixCls,w=b.direction,_=y.useContext(sc),E=y.useContext(Ll),S=E.status,k=E.hasFeedback,C=Jl(S,v),M=y.useRef(null),O=y.useRef(null),N=y.useState(!1),T=(0,m.Z)(N,2),A=T[0],P=T[1],I=y.useRef(),D=y.useRef(0),R=Vi(g.defaultValue,{value:g.value}),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=g.hidden,z=function(e,t){void 0===g.value&&(F(e),null===t||void 0===t||t())},U=Number(u)>0,G=x("input",r);y.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=M.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=M.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=M.current)||void 0===e?void 0:e.blur()}}}));var V=y.createElement(ic,Mt({},ar(g,["allowClear"]),{className:Mn()((n={},(0,xe.Z)(n,"".concat(G,"-borderless"),!o),(0,xe.Z)(n,c,c&&!s),(0,xe.Z)(n,"".concat(G,"-sm"),"small"===_||"small"===f),(0,xe.Z)(n,"".concat(G,"-lg"),"large"===_||"large"===f),n),Ql(G,C)),style:s?void 0:l,prefixCls:G,onCompositionStart:function(e){P(!0),I.current=j,D.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onChange:function(e){var t=e.target.value;!A&&U&&(t=bf(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,j,t,u));z(t),pf(e.currentTarget,e,p,t)},onCompositionEnd:function(e){var t;P(!1);var n=e.currentTarget.value;U&&(n=bf(D.current>=u+1||D.current===(null===(t=I.current)||void 0===t?void 0:t.length),I.current,n,u));n!==j&&(z(n),pf(e.currentTarget,e,p,n)),null===h||void 0===h||h(e)},ref:M})),Z=function(e){return"undefined"===typeof e||null===e?"":String(e)}(j);A||!U||null!==g.value&&void 0!==g.value||(Z=yf(Z,u));var W=y.createElement(nf,Mt({},g,{prefixCls:G,direction:w,inputType:"text",value:Z,element:V,handleReset:function(e){var t,n;z("",(function(){var e;null===(e=M.current)||void 0===e||e.focus()})),pf(null===(n=null===(t=M.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,p)},ref:O,bordered:o,status:v,style:s?void 0:l}));if(s||k){var Y,H=(0,kn.Z)(Z).length,q="";return q="object"===(0,lr.Z)(s)?s.formatter({count:H,maxLength:u}):"".concat(H).concat(U?" / ".concat(u):""),y.createElement("div",{hidden:B,className:Mn()("".concat(G,"-textarea"),(Y={},(0,xe.Z)(Y,"".concat(G,"-textarea-rtl"),"rtl"===w),(0,xe.Z)(Y,"".concat(G,"-textarea-show-count"),s),Y),Ql("".concat(G,"-textarea"),C,k),c),style:l,"data-count":q},W,k&&$l(G,C))}return W})),wf=xf,_f=function(e){var t=e.prefixCls,n=e["aria-label"],r=e.className,i=e.style,o=e.direction,a=e.maxLength,s=e.autoSize,u=void 0===s||s,c=e.value,l=e.onSave,f=e.onCancel,d=e.onEnd,h=e.component,p=e.enterIcon,v=void 0===p?y.createElement(Hu,null):p,g=y.useRef(),b=y.useRef(!1),x=y.useRef(),w=y.useState(c),_=(0,m.Z)(w,2),E=_[0],S=_[1];y.useEffect((function(){S(c)}),[c]),y.useEffect((function(){if(g.current&&g.current.resizableTextArea){var e=g.current.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}),[]);var k=function(){l(E.trim())},C=h?"".concat(t,"-").concat(h):"",M=Mn()(t,"".concat(t,"-edit-content"),(0,xe.Z)({},"".concat(t,"-rtl"),"rtl"===o),r,C);return y.createElement("div",{className:M,style:i},y.createElement(wf,{ref:g,maxLength:a,value:E,onChange:function(e){var t=e.target;S(t.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){var t=e.keyCode;b.current||(x.current=t)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,r=e.altKey,i=e.metaKey,o=e.shiftKey;x.current!==t||b.current||n||r||i||o||(t===Ro.ENTER?(k(),null===d||void 0===d||d()):t===Ro.ESC&&f())},onCompositionStart:function(){b.current=!0},onCompositionEnd:function(){b.current=!1},onBlur:function(){k()},"aria-label":n,rows:1,autoSize:u}),null!==v?Ou(v,{className:"".concat(t,"-edit-content-confirm")}):null)};function Ef(e,t){return y.useMemo((function(){var n=!!e;return[n,Mt(Mt({},t),n&&"object"===(0,lr.Z)(e)?e:null)]}),[e])}function Sf(e){var t=(0,lr.Z)(e);return"string"===t||"number"===t}function kf(e,t){for(var n=0,r=[],i=0;i<e.length;i+=1){if(n===t)return r;var o=e[i],a=n+(Sf(o)?String(o).length:1);if(a>t){var s=t-n;return r.push(String(o).slice(0,s)),r}r.push(o),n=a}return e}var Cf=function(e){var t=e.enabledMeasure,n=e.children,r=e.text,i=e.width,o=e.rows,a=e.onEllipsis,s=y.useState([0,0,0]),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=y.useState(0),d=(0,m.Z)(f,2),h=d[0],p=d[1],v=(0,m.Z)(c,3),g=v[0],b=v[1],x=v[2],w=y.useState(0),_=(0,m.Z)(w,2),E=_[0],S=_[1],k=y.useRef(null),C=y.useRef(null),M=y.useMemo((function(){return Zi(r)}),[r]),O=y.useMemo((function(){return function(e){var t=0;return e.forEach((function(e){Sf(e)?t+=String(e).length:t+=1})),t}(M)}),[M]),N=y.useMemo((function(){return t&&3===h?n(kf(M,b),b<O):n(M,!1)}),[t,h,n,M,b,O]);Io((function(){t&&i&&O&&(p(1),l([0,Math.ceil(O/2),O]))}),[t,i,r,O,o]),Io((function(){var e;1===h&&S((null===(e=k.current)||void 0===e?void 0:e.offsetHeight)||0)}),[h]),Io((function(){var e,t;if(E)if(1===h)((null===(e=C.current)||void 0===e?void 0:e.offsetHeight)||0)<=o*E?(p(4),a(!1)):p(2);else if(2===h)if(g!==x){var n=(null===(t=C.current)||void 0===t?void 0:t.offsetHeight)||0,r=g,i=x;g===x-1?i=g:n<=o*E?r=b:i=b;var s=Math.ceil((r+i)/2);l([r,s,i])}else p(3),a(!0)}),[h,g,x,o,E]);var T={width:i,whiteSpace:"normal",margin:0,padding:0},A=function(e,t,n){return y.createElement("span",{"aria-hidden":!0,ref:t,style:Mt({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none"},n)},e)};return y.createElement(y.Fragment,null,N,t&&3!==h&&4!==h&&y.createElement(y.Fragment,null,A("lg",k,{wordBreak:"keep-all",whiteSpace:"nowrap"}),1===h?A(n(M,!1),C,T):function(e,t){var r=kf(M,e);return A(n(r,!0),t,T)}(b,C)))};var Mf=function(e){var t=e.title,n=e.enabledEllipsis,r=e.isEllipsis,i=e.children;return t&&n?y.createElement(Vu,{title:t,visible:!!r&&void 0},i):i},Of=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Nf(e,t,n){return!0===e||void 0===e?t:e||n&&t}function Tf(e){return Array.isArray(e)?e:[e]}var Af=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.style,o=e.type,a=e.disabled,s=e.children,u=e.ellipsis,c=e.editable,l=e.copyable,f=e.component,d=e.title,h=Of(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),p=y.useContext(Xn),v=p.getPrefixCls,g=p.direction,b=zn("Text")[0],x=y.useRef(null),w=y.useRef(null),_=v("typography",n),E=ar(h,["mark","code","delete","underline","strong","keyboard","italic"]),S=Ef(c),k=(0,m.Z)(S,2),C=k[0],M=k[1],O=Vi(!1,{value:M.editing}),N=(0,m.Z)(O,2),T=N[0],A=N[1],P=M.triggerType,I=void 0===P?["icon"]:P,D=function(e){var t;e&&(null===(t=M.onStart)||void 0===t||t.call(M)),A(e)};!function(e,t){var n=y.useRef(!1);y.useEffect((function(){n.current?e():n.current=!0}),t)}((function(){var e;T||null===(e=w.current)||void 0===e||e.focus()}),[T]);var R=function(e){null===e||void 0===e||e.preventDefault(),D(!0)},L=Ef(l),j=(0,m.Z)(L,2),F=j[0],B=j[1],z=y.useState(!1),U=(0,m.Z)(z,2),G=U[0],V=U[1],Z=y.useRef(),W=function(){clearTimeout(Z.current)},Y=function(e){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),Yi()(B.text||String(s)||""),V(!0),W(),Z.current=setTimeout((function(){V(!1)}),3e3),null===(t=B.onCopy)||void 0===t||t.call(B)};y.useEffect((function(){return W}),[]);var H=y.useState(!1),q=(0,m.Z)(H,2),X=q[0],K=q[1],$=y.useState(!1),Q=(0,m.Z)($,2),J=Q[0],ee=Q[1],te=y.useState(!1),ne=(0,m.Z)(te,2),re=ne[0],ie=ne[1],oe=y.useState(!1),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1],ce=y.useState(!1),le=(0,m.Z)(ce,2),fe=le[0],de=le[1],he=Ef(u,{expandable:!1}),pe=(0,m.Z)(he,2),ve=pe[0],ge=pe[1],me=ve&&!re,ye=ge.rows,be=void 0===ye?1:ye,we=y.useMemo((function(){return!me||void 0!==ge.suffix||ge.onEllipsis||ge.expandable||C||F}),[me,ge,C,F]);Io((function(){ve&&!we&&(K(Uo("webkitLineClamp")),ee(Uo("textOverflow")))}),[we,ve]);var _e=y.useMemo((function(){return!we&&(1===be?J:X)}),[we,J,X]),Ee=me&&(_e?fe:se),Se=me&&1===be&&_e,ke=me&&be>1&&_e,Ce=function(e){var t;ie(!0),null===(t=ge.onExpand)||void 0===t||t.call(ge,e)},Me=y.useState(0),Oe=(0,m.Z)(Me,2),Ne=Oe[0],Te=Oe[1],Ae=function(e){var t;ue(e),se!==e&&(null===(t=ge.onEllipsis)||void 0===t||t.call(ge,e))};y.useEffect((function(){var e=x.current;if(ve&&_e&&e){var t=ke?e.offsetHeight<e.scrollHeight:e.offsetWidth<e.scrollWidth;fe!==t&&de(t)}}),[ve,_e,s,ke]);var Pe=!0===ge.tooltip?s:ge.tooltip,Ie=y.useMemo((function(){var e=function(e){return["string","number"].includes((0,lr.Z)(e))};if(ve&&!_e)return e(s)?s:e(d)?d:e(Pe)?Pe:void 0}),[ve,_e,d,Pe,Ee]);if(T)return y.createElement(_f,{value:"string"===typeof s?s:"",onSave:function(e){var t;null===(t=M.onChange)||void 0===t||t.call(M,e),D(!1)},onCancel:function(){var e;null===(e=M.onCancel)||void 0===e||e.call(M),D(!1)},onEnd:M.onEnd,prefixCls:_,className:r,style:i,direction:g,component:f,maxLength:M.maxLength,autoSize:M.autoSize,enterIcon:M.enterIcon});var De=function(){var e,t=ge.expandable,n=ge.symbol;return t?(e=n||b.expand,y.createElement("a",{key:"expand",className:"".concat(_,"-expand"),onClick:Ce,"aria-label":b.expand},e)):null},Re=function(){if(C){var e=M.icon,t=M.tooltip,n=Zi(t)[0]||b.edit,r="string"===typeof n?n:"";return I.includes("icon")?y.createElement(Vu,{key:"edit",title:!1===t?"":n},y.createElement(Bo,{ref:w,className:"".concat(_,"-edit"),onClick:R,"aria-label":r},e||y.createElement(Xi,{role:"button"}))):null}},Le=function(){if(F){var e=B.tooltips,t=B.icon,n=Tf(e),r=Tf(t),i=G?Nf(n[1],b.copied):Nf(n[0],b.copy),o=G?b.copied:b.copy,a="string"===typeof i?i:o;return y.createElement(Vu,{key:"copy",title:i},y.createElement(Bo,{className:Mn()("".concat(_,"-copy"),G&&"".concat(_,"-copy-success")),onClick:Y,"aria-label":a},G?Nf(r[1],y.createElement(Qi,null),!0):Nf(r[0],y.createElement(to,null),!0)))}};return y.createElement(Po,{onResize:function(e){var t=e.offsetWidth;Te(t)},disabled:!me||_e},(function(n){var u;return y.createElement(Mf,{title:Pe,enabledEllipsis:me,isEllipsis:Ee},y.createElement(Ui,Mt({className:Mn()((u={},(0,xe.Z)(u,"".concat(_,"-").concat(o),o),(0,xe.Z)(u,"".concat(_,"-disabled"),a),(0,xe.Z)(u,"".concat(_,"-ellipsis"),ve),(0,xe.Z)(u,"".concat(_,"-single-line"),me&&1===be),(0,xe.Z)(u,"".concat(_,"-ellipsis-single-line"),Se),(0,xe.Z)(u,"".concat(_,"-ellipsis-multiple-line"),ke),u),r),style:Mt(Mt({},i),{WebkitLineClamp:ke?be:void 0}),component:f,ref:Ri(n,x,t),direction:g,onClick:I.includes("text")?R:null,"aria-label":Ie,title:d},E),y.createElement(Cf,{enabledMeasure:me&&!_e,text:s,rows:be,width:Ne,onEllipsis:Ae},(function(t,n){var r=t;t.length&&n&&Ie&&(r=y.createElement("span",{key:"show-content","aria-hidden":!0},r));var i=function(e,t){var n=e.mark,r=e.code,i=e.underline,o=e.delete,a=e.strong,s=e.keyboard,u=e.italic,c=t;function l(e,t){e&&(c=y.createElement(t,{},c))}return l(a,"strong"),l(i,"u"),l(o,"del"),l(r,"code"),l(n,"mark"),l(s,"kbd"),l(u,"i"),c}(e,y.createElement(y.Fragment,null,r,function(e){return[e&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),ge.suffix,(t=e,[t&&De(),Re(),Le()])];var t}(n)));return i}))))}))})),Pf=Af,If=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Df=function(e){var t=e.ellipsis,n=If(e,["ellipsis"]),r=y.useMemo((function(){return t&&"object"===(0,lr.Z)(t)?ar(t,["expandable","rows"]):t}),[t]);return ji("object"!==(0,lr.Z)(t)||!t||!("expandable"in t)&&!("rows"in t),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props."),y.createElement(Pf,Mt({},n,{ellipsis:r,component:"span"}))},Rf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lf=function(e,t){var n=e.ellipsis,r=e.rel,i=Rf(e,["ellipsis","rel"]);ji("object"!==(0,lr.Z)(n),"Typography.Link","`ellipsis` only supports boolean value.");var o=y.useRef(null);y.useImperativeHandle(t,(function(){return o.current}));var a=Mt(Mt({},i),{rel:void 0===r&&"_blank"===i.target?"noopener noreferrer":r});return delete a.navigate,y.createElement(Pf,Mt({},a,{ref:o,ellipsis:!!n,component:"a"}))},jf=y.forwardRef(Lf),Ff=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Bf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(1,2,3,4,5),zf=function(e){var t,n=e.level,r=void 0===n?1:n,i=Ff(e,["level"]);return-1!==Bf.indexOf(r)?t="h".concat(r):(ji(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),t="h1"),y.createElement(Pf,Mt({},i,{component:t}))},Uf=function(e){return y.createElement(Pf,Mt({},e,{component:"div"}))},Gf=Ui;Gf.Text=Df,Gf.Link=jf,Gf.Title=zf,Gf.Paragraph=Uf;var Vf,Zf=Gf,Wf=(0,Nn.Z)((function e(t){(0,On.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),Yf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Hf=function(e){return y.createElement(Kn,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.size,s=e.className,u=Yf(e,["prefixCls","size","className"]),c=r("btn-group",o),l="";switch(a){case"large":l="lg";break;case"small":l="sm";break;case"middle":case void 0:break;default:console.warn(new Wf(a).error)}var f=Mn()(c,(n={},(0,xe.Z)(n,"".concat(c,"-").concat(l),l),(0,xe.Z)(n,"".concat(c,"-rtl"),"rtl"===i),n),s);return y.createElement("div",Mt({},u,{className:f}))}))},qf=0,Xf={};function Kf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=qf++,r=t;function i(){(r-=1)<=0?(e(),delete Xf[n]):Xf[n]=qo(i)}return Xf[n]=qo(i),n}function $f(e){return!e||null===e.offsetParent||e.hidden}function Qf(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Kf.cancel=function(e){void 0!==e&&(qo.cancel(Xf[e]),delete Xf[e])},Kf.ids=Xf;var Jf=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.apply(this,arguments)).containerRef=y.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||$f(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,Go.Z)(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Qf(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;Vf=ei("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!$f(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Kf.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Kf((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!y.isValidElement(r))return r;var i=e.containerRef;return Li(r)&&(i=Ri(r.ref,e.containerRef)),Ou(r,{ref:i})},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Vf&&(Vf.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return y.createElement(Kn,null,this.renderWave)}}]),n}(y.Component);Jf.contextType=Xn;var ed=function(){return{width:0,opacity:0,transform:"scale(0)"}},td=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},nd=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?y.createElement("span",{className:"".concat(t,"-loading-icon")},y.createElement(Xl,null)):y.createElement(Ua,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:ed,onAppearActive:td,onEnterStart:ed,onEnterActive:td,onLeaveStart:td,onLeaveActive:ed},(function(e,n){var r=e.className,i=e.style;return y.createElement("span",{className:"".concat(t,"-loading-icon"),style:i,ref:n},y.createElement(Xl,{className:r}))}))},rd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},id=/^[\u4e00-\u9fa5]{2}$/,od=id.test.bind(id);function ad(e){return"text"===e||"link"===e}function sd(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&function(e){return"string"===typeof e}(e.type)&&od(e.props.children)?Ou(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?od(e)?y.createElement("span",null,e.split("").join(n)):y.createElement("span",null,e):function(e){return y.isValidElement(e)&&e.type===y.Fragment}(e)?y.createElement("span",null,e):e}}Nu("default","primary","ghost","dashed","link","text"),Nu("default","circle","round"),Nu("submit","button","reset");var ud=function(e,t){var n,r=e.loading,i=void 0!==r&&r,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.danger,c=e.shape,l=void 0===c?"default":c,f=e.size,d=e.className,h=e.children,p=e.icon,v=e.ghost,g=void 0!==v&&v,b=e.block,x=void 0!==b&&b,w=e.htmlType,_=void 0===w?"button":w,E=rd(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),S=y.useContext(sc),k=y.useState(!!i),C=(0,m.Z)(k,2),M=C[0],O=C[1],N=y.useState(!1),T=(0,m.Z)(N,2),A=T[0],P=T[1],I=y.useContext(Xn),D=I.getPrefixCls,R=I.autoInsertSpaceInButton,L=I.direction,j=t||y.createRef(),F=function(){return 1===y.Children.count(h)&&!p&&!ad(s)},B="object"===(0,lr.Z)(i)&&i.delay?i.delay||!0:!!i;y.useEffect((function(){var e=null;return"number"===typeof B?e=window.setTimeout((function(){e=null,O(B)}),B):O(B),function(){e&&(window.clearTimeout(e),e=null)}}),[B]),y.useEffect((function(){if(j&&j.current&&!1!==R){var e=j.current.textContent;F()&&od(e)?A||P(!0):A&&P(!1)}}),[j]);var z=function(t){var n=e.onClick,r=e.disabled;M||r?t.preventDefault():null===n||void 0===n||n(t)};ji(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),ji(!(g&&ad(s)),"Button","`link` or `text` button can't be a `ghost` button.");var U=D("btn",o),G=!1!==R,V=f||S,Z=V&&{large:"lg",small:"sm",middle:void 0}[V]||"",W=M?"loading":p,Y=Mn()(U,(n={},(0,xe.Z)(n,"".concat(U,"-").concat(l),"default"!==l&&l),(0,xe.Z)(n,"".concat(U,"-").concat(s),s),(0,xe.Z)(n,"".concat(U,"-").concat(Z),Z),(0,xe.Z)(n,"".concat(U,"-icon-only"),!h&&0!==h&&!!W),(0,xe.Z)(n,"".concat(U,"-background-ghost"),g&&!ad(s)),(0,xe.Z)(n,"".concat(U,"-loading"),M),(0,xe.Z)(n,"".concat(U,"-two-chinese-chars"),A&&G),(0,xe.Z)(n,"".concat(U,"-block"),x),(0,xe.Z)(n,"".concat(U,"-dangerous"),!!u),(0,xe.Z)(n,"".concat(U,"-rtl"),"rtl"===L),n),d),H=p&&!M?p:y.createElement(nd,{existIcon:!!p,prefixCls:U,loading:!!M}),q=h||0===h?function(e,t){var n=!1,r=[];return y.Children.forEach(e,(function(e){var t=(0,lr.Z)(e),i="string"===t||"number"===t;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(e)}else r.push(e);n=i})),y.Children.map(r,(function(e){return sd(e,t)}))}(h,F()&&G):null,X=ar(E,["navigate"]);if(void 0!==X.href)return y.createElement("a",Mt({},X,{className:Y,onClick:z,ref:j}),H,q);var K=y.createElement("button",Mt({},E,{type:_,className:Y,onClick:z,ref:j}),H,q);return ad(s)?K:y.createElement(Jf,{disabled:!!M},K)},cd=y.forwardRef(ud);cd.displayName="Button",cd.Group=Hf,cd.__ANT_BUTTON=!0;var ld=cd,fd=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],dd=void 0;function hd(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,o=e.renderItem,a=e.responsive,s=e.registerSize,u=e.itemKey,c=e.className,l=e.style,f=e.children,d=e.display,h=e.order,p=e.component,v=void 0===p?"div":p,g=ur(e,fd),m=a&&!d;function b(e){s(u,e)}y.useEffect((function(){return function(){b(null)}}),[]);var x,w=o&&i!==dd?o(i):f;r||(x={opacity:m?0:1,height:m?0:dd,overflowY:m?"hidden":dd,order:a?h:dd,pointerEvents:m?"none":dd,position:m?"absolute":dd});var _={};m&&(_["aria-hidden"]=!0);var E=y.createElement(v,Mt({className:Mn()(!r&&n,c),style:_e(_e({},x),l)},_,g,{ref:t}),w);return a&&(E=y.createElement(Po,{onResize:function(e){b(e.offsetWidth)}},E)),E}var pd=y.forwardRef(hd);pd.displayName="Item";var vd=pd;var gd=["component"],md=["className"],yd=["className"],bd=function(e,t){var n=y.useContext(Ed);if(!n){var r=e.component,i=void 0===r?"div":r,o=ur(e,gd);return y.createElement(i,Mt({},o,{ref:t}))}var a=n.className,s=ur(n,md),u=e.className,c=ur(e,yd);return y.createElement(Ed.Provider,{value:null},y.createElement(vd,Mt({ref:t,className:Mn()(a,u)},s,c)))},xd=y.forwardRef(bd);xd.displayName="RawItem";var wd=xd,_d=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Ed=y.createContext(null),Sd="responsive",kd="invalidate";function Cd(e){return"+ ".concat(e.length," ...")}function Md(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,o=void 0===i?[]:i,a=e.renderItem,s=e.renderRawItem,u=e.itemKey,c=e.itemWidth,l=void 0===c?10:c,f=e.ssr,d=e.style,h=e.className,p=e.maxCount,v=e.renderRest,g=e.renderRawRest,b=e.suffix,x=e.component,w=void 0===x?"div":x,_=e.itemComponent,E=e.onVisibleChange,S=ur(e,_d),k=function(){var e=Gi({}),t=(0,m.Z)(e,2)[1],n=(0,y.useRef)([]),r=0,i=0;return function(e){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=e),[n.current[o],function(e){n.current[o]="function"===typeof e?e(n.current[o]):e,qo.cancel(i),i=qo((function(){t({},!0)}))}]}}(),C="full"===f,M=k(null),O=(0,m.Z)(M,2),N=O[0],T=O[1],A=N||0,P=k(new Map),I=(0,m.Z)(P,2),D=I[0],R=I[1],L=k(0),j=(0,m.Z)(L,2),F=j[0],B=j[1],z=k(0),U=(0,m.Z)(z,2),G=U[0],V=U[1],Z=k(0),W=(0,m.Z)(Z,2),Y=W[0],H=W[1],q=(0,y.useState)(null),X=(0,m.Z)(q,2),K=X[0],$=X[1],Q=(0,y.useState)(null),J=(0,m.Z)(Q,2),ee=J[0],te=J[1],ne=y.useMemo((function(){return null===ee&&C?Number.MAX_SAFE_INTEGER:ee||0}),[ee,N]),re=(0,y.useState)(!1),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se="".concat(r,"-item"),ue=Math.max(F,G),ce=o.length&&p===Sd,le=p===kd,fe=ce||"number"===typeof p&&o.length>p,de=(0,y.useMemo)((function(){var e=o;return ce?e=null===N&&C?o:o.slice(0,Math.min(o.length,A/l)):"number"===typeof p&&(e=o.slice(0,p)),e}),[o,l,N,p,ce]),he=(0,y.useMemo)((function(){return ce?o.slice(ne+1):o.slice(de.length)}),[o,de,ce,ne]),pe=(0,y.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),ve=(0,y.useCallback)(a||function(e){return e},[a]);function ge(e,t){te(e),t||(ae(e<o.length-1),null===E||void 0===E||E(e))}function me(e,t){R((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ye(e){return D.get(pe(de[e],e))}Io((function(){if(A&&ue&&de){var e=Y,t=de.length,n=t-1;if(!t)return ge(0),void $(null);for(var r=0;r<t;r+=1){var i=ye(r);if(void 0===i){ge(r-1,!0);break}if(e+=i,0===n&&e<=A||r===n-1&&e+ye(n)<=A){ge(n),$(null);break}if(e+ue>A){ge(r-1),$(e-i-Y+G);break}}b&&ye(0)+Y>A&&$(null)}}),[A,D,G,Y,pe,de]);var be=oe&&!!he.length,xe={};null!==K&&ce&&(xe={position:"absolute",left:K,top:0});var we,Ee={prefixCls:se,responsive:ce,component:_,invalidate:le},Se=s?function(e,t){var n=pe(e,t);return y.createElement(Ed.Provider,{key:n,value:_e(_e({},Ee),{},{order:t,item:e,itemKey:n,registerSize:me,display:t<=ne})},s(e,t))}:function(e,t){var n=pe(e,t);return y.createElement(vd,Mt({},Ee,{order:t,key:n,item:e,renderItem:ve,itemKey:n,registerSize:me,display:t<=ne}))},ke={order:be?ne:Number.MAX_SAFE_INTEGER,className:"".concat(se,"-rest"),registerSize:function(e,t){V(t),B(G)},display:be};if(g)g&&(we=y.createElement(Ed.Provider,{value:_e(_e({},Ee),ke)},g(he)));else{var Ce=v||Cd;we=y.createElement(vd,Mt({},Ee,ke),"function"===typeof Ce?Ce(he):Ce)}var Me=y.createElement(w,Mt({className:Mn()(!le&&r,h),style:d,ref:t},S),de.map(Se),fe?we:null,b&&y.createElement(vd,Mt({},Ee,{order:ne,className:"".concat(se,"-suffix"),registerSize:function(e,t){H(t)},display:!0,style:xe}),b));return ce&&(Me=y.createElement(Po,{onResize:function(e,t){T(t.clientWidth)}},Me)),Me}var Od=y.forwardRef(Md);Od.displayName="Overflow",Od.Item=wd,Od.RESPONSIVE=Sd,Od.INVALIDATE=kd;var Nd=Od,Td=["children","locked"],Ad=y.createContext(null);function Pd(e){var t=e.children,n=e.locked,r=ur(e,Td),i=y.useContext(Ad),o=Ii((function(){return function(e,t){var n=_e({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!ec()(e[1],t[1]))}));return y.createElement(Ad.Provider,{value:o},t)}function Id(e,t,n,r){var i=y.useContext(Ad),o=i.activeKey,a=i.onActive,s=i.onInactive,u={active:o===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var Dd=["item"];function Rd(e){var t=e.item,n=ur(e,Dd);return Object.defineProperty(n,"item",{get:function(){return Yr(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Ld(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?y.createElement(t,_e({},n)):t)||r||null}function jd(e){var t=y.useContext(Ad),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var Fd=[],Bd=y.createContext(null);function zd(){return y.useContext(Bd)}var Ud=y.createContext(Fd);function Gd(e){var t=y.useContext(Ud);return y.useMemo((function(){return void 0!==e?[].concat((0,kn.Z)(t),[e]):t}),[t,e])}var Vd=y.createContext(null),Zd=y.createContext(null);function Wd(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Yd(e){return Wd(y.useContext(Zd),e)}var Hd=y.createContext({}),qd=["title","attribute","elementRef"],Xd=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Kd=["active"],$d=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=ar(ur(e,qd),["eventKey"]);return Yr(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),y.createElement(Nd.Item,Mt({},n,{title:"string"===typeof t?t:void 0},i,{ref:r}))}}]),n}(y.Component),Qd=function(e){var t,n=e.style,r=e.className,i=e.eventKey,o=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,c=e.onMouseEnter,l=e.onMouseLeave,f=e.onClick,d=e.onKeyDown,h=e.onFocus,p=ur(e,Xd),v=Yd(i),g=y.useContext(Ad),m=g.prefixCls,b=g.onItemClick,x=g.disabled,w=g.overflowDisabled,_=g.itemIcon,E=g.selectedKeys,S=g.onActive,k=y.useContext(Hd)._internalRenderMenuItem,C="".concat(m,"-item"),M=y.useRef(),O=y.useRef(),N=x||o,T=Gd(i);var A=function(e){return{key:i,keyPath:(0,kn.Z)(T).reverse(),item:M.current,domEvent:e}},P=a||_,I=Id(i,N,c,l),D=I.active,R=ur(I,Kd),L=E.includes(i),j=jd(T.length),F={};"option"===e.role&&(F["aria-selected"]=L);var B=y.createElement($d,Mt({ref:M,elementRef:O,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&v?null:v},p,R,F,{component:"li","aria-disabled":o,style:_e(_e({},j),n),className:Mn()(C,(t={},(0,xe.Z)(t,"".concat(C,"-active"),D),(0,xe.Z)(t,"".concat(C,"-selected"),L),(0,xe.Z)(t,"".concat(C,"-disabled"),N),t),r),onClick:function(e){if(!N){var t=A(e);null===f||void 0===f||f(Rd(t)),b(t)}},onKeyDown:function(e){if(null===d||void 0===d||d(e),e.which===Ro.ENTER){var t=A(e);null===f||void 0===f||f(Rd(t)),b(t)}},onFocus:function(e){S(i),null===h||void 0===h||h(e)}}),s,y.createElement(Ld,{props:_e(_e({},e),{},{isSelected:L}),icon:P}));return k&&(B=k(B,e,{selected:L})),B};var Jd=function(e){var t=e.eventKey,n=zd(),r=Gd(t);return y.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:y.createElement(Qd,e)};function eh(e,t){return Zi(e).map((function(e,n){if(y.isValidElement(e)){var r,i,o=e.key,a=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat((0,kn.Z)(t),[n]).join("-")));var s={key:a,eventKey:a};return y.cloneElement(e,s)}return e}))}function th(e){var t=y.useRef(e);t.current=e;var n=y.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var nh=["className","children"],rh=function(e,t){var n=e.className,r=e.children,i=ur(e,nh),o=y.useContext(Ad),a=o.prefixCls,s=o.mode,u=o.rtl;return y.createElement("ul",Mt({className:Mn()(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===s?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:t}),r)},ih=y.forwardRef(rh);ih.displayName="SubMenuList";var oh=ih,ah={adjustX:1,adjustY:1},sh={topLeft:{points:["bl","tl"],overflow:ah,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ah,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ah,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ah,offset:[4,0]}},uh={topLeft:{points:["bl","tl"],overflow:ah,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ah,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ah,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ah,offset:[4,0]}};function ch(e,t,n){return t||(n?n[e]||n.other:void 0)}var lh={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function fh(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,o=e.popupClassName,a=e.popupOffset,s=e.disabled,u=e.mode,c=e.onVisibleChange,l=y.useContext(Ad),f=l.getPopupContainer,d=l.rtl,h=l.subMenuOpenDelay,p=l.subMenuCloseDelay,v=l.builtinPlacements,g=l.triggerSubMenuAction,b=l.forceSubMenuRender,x=l.motion,w=l.defaultMotions,_=y.useState(!1),E=(0,m.Z)(_,2),S=E[0],k=E[1],C=_e(_e({},d?uh:sh),v),M=lh[u],O=_e(_e({},ch(u,x,w)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=y.useRef();return y.useEffect((function(){return N.current=qo((function(){k(n)})),function(){qo.cancel(N.current)}}),[n]),y.createElement(vu,{prefixCls:t,popupClassName:Mn()("".concat(t,"-popup"),(0,xe.Z)({},"".concat(t,"-rtl"),d),o),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:C,popupPlacement:M,popupVisible:S,popup:i,popupAlign:a&&{offset:a},action:s?[]:[g],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:c,forceRender:b,popupMotion:O},r)}function dh(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,o="inline",a=y.useContext(Ad),s=a.prefixCls,u=a.forceSubMenuRender,c=a.motion,l=a.defaultMotions,f=a.mode,d=y.useRef(!1);d.current=f===o;var h=y.useState(!d.current),p=(0,m.Z)(h,2),v=p[0],g=p[1],b=!!d.current&&n;y.useEffect((function(){d.current&&g(!1)}),[f]);var x=_e({},ch(o,c,l));r.length>1&&(x.motionAppear=!1);var w=x.onVisibleChanged;return x.onVisibleChanged=function(e){return d.current||e||g(!0),null===w||void 0===w?void 0:w(e)},v?null:y.createElement(Pd,{mode:o,locked:!d.current},y.createElement(Ua,Mt({visible:b},x,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return y.createElement(oh,{id:t,className:n,style:r},i)})))}var hh=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ph=["active"],vh=function(e){var t,n=e.style,r=e.className,i=e.title,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,c=e.itemIcon,l=e.expandIcon,f=e.popupClassName,d=e.popupOffset,h=e.onClick,p=e.onMouseEnter,v=e.onMouseLeave,g=e.onTitleClick,b=e.onTitleMouseEnter,x=e.onTitleMouseLeave,w=ur(e,hh),_=Yd(o),E=y.useContext(Ad),S=E.prefixCls,k=E.mode,C=E.openKeys,M=E.disabled,O=E.overflowDisabled,N=E.activeKey,T=E.selectedKeys,A=E.itemIcon,P=E.expandIcon,I=E.onItemClick,D=E.onOpenChange,R=E.onActive,L=y.useContext(Hd)._internalRenderSubMenuItem,j=y.useContext(Vd).isSubPathKey,F=Gd(),B="".concat(S,"-submenu"),z=M||a,U=y.useRef(),G=y.useRef();var V=c||A,Z=l||P,W=C.includes(o),Y=!O&&W,H=j(T,o),q=Id(o,z,b,x),X=q.active,K=ur(q,ph),$=y.useState(!1),Q=(0,m.Z)($,2),J=Q[0],ee=Q[1],te=function(e){z||ee(e)},ne=y.useMemo((function(){return X||"inline"!==k&&(J||j([N],o))}),[k,X,N,J,o,j]),re=jd(F.length),ie=th((function(e){null===h||void 0===h||h(Rd(e)),I(e)})),oe=_&&"".concat(_,"-popup"),ae=y.createElement("div",Mt({role:"menuitem",style:re,className:"".concat(B,"-title"),tabIndex:z?null:-1,ref:U,title:"string"===typeof i?i:null,"data-menu-id":O&&_?null:_,"aria-expanded":Y,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":z,onClick:function(e){z||(null===g||void 0===g||g({key:o,domEvent:e}),"inline"===k&&D(o,!W))},onFocus:function(){R(o)}},K),i,y.createElement(Ld,{icon:"horizontal"!==k?Z:null,props:_e(_e({},e),{},{isOpen:Y,isSubMenu:!0})},y.createElement("i",{className:"".concat(B,"-arrow")}))),se=y.useRef(k);if("inline"!==k&&(se.current=F.length>1?"vertical":k),!O){var ue=se.current;ae=y.createElement(fh,{mode:ue,prefixCls:B,visible:!s&&Y&&"inline"!==k,popupClassName:f,popupOffset:d,popup:y.createElement(Pd,{mode:"horizontal"===ue?"vertical":ue},y.createElement(oh,{id:oe,ref:G},u)),disabled:z,onVisibleChange:function(e){"inline"!==k&&D(o,e)}},ae)}var ce=y.createElement(Nd.Item,Mt({role:"none"},w,{component:"li",style:n,className:Mn()(B,"".concat(B,"-").concat(k),r,(t={},(0,xe.Z)(t,"".concat(B,"-open"),Y),(0,xe.Z)(t,"".concat(B,"-active"),ne),(0,xe.Z)(t,"".concat(B,"-selected"),H),(0,xe.Z)(t,"".concat(B,"-disabled"),z),t)),onMouseEnter:function(e){te(!0),null===p||void 0===p||p({key:o,domEvent:e})},onMouseLeave:function(e){te(!1),null===v||void 0===v||v({key:o,domEvent:e})}}),ae,!O&&y.createElement(dh,{id:oe,open:Y,keyPath:F},u));return L&&(ce=L(ce,e,{selected:H,active:ne,open:Y,disabled:z})),y.createElement(Pd,{onItemClick:ie,mode:"horizontal"===k?"vertical":k,itemIcon:V,expandIcon:Z},ce)};function gh(e){var t,n=e.eventKey,r=e.children,i=Gd(n),o=eh(r,i),a=zd();return y.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?o:y.createElement(vh,e,o),y.createElement(Ud.Provider,{value:i},t)}function mh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Wa(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function yh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,kn.Z)(e.querySelectorAll("*")).filter((function(e){return mh(e,t)}));return mh(e,t)&&n.unshift(e),n}var bh=Ro.LEFT,xh=Ro.RIGHT,wh=Ro.UP,_h=Ro.DOWN,Eh=Ro.ENTER,Sh=Ro.ESC,kh=Ro.HOME,Ch=Ro.END,Mh=[wh,_h,bh,xh];function Oh(e,t){return yh(e,!0).filter((function(e){return t.has(e)}))}function Nh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Oh(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function Th(e,t,n,r,i,o,a,s,u,c){var l=y.useRef(),f=y.useRef();f.current=t;var d=function(){qo.cancel(l.current)};return y.useEffect((function(){return function(){d()}}),[]),function(h){var p=h.which;if([].concat(Mh,[Eh,Sh,kh,Ch]).includes(p)){var v,g,m,y=function(){return v=new Set,g=new Map,m=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Wd(r,e),"']"));t&&(v.add(t),m.set(t,e),g.set(e,t))})),v};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(g.get(t),v),x=m.get(b),w=function(e,t,n,r){var i,o,a,s,u="prev",c="next",l="children",f="parent";if("inline"===e&&r===Eh)return{inlineTrigger:!0};var d=(i={},(0,xe.Z)(i,wh,u),(0,xe.Z)(i,_h,c),i),h=(o={},(0,xe.Z)(o,bh,n?c:u),(0,xe.Z)(o,xh,n?u:c),(0,xe.Z)(o,_h,l),(0,xe.Z)(o,Eh,l),o),p=(a={},(0,xe.Z)(a,wh,u),(0,xe.Z)(a,_h,c),(0,xe.Z)(a,Eh,l),(0,xe.Z)(a,Sh,f),(0,xe.Z)(a,bh,n?l:f),(0,xe.Z)(a,xh,n?f:l),a);switch(null===(s={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case u:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===a(x,!0).length,n,p);if(!w&&p!==kh&&p!==Ch)return;(Mh.includes(p)||[kh,Ch].includes(p))&&h.preventDefault();var _=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);s(r),d(),l.current=qo((function(){f.current===r&&t.focus()}))}};if([kh,Ch].includes(p)||w.sibling||!b){var E,S,k=Oh(E=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):i.current,v);S=p===kh?k[0]:p===Ch?k[k.length-1]:Nh(E,v,b,w.offset),_(S)}else if(w.inlineTrigger)u(x);else if(w.offset>0)u(x,!0),d(),l.current=qo((function(){y();var e=b.getAttribute("aria-controls"),t=Nh(document.getElementById(e),v);_(t)}),5);else if(w.offset<0){var C=a(x,!0),M=C[C.length-2],O=g.get(M);u(M,!1),_(O)}}null===c||void 0===c||c(h)}}var Ah=Math.random().toFixed(5).toString().slice(2),Ph=0;var Ih="__RC_UTIL_PATH_SPLIT__",Dh=function(e){return e.join(Ih)},Rh="rc-menu-more";function Lh(){var e=y.useState({}),t=(0,m.Z)(e,2)[1],n=(0,y.useRef)(new Map),r=(0,y.useRef)(new Map),i=y.useState([]),o=(0,m.Z)(i,2),a=o[0],s=o[1],u=(0,y.useRef)(0),c=(0,y.useRef)(!1),l=(0,y.useCallback)((function(e,i){var o=Dh(i);r.current.set(o,e),n.current.set(e,o),u.current+=1;var a,s=u.current;a=function(){s===u.current&&(c.current||t({}))},Promise.resolve().then(a)}),[]),f=(0,y.useCallback)((function(e,t){var i=Dh(t);r.current.delete(i),n.current.delete(e)}),[]),d=(0,y.useCallback)((function(e){s(e)}),[]),h=(0,y.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Ih);return t&&a.includes(i[0])&&i.unshift(Rh),i}),[a]),p=(0,y.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),v=(0,y.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Ih),i=new Set;return(0,kn.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return y.useEffect((function(){return function(){c.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=(0,kn.Z)(n.current.keys());return a.length&&e.push(Rh),e},getSubPathKeys:v}}var jh=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Fh=[],Bh=y.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=void 0===i?"rc-menu":i,a=e.style,s=e.className,u=e.tabIndex,c=void 0===u?0:u,l=e.children,f=e.direction,d=e.id,h=e.mode,p=void 0===h?"vertical":h,v=e.inlineCollapsed,g=e.disabled,b=e.disabledOverflow,x=e.subMenuOpenDelay,w=void 0===x?.1:x,_=e.subMenuCloseDelay,E=void 0===_?.1:_,S=e.forceSubMenuRender,k=e.defaultOpenKeys,C=e.openKeys,M=e.activeKey,O=e.defaultActiveFirst,N=e.selectable,T=void 0===N||N,A=e.multiple,P=void 0!==A&&A,I=e.defaultSelectedKeys,D=e.selectedKeys,R=e.onSelect,L=e.onDeselect,j=e.inlineIndent,F=void 0===j?24:j,B=e.motion,z=e.defaultMotions,U=e.triggerSubMenuAction,G=void 0===U?"hover":U,V=e.builtinPlacements,Z=e.itemIcon,W=e.expandIcon,Y=e.overflowedIndicator,H=void 0===Y?"...":Y,q=e.overflowedIndicatorPopupClassName,X=e.getPopupContainer,K=e.onClick,$=e.onOpenChange,Q=e.onKeyDown,J=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ee=e._internalRenderSubMenuItem,te=ur(e,jh),ne=eh(l,Fh),re=y.useState(!1),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=y.useRef(),ue=Ri(se,t),ce=function(e){var t=Vi(e,{value:e}),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){Ph+=1;var e="".concat(Ah,"-").concat(Ph);i("rc-menu-uuid-".concat(e))}),[]),r}(d),le="rtl"===f;var fe=y.useMemo((function(){return"inline"!==p&&"vertical"!==p||!v?[p,!1]:["vertical",v]}),[p,v]),de=(0,m.Z)(fe,2),he=de[0],pe=de[1],ve=y.useState(0),ge=(0,m.Z)(ve,2),me=ge[0],ye=ge[1],be=me>=ne.length-1||"horizontal"!==he||b,we=Vi(k,{value:C,postState:function(e){return e||Fh}}),Ee=(0,m.Z)(we,2),Se=Ee[0],ke=Ee[1],Ce=function(e){ke(e),null===$||void 0===$||$(e)},Me=y.useState(Se),Oe=(0,m.Z)(Me,2),Ne=Oe[0],Te=Oe[1],Ae="inline"===he,Pe=y.useRef(!1);y.useEffect((function(){Ae&&Te(Se)}),[Se]),y.useEffect((function(){Pe.current?Ae?ke(Ne):Ce(Fh):Pe.current=!0}),[Ae]);var Ie=Lh(),De=Ie.registerPath,Re=Ie.unregisterPath,Le=Ie.refreshOverflowKeys,je=Ie.isSubPathKey,Fe=Ie.getKeyPath,Be=Ie.getKeys,ze=Ie.getSubPathKeys,Ue=y.useMemo((function(){return{registerPath:De,unregisterPath:Re}}),[De,Re]),Ge=y.useMemo((function(){return{isSubPathKey:je}}),[je]);y.useEffect((function(){Le(be?Fh:ne.slice(me+1).map((function(e){return e.key})))}),[me,be]);var Ve=Vi(M||O&&(null===(n=ne[0])||void 0===n?void 0:n.key),{value:M}),Ze=(0,m.Z)(Ve,2),We=Ze[0],Ye=Ze[1],He=th((function(e){Ye(e)})),qe=th((function(){Ye(void 0)})),Xe=Vi(I||[],{value:D,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Fh:[e]}}),Ke=(0,m.Z)(Xe,2),$e=Ke[0],Qe=Ke[1],Je=th((function(e){null===K||void 0===K||K(Rd(e)),function(e){if(T){var t,n=e.key,r=$e.includes(n);t=P?r?$e.filter((function(e){return e!==n})):[].concat((0,kn.Z)($e),[n]):[n],Qe(t);var i=_e(_e({},e),{},{selectedKeys:t});r?null===L||void 0===L||L(i):null===R||void 0===R||R(i)}!P&&Se.length&&"inline"!==he&&Ce(Fh)}(e)})),et=th((function(e,t){var n=Se.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==he){var r=ze(e);n=n.filter((function(e){return!r.has(e)}))}ec()(Se,n)||Ce(n)})),tt=th(X),nt=Th(he,We,le,ce,se,Be,Fe,Ye,(function(e,t){var n=null!==t&&void 0!==t?t:!Se.includes(e);et(e,n)}),Q);y.useEffect((function(){ae(!0)}),[]);var rt=y.useMemo((function(){return{_internalRenderMenuItem:J,_internalRenderSubMenuItem:ee}}),[J,ee]),it="horizontal"!==he||b?ne:ne.map((function(e,t){return y.createElement(Pd,{key:e.key,overflowDisabled:t>me},e)})),ot=y.createElement(Nd,Mt({id:d,ref:ue,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:Jd,className:Mn()(o,"".concat(o,"-root"),"".concat(o,"-").concat(he),s,(r={},(0,xe.Z)(r,"".concat(o,"-inline-collapsed"),pe),(0,xe.Z)(r,"".concat(o,"-rtl"),le),r)),dir:f,style:a,role:"menu",tabIndex:c,data:it,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ne.slice(-t):null;return y.createElement(gh,{eventKey:Rh,title:H,disabled:be,internalPopupClose:0===t,popupClassName:q},n)},maxCount:"horizontal"!==he||b?Nd.INVALIDATE:Nd.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ye(e)},onKeyDown:nt},te));return y.createElement(Hd.Provider,{value:rt},y.createElement(Zd.Provider,{value:ce},y.createElement(Pd,{prefixCls:o,mode:he,openKeys:Se,rtl:le,disabled:g,motion:oe?B:null,defaultMotions:oe?z:null,activeKey:We,onActive:He,onInactive:qe,selectedKeys:$e,inlineIndent:F,subMenuOpenDelay:w,subMenuCloseDelay:E,forceSubMenuRender:S,builtinPlacements:V,triggerSubMenuAction:G,getPopupContainer:tt,itemIcon:Z,expandIcon:W,onItemClick:Je,onOpenChange:et},y.createElement(Vd.Provider,{value:Ge},ot),y.createElement("div",{style:{display:"none"},"aria-hidden":!0},y.createElement(Bd.Provider,{value:Ue},ne)))))})),zh=["className","title","eventKey","children"],Uh=["children"],Gh=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),i=ur(e,zh),o=y.useContext(Ad).prefixCls,a="".concat(o,"-item-group");return y.createElement("li",Mt({},i,{onClick:function(e){return e.stopPropagation()},className:Mn()(a,t)}),y.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),y.createElement("ul",{className:"".concat(a,"-list")},r))};function Vh(e){var t=e.children,n=ur(e,Uh),r=eh(t,Gd(n.eventKey));return zd()?r:y.createElement(Gh,ar(n,["warnKey"]),r)}function Zh(e){var t=e.className,n=e.style,r=y.useContext(Ad).prefixCls;return zd()?null:y.createElement("li",{className:Mn()("".concat(r,"-item-divider"),t),style:n})}var Wh=Gd,Yh=Bh;Yh.Item=Jd,Yh.SubMenu=gh,Yh.ItemGroup=Vh,Yh.Divider=Zh;var Hh=Yh,qh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Xh=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:qh}))};Xh.displayName="EllipsisOutlined";var Kh=y.forwardRef(Xh),$h=(0,y.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var Qh=function(e){var t,n,r=e.popupClassName,i=e.icon,o=e.title,a=e.theme,s=y.useContext($h),u=s.prefixCls,c=s.inlineCollapsed,l=s.antdMenuTheme,f=Wh();if(i){var d=Mu(o)&&"span"===o.type;n=y.createElement(y.Fragment,null,Ou(i,{className:Mn()(Mu(i)?null===(t=i.props)||void 0===t?void 0:t.className:"","".concat(u,"-item-icon"))}),d?o:y.createElement("span",{className:"".concat(u,"-title-content")},o))}else n=c&&!f.length&&o&&"string"===typeof o?y.createElement("div",{className:"".concat(u,"-inline-collapsed-noicon")},o.charAt(0)):y.createElement("span",{className:"".concat(u,"-title-content")},o);var h=y.useMemo((function(){return Mt(Mt({},s),{firstLevel:!1})}),[s]);return y.createElement($h.Provider,{value:h},y.createElement(gh,Mt({},ar(e,["icon"]),{title:n,popupClassName:Mn()(u,"".concat(u,"-").concat(a||l),r)})))},Jh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ep=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,i=t.siderCollapsed,o=e.context,a=o.prefixCls,s=o.firstLevel,u=o.inlineCollapsed,c=o.direction,l=o.disableMenuItemTitleTooltip,f=e.props,d=f.className,h=f.children,p=e.props,v=p.title,g=p.icon,m=p.danger,b=Jh(p,["title","icon","danger"]),x=v;"undefined"===typeof v?x=s?h:"":!1===v&&(x="");var w={title:x};i||u||(w.title=null,w.visible=!1);var _=Zi(h).length,E=y.createElement(Jd,Mt({},b,{className:Mn()((n={},(0,xe.Z)(n,"".concat(a,"-item-danger"),m),(0,xe.Z)(n,"".concat(a,"-item-only-child"),1===(g?_+1:_)),n),d),title:"string"===typeof v?v:void 0}),Ou(g,{className:Mn()(Mu(g)?null===(r=g.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),e.renderItemChildren(u));return l||(E=y.createElement(Vu,Mt({},w,{placement:"rtl"===c?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),E)),E},e}return(0,Nn.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,i=this.props,o=i.icon,a=i.children,s=y.createElement("span",{className:"".concat(n,"-title-content")},a);return(!o||Mu(a)&&"span"===a.type)&&a&&e&&r&&"string"===typeof a?y.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):s}},{key:"render",value:function(){return y.createElement(Ci.Consumer,null,this.renderItem)}}]),n}(y.Component);ep.contextType=$h;var tp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},np=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,i=tp(e,["prefixCls","className","dashed"]),o=(0,y.useContext(Xn).getPrefixCls)("menu",t),a=Mn()((0,xe.Z)({},"".concat(o,"-item-divider-dashed"),!!r),n);return y.createElement(Zh,Mt({className:a},i))},rp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ip(e){var t=y.useContext(Xn),n=t.getPrefixCls,r=t.getPopupContainer,i=t.direction,o=n(),a=e.prefixCls,s=e.className,u=e.theme,c=void 0===u?"light":u,l=e.expandIcon,f=e._internalDisableMenuItemTitleTooltip,d=e.inlineCollapsed,h=e.siderCollapsed,p=ar(rp(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed"]),["collapsedWidth"]);ji(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),ji(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.");var v=y.useMemo((function(){return void 0!==h?h:d}),[d,h]),g={horizontal:{motionName:"".concat(o,"-slide-up")},inline:Fu,other:{motionName:"".concat(o,"-zoom-big")}},m=n("menu",a),b=Mn()("".concat(m,"-").concat(c),s),x=y.useMemo((function(){return{prefixCls:m,inlineCollapsed:v||!1,antdMenuTheme:c,direction:i,firstLevel:!0,disableMenuItemTitleTooltip:f}}),[m,v,c,i,f]);return y.createElement($h.Provider,{value:x},y.createElement(Hh,Mt({getPopupContainer:r,overflowedIndicator:y.createElement(Kh,null),overflowedIndicatorPopupClassName:"".concat(m,"-").concat(c)},p,{inlineCollapsed:v,className:b,prefixCls:m,direction:i,defaultMotions:g,expandIcon:Ou(l,{className:"".concat(m,"-submenu-expand-icon")})})))}var op=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){var e=this;return y.createElement(Ci.Consumer,null,(function(t){return y.createElement(ip,Mt({},e.props,t))}))}}]),n}(y.Component);op.Divider=np,op.Item=ep,op.SubMenu=Qh,op.ItemGroup=Vh;var ap=op,sp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},up=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:sp}))};up.displayName="HomeOutlined";var cp=y.forwardRef(up),lp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},fp=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:lp}))};fp.displayName="UnorderedListOutlined";var dp=y.forwardRef(fp),hp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},pp=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:hp}))};pp.displayName="DotChartOutlined";var vp=y.forwardRef(pp),gp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},mp=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:gp}))};mp.displayName="PlusCircleOutlined";var yp=y.forwardRef(mp),bp=(0,y.createContext)({}),xp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var wp=["xs","sm","md","lg","xl","xxl"],_p=y.forwardRef((function(e,t){var n,r=y.useContext(Xn),i=r.getPrefixCls,o=r.direction,a=y.useContext(bp),s=a.gutter,u=a.wrap,c=a.supportFlexGap,l=e.prefixCls,f=e.span,d=e.order,h=e.offset,p=e.push,v=e.pull,g=e.className,m=e.children,b=e.flex,x=e.style,w=xp(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),_=i("col",l),E={};wp.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===(0,lr.Z)(i)&&(r=i||{}),delete w[t],E=Mt(Mt({},E),(n={},(0,xe.Z)(n,"".concat(_,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,xe.Z)(n,"".concat(_,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,xe.Z)(n,"".concat(_,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,xe.Z)(n,"".concat(_,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,xe.Z)(n,"".concat(_,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===o),n))}));var S=Mn()(_,(n={},(0,xe.Z)(n,"".concat(_,"-").concat(f),void 0!==f),(0,xe.Z)(n,"".concat(_,"-order-").concat(d),d),(0,xe.Z)(n,"".concat(_,"-offset-").concat(h),h),(0,xe.Z)(n,"".concat(_,"-push-").concat(p),p),(0,xe.Z)(n,"".concat(_,"-pull-").concat(v),v),n),g,E),k={};if(s&&s[0]>0){var C=s[0]/2;k.paddingLeft=C,k.paddingRight=C}if(s&&s[1]>0&&!c){var M=s[1]/2;k.paddingTop=M,k.paddingBottom=M}return b&&(k.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==u||k.minWidth||(k.minWidth=0)),y.createElement("div",Mt({},w,{style:Mt(Mt({},k),x),className:S,ref:t}),m)}));_p.displayName="Col";var Ep=_p,Sp=Ep,kp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Cp=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:kp}))};Cp.displayName="CloseOutlined";var Mp=y.forwardRef(Cp),Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Np=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,o=e.onChange,a=e.onClick,s=Op(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,y.useContext(Xn).getPrefixCls)("tag",n),c=Mn()(u,(t={},(0,xe.Z)(t,"".concat(u,"-checkable"),!0),(0,xe.Z)(t,"".concat(u,"-checkable-checked"),i),t),r);return y.createElement("span",Mt({},s,{className:c,onClick:function(e){null===o||void 0===o||o(!i),null===a||void 0===a||a(e)}}))},Tp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ap=new RegExp("^(".concat(Au.join("|"),")(-inverse)?$")),Pp=new RegExp("^(".concat(Tu.join("|"),")$")),Ip=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.icon,u=e.color,c=e.onClose,l=e.closeIcon,f=e.closable,d=void 0!==f&&f,h=Tp(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),p=y.useContext(Xn),v=p.getPrefixCls,g=p.direction,b=y.useState(!0),x=(0,m.Z)(b,2),w=x[0],_=x[1];y.useEffect((function(){"visible"in h&&_(h.visible)}),[h.visible]);var E=function(){return!!u&&(Ap.test(u)||Pp.test(u))},S=Mt({backgroundColor:u&&!E()?u:void 0},o),k=E(),C=v("tag",r),M=Mn()(C,(n={},(0,xe.Z)(n,"".concat(C,"-").concat(u),k),(0,xe.Z)(n,"".concat(C,"-has-color"),u&&!k),(0,xe.Z)(n,"".concat(C,"-hidden"),!w),(0,xe.Z)(n,"".concat(C,"-rtl"),"rtl"===g),n),i),O=function(e){e.stopPropagation(),null===c||void 0===c||c(e),e.defaultPrevented||"visible"in h||_(!1)},N="onClick"in h||a&&"a"===a.type,T=ar(h,["visible"]),A=s||null,P=A?y.createElement(y.Fragment,null,A,y.createElement("span",null,a)):a,I=y.createElement("span",Mt({},T,{ref:t,className:M,style:S}),P,d?l?y.createElement("span",{className:"".concat(C,"-close-icon"),onClick:O},l):y.createElement(Mp,{className:"".concat(C,"-close-icon"),onClick:O}):null);return N?y.createElement(Jf,null,I):I},Dp=y.forwardRef(Ip);Dp.displayName="Tag",Dp.CheckableTag=Np;var Rp,Lp=Dp,jp=["xxl","xl","lg","md","sm","xs"],Fp={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Bp=new Map,zp=-1,Up={},Gp={matchHandlers:{},dispatch:function(e){return Up=e,Bp.forEach((function(e){return e(Up)})),Bp.size>=1},subscribe:function(e){return Bp.size||this.register(),zp+=1,Bp.set(zp,e),e(Up),zp},unsubscribe:function(e){Bp.delete(e),Bp.size||this.unregister()},unregister:function(){var e=this;Object.keys(Fp).forEach((function(t){var n=Fp[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Bp.clear()},register:function(){var e=this;Object.keys(Fp).forEach((function(t){var n=Fp[t],r=function(n){var r=n.matches;e.dispatch(Mt(Mt({},Up),(0,xe.Z)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},Vp=Gp,Zp=function(){if(!Hr()||!window.document.documentElement)return!1;if(void 0!==Rp)return Rp;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Rp=1===e.scrollHeight,document.body.removeChild(e),Rp},Wp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yp=(Nu("top","middle","bottom","stretch"),Nu("start","end","center","space-around","space-between"),y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.justify,o=e.align,a=e.className,s=e.style,u=e.children,c=e.gutter,l=void 0===c?0:c,f=e.wrap,d=Wp(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=y.useContext(Xn),p=h.getPrefixCls,v=h.direction,g=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),b=(0,m.Z)(g,2),x=b[0],w=b[1],_=function(){var e=y.useState(!1),t=(0,m.Z)(e,2),n=t[0],r=t[1];return y.useEffect((function(){r(Zp())}),[]),n}(),E=y.useRef(l);y.useEffect((function(){var e=Vp.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===(0,lr.Z)(t)||Array.isArray(t)&&("object"===(0,lr.Z)(t[0])||"object"===(0,lr.Z)(t[1])))&&w(e)}));return function(){return Vp.unsubscribe(e)}}),[]);var S=p("row",r),k=function(){var e=[0,0];return(Array.isArray(l)?l:[l,0]).forEach((function(t,n){if("object"===(0,lr.Z)(t))for(var r=0;r<jp.length;r++){var i=jp[r];if(x[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t||0})),e}(),C=Mn()(S,(n={},(0,xe.Z)(n,"".concat(S,"-no-wrap"),!1===f),(0,xe.Z)(n,"".concat(S,"-").concat(i),i),(0,xe.Z)(n,"".concat(S,"-").concat(o),o),(0,xe.Z)(n,"".concat(S,"-rtl"),"rtl"===v),n),a),M={},O=k[0]>0?k[0]/-2:void 0,N=k[1]>0?k[1]/-2:void 0;if(O&&(M.marginLeft=O,M.marginRight=O),_){var T=(0,m.Z)(k,2);M.rowGap=T[1]}else N&&(M.marginTop=N,M.marginBottom=N);var A=(0,m.Z)(k,2),P=A[0],I=A[1],D=y.useMemo((function(){return{gutter:[P,I],wrap:f,supportFlexGap:_}}),[P,I,f,_]);return y.createElement(bp.Provider,{value:D},y.createElement("div",Mt({},d,{className:C,style:Mt(Mt({},M),s),ref:t}),u))})));Yp.displayName="Row";var Hp,qp=Yp,Xp=qp,Kp="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),$p="aria-",Qp="data-";function Jp(e,t){return 0===e.indexOf(t)}function ev(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:_e({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Jp(n,$p))||t.data&&Jp(n,Qp)||t.attr&&Kp.includes(n))&&(r[n]=e[n])})),r}function tv(e){if("undefined"===typeof document)return 0;if(e||void 0===Hp){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),Hp=i-o}return Hp}function nv(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?tv():n}var rv=function(e){return null};var iv=function(e){return null};function ov(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function av(e,t){if(!t&&"number"!==typeof t)return e;for(var n=ov(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function sv(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,o=r.dataIndex,a=i||ov(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function uv(e){return null!==e&&void 0!==e}var cv=y.createContext(!1),lv=y.createContext({}),fv=y.createContext({renderWithProps:!1}),dv=["colSpan","rowSpan","style","className"];function hv(e,t){var n,r,i,o=e.prefixCls,a=e.className,s=e.record,u=e.index,c=e.renderIndex,l=e.dataIndex,f=e.render,d=e.children,h=e.component,p=void 0===h?"td":h,v=e.colSpan,g=e.rowSpan,b=e.fixLeft,x=e.fixRight,w=e.firstFixLeft,_=e.lastFixLeft,E=e.firstFixRight,S=e.lastFixRight,k=e.appendNode,C=e.additionalProps,M=void 0===C?{}:C,O=e.ellipsis,N=e.align,T=e.rowType,A=e.isSticky,P=e.hovering,I=e.onHover,D="".concat(o,"-cell"),R=y.useContext(fv),L=y.useContext(cv),j=y.useMemo((function(){if(uv(d))return[d];var e=av(s,l),t=e,n=void 0;if(f){var r=f(e,s,c);!function(e){return e&&"object"===(0,lr.Z)(e)&&!Array.isArray(e)&&!y.isValidElement(e)}(r)?t=r:(t=r.children,n=r.props,R.renderWithProps=!0)}return[t,n]}),[R.renderWithProps?Math.random():0,d,l,R,s,f,c]),F=(0,m.Z)(j,2),B=F[0],z=F[1],U=B;"object"!==(0,lr.Z)(U)||Array.isArray(U)||y.isValidElement(U)||(U=null),O&&(_||E)&&(U=y.createElement("span",{className:"".concat(D,"-content")},U));var G=z||{},V=G.colSpan,Z=G.rowSpan,W=G.style,Y=G.className,H=ur(G,dv),q=null!==(n=void 0!==V?V:v)&&void 0!==n?n:1,X=null!==(r=void 0!==Z?Z:g)&&void 0!==r?r:1;if(0===q||0===X)return null;var K={},$="number"===typeof b&&L,Q="number"===typeof x&&L;$&&(K.position="sticky",K.left=b),Q&&(K.position="sticky",K.right=x);var J={};N&&(J.textAlign=N);var ee,te=!0===O?{showTitle:!0}:O;te&&(te.showTitle||"header"===T)&&("string"===typeof U||"number"===typeof U?ee=U.toString():y.isValidElement(U)&&"string"===typeof U.props.children&&(ee=U.props.children));var ne,re=_e(_e(_e({title:ee},H),M),{},{colSpan:1!==q?q:null,rowSpan:1!==X?X:null,className:Mn()(D,a,(i={},(0,xe.Z)(i,"".concat(D,"-fix-left"),$&&L),(0,xe.Z)(i,"".concat(D,"-fix-left-first"),w&&L),(0,xe.Z)(i,"".concat(D,"-fix-left-last"),_&&L),(0,xe.Z)(i,"".concat(D,"-fix-right"),Q&&L),(0,xe.Z)(i,"".concat(D,"-fix-right-first"),E&&L),(0,xe.Z)(i,"".concat(D,"-fix-right-last"),S&&L),(0,xe.Z)(i,"".concat(D,"-ellipsis"),O),(0,xe.Z)(i,"".concat(D,"-with-append"),k),(0,xe.Z)(i,"".concat(D,"-fix-sticky"),($||Q)&&A&&L),(0,xe.Z)(i,"".concat(D,"-row-hover"),!z&&P),i),M.className,Y),style:_e(_e(_e(_e({},M.style),J),K),W),onMouseEnter:function(e){var t;s&&I(u,u+X-1),null===M||void 0===M||null===(t=M.onMouseEnter)||void 0===t||t.call(M,e)},onMouseLeave:function(e){var t;s&&I(-1,-1),null===M||void 0===M||null===(t=M.onMouseLeave)||void 0===t||t.call(M,e)},ref:(ne=p,"string"===typeof ne||Li(ne)?t:null)});return y.createElement(p,re,k,U)}var pv=y.forwardRef(hv);pv.displayName="Cell";var vv=["expanded","className","hovering"],gv=y.memo(pv,(function(e,t){return t.shouldCellUpdate?vv.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):ec()(e,t)})),mv=y.forwardRef((function(e,t){var n=y.useContext(lv),r=n.onHover,i=n.startRow,o=n.endRow,a=e.index,s=e.additionalProps,u=void 0===s?{}:s,c=e.colSpan,l=e.rowSpan,f=u.colSpan,d=u.rowSpan,h=null!==c&&void 0!==c?c:f,p=null!==l&&void 0!==l?l:d,v=function(e,t,n,r){return e<=r&&e+t-1>=n}(a,p||1,i,o);return y.createElement(gv,Mt({},e,{colSpan:h,rowSpan:p,hovering:v,ref:t,onHover:r}))}));mv.displayName="WrappedCell";var yv=mv,bv=y.createContext(null);function xv(e,t,n,r,i){var o,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?o=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var c=!1,l=!1,f=!1,d=!1,h=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==o)d=!(p&&"left"===p.fixed);else if(void 0!==a){f=!(h&&"right"===h.fixed)}}else if(void 0!==o){c=!(h&&"left"===h.fixed)}else if(void 0!==a){l=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:c,firstFixRight:l,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}function wv(e){var t,n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,u=e.index,c=y.useContext(bv),l=c.prefixCls,f=c.direction;s&&(t=s(n.map((function(e){return e.column})),u));var d=sv(n.map((function(e){return e.column})));return y.createElement(o,t,n.map((function(e,t){var n,o=e.column,s=xv(e.colStart,e.colEnd,i,r,f);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),y.createElement(yv,Mt({},e,{ellipsis:o.ellipsis,align:o.align,component:a,prefixCls:l,key:d[t]},s,{additionalProps:n,rowType:"header"}))})))}wv.displayName="HeaderRow";var _v=wv;var Ev=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,o=y.useContext(bv),a=o.prefixCls,s=o.getComponent,u=y.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var o=r,a=n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[i].push(r),o+=a,a}));return a}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),c=s(["header","wrapper"],"thead"),l=s(["header","row"],"tr"),f=s(["header","cell"],"th");return y.createElement(c,{className:"".concat(a,"-thead")},u.map((function(e,n){return y.createElement(_v,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:l,cellComponent:f,onHeaderRow:i,index:n})})))},Sv=y.createContext(null),kv=y.createContext(null);var Cv=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,o=e.className,a=e.expanded,s=e.colSpan,u=e.isEmpty,c=y.useContext(bv).scrollbarSize,l=y.useContext(kv),f=l.fixHeader,d=l.fixColumn,h=l.componentWidth,p=l.horizonScroll;return y.useMemo((function(){var e=n;return(u?p:d)&&(e=y.createElement("div",{style:{width:h-(f?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),y.createElement(r,{className:o,style:{display:a?null:"none"}},y.createElement(yv,{component:i,prefixCls:t,colSpan:s},e))}),[n,r,o,a,s,u,c,h,d,f,p])},Mv=y.createContext(null);function Ov(e){var t=e.className,n=e.style,r=e.record,i=e.index,o=e.renderIndex,a=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,c=e.onRow,l=e.indent,f=void 0===l?0:l,d=e.rowComponent,h=e.cellComponent,p=e.childrenColumnName,v=y.useContext(bv),g=v.prefixCls,b=v.fixedInfoList,x=y.useContext(Sv),w=x.flattenColumns,_=x.expandableType,E=x.expandRowByClick,S=x.onTriggerExpand,k=x.rowClassName,C=x.expandedRowClassName,M=x.indentSize,O=x.expandIcon,N=x.expandedRowRender,T=x.expandIconColumnIndex,A=y.useState(!1),P=(0,m.Z)(A,2),I=P[0],D=P[1],R=u&&u.has(e.recordKey);y.useEffect((function(){R&&D(!0)}),[R]);var L="row"===_&&(!s||s(r)),j="nest"===_,F=p&&r&&r[p],B=L||j,z=y.useRef(S);z.current=S;var U,G=function(){z.current.apply(z,arguments)};c&&(U=c(r,i));var V;"string"===typeof k?V=k:"function"===typeof k&&(V=k(r,i,f));var Z,W=sv(w),Y=y.createElement(d,Mt({},U,{"data-row-key":a,className:Mn()(t,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(f),V,U&&U.className),style:_e(_e({},n),U?U.style:null),onClick:function(e){var t,n;E&&B&&G(r,e);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];null===(t=U)||void 0===t||null===(n=t.onClick)||void 0===n||n.call.apply(n,[t,e].concat(o))}}),w.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,c=e.className,l=W[t],d=b[t];return t===(T||0)&&j&&(n=y.createElement(y.Fragment,null,y.createElement("span",{style:{paddingLeft:"".concat(M*f,"px")},className:"".concat(g,"-row-indent indent-level-").concat(f)}),O({prefixCls:g,expanded:R,expandable:F,record:r,onExpand:G}))),e.onCell&&(a=e.onCell(r,i)),y.createElement(yv,Mt({className:c,ellipsis:e.ellipsis,align:e.align,component:h,prefixCls:g,key:l,record:r,index:i,renderIndex:o,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&R},d,{appendNode:n,additionalProps:a}))})));if(L&&(I||R)){var H=N(r,i,f+1,R),q=C&&C(r,i,f);Z=y.createElement(Cv,{expanded:R,className:Mn()("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(f+1),q),prefixCls:g,component:d,cellComponent:h,colSpan:w.length,isEmpty:!1},H)}return y.createElement(y.Fragment,null,Y,Z)}Ov.displayName="BodyRow";var Nv=Ov;function Tv(e,t,n,r,i,o){var a=[];a.push({record:e,indent:t,index:o});var s=i(e),u=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&u)for(var c=0;c<e[n].length;c+=1){var l=Tv(e[n][c],t+1,n,r,i,c);a.push.apply(a,(0,kn.Z)(l))}return a}function Av(e){var t=e.columnKey,n=e.onColumnResize,r=y.useRef();return y.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),y.createElement(Po,{data:t},y.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},y.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function Pv(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=y.useRef(new Map),o=y.useRef(null);return y.useEffect((function(){return function(){qo.cancel(o.current)}}),[]),y.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},y.createElement(Po.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;i.current.set(t,n.offsetWidth)})),null===o.current&&(o.current=qo((function(){i.current.forEach((function(e,t){r(t,e)})),i.current.clear(),o.current=null}),2))}},n.map((function(e){return y.createElement(Av,{key:e,columnKey:e,onColumnResize:r})}))))}function Iv(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,o=e.onRow,a=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,c=y.useContext(Mv).onColumnResize,l=y.useContext(bv),f=l.prefixCls,d=l.getComponent,h=y.useContext(Sv).flattenColumns,p=function(e,t,n,r){var i=y.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var a=e[o];i.push.apply(i,(0,kn.Z)(Tv(a,0,t,n,r,o)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r]);return i}(t,u,i,n),v=y.useRef({renderWithProps:!1}),g=y.useState(-1),b=(0,m.Z)(g,2),x=b[0],w=b[1],_=y.useState(-1),E=(0,m.Z)(_,2),S=E[0],k=E[1],C=y.useCallback((function(e,t){w(e),k(t)}),[]),M=y.useMemo((function(){return{startRow:x,endRow:S,onHover:C}}),[C,x,S]),O=y.useMemo((function(){var e,l=d(["body","wrapper"],"tbody"),v=d(["body","row"],"tr"),g=d(["body","cell"],"td");e=t.length?p.map((function(e,t){var r=e.record,s=e.indent,c=e.index,l=n(r,t);return y.createElement(Nv,{key:l,rowKey:l,record:r,recordKey:l,index:t,renderIndex:c,rowComponent:v,cellComponent:g,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:u,indent:s})})):y.createElement(Cv,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:v,cellComponent:g,colSpan:h.length,isEmpty:!0},s);var m=sv(h);return y.createElement(l,{className:"".concat(f,"-tbody")},r&&y.createElement(Pv,{prefixCls:f,columnsKey:m,onColumnResize:c}),e)}),[t,f,o,r,i,n,d,s,h,u,c,a,p]);return y.createElement(fv.Provider,{value:v.current},y.createElement(lv.Provider,{value:M},O))}var Dv=y.memo(Iv);Dv.displayName="Body";var Rv=Dv,Lv=["expandable"],jv="RC_TABLE_INTERNAL_COL_DEFINE";var Fv={},Bv=["children"],zv=["fixed"];function Uv(e){return Zi(e).filter((function(e){return y.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=_e({key:t},ur(n,Bv));return r&&(i.children=Uv(r)),i}))}function Gv(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,kn.Z)(e),(0,kn.Z)(Gv(i).map((function(e){return _e({fixed:r},e)})))):[].concat((0,kn.Z)(e),[_e(_e({},t),{},{fixed:r})])}),[])}var Vv=function(e,t){var n=e.prefixCls,r=e.columns,i=e.children,o=e.expandable,a=e.expandedKeys,s=e.getRowKey,u=e.onTriggerExpand,c=e.expandIcon,l=e.rowExpandable,f=e.expandIconColumnIndex,d=e.direction,h=e.expandRowByClick,p=e.columnWidth,v=e.fixed,g=y.useMemo((function(){return r||Uv(i)}),[r,i]),m=y.useMemo((function(){if(o){var e,t=g.slice();if(!t.includes(Fv)){var r=f||0;r>=0&&t.splice(r,0,Fv)}0;var i=t.indexOf(Fv);t=t.filter((function(e,t){return e!==Fv||t===i}));var d,m=g[i];d="left"!==v&&!v||f?"right"!==v&&!v||f!==g.length?m?m.fixed:null:"right":"left";var b=(e={},(0,xe.Z)(e,jv,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,xe.Z)(e,"title",""),(0,xe.Z)(e,"fixed",d),(0,xe.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,xe.Z)(e,"width",p),(0,xe.Z)(e,"render",(function(e,t,r){var i=s(t,r),o=a.has(i),f=!l||l(t),d=c({prefixCls:n,expanded:o,expandable:f,record:t,onExpand:u});return h?y.createElement("span",{onClick:function(e){return e.stopPropagation()}},d):d})),e);return t.map((function(e){return e===Fv?b:e}))}return g.filter((function(e){return e!==Fv}))}),[o,g,s,a,c,d]),b=y.useMemo((function(){var e=m;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,m,d]),x=y.useMemo((function(){return"rtl"===d?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),_e({fixed:n},ur(e,zv))}))}(Gv(b)):Gv(b)}),[b,d]);return[b,x]};function Zv(e){var t=(0,y.useRef)(e),n=(0,y.useState)({}),r=(0,m.Z)(n,2)[1],i=(0,y.useRef)(null),o=(0,y.useRef)([]);return(0,y.useEffect)((function(){return function(){i.current=null}}),[]),[t.current,function(e){o.current.push(e);var n=Promise.resolve();i.current=n,n.then((function(){if(i.current===n){var e=o.current,a=t.current;o.current=[],e.forEach((function(e){t.current=e(t.current)})),i.current=null,a!==t.current&&r({})}}))}]}var Wv=function(e,t,n){var r=(0,y.useMemo)((function(){for(var r=[],i=[],o=0,a=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=a,a+=e[s]||0;var u=t-s-1;r[u]=o,o+=e[u]||0}else{r[s]=o,o+=e[s]||0;var c=t-s-1;i[c]=a,a+=e[c]||0}return{left:r,right:i}}),[e,t,n]);return r},Yv=["columnType"];var Hv=function(e){for(var t=e.colWidths,n=e.columns,r=[],i=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var a=t[o],s=n&&n[o],u=s&&s[jv];if(a||u||i){var c=u||{},l=(c.columnType,ur(c,Yv));r.unshift(y.createElement("col",Mt({key:o,style:{width:a}},l))),i=!0}}return y.createElement("colgroup",null,r)};var qv=function(e){var t=e.className,n=e.children;return y.createElement("div",{className:t},n)};var Xv=["children"];var Kv=y.createContext({});function $v(e){return e.children}$v.Row=function(e){var t=e.children,n=ur(e,Xv);return y.createElement("tr",n,t)},$v.Cell=function(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,o=void 0===i?1:i,a=e.rowSpan,s=e.align,u=y.useContext(bv),c=u.prefixCls,l=u.direction,f=y.useContext(Kv),d=f.scrollColumnIndex,h=f.stickyOffsets,p=n+o-1+1===d?o+1:o,v=xv(n,n+p-1,f.flattenColumns,h,l);return y.createElement(yv,Mt({className:t,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:a,render:function(){return r}},v))};var Qv=$v;var Jv=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=y.useContext(bv).prefixCls,o=r.length-1,a=r[o],s=y.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?o:null}}),[a,r,o,n]);return y.createElement(Kv.Provider,{value:s},y.createElement("tfoot",{className:"".concat(i,"-summary")},t))},eg=Qv;function tg(e){var t,n=e.prefixCls,r=e.record,i=e.onExpand,o=e.expanded,a=e.expandable,s="".concat(n,"-row-expand-icon");if(!a)return y.createElement("span",{className:Mn()(s,"".concat(n,"-row-spaced"))});return y.createElement("span",{className:Mn()(s,(t={},(0,xe.Z)(t,"".concat(n,"-row-expanded"),o),(0,xe.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){i(r,e),e.stopPropagation()}})}function ng(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var rg=function(e,t){var n,r,i=e.scrollBodyRef,o=e.onScroll,a=e.offsetScroll,s=e.container,u=y.useContext(bv).prefixCls,c=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,l=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,f=c&&l*(l/c),d=y.useRef(),h=Zv({scrollLeft:0,isHiddenScrollBar:!1}),p=(0,m.Z)(h,2),v=p[0],g=p[1],b=y.useRef({delta:0,x:0}),x=y.useState(!1),w=(0,m.Z)(x,2),_=w[0],E=w[1],S=function(){E(!1)},k=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(_&&0!==n){var r=b.current.x+e.pageX-b.current.x-b.current.delta;r<=0&&(r=0),r+f>=l&&(r=l-f),o({scrollLeft:r/l*(c+2)}),b.current.x=e.pageX}else _&&E(!1)},C=function(){if(i.current){var e=ng(i.current).top,t=e+i.current.offsetHeight,n=s===window?document.documentElement.scrollTop+window.innerHeight:ng(s).top+s.clientHeight;t-tv()<=n||e>=n-a?g((function(e){return _e(_e({},e),{},{isHiddenScrollBar:!0})})):g((function(e){return _e(_e({},e),{},{isHiddenScrollBar:!1})}))}},M=function(e){g((function(t){return _e(_e({},t),{},{scrollLeft:e/c*l||0})}))};return y.useImperativeHandle(t,(function(){return{setScrollLeft:M}})),y.useEffect((function(){var e=Ko(document.body,"mouseup",S,!1),t=Ko(document.body,"mousemove",k,!1);return C(),function(){e.remove(),t.remove()}}),[f,_]),y.useEffect((function(){var e=Ko(s,"scroll",C,!1),t=Ko(window,"resize",C,!1);return function(){e.remove(),t.remove()}}),[s]),y.useEffect((function(){v.isHiddenScrollBar||g((function(e){var t=i.current;return t?_e(_e({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[v.isHiddenScrollBar]),c<=l||!f||v.isHiddenScrollBar?null:y.createElement("div",{style:{height:tv(),width:l,bottom:a},className:"".concat(u,"-sticky-scroll")},y.createElement("div",{onMouseDown:function(e){e.persist(),b.current.delta=e.pageX-v.scrollLeft,b.current.x=0,E(!0),e.preventDefault()},ref:d,className:Mn()("".concat(u,"-sticky-scroll-bar"),(0,xe.Z)({},"".concat(u,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(v.scrollLeft,"px, 0, 0)")}}))},ig=y.forwardRef(rg),og=Hr()?window:null;var ag=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var sg=y.forwardRef((function(e,t){var n=e.className,r=e.noData,i=e.columns,o=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,c=e.direction,l=e.fixHeader,f=e.stickyTopOffset,d=e.stickyBottomOffset,h=e.stickyClassName,p=e.onScroll,v=e.maxContentScroll,g=e.children,m=ur(e,ag),b=y.useContext(bv),x=b.prefixCls,w=b.scrollbarSize,_=b.isSticky,E=_&&!l?0:w,S=y.useRef(null),k=y.useCallback((function(e){Di(t,e),Di(S,e)}),[]);y.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(p({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=S.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=S.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var C=y.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),M=o[o.length-1],O={fixed:M?M.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},N=(0,y.useMemo)((function(){return E?[].concat((0,kn.Z)(i),[O]):i}),[E,i]),T=(0,y.useMemo)((function(){return E?[].concat((0,kn.Z)(o),[O]):o}),[E,o]),A=(0,y.useMemo)((function(){var e=u.right,t=u.left;return _e(_e({},u),{},{left:"rtl"===c?[].concat((0,kn.Z)(t.map((function(e){return e+E}))),[0]):t,right:"rtl"===c?e:[].concat((0,kn.Z)(e.map((function(e){return e+E}))),[0]),isSticky:_})}),[E,u,_]),P=function(e,t){return(0,y.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(a,s);return y.createElement("div",{style:_e({overflow:"hidden"},_?{top:f,bottom:d}:{}),ref:k,className:Mn()(n,(0,xe.Z)({},h,!!h))},y.createElement("table",{style:{tableLayout:"fixed",visibility:r||P?null:"hidden"}},(!r||!v||C)&&y.createElement(Hv,{colWidths:P?[].concat((0,kn.Z)(P),[E]):[],columCount:s+1,columns:T}),g(_e(_e({},m),{},{stickyOffsets:A,columns:N,flattenColumns:T}))))}));sg.displayName="FixedHolder";var ug=sg,cg=[],lg={},fg="rc-table-internal-hook",dg=y.memo((function(e){return e.children}),(function(e,t){return!!ec()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function hg(e){var t,n=e.prefixCls,r=e.className,i=e.rowClassName,o=e.style,a=e.data,s=e.rowKey,u=e.scroll,c=e.tableLayout,l=e.direction,f=e.title,d=e.footer,h=e.summary,p=e.id,v=e.showHeader,g=e.components,b=e.emptyText,x=e.onRow,w=e.onHeaderRow,_=e.internalHooks,E=e.transformColumns,S=e.internalRefs,k=e.sticky,C=a||cg,M=!!C.length;var O=y.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===(0,lr.Z)(i)?(e[r]=e[r]||{},t(e[r],i)):e[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){t(e,n)})),e}(g,{})}),[g]),N=y.useCallback((function(e,t){return av(O,e)||t}),[O]),T=y.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),A=function(e){var t,n=e.expandable,r=ur(e,Lv);return!1===(t="expandable"in e?_e(_e({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),P=A.expandIcon,I=A.expandedRowKeys,D=A.defaultExpandedRowKeys,R=A.defaultExpandAllRows,L=A.expandedRowRender,j=A.onExpand,F=A.onExpandedRowsChange,B=A.expandRowByClick,z=A.rowExpandable,U=A.expandIconColumnIndex,G=A.expandedRowClassName,V=A.childrenColumnName,Z=A.indentSize,W=P||tg,Y=V||"children",H=y.useMemo((function(){return L?"row":!!(e.expandable&&_===fg&&e.expandable.__PARENT_RENDER_ICON__||C.some((function(e){return e&&"object"===(0,lr.Z)(e)&&e[Y]})))&&"nest"}),[!!L,C]),q=y.useState((function(){return D||(R?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,o){r.push(t(i,o)),e(i[n])}))}(e),r}(C,T,Y):[])})),X=(0,m.Z)(q,2),K=X[0],$=X[1],Q=y.useMemo((function(){return new Set(I||K||[])}),[I,K]),J=y.useCallback((function(e){var t,n=T(e,C.indexOf(e)),r=Q.has(n);r?(Q.delete(n),t=(0,kn.Z)(Q)):t=[].concat((0,kn.Z)(Q),[n]),$(t),j&&j(!r,e),F&&F(t)}),[T,Q,C,j,F]);var ee,te,ne,re=y.useState(0),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=Vv(_e(_e(_e({},e),A),{},{expandable:!!L,expandedKeys:Q,getRowKey:T,onTriggerExpand:J,expandIcon:W,expandIconColumnIndex:U,direction:l}),_===fg?E:null),ue=(0,m.Z)(se,2),ce=ue[0],le=ue[1],fe=y.useMemo((function(){return{columns:ce,flattenColumns:le}}),[ce,le]),de=y.useRef(),he=y.useRef(),pe=y.useRef(),ve=y.useRef(),ge=y.useState(!1),me=(0,m.Z)(ge,2),ye=me[0],be=me[1],we=y.useState(!1),Ee=(0,m.Z)(we,2),Se=Ee[0],ke=Ee[1],Ce=Zv(new Map),Me=(0,m.Z)(Ce,2),Oe=Me[0],Ne=Me[1],Te=sv(le).map((function(e){return Oe.get(e)})),Ae=y.useMemo((function(){return Te}),[Te.join("_")]),Pe=Wv(Ae,le.length,l),Ie=u&&uv(u.y),De=u&&uv(u.x)||Boolean(A.fixed),Re=De&&le.some((function(e){return e.fixed})),Le=y.useRef(),je=function(e,t){var n="object"===(0,lr.Z)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,o=n.offsetSummary,a=void 0===o?0:o,s=n.offsetScroll,u=void 0===s?0:s,c=n.getContainer,l=(void 0===c?function(){return og}:c)()||og;return y.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:u,container:l}}),[u,i,a,t,l])}(k,n),Fe=je.isSticky,Be=je.offsetHeader,ze=je.offsetSummary,Ue=je.offsetScroll,Ge=je.stickyClassName,Ve=je.container,Ze=null===h||void 0===h?void 0:h(C),We=(Ie||Fe)&&y.isValidElement(Ze)&&Ze.type===Qv&&Ze.props.fixed;Ie&&(te={overflowY:"scroll",maxHeight:u.y}),De&&(ee={overflowX:"auto"},Ie||(te={overflowY:"hidden"}),ne={width:!0===u.x?"auto":u.x,minWidth:"100%"});var Ye=y.useCallback((function(e,t){Wa(de.current)&&Ne((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),He=function(e){var t=(0,y.useRef)(e||null),n=(0,y.useRef)();function r(){window.clearTimeout(n.current)}return(0,y.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),qe=(0,m.Z)(He,2),Xe=qe[0],Ke=qe[1];function $e(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Qe=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===l,o="number"===typeof r?r:n.scrollLeft,a=n||lg;Ke()&&Ke()!==a||(Xe(a),$e(o,he.current),$e(o,pe.current),$e(o,ve.current),$e(o,null===(t=Le.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;i?(be(-o<s-u),ke(-o>0)):(be(o>0),ke(o<s-u))}},Je=function(){De&&pe.current?Qe({currentTarget:pe.current}):(be(!1),ke(!1))},et=y.useRef(!1);y.useEffect((function(){et.current&&Je()}),[De,a,ce.length]),y.useEffect((function(){et.current=!0}),[]);var tt=y.useState(0),nt=(0,m.Z)(tt,2),rt=nt[0],it=nt[1],ot=y.useState(!0),at=(0,m.Z)(ot,2),st=at[0],ut=at[1];y.useEffect((function(){it(function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:nv(n),height:nv(r)}}(pe.current).width),ut(Uo("position","sticky"))}),[]),y.useEffect((function(){_===fg&&S&&(S.body.current=pe.current)}));var ct,lt=N(["table"],"table"),ft=y.useMemo((function(){return c||(Re?"max-content"===u.x?"auto":"fixed":Ie||Fe||le.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Ie,Re,le,c,Fe]),dt={colWidths:Ae,columCount:le.length,stickyOffsets:Pe,onHeaderRow:w,fixHeader:Ie,scroll:u},ht=y.useMemo((function(){return M?null:"function"===typeof b?b():b}),[M,b]),pt=y.createElement(Rv,{data:C,measureColumnWidth:Ie||De||Fe,expandedKeys:Q,rowExpandable:z,getRowKey:T,onRow:x,emptyNode:ht,childrenColumnName:Y}),vt=y.createElement(Hv,{colWidths:le.map((function(e){return e.width})),columns:le}),gt=N(["body"]);if(Ie||Fe){var mt;"function"===typeof gt?(mt=gt(C,{scrollbarSize:rt,ref:pe,onScroll:Qe}),dt.colWidths=le.map((function(e,t){var n=e.width,r=t===ce.length-1?n-rt:n;return"number"!==typeof r||Number.isNaN(r)?(Yr(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):mt=y.createElement("div",{style:_e(_e({},ee),te),onScroll:Qe,ref:pe,className:Mn()("".concat(n,"-body"))},y.createElement(lt,{style:_e(_e({},ne),{},{tableLayout:ft})},vt,pt,!We&&Ze&&y.createElement(Jv,{stickyOffsets:Pe,flattenColumns:le},Ze)));var yt=_e(_e(_e({noData:!C.length,maxContentScroll:De&&"max-content"===u.x},dt),fe),{},{direction:l,stickyClassName:Ge,onScroll:Qe});ct=y.createElement(y.Fragment,null,!1!==v&&y.createElement(ug,Mt({},yt,{stickyTopOffset:Be,className:"".concat(n,"-header"),ref:he}),(function(e){return y.createElement(y.Fragment,null,y.createElement(Ev,e),"top"===We&&y.createElement(Jv,e,Ze))})),mt,We&&"top"!==We&&y.createElement(ug,Mt({},yt,{stickyBottomOffset:ze,className:"".concat(n,"-summary"),ref:ve}),(function(e){return y.createElement(Jv,e,Ze)})),Fe&&y.createElement(ig,{ref:Le,offsetScroll:Ue,scrollBodyRef:pe,onScroll:Qe,container:Ve}))}else ct=y.createElement("div",{style:_e(_e({},ee),te),className:Mn()("".concat(n,"-content")),onScroll:Qe,ref:pe},y.createElement(lt,{style:_e(_e({},ne),{},{tableLayout:ft})},vt,!1!==v&&y.createElement(Ev,Mt({},dt,fe)),pt,Ze&&y.createElement(Jv,{stickyOffsets:Pe,flattenColumns:le},Ze)));var bt=ev(e,{aria:!0,data:!0}),xt=y.createElement("div",Mt({className:Mn()(n,r,(t={},(0,xe.Z)(t,"".concat(n,"-rtl"),"rtl"===l),(0,xe.Z)(t,"".concat(n,"-ping-left"),ye),(0,xe.Z)(t,"".concat(n,"-ping-right"),Se),(0,xe.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===c),(0,xe.Z)(t,"".concat(n,"-fixed-header"),Ie),(0,xe.Z)(t,"".concat(n,"-fixed-column"),Re),(0,xe.Z)(t,"".concat(n,"-scroll-horizontal"),De),(0,xe.Z)(t,"".concat(n,"-has-fix-left"),le[0]&&le[0].fixed),(0,xe.Z)(t,"".concat(n,"-has-fix-right"),le[le.length-1]&&"right"===le[le.length-1].fixed),t)),style:o,id:p,ref:de},bt),y.createElement(dg,{pingLeft:ye,pingRight:Se,props:_e(_e({},e),{},{stickyOffsets:Pe,mergedExpandedKeys:Q})},f&&y.createElement(qv,{className:"".concat(n,"-title")},f(C)),y.createElement("div",{className:"".concat(n,"-container")},ct),d&&y.createElement(qv,{className:"".concat(n,"-footer")},d(C))));De&&(xt=y.createElement(Po,{onResize:function(e){var t=e.width;t!==oe&&(Je(),ae(de.current?de.current.offsetWidth:t))}},xt));var wt=y.useMemo((function(){return{prefixCls:n,getComponent:N,scrollbarSize:rt,direction:l,fixedInfoList:le.map((function(e,t){return xv(t,t,le,Pe,l)})),isSticky:Fe}}),[n,N,rt,l,le,Pe,l,Fe]),_t=y.useMemo((function(){return _e(_e({},fe),{},{tableLayout:ft,rowClassName:i,expandedRowClassName:G,expandIcon:W,expandableType:H,expandRowByClick:B,expandedRowRender:L,onTriggerExpand:J,expandIconColumnIndex:U,indentSize:Z})}),[fe,ft,i,G,W,H,B,L,J,U,Z]),Et=y.useMemo((function(){return{componentWidth:oe,fixHeader:Ie,fixColumn:Re,horizonScroll:De}}),[oe,Ie,Re,De]),St=y.useMemo((function(){return{onColumnResize:Ye}}),[Ye]);return y.createElement(cv.Provider,{value:st},y.createElement(bv.Provider,{value:wt},y.createElement(Sv.Provider,{value:_t},y.createElement(kv.Provider,{value:Et},y.createElement(Mv.Provider,{value:St},xt)))))}hg.EXPAND_COLUMN=Fv,hg.Column=iv,hg.ColumnGroup=rv,hg.Summary=eg,hg.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var pg=hg,vg=n(48573),gg=n.n(vg),mg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},yg=(Nu("small","default","large"),null);var bg=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=gg()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,i=e.direction,o=r.props,a=o.prefixCls,s=o.className,u=o.size,c=o.tip,l=o.wrapperClassName,f=o.style,d=mg(o,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),v=Mn()(p,(t={},(0,xe.Z)(t,"".concat(p,"-sm"),"small"===u),(0,xe.Z)(t,"".concat(p,"-lg"),"large"===u),(0,xe.Z)(t,"".concat(p,"-spinning"),h),(0,xe.Z)(t,"".concat(p,"-show-text"),!!c),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===i),t),s),g=ar(d,["spinning","delay","indicator"]),m=y.createElement("div",Mt({},g,{style:f,className:v}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:Mu(n)?Ou(n,{className:Mn()(n.props.className,r)}):Mu(yg)?Ou(yg,{className:Mn()(yg.props.className,r)}):y.createElement("span",{className:Mn()(r,"".concat(e,"-dot-spin"))},y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}))}(p,r.props),c?y.createElement("div",{className:"".concat(p,"-text")},c):null);if(r.isNestedPattern()){var b=Mn()("".concat(p,"-container"),(0,xe.Z)({},"".concat(p,"-blur"),h));return y.createElement("div",Mt({},g,{className:Mn()("".concat(p,"-nested-loading"),l)}),h&&y.createElement("div",{key:"loading"},m),y.createElement("div",{className:b,key:"container"},r.props.children))}return m};var i=e.spinning,o=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return r.state={spinning:i&&!o},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return y.createElement(Kn,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){yg=e}}]),n}(y.Component);bg.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var xg=bg,wg=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=Mn()(n,"".concat(n,"-").concat(e.page),(t={},(0,xe.Z)(t,"".concat(n,"-active"),e.active),(0,xe.Z)(t,"".concat(n,"-disabled"),!e.page),(0,xe.Z)(t,e.className,!!e.className),t));return y.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",y.createElement("a",{rel:"nofollow"},e.page)))},_g=13,Eg=38,Sg=40,kg=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==_g&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,Nn.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,o=t.changeSize,a=t.quickGo,s=t.goButton,u=t.selectComponentClass,c=t.buildOptionText,l=t.selectPrefixCls,f=t.disabled,d=this.state.goInputText,h="".concat(i,"-options"),p=u,v=null,g=null,m=null;if(!o&&!a)return null;var b=this.getPageSizeOptions();if(o&&p){var x=b.map((function(t,n){return y.createElement(p.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));v=y.createElement(p,{disabled:f,prefixCls:l,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(s&&(m="boolean"===typeof s?y.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):y.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),g=y.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,y.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,m)),y.createElement("li",{className:"".concat(h)},v,g)}}]),n}(y.Component);kg.defaultProps={pageSizeOptions:["10","20","50","100"]};var Cg=kg;function Mg(){}function Og(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Ng(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var Tg=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Ng(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||y.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(i=y.createElement(e,_e({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return Og(e)&&e!==r.state.current&&Og(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==Eg&&e.keyCode!==Sg||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===_g?r.handleChange(t):e.keyCode===Eg?r.handleChange(t-1):e.keyCode===Sg&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=Ng(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props.disabled,n=e;if(r.isValid(n)&&!t){var i=Ng(void 0,r.state,r.props);n>i?n=i:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var o=r.state.pageSize;return r.props.onChange(n,o),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Ng(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==_g&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==Mg;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),o=Math.min(o,Ng(a,void 0,e)),r.state={current:o,currentInputValue:o,pageSize:a},r}return(0,Nn.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=Ng(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,y.isValidElement)(r)?(0,y.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,y.isValidElement)(r)?(0,y.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.disabled,a=t.hideOnSinglePage,s=t.total,u=t.locale,c=t.showQuickJumper,l=t.showLessItems,f=t.showTitle,d=t.showTotal,h=t.simple,p=t.itemRender,v=t.showPrevNextJumpers,g=t.jumpPrevIcon,m=t.jumpNextIcon,b=t.selectComponentClass,x=t.selectPrefixCls,w=t.pageSizeOptions,_=this.state,E=_.current,S=_.pageSize,k=_.currentInputValue;if(!0===a&&s<=S)return null;var C=Ng(void 0,this.state,this.props),M=[],O=null,N=null,T=null,A=null,P=null,I=c&&c.goButton,D=l?1:2,R=E-1>0?E-1:0,L=E+1<C?E+1:C,j=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(h)return I&&(P="boolean"===typeof I?y.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},u.jump_to_confirm):y.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},I),P=y.createElement("li",{title:f?"".concat(u.jump_to).concat(E,"/").concat(C):null,className:"".concat(n,"-simple-pager")},P)),y.createElement("ul",Mt({className:Mn()(n,"".concat(n,"-simple"),(0,xe.Z)({},"".concat(n,"-disabled"),o),r),style:i,ref:this.savePaginationNode},j),y.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Mn()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),y.createElement("li",{title:f?"".concat(E,"/").concat(C):null,className:"".concat(n,"-simple-pager")},y.createElement("input",{type:"text",value:k,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),y.createElement("span",{className:"".concat(n,"-slash")},"/"),C),y.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Mn()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(L)),P);if(C<=3+2*D){var F={locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:p};C||M.push(y.createElement(wg,Mt({},F,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var B=1;B<=C;B+=1){var z=E===B;M.push(y.createElement(wg,Mt({},F,{key:B,page:B,active:z})))}}else{var U=l?u.prev_3:u.prev_5,G=l?u.next_3:u.next_5;v&&(O=y.createElement("li",{title:f?U:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Mn()("".concat(n,"-jump-prev"),(0,xe.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!g))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(g,"prev page"))),N=y.createElement("li",{title:f?G:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Mn()("".concat(n,"-jump-next"),(0,xe.Z)({},"".concat(n,"-jump-next-custom-icon"),!!m))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(m,"next page")))),A=y.createElement(wg,{locale:u,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:C,page:C,active:!1,showTitle:f,itemRender:p}),T=y.createElement(wg,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:p});var V=Math.max(1,E-D),Z=Math.min(E+D,C);E-1<=D&&(Z=1+2*D),C-E<=D&&(V=C-2*D);for(var W=V;W<=Z;W+=1){var Y=E===W;M.push(y.createElement(wg,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:W,page:W,active:Y,showTitle:f,itemRender:p}))}E-1>=2*D&&3!==E&&(M[0]=(0,y.cloneElement)(M[0],{className:"".concat(n,"-item-after-jump-prev")}),M.unshift(O)),C-E>=2*D&&E!==C-2&&(M[M.length-1]=(0,y.cloneElement)(M[M.length-1],{className:"".concat(n,"-item-before-jump-next")}),M.push(N)),1!==V&&M.unshift(T),Z!==C&&M.push(A)}var H=null;d&&(H=y.createElement("li",{className:"".concat(n,"-total-text")},d(s,[0===s?0:(E-1)*S+1,E*S>s?s:E*S])));var q=!this.hasPrev()||!C,X=!this.hasNext()||!C;return y.createElement("ul",Mt({className:Mn()(n,r,(0,xe.Z)({},"".concat(n,"-disabled"),o)),style:i,unselectable:"unselectable",ref:this.savePaginationNode},j),H,y.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:q?null:0,onKeyPress:this.runIfEnterPrev,className:Mn()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),q)),"aria-disabled":q},this.renderPrev(R)),M,y.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:X?null:0,onKeyPress:this.runIfEnterNext,className:Mn()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderNext(L)),y.createElement(Cg,{disabled:o,locale:u,rootPrefixCls:n,selectComponentClass:b,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:E,pageSize:S,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:I}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=Ng(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(y.Component);Tg.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Mg,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Mg,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var Ag=Tg,Pg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Ig=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Pg}))};Ig.displayName="DoubleLeftOutlined";var Dg=y.forwardRef(Ig),Rg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Lg=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Rg}))};Lg.displayName="DoubleRightOutlined";var jg=y.forwardRef(Lg);function Fg(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Bg(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function zg(e){var t=_e({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Yr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Ug=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Gg=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,o=e.popupElement,a=e.containerWidth,s=e.animation,u=e.transitionName,c=e.dropdownStyle,l=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,h=e.placement,p=e.dropdownMatchSelectWidth,v=e.dropdownRender,g=e.dropdownAlign,m=e.getPopupContainer,b=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,_=e.onPopupMouseEnter,E=ur(e,Ug),S="".concat(n,"-dropdown"),k=o;v&&(k=v(o));var C=y.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(p)}),[p]),M=s?"".concat(S,"-").concat(s):u,O=y.useRef(null);y.useImperativeHandle(t,(function(){return{getPopupElement:function(){return O.current}}}));var N=_e({minWidth:a},c);return"number"===typeof p?N.width=p:p&&(N.width=a),y.createElement(vu,Mt({},E,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:C,prefixCls:S,popupTransitionName:M,popup:y.createElement("div",{ref:O,onMouseEnter:_},k),popupAlign:g,popupVisible:r,getPopupContainer:m,popupClassName:Mn()(l,(0,xe.Z)({},"".concat(S,"-empty"),b)),popupStyle:N,getTriggerDOMNode:x,onPopupVisibleChange:w}),i)},Vg=y.forwardRef(Gg);Vg.displayName="SelectTrigger";var Zg=Vg,Wg=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children;return t="function"===typeof r?r(i):r,y.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:y.createElement("span",{className:Mn()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},Yg=function(e,t){var n,r,i=e.prefixCls,o=e.id,a=e.inputElement,s=e.disabled,u=e.tabIndex,c=e.autoFocus,l=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,p=e.maxLength,v=e.onKeyDown,g=e.onMouseDown,m=e.onChange,b=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,_=e.open,E=e.attrs,S=a||y.createElement("input",null),k=S,C=k.ref,M=k.props,O=M.onKeyDown,N=M.onChange,T=M.onMouseDown,A=M.onCompositionStart,P=M.onCompositionEnd,I=M.style;return S=y.cloneElement(S,_e(_e(_e({type:"search"},M),{},{id:o,ref:Ri(t,C),disabled:s,tabIndex:u,autoComplete:l||"off",autoFocus:c,className:Mn()("".concat(i,"-selection-search-input"),null===(n=S)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":_,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":d},E),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:_e(_e({},I),{},{opacity:f?null:0}),onKeyDown:function(e){v(e),O&&O(e)},onMouseDown:function(e){g(e),T&&T(e)},onChange:function(e){m(e),N&&N(e)},onCompositionStart:function(e){x(e),A&&A(e)},onCompositionEnd:function(e){w(e),P&&P(e)},onPaste:b}))},Hg=y.forwardRef(Yg);Hg.displayName="Input";var qg=Hg;function Xg(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Kg="undefined"!==typeof window&&window.document&&window.document.documentElement;var $g=function(e){e.preventDefault(),e.stopPropagation()},Qg=function(e){var t,n,r=e.id,i=e.prefixCls,o=e.values,a=e.open,s=e.searchValue,u=e.inputRef,c=e.placeholder,l=e.disabled,f=e.mode,d=e.showSearch,h=e.autoFocus,p=e.autoComplete,v=e.activeDescendantId,g=e.tabIndex,b=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,_=e.maxTagPlaceholder,E=void 0===_?function(e){return"+ ".concat(e.length," ...")}:_,S=e.tagRender,k=e.onToggleOpen,C=e.onRemove,M=e.onInputChange,O=e.onInputPaste,N=e.onInputKeyDown,T=e.onInputMouseDown,A=e.onInputCompositionStart,P=e.onInputCompositionEnd,I=y.useRef(null),D=(0,y.useState)(0),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=(0,y.useState)(!1),B=(0,m.Z)(F,2),z=B[0],U=B[1],G="".concat(i,"-selection"),V=a||"tags"===f?s:"",Z="tags"===f||d&&(a||z);function W(e,t,n,r,i){return y.createElement("span",{className:Mn()("".concat(G,"-item"),(0,xe.Z)({},"".concat(G,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},y.createElement("span",{className:"".concat(G,"-item-content")},t),r&&y.createElement(Wg,{className:"".concat(G,"-item-remove"),onMouseDown:$g,onClick:i,customizeIcon:b},"\xd7"))}t=function(){j(I.current.scrollWidth)},n=[V],Kg?y.useLayoutEffect(t,n):y.useEffect(t,n);var Y=y.createElement("div",{className:"".concat(G,"-search"),style:{width:L},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},y.createElement(qg,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:l,autoFocus:h,autoComplete:p,editable:Z,activeDescendantId:v,value:V,onKeyDown:N,onMouseDown:T,onChange:M,onPaste:O,onCompositionStart:A,onCompositionEnd:P,tabIndex:g,attrs:ev(e,!0)}),y.createElement("span",{ref:I,className:"".concat(G,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),H=y.createElement(Nd,{prefixCls:"".concat(G,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!l&&!t,o=n;if("number"===typeof w&&("string"===typeof n||"number"===typeof n)){var s=String(o);s.length>w&&(o="".concat(s.slice(0,w),"..."))}var u=function(t){t&&t.stopPropagation(),C(e)};return"function"===typeof S?function(e,t,n,r,i){return y.createElement("span",{onMouseDown:function(e){$g(e),k(!a)}},S({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,o,t,i,u):W(n,o,t,i,u)},renderRest:function(e){var t="function"===typeof E?E(e):E;return W(t,t,!1)},suffix:Y,itemKey:"key",maxCount:x});return y.createElement(y.Fragment,null,H,!o.length&&!V&&y.createElement("span",{className:"".concat(G,"-placeholder")},c))},Jg=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,o=e.disabled,a=e.autoFocus,s=e.autoComplete,u=e.activeDescendantId,c=e.mode,l=e.open,f=e.values,d=e.placeholder,h=e.tabIndex,p=e.showSearch,v=e.searchValue,g=e.activeValue,b=e.maxLength,x=e.onInputKeyDown,w=e.onInputMouseDown,_=e.onInputChange,E=e.onInputPaste,S=e.onInputCompositionStart,k=e.onInputCompositionEnd,C=y.useState(!1),M=(0,m.Z)(C,2),O=M[0],N=M[1],T="combobox"===c,A=T||p,P=f[0],I=v||"";T&&g&&!O&&(I=g),y.useEffect((function(){T&&N(!1)}),[T,g]);var D=!("combobox"!==c&&!l&&!p)&&!!I,R=!P||"string"!==typeof P.label&&"number"!==typeof P.label?void 0:P.label.toString();return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(n,"-selection-search")},y.createElement(qg,{ref:i,prefixCls:n,id:r,open:l,inputElement:t,disabled:o,autoFocus:a,autoComplete:s,editable:A,activeDescendantId:u,value:I,onKeyDown:x,onMouseDown:w,onChange:function(e){N(!0),_(e)},onPaste:E,onCompositionStart:S,onCompositionEnd:k,tabIndex:h,attrs:ev(e,!0),maxLength:T?b:void 0})),!T&&P&&!D&&y.createElement("span",{className:"".concat(n,"-selection-item"),title:R},P.label),function(){if(P)return null;var e=D?{visibility:"hidden"}:void 0;return y.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},d)}())};function em(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=y.useRef(null),n=y.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return y.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var tm=function(e,t){var n=(0,y.useRef)(null),r=(0,y.useRef)(!1),i=e.prefixCls,o=e.open,a=e.mode,s=e.showSearch,u=e.tokenWithEnter,c=e.onSearch,l=e.onSearchSubmit,f=e.onToggleOpen,d=e.onInputKeyDown,h=e.domRef;y.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=em(0),v=(0,m.Z)(p,2),g=v[0],b=v[1],x=(0,y.useRef)(null),w=function(e){!1!==c(e,!0,r.current)&&f(!0)},_={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Ro.UP&&n!==Ro.DOWN||e.preventDefault(),d&&d(e),n!==Ro.ENTER||"tags"!==a||r.current||o||null===l||void 0===l||l(e.target.value),t=n,[Ro.ESC,Ro.SHIFT,Ro.BACKSPACE,Ro.TAB,Ro.WIN_KEY,Ro.ALT,Ro.META,Ro.WIN_KEY_RIGHT,Ro.CTRL,Ro.SEMICOLON,Ro.EQUALS,Ro.CAPS_LOCK,Ro.CONTEXT_MENU,Ro.F1,Ro.F2,Ro.F3,Ro.F4,Ro.F5,Ro.F6,Ro.F7,Ro.F8,Ro.F9,Ro.F10,Ro.F11,Ro.F12].includes(t)||f(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(u&&x.current&&/[\r\n]/.test(x.current)){var n=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,x.current)}x.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");x.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&w(e.target.value)}},E="multiple"===a||"tags"===a?y.createElement(Qg,Mt({},e,_)):y.createElement(Jg,Mt({},e,_));return y.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=g();e.target===n.current||t||e.preventDefault(),("combobox"===a||s&&t)&&o||(o&&c("",!0,!1),f())}},E)},nm=y.forwardRef(tm);nm.displayName="Selector";var rm=nm;var im=y.createContext(null);var om=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],am=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function sm(e){return"tags"===e||"multiple"===e}var um=y.forwardRef((function(e,t){var n,r,i=e.id,o=e.prefixCls,a=e.className,s=e.showSearch,u=e.tagRender,c=e.direction,l=e.omitDomProps,f=e.displayValues,d=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,v=void 0===p?"Not Found":p,g=e.onClear,b=e.mode,x=e.disabled,w=e.loading,_=e.getInputElement,E=e.getRawInputElement,S=e.open,k=e.defaultOpen,C=e.onDropdownVisibleChange,M=e.activeValue,O=e.onActiveValueChange,N=e.activeDescendantId,T=e.searchValue,A=e.onSearch,P=e.onSearchSplit,I=e.tokenSeparators,D=e.allowClear,R=e.showArrow,L=e.inputIcon,j=e.clearIcon,F=e.OptionList,B=e.animation,z=e.transitionName,U=e.dropdownStyle,G=e.dropdownClassName,V=e.dropdownMatchSelectWidth,Z=e.dropdownRender,W=e.dropdownAlign,Y=e.placement,H=e.getPopupContainer,q=e.showAction,X=void 0===q?[]:q,K=e.onFocus,$=e.onBlur,Q=e.onKeyUp,J=e.onKeyDown,ee=e.onMouseDown,te=ur(e,om),ne=sm(b),re=(void 0!==s?s:ne)||"combobox"===b,ie=_e({},te);am.forEach((function(e){delete ie[e]})),null===l||void 0===l||l.forEach((function(e){delete ie[e]}));var oe=y.useState(!1),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1];y.useEffect((function(){ue(ea())}),[]);var ce=y.useRef(null),le=y.useRef(null),fe=y.useRef(null),de=y.useRef(null),he=y.useRef(null),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=y.useState(!1),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=y.useRef(null),a=function(){window.clearTimeout(o.current)};y.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),ve=(0,m.Z)(pe,3),ge=ve[0],me=ve[1],ye=ve[2];y.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=de.current)||void 0===e?void 0:e.focus,blur:null===(t=de.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=he.current)||void 0===t?void 0:t.scrollTo(e)}}}));var be=y.useMemo((function(){var e;if("combobox"!==b)return T;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[T,b,f]),we="combobox"===b&&"function"===typeof _&&_()||null,Ee="function"===typeof E&&E(),Se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ii((function(){return Ri.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(le,null===Ee||void 0===Ee||null===(n=Ee.props)||void 0===n?void 0:n.ref),ke=Vi(void 0,{defaultValue:k,value:S}),Ce=(0,m.Z)(ke,2),Me=Ce[0],Oe=Ce[1],Ne=Me,Te=!v&&h;(x||Te&&Ne&&"combobox"===b)&&(Ne=!1);var Ae=!Te&&Ne,Pe=y.useCallback((function(e){var t=void 0!==e?e:!Ne;Ne===t||x||(Oe(t),null===C||void 0===C||C(t))}),[x,Ne,Oe,C]),Ie=y.useMemo((function(){return(I||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[I]),De=function(e,t,n){var r=!0,i=e;null===O||void 0===O||O(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=Vc(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,kn.Z)(t),(0,kn.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,I);return"combobox"!==b&&o&&(i="",null===P||void 0===P||P(o),Pe(!1),r=!1),A&&be!==i&&A(i,{source:t?"typing":"effect"}),r};y.useEffect((function(){Ne||ne||"combobox"===b||De("",!1,!1)}),[Ne]),y.useEffect((function(){Me&&x&&Oe(!1),x&&me(!1)}),[x]);var Re=em(),Le=(0,m.Z)(Re,2),je=Le[0],Fe=Le[1],Be=y.useRef(!1),ze=[];y.useEffect((function(){return function(){ze.forEach((function(e){return clearTimeout(e)})),ze.splice(0,ze.length)}}),[]);var Ue,Ge=y.useState(null),Ve=(0,m.Z)(Ge,2),Ze=Ve[0],We=Ve[1],Ye=y.useState({}),He=(0,m.Z)(Ye,2)[1];Io((function(){if(Ae){var e,t=Math.ceil(null===(e=ce.current)||void 0===e?void 0:e.offsetWidth);Ze===t||Number.isNaN(t)||We(t)}}),[Ae]),Ee&&(Ue=function(e){Pe(e)}),function(e,t,n){var r=y.useRef(null);r.current={open:t,triggerOpen:n},y.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ce.current,null===(e=fe.current)||void 0===e?void 0:e.getPopupElement()]}),Ae,Pe);var qe,Xe,Ke=y.useMemo((function(){return _e(_e({},e),{},{notFoundContent:v,open:Ne,triggerOpen:Ae,id:i,showSearch:re,multiple:ne,toggleOpen:Pe})}),[e,v,Ae,Ne,i,re,ne,Pe]),$e=void 0!==R?R:w||!ne&&"combobox"!==b;$e&&(qe=y.createElement(Wg,{className:Mn()("".concat(o,"-arrow"),(0,xe.Z)({},"".concat(o,"-arrow-loading"),w)),customizeIcon:L,customizeIconProps:{loading:w,searchValue:be,open:Ne,focused:ge,showSearch:re}}));!x&&D&&(f.length||be)&&(Xe=y.createElement(Wg,{className:"".concat(o,"-clear"),onMouseDown:function(){null===g||void 0===g||g(),d([],{type:"clear",values:f}),De("",!1,!1)},customizeIcon:j},"\xd7"));var Qe,Je=y.createElement(F,{ref:he}),et=Mn()(o,a,(r={},(0,xe.Z)(r,"".concat(o,"-focused"),ge),(0,xe.Z)(r,"".concat(o,"-multiple"),ne),(0,xe.Z)(r,"".concat(o,"-single"),!ne),(0,xe.Z)(r,"".concat(o,"-allow-clear"),D),(0,xe.Z)(r,"".concat(o,"-show-arrow"),$e),(0,xe.Z)(r,"".concat(o,"-disabled"),x),(0,xe.Z)(r,"".concat(o,"-loading"),w),(0,xe.Z)(r,"".concat(o,"-open"),Ne),(0,xe.Z)(r,"".concat(o,"-customize-input"),we),(0,xe.Z)(r,"".concat(o,"-show-search"),re),r)),tt=y.createElement(Zg,{ref:fe,disabled:x,prefixCls:o,visible:Ae,popupElement:Je,containerWidth:Ze,animation:B,transitionName:z,dropdownStyle:U,dropdownClassName:G,direction:c,dropdownMatchSelectWidth:V,dropdownRender:Z,dropdownAlign:W,placement:Y,getPopupContainer:H,empty:h,getTriggerDOMNode:function(){return le.current},onPopupVisibleChange:Ue,onPopupMouseEnter:function(){He({})}},Ee?y.cloneElement(Ee,{ref:Se}):y.createElement(rm,Mt({},e,{domRef:le,prefixCls:o,inputElement:we,ref:de,id:i,showSearch:re,mode:b,activeDescendantId:N,tagRender:u,values:f,open:Ne,onToggleOpen:Pe,activeValue:M,searchValue:be,onSearch:De,onSearchSubmit:function(e){e&&e.trim()&&A(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:Ie})));return Qe=Ee?tt:y.createElement("div",Mt({className:et},ie,{ref:ce,onMouseDown:function(e){var t,n=e.target,r=null===(t=fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=ze.indexOf(i);-1!==t&&ze.splice(t,1),ye(),se||r.contains(document.activeElement)||null===(e=de.current)||void 0===e||e.focus()}));ze.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===ee||void 0===ee||ee.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=je(),r=e.which;if(r===Ro.ENTER&&("combobox"!==b&&e.preventDefault(),Ne||Pe(!0)),Fe(!!be),r===Ro.BACKSPACE&&!n&&ne&&!be&&f.length){for(var i=(0,kn.Z)(f),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&d(i,{type:"remove",values:[o]})}for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];Ne&&he.current&&(t=he.current).onKeyDown.apply(t,[e].concat(c)),null===J||void 0===J||J.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ne&&he.current&&(i=he.current).onKeyUp.apply(i,[e].concat(n)),null===Q||void 0===Q||Q.apply(void 0,[e].concat(n))},onFocus:function(){me(!0),x||(K&&!Be.current&&K.apply(void 0,arguments),X.includes("focus")&&Pe(!0)),Be.current=!0},onBlur:function(){me(!1,(function(){Be.current=!1,Pe(!1)})),x||(be&&("tags"===b?A(be,{source:"submit"}):"multiple"===b&&A("",{source:"blur"})),$&&$.apply(void 0,arguments))}}),ge&&!Ne&&y.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,lr.Z)(t))?t:n})).join(", "))),tt,qe,Xe),y.createElement(im.Provider,{value:Ke},Qe)}));var cm=um;function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(Object(n),!0).forEach((function(t){dm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hm=y.forwardRef((function(e,t){var n=e.height,r=e.offset,i=e.children,o=e.prefixCls,a=e.onInnerResize,s={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(s={height:n,position:"relative",overflow:"hidden"},u=fm(fm({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),y.createElement("div",{style:s},y.createElement(Po,{onResize:function(e){e.offsetHeight&&a&&a()}},y.createElement("div",{style:u,className:Mn()(dm({},"".concat(o,"-holder-inner"),o)),ref:t},i)))}));hm.displayName="Filler";var pm=hm;function vm(e){return vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(e)}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bm(e,t){return bm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bm(e,t)}function xm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_m(e);if(t){var i=_m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(e,t){if(t&&("object"===vm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(e)}function Em(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Sm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}(o,e);var t,n,r,i=xm(o);function o(){var e;mm(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).moveRaf=null,e.scrollbarRef=y.createRef(),e.thumbRef=y.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),qo.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:Em(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(qo.cancel(e.moveRaf),r){var s=o+(Em(t)-i),u=e.getEnableScrollRange(),c=e.getEnableHeightRange(),l=c?s/c:0,f=Math.ceil(l*u);e.moveRaf=qo((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),o=this.getTop(),a=this.showScroll(),s=a&&n;return y.createElement("div",{ref:this.scrollbarRef,className:Mn()("".concat(r,"-scrollbar"),gm({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:s?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},y.createElement("div",{ref:this.thumbRef,className:Mn()("".concat(r,"-scrollbar-thumb"),gm({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&ym(t.prototype,n),r&&ym(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(y.Component);function km(e){var t=e.children,n=e.setRef,r=y.useCallback((function(e){n(e)}),[]);return y.cloneElement(t,{ref:r})}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mm=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&Cm(t.prototype,n),r&&Cm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Om=Mm;function Nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Am(e){return Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(e)}function Pm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Im(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dm(e,t,n){var r=Pm(y.useState(e),2),i=r[0],o=r[1],a=Pm(y.useState(null),2),s=a[0],u=a[1];return y.useEffect((function(){var r=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var c=null,l=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var d=u(r[f]);if(d!==u(i[f])){c=f,l=l||d!==u(i[f+1]);break}}return null===c?null:{index:c,multiple:l}}(i||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),o(e)}),[e]),[s]}function Rm(e){return Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(e)}var Lm="object"===("undefined"===typeof navigator?"undefined":Rm(navigator))&&/Firefox/i.test(navigator.userAgent),jm=function(e,t){var n=(0,y.useRef)(!1),r=(0,y.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=(0,y.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&o.current.top||e>0&&o.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};var Fm=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function Bm(){return Bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}function zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zm(Object(n),!0).forEach((function(t){Gm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ym=[],Hm={overflowY:"auto",overflowAnchor:"none"};function qm(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,o=e.height,a=e.itemHeight,s=e.fullHeight,u=void 0===s||s,c=e.style,l=e.data,f=e.children,d=e.itemKey,h=e.virtual,p=e.component,v=void 0===p?"div":p,g=e.onScroll,m=e.onVisibleChange,b=Wm(e,Fm),x=!(!1===h||!o||!a),w=x&&l&&a*l.length>o,_=Vm((0,y.useState)(0),2),E=_[0],S=_[1],k=Vm((0,y.useState)(!1),2),C=k[0],M=k[1],O=Mn()(r,i),N=l||Ym,T=(0,y.useRef)(),A=(0,y.useRef)(),P=(0,y.useRef)(),I=y.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),D={getKey:I};function R(e){S((function(t){var n=function(e){var t=e;Number.isNaN($.current)||(t=Math.min(t,$.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return T.current.scrollTop=n,n}))}var L=(0,y.useRef)({start:0,end:N.length}),j=(0,y.useRef)(),F=Vm(Dm(N,I),1)[0];j.current=F;var B=function(e,t,n){var r=Nm(y.useState(0),2),i=r[0],o=r[1],a=(0,y.useRef)(new Map),s=(0,y.useRef)(new Om),u=(0,y.useRef)();function c(){qo.cancel(u.current)}function l(){c(),u.current=qo((function(){a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=no(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))}))}return(0,y.useEffect)((function(){return c}),[]),[function(r,i){var o=e(r),s=a.current.get(o);i?(a.current.set(o,i),l()):a.current.delete(o),!s!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},l,s.current,i]}(I,null,null),z=Vm(B,4),U=z[0],G=z[1],V=z[2],Z=z[3],W=y.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:N.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=A.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:N.length-1,offset:void 0};for(var t,n,r,i=0,s=N.length,u=0;u<s;u+=1){var c=N[u],l=I(c),f=V.get(l),d=i+(void 0===f?a:f);d>=E&&void 0===t&&(t=u,n=i),d>E+o&&void 0===r&&(r=u),i=d}return void 0===t&&(t=0,n=0),void 0===r&&(r=N.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,N.length),offset:n}}),[w,x,E,N,Z,o]),Y=W.scrollHeight,H=W.start,q=W.end,X=W.offset;L.current.start=H,L.current.end=q;var K=Y-o,$=(0,y.useRef)(K);$.current=K;var Q=E<=0,J=E>=K,ee=jm(Q,J);var te=function(e,t,n,r){var i=(0,y.useRef)(0),o=(0,y.useRef)(null),a=(0,y.useRef)(null),s=(0,y.useRef)(!1),u=jm(t,n);return[function(t){if(e){qo.cancel(o.current);var n=t.deltaY;i.current+=n,a.current=n,u(n)||(Lm||t.preventDefault(),o.current=qo((function(){var e=s.current?10:1;r(i.current*e),i.current=0})))}},function(t){e&&(s.current=t.detail===a.current)}]}(x,Q,J,(function(e){R((function(t){return t+e}))})),ne=Vm(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var r,i=(0,y.useRef)(!1),o=(0,y.useRef)(0),a=(0,y.useRef)(null),s=(0,y.useRef)(null),u=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},c=function(){i.current=!1,r()},l=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,o.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",c))};r=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",c))},Io((function(){return e&&t.current.addEventListener("touchstart",l),function(){t.current.removeEventListener("touchstart",l),r(),clearInterval(s.current)}}),[e])}(x,T,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),Io((function(){function e(e){x&&e.preventDefault()}return T.current.addEventListener("wheel",re),T.current.addEventListener("DOMMouseScroll",ie),T.current.addEventListener("MozMousePixelScroll",e),function(){T.current.removeEventListener("wheel",re),T.current.removeEventListener("DOMMouseScroll",ie),T.current.removeEventListener("MozMousePixelScroll",e)}}),[x]);var oe=function(e,t,n,r,i,o,a,s){var u=y.useRef();return function(c){if(null!==c&&void 0!==c){if(qo.cancel(u.current),"number"===typeof c)a(c);else if(c&&"object"===Am(c)){var l,f=c.align;l="index"in c?c.index:t.findIndex((function(e){return i(e)===c.key}));var d=c.offset,h=void 0===d?0:d;!function s(c,d){if(!(c<0)&&e.current){var p=e.current.clientHeight,v=!1,g=d;if(p){for(var m=d||f,y=0,b=0,x=0,w=Math.min(t.length,l),_=0;_<=w;_+=1){var E=i(t[_]);b=y;var S=n.get(E);y=x=b+(void 0===S?r:S),_===l&&void 0===S&&(v=!0)}var k=null;switch(m){case"top":k=b-h;break;case"bottom":k=x-p+h;break;default:var C=e.current.scrollTop;b<C?g="top":x>C+p&&(g="bottom")}null!==k&&k!==e.current.scrollTop&&a(k)}u.current=qo((function(){v&&o(),s(c-1,g)}))}}(3)}}else s()}}(T,N,V,a,I,G,R,(function(){var e;null===(e=P.current)||void 0===e||e.delayHidden()}));y.useImperativeHandle(t,(function(){return{scrollTo:oe}})),Io((function(){if(m){var e=N.slice(H,q+1);m(e,N)}}),[H,q,N]);var ae=function(e,t,n,r,i,o){var a=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=i(e,t+n,{}),s=a(e);return y.createElement(km,{key:s,setRef:function(t){return r(e,t)}},o)}))}(N,H,q,U,f,D),se=null;return o&&(se=Um(Gm({},u?"height":"maxHeight",o),Hm),x&&(se.overflowY="hidden",C&&(se.pointerEvents="none"))),y.createElement("div",Bm({style:Um(Um({},c),{},{position:"relative"}),className:O},b),y.createElement(v,{className:"".concat(r,"-holder"),style:se,ref:T,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==E&&R(t),null===g||void 0===g||g(e)}},y.createElement(pm,{prefixCls:r,height:Y,offset:X,onInnerResize:G,ref:A},ae)),x&&y.createElement(Sm,{ref:P,prefixCls:r,scrollTop:E,height:o,scrollHeight:Y,count:N.length,onScroll:function(e){R(e)},onStartMove:function(){M(!0)},onStopMove:function(){M(!1)}}))}var Xm=y.forwardRef(qm);Xm.displayName="List";var Km=Xm;var $m=y.createContext(null),Qm=["disabled","title","children","style","className"],Jm=function(e,t){var n=y.useContext(im),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,s=n.searchValue,u=n.toggleOpen,c=n.notFoundContent,l=n.onPopupScroll,f=y.useContext($m),d=f.flattenOptions,h=f.onActiveValue,p=f.defaultActiveFirstOption,v=f.onSelect,g=f.menuItemSelectedIcon,b=f.rawValues,x=f.fieldNames,w=f.virtual,_=f.listHeight,E=f.listItemHeight,S="".concat(r,"-item"),k=Ii((function(){return d}),[o,d],(function(e,t){return t[0]&&e[1]!==t[1]})),C=y.useRef(null),M=function(e){e.preventDefault()},O=function(e){C.current&&C.current.scrollTo({index:e})},N=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=k.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=k[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},T=y.useState((function(){return N(0)})),A=(0,m.Z)(T,2),P=A[0],I=A[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I(e);var n={source:t?"keyboard":"mouse"},r=k[e];r?h(r.value,e,n):h(null,-1,n)};(0,y.useEffect)((function(){D(!1!==p?N(0):-1)}),[k.length,s]),(0,y.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&o&&1===b.size){var e=Array.from(b)[0],t=k.findIndex((function(t){return t.data.value===e}));-1!==t&&(D(t),O(t))}}));o&&(null===(e=C.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,s]);var R=function(e){void 0!==e&&v(e,{selected:!b.has(e)}),a||u(!1)};if(y.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Ro.N:case Ro.P:case Ro.UP:case Ro.DOWN:var r=0;if(t===Ro.UP?r=-1:t===Ro.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Ro.N?r=1:t===Ro.P&&(r=-1)),0!==r){var i=N(P+r,r);O(i),D(i,!0)}break;case Ro.ENTER:var a=k[P];a&&!a.data.disabled?R(a.value):R(void 0),o&&e.preventDefault();break;case Ro.ESC:u(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){O(e)}}})),0===k.length)return y.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(S,"-empty"),onMouseDown:M},c);var L=Object.keys(x).map((function(e){return x[e]})),j=function(e){return e.label},F=function(e){var t=k[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,a=ev(n,!0),s=j(t);return t?y.createElement("div",Mt({"aria-label":"string"!==typeof s||o?null:s},a,{key:e,role:o?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":b.has(r)}),r):null};return y.createElement(y.Fragment,null,y.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},F(P-1),F(P),F(P+1)),y.createElement(Km,{itemKey:"key",ref:C,data:k,height:_,itemHeight:E,fullHeight:!1,onMouseDown:M,onScroll:l,virtual:w},(function(e,t){var n,r=e.group,i=e.groupOption,o=e.data,a=e.label,s=e.value,u=o.key;if(r)return y.createElement("div",{className:Mn()(S,"".concat(S,"-group"))},void 0!==a?a:u);var c=o.disabled,l=o.title,f=(o.children,o.style),d=o.className,h=ar(ur(o,Qm),L),p=b.has(s),v="".concat(S,"-option"),m=Mn()(S,v,d,(n={},(0,xe.Z)(n,"".concat(v,"-grouped"),i),(0,xe.Z)(n,"".concat(v,"-active"),P===t&&!c),(0,xe.Z)(n,"".concat(v,"-disabled"),c),(0,xe.Z)(n,"".concat(v,"-selected"),p),n)),x=j(e),w=!g||"function"===typeof g||p,_="number"===typeof x?x:x||s,E="string"===typeof _||"number"===typeof _?_.toString():void 0;return void 0!==l&&(E=l),y.createElement("div",Mt({},h,{"aria-selected":p,className:m,title:E,onMouseMove:function(){P===t||c||D(t)},onClick:function(){c||R(s)},style:f}),y.createElement("div",{className:"".concat(v,"-content")},_),y.isValidElement(g)||p,w&&y.createElement(Wg,{className:"".concat(S,"-option-state"),customizeIcon:g,customizeIconProps:{isSelected:p}},p?"\u2713":null))})))},ey=y.forwardRef(Jm);ey.displayName="OptionList";var ty=ey,ny=function(){return null};ny.isSelectOption=!0;var ry=ny,iy=function(){return null};iy.isSelectOptGroup=!0;var oy=iy,ay=["children","value"],sy=["children"];function uy(e){var t=e.key,n=e.props,r=n.children,i=n.value;return _e({key:t,value:void 0!==i?i:t,children:r},ur(n,ay))}function cy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zi(e).map((function(e,n){if(!y.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,o=e.props,a=o.children,s=ur(o,sy);return t||!r?uy(e):_e(_e({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:cy(a)})})).filter((function(e){return e}))}function ly(e,t,n){return y.useMemo((function(){var r=e;!e&&(r=cy(t));var i=new Map,o=new Map;return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<t.length;a+=1){var s=t[a];!s[n.options]||r?(i.set(s[n.value],s),o.set(s[n.label],s)):e(s[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:o}}),[e,t,n])}var fy=0,dy=Hr();function hy(e){var t=y.useState(),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){i("rc_select_".concat(function(){var e;return dy?(e=fy,fy+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}function py(e){var t=y.useRef();t.current=e;var n=y.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}function vy(e,t){return Xg(e).join("").toUpperCase().includes(t)}var gy=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],my=["inputValue"];var yy=y.forwardRef((function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,o=void 0===i?"rc-select":i,a=e.backfill,s=e.fieldNames,u=e.inputValue,c=e.searchValue,l=e.onSearch,f=e.autoClearSearchValue,d=void 0===f||f,h=e.onSelect,p=e.onDeselect,v=e.dropdownMatchSelectWidth,g=void 0===v||v,b=e.filterOption,x=e.filterSort,w=e.optionFilterProp,_=e.optionLabelProp,E=e.options,S=e.children,k=e.defaultActiveFirstOption,C=e.menuItemSelectedIcon,M=e.virtual,O=e.listHeight,N=void 0===O?200:O,T=e.listItemHeight,A=void 0===T?20:T,P=e.value,I=e.defaultValue,D=e.labelInValue,R=e.onChange,L=ur(e,gy),j=hy(n),F=sm(r),B=!(E||!S),z=y.useMemo((function(){return(void 0!==b||"combobox"!==r)&&b}),[b,r]),U=y.useMemo((function(){return Bg(s,B)}),[JSON.stringify(s),B]),G=Vi("",{value:void 0!==c?c:u,postState:function(e){return e||""}}),V=(0,m.Z)(G,2),Z=V[0],W=V[1],Y=ly(E,S,U),H=Y.valueOptions,q=Y.labelOptions,X=Y.options,K=y.useCallback((function(e){return Xg(e).map((function(e){var t,n,r,i,o;(function(e){return!e||"object"!==(0,lr.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var a,s=H.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[_||U.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[U,_,H]),$=Vi(I,{value:P}),Q=(0,m.Z)($,2),J=Q[0],ee=Q[1],te=function(e,t){var n=y.useRef({values:new Map,options:new Map}),r=y.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=e.map((function(e){var t;return void 0===e.label?_e(_e({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]);return[r,y.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(y.useMemo((function(){var e,t=K(J);return"combobox"!==r||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[J,K,r]),H),ne=(0,m.Z)(te,2),re=ne[0],ie=ne[1],oe=y.useMemo((function(){if(!r&&1===re.length){var e=re[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return re.map((function(e){var t;return _e(_e({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,re]),ae=y.useMemo((function(){return new Set(re.map((function(e){return e.value})))}),[re]);y.useEffect((function(){if("combobox"===r){var e,t=null===(e=re[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&W(String(t))}}),[re]);var se=py((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,xe.Z)(n,U.value,e),(0,xe.Z)(n,U.label,r),n})),ue=y.useMemo((function(){if("tags"!==r)return X;var e=(0,kn.Z)(X);return(0,kn.Z)(re).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return H.has(e)})(n)||e.push(se(n,t.label))})),e}),[se,X,H,re,r]),ce=function(e,t,n,r,i){return y.useMemo((function(){if(!n||!1===r)return e;var o=t.options,a=t.label,s=t.value,u=[],c="function"===typeof r,l=n.toUpperCase(),f=c?r:function(e,t){return i?vy(t[i],l):t[o]?vy(t["children"!==a?a:"label"],l):vy(t[s],l)},d=c?function(e){return zg(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(f(n,d(e)))u.push(e);else{var t=e[o].filter((function(e){return f(n,d(e))}));t.length&&u.push(_e(_e({},e),{},(0,xe.Z)({},o,t)))}else f(n,d(e))&&u.push(e)})),u}),[e,r,i,n,t])}(ue,U,Z,z,w),le=y.useMemo((function(){return"tags"!==r||!Z||ce.some((function(e){return e[w||"value"]===Z}))?ce:[se(Z)].concat((0,kn.Z)(ce))}),[se,w,r,ce,Z]),fe=y.useMemo((function(){return x?(0,kn.Z)(le).sort((function(e,t){return x(e,t)})):le}),[le,x]),de=y.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=Bg(n,!1),a=o.label,s=o.value,u=o.options;function c(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:Fg(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var l=n;void 0===l&&r&&(l=e.label),i.push({key:Fg(e,i.length),group:!0,data:e,label:l}),c(e[u],!0)}}))}return c(e,!1),i}(fe,{fieldNames:U,childrenAsData:B})}),[fe,U,B]),he=function(e){var t=K(e);if(ee(t),R&&(t.length!==re.length||t.some((function(e,t){var n;return(null===(n=re[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return zg(ie(e.value))}));R(F?n:n[0],F?r:r[0])}},pe=y.useState(null),ve=(0,m.Z)(pe,2),ge=ve[0],me=ve[1],ye=y.useState(0),be=(0,m.Z)(ye,2),we=be[0],Ee=be[1],Se=void 0!==k?k:"combobox"!==r,ke=y.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;Ee(t),a&&"combobox"===r&&null!==e&&"keyboard"===o&&me(String(e))}),[a,r]),Ce=function(e,t){var n=function(){var t,n=ie(e);return[D?{label:null===n||void 0===n?void 0:n[U.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,zg(n)]};if(t&&h){var r=n(),i=(0,m.Z)(r,2),o=i[0],a=i[1];h(o,a)}else if(!t&&p){var s=n(),u=(0,m.Z)(s,2),c=u[0],l=u[1];p(c,l)}},Me=py((function(e,t){var n,i=!F||t.selected;n=i?F?[].concat((0,kn.Z)(re),[e]):[e]:re.filter((function(t){return t.value!==e})),he(n),Ce(e,i),"combobox"===r?me(""):sm&&!d||(W(""),me(""))})),Oe=y.useMemo((function(){var e=!1!==M&&!1!==g;return _e(_e({},Y),{},{flattenOptions:de,onActiveValue:ke,defaultActiveFirstOption:Se,onSelect:Me,menuItemSelectedIcon:C,rawValues:ae,fieldNames:U,virtual:e,listHeight:N,listItemHeight:A,childrenAsData:B})}),[Y,de,ke,Se,Me,C,ae,U,M,g,N,A,B]);return y.createElement($m.Provider,{value:Oe},y.createElement(cm,Mt({},L,{id:j,prefixCls:o,ref:t,omitDomProps:my,mode:r,displayValues:oe,onDisplayValuesChange:function(e,t){he(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Ce(e.value,!1)}))},searchValue:Z,onSearch:function(e,t){if(W(e),me(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&he(e),null===l||void 0===l||l(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat((0,kn.Z)(ae),[n])));he(i),Ce(n,!0),W("")}}},onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=q.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,kn.Z)(ae),(0,kn.Z)(t))));he(n),n.forEach((function(e){Ce(e,!0)}))},dropdownMatchSelectWidth:g,OptionList:ty,emptyOptions:!de.length,activeValue:ge,activeDescendantId:"".concat(j,"_list_").concat(we)})))}));var by=yy;by.Option=ry,by.OptGroup=oy;var xy=by,wy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},_y=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:wy}))};_y.displayName="DownOutlined";var Ey=y.forwardRef(_y),Sy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ky=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Sy}))};ky.displayName="SearchOutlined";var Cy=y.forwardRef(ky);var My=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Oy="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ny=function(e,t){var n,r,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.className,u=e.getPopupContainer,c=e.dropdownClassName,l=e.listHeight,f=void 0===l?256:l,d=e.placement,h=e.listItemHeight,p=void 0===h?24:h,v=e.size,g=e.notFoundContent,m=e.status,b=e.showArrow,x=My(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),w=y.useContext(Xn),_=w.getPopupContainer,E=w.getPrefixCls,S=w.renderEmpty,k=w.direction,C=w.virtual,M=w.dropdownMatchSelectWidth,O=y.useContext(sc),N=E("select",i),T=E(),A=y.useMemo((function(){var e=x.mode;if("combobox"!==e)return e===Oy?"combobox":e}),[x.mode]),P="multiple"===A||"tags"===A,I=void 0!==b?b:x.loading||!(P||"combobox"===A),D=(0,y.useContext)(Ll),R=D.status,L=D.hasFeedback,j=Jl(R,m);r=void 0!==g?g:"combobox"===A?null:S("Select");var F=function(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,i=e.removeIcon,o=e.loading,a=e.multiple,s=e.hasFeedback,u=e.status,c=e.prefixCls,l=e.showArrow,f=n;n||(f=y.createElement(Yl,null));var d=function(e){return y.createElement(y.Fragment,null,!1!==l&&e,s&&$l(c,u))},h=null;if(void 0!==t)h=d(t);else if(o)h=d(y.createElement(Xl,{spin:!0}));else{var p="".concat(c,"-suffix");h=function(e){var t=e.open,n=e.showSearch;return d(t&&n?y.createElement(Cy,{className:p}):y.createElement(Ey,{className:p}))}}return{clearIcon:f,suffixIcon:h,itemIcon:void 0!==r?r:a?y.createElement(Qi,null):null,removeIcon:void 0!==i?i:y.createElement(Mp,null)}}(Mt(Mt({},x),{multiple:P,status:j,hasFeedback:L,showArrow:I,prefixCls:N})),B=F.suffixIcon,z=F.itemIcon,U=F.removeIcon,G=F.clearIcon,V=ar(x,["suffixIcon","itemIcon"]),Z=Mn()(c,(0,xe.Z)({},"".concat(N,"-dropdown-").concat(k),"rtl"===k)),W=v||O,Y=Mn()((n={},(0,xe.Z)(n,"".concat(N,"-lg"),"large"===W),(0,xe.Z)(n,"".concat(N,"-sm"),"small"===W),(0,xe.Z)(n,"".concat(N,"-rtl"),"rtl"===k),(0,xe.Z)(n,"".concat(N,"-borderless"),!a),n),Ql(N,j,L),s);return y.createElement(xy,Mt({ref:t,virtual:C,dropdownMatchSelectWidth:M},V,{transitionName:ju(T,Lu(d),x.transitionName),listHeight:f,listItemHeight:p,mode:A,prefixCls:N,placement:void 0!==d?d:"rtl"===k?"bottomRight":"bottomLeft",direction:k,inputIcon:B,menuItemSelectedIcon:z,removeIcon:U,clearIcon:G,notFoundContent:r,className:Y,getPopupContainer:u||_,dropdownClassName:Z,showArrow:L||b}))},Ty=y.forwardRef(Ny);Ty.SECRET_COMBOBOX_MODE_DO_NOT_USE=Oy,Ty.Option=ry,Ty.OptGroup=oy;var Ay=Ty,Py=function(e){return y.createElement(Ay,Mt({size:"small"},e))};Py.Option=Ay.Option;var Iy=Py;function Dy(){var e=y.useReducer((function(e){return e+1}),0);return(0,m.Z)(e,2)[1]}var Ry=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,y.useRef)({}),n=Dy();return(0,y.useEffect)((function(){var r=Vp.subscribe((function(r){t.current=r,e&&n()}));return function(){return Vp.unsubscribe(r)}}),[]),t.current},Ly=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jy=function(e){var t=e.prefixCls,n=e.selectPrefixCls,r=e.className,i=e.size,o=e.locale,a=e.selectComponentClass,s=e.responsive,u=Ly(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),c=Ry(s).xs,l=y.useContext(Xn),f=l.getPrefixCls,d=l.direction,h=f("pagination",t),p=function(e){var t=Mt(Mt({},e),o),l="small"===i||!(!c||i||!s),p=f("select",n),v=Mn()((0,xe.Z)({mini:l},"".concat(h,"-rtl"),"rtl"===d),r);return y.createElement(Ag,Mt({},function(){var e=y.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),t=y.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},y.createElement(_i,null)),n=y.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},y.createElement(bi,null)),r=y.createElement("a",{className:"".concat(h,"-item-link")},y.createElement("div",{className:"".concat(h,"-item-container")},y.createElement(Dg,{className:"".concat(h,"-item-link-icon")}),e)),i=y.createElement("a",{className:"".concat(h,"-item-link")},y.createElement("div",{className:"".concat(h,"-item-container")},y.createElement(jg,{className:"".concat(h,"-item-link-icon")}),e));if("rtl"===d){var o=[n,t];t=o[0],n=o[1];var a=[i,r];r=a[0],i=a[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}}(),u,{prefixCls:h,selectPrefixCls:p,className:v,selectComponentClass:a||(l?Iy:Ay),locale:t}))};return y.createElement(Bn,{componentName:"Pagination",defaultLocale:Pn},p)},Fy=jy,By=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function zy(e,t,n){var r=t&&"object"===(0,lr.Z)(t)?t:{},i=r.total,o=void 0===i?0:i,a=By(r,["total"]),s=(0,y.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(c,a,{total:o>0?o:e}),d=Math.ceil((o||e)/f.pageSize);f.current>d&&(f.current=d||1);var h=function(e,t){l({current:null!==e&&void 0!==e?e:1,pageSize:t||f.pageSize})};return!1===t?[{},function(){}]:[Mt(Mt({},f),{onChange:function(e,r){var i;t&&(null===(i=t.onChange)||void 0===i||i.call(t,e,r)),h(e,r),n(e,r||(null===f||void 0===f?void 0:f.pageSize))}}),h]}var Uy=y.createContext(null),Gy=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,o="".concat(t,"-indent-unit"),a=[],s=0;s<n;s+=1){var u;a.push(y.createElement("span",{key:s,className:Mn()(o,(u={},(0,xe.Z)(u,"".concat(o,"-start"),r[s]),(0,xe.Z)(u,"".concat(o,"-end"),i[s]),u))}))}return y.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)},Vy=y.memo(Gy),Zy=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Wy="open",Yy="close",Hy=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,pb(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,pb(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,pb(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!i;o(t,pb(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,pb(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,pb(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,pb(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,Go.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,Go.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,Go.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,Go.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Go.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Go.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,pb(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Wy:Yy},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(pb(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?y.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(_e(_e({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?y.createElement("span",{className:Mn()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=Mn()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Wy:Yy)),o=e.renderSwitcherIconDom(!1);return!1!==o?y.createElement("span",{onClick:e.onExpand,className:i},o):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,o=e.props.context.prefixCls,a=e.isDisabled(),s=e.isCheckable();if(!s)return null;var u="boolean"!==typeof s?s:null;return y.createElement("span",{className:Mn()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&r&&"".concat(o,"-checkbox-indeterminate"),(a||i)&&"".concat(o,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return y.createElement("span",{className:Mn()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,o=i.title,a=i.selected,s=i.icon,u=i.loading,c=i.data,l=e.props.context,f=l.prefixCls,d=l.showIcon,h=l.icon,p=l.loadData,v=l.titleRender,g=e.isDisabled(),m="".concat(f,"-node-content-wrapper");if(d){var b=s||h;t=b?y.createElement("span",{className:Mn()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof b?b(e.props):b):e.renderIcon()}else p&&u&&(t=e.renderIcon());n="function"===typeof o?o(c):v?v(c):o;var x=y.createElement("span",{className:"".concat(f,"-title")},n);return y.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof o?o:"",className:Mn()("".concat(m),"".concat(m,"-").concat(e.getNodeState()||"normal"),!g&&(a||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,x,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,o=i.draggable,a=i.dropLevelOffset,s=i.dropPosition,u=i.prefixCls,c=i.indent,l=i.dropIndicatorRender,f=i.dragOverNodeKey,d=i.direction;return!n&&!1!==o&&f===r?l({dropPosition:s,dropLevelOffset:a,indent:c,prefixCls:u,direction:d}):null},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,i=t.style,o=t.dragOver,a=t.dragOverGapTop,s=t.dragOverGapBottom,u=t.isLeaf,c=t.isStart,l=t.isEnd,f=t.expanded,d=t.selected,h=t.checked,p=t.halfChecked,v=t.loading,g=t.domRef,m=t.active,b=(t.data,t.onMouseMove),x=t.selectable,w=ur(t,Zy),_=this.props.context,E=_.prefixCls,S=_.filterTreeNode,k=_.keyEntities,C=_.dropContainerKey,M=_.dropTargetKey,O=_.draggingNodeKey,N=this.isDisabled(),T=ev(w,{aria:!0,data:!0}),A=(k[n]||{}).level,P=l[l.length-1],I=this.isDraggable(),D=!N&&I,R=O===n,L=void 0!==x?{"aria-selected":!!x}:void 0;return y.createElement("div",Mt({ref:g,className:Mn()(r,"".concat(E,"-treenode"),(e={},(0,xe.Z)(e,"".concat(E,"-treenode-disabled"),N),(0,xe.Z)(e,"".concat(E,"-treenode-switcher-").concat(f?"open":"close"),!u),(0,xe.Z)(e,"".concat(E,"-treenode-checkbox-checked"),h),(0,xe.Z)(e,"".concat(E,"-treenode-checkbox-indeterminate"),p),(0,xe.Z)(e,"".concat(E,"-treenode-selected"),d),(0,xe.Z)(e,"".concat(E,"-treenode-loading"),v),(0,xe.Z)(e,"".concat(E,"-treenode-active"),m),(0,xe.Z)(e,"".concat(E,"-treenode-leaf-last"),P),(0,xe.Z)(e,"".concat(E,"-treenode-draggable"),D),(0,xe.Z)(e,"dragging",R),(0,xe.Z)(e,"drop-target",M===n),(0,xe.Z)(e,"drop-container",C===n),(0,xe.Z)(e,"drag-over",!N&&o),(0,xe.Z)(e,"drag-over-gap-top",!N&&a),(0,xe.Z)(e,"drag-over-gap-bottom",!N&&s),(0,xe.Z)(e,"filter-node",S&&S(pb(this.props))),e)),style:i,draggable:D,"aria-grabbed":R,onDragStart:D?this.onDragStart:void 0,onDragEnter:I?this.onDragEnter:void 0,onDragOver:I?this.onDragOver:void 0,onDragLeave:I?this.onDragLeave:void 0,onDrop:I?this.onDrop:void 0,onDragEnd:I?this.onDragEnd:void 0,onMouseMove:b},L,T),y.createElement(Vy,{prefixCls:E,level:A,isStart:c,isEnd:l}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(y.Component),qy=function(e){return y.createElement(Uy.Consumer,null,(function(t){return y.createElement(Hy,Mt({},e,{context:t}))}))};qy.displayName="TreeNode",qy.defaultProps={title:"---"},qy.isTreeNode=1;var Xy=qy;function Ky(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function $y(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function Qy(e){return e.split("-")}function Jy(e,t){return"".concat(e,"-").concat(t)}function eb(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function tb(e){if(e.parent){var t=Qy(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function nb(e,t,n,r,i,o,a,s,u,c){var l,f=e.clientX,d=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,v=h.height,g=(("rtl"===c?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-f)-12)/r,m=s[n.props.eventKey];if(d<p+v/2){var y=a.findIndex((function(e){return e.key===m.key})),b=a[y<=0?0:y-1].key;m=s[b]}var x=m.key,w=m,_=m.key,E=0,S=0;if(!u.includes(x))for(var k=0;k<g&&tb(m);k+=1)m=m.parent,S+=1;var C=t.props.data,M=m.node,O=!0;return function(e){var t=Qy(e.pos);return 0===Number(t[t.length-1])}(m)&&0===m.level&&d<p+v/2&&o({dragNode:C,dropNode:M,dropPosition:-1})&&m.key===n.props.eventKey?E=-1:(w.children||[]).length&&u.includes(_)?o({dragNode:C,dropNode:M,dropPosition:0})?E=0:O=!1:0===S?g>-1.5?o({dragNode:C,dropNode:M,dropPosition:1})?E=1:O=!1:o({dragNode:C,dropNode:M,dropPosition:0})?E=0:o({dragNode:C,dropNode:M,dropPosition:1})?E=1:O=!1:o({dragNode:C,dropNode:M,dropPosition:1})?E=1:O=!1,{dropPosition:E,dropLevelOffset:S,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:_,dropContainerKey:0===E?null:(null===(l=m.parent)||void 0===l?void 0:l.key)||null,dropAllowed:O}}function rb(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function ib(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,lr.Z)(e))return Yr(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function ob(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var o=i.parent;i.node.disabled||o&&r(o.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,kn.Z)(n)}var ab=["children"];function sb(e,t){return null!==e&&void 0!==e?e:t}function ub(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function cb(e){return function e(t){return Zi(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Yr(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,o=_e({key:n},ur(r,ab)),a=e(i);return a.length&&(o.children=a),o})).filter((function(e){return e}))}(e)}function lb(e,t,n){var r=ub(n),i=r._title,o=r.key,a=r.children,s=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(c,l){for(var f,d=Jy(r?r.pos:"0",l),h=sb(c[o],d),p=0;p<i.length;p+=1){var v=i[p];if(void 0!==c[v]){f=c[v];break}}var g=_e(_e({},ar(c,[].concat((0,kn.Z)(i),[o,a]))),{},{title:f,key:h,parent:r,pos:d,children:null,data:c,isStart:[].concat((0,kn.Z)(r?r.isStart:[]),[0===l]),isEnd:[].concat((0,kn.Z)(r?r.isEnd:[]),[l===n.length-1])});return u.push(g),!0===t||s.has(h)?g.children=e(c[a]||[],g):g.children=[],g}))}(e),u}function fb(e,t,n){var r,i=("object"===(0,lr.Z)(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,a=i.externalGetKey,s=ub(i.fieldNames),u=s.key,c=s.children,l=o||c;a?"string"===typeof a?r=function(e){return e[a]}:"function"===typeof a&&(r=function(e){return a(e)}):r=function(e,t){return sb(e[u],t)},function n(i,o,a,s){var u=i?i[l]:e,c=i?Jy(a.pos,o):"0",f=i?[].concat((0,kn.Z)(s),[i]):[];if(i){var d=r(i,c),h={node:i,index:o,pos:c,key:d,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:i,pos:c,level:a?a.level+1:-1},f)}))}(null)}function db(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,u=arguments.length>2?arguments[2]:void 0,c=o||u,l={},f={},d={posEntities:l,keyEntities:f};return n&&(d=n(d)||d),fb(e,(function(e){var t=e.node,n=e.index,i=e.pos,o=e.key,a=e.parentPos,s=e.level,u={node:t,nodes:e.nodes,index:n,key:o,pos:i,level:s},c=sb(o,i);l[i]=u,f[c]=u,u.parent=l[a],u.parent&&(u.parent.children=u.parent.children||[],u.parent.children.push(u)),r&&r(u,d)}),{externalGetKey:c,childrenPropName:a,fieldNames:s}),i&&i(d),d}function hb(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,o=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,u=t.dragOverNodeKey,c=t.dropPosition,l=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(l?l.pos:""),dragOver:u===e&&0===c,dragOverGapTop:u===e&&-1===c,dragOverGapBottom:u===e&&1===c}}function pb(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,c=e.dragOverGapTop,l=e.dragOverGapBottom,f=e.pos,d=e.active,h=e.eventKey,p=_e(_e({},t),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:c,dragOverGapBottom:l,pos:f,active:d,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Yr(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function vb(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function gb(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function mb(e,t,n,r){var i,o=[];i=r||gb;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),u=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=u.get(r);i||(i=new Set,u.set(r,i)),i.add(t),c=Math.max(c,r)})),Yr(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;i.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),u||!n&&!o.has(t)||(u=!0)})),a&&i.add(t.key),u&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(vb(o,i))}}(s,u,c,i):function(e,t,n,r,i){for(var o=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||a.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var u=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!u.has(e.parent.key))if(i(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||o.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(vb(a,o))}}(s,t.halfCheckedKeys,u,c,i),a}var yb=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:_e(_e({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,Nn.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.name,a=t.id,s=t.type,u=t.disabled,c=t.readOnly,l=t.tabIndex,f=t.onClick,d=t.onFocus,h=t.onBlur,p=t.onKeyDown,v=t.onKeyPress,g=t.onKeyUp,m=t.autoFocus,b=t.value,x=t.required,w=ur(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),E=this.state.checked,S=Mn()(n,r,(e={},(0,xe.Z)(e,"".concat(n,"-checked"),E),(0,xe.Z)(e,"".concat(n,"-disabled"),u),e));return y.createElement("span",{className:S,style:i},y.createElement("input",Mt({name:o,id:a,type:s,required:x,readOnly:c,disabled:u,tabIndex:l,className:"".concat(n,"-input"),checked:!!E,onClick:f,onFocus:d,onBlur:h,onKeyUp:g,onKeyDown:p,onKeyPress:v,onChange:this.handleChange,autoFocus:m,ref:this.saveInput,value:b},_)),y.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?_e(_e({},t),{},{checked:e.checked}):null}}]),n}(y.Component);yb.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var bb=yb,xb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wb=y.createContext(null),_b=function(e,t){var n=e.defaultValue,r=e.children,i=e.options,o=void 0===i?[]:i,a=e.prefixCls,s=e.className,u=e.style,c=e.onChange,l=xb(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=y.useContext(Xn),d=f.getPrefixCls,h=f.direction,p=y.useState(l.value||n||[]),v=(0,m.Z)(p,2),g=v[0],b=v[1],x=y.useState([]),w=(0,m.Z)(x,2),_=w[0],E=w[1];y.useEffect((function(){"value"in l&&b(l.value||[])}),[l.value]);var S=function(){return o.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},k=d("checkbox",a),C="".concat(k,"-group"),M=ar(l,["value","disabled"]);o&&o.length>0&&(r=S().map((function(e){return y.createElement(Ob,{prefixCls:k,key:e.value.toString(),disabled:"disabled"in e?e.disabled:l.disabled,value:e.value,checked:-1!==g.indexOf(e.value),onChange:e.onChange,className:"".concat(C,"-item"),style:e.style},e.label)})));var O={toggleOption:function(e){var t=g.indexOf(e.value),n=(0,kn.Z)(g);-1===t?n.push(e.value):n.splice(t,1),"value"in l||b(n);var r=S();null===c||void 0===c||c(n.filter((function(e){return-1!==_.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:g,disabled:l.disabled,name:l.name,registerValue:function(e){E((function(t){return[].concat((0,kn.Z)(t),[e])}))},cancelValue:function(e){E((function(t){return t.filter((function(t){return t!==e}))}))}},N=Mn()(C,(0,xe.Z)({},"".concat(C,"-rtl"),"rtl"===h),s);return y.createElement("div",Mt({className:N,style:u},M,{ref:t}),y.createElement(wb.Provider,{value:O},r))},Eb=y.forwardRef(_b),Sb=y.memo(Eb),kb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Cb=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.children,a=e.indeterminate,s=void 0!==a&&a,u=e.style,c=e.onMouseEnter,l=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,h=kb(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=y.useContext(Xn),v=p.getPrefixCls,g=p.direction,m=y.useContext(wb),b=y.useRef(h.value);y.useEffect((function(){null===m||void 0===m||m.registerValue(h.value),ji("checked"in h||!!m||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),y.useEffect((function(){if(!d)return h.value!==b.current&&(null===m||void 0===m||m.cancelValue(b.current),null===m||void 0===m||m.registerValue(h.value),b.current=h.value),function(){return null===m||void 0===m?void 0:m.cancelValue(h.value)}}),[h.value]);var x=v("checkbox",r),w=Mt({},h);m&&!d&&(w.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),m.toggleOption&&m.toggleOption({label:o,value:h.value})},w.name=m.name,w.checked=-1!==m.value.indexOf(h.value),w.disabled=h.disabled||m.disabled);var _=Mn()((n={},(0,xe.Z)(n,"".concat(x,"-wrapper"),!0),(0,xe.Z)(n,"".concat(x,"-rtl"),"rtl"===g),(0,xe.Z)(n,"".concat(x,"-wrapper-checked"),w.checked),(0,xe.Z)(n,"".concat(x,"-wrapper-disabled"),w.disabled),n),i),E=Mn()((0,xe.Z)({},"".concat(x,"-indeterminate"),s));return y.createElement("label",{className:_,style:u,onMouseEnter:c,onMouseLeave:l},y.createElement(bb,Mt({},w,{prefixCls:x,className:E,ref:t})),void 0!==o&&y.createElement("span",null,o))},Mb=y.forwardRef(Cb);Mb.displayName="Checkbox";var Ob=Mb,Nb=Ob;Nb.Group=Sb,Nb.__ANT_CHECKBOX=!0;var Tb=Nb,Ab={adjustX:1,adjustY:1},Pb=[0,0],Ib={topLeft:{points:["bl","tl"],overflow:Ab,offset:[0,-4],targetOffset:Pb},topCenter:{points:["bc","tc"],overflow:Ab,offset:[0,-4],targetOffset:Pb},topRight:{points:["br","tr"],overflow:Ab,offset:[0,-4],targetOffset:Pb},bottomLeft:{points:["tl","bl"],overflow:Ab,offset:[0,4],targetOffset:Pb},bottomCenter:{points:["tc","bc"],overflow:Ab,offset:[0,4],targetOffset:Pb},bottomRight:{points:["tr","br"],overflow:Ab,offset:[0,4],targetOffset:Pb}},Db=Ro.ESC,Rb=Ro.TAB;function Lb(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.menuRef,o=e.menuClassName,a=e.onVisibleChange,s=function(){t&&r.current&&(r.current.triggerRef.current&&r.current.triggerRef.current.focus(),n(!1),"function"===typeof a&&a(!1))},u=function(e){switch(e.keyCode){case Db:case Rb:s()}};y.useEffect((function(){return t?(setTimeout((function(){!function(){if(i.current){var e,t,n,r=(null===(e=i.current.className)||void 0===e?void 0:e.includes(o))?i.current:null===(t=(n=i.current).querySelector)||void 0===t?void 0:t.call(n,o);r&&r.focus()}}(),window.addEventListener("keydown",u)}),100),function(){window.removeEventListener("keydown",u)}):function(){return null}}),[t]);return{returnFocus:function(){t&&r.current&&r.current.triggerRef.current&&setTimeout((function(){var e,t,n;null===(e=r.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}),100)}}}var jb=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Fb(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,o=void 0===i?"rc-dropdown":i,a=e.transitionName,s=e.animation,u=e.align,c=e.placement,l=void 0===c?"bottomLeft":c,f=e.placements,d=void 0===f?Ib:f,h=e.getPopupContainer,p=e.showAction,v=e.hideAction,g=e.overlayClassName,b=e.overlayStyle,x=e.visible,w=e.trigger,_=void 0===w?["hover"]:w,E=ur(e,jb),S=y.useState(),k=(0,m.Z)(S,2),C=k[0],M=k[1],O="visible"in e?x:C,N=y.useRef(null);y.useImperativeHandle(t,(function(){return N.current}));var T=y.useRef(null),A="".concat(o,"-menu"),P=Lb({visible:O,setTriggerVisible:M,triggerRef:N,menuRef:T,menuClassName:A,onVisibleChange:e.onVisibleChange}).returnFocus,I=function(){var t=e.overlay;return"function"===typeof t?t():t},D=function(t){var n=e.onOverlayClick,r=I().props;M(!1),n&&n(t),r.onClick&&r.onClick(t),P()},R=function(){var e=I(),t={prefixCls:A,onClick:D,ref:Li(e)?T:void 0};return"string"===typeof e.type&&delete t.prefixCls,y.createElement(y.Fragment,null,r&&y.createElement("div",{className:"".concat(o,"-arrow")}),y.cloneElement(e,t))},L=v;return L||-1===_.indexOf("contextMenu")||(L=["click"]),y.createElement(vu,_e(_e({builtinPlacements:d},E),{},{prefixCls:o,ref:N,popupClassName:Mn()(g,(0,xe.Z)({},"".concat(o,"-show-arrow"),r)),popupStyle:b,action:_,showAction:p,hideAction:L||[],popupPlacement:l,popupAlign:u,popupTransitionName:a,popupAnimation:s,popupVisible:O,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?R:R(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;M(t),"function"===typeof n&&n(t)},getPopupContainer:h}),function(){var t=e.children,n=t.props?t.props:{},r=Mn()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return O&&t?y.cloneElement(t,{className:r}):t}())}var Bb=y.forwardRef(Fb),zb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ub=ld.Group,Gb=function(e){var t=y.useContext(Xn),n=t.getPopupContainer,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.disabled,c=e.loading,l=e.onClick,f=e.htmlType,d=e.children,h=e.className,p=e.overlay,v=e.trigger,g=e.align,b=e.visible,x=e.onVisibleChange,w=e.placement,_=e.getPopupContainer,E=e.href,S=e.icon,k=void 0===S?y.createElement(Kh,null):S,C=e.title,M=e.buttonsRender,O=void 0===M?function(e){return e}:M,N=e.mouseEnterDelay,T=e.mouseLeaveDelay,A=e.overlayClassName,P=e.overlayStyle,I=e.destroyPopupOnHide,D=zb(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),R=r("dropdown-button",o),L={align:g,overlay:p,disabled:u,trigger:u?[]:v,onVisibleChange:x,getPopupContainer:_||n,mouseEnterDelay:N,mouseLeaveDelay:T,overlayClassName:A,overlayStyle:P,destroyPopupOnHide:I};"visible"in e&&(L.visible=b),L.placement="placement"in e?w:"rtl"===i?"bottomLeft":"bottomRight";var j=O([y.createElement(ld,{type:s,disabled:u,loading:c,onClick:l,htmlType:f,href:E,title:C},d),y.createElement(ld,{type:s,icon:k})]),F=(0,m.Z)(j,2),B=F[0],z=F[1];return y.createElement(Ub,Mt({},D,{className:Mn()(R,h)}),B,y.createElement(Wb,L,z))};Gb.__ANT_BUTTON=!0;var Vb=Gb,Zb=(Nu("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom"),function(e){var t,n=y.useContext(Xn),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.arrow,s=e.prefixCls,u=e.children,c=e.trigger,l=e.disabled,f=e.getPopupContainer,d=e.overlayClassName,h=i("dropdown",s),p=y.Children.only(u),v=Ou(p,{className:Mn()("".concat(h,"-trigger"),(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o),p.props.className),disabled:l}),g=Mn()(d,(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o)),m=l?[]:c;m&&-1!==m.indexOf("contextMenu")&&(t=!0);var b=Cu({arrowPointAtCenter:"object"===(0,lr.Z)(a)&&a.pointAtCenter,autoAdjustOverflow:!0});return y.createElement(Bb,Mt({alignPoint:t},e,{builtinPlacements:b,arrow:!!a,overlayClassName:g,prefixCls:h,getPopupContainer:f||r,transitionName:function(){var t=i(),n=e.placement,r=void 0===n?"":n,o=e.transitionName;return void 0!==o?o:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:m,overlay:function(){return function(t){var n,r=e.overlay;n="function"===typeof r?r():r;var i=(n=y.Children.only("string"===typeof n?y.createElement("span",null,n):n)).props;ji(!i.mode||"vertical"===i.mode,"Dropdown",'mode="'.concat(i.mode,"\" is not supported for Dropdown's Menu."));var o=i.selectable,a=void 0!==o&&o,s=i.expandIcon,u="undefined"!==typeof s&&y.isValidElement(s)?s:y.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},y.createElement(bi,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:Ou(n,{mode:"vertical",selectable:a,expandIcon:u})}(h)},placement:function(){var t=e.placement;if(!t)return"rtl"===o?"bottomRight":"bottomLeft";if(t.includes("Center")){var n=t.slice(0,t.indexOf("Center"));return ji(!t.includes("Center"),"Dropdown","You are using '".concat(t,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return t}()}),v)});Zb.Button=Vb,Zb.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var Wb=Zb,Yb=Wb,Hb=y.createContext(null),qb=Hb.Provider,Xb=Hb,Kb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$b=function(e,t){var n,r=y.useContext(Xb),i=y.useContext(Xn),o=i.getPrefixCls,a=i.direction,s=Ri(t,y.useRef());y.useEffect((function(){ji(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var u=e.prefixCls,c=e.className,l=e.children,f=e.style,d=Kb(e,["prefixCls","className","children","style"]),h=o("radio",u),p=Mt({},d);r&&(p.name=r.name,p.onChange=function(t){var n,i;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,t)},p.checked=e.value===r.value,p.disabled=e.disabled||r.disabled);var v=Mn()("".concat(h,"-wrapper"),(n={},(0,xe.Z)(n,"".concat(h,"-wrapper-checked"),p.checked),(0,xe.Z)(n,"".concat(h,"-wrapper-disabled"),p.disabled),(0,xe.Z)(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),c);return y.createElement("label",{className:v,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},y.createElement(bb,Mt({},p,{type:"radio",prefixCls:h,ref:s})),void 0!==l?y.createElement("span",null,l):null)},Qb=y.forwardRef($b);Qb.displayName="Radio";var Jb=Qb;var ex=y.forwardRef((function(e,t){var n=y.useContext(Xn),r=n.getPrefixCls,i=n.direction,o=y.useContext(sc),a=Vi(e.defaultValue,{value:e.value}),s=(0,m.Z)(a,2),u=s[0],c=s[1];return y.createElement(qb,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||c(r);var i=e.onChange;i&&r!==n&&i(t)},value:u,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,s=e.className,c=void 0===s?"":s,l=e.options,f=e.optionType,d=e.buttonStyle,h=void 0===d?"outline":d,p=e.disabled,v=e.children,g=e.size,m=e.style,b=e.id,x=e.onMouseEnter,w=e.onMouseLeave,_=r("radio",a),E="".concat(_,"-group"),S=v;if(l&&l.length>0){var k="button"===f?"".concat(_,"-button"):_;S=l.map((function(e){return"string"===typeof e||"number"===typeof e?y.createElement(Jb,{key:e.toString(),prefixCls:k,disabled:p,value:e,checked:u===e},e):y.createElement(Jb,{key:"radio-group-value-options-".concat(e.value),prefixCls:k,disabled:e.disabled||p,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var C=g||o,M=Mn()(E,"".concat(E,"-").concat(h),(n={},(0,xe.Z)(n,"".concat(E,"-").concat(C),C),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===i),n),c);return y.createElement("div",Mt({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:M,style:m,onMouseEnter:x,onMouseLeave:w,id:b,ref:t}),S)}())})),tx=y.memo(ex),nx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rx=function(e,t){var n=y.useContext(Xb),r=y.useContext(Xn).getPrefixCls,i=e.prefixCls,o=nx(e,["prefixCls"]),a=r("radio-button",i);return n&&(o.checked=e.value===n.value,o.disabled=e.disabled||n.disabled),y.createElement(Jb,Mt({prefixCls:a},o,{type:"radio",ref:t}))},ix=y.forwardRef(rx),ox=Jb;ox.Button=ix,ox.Group=tx;var ax=ox,sx={},ux="SELECT_ALL",cx="SELECT_INVERT",lx="SELECT_NONE",fx=[];function dx(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,lr.Z)(e)&&t in e&&(n=[].concat((0,kn.Z)(n),(0,kn.Z)(dx(e[t],t))))})),n}function hx(e,t){var n=e||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,u=n.onSelect,c=n.onSelectAll,l=n.onSelectInvert,f=n.onSelectNone,d=n.onSelectMultiple,h=n.columnWidth,p=n.type,v=n.selections,g=n.fixed,b=n.renderCell,x=n.hideSelectAll,w=n.checkStrictly,_=void 0===w||w,E=t.prefixCls,S=t.data,k=t.pageData,C=t.getRecordByKey,M=t.getRowKey,O=t.expandType,N=t.childrenColumnName,T=t.locale,A=t.getPopupContainer,P=Vi(i||o||fx,{value:i}),I=(0,m.Z)(P,2),D=I[0],R=I[1],L=y.useRef(new Map),j=(0,y.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=C(e);!n&&L.current.has(e)&&(n=L.current.get(e)),t.set(e,n)})),L.current=t}}),[C,r]);y.useEffect((function(){j(D)}),[D]);var F=(0,y.useMemo)((function(){return _?{keyEntities:null}:db(S,{externalGetKey:M,childrenPropName:N})}),[S,M,_,N]).keyEntities,B=(0,y.useMemo)((function(){return dx(k,N)}),[k,N]),z=(0,y.useMemo)((function(){var e=new Map;return B.forEach((function(t,n){var r=M(t,n),i=(a?a(t):null)||{};e.set(r,i)})),e}),[B,M,a]),U=(0,y.useCallback)((function(e){var t;return!!(null===(t=z.get(M(e)))||void 0===t?void 0:t.disabled)}),[z,M]),G=(0,y.useMemo)((function(){if(_)return[D||[],[]];var e=mb(D,!0,F,U);return[e.checkedKeys||[],e.halfCheckedKeys]}),[D,_,F,U]),V=(0,m.Z)(G,2),Z=V[0],W=V[1],Y=(0,y.useMemo)((function(){var e="radio"===p?Z.slice(0,1):Z;return new Set(e)}),[Z,p]),H=(0,y.useMemo)((function(){return"radio"===p?new Set:new Set(W)}),[W,p]),q=(0,y.useState)(null),X=(0,m.Z)(q,2),K=X[0],$=X[1];y.useEffect((function(){e||R(fx)}),[!!e]);var Q=(0,y.useCallback)((function(e){var t,n;j(e),r?(t=e,n=e.map((function(e){return L.current.get(e)}))):(t=[],n=[],e.forEach((function(e){var r=C(e);void 0!==r&&(t.push(e),n.push(r))}))),R(t),null===s||void 0===s||s(t,n)}),[R,C,s,r]),J=(0,y.useCallback)((function(e,t,n,r){if(u){var i=n.map((function(e){return C(e)}));u(C(e),t,i,r)}Q(n)}),[u,C,Q]),ee=(0,y.useMemo)((function(){return!v||x?null:(!0===v?[ux,cx,lx]:v).map((function(e){return e===ux?{key:"all",text:T.selectionAll,onSelect:function(){Q(S.map((function(e,t){return M(e,t)})).filter((function(e){var t=z.get(e);return!(null===t||void 0===t?void 0:t.disabled)||Y.has(e)})))}}:e===cx?{key:"invert",text:T.selectInvert,onSelect:function(){var e=new Set(Y);k.forEach((function(t,n){var r=M(t,n),i=z.get(r);(null===i||void 0===i?void 0:i.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);l&&(ji(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),l(t)),Q(t)}}:e===lx?{key:"none",text:T.selectNone,onSelect:function(){null===f||void 0===f||f(),Q(Array.from(Y).filter((function(e){var t=z.get(e);return null===t||void 0===t?void 0:t.disabled})))}}:e}))}),[v,Y,k,M,l,Q]),te=(0,y.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==sx}));var r,i,o=(0,kn.Z)(t),a=new Set(Y),s=B.map(M).filter((function(e){return!z.get(e).disabled})),u=s.every((function(e){return a.has(e)})),l=s.some((function(e){return a.has(e)}));if("radio"!==p){var f;if(ee){var v=y.createElement(ap,{getPopupContainer:A},ee.map((function(e,t){var n=e.key,r=e.text,i=e.onSelect;return y.createElement(ap.Item,{key:n||t,onClick:function(){null===i||void 0===i||i(s)}},r)})));f=y.createElement("div",{className:"".concat(E,"-selection-extra")},y.createElement(Yb,{overlay:v,getPopupContainer:A},y.createElement("span",null,y.createElement(Ey,null))))}var m=B.map((function(e,t){var n=M(e,t),r=z.get(n)||{};return Mt({checked:a.has(n)},r)})).filter((function(e){return e.disabled})),w=!!m.length&&m.length===B.length,S=w&&m.every((function(e){return e.checked})),k=w&&m.some((function(e){return e.checked}));r=!x&&y.createElement("div",{className:"".concat(E,"-selection")},y.createElement(Tb,{checked:w?S:!!B.length&&u,indeterminate:w?!S&&k:!u&&l,onChange:function(){var e=[];u?s.forEach((function(t){a.delete(t),e.push(t)})):s.forEach((function(t){a.has(t)||(a.add(t),e.push(t))}));var t=Array.from(a);null===c||void 0===c||c(!u,t.map((function(e){return C(e)})),e.map((function(e){return C(e)}))),Q(t)},disabled:0===B.length||w,skipGroup:!0}),f)}i="radio"===p?function(e,t,n){var r=M(t,n),i=a.has(r);return{node:y.createElement(ax,Mt({},z.get(r),{checked:i,onClick:function(e){return e.stopPropagation()},onChange:function(e){a.has(r)||J(r,!0,[r],e.nativeEvent)}})),checked:i}}:function(e,t,n){var r,i,o=M(t,n),u=a.has(o),c=H.has(o),l=z.get(o);return"nest"===O?(i=c,ji("boolean"!==typeof(null===l||void 0===l?void 0:l.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):i=null!==(r=null===l||void 0===l?void 0:l.indeterminate)&&void 0!==r?r:c,{node:y.createElement(Tb,Mt({},l,{indeterminate:i,checked:u,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&_){var c=new Set([K,o]);s.some((function(e,t){if(c.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&_){var l=s.slice(r,i+1),f=[];u?l.forEach((function(e){a.has(e)&&(f.push(e),a.delete(e))})):l.forEach((function(e){a.has(e)||(f.push(e),a.add(e))}));var h=Array.from(a);null===d||void 0===d||d(!u,h.map((function(e){return C(e)})),f.map((function(e){return C(e)}))),Q(h)}else{var p=Z;if(_){var v=u?Ky(p,o):$y(p,o);J(o,!u,v,t)}else{var g=mb([].concat((0,kn.Z)(p),[o]),!0,F,U),m=g.checkedKeys,y=g.halfCheckedKeys,b=m;if(u){var x=new Set(m);x.delete(o),b=mb(Array.from(x),{checked:!1,halfCheckedKeys:y},F,U).checkedKeys}J(o,!u,b,t)}}$(o)}})),checked:u}};if(!o.includes(sx))if(0===o.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[jv])||void 0===t?void 0:t.columnType)}))){var N=Vc(o),T=N[0],P=N.slice(1);o=[T,sx].concat((0,kn.Z)(P))}else o=[sx].concat((0,kn.Z)(o));var I=o.indexOf(sx);o=o.filter((function(e,t){return e!==sx||t===I}));var D=o[I-1],R=o[I+1],L=g;void 0===L&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?L=R.fixed:void 0!==(null===D||void 0===D?void 0:D.fixed)&&(L=D.fixed)),L&&D&&"EXPAND_COLUMN"===(null===(n=D[jv])||void 0===n?void 0:n.columnType)&&void 0===D.fixed&&(D.fixed=L);var j=(0,xe.Z)({fixed:L,width:h,className:"".concat(E,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=i(e,t,n),o=r.node,a=r.checked;return b?b(a,t,n,o):o}},jv,{className:"".concat(E,"-selection-col")});return o.map((function(e){return e===sx?j:e}))}),[M,B,e,Z,Y,H,h,ee,O,K,z,d,J,U]);return[te,Y]}var px={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},vx=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:px}))};vx.displayName="CaretDownOutlined";var gx=y.forwardRef(vx),mx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},yx=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:mx}))};yx.displayName="CaretUpOutlined";var bx=y.forwardRef(yx);function xx(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function wx(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function _x(e,t){return"function"===typeof e?e(t):e}var Ex="ascend",Sx="descend";function kx(e){return"object"===(0,lr.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Cx(e){return"function"===typeof e?e:!(!e||"object"!==(0,lr.Z)(e)||!e.compare)&&e.compare}function Mx(e,t,n){var r=[];function i(e,t){r.push({column:e,key:xx(e,t),multiplePriority:kx(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=wx(o,n);e.children?("sortOrder"in e&&i(e,a),r=[].concat((0,kn.Z)(r),(0,kn.Z)(Mx(e.children,t,a)))):e.sorter&&("sortOrder"in e?i(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:xx(e,a),multiplePriority:kx(e),sortOrder:e.defaultSortOrder}))})),r}function Ox(e,t,n,r,i,o,a,s){return(t||[]).map((function(t,u){var c=wx(u,s),l=t;if(l.sorter){var f=l.sortDirections||i,d=void 0===l.showSorterTooltip?a:l.showSorterTooltip,h=xx(l,c),p=n.find((function(e){return e.key===h})),v=p?p.sortOrder:null,g=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(f,v),m=f.includes(Ex)&&y.createElement(bx,{className:Mn()("".concat(e,"-column-sorter-up"),{active:v===Ex})}),b=f.includes(Sx)&&y.createElement(gx,{className:Mn()("".concat(e,"-column-sorter-down"),{active:v===Sx})}),x=o||{},w=x.cancelSort,_=x.triggerAsc,E=x.triggerDesc,S=w;g===Sx?S=E:g===Ex&&(S=_);var k="object"===(0,lr.Z)(d)?d:{title:S};l=Mt(Mt({},l),{className:Mn()(l.className,(0,xe.Z)({},"".concat(e,"-column-sort"),v)),title:function(n){var r=y.createElement("div",{className:"".concat(e,"-column-sorters")},y.createElement("span",{className:"".concat(e,"-column-title")},_x(t.title,n)),y.createElement("span",{className:Mn()("".concat(e,"-column-sorter"),(0,xe.Z)({},"".concat(e,"-column-sorter-full"),!(!m||!b)))},y.createElement("span",{className:"".concat(e,"-column-sorter-inner")},m,b)));return d?y.createElement(Vu,k,r):r},onHeaderCell:function(n){var i=t.onHeaderCell&&t.onHeaderCell(n)||{},o=i.onClick;return i.onClick=function(e){r({column:t,key:h,sortOrder:g,multiplePriority:kx(t)}),o&&o(e)},v&&(i["aria-sort"]="ascend"===v?"ascending":"descending"),i.className=Mn()(i.className,"".concat(e,"-column-has-sorters")),i}})}return"children"in l&&(l=Mt(Mt({},l),{children:Ox(e,l.children,n,r,i,o,a,c)})),l}))}function Nx(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function Tx(e){var t=e.filter((function(e){return e.sortOrder})).map(Nx);return 0===t.length&&e.length?Mt(Mt({},Nx(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function Ax(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),o=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Cx(t)&&n}));return o.length?i.sort((function(e,t){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,s=Cx(i);if(s&&a){var u=s(e,t,a);if(0!==u)return a===Ex?u:-u}}return 0})).map((function(e){var r=e[n];return r?Mt(Mt({},e),(0,xe.Z)({},n,Ax(r,t,n))):e})):i}function Px(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,i=e.sortDirections,o=e.tableLocale,a=e.showSorterTooltip,s=y.useState(Mx(n,!0)),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=y.useMemo((function(){var e=!0,t=Mx(n,!1);if(!t.length)return c;var r=[];function i(t){e?r.push(t):r.push(Mt(Mt({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),i(t))})),r}),[n,c]),d=y.useMemo((function(){var e=f.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[f]);function h(e){var t;t=!1!==e.multiplePriority&&f.length&&!1!==f[0].multiplePriority?[].concat((0,kn.Z)(f.filter((function(t){return t.key!==e.key}))),[e]):[e],l(t),r(Tx(t),t)}return[function(e){return Ox(t,e,f,h,i,o,a)},f,d,function(){return Tx(f)}]}var Ix={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Dx=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ix}))};Dx.displayName="FilterFilled";var Rx=y.forwardRef(Dx),Lx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},jx=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Lx}))};jx.displayName="HolderOutlined";var Fx=y.forwardRef(jx),Bx=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],zx=function(e,t){var n=e.className,r=e.style,i=e.motion,o=e.motionNodes,a=e.motionType,s=e.onMotionStart,u=e.onMotionEnd,c=e.active,l=e.treeNodeRequiredProps,f=ur(e,Bx),d=y.useState(!0),h=(0,m.Z)(d,2),p=h[0],v=h[1],g=y.useContext(Uy).prefixCls,b=y.useRef(!1),x=function(){b.current||u(),b.current=!0};return(0,y.useEffect)((function(){o&&"hide"===a&&p&&v(!1)}),[o]),(0,y.useEffect)((function(){return o&&s(),function(){o&&x()}}),[]),o?y.createElement(Ua,Mt({ref:t,visible:p},i,{motionAppear:"show"===a,onAppearEnd:x,onLeaveEnd:x}),(function(e,t){var n=e.className,r=e.style;return y.createElement("div",{ref:t,className:Mn()("".concat(g,"-treenode-motion"),n),style:r},o.map((function(e){var t=Mt({},e.data),n=e.title,r=e.key,i=e.isStart,o=e.isEnd;delete t.children;var a=hb(r,l);return y.createElement(Xy,Mt({},t,a,{title:n,active:c,data:e.data,key:r,isStart:i,isEnd:o}))})))})):y.createElement(Xy,Mt({domRef:t,className:n,style:r},f,{active:c}))};zx.displayName="MotionTreeNode";var Ux=y.forwardRef(zx);function Gx(e,t,n){var r=e.findIndex((function(e){return e.key===n})),i=e[r+1],o=t.findIndex((function(e){return e.key===n}));if(i){var a=t.findIndex((function(e){return e.key===i.key}));return t.slice(o+1,a)}return t.slice(o+1)}var Vx=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Zx={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Wx=function(){},Yx="RC_TREE_MOTION_".concat(Math.random()),Hx={key:Yx},qx={key:Yx,level:0,index:0,pos:"0",node:Hx,nodes:[Hx]},Xx={parent:null,children:[],pos:qx.pos,data:Hx,title:null,key:Yx,isStart:[],isEnd:[]};function Kx(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function $x(e){return sb(e.key,e.pos)}var Qx=function(e,t){var n=e.prefixCls,r=e.data,i=(e.selectable,e.checkable,e.expandedKeys),o=e.selectedKeys,a=e.checkedKeys,s=e.loadedKeys,u=e.loadingKeys,c=e.halfCheckedKeys,l=e.keyEntities,f=e.disabled,d=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,v=e.motion,g=e.height,b=e.itemHeight,x=e.virtual,w=e.focusable,_=e.activeItem,E=e.focused,S=e.tabIndex,k=e.onKeyDown,C=e.onFocus,M=e.onBlur,O=e.onActiveChange,N=e.onListChangeStart,T=e.onListChangeEnd,A=ur(e,Vx),P=y.useRef(null),I=y.useRef(null);y.useImperativeHandle(t,(function(){return{scrollTo:function(e){P.current.scrollTo(e)},getIndentWidth:function(){return I.current.offsetWidth}}}));var D=y.useState(i),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=y.useState(r),B=(0,m.Z)(F,2),z=B[0],U=B[1],G=y.useState(r),V=(0,m.Z)(G,2),Z=V[0],W=V[1],Y=y.useState([]),H=(0,m.Z)(Y,2),q=H[0],X=H[1],K=y.useState(null),$=(0,m.Z)(K,2),Q=$[0],J=$[1];function ee(){U(r),W(r),X([]),J(null),T()}y.useEffect((function(){j(i);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(L,i);if(null!==e.key)if(e.add){var t=z.findIndex((function(t){return t.key===e.key})),n=Kx(Gx(z,r,e.key),x,g,b),o=z.slice();o.splice(t+1,0,Xx),W(o),X(n),J("show")}else{var a=r.findIndex((function(t){return t.key===e.key})),s=Kx(Gx(r,z,e.key),x,g,b),u=r.slice();u.splice(a+1,0,Xx),W(u),X(s),J("hide")}else z!==r&&(U(r),W(r))}),[i,r]),y.useEffect((function(){d||ee()}),[d]);var te=v?Z:r,ne={expandedKeys:i,selectedKeys:o,loadedKeys:s,loadingKeys:u,checkedKeys:a,halfCheckedKeys:c,dragOverNodeKey:h,dropPosition:p,keyEntities:l};return y.createElement(y.Fragment,null,E&&_&&y.createElement("span",{style:Zx,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(_)),y.createElement("div",null,y.createElement("input",{style:Zx,disabled:!1===w||f,tabIndex:!1!==w?S:null,onKeyDown:k,onFocus:C,onBlur:M,value:"",onChange:Wx,"aria-label":"for screen reader"})),y.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},y.createElement("div",{className:"".concat(n,"-indent")},y.createElement("div",{ref:I,className:"".concat(n,"-indent-unit")}))),y.createElement(Km,Mt({},A,{data:te,itemKey:$x,height:g,fullHeight:!1,virtual:x,itemHeight:b,prefixCls:"".concat(n,"-list"),ref:P,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return $x(e)===Yx}))&&ee()}}),(function(e){var t=e.pos,n=Mt({},e.data),r=e.title,i=e.key,o=e.isStart,a=e.isEnd,s=sb(i,t);delete n.key,delete n.children;var u=hb(s,ne);return y.createElement(Ux,Mt({},n,u,{title:r,active:!!_&&i===_.key,pos:t,data:e.data,isStart:o,isEnd:a,motion:v,motionNodes:i===Yx?q:null,motionType:Q,onMotionStart:N,onMotionEnd:ee,treeNodeRequiredProps:ne,onMouseMove:function(){O(null)}}))})))},Jx=y.forwardRef(Qx);Jx.displayName="NodeList";var ew=Jx;var tw=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:ub()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=y.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var u=Ky(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:eb(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(u),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:pb(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,u=r.indent,c=e.props,l=c.onDragEnter,f=c.onExpand,d=c.allowDrop,h=c.direction,p=n.props,v=p.pos,g=p.eventKey,m=(0,Go.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==g&&(e.currentMouseOverDroppableNodeKey=g),m){var y=nb(t,m,n,u,e.dragStartMousePosition,d,s,o,i,h),b=y.dropPosition,x=y.dropLevelOffset,w=y.dropTargetKey,_=y.dropContainerKey,E=y.dropTargetPos,S=y.dropAllowed,k=y.dragOverNodeKey;-1===a.indexOf(w)&&S?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),m.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,kn.Z)(i),a=o[n.props.eventKey];a&&(a.children||[]).length&&(r=$y(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===f||void 0===f||f(r,{node:pb(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),m.props.eventKey!==w||0!==x?(e.setState({dragOverNodeKey:k,dropPosition:b,dropLevelOffset:x,dropTargetKey:w,dropContainerKey:_,dropTargetPos:E,dropAllowed:S}),null===l||void 0===l||l({event:t,node:pb(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,o=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,u=r.indent,c=e.props,l=c.onDragOver,f=c.allowDrop,d=c.direction,h=(0,Go.Z)(e).dragNode;if(h){var p=nb(t,h,n,u,e.dragStartMousePosition,f,o,a,s,d),v=p.dropPosition,g=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,b=p.dropAllowed,x=p.dropTargetPos,w=p.dragOverNodeKey;-1===i.indexOf(m)&&b&&(h.props.eventKey===m&&0===g?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():v===e.state.dropPosition&&g===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&y===e.state.dropContainerKey&&x===e.state.dropTargetPos&&b===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:v,dropLevelOffset:g,dropTargetKey:m,dropContainerKey:y,dropTargetPos:x,dropAllowed:b,dragOverNodeKey:w}),null===l||void 0===l||l({event:t,node:pb(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:pb(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:pb(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,a=o.dragChildrenKeys,s=o.dropPosition,u=o.dropTargetKey,c=o.dropTargetPos,l=o.dropAllowed;if(l){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==u){var d=_e(_e({},hb(u,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===u,data:e.state.keyEntities[u].node}),h=-1!==a.indexOf(u);Yr(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=Qy(c),v={event:t,node:pb(d),dragNode:e.dragNode?pb(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};i||null===f||void 0===f||f(v),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,o=i.keyEntities,a=i.fieldNames,s=e.props,u=s.onSelect,c=s.multiple,l=n.selected,f=n[a.key],d=!l,h=(r=d?c?$y(r,f):[f]:Ky(r,f)).map((function(e){var t=o[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===u||void 0===u||u(r,{event:"select",selected:d,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,o=e.state,a=o.keyEntities,s=o.checkedKeys,u=o.halfCheckedKeys,c=e.props,l=c.checkStrictly,f=c.onCheck,d=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(l){var p=r?$y(s,d):Ky(s,d);i={checked:p,halfChecked:Ky(u,d)},h.checkedNodes=p.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var v=mb([].concat((0,kn.Z)(s),[d]),!0,a),g=v.checkedKeys,m=v.halfCheckedKeys;if(!r){var y=new Set(g);y.delete(d);var b=mb(Array.from(y),{checked:!1,halfCheckedKeys:m},a);g=b.checkedKeys,m=b.halfCheckedKeys}i=g,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,g.forEach((function(e){var t=a[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:m})}null===f||void 0===f||f(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(o){var a=o.loadedKeys,s=void 0===a?[]:a,u=o.loadingKeys,c=void 0===u?[]:u,l=e.props,f=l.loadData,d=l.onLoad;return f&&-1===s.indexOf(n)&&-1===c.indexOf(n)?(f(t).then((function(){var i=$y(e.state.loadedKeys,n);null===d||void 0===d||d(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:Ky(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:Ky(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var o=e.state.loadedKeys;Yr(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:$y(o,n)}),r()}i(t)})),{loadingKeys:$y(c,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=lb(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,o=i.listChanging,a=i.fieldNames,s=e.props,u=s.onExpand,c=s.loadData,l=n.expanded,f=n[a.key];if(!o){var d=r.indexOf(f),h=!l;if(Yr(l&&-1!==d||!l&&-1===d,"Expand state not sync with index check"),r=h?$y(r,f):Ky(r,f),e.setExpandedKeys(r),null===u||void 0===u||u(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&c){var p=e.onNodeLoad(n);p&&p.then((function(){var t=lb(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=Ky(e.state.expandedKeys,f);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,o=r.findIndex((function(e){return e.key===i}));-1===o&&t<0&&(o=r.length);var a=r[o=(o+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,o=n.checkedKeys,a=e.props,s=a.onKeyDown,u=a.checkable,c=a.selectable;switch(t.which){case Ro.UP:e.offsetActiveKey(-1),t.preventDefault();break;case Ro.DOWN:e.offsetActiveKey(1),t.preventDefault()}var l=e.getActiveItem();if(l&&l.data){var f=e.getTreeNodeRequiredProps(),d=!1===l.data.isLeaf||!!(l.data.children||[]).length,h=pb(_e(_e({},hb(r,f)),{},{data:l.data,active:!0}));switch(t.which){case Ro.LEFT:d&&i.includes(r)?e.onNodeExpand({},h):l.parent&&e.onActiveChange(l.parent.data.key),t.preventDefault();break;case Ro.RIGHT:d&&!i.includes(r)?e.onNodeExpand({},h):l.children&&l.children.length&&e.onActiveChange(l.children[0].data.key),t.preventDefault();break;case Ro.ENTER:case Ro.SPACE:!u||h.disabled||!1===h.checkable||h.disableCheckbox?u||!c||h.disabled||!1===h.selectable||e.onNodeSelect({},h):e.onNodeCheck({},h,!o.includes(r))}}null===s||void 0===s||s(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,o=!0,a={};Object.keys(t).forEach((function(n){n in e.props?o=!1:(i=!0,a[n]=t[n])})),!i||n&&!o||e.setState(_e(_e({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,r=n.focused,i=n.flattenNodes,o=n.keyEntities,a=n.draggingNodeKey,s=n.activeKey,u=n.dropLevelOffset,c=n.dropContainerKey,l=n.dropTargetKey,f=n.dropPosition,d=n.dragOverNodeKey,h=n.indent,p=this.props,v=p.prefixCls,g=p.className,m=p.style,b=p.showLine,x=p.focusable,w=p.tabIndex,_=void 0===w?0:w,E=p.selectable,S=p.showIcon,k=p.icon,C=p.switcherIcon,M=p.draggable,O=p.checkable,N=p.checkStrictly,T=p.disabled,A=p.motion,P=p.loadData,I=p.filterTreeNode,D=p.height,R=p.itemHeight,L=p.virtual,j=p.titleRender,F=p.dropIndicatorRender,B=p.onContextMenu,z=p.onScroll,U=p.direction,G=ev(this.props,{aria:!0,data:!0});return M&&(t="object"===(0,lr.Z)(M)?M:"function"===typeof M?{nodeDraggable:M}:{}),y.createElement(Uy.Provider,{value:{prefixCls:v,selectable:E,showIcon:S,icon:k,switcherIcon:C,draggable:t,draggingNodeKey:a,checkable:O,checkStrictly:N,disabled:T,keyEntities:o,dropLevelOffset:u,dropContainerKey:c,dropTargetKey:l,dropPosition:f,dragOverNodeKey:d,indent:h,direction:U,dropIndicatorRender:F,loadData:P,filterTreeNode:I,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},y.createElement("div",{role:"tree",className:Mn()(v,g,(e={},(0,xe.Z)(e,"".concat(v,"-show-line"),b),(0,xe.Z)(e,"".concat(v,"-focused"),r),(0,xe.Z)(e,"".concat(v,"-active-focused"),null!==s),e))},y.createElement(ew,Mt({ref:this.listRef,prefixCls:v,style:m,data:i,disabled:T,selectable:E,checkable:!!O,motion:A,dragging:null!==a,height:D,itemHeight:R,virtual:L,focusable:x,focused:r,tabIndex:_,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:B,onScroll:z},this.getTreeNodeRequiredProps(),G))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function o(t){return!r&&t in e||r&&r[t]!==e[t]}var a=t.fieldNames;if(o("fieldNames")&&(a=ub(e.fieldNames),i.fieldNames=a),o("treeData")?n=e.treeData:o("children")&&(Yr(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=cb(e.children)),n){i.treeData=n;var s=db(n,{fieldNames:a});i.keyEntities=_e((0,xe.Z)({},Yx,qx),s.keyEntities)}var u,c=i.keyEntities||t.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?ob(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var l=_e({},c);delete l[Yx],i.expandedKeys=Object.keys(l).map((function(e){return l[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?ob(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var f=lb(n||t.treeData,i.expandedKeys||t.expandedKeys,a);i.flattenNodes=f}if((e.selectable&&(o("selectedKeys")?i.selectedKeys=rb(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=rb(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?u=ib(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=ib(e.defaultCheckedKeys)||{}:n&&(u=ib(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var d=u,h=d.checkedKeys,p=void 0===h?[]:h,v=d.halfCheckedKeys,g=void 0===v?[]:v;if(!e.checkStrictly){var m=mb(p,!0,c);p=m.checkedKeys,g=m.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=g}return o("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(y.Component);tw.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return y.createElement("div",{style:i})},allowDrop:function(){return!0}},tw.TreeNode=Xy;var nw=tw,rw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},iw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:rw}))};iw.displayName="FileOutlined";var ow=y.forwardRef(iw),aw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},sw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:aw}))};sw.displayName="FolderOpenOutlined";var uw=y.forwardRef(sw),cw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},lw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:cw}))};lw.displayName="FolderOutlined";var fw,dw=y.forwardRef(lw);function hw(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&hw(r||[],t)}))}function pw(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,o=[],a=fw.None;if(r&&r===i)return[r];if(!r||!i)return[];return hw(t,(function(e){if(a===fw.End)return!1;if(function(e){return e===r||e===i}(e)){if(o.push(e),a===fw.None)a=fw.Start;else if(a===fw.Start)return a=fw.End,!1}else a===fw.Start&&o.push(e);return-1!==n.indexOf(e)})),o}function vw(e,t){var n=(0,kn.Z)(t),r=[];return hw(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(fw||(fw={}));var gw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mw(e){var t=e.isLeaf,n=e.expanded;return t?y.createElement(ow,null):n?y.createElement(uw,null):y.createElement(dw,null)}function yw(e){var t=e.treeData,n=e.children;return t||cb(n)}var bw=function(e,t){var n=e.defaultExpandAll,r=e.defaultExpandParent,i=e.defaultExpandedKeys,o=gw(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=y.useRef(),s=y.useRef(),u=y.createRef();y.useImperativeHandle(t,(function(){return u.current}));var c=y.useState(o.selectedKeys||o.defaultSelectedKeys||[]),l=(0,m.Z)(c,2),f=l[0],d=l[1],h=y.useState(function(){var e=db(yw(o)).keyEntities;return n?Object.keys(e):r?ob(o.expandedKeys||i||[],e):o.expandedKeys||i}()),p=(0,m.Z)(h,2),v=p[0],g=p[1];y.useEffect((function(){"selectedKeys"in o&&d(o.selectedKeys)}),[o.selectedKeys]),y.useEffect((function(){"expandedKeys"in o&&g(o.expandedKeys)}),[o.expandedKeys]);var b=gg()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||u.current.onNodeExpand(e,t)}),200,{leading:!0}),x=y.useContext(Xn),w=x.getPrefixCls,_=x.direction,E=o.prefixCls,S=o.className,k=gw(o,["prefixCls","className"]),C=w("tree",E),M=Mn()("".concat(C,"-directory"),(0,xe.Z)({},"".concat(C,"-directory-rtl"),"rtl"===_),S);return y.createElement(Iw,Mt({icon:mw,ref:u,blockNode:!0},k,{prefixCls:C,className:M,expandedKeys:v,selectedKeys:f,onSelect:function(e,t){var n,r,i=o.multiple,u=t.node,c=t.nativeEvent,l=u.key,f=void 0===l?"":l,h=yw(o),p=Mt(Mt({},t),{selected:!0}),g=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),m=null===c||void 0===c?void 0:c.shiftKey;i&&g?(r=e,a.current=f,s.current=r,p.selectedNodes=vw(h,r)):i&&m?(r=Array.from(new Set([].concat((0,kn.Z)(s.current||[]),(0,kn.Z)(pw({treeData:h,expandedKeys:v,startKey:f,endKey:a.current}))))),p.selectedNodes=vw(h,r)):(r=[f],a.current=f,s.current=r,p.selectedNodes=vw(h,r)),null===(n=o.onSelect)||void 0===n||n.call(o,r,p),"selectedKeys"in o||d(r)},onClick:function(e,t){var n;"click"===o.expandAction&&b(e,t),null===(n=o.onClick)||void 0===n||n.call(o,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===o.expandAction&&b(e,t),null===(n=o.onDoubleClick)||void 0===n||n.call(o,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in o||g(e),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,e,t)}}))},xw=y.forwardRef(bw);xw.displayName="DirectoryTree",xw.defaultProps={showIcon:!0,expandAction:"click"};var ww=xw,_w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Ew=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:_w}))};Ew.displayName="MinusSquareOutlined";var Sw=y.forwardRef(Ew),kw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Cw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:kw}))};Cw.displayName="PlusSquareOutlined";var Mw=y.forwardRef(Cw),Ow={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Nw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ow}))};Nw.displayName="CaretDownFilled";var Tw=y.forwardRef(Nw);function Aw(e){var t,n=e.dropPosition,r=e.dropLevelOffset,i=e.prefixCls,o=e.indent,a=e.direction,s=void 0===a?"ltr":a,u="ltr"===s?"left":"right",c="ltr"===s?"right":"left",l=(t={},(0,xe.Z)(t,u,-r*o+4),(0,xe.Z)(t,c,0),t);switch(n){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[u]=o+4}return y.createElement("div",{style:l,className:"".concat(i,"-drop-indicator")})}var Pw=y.forwardRef((function(e,t){var n,r=y.useContext(Xn),i=r.getPrefixCls,o=r.direction,a=r.virtual,s=e.prefixCls,u=e.className,c=e.showIcon,l=e.showLine,f=e.switcherIcon,d=e.blockNode,h=e.children,p=e.checkable,v=e.selectable,g=e.draggable,m=i("tree",s),b=Mt(Mt({},e),{showLine:Boolean(l),dropIndicatorRender:Aw}),x=y.useMemo((function(){if(!g)return!1;var e={};switch((0,lr.Z)(g)){case"function":e.nodeDraggable=g;break;case"object":e=Mt({},g)}return!1!==e.icon&&(e.icon=e.icon||y.createElement(Fx,null)),e}),[g]);return y.createElement(nw,Mt({itemHeight:20,ref:t,virtual:a},b,{prefixCls:m,className:Mn()((n={},(0,xe.Z)(n,"".concat(m,"-icon-hide"),!c),(0,xe.Z)(n,"".concat(m,"-block-node"),d),(0,xe.Z)(n,"".concat(m,"-unselectable"),!v),(0,xe.Z)(n,"".concat(m,"-rtl"),"rtl"===o),n),u),direction:o,checkable:p?y.createElement("span",{className:"".concat(m,"-checkbox-inner")}):p,selectable:v,switcherIcon:function(e){return function(e,t,n,r){var i,o=r.isLeaf,a=r.expanded;if(r.loading)return y.createElement(Xl,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,lr.Z)(n)&&(i=n.showLeafIcon),o)return n?"object"!==(0,lr.Z)(n)||i?y.createElement(ow,{className:"".concat(e,"-switcher-line-icon")}):y.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var s="".concat(e,"-switcher-icon");return Mu(t)?Ou(t,{className:Mn()(t.props.className||"",s)}):t||(n?a?y.createElement(Sw,{className:"".concat(e,"-switcher-line-icon")}):y.createElement(Mw,{className:"".concat(e,"-switcher-line-icon")}):y.createElement(Tw,{className:s}))}(m,f,l,e)},draggable:x}),h)}));Pw.TreeNode=Xy,Pw.DirectoryTree=ww,Pw.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:Mt(Mt({},Fu),{motionAppear:!1}),blockNode:!1};var Iw=Pw,Dw=Iw,Rw=function(e){return y.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},Lw=function(e){var t,n=(0,y.useContext)(Xn),r=n.getPrefixCls,i=n.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=r("input-group",o),c=Mn()(u,(t={},(0,xe.Z)(t,"".concat(u,"-lg"),"large"===e.size),(0,xe.Z)(t,"".concat(u,"-sm"),"small"===e.size),(0,xe.Z)(t,"".concat(u,"-compact"),e.compact),(0,xe.Z)(t,"".concat(u,"-rtl"),"rtl"===i),t),s);return y.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)},jw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fw=y.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=e.inputPrefixCls,a=e.className,s=e.size,u=e.suffix,c=e.enterButton,l=void 0!==c&&c,f=e.addonAfter,d=e.loading,h=e.disabled,p=e.onSearch,v=e.onChange,g=jw(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),m=y.useContext(Xn),b=m.getPrefixCls,x=m.direction,w=y.useContext(sc),_=s||w,E=y.useRef(null),S=function(e){var t;document.activeElement===(null===(t=E.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=function(e){var t,n;p&&p(null===(n=null===(t=E.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},C=b("input-search",i),M=b("input",o),O="boolean"===typeof l?y.createElement(Cy,null):null,N="".concat(C,"-button"),T=l||{},A=T.type&&!0===T.type.__ANT_BUTTON;r=A||"button"===T.type?Ou(T,Mt({onMouseDown:S,onClick:function(e){var t,n;null===(n=null===(t=null===T||void 0===T?void 0:T.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},A?{className:N,size:_}:{})):y.createElement(ld,{className:N,type:l?"primary":void 0,size:_,disabled:h,key:"enterButton",onMouseDown:S,onClick:k,loading:d,icon:O},l),f&&(r=[r,Ou(f,{key:"addonAfter"})]);var P=Mn()(C,(n={},(0,xe.Z)(n,"".concat(C,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(C,"-").concat(_),!!_),(0,xe.Z)(n,"".concat(C,"-with-button"),!!l),n),a);return y.createElement(gf,Mt({ref:Ri(E,t),onPressEnter:k},g,{size:_,prefixCls:M,addonAfter:r,suffix:u,onChange:function(e){e&&e.target&&"click"===e.type&&p&&p(e.target.value,e),v&&v(e)},className:P,disabled:h}))}));Fw.displayName="Search";var Bw=Fw,zw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Uw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:zw}))};Uw.displayName="EyeOutlined";var Gw=y.forwardRef(Uw),Vw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Zw=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Vw}))};Zw.displayName="EyeInvisibleOutlined";var Ww=y.forwardRef(Zw),Yw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Hw={click:"onClick",hover:"onMouseOver"},qw=y.forwardRef((function(e,t){var n=(0,y.useState)(!1),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=function(){e.disabled||o(!i)},s=function(n){var r=n.getPrefixCls,o=e.className,s=e.prefixCls,u=e.inputPrefixCls,c=e.size,l=e.visibilityToggle,f=Yw(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=r("input",u),h=r("input-password",s),p=l&&function(t){var n,r=e.action,o=e.iconRender,s=Hw[r]||"",u=(void 0===o?function(){return null}:o)(i),c=(n={},(0,xe.Z)(n,s,a),(0,xe.Z)(n,"className","".concat(t,"-icon")),(0,xe.Z)(n,"key","passwordIcon"),(0,xe.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,xe.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return y.cloneElement(y.isValidElement(u)?u:y.createElement("span",null,u),c)}(h),v=Mn()(h,o,(0,xe.Z)({},"".concat(h,"-").concat(c),!!c)),g=Mt(Mt({},ar(f,["suffix","iconRender"])),{type:i?"text":"password",className:v,prefixCls:d,suffix:p});return c&&(g.size=c),y.createElement(gf,Mt({ref:t},g))};return y.createElement(Kn,null,s)}));qw.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?y.createElement(Gw,null):y.createElement(Ww,null)}},qw.displayName="Password";var Xw=qw,Kw=gf;Kw.Group=Lw,Kw.Search=Bw,Kw.TextArea=wf,Kw.Password=Xw;var $w=Kw,Qw=function(e){var t=e.value,n=e.onChange,r=e.filterSearch,i=e.tablePrefixCls,o=e.locale;return r?y.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},y.createElement($w,{prefix:y.createElement(Cy,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null};function Jw(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function e_(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,i=e.filterMultiple,o=e.searchValue,a=e.filterSearch;return t.map((function(e,t){var s=String(e.value);if(e.children)return y.createElement(ap.SubMenu,{key:s||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},e_({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a}));var u=i?Tb:ax,c=y.createElement(ap.Item,{key:void 0!==e.value?s:t},y.createElement(u,{checked:r.includes(s)}),y.createElement("span",null,e.text));return o.trim()?"function"===typeof a?a(o,e)?c:void 0:Jw(o,e.text)?c:void 0:c}))}var t_=function(e){var t,n=e.tablePrefixCls,r=e.prefixCls,i=e.column,o=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterMode,c=void 0===u?"menu":u,l=e.filterSearch,f=void 0!==l&&l,d=e.filterState,h=e.triggerFilter,p=e.locale,v=e.children,g=e.getPopupContainer,b=i.filterDropdownVisible,x=i.onFilterDropdownVisibleChange,w=y.useState(!1),_=(0,m.Z)(w,2),E=_[0],S=_[1],k=!(!d||!(null===(t=d.filteredKeys)||void 0===t?void 0:t.length)&&!d.forceFiltered),C=function(e){S(e),null===x||void 0===x||x(e)},M="boolean"===typeof b?b:E,O=null===d||void 0===d?void 0:d.filteredKeys,N=function(e){var t=y.useRef(e),n=Dy();return[function(){return t.current},function(e){t.current=e,n()}]}(O||[]),T=(0,m.Z)(N,2),A=T[0],P=T[1],I=function(e){var t=e.selectedKeys;P(t)},D=function(e,t){var n=t.node,r=t.checked;I(s?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};y.useEffect((function(){E&&I({selectedKeys:O||[]})}),[O]);var R=y.useState([]),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=y.useRef(),z=function(e){B.current=window.setTimeout((function(){F(e)}))},U=function(){window.clearTimeout(B.current)};y.useEffect((function(){return function(){window.clearTimeout(B.current)}}),[]);var G=y.useState(""),V=(0,m.Z)(G,2),Z=V[0],W=V[1],Y=function(e){var t=e.target.value;W(t)};y.useEffect((function(){E||W("")}),[E]);var H,q=function(e){var t=e&&e.length?e:null;return null!==t||d&&d.filteredKeys?Ys()(t,null===d||void 0===d?void 0:d.filteredKeys)?null:void h({column:i,key:a,filteredKeys:t}):null},X=function(){C(!1),q(A())},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&q([]),n&&C(!1),W(""),P([])},$=Mn()((0,xe.Z)({},"".concat(o,"-menu-without-submenu"),!(i.filters||[]).some((function(e){return e.children})))),Q=function(e){if(e.target.checked){var t=i_(null===i||void 0===i?void 0:i.filters).map((function(e){return String(e)}));P(t)}else P([])},J=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),i={title:t.text,key:void 0!==t.value?r:n};return t.children&&(i.children=e({filters:t.children})),i}))};if("function"===typeof i.filterDropdown)H=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(e){return I({selectedKeys:e})},selectedKeys:A(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&C(!1),q(A())},clearFilters:K,filters:i.filters,visible:M});else if(i.filterDropdown)H=i.filterDropdown;else{var ee=A()||[];H=y.createElement(y.Fragment,null,0===(i.filters||[]).length?y.createElement(Hn,{image:Hn.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===c?y.createElement(y.Fragment,null,y.createElement(Qw,{filterSearch:f,value:Z,onChange:Y,tablePrefixCls:n,locale:p}),y.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?y.createElement(Tb,{checked:ee.length===i_(i.filters).length,indeterminate:ee.length>0&&ee.length<i_(i.filters).length,className:"".concat(n,"-filter-dropdown-checkall"),onChange:Q},p.filterCheckall):null,y.createElement(Dw,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(o,"-menu"),onCheck:D,checkedKeys:ee,selectedKeys:ee,showIcon:!1,treeData:J({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Z.trim()?function(e){return Jw(Z,e.title)}:void 0}))):y.createElement(y.Fragment,null,y.createElement(Qw,{filterSearch:f,value:Z,onChange:Y,tablePrefixCls:n,locale:p}),y.createElement(ap,{multiple:s,prefixCls:"".concat(o,"-menu"),className:$,onClick:U,onSelect:I,onDeselect:I,selectedKeys:ee,getPopupContainer:g,openKeys:j,onOpenChange:z},e_({filters:i.filters||[],filterSearch:f,prefixCls:r,filteredKeys:A(),filterMultiple:s,searchValue:Z}))),y.createElement("div",{className:"".concat(r,"-dropdown-btns")},y.createElement(ld,{type:"link",size:"small",disabled:0===ee.length,onClick:function(){return K()}},p.filterReset),y.createElement(ld,{type:"primary",size:"small",onClick:X},p.filterConfirm)))}var te,ne=y.createElement(Rw,{className:"".concat(r,"-dropdown")},H);te="function"===typeof i.filterIcon?i.filterIcon(k):i.filterIcon?i.filterIcon:y.createElement(Rx,null);var re=y.useContext(Xn).direction;return y.createElement("div",{className:"".concat(r,"-column")},y.createElement("span",{className:"".concat(n,"-column-title")},v),y.createElement(Yb,{overlay:ne,trigger:["click"],visible:M,onVisibleChange:function(e){e&&void 0!==O&&P(O||[]),C(e),e||i.filterDropdown||X()},getPopupContainer:g,placement:"rtl"===re?"bottomLeft":"bottomRight"},y.createElement("span",{role:"button",tabIndex:-1,className:Mn()("".concat(r,"-trigger"),{active:k}),onClick:function(e){e.stopPropagation()}},te)))};function n_(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var o,a=wx(i,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),r.push({column:e,key:xx(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:xx(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,kn.Z)(r),(0,kn.Z)(n_(e.children,t,a))))})),r}function r_(e,t,n,r,i,o,a,s){return n.map((function(n,u){var c=wx(u,s),l=n.filterMultiple,f=void 0===l||l,d=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var v=xx(p,c),g=r.find((function(e){var t=e.key;return v===t}));p=Mt(Mt({},p),{title:function(r){return y.createElement(t_,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:v,filterState:g,filterMultiple:f,filterMode:d,filterSearch:h,triggerFilter:i,locale:a,getPopupContainer:o},_x(n.title,r))}})}return"children"in p&&(p=Mt(Mt({},p),{children:r_(e,t,p.children,r,i,o,a,c)})),p}))}function i_(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,kn.Z)(t),(0,kn.Z)(i_(r))))})),t}function o_(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,o=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=i_(o);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function a_(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=i_(i),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return r(a,e)}))})):e}),e)}var s_=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,i=e.onFilterChange,o=e.getPopupContainer,a=e.locale,s=y.useState(n_(r,!0)),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=y.useMemo((function(){var e=n_(r,!1),t=e.every((function(e){return void 0===e.filteredKeys}));if(t)return c;var n=e.every((function(e){return void 0!==e.filteredKeys}));return ji(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e}),[r,c]),d=y.useCallback((function(){return o_(f)}),[f]),h=function(e){var t=f.filter((function(t){return t.key!==e.key}));t.push(e),l(t),i(o_(t),t)};return[function(e){return r_(t,n,e,f,h,o,a)},f,d]};function u_(e,t){return e.map((function(e){var n=Mt({},e);return n.title=_x(e.title,t),"children"in n&&(n.children=u_(n.children,t)),n}))}function c_(e){return[y.useCallback((function(t){return u_(t,e)}),[e])]}var l_=function(e){return function(t){var n,r=t.prefixCls,i=t.onExpand,o=t.record,a=t.expanded,s=t.expandable,u="".concat(r,"-row-expand-icon");return y.createElement("button",{type:"button",onClick:function(e){i(o,e),e.stopPropagation()},className:Mn()(u,(n={},(0,xe.Z)(n,"".concat(u,"-spaced"),!s),(0,xe.Z)(n,"".concat(u,"-expanded"),s&&a),(0,xe.Z)(n,"".concat(u,"-collapsed"),s&&!a),n)),"aria-label":a?e.collapse:e.expand})}};function f_(e){return null!==e&&void 0!==e&&e===e.window}function d_(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",i=0;return f_(e)?i=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?i=e.documentElement[r]:e&&(i=e[r]),e&&!f_(e)&&"number"!==typeof i&&(i=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),i}function h_(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function p_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,o=t.duration,a=void 0===o?450:o,s=r(),u=d_(s,!0),c=Date.now(),l=function t(){var n=Date.now()-c,r=h_(n>a?a:n,u,e,a);f_(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?qo(t):"function"===typeof i&&i()};qo(l)}var v_=Ln;var g_=function(e){return null};var m_=function(e){return null},y_=[];function b_(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,c=e.dataSource,l=e.pagination,f=e.rowSelection,d=e.rowKey,h=e.rowClassName,p=e.columns,v=e.children,g=e.childrenColumnName,b=e.onChange,x=e.getPopupContainer,w=e.loading,_=e.expandIcon,E=e.expandable,S=e.expandedRowRender,k=e.expandIconColumnIndex,C=e.indentSize,M=e.scroll,O=e.sortDirections,N=e.locale,T=e.showSorterTooltip,A=void 0===T||T;ji(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var P=y.useMemo((function(){return p||Uv(v)}),[p,v]),I=y.useMemo((function(){return P.some((function(e){return e.responsive}))}),[P]),D=Ry(I),R=y.useMemo((function(){var e=new Set(Object.keys(D).filter((function(e){return D[e]})));return P.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[P,D]),L=ar(e,["className","style","columns"]),j=y.useContext(sc),F=y.useContext(Xn),B=F.locale,z=void 0===B?v_:B,U=F.renderEmpty,G=F.direction,V=a||j,Z=Mt(Mt({},z.Table),N),W=c||y_,Y=y.useContext(Xn).getPrefixCls,H=Y("table",r),q=Y("dropdown",u),X=Mt({childrenColumnName:g,expandIconColumnIndex:k},E),K=X.childrenColumnName,$=void 0===K?"children":K,Q=y.useMemo((function(){return W.some((function(e){return null===e||void 0===e?void 0:e[$]}))?"nest":S||E&&E.expandedRowRender?"row":null}),[W]),J={body:y.useRef()},ee=y.useMemo((function(){return"function"===typeof d?d:function(e){return null===e||void 0===e?void 0:e[d]}}),[d]),te=function(e,t,n){var r=y.useRef({});return[function(i){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){var o=new Map;!function e(r){r.forEach((function(r,i){var a=n(r,i);o.set(a,r),r&&"object"===(0,lr.Z)(r)&&t in r&&e(r[t]||[])}))}(e),r.current={data:e,childrenColumnName:t,kvMap:o,getRowKey:n}}return r.current.kvMap.get(i)}]}(W,$,ee),ne=(0,m.Z)(te,1)[0],re={},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Mt(Mt({},re),e);n&&(re.resetPagination(),r.pagination.current&&(r.pagination.current=1),l&&l.onChange&&l.onChange(1,r.pagination.pageSize)),M&&!1!==M.scrollToFirstRowOnChange&&J.body.current&&p_(0,{getContainer:function(){return J.body.current}}),null===b||void 0===b||b(r.pagination,r.filters,r.sorter,{currentDataSource:a_(Ax(W,r.sorterStates,$),r.filterStates),action:t})},oe=Px({prefixCls:H,mergedColumns:R,onSorterChange:function(e,t){ie({sorter:e,sorterStates:t},"sort",!1)},sortDirections:O||["ascend","descend"],tableLocale:Z,showSorterTooltip:A}),ae=(0,m.Z)(oe,4),se=ae[0],ue=ae[1],ce=ae[2],le=ae[3],fe=y.useMemo((function(){return Ax(W,ue,$)}),[W,ue]);re.sorter=le(),re.sorterStates=ue;var de=s_({prefixCls:H,locale:Z,dropdownPrefixCls:q,mergedColumns:R,onFilterChange:function(e,t){ie({filters:e,filterStates:t},"filter",!0)},getPopupContainer:x}),he=(0,m.Z)(de,3),pe=he[0],ve=he[1],ge=he[2],me=a_(fe,ve);re.filters=ge(),re.filterStates=ve;var ye=c_(y.useMemo((function(){return Mt({},ce)}),[ce])),be=(0,m.Z)(ye,1)[0],we=zy(me.length,l,(function(e,t){ie({pagination:Mt(Mt({},re.pagination),{current:e,pageSize:t})},"paginate")})),_e=(0,m.Z)(we,2),Ee=_e[0],Se=_e[1];re.pagination=!1===l?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,lr.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(l,Ee),re.resetPagination=Se;var ke=y.useMemo((function(){if(!1===l||!Ee.pageSize)return me;var e=Ee.current,t=void 0===e?1:e,n=Ee.total,r=Ee.pageSize,i=void 0===r?10:r;return ji(t>0,"Table","`current` should be positive number."),me.length<n?me.length>i?(ji(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),me.slice((t-1)*i,t*i)):me:me.slice((t-1)*i,t*i)}),[!!l,me,Ee&&Ee.current,Ee&&Ee.pageSize,Ee&&Ee.total]),Ce=hx(f,{prefixCls:H,data:me,pageData:ke,getRowKey:ee,getRecordByKey:ne,expandType:Q,childrenColumnName:$,locale:Z,getPopupContainer:x}),Me=(0,m.Z)(Ce,2),Oe=Me[0],Ne=Me[1];X.__PARENT_RENDER_ICON__=X.expandIcon,X.expandIcon=X.expandIcon||_||l_(Z),"nest"===Q&&void 0===X.expandIconColumnIndex?X.expandIconColumnIndex=f?1:0:X.expandIconColumnIndex>0&&f&&(X.expandIconColumnIndex-=1),"number"!==typeof X.indentSize&&(X.indentSize="number"===typeof C?C:15);var Te,Ae,Pe,Ie=y.useCallback((function(e){return be(Oe(pe(se(e))))}),[se,pe,Oe]);if(!1!==l&&(null===Ee||void 0===Ee?void 0:Ee.total)){var De;De=Ee.size?Ee.size:"small"===V||"middle"===V?"small":void 0;var Re=function(e){return y.createElement(Fy,Mt({},Ee,{className:Mn()("".concat(H,"-pagination ").concat(H,"-pagination-").concat(e),Ee.className),size:De}))},Le="rtl"===G?"left":"right",je=Ee.position;if(null!==je&&Array.isArray(je)){var Fe=je.find((function(e){return-1!==e.indexOf("top")})),Be=je.find((function(e){return-1!==e.indexOf("bottom")})),ze=je.every((function(e){return"none"==="".concat(e)}));Fe||Be||ze||(Ae=Re(Le)),Fe&&(Te=Re(Fe.toLowerCase().replace("top",""))),Be&&(Ae=Re(Be.toLowerCase().replace("bottom","")))}else Ae=Re(Le)}"boolean"===typeof w?Pe={spinning:w}:"object"===(0,lr.Z)(w)&&(Pe=Mt({spinning:!0},w));var Ue=Mn()("".concat(H,"-wrapper"),(0,xe.Z)({},"".concat(H,"-wrapper-rtl"),"rtl"===G),i);return y.createElement("div",{ref:t,className:Ue,style:o},y.createElement(xg,Mt({spinning:!1},Pe),Te,y.createElement(pg,Mt({},L,{columns:R,direction:G,expandable:X,prefixCls:H,className:Mn()((n={},(0,xe.Z)(n,"".concat(H,"-middle"),"middle"===V),(0,xe.Z)(n,"".concat(H,"-small"),"small"===V),(0,xe.Z)(n,"".concat(H,"-bordered"),s),(0,xe.Z)(n,"".concat(H,"-empty"),0===W.length),n)),data:ke,rowKey:ee,rowClassName:function(e,t,n){var r;return r="function"===typeof h?Mn()(h(e,t,n)):Mn()(h),Mn()((0,xe.Z)({},"".concat(H,"-row-selected"),Ne.has(ee(e,t))),r)},emptyText:N&&N.emptyText||U("Table"),internalHooks:fg,internalRefs:J,transformColumns:Ie})),Ae))}var x_=y.forwardRef(b_);x_.defaultProps={rowKey:"key"},x_.SELECTION_COLUMN=sx,x_.EXPAND_COLUMN=pg.EXPAND_COLUMN,x_.SELECTION_ALL=ux,x_.SELECTION_INVERT=cx,x_.SELECTION_NONE=lx,x_.Column=g_,x_.ColumnGroup=m_,x_.Summary=eg;var w_=x_,__={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},E_=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:__}))};E_.displayName="MinusOutlined";var S_=y.forwardRef(E_),k_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},C_=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:k_}))};C_.displayName="PlusOutlined";var M_=y.forwardRef(C_),O_=function(){return xn()},N_=Sn,T_=n(37762);function A_(){var e=N_((function(e){return e})),t=e.papers,n=e.filters,r=t.filter((function(e){if(!n.showOriginal&&"undefined"===typeof e.Date)return!1;if(!n.showNew&&"undefined"!==typeof e.Date)return!1;if("undefined"!==typeof n.startYear&&parseInt(e.Year)<n.startYear)return!1;if("undefined"!==typeof n.endYear&&parseInt(e.Year)>n.endYear)return!1;var t=!0,r=!0,i=n.search.toLowerCase().trim();if(i.length>0){var o=!1,a=[!0,!0,!0,!0];i.startsWith("author:")?(i=i.substring(7).trim(),a=[!0,!1,!1,!1]):i.startsWith("title:")?(i=i.substring(6).trim(),a=[!1,!0,!1,!1]):i.startsWith("venue:")?(i=i.substring(6).trim(),a=[!1,!1,!0,!1]):i.startsWith("abstract:")&&(i=i.substring(9).trim(),a=[!1,!1,!1,!0]);var s=e.Authors.some((function(e){return e.toLowerCase().includes(i)})),u=e.Title.toLowerCase().includes(i),c=e.Venue.value.toLowerCase().includes(i);if(a[0]&&(o=o||s),a[1]&&(o=o||u),a[2]&&(o=o||c),!o)return!1}for(var l=function(){var i=(0,m.Z)(d[f],2),o=i[0],a=i[1],s=n[o],u=e[a];if(!Array.isArray(s))return"continue";if("venue"===o)return s.length>0&&!s.some((function(e){var t=u;return"Other"===e?!t.isOld:e===t.value}))?{v:!1}:"continue";s.length>0&&(t=!1);var c,l=(0,T_.Z)(s);try{var h=function(){var e=c.value;if(n.filterStateAND)Array.isArray(u)&&u.some((function(t){return t===e}))||(r=!1);else if(Array.isArray(u)&&u.some((function(t){return t===e})))return{v:{v:!0}}};for(l.s();!(c=l.n()).done;){var p=h();if("object"===typeof p)return p.v}}catch(v){l.e(v)}finally{l.f()}},f=0,d=Object.entries(st);f<d.length;f++){var h=l();if("continue"!==h&&"object"===typeof h)return h.v}return n.filterStateAND?r:t}));return r}function P_(e,t,n){var r=(0,y.useState)(n?e:[]),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=(0,y.useRef)(null),u=function(){return o.length===e.length};var c=function(){u()?a([]):a(e)};return(0,y.useLayoutEffect)((function(){var e=document.getElementsByClassName("expand-all")[0];s.current&&e.removeEventListener("click",s.current,!1),e.addEventListener("click",c,!1),s.current=c})),{isAllExpanded:u,expandedRowKeys:o,onExpand:function(e,n){a(e?o.concat([n[t]]):o.filter((function(e){return e!==n[t]})))},rowKey:t}}var I_=n(72426),D_=n.n(I_),R_={getNow:function(){return D_()()},getFixedDate:function(e){return D_()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return D_()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return D_()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return D_()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],i=0;i<n.length;i+=1){var o=n[i],a=t;if(o.includes("wo")||o.includes("Wo")){var s=(o=o.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=a.match(/[-\d]+/g);s&&u?(o=s.join(""),a=u.join("")):r.push(o.replace(/o/g,""))}var c=D_()(a,o,e,!0);if(c.isValid())return c}for(var l=0;l<r.length;l+=1){var f=D_()(t,r[l],e,!1);if(f.isValid())return Wr(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}},L_=R_;var j_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},F_=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:j_}))};F_.displayName="CalendarOutlined";var B_=y.forwardRef(F_),z_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},U_=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:z_}))};U_.displayName="ClockCircleOutlined";var G_=y.forwardRef(U_),V_=y.createContext({}),Z_={visibility:"hidden"};var W_=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,i=e.nextIcon,o=void 0===i?"\u203a":i,a=e.superPrevIcon,s=void 0===a?"\xab":a,u=e.superNextIcon,c=void 0===u?"\xbb":u,l=e.onSuperPrev,f=e.onSuperNext,d=e.onPrev,h=e.onNext,p=e.children,v=y.useContext(V_),g=v.hideNextBtn,m=v.hidePrevBtn;return y.createElement("div",{className:t},l&&y.createElement("button",{type:"button",onClick:l,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:m?Z_:{}},s),d&&y.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:m?Z_:{}},r),y.createElement("div",{className:"".concat(t,"-view")},p),h&&y.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:g?Z_:{}},o),f&&y.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:g?Z_:{}},c))};var Y_=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecades,o=e.onNextDecades;if(y.useContext(V_).hideHeader)return null;var a="".concat(t,"-header"),s=n.getYear(r),u=Math.floor(s/uE)*uE,c=u+uE-1;return y.createElement(W_,Mt({},e,{prefixCls:a,onSuperPrev:i,onSuperNext:o}),u,"-",c)};function H_(e,t,n,r,i){var o=e.setHour(t,n);return o=e.setMinute(o,r),o=e.setSecond(o,i)}function q_(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function X_(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,i=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=e.getDate(i),a=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(a,"-").concat(o)}function K_(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,i=e.picker,o=e.rowNum,a=e.colNum,s=e.prefixColumn,u=e.rowClassName,c=e.baseDate,l=e.getCellClassName,f=e.getCellText,d=e.getCellNode,h=e.getCellDate,p=e.generateConfig,v=e.titleCell,g=e.headerCells,m=y.useContext(V_),b=m.onDateMouseEnter,x=m.onDateMouseLeave,w=m.mode,_="".concat(t,"-cell"),E=[],S=0;S<o;S+=1){for(var k=[],C=void 0,M=function(e){var t,o=h(c,S*a+e),u=_E({cellDate:o,mode:w,disabledDate:n,generateConfig:p});0===e&&(C=o,s&&k.push(s(C)));var g=v&&v(o);k.push(y.createElement("td",{key:e,title:g,className:Mn()(_,_e((t={},(0,xe.Z)(t,"".concat(_,"-disabled"),u),(0,xe.Z)(t,"".concat(_,"-start"),1===f(o)||"year"===i&&Number(g)%10===0),(0,xe.Z)(t,"".concat(_,"-end"),g===X_(p,o)||"year"===i&&Number(g)%10===9),t),l(o))),onClick:function(){u||r(o)},onMouseEnter:function(){!u&&b&&b(o)},onMouseLeave:function(){!u&&x&&x(o)}},d?d(o):y.createElement("div",{className:"".concat(_,"-inner")},f(o))))},O=0;O<a;O+=1)M(O);E.push(y.createElement("tr",{key:S,className:u&&u(C)},k))}return y.createElement("div",{className:"".concat(t,"-body")},y.createElement("table",{className:"".concat(t,"-content")},g&&y.createElement("thead",null,y.createElement("tr",null,g)),y.createElement("tbody",null,E)))}var $_=function(e){var t=sE-1,n=e.prefixCls,r=e.viewDate,i=e.generateConfig,o="".concat(n,"-cell"),a=i.getYear(r),s=Math.floor(a/sE)*sE,u=Math.floor(a/uE)*uE,c=u+uE-1,l=i.setYear(r,u-Math.ceil((12*sE-uE)/2));return y.createElement(K_,Mt({},e,{rowNum:4,colNum:3,baseDate:l,getCellText:function(e){var n=i.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i.getYear(e),a=r+t;return n={},(0,xe.Z)(n,"".concat(o,"-in-view"),u<=r&&a<=c),(0,xe.Z)(n,"".concat(o,"-selected"),r===s),n},getCellDate:function(e,t){return i.addYear(e,t*sE)}}))},Q_=new Map;function J_(e,t,n){if(Q_.get(e)&&cancelAnimationFrame(Q_.get(e)),n<=0)Q_.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;Q_.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&J_(e,t,n-10)})))}}function eE(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,i=t.onUpDown,o=t.onPageUpDown,a=t.onEnter,s=e.which,u=e.ctrlKey,c=e.metaKey;switch(s){case Ro.LEFT:if(u||c){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case Ro.RIGHT:if(u||c){if(r)return r(1),!0}else if(n)return n(1),!0;break;case Ro.UP:if(i)return i(-1),!0;break;case Ro.DOWN:if(i)return i(1),!0;break;case Ro.PAGE_UP:if(o)return o(-1),!0;break;case Ro.PAGE_DOWN:if(o)return o(1),!0;break;case Ro.ENTER:if(a)return a(),!0}return!1}function tE(e,t,n,r){var i=e;if(!i)switch(t){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function nE(e,t,n){var r="time"===e?8:10,i="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,i)+2}var rE=null,iE=new Set;var oE={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function aE(e,t){return e.some((function(e){return e&&e.contains(t)}))}var sE=10,uE=10*sE;var cE=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,i=e.viewDate,o=e.operationRef,a=e.onSelect,s=e.onPanelChange,u="".concat(t,"-decade-panel");o.current={onKeyDown:function(e){return eE(e,{onLeftRight:function(e){a(r.addYear(i,e*sE),"key")},onCtrlLeftRight:function(e){a(r.addYear(i,e*uE),"key")},onUpDown:function(e){a(r.addYear(i,e*sE*3),"key")},onEnter:function(){s("year",i)}})}};var c=function(e){var t=r.addYear(i,e*uE);n(t),s(null,t)};return y.createElement("div",{className:u},y.createElement(Y_,Mt({},e,{prefixCls:t,onPrevDecades:function(){c(-1)},onNextDecades:function(){c(1)}})),y.createElement($_,Mt({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),s("year",e)}})))};function lE(e,t){return!e&&!t||!(!e||!t)&&void 0}function fE(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function dE(e,t){return Math.floor(e.getMonth(t)/3)+1}function hE(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:fE(e,t,n)&&dE(e,t)===dE(e,n)}function pE(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:fE(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function vE(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function gE(e,t,n,r){var i=lE(n,r);return"boolean"===typeof i?i:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function mE(e,t,n){return vE(e,t,n)&&function(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function yE(e,t,n,r){return!!(t&&n&&r)&&(!vE(e,t,r)&&!vE(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function bE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function xE(e,t){var n=t.generateConfig,r=t.locale,i=t.format;return"function"===typeof i?i(e):n.locale.format(r.locale,e,i)}function wE(e,t){var n=t.generateConfig,r=t.locale,i=t.formatList;return e&&"function"!==typeof i[0]?n.locale.parse(r.locale,e,i):null}function _E(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,i=e.generateConfig;if(!r)return!1;var o=function(e,n,o){for(var a=n;a<=o;){var s=void 0;switch(e){case"date":if(s=i.setDate(t,a),!r(s))return!1;break;case"month":if(!_E({cellDate:s=i.setMonth(t,a),mode:"month",generateConfig:i,disabledDate:r}))return!1;break;case"year":if(!_E({cellDate:s=i.setYear(t,a),mode:"year",generateConfig:i,disabledDate:r}))return!1}a+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return o("date",1,i.getDate(i.getEndDate(t)));case"quarter":var a=3*Math.floor(i.getMonth(t)/3);return o("month",a,a+2);case"year":return o("month",0,11);case"decade":var s=i.getYear(t),u=Math.floor(s/sE)*sE;return o("year",u,u+sE-1)}}var EE=function(e){if(y.useContext(V_).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o=e.format,a="".concat(t,"-header");return y.createElement(W_,{prefixCls:a},i?xE(i,{locale:r,format:o,generateConfig:n}):"\xa0")};var SE=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,i=e.value,o=e.active,a=e.hideDisabledOptions,s="".concat(t,"-cell"),u=y.useContext(V_).open,c=(0,y.useRef)(null),l=(0,y.useRef)(new Map),f=(0,y.useRef)();return(0,y.useLayoutEffect)((function(){var e=l.current.get(i);e&&!1!==u&&J_(c.current,e.offsetTop,120)}),[i]),(0,y.useLayoutEffect)((function(){if(u){var e=l.current.get(i);e&&(f.current=function(e,t){var n;return function r(){Wa(e)?t():n=qo((function(){r()}))}(),function(){qo.cancel(n)}}(e,(function(){J_(c.current,e.offsetTop,0)})))}return function(){var e;null===(e=f.current)||void 0===e||e.call(f)}}),[u]),y.createElement("ul",{className:Mn()("".concat(t,"-column"),(0,xe.Z)({},"".concat(t,"-column-active"),o)),ref:c,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:y.createElement("li",{key:e.value,ref:function(t){l.current.set(e.value,t)},className:Mn()(s,(t={},(0,xe.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,xe.Z)(t,"".concat(s,"-selected"),i===e.value),t)),onClick:function(){e.disabled||r(e.value)}},y.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function kE(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function CE(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function ME(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function OE(e,t){return e?e[t]:null}function NE(e,t,n){var r=[OE(e,0),OE(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function TE(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function AE(e,t,n,r){for(var i=[],o=e;o<=t;o+=n)i.push({label:kE(o,2),value:o,disabled:(r||[]).includes(o)});return i}var PE=function(e){var t,n=e.generateConfig,r=e.prefixCls,i=e.operationRef,o=e.activeColumnIndex,a=e.value,s=e.showHour,u=e.showMinute,c=e.showSecond,l=e.use12Hours,f=e.hourStep,d=void 0===f?1:f,h=e.minuteStep,p=void 0===h?1:h,v=e.secondStep,g=void 0===v?1:v,b=e.disabledHours,x=e.disabledMinutes,w=e.disabledSeconds,_=e.disabledTime,E=e.hideDisabledOptions,S=e.onSelect,k=[],C="".concat(r,"-content"),M="".concat(r,"-time-panel"),O=a?n.getHour(a):-1,N=O,T=a?n.getMinute(a):-1,A=a?n.getSecond(a):-1,P=n.getNow(),I=y.useMemo((function(){if(_){var e=_(P);return[e.disabledHours,e.disabledMinutes,e.disabledSeconds]}return[b,x,w]}),[b,x,w,_,P]),D=(0,m.Z)(I,3),R=D[0],L=D[1],j=D[2],F=function(e,t,r,i){var o=a||n.getNow(),s=Math.max(0,t),u=Math.max(0,r),c=Math.max(0,i);return o=H_(n,o,l&&e?s+12:s,u,c)},B=AE(0,23,d,R&&R()),z=Ii((function(){return B}),B,TE);l&&(t=N>=12,N%=12);var U=y.useMemo((function(){if(!l)return[!1,!1];var e=[!0,!0];return z.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[l,z]),G=(0,m.Z)(U,2),V=G[0],Z=G[1],W=y.useMemo((function(){return l?z.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":kE(t,2);return _e(_e({},e),{},{label:n,value:t})})):z}),[l,t,z]),Y=AE(0,59,p,L&&L(O)),H=AE(0,59,g,j&&j(O,T));function q(e,t,n,r,i){!1!==e&&k.push({node:y.cloneElement(t,{prefixCls:M,value:n,active:o===k.length,onSelect:i,units:r,hideDisabledOptions:E}),onSelect:i,value:n,units:r})}i.current={onUpDown:function(e){var t=k[o];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,i=1;i<r;i+=1){var a=t.units[(n+e*i+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},q(s,y.createElement(SE,{key:"hour"}),N,W,(function(e){S(F(t,e,T,A),"mouse")})),q(u,y.createElement(SE,{key:"minute"}),T,Y,(function(e){S(F(t,N,e,A),"mouse")})),q(c,y.createElement(SE,{key:"second"}),A,H,(function(e){S(F(t,N,T,e),"mouse")}));var X=-1;return"boolean"===typeof t&&(X=t?1:0),q(!0===l,y.createElement(SE,{key:"12hours"}),X,[{label:"AM",value:0,disabled:V},{label:"PM",value:1,disabled:Z}],(function(e){S(F(!!e,N,T,A),"mouse")})),y.createElement("div",{className:C},k.map((function(e){return e.node})))};var IE=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,i=e.prefixCls,o=e.active,a=e.operationRef,s=e.showHour,u=e.showMinute,c=e.showSecond,l=e.use12Hours,f=void 0!==l&&l,d=e.onSelect,h=e.value,p="".concat(i,"-time-panel"),v=y.useRef(),g=y.useState(-1),b=(0,m.Z)(g,2),x=b[0],w=b[1],_=[s,u,c,f].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return eE(e,{onLeftRight:function(e){w((x+e+_)%_)},onUpDown:function(e){-1===x?w(0):v.current&&v.current.onUpDown(e)},onEnter:function(){d(h||t.getNow(),"key"),w(-1)}})},onBlur:function(){w(-1)}},y.createElement("div",{className:Mn()(p,(0,xe.Z)({},"".concat(p,"-active"),o))},y.createElement(EE,Mt({},e,{format:r,prefixCls:i})),y.createElement(PE,Mt({},e,{prefixCls:i,activeColumnIndex:x,operationRef:v})))},DE=y.createContext({});function RE(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,i=e.hoverRangedValue,o=e.isInView,a=e.isSameCell,s=e.offsetCell,u=e.today,c=e.value;return function(e){var l,f=s(e,-1),d=s(e,1),h=OE(r,0),p=OE(r,1),v=OE(i,0),g=OE(i,1),m=yE(n,v,g,e);function y(e){return a(h,e)}function b(e){return a(p,e)}var x=a(v,e),w=a(g,e),_=(m||w)&&(!o(f)||b(f)),E=(m||x)&&(!o(d)||y(d));return l={},(0,xe.Z)(l,"".concat(t,"-in-view"),o(e)),(0,xe.Z)(l,"".concat(t,"-in-range"),yE(n,h,p,e)),(0,xe.Z)(l,"".concat(t,"-range-start"),y(e)),(0,xe.Z)(l,"".concat(t,"-range-end"),b(e)),(0,xe.Z)(l,"".concat(t,"-range-start-single"),y(e)&&!p),(0,xe.Z)(l,"".concat(t,"-range-end-single"),b(e)&&!h),(0,xe.Z)(l,"".concat(t,"-range-start-near-hover"),y(e)&&(a(f,v)||yE(n,v,g,f))),(0,xe.Z)(l,"".concat(t,"-range-end-near-hover"),b(e)&&(a(d,g)||yE(n,v,g,d))),(0,xe.Z)(l,"".concat(t,"-range-hover"),m),(0,xe.Z)(l,"".concat(t,"-range-hover-start"),x),(0,xe.Z)(l,"".concat(t,"-range-hover-end"),w),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-start"),_),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-end"),E),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-start-near-range"),_&&a(f,p)),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-end-near-range"),E&&a(d,h)),(0,xe.Z)(l,"".concat(t,"-today"),a(u,e)),(0,xe.Z)(l,"".concat(t,"-selected"),a(c,e)),l}}var LE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,i=e.locale,o=e.rowCount,a=e.viewDate,s=e.value,u=e.dateRender,c=y.useContext(DE),l=c.rangedValue,f=c.hoverRangedValue,d=function(e,t,n){var r=t.locale.getWeekFirstDay(e),i=t.setDate(n,1),o=t.getWeekDay(i),a=t.addDate(i,r-o);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(i.locale,n,a),h="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(i.locale),v=n.getNow(),g=[],m=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&g.push(y.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var b=0;b<7;b+=1)g.push(y.createElement("th",{key:b},m[(b+p)%7]));var x=RE({cellPrefixCls:h,today:v,value:s,generateConfig:n,rangedValue:r?null:l,hoverRangedValue:r?null:f,isSameCell:function(e,t){return vE(n,e,t)},isInView:function(e){return pE(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),w=u?function(e){return u(e,v)}:void 0;return y.createElement(K_,Mt({},e,{rowNum:o,colNum:7,baseDate:d,getCellNode:w,getCellText:n.getDate,getCellClassName:x,getCellDate:n.addDate,titleCell:function(e){return xE(e,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:g}))};var jE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextMonth,a=e.onPrevMonth,s=e.onNextYear,u=e.onPrevYear,c=e.onYearClick,l=e.onMonthClick;if(y.useContext(V_).hideHeader)return null;var f="".concat(t,"-header"),d=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),h=n.getMonth(i),p=y.createElement("button",{type:"button",key:"year",onClick:c,tabIndex:-1,className:"".concat(t,"-year-btn")},xE(i,{locale:r,format:r.yearFormat,generateConfig:n})),v=y.createElement("button",{type:"button",key:"month",onClick:l,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?xE(i,{locale:r,format:r.monthFormat,generateConfig:n}):d[h]),g=r.monthBeforeYear?[v,p]:[p,v];return y.createElement(W_,Mt({},e,{prefixCls:f,onSuperPrev:u,onPrev:a,onNext:o,onSuperNext:s}),g)};var FE=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,i=e.keyboardConfig,o=e.active,a=e.operationRef,s=e.generateConfig,u=e.value,c=e.viewDate,l=e.onViewDateChange,f=e.onPanelChange,d=e.onSelect,h="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return eE(e,_e({onLeftRight:function(e){d(s.addDate(u||c,e),"key")},onCtrlLeftRight:function(e){d(s.addYear(u||c,e),"key")},onUpDown:function(e){d(s.addDate(u||c,7*e),"key")},onPageUpDown:function(e){d(s.addMonth(u||c,e),"key")}},i))}};var p=function(e){var t=s.addYear(c,e);l(t),f(null,t)},v=function(e){var t=s.addMonth(c,e);l(t),f(null,t)};return y.createElement("div",{className:Mn()(h,(0,xe.Z)({},"".concat(h,"-active"),o))},y.createElement(jE,Mt({},e,{prefixCls:t,value:u,viewDate:c,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){v(-1)},onNextMonth:function(){v(1)},onMonthClick:function(){f("month",c)},onYearClick:function(){f("year",c)}})),y.createElement(LE,Mt({},e,{onSelect:function(e){return d(e,"mouse")},prefixCls:t,value:u,viewDate:c,rowCount:6})))},BE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var zE=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,i=e.value,o=e.defaultValue,a=e.disabledTime,s=e.showTime,u=e.onSelect,c="".concat(t,"-datetime-panel"),l=y.useState(null),f=(0,m.Z)(l,2),d=f[0],h=f[1],p=y.useRef({}),v=y.useRef({}),g="object"===(0,lr.Z)(s)?_e({},s):{},b=function(e){v.current.onBlur&&v.current.onBlur(e),h(null)};n.current={onKeyDown:function(e){if(e.which===Ro.TAB){var t=function(e){var t=BE.indexOf(d)+e;return BE[t]||null}(e.shiftKey?-1:1);return h(t),t&&e.preventDefault(),!0}if(d){var n="date"===d?p:v;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![Ro.LEFT,Ro.RIGHT,Ro.UP,Ro.DOWN].includes(e.which)&&(h("date"),!0)},onBlur:b,onClose:b};var x=function(e,t){var n=e;"date"===t&&!i&&g.defaultValue?(n=r.setHour(n,r.getHour(g.defaultValue)),n=r.setMinute(n,r.getMinute(g.defaultValue)),n=r.setSecond(n,r.getSecond(g.defaultValue))):"time"===t&&!i&&o&&(n=r.setYear(n,r.getYear(o)),n=r.setMonth(n,r.getMonth(o)),n=r.setDate(n,r.getDate(o))),u&&u(n,"mouse")},w=a?a(i||null):{};return y.createElement("div",{className:Mn()(c,(0,xe.Z)({},"".concat(c,"-active"),d))},y.createElement(FE,Mt({},e,{operationRef:p,active:"date"===d,onSelect:function(e){x(q_(r,e,i||"object"!==(0,lr.Z)(s)?null:s.defaultValue),"date")}})),y.createElement(IE,Mt({},e,{format:void 0},g,w,{disabledTime:null,defaultValue:void 0,operationRef:v,active:"time"===d,onSelect:function(e){x(e,"time")}})))};var UE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return y.createElement(FE,Mt({},e,{panelName:"week",prefixColumn:function(e){return y.createElement("td",{key:"week",className:Mn()(o,"".concat(o,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return Mn()(a,(0,xe.Z)({},"".concat(a,"-selected"),gE(n,r.locale,i,e)))},keyboardConfig:{onLeftRight:null}}))};var GE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(y.useContext(V_).hideHeader)return null;var u="".concat(t,"-header");return y.createElement(W_,Mt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),y.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},xE(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var VE=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=e.monthCellRender,s=y.useContext(DE),u=s.rangedValue,c=s.hoverRangedValue,l=RE({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:u,hoverRangedValue:c,isSameCell:function(e,t){return pE(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,t)}}),f=n.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(n.locale):[]),d=o.setMonth(i,0),h=a?function(e){return a(e,n)}:void 0;return y.createElement(K_,Mt({},e,{rowNum:4,colNum:3,baseDate:d,getCellNode:h,getCellText:function(e){return n.monthFormat?xE(e,{locale:n,format:n.monthFormat,generateConfig:o}):f[o.getMonth(e)]},getCellClassName:l,getCellDate:o.addMonth,titleCell:function(e){return xE(e,{locale:n,format:"YYYY-MM",generateConfig:o})}}))};var ZE=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,c="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return eE(e,{onLeftRight:function(e){u(i.addMonth(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addMonth(o||a,3*e),"key")},onEnter:function(){s("date",o||a)}})}};var l=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return y.createElement("div",{className:c},y.createElement(GE,Mt({},e,{prefixCls:t,onPrevYear:function(){l(-1)},onNextYear:function(){l(1)},onYearClick:function(){s("year",a)}})),y.createElement(VE,Mt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse"),s("date",e)}})))};var WE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(y.useContext(V_).hideHeader)return null;var u="".concat(t,"-header");return y.createElement(W_,Mt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),y.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},xE(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var YE=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=y.useContext(DE),s=a.rangedValue,u=a.hoverRangedValue,c=RE({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return hE(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,3*t)}}),l=o.setDate(o.setMonth(i,0),1);return y.createElement(K_,Mt({},e,{rowNum:1,colNum:4,baseDate:l,getCellText:function(e){return xE(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:o})},getCellClassName:c,getCellDate:function(e,t){return o.addMonth(e,3*t)},titleCell:function(e){return xE(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:o})}}))};var HE=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,c="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return eE(e,{onLeftRight:function(e){u(i.addMonth(o||a,3*e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addYear(o||a,e),"key")}})}};var l=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return y.createElement("div",{className:c},y.createElement(WE,Mt({},e,{prefixCls:t,onPrevYear:function(){l(-1)},onNextYear:function(){l(1)},onYearClick:function(){s("year",a)}})),y.createElement(YE,Mt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse")}})))};var qE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecade,o=e.onNextDecade,a=e.onDecadeClick;if(y.useContext(V_).hideHeader)return null;var s="".concat(t,"-header"),u=n.getYear(r),c=Math.floor(u/KE)*KE,l=c+KE-1;return y.createElement(W_,Mt({},e,{prefixCls:s,onSuperPrev:i,onSuperNext:o}),y.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},c,"-",l))};var XE=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,i=e.locale,o=e.generateConfig,a=y.useContext(DE),s=a.rangedValue,u=a.hoverRangedValue,c="".concat(t,"-cell"),l=o.getYear(r),f=Math.floor(l/KE)*KE,d=f+KE-1,h=o.setYear(r,f-Math.ceil((12-KE)/2)),p=RE({cellPrefixCls:c,value:n,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return fE(o,e,t)},isInView:function(e){var t=o.getYear(e);return f<=t&&t<=d},offsetCell:function(e,t){return o.addYear(e,t)}});return y.createElement(K_,Mt({},e,{rowNum:4,colNum:3,baseDate:h,getCellText:o.getYear,getCellClassName:p,getCellDate:o.addYear,titleCell:function(e){return xE(e,{locale:i,format:"YYYY",generateConfig:o})}}))},KE=10;var $E=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.sourceMode,u=e.onSelect,c=e.onPanelChange,l="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return eE(e,{onLeftRight:function(e){u(i.addYear(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e*KE),"key")},onUpDown:function(e){u(i.addYear(o||a,3*e),"key")},onEnter:function(){c("date"===s?"date":"month",o||a)}})}};var f=function(e){var t=i.addYear(a,10*e);r(t),c(null,t)};return y.createElement("div",{className:l},y.createElement(qE,Mt({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){c("decade",a)}})),y.createElement(XE,Mt({},e,{prefixCls:t,onSelect:function(e){c("date"===s?"date":"month",e),u(e,"mouse")}})))};function QE(e,t,n){return n?y.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function JE(e){var t,n,r=e.prefixCls,i=e.rangeList,o=void 0===i?[]:i,a=e.components,s=void 0===a?{}:a,u=e.needConfirmButton,c=e.onNow,l=e.onOk,f=e.okDisabled,d=e.showNow,h=e.locale;if(o.length){var p=s.rangeItem||"span";t=y.createElement(y.Fragment,null,o.map((function(e){var t=e.label,n=e.onClick,i=e.onMouseEnter,o=e.onMouseLeave;return y.createElement("li",{key:t,className:"".concat(r,"-preset")},y.createElement(p,{onClick:n,onMouseEnter:i,onMouseLeave:o},t))})))}if(u){var v=s.button||"button";c&&!t&&!1!==d&&(t=y.createElement("li",{className:"".concat(r,"-now")},y.createElement("a",{className:"".concat(r,"-now-btn"),onClick:c},h.now))),n=u&&y.createElement("li",{className:"".concat(r,"-ok")},y.createElement(v,{disabled:f,onClick:l},h.ok))}return t||n?y.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var eS=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.className,o=e.style,a=e.locale,s=e.generateConfig,u=e.value,c=e.defaultValue,l=e.pickerValue,f=e.defaultPickerValue,d=e.disabledDate,h=e.mode,p=e.picker,v=void 0===p?"date":p,g=e.tabIndex,b=void 0===g?0:g,x=e.showNow,w=e.showTime,_=e.showToday,E=e.renderExtraFooter,S=e.hideHeader,k=e.onSelect,C=e.onChange,M=e.onPanelChange,O=e.onMouseDown,N=e.onPickerValueChange,T=e.onOk,A=e.components,P=e.direction,I=e.hourStep,D=void 0===I?1:I,R=e.minuteStep,L=void 0===R?1:R,j=e.secondStep,F=void 0===j?1:j,B="date"===v&&!!w||"time"===v,z=24%D===0,U=60%L===0,G=60%F===0,V=y.useContext(V_),Z=V.operationRef,W=V.panelRef,Y=V.onSelect,H=V.hideRanges,q=V.defaultOpenValue,X=y.useContext(DE),K=X.inRange,$=X.panelPosition,Q=X.rangedValue,J=X.hoverRangedValue,ee=y.useRef({}),te=y.useRef(!0),ne=Vi(null,{value:u,defaultValue:c,postState:function(e){return!e&&q&&"time"===v?q:e}}),re=(0,m.Z)(ne,2),ie=re[0],oe=re[1],ae=Vi(null,{value:l,defaultValue:f||ie,postState:function(e){var t=s.getNow();return e?!ie&&w?"object"===(0,lr.Z)(w)?q_(s,Array.isArray(e)?e[0]:e,w.defaultValue||t):q_(s,Array.isArray(e)?e[0]:e,c||t):e:t}}),se=(0,m.Z)(ae,2),ue=se[0],ce=se[1],le=function(e){ce(e),N&&N(e)},fe=function(e){var t=oE[v];return t?t(e):e},de=Vi((function(){return"time"===v?"time":fe("date")}),{value:h}),he=(0,m.Z)(de,2),pe=he[0],ve=he[1];y.useEffect((function(){ve(v)}),[v]);var ge,me=y.useState((function(){return pe})),ye=(0,m.Z)(me,2),be=ye[0],we=ye[1],Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(pe===v||n)&&(oe(e),k&&k(e),Y&&Y(e,t),!C||mE(s,e,ie)||(null===d||void 0===d?void 0:d(e))||C(e))},Se=function(e){return ee.current&&ee.current.onKeyDown?([Ro.LEFT,Ro.RIGHT,Ro.UP,Ro.DOWN,Ro.PAGE_UP,Ro.PAGE_DOWN,Ro.ENTER].includes(e.which)&&e.preventDefault(),ee.current.onKeyDown(e)):(Yr(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};Z&&"right"!==$&&(Z.current={onKeyDown:Se,onClose:function(){ee.current&&ee.current.onClose&&ee.current.onClose()}}),y.useEffect((function(){u&&!te.current&&ce(u)}),[u]),y.useEffect((function(){te.current=!1}),[]);var ke,Ce,Me,Oe=_e(_e({},e),{},{operationRef:ee,prefixCls:r,viewDate:ue,value:ie,onViewDateChange:le,sourceMode:be,onPanelChange:function(e,t){var n=fe(e||pe);we(pe),ve(n),M&&(pe!==n||mE(s,ue,ue))&&M(t,n)},disabledDate:d});switch(delete Oe.onChange,delete Oe.onSelect,pe){case"decade":ge=y.createElement(cE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;case"year":ge=y.createElement($E,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;case"month":ge=y.createElement(ZE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;case"quarter":ge=y.createElement(HE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;case"week":ge=y.createElement(UE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;case"time":delete Oe.showTime,ge=y.createElement(IE,Mt({},Oe,"object"===(0,lr.Z)(w)?w:null,{onSelect:function(e,t){le(e),Ee(e,t)}}));break;default:ge=w?y.createElement(zE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}})):y.createElement(FE,Mt({},Oe,{onSelect:function(e,t){le(e),Ee(e,t)}}))}if(H||(ke=QE(r,pe,E),Ce=JE({prefixCls:r,components:A,needConfirmButton:B,okDisabled:!ie||d&&d(ie),locale:a,showNow:x,onNow:B&&function(){var e=s.getNow(),t=function(e,t,n,r,i,o){var a=Math.floor(e/r)*r;if(a<e)return[a,60-i,60-o];var s=Math.floor(t/i)*i;return s<t?[a,s,60-o]:[a,s,Math.floor(n/o)*o]}(s.getHour(e),s.getMinute(e),s.getSecond(e),z?D:1,U?L:1,G?F:1),n=H_(s,e,t[0],t[1],t[2]);Ee(n,"submit")},onOk:function(){ie&&(Ee(ie,"submit",!0),T&&T(ie))}})),_&&"date"===pe&&"date"===v&&!w){var Ne=s.getNow(),Te="".concat(r,"-today-btn"),Ae=d&&d(Ne);Me=y.createElement("a",{className:Mn()(Te,Ae&&"".concat(Te,"-disabled")),"aria-disabled":Ae,onClick:function(){Ae||Ee(Ne,"mouse",!0)}},a.today)}return y.createElement(V_.Provider,{value:_e(_e({},V),{},{mode:pe,hideHeader:"hideHeader"in e?S:V.hideHeader,hidePrevBtn:K&&"right"===$,hideNextBtn:K&&"left"===$})},y.createElement("div",{tabIndex:b,className:Mn()("".concat(r,"-panel"),i,(t={},(0,xe.Z)(t,"".concat(r,"-panel-has-range"),Q&&Q[0]&&Q[1]),(0,xe.Z)(t,"".concat(r,"-panel-has-range-hover"),J&&J[0]&&J[1]),(0,xe.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===P),t)),style:o,onKeyDown:Se,onBlur:function(e){ee.current&&ee.current.onBlur&&ee.current.onBlur(e)},onMouseDown:O,ref:W},ge,ke||Ce||Me?y.createElement("div",{className:"".concat(r,"-footer")},ke,Ce,Me):null))},tS={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var nS=function(e){var t,n=e.prefixCls,r=e.popupElement,i=e.popupStyle,o=e.visible,a=e.dropdownClassName,s=e.dropdownAlign,u=e.transitionName,c=e.getPopupContainer,l=e.children,f=e.range,d=e.popupPlacement,h=e.direction,p="".concat(n,"-dropdown");return y.createElement(vu,{showAction:[],hideAction:[],popupPlacement:void 0!==d?d:"rtl"===h?"bottomRight":"bottomLeft",builtinPlacements:tS,prefixCls:p,popupTransitionName:u,popup:r,popupAlign:s,popupVisible:o,popupClassName:Mn()(a,(t={},(0,xe.Z)(t,"".concat(p,"-range"),f),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===h),t)),popupStyle:i,getPopupContainer:c},l)};function rS(e){var t=e.open,n=e.value,r=e.isClickOutside,i=e.triggerOpen,o=e.forwardKeyDown,a=e.onKeyDown,s=e.blurToCancel,u=e.onSubmit,c=e.onCancel,l=e.onFocus,f=e.onBlur,d=(0,y.useState)(!1),h=(0,m.Z)(d,2),p=h[0],v=h[1],g=(0,y.useState)(!1),b=(0,m.Z)(g,2),x=b[0],w=b[1],_=(0,y.useRef)(!1),E=(0,y.useRef)(!1),S=(0,y.useRef)(!1),k={onMouseDown:function(){v(!0),i(!0)},onKeyDown:function(e){if(a(e,(function(){S.current=!0})),!S.current){switch(e.which){case Ro.ENTER:return t?!1!==u()&&v(!0):i(!0),void e.preventDefault();case Ro.TAB:return void(p&&t&&!e.shiftKey?(v(!1),e.preventDefault()):!p&&t&&!o(e)&&e.shiftKey&&(v(!0),e.preventDefault()));case Ro.ESC:return v(!0),void c()}t||[Ro.SHIFT].includes(e.which)?p||o(e):i(!0)}},onFocus:function(e){v(!0),w(!0),l&&l(e)},onBlur:function(e){!_.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&c()}),0):t&&(i(!1),E.current&&u()),w(!1),f&&f(e)):_.current=!1}};return(0,y.useEffect)((function(){E.current=!1}),[t]),(0,y.useEffect)((function(){E.current=!0}),[n]),(0,y.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var o=r(n);o?x&&!o||i(!1):(_.current=!0,requestAnimationFrame((function(){_.current=!1})))}},!rE&&"undefined"!==typeof window&&window.addEventListener&&(rE=function(e){(0,kn.Z)(iE).forEach((function(t){t(e)}))},window.addEventListener("mousedown",rE)),iE.add(e),function(){iE.delete(e),0===iE.size&&(window.removeEventListener("mousedown",rE),rE=null)};var e})),[k,{focused:x,typing:p}]}function iS(e){var t=e.valueTexts,n=e.onTextChange,r=y.useState(""),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=y.useRef([]);function u(){a(s.current[0])}return s.current=t,y.useEffect((function(){t.every((function(e){return e!==o}))&&u()}),[t.join("||")]),[o,function(e){a(e),n(e)},u]}function oS(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale;return Ii((function(){if(!e)return[[""],""];for(var t="",o=[],a=0;a<n.length;a+=1){var s=n[a],u=xE(e,{generateConfig:r,locale:i,format:s});o.push(u),0===a&&(t=u)}return[o,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!ec()(e[1],t[1])}))}function aS(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale,o=(0,y.useState)(null),a=(0,m.Z)(o,2),s=a[0],u=a[1],c=(0,y.useRef)(null);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(c.current),t?u(e):c.current=requestAnimationFrame((function(){u(e)}))}var f=oS(s,{formatList:n,generateConfig:r,locale:i}),d=(0,m.Z)(f,2)[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(null,e)}return(0,y.useEffect)((function(){h(!0)}),[e]),(0,y.useEffect)((function(){return function(){return cancelAnimationFrame(c.current)}}),[]),[d,function(e){l(e)},h]}function sS(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.id,o=e.tabIndex,a=e.style,s=e.className,u=e.dropdownClassName,c=e.dropdownAlign,l=e.popupStyle,f=e.transitionName,d=e.generateConfig,h=e.locale,p=e.inputReadOnly,v=e.allowClear,g=e.autoFocus,b=e.showTime,x=e.picker,w=void 0===x?"date":x,_=e.format,E=e.use12Hours,S=e.value,k=e.defaultValue,C=e.open,M=e.defaultOpen,O=e.defaultOpenValue,N=e.suffixIcon,T=e.clearIcon,A=e.disabled,P=e.disabledDate,I=e.placeholder,D=e.getPopupContainer,R=e.pickerRef,L=e.panelRender,j=e.onChange,F=e.onOpenChange,B=e.onFocus,z=e.onBlur,U=e.onMouseDown,G=e.onMouseUp,V=e.onMouseEnter,Z=e.onMouseLeave,W=e.onContextMenu,Y=e.onClick,H=e.onKeyDown,q=e.onSelect,X=e.direction,K=e.autoComplete,$=void 0===K?"off":K,Q=e.inputRender,J=y.useRef(null),ee="date"===w&&!!b||"time"===w;var te=CE(tE(_,w,b,E)),ne=y.useRef(null),re=y.useRef(null),ie=y.useRef(null),oe=Vi(null,{value:S,defaultValue:k}),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1],ce=y.useState(se),le=(0,m.Z)(ce,2),fe=le[0],de=le[1],he=y.useRef(null),pe=Vi(!1,{value:C,defaultValue:M,postState:function(e){return!A&&e},onChange:function(e){F&&F(e),!e&&he.current&&he.current.onClose&&he.current.onClose()}}),ve=(0,m.Z)(pe,2),ge=ve[0],me=ve[1],ye=oS(fe,{formatList:te,generateConfig:d,locale:h}),be=(0,m.Z)(ye,2),we=be[0],Ee=be[1],Se=iS({valueTexts:we,onTextChange:function(e){var t=wE(e,{locale:h,formatList:te,generateConfig:d});!t||P&&P(t)||de(t)}}),ke=(0,m.Z)(Se,3),Ce=ke[0],Me=ke[1],Oe=ke[2],Ne=function(e){de(e),ue(e),j&&!mE(d,se,e)&&j(e,e?xE(e,{generateConfig:d,locale:h,format:te[0]}):"")},Te=function(e){A&&e||me(e)},Ae=rS({blurToCancel:ee,open:ge,value:Ce,triggerOpen:Te,forwardKeyDown:function(e){return ge&&he.current&&he.current.onKeyDown?he.current.onKeyDown(e):(Yr(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!aE([ne.current,re.current,ie.current],e)},onSubmit:function(){return!(!fe||P&&P(fe))&&(Ne(fe),Te(!1),Oe(),!0)},onCancel:function(){Te(!1),de(se),Oe()},onKeyDown:function(e,t){null===H||void 0===H||H(e,t)},onFocus:B,onBlur:z}),Pe=(0,m.Z)(Ae,2),Ie=Pe[0],De=Pe[1],Re=De.focused,Le=De.typing;y.useEffect((function(){ge||(de(se),we.length&&""!==we[0]?Ee!==Ce&&Oe():Me(""))}),[ge,we]),y.useEffect((function(){ge||Oe()}),[w]),y.useEffect((function(){de(se)}),[se]),R&&(R.current={focus:function(){J.current&&J.current.focus()},blur:function(){J.current&&J.current.blur()}});var je=aS(Ce,{formatList:te,generateConfig:d,locale:h}),Fe=(0,m.Z)(je,3),Be=Fe[0],ze=Fe[1],Ue=Fe[2],Ge=_e(_e({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Ve=y.createElement(eS,Mt({},Ge,{generateConfig:d,className:Mn()((0,xe.Z)({},"".concat(r,"-panel-focused"),!Le)),value:fe,locale:h,tabIndex:-1,onSelect:function(e){null===q||void 0===q||q(e),de(e)},direction:X,onPanelChange:function(t,n){var r=e.onPanelChange;Ue(!0),null===r||void 0===r||r(t,n)}}));L&&(Ve=L(Ve));var Ze,We,Ye=y.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},Ve);N&&(Ze=y.createElement("span",{className:"".concat(r,"-suffix")},N)),v&&se&&!A&&(We=y.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Ne(null),Te(!1)},className:"".concat(r,"-clear"),role:"button"},T||y.createElement("span",{className:"".concat(r,"-clear-btn")})));var He=_e(_e(_e({id:i,tabIndex:o,disabled:A,readOnly:p||"function"===typeof te[0]||!Le,value:Be||Ce,onChange:function(e){Me(e.target.value)},autoFocus:g,placeholder:I,ref:J,title:Ce},Ie),{},{size:nE(w,te[0],d)},ME(e)),{},{autoComplete:$}),qe=Q?Q(He):y.createElement("input",He);var Xe="rtl"===X?"bottomRight":"bottomLeft";return y.createElement(V_.Provider,{value:{operationRef:he,hideHeader:"time"===w,panelRef:ne,onSelect:function(e,t){("submit"===t||"key"!==t&&!ee)&&(Ne(e),Te(!1))},open:ge,defaultOpenValue:O,onDateMouseEnter:ze,onDateMouseLeave:Ue}},y.createElement(nS,{visible:ge,popupElement:Ye,popupStyle:l,prefixCls:r,dropdownClassName:u,dropdownAlign:c,getPopupContainer:D,transitionName:f,popupPlacement:Xe,direction:X},y.createElement("div",{ref:ie,className:Mn()(r,s,(t={},(0,xe.Z)(t,"".concat(r,"-disabled"),A),(0,xe.Z)(t,"".concat(r,"-focused"),Re),(0,xe.Z)(t,"".concat(r,"-rtl"),"rtl"===X),t)),style:a,onMouseDown:U,onMouseUp:function(){G&&G.apply(void 0,arguments),J.current&&(J.current.focus(),Te(!0))},onMouseEnter:V,onMouseLeave:Z,onContextMenu:W,onClick:Y},y.createElement("div",{className:Mn()("".concat(r,"-input"),(0,xe.Z)({},"".concat(r,"-input-placeholder"),!!Be)),ref:re},qe,Ze,We))))}var uS=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=y.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Nn.Z)(n,[{key:"render",value:function(){return y.createElement(sS,Mt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(y.Component),cS=uS;function lS(e,t,n,r){var i=bE(e,n,r,1);function o(n){return n(e,t)?"same":n(i,t)?"closing":"far"}switch(n){case"year":return o((function(e,t){return function(e,t,n){var r=lE(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return o((function(e,t){return fE(r,e,t)}));default:return o((function(e,t){return pE(r,e,t)}))}}function fS(e){var t=e.values,n=e.picker,r=e.defaultDates,i=e.generateConfig,o=y.useState((function(){return[OE(r,0),OE(r,1)]})),a=(0,m.Z)(o,2),s=a[0],u=a[1],c=y.useState(null),l=(0,m.Z)(c,2),f=l[0],d=l[1],h=OE(t,0),p=OE(t,1);return[function(e){return s[e]?s[e]:OE(f,e)||function(e,t,n,r){var i=OE(e,0),o=OE(e,1);if(0===t)return i;if(i&&o)switch(lS(i,o,n,r)){case"same":case"closing":return i;default:return bE(o,n,r,-1)}return i}(t,e,n,i)||h||p||i.getNow()},function(e,n){if(e){var r=NE(f,e,n);u(NE(s,null,n)||[null,null]);var i=(n+1)%2;OE(t,i)||(r=NE(r,e,i)),d(r)}else(h||p)&&d(null)}]}function dS(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function hS(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function pS(e){var t,n,r,i=e.prefixCls,o=void 0===i?"rc-picker":i,a=e.id,s=e.style,u=e.className,c=e.popupStyle,l=e.dropdownClassName,f=e.transitionName,d=e.dropdownAlign,h=e.getPopupContainer,p=e.generateConfig,v=e.locale,g=e.placeholder,b=e.autoFocus,x=e.disabled,w=e.format,_=e.picker,E=void 0===_?"date":_,S=e.showTime,k=e.use12Hours,C=e.separator,M=void 0===C?"~":C,O=e.value,N=e.defaultValue,T=e.defaultPickerValue,A=e.open,P=e.defaultOpen,I=e.disabledDate,D=e.disabledTime,R=e.dateRender,L=e.panelRender,j=e.ranges,F=e.allowEmpty,B=e.allowClear,z=e.suffixIcon,U=e.clearIcon,G=e.pickerRef,V=e.inputReadOnly,Z=e.mode,W=e.renderExtraFooter,Y=e.onChange,H=e.onOpenChange,q=e.onPanelChange,X=e.onCalendarChange,K=e.onFocus,$=e.onBlur,Q=e.onMouseDown,J=e.onMouseUp,ee=e.onMouseEnter,te=e.onMouseLeave,ne=e.onClick,re=e.onOk,ie=e.onKeyDown,oe=e.components,ae=e.order,se=e.direction,ue=e.activePickerIndex,ce=e.autoComplete,le=void 0===ce?"off":ce,fe="date"===E&&!!S||"time"===E,de=(0,y.useRef)({}),he=(0,y.useRef)(null),pe=(0,y.useRef)(null),ve=(0,y.useRef)(null),ge=(0,y.useRef)(null),me=(0,y.useRef)(null),ye=(0,y.useRef)(null),be=(0,y.useRef)(null),we=(0,y.useRef)(null);var Ee=CE(tE(w,E,S,k)),Se=Vi(0,{value:ue}),ke=(0,m.Z)(Se,2),Ce=ke[0],Me=ke[1],Oe=(0,y.useRef)(null),Ne=y.useMemo((function(){return Array.isArray(x)?x:[x||!1,x||!1]}),[x]),Te=Vi(null,{value:O,defaultValue:N,postState:function(e){return"time"!==E||ae?dS(e,p):e}}),Ae=(0,m.Z)(Te,2),Pe=Ae[0],Ie=Ae[1],De=fS({values:Pe,picker:E,defaultDates:T,generateConfig:p}),Re=(0,m.Z)(De,2),Le=Re[0],je=Re[1],Fe=Vi(Pe,{postState:function(e){var t=e;if(Ne[0]&&Ne[1])return t;for(var n=0;n<2;n+=1)!Ne[n]||OE(t,n)||OE(F,n)||(t=NE(t,p.getNow(),n));return t}}),Be=(0,m.Z)(Fe,2),ze=Be[0],Ue=Be[1],Ge=Vi([E,E],{value:Z}),Ve=(0,m.Z)(Ge,2),Ze=Ve[0],We=Ve[1];(0,y.useEffect)((function(){We([E,E])}),[E]);var Ye=function(e,t){We(e),q&&q(t,e)},He=function(e,t,n){var r=e.picker,i=e.locale,o=e.selectedValue,a=e.disabledDate,s=e.disabled,u=e.generateConfig,c=OE(o,0),l=OE(o,1);function f(e){return u.locale.getWeekFirstDate(i.locale,e)}function d(e){return 100*u.getYear(e)+u.getMonth(e)}function h(e){return 10*u.getYear(e)+dE(u,e)}var p=y.useCallback((function(e){if(a&&a(e))return!0;if(s[1]&&l)return!vE(u,e,l)&&u.isAfter(e,l);if(t&&l)switch(r){case"quarter":return h(e)>h(l);case"month":return d(e)>d(l);case"week":return f(e)>f(l);default:return!vE(u,e,l)&&u.isAfter(e,l)}return!1}),[a,s[1],l,t]),v=y.useCallback((function(e){if(a&&a(e))return!0;if(s[0]&&c)return!vE(u,e,l)&&u.isAfter(c,e);if(n&&c)switch(r){case"quarter":return h(e)<h(c);case"month":return d(e)<d(c);case"week":return f(e)<f(c);default:return!vE(u,e,c)&&u.isAfter(c,e)}return!1}),[a,s[0],c,n]);return[p,v]}({picker:E,selectedValue:ze,locale:v,disabled:Ne,disabledDate:I,generateConfig:p},de.current[1],de.current[0]),qe=(0,m.Z)(He,2),Xe=qe[0],Ke=qe[1],$e=Vi(!1,{value:A,defaultValue:P,postState:function(e){return!Ne[Ce]&&e},onChange:function(e){H&&H(e),!e&&Oe.current&&Oe.current.onClose&&Oe.current.onClose()}}),Qe=(0,m.Z)($e,2),Je=Qe[0],et=Qe[1],tt=Je&&0===Ce,nt=Je&&1===Ce,rt=(0,y.useState)(0),it=(0,m.Z)(rt,2),ot=it[0],at=it[1];(0,y.useEffect)((function(){!Je&&he.current&&at(he.current.offsetWidth)}),[Je]);var st=y.useRef();function ut(e,t){if(e)clearTimeout(st.current),de.current[t]=!0,Me(t),et(e),Je||je(null,t);else if(Ce===t){et(e);var n=de.current;st.current=setTimeout((function(){n===de.current&&(de.current={})}))}}function ct(e){ut(!0,e),setTimeout((function(){var t=[ye,be][e];t.current&&t.current.focus()}),0)}function lt(e,t){var n=e,r=OE(n,0),i=OE(n,1);r&&i&&p.isAfter(r,i)&&("week"===E&&!gE(p,v.locale,r,i)||"quarter"===E&&!hE(p,r,i)||"week"!==E&&"quarter"!==E&&"time"!==E&&!vE(p,r,i)?(0===t?(n=[r,null],i=null):(r=null,n=[null,i]),de.current=(0,xe.Z)({},t,!0)):"time"===E&&!1===ae||(n=dS(n,p))),Ue(n);var o=n&&n[0]?xE(n[0],{generateConfig:p,locale:v,format:Ee[0]}):"",a=n&&n[1]?xE(n[1],{generateConfig:p,locale:v,format:Ee[0]}):"";X&&X(n,[o,a],{range:0===t?"start":"end"});var s=hS(r,0,Ne,F),u=hS(i,1,Ne,F);(null===n||s&&u)&&(Ie(n),!Y||mE(p,OE(Pe,0),r)&&mE(p,OE(Pe,1),i)||Y(n,[o,a]));var c=null;0!==t||Ne[1]?1!==t||Ne[0]||(c=0):c=1,null===c||c===Ce||de.current[c]&&OE(n,c)||!OE(n,t)?ut(!1,t):ct(c)}var ft=function(e){return Je&&Oe.current&&Oe.current.onKeyDown?Oe.current.onKeyDown(e):(Yr(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},dt={formatList:Ee,generateConfig:p,locale:v},ht=oS(OE(ze,0),dt),pt=(0,m.Z)(ht,2),vt=pt[0],gt=pt[1],mt=oS(OE(ze,1),dt),yt=(0,m.Z)(mt,2),bt=yt[0],xt=yt[1],wt=function(e,t){var n=wE(e,{locale:v,formatList:Ee,generateConfig:p});n&&!(0===t?Xe:Ke)(n)&&(Ue(NE(ze,n,t)),je(n,t))},_t=iS({valueTexts:vt,onTextChange:function(e){return wt(e,0)}}),Et=(0,m.Z)(_t,3),St=Et[0],kt=Et[1],Ct=Et[2],Ot=iS({valueTexts:bt,onTextChange:function(e){return wt(e,1)}}),Nt=(0,m.Z)(Ot,3),Tt=Nt[0],At=Nt[1],Pt=Nt[2],It=(0,y.useState)(null),Dt=(0,m.Z)(It,2),Rt=Dt[0],Lt=Dt[1],jt=(0,y.useState)(null),Ft=(0,m.Z)(jt,2),Bt=Ft[0],zt=Ft[1],Ut=aS(St,{formatList:Ee,generateConfig:p,locale:v}),Gt=(0,m.Z)(Ut,3),Vt=Gt[0],Zt=Gt[1],Wt=Gt[2],Yt=aS(Tt,{formatList:Ee,generateConfig:p,locale:v}),Ht=(0,m.Z)(Yt,3),qt=Ht[0],Xt=Ht[1],Kt=Ht[2],$t=function(e,t){return{blurToCancel:fe,forwardKeyDown:ft,onBlur:$,isClickOutside:function(e){return!aE([pe.current,ve.current,ge.current,he.current],e)},onFocus:function(t){Me(e),K&&K(t)},triggerOpen:function(t){ut(t,e)},onSubmit:function(){if(!ze||I&&I(ze[e]))return!1;lt(ze,e),t()},onCancel:function(){ut(!1,e),Ue(Pe),t()}}},Qt=rS(_e(_e({},$t(0,Ct)),{},{open:tt,value:St,onKeyDown:function(e,t){null===ie||void 0===ie||ie(e,t)}})),Jt=(0,m.Z)(Qt,2),en=Jt[0],tn=Jt[1],nn=tn.focused,rn=tn.typing,on=rS(_e(_e({},$t(1,Pt)),{},{open:nt,value:Tt,onKeyDown:function(e,t){null===ie||void 0===ie||ie(e,t)}})),an=(0,m.Z)(on,2),sn=an[0],un=an[1],cn=un.focused,ln=un.typing,fn=Pe&&Pe[0]?xE(Pe[0],{locale:v,format:"YYYYMMDDHHmmss",generateConfig:p}):"",dn=Pe&&Pe[1]?xE(Pe[1],{locale:v,format:"YYYYMMDDHHmmss",generateConfig:p}):"";(0,y.useEffect)((function(){Je||(Ue(Pe),vt.length&&""!==vt[0]?gt!==St&&Ct():kt(""),bt.length&&""!==bt[0]?xt!==Tt&&Pt():At(""))}),[Je,vt,bt]),(0,y.useEffect)((function(){Ue(Pe)}),[fn,dn]),G&&(G.current={focus:function(){ye.current&&ye.current.focus()},blur:function(){ye.current&&ye.current.blur(),be.current&&be.current.blur()}});var hn=Object.keys(j||{}).map((function(e){var t=j[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){lt(n,null),ut(!1,Ce)},onMouseEnter:function(){Lt(n)},onMouseLeave:function(){Lt(null)}}}));function pn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Je&&Bt&&Bt[0]&&Bt[1]&&p.isAfter(Bt[1],Bt[0])&&(r=Bt);var i=S;if(S&&"object"===(0,lr.Z)(S)&&S.defaultValue){var a=S.defaultValue;i=_e(_e({},S),{},{defaultValue:OE(a,Ce)||void 0})}var s=null;return R&&(s=function(e,t){return R(e,t,{range:Ce?"end":"start"})}),y.createElement(DE.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:Rt||ze,hoverRangedValue:r}},y.createElement(eS,Mt({},e,n,{dateRender:s,showTime:i,mode:Ze[Ce],generateConfig:p,style:void 0,direction:se,disabledDate:0===Ce?Xe:Ke,disabledTime:function(e){return!!D&&D(e,0===Ce?"start":"end")},className:Mn()((0,xe.Z)({},"".concat(o,"-panel-focused"),0===Ce?!rn:!ln)),value:OE(ze,Ce),locale:v,tabIndex:-1,onPanelChange:function(e,n){0===Ce&&Wt(!0),1===Ce&&Kt(!0),Ye(NE(Ze,n,Ce),NE(ze,e,Ce));var r=e;"right"===t&&Ze[Ce]===n&&(r=bE(r,n,p,-1)),je(r,Ce)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:OE(ze,0===Ce?1:0)})))}var vn=0,gn=0;Ce&&ve.current&&me.current&&pe.current&&(vn=ve.current.offsetWidth+me.current.offsetWidth,pe.current.offsetWidth&&we.current.offsetWidth&&vn>pe.current.offsetWidth-we.current.offsetWidth-("rtl"===se?0:we.current.offsetLeft)&&(gn=vn));var mn="rtl"===se?{right:vn}:{left:vn};var yn,bn,xn=y.createElement("div",{className:Mn()("".concat(o,"-range-wrapper"),"".concat(o,"-").concat(E,"-range-wrapper")),style:{minWidth:ot}},y.createElement("div",{ref:we,className:"".concat(o,"-range-arrow"),style:mn}),function(){var e,t=QE(o,Ze[Ce],W),n=JE({prefixCls:o,components:oe,needConfirmButton:fe,okDisabled:!OE(ze,Ce)||I&&I(ze[Ce]),locale:v,rangeList:hn,onOk:function(){OE(ze,Ce)&&(lt(ze,Ce),re&&re(ze))}});if("time"===E||S)e=pn();else{var r=Le(Ce),i=bE(r,E,p),a=Ze[Ce]===E,s=pn(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){je(e,Ce)}}),u=pn("right",{pickerValue:i,onPickerValueChange:function(e){je(bE(e,E,p,-1),Ce)}});e="rtl"===se?y.createElement(y.Fragment,null,u,a&&s):y.createElement(y.Fragment,null,s,a&&u)}var c=y.createElement(y.Fragment,null,y.createElement("div",{className:"".concat(o,"-panels")},e),(t||n)&&y.createElement("div",{className:"".concat(o,"-footer")},t,n));return L&&(c=L(c)),y.createElement("div",{className:"".concat(o,"-panel-container"),style:{marginLeft:gn},ref:pe,onMouseDown:function(e){e.preventDefault()}},c)}());z&&(yn=y.createElement("span",{className:"".concat(o,"-suffix")},z)),B&&(OE(Pe,0)&&!Ne[0]||OE(Pe,1)&&!Ne[1])&&(bn=y.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=Pe;Ne[0]||(t=NE(t,null,0)),Ne[1]||(t=NE(t,null,1)),lt(t,null),ut(!1,Ce)},className:"".concat(o,"-clear")},U||y.createElement("span",{className:"".concat(o,"-clear-btn")})));var wn={size:nE(E,Ee[0],p)},_n=0,En=0;ve.current&&ge.current&&me.current&&(0===Ce?En=ve.current.offsetWidth:(_n=vn,En=ge.current.offsetWidth));var Sn="rtl"===se?{right:_n}:{left:_n};return y.createElement(V_.Provider,{value:{operationRef:Oe,hideHeader:"time"===E,onDateMouseEnter:function(e){zt(NE(ze,e,Ce)),0===Ce?Zt(e):Xt(e)},onDateMouseLeave:function(){zt(NE(ze,null,Ce)),0===Ce?Wt():Kt()},hideRanges:!0,onSelect:function(e,t){var n=NE(ze,e,Ce);"submit"===t||"key"!==t&&!fe?(lt(n,Ce),0===Ce?Wt():Kt()):Ue(n)},open:Je}},y.createElement(nS,{visible:Je,popupElement:xn,popupStyle:c,prefixCls:o,dropdownClassName:l,dropdownAlign:d,getPopupContainer:h,transitionName:f,range:!0,direction:se},y.createElement("div",Mt({ref:he,className:Mn()(o,"".concat(o,"-range"),u,(t={},(0,xe.Z)(t,"".concat(o,"-disabled"),Ne[0]&&Ne[1]),(0,xe.Z)(t,"".concat(o,"-focused"),0===Ce?nn:cn),(0,xe.Z)(t,"".concat(o,"-rtl"),"rtl"===se),t)),style:s,onClick:function(e){ne&&ne(e),Je||ye.current.contains(e.target)||be.current.contains(e.target)||(Ne[0]?Ne[1]||ct(1):ct(0))},onMouseEnter:ee,onMouseLeave:te,onMouseDown:function(e){Q&&Q(e),!Je||!nn&&!cn||ye.current.contains(e.target)||be.current.contains(e.target)||e.preventDefault()},onMouseUp:J},ME(e)),y.createElement("div",{className:Mn()("".concat(o,"-input"),(n={},(0,xe.Z)(n,"".concat(o,"-input-active"),0===Ce),(0,xe.Z)(n,"".concat(o,"-input-placeholder"),!!Vt),n)),ref:ve},y.createElement("input",Mt({id:a,disabled:Ne[0],readOnly:V||"function"===typeof Ee[0]||!rn,value:Vt||St,onChange:function(e){kt(e.target.value)},autoFocus:b,placeholder:OE(g,0)||"",ref:ye},en,wn,{autoComplete:le}))),y.createElement("div",{className:"".concat(o,"-range-separator"),ref:me},M),y.createElement("div",{className:Mn()("".concat(o,"-input"),(r={},(0,xe.Z)(r,"".concat(o,"-input-active"),1===Ce),(0,xe.Z)(r,"".concat(o,"-input-placeholder"),!!qt),r)),ref:ge},y.createElement("input",Mt({disabled:Ne[1],readOnly:V||"function"===typeof Ee[0]||!ln,value:qt||Tt,onChange:function(e){At(e.target.value)},placeholder:OE(g,1)||"",ref:be},sn,wn,{autoComplete:le}))),y.createElement("div",{className:"".concat(o,"-active-bar"),style:_e(_e({},Sn),{},{width:En,position:"absolute"})}),yn,bn)))}var vS=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=y.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Nn.Z)(n,[{key:"render",value:function(){return y.createElement(pS,Mt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(y.Component),gS=vS,mS=cS;function yS(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function bS(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function xS(e,t){var n={adjustX:1,adjustY:1};switch(t){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return"rtl"===e?{points:["tr","br"],offset:[0,4],overflow:n}:{points:["tl","bl"],offset:[0,4],overflow:n}}}var wS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var _S={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},ES=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:_S}))};ES.displayName="SwapRightOutlined";var SS=y.forwardRef(ES),kS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var CS={button:function(e){return y.createElement(ld,Mt({size:"small",type:"primary"},e))},rangeItem:function(e){return y.createElement(Lp,Mt({color:"blue"},e))}};function MS(e){var t,n=e.format,r=e.picker,i=e.showHour,o=e.showMinute,a=e.showSecond,s=e.use12Hours,u=(t=n,t?Array.isArray(t)?t:[t]:[])[0],c=Mt({},e);return u&&"string"===typeof u&&(u.includes("s")||void 0!==a||(c.showSecond=!1),u.includes("m")||void 0!==o||(c.showMinute=!1),u.includes("H")||u.includes("h")||void 0!==i||(c.showHour=!1),(u.includes("a")||u.includes("A"))&&void 0===s&&(c.use12Hours=!0)),"time"===r?c:("function"===typeof u&&delete c.format,{showTime:c})}Nu("bottomLeft","bottomRight","topLeft","topRight");var OS=function(e){var t=function(e){function t(t,n){var r=function(r){(0,Tn.Z)(o,r);var i=(0,An.Z)(o);function o(r){var a;return(0,On.Z)(this,o),(a=i.call(this,r)).pickerRef=y.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.renderFeedback=function(e){return y.createElement(Ll.Consumer,null,(function(t){var n=t.hasFeedback,r=t.status,i=a.props.status,o=Jl(r,i);return n&&$l(e,o)}))},a.renderSuffix=function(e,t){return y.createElement(y.Fragment,null,"time"===t?y.createElement(G_,null):y.createElement(B_,null),a.renderFeedback(e))},a.renderPicker=function(n){var r=Mt(Mt({},n),a.props.locale),i=a.context,o=i.getPrefixCls,s=i.direction,u=i.getPopupContainer,c=a.props,l=c.prefixCls,f=c.getPopupContainer,d=c.className,h=c.size,p=c.bordered,v=void 0===p||p,g=c.placement,m=c.placeholder,b=c.status,x=wS(c,["prefixCls","getPopupContainer","className","size","bordered","placement","placeholder","status"]),w=a.props,_=w.format,E=w.showTime,S=o("picker",l),k={showToday:!0},C={};t&&(C.picker=t);var M=t||a.props.picker;C=Mt(Mt(Mt({},C),E?MS(Mt({format:_,picker:M},E)):{}),"time"===M?MS(Mt(Mt({format:_},a.props),{picker:M})):{});var O=o();return y.createElement(sc.Consumer,null,(function(t){var n=h||t;return y.createElement(Ll.Consumer,null,(function(t){var i,o=t.hasFeedback,c=t.status;return y.createElement(mS,Mt({ref:a.pickerRef,placeholder:yS(M,r,m),suffixIcon:a.renderSuffix(S,M),dropdownAlign:xS(s,g),clearIcon:y.createElement(Yl,null),prevIcon:y.createElement("span",{className:"".concat(S,"-prev-icon")}),nextIcon:y.createElement("span",{className:"".concat(S,"-next-icon")}),superPrevIcon:y.createElement("span",{className:"".concat(S,"-super-prev-icon")}),superNextIcon:y.createElement("span",{className:"".concat(S,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(O,"-slide-up")},k,x,C,{locale:r.lang,className:Mn()((i={},(0,xe.Z)(i,"".concat(S,"-").concat(n),n),(0,xe.Z)(i,"".concat(S,"-borderless"),!v),i),Ql(S,Jl(c,b),o),d),prefixCls:S,getPopupContainer:f||u,generateConfig:e,components:CS,direction:s}))}))}))},ji("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return(0,Nn.Z)(o,[{key:"render",value:function(){return y.createElement(Bn,{componentName:"DatePicker",defaultLocale:Dn},this.renderPicker)}}]),o}(y.Component);return r.contextType=Xn,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,i=t.MonthPicker,o=t.YearPicker,a=t.TimePicker,s=t.QuarterPicker,u=function(e){var t=function(t){(0,Tn.Z)(r,t);var n=(0,An.Z)(r);function r(){var t;return(0,On.Z)(this,r),(t=n.apply(this,arguments)).pickerRef=y.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.renderPicker=function(n){var r=Mt(Mt({},n),t.props.locale),i=t.context,o=i.getPrefixCls,a=i.direction,s=i.getPopupContainer,u=t.props,c=u.prefixCls,l=u.getPopupContainer,f=u.className,d=u.placement,h=u.size,p=u.bordered,v=void 0===p||p,g=u.placeholder,m=kS(u,["prefixCls","getPopupContainer","className","placement","size","bordered","placeholder"]),b=t.props,x=b.format,w=b.showTime,_=b.picker,E=o("picker",c),S={};S=Mt(Mt(Mt({},S),w?MS(Mt({format:x,picker:_},w)):{}),"time"===_?MS(Mt(Mt({format:x},t.props),{picker:_})):{});var k=o();return y.createElement(sc.Consumer,null,(function(n){var i,o=h||n;return y.createElement(gS,Mt({separator:y.createElement("span",{"aria-label":"to",className:"".concat(E,"-separator")},y.createElement(SS,null)),ref:t.pickerRef,dropdownAlign:xS(a,d),placeholder:bS(_,r,g),suffixIcon:"time"===_?y.createElement(G_,null):y.createElement(B_,null),clearIcon:y.createElement(Yl,null),prevIcon:y.createElement("span",{className:"".concat(E,"-prev-icon")}),nextIcon:y.createElement("span",{className:"".concat(E,"-next-icon")}),superPrevIcon:y.createElement("span",{className:"".concat(E,"-super-prev-icon")}),superNextIcon:y.createElement("span",{className:"".concat(E,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(k,"-slide-up")},m,S,{className:Mn()((i={},(0,xe.Z)(i,"".concat(E,"-").concat(o),o),(0,xe.Z)(i,"".concat(E,"-borderless"),!v),i),f),locale:r.lang,prefixCls:E,getPopupContainer:l||s,generateConfig:e,components:CS,direction:a}))}))},t}return(0,Nn.Z)(r,[{key:"render",value:function(){return y.createElement(Bn,{componentName:"DatePicker",defaultLocale:Dn},this.renderPicker)}}]),r}(y.Component);return t.contextType=Xn,t}(e),c=n;return c.WeekPicker=r,c.MonthPicker=i,c.YearPicker=o,c.RangePicker=u,c.TimePicker=a,c.QuarterPicker=s,c},NS=OS(L_);function TS(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function AS(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function PS(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return AS(n.overflowY,t)||AS(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function IS(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function DS(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!TS(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;TS(f)&&u(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&PS(f)&&!PS(document.documentElement)||null!=f&&PS(f,s)&&l.push(f)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),m=g.height,y=g.width,b=g.top,x=g.right,w=g.bottom,_=g.left,E="start"===i||"nearest"===i?b:"end"===i?w:b+m/2,S="center"===o?_+y/2:"end"===o?x:_,k=[],C=0;C<l.length;C++){var M=l[C],O=M.getBoundingClientRect(),N=O.height,T=O.width,A=O.top,P=O.right,I=O.bottom,D=O.left;if("if-needed"===r&&b>=0&&_>=0&&w<=h&&x<=d&&b>=A&&w<=I&&_>=D&&x<=P)return k;var R=getComputedStyle(M),L=parseInt(R.borderLeftWidth,10),j=parseInt(R.borderTopWidth,10),F=parseInt(R.borderRightWidth,10),B=parseInt(R.borderBottomWidth,10),z=0,U=0,G="offsetWidth"in M?M.offsetWidth-M.clientWidth-L-F:0,V="offsetHeight"in M?M.offsetHeight-M.clientHeight-j-B:0;if(c===M)z="start"===i?E:"end"===i?E-h:"nearest"===i?IS(v,v+h,h,j,B,v+E,v+E+m,m):E-h/2,U="start"===o?S:"center"===o?S-d/2:"end"===o?S-d:IS(p,p+d,d,L,F,p+S,p+S+y,y),z=Math.max(0,z+v),U=Math.max(0,U+p);else{z="start"===i?E-A-j:"end"===i?E-I+B+V:"nearest"===i?IS(A,I,N,j,B+V,E,E+m,m):E-(A+N/2)+V/2,U="start"===o?S-D-L:"center"===o?S-(D+T/2)+G/2:"end"===o?S-P+F+G:IS(D,P,T,L,F+G,S,S+y,y);var Z=M.scrollLeft,W=M.scrollTop;E+=W-(z=Math.max(0,Math.min(W+z,M.scrollHeight-N+V))),S+=Z-(U=Math.max(0,Math.min(Z+U,M.scrollWidth-T+G)))}k.push({el:M,top:z,left:U})}return k}function RS(e){return e===Object(e)&&0!==Object.keys(e).length}var LS=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(RS(t)&&"function"===typeof t.behavior)return t.behavior(n?DS(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:RS(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(DS(e,r),r.behavior)}},jS=["parentNode"];function FS(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function BS(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):jS.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function zS(e){return FS(e).join("_")}function US(e){var t=kl(),n=(0,m.Z)(t,1)[0],r=y.useRef({}),i=y.useMemo((function(){return null!==e&&void 0!==e?e:Mt(Mt({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=zS(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=FS(e),r=BS(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&LS(o,Mt({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=zS(e);return r.current[t]}})}),[e,n]);return[i]}var GS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VS=function(e,t){var n,r=y.useContext(sc),i=y.useContext(Xn),o=i.getPrefixCls,a=i.direction,s=i.form,u=e.prefixCls,c=e.className,l=void 0===c?"":c,f=e.size,d=void 0===f?r:f,h=e.form,p=e.colon,v=e.labelAlign,g=e.labelWrap,b=e.labelCol,x=e.wrapperCol,w=e.hideRequiredMark,_=e.layout,E=void 0===_?"horizontal":_,S=e.scrollToFirstError,k=e.requiredMark,C=e.onFinishFailed,M=e.name,O=GS(e,["prefixCls","className","size","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),N=(0,y.useMemo)((function(){return void 0!==k?k:s&&void 0!==s.requiredMark?s.requiredMark:!w}),[w,k,s]),T=null!==p&&void 0!==p?p:null===s||void 0===s?void 0:s.colon,A=o("form",u),P=Mn()(A,(n={},(0,xe.Z)(n,"".concat(A,"-").concat(E),!0),(0,xe.Z)(n,"".concat(A,"-hide-required-mark"),!1===N),(0,xe.Z)(n,"".concat(A,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(A,"-").concat(d),d),n),l),I=US(h),D=(0,m.Z)(I,1)[0],R=D.__INTERNAL__;R.name=M;var L=(0,y.useMemo)((function(){return{name:M,labelAlign:v,labelCol:b,labelWrap:g,wrapperCol:x,vertical:"vertical"===E,colon:T,requiredMark:N,itemRef:R.itemRef}}),[M,v,b,x,E,T,N]);y.useImperativeHandle(t,(function(){return D}));return y.createElement(ac,{size:d},y.createElement(Il.Provider,{value:L},y.createElement(Pl,Mt({id:M},O,{name:M,onFinishFailed:function(e){null===C||void 0===C||C(e);var t={block:"nearest"};S&&e.errorFields.length&&("object"===(0,lr.Z)(S)&&(t=S),D.scrollToField(e.errorFields[0].name,t))},form:D,className:P}))))},ZS=y.forwardRef(VS),WS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},YS=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:WS}))};YS.displayName="QuestionCircleOutlined";var HS=y.forwardRef(YS),qS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var XS=function(e){var t=e.prefixCls,n=e.label,r=e.htmlFor,i=e.labelCol,o=e.labelAlign,a=e.colon,s=e.required,u=e.requiredMark,c=e.tooltip,l=zn("Form"),f=(0,m.Z)(l,1)[0];return n?y.createElement(Il.Consumer,{key:"label"},(function(e){var l,d,h=e.vertical,p=e.labelAlign,v=e.labelCol,g=e.labelWrap,m=e.colon,b=i||v||{},x=o||p,w="".concat(t,"-item-label"),_=Mn()(w,"left"===x&&"".concat(w,"-left"),b.className,(0,xe.Z)({},"".concat(w,"-wrap"),!!g)),E=n,S=!0===a||!1!==m&&!1!==a;S&&!h&&"string"===typeof n&&""!==n.trim()&&(E=n.replace(/[:|\uff1a]\s*$/,""));var k=function(e){return e?"object"!==(0,lr.Z)(e)||y.isValidElement(e)?{title:e}:e:null}(c);if(k){var C=k.icon,M=void 0===C?y.createElement(HS,null):C,O=qS(k,["icon"]),N=y.createElement(Vu,O,y.cloneElement(M,{className:"".concat(t,"-item-tooltip"),title:""}));E=y.createElement(y.Fragment,null,E,N)}"optional"!==u||s||(E=y.createElement(y.Fragment,null,E,y.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===f||void 0===f?void 0:f.optional)||(null===(d=Ln.Form)||void 0===d?void 0:d.optional))));var T=Mn()((l={},(0,xe.Z)(l,"".concat(t,"-item-required"),s),(0,xe.Z)(l,"".concat(t,"-item-required-mark-optional"),"optional"===u),(0,xe.Z)(l,"".concat(t,"-item-no-colon"),!S),l));return y.createElement(Ep,Mt({},b,{className:_}),y.createElement("label",{htmlFor:r,className:T,title:"string"===typeof n?n:""},E))})):null},KS=[];function $S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function QS(e){var t=e.help,n=e.helpStatus,r=e.errors,i=void 0===r?KS:r,o=e.warnings,a=void 0===o?KS:o,s=e.className,u=y.useContext(Rl).prefixCls,c=y.useContext(Xn).getPrefixCls,l="".concat(u,"-item-explain"),f=c(),d=y.useMemo((function(){return void 0!==t&&null!==t?[$S(t,n,"help")]:[].concat((0,kn.Z)(i.map((function(e,t){return $S(e,"error","error",t)}))),(0,kn.Z)(a.map((function(e,t){return $S(e,"warning","warning",t)}))))}),[t,n,i,a]);return y.createElement(Ua,Mt({},Fu,{motionName:"".concat(f,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!d.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var t=e.className,n=e.style;return y.createElement("div",{className:Mn()(l,t,s),style:n},y.createElement(za,Mt({keys:d},Fu,{motionName:"".concat(f,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,r=e.errorStatus,i=e.className,o=e.style;return y.createElement("div",{key:t,role:"alert",className:Mn()(i,(0,xe.Z)({},"".concat(l,"-").concat(r),r)),style:o},n)})))}))}var JS=function(e){var t=e.prefixCls,n=e.status,r=e.wrapperCol,i=e.children,o=e.errors,a=e.warnings,s=e._internalItemRender,u=e.extra,c=e.help,l="".concat(t,"-item"),f=y.useContext(Il),d=r||f.wrapperCol||{},h=Mn()("".concat(l,"-control"),d.className),p=y.useMemo((function(){return Mt({},f)}),[f]);delete p.labelCol,delete p.wrapperCol;var v=y.createElement("div",{className:"".concat(l,"-control-input")},y.createElement("div",{className:"".concat(l,"-control-input-content")},i)),g=y.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),m=y.createElement(Rl.Provider,{value:g},y.createElement(QS,{errors:o,warnings:a,help:c,helpStatus:n,className:"".concat(l,"-explain-connected")})),b=u?y.createElement("div",{className:"".concat(l,"-extra")},u):null,x=s&&"pro_table_render"===s.mark&&s.render?s.render(e,{input:v,errorList:m,extra:b}):y.createElement(y.Fragment,null,v,m,b);return y.createElement(Il.Provider,{value:p},y.createElement(Ep,Mt({},d,{className:h}),x))};function ek(e){var t=y.useState(e),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var tk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nk=(Nu("success","warning","error","validating",""),y.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var rk=function(e){var t=e.name,n=e.noStyle,r=e.dependencies,i=e.prefixCls,o=e.style,a=e.className,s=e.shouldUpdate,u=e.hasFeedback,c=e.help,l=e.rules,f=e.validateStatus,d=e.children,h=e.required,p=e.label,v=e.messageVariables,g=e.trigger,b=void 0===g?"onChange":g,x=e.validateTrigger,w=e.hidden,_=tk(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),E=(0,y.useContext)(Xn).getPrefixCls,S=(0,y.useContext)(Il),k=S.name,C=S.requiredMark,M="function"===typeof d,O=(0,y.useContext)(Dl),N=(0,y.useContext)(lc).validateTrigger,T=void 0!==x?x:N,A=function(e){return null===e&&ji(!1,"Form.Item","`null` is passed as `name` property"),!(void 0===e||null===e)}(t),P=E("form",i),I=y.useContext(ml),D=y.useRef(),R=function(e){var t=y.useState(e),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=(0,y.useRef)(null),a=(0,y.useRef)([]),s=(0,y.useRef)(!1);return y.useEffect((function(){return function(){s.current=!0,qo.cancel(o.current)}}),[]),[r,function(e){s.current||(null===o.current&&(a.current=[],o.current=qo((function(){o.current=null,i((function(e){var t=e;return a.current.forEach((function(e){t=e(t)})),t}))}))),a.current.push(e))}]}({}),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=Gi((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),z=(0,m.Z)(B,2),U=z[0],G=z[1],V=function(e,t){F((function(n){var r=Mt({},n),i=[].concat((0,kn.Z)(e.name.slice(0,-1)),(0,kn.Z)(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},Z=y.useMemo((function(){var e=(0,kn.Z)(U.errors),t=(0,kn.Z)(U.warnings);return Object.values(j).forEach((function(n){e.push.apply(e,(0,kn.Z)(n.errors||[])),t.push.apply(t,(0,kn.Z)(n.warnings||[]))})),[e,t]}),[j,U.errors,U.warnings]),W=(0,m.Z)(Z,2),Y=W[0],H=W[1],q=ek(Y),X=ek(H),K=function(){var e=y.useContext(Il).itemRef,t=y.useRef({});return function(n,r){var i=r&&"object"===(0,lr.Z)(r)&&r.ref,o=n.join("_");return t.current.name===o&&t.current.originRef===i||(t.current.name=o,t.current.originRef=i,t.current.ref=Ri(e(n),i)),t.current.ref}}(),$="";void 0!==f?$=f:(null===U||void 0===U?void 0:U.validating)?$="validating":q.length?$="error":X.length?$="warning":(null===U||void 0===U?void 0:U.touched)&&($="success");var Q=(0,y.useMemo)((function(){return{status:$,hasFeedback:u}}),[$,u]);function J(t,r,i){var s;if(n&&!w)return t;var l=(s={},(0,xe.Z)(s,"".concat(P,"-item"),!0),(0,xe.Z)(s,"".concat(P,"-item-with-help"),void 0!==c&&null!==c||q.length||X.length),(0,xe.Z)(s,"".concat(a),!!a),(0,xe.Z)(s,"".concat(P,"-item-has-feedback"),$&&u),(0,xe.Z)(s,"".concat(P,"-item-has-success"),"success"===$),(0,xe.Z)(s,"".concat(P,"-item-has-warning"),"warning"===$),(0,xe.Z)(s,"".concat(P,"-item-has-error"),"error"===$),(0,xe.Z)(s,"".concat(P,"-item-is-validating"),"validating"===$),(0,xe.Z)(s,"".concat(P,"-item-hidden"),w),s);return y.createElement(qp,Mt({className:Mn()(l),style:o,key:"row"},ar(_,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),y.createElement(XS,Mt({htmlFor:r,required:i,requiredMark:C},e,{prefixCls:P})),y.createElement(JS,Mt({},e,U,{errors:q,warnings:X,prefixCls:P,status:$,help:c}),y.createElement(Dl.Provider,{value:V},y.createElement(Ll.Provider,{value:Q},t))))}if(!A&&!M&&!r)return J(d);var ee={};return"string"===typeof p?ee.label=p:t&&(ee.label=String(t)),v&&(ee=Mt(Mt({},ee),v)),y.createElement(gl,Mt({},e,{messageVariables:ee,trigger:b,validateTrigger:T,onMetaChange:function(e){var t=null===I||void 0===I?void 0:I.getKey(e.name);if(G(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),n&&O){var r=e.name;if(e.destroy)r=D.current||r;else if(void 0!==t){var i=(0,m.Z)(t,2),o=i[0],a=i[1];r=[o].concat((0,kn.Z)(a)),D.current=r}O(e,r)}}}),(function(n,i,o){var a=FS(t).length&&i?i.name:[],u=BS(a,k),c=void 0!==h?h:!(!l||!l.some((function(e){if(e&&"object"===(0,lr.Z)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),f=Mt({},n),p=null;if(ji(!(s&&r),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(d)&&A)ji(!1,"Form.Item","`children` is array of render props cannot have `name`."),p=d;else if(M&&(!s&&!r||A))ji(!(!s&&!r),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),ji(!A,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(!r||M||A)if(Mu(d)){ji(void 0===d.props.defaultValue,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var v=Mt(Mt({},d.props),f);v.id||(v.id=u),Li(d)&&(v.ref=K(a,d)),new Set([].concat((0,kn.Z)(FS(b)),(0,kn.Z)(FS(T)))).forEach((function(e){v[e]=function(){for(var t,n,r,i,o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(s)),null===(o=(i=d.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(s))}})),p=y.createElement(nk,{value:f[e.valuePropName||"value"],update:d},Ou(d,v))}else M&&(s||r)&&!A?p=d(o):(ji(!a.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),p=d);else ji(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");return J(p,u,c)}))},ik=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ok=function(e){var t=e.prefixCls,n=e.children,r=ik(e,["prefixCls","children"]);ji(!!r.name,"Form.List","Miss `name` prop.");var i=(0,y.useContext(Xn).getPrefixCls)("form",t),o=y.useMemo((function(){return{prefixCls:i,status:"error"}}),[i]);return y.createElement(yl,r,(function(e,t,r){return y.createElement(Rl.Provider,{value:o},n(e.map((function(e){return Mt(Mt({},e),{fieldKey:e.key})})),t,{errors:r.errors,warnings:r.warnings}))}))},ak=ZS;ak.Item=rk,ak.List=ok,ak.ErrorList=QS,ak.useForm=US,ak.Provider=function(e){var t=ar(e,["prefixCls"]);return y.createElement(Ml,t)},ak.create=function(){ji(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var sk=ak,uk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},ck=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:uk}))};ck.displayName="InfoCircleOutlined";var lk=y.forwardRef(ck),fk=n(80184),dk=Ay.Option;function hk(e){var t=e.label,n=e.closable,r=e.onClose,i=e.value,o=ut(i.split("+")[0]);return(0,fk.jsx)(Lp,{color:o,closable:n,onClose:r,style:{marginRight:3},children:t})}var pk=function(e){var t=e.placeholder,n=e.enumerator,r=e.handleChange,i=e.value,o=e.span,a=e.single,s=function(e,t){return e.map((function(e){return{label:e,value:"".concat(t,"+").concat(e),key:e}}))}(i,t);return(0,fk.jsx)(Sp,{span:null!==o&&void 0!==o?o:24,children:(0,fk.jsx)(Ay,{mode:a?void 0:"multiple",style:{width:"100%"},placeholder:t,value:s,onChange:r,labelInValue:!0,tagRender:hk,allowClear:!0,children:Object.values(n).map((function(e){return(0,fk.jsx)(dk,{value:"".concat(t,"+").concat(e),children:e},e)}))})})},vk=NS.RangePicker,gk=$w.Search;var mk=function(){var e=N_((function(e){return e.filters})),t=O_();return(0,fk.jsxs)(Xp,{gutter:[4,4],justify:"center",style:{marginBottom:12},children:[(0,fk.jsx)(Sp,{span:8,children:(0,fk.jsx)(sk.Item,{label:"State of Filter",tooltip:{title:"AND selects papers with all of the selected types, OR selects papers with any of the selected types",icon:(0,fk.jsx)(lk,{})},children:(0,fk.jsxs)(ax.Group,{buttonStyle:"solid",defaultValue:e.filterStateAND?"AND":"OR",onChange:function(e){t(_t.changeState("AND"===e.target.value))},children:[(0,fk.jsx)(ax.Button,{value:"AND",children:"AND"}),(0,fk.jsx)(ax.Button,{value:"OR",children:"OR"})]})})}),(0,fk.jsx)(Sp,{span:8,children:(0,fk.jsx)(ld,{onClick:function(){t(_t.reset())},children:"Reset Filters"})}),(0,fk.jsx)(Sp,{span:4,children:(0,fk.jsx)(Tb,{onChange:function(e){t(_t.setShowOriginal(e.target.checked))},checked:e.showOriginal,children:"Show Original Papers from Survey"})}),(0,fk.jsx)(Sp,{span:4,children:(0,fk.jsx)(Tb,{onChange:function(e){t(_t.setShowNew(e.target.checked))},checked:e.showNew,children:"Show New Papers from Community"})}),(0,fk.jsx)(pk,{placeholder:"Type of Task",enumerator:$e,handleChange:function(e){t(_t.setData(ct(e)))},value:e.task,span:8}),(0,fk.jsx)(pk,{placeholder:"Type",enumerator:Qe,handleChange:function(e){t(_t.setProblem(ct(e)))},value:e.type,span:8}),(0,fk.jsx)(pk,{placeholder:"Type of Output",enumerator:Je,handleChange:function(e){t(_t.setModel(ct(e)))},value:e.output,span:8}),(0,fk.jsx)(pk,{placeholder:"Venue",enumerator:et,handleChange:function(e){t(_t.setVenue(ct(e)))},value:e.venue,span:8}),(0,fk.jsx)(Sp,{span:8,children:(0,fk.jsx)(vk,{picker:"year",onChange:function(e){var n,r,i=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.year(),o=null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.year();t(_t.setStartYear(i)),t(_t.setEndYear(o))},allowEmpty:[!0,!0],value:[e.startYear?D_()([e.startYear]):null,e.endYear?D_()([e.endYear]):null],defaultPickerValue:[D_()([2010]),D_()([2010])],style:{width:"100%"}})}),(0,fk.jsx)(Sp,{span:8,children:(0,fk.jsx)(gk,{placeholder:"Search titles, venues, authors and so on",onChange:function(e){t(_t.setSearch(e.currentTarget.value))},value:e.search,suffix:(0,fk.jsx)(Vu,{title:"Prefix with 'title:', 'venue:', 'author:' or 'abstract:' to only search in the respective field",children:(0,fk.jsx)(lk,{})})})})]})};var yk=function(e){var t=e.TagData,n=e.Color,r=t.map((function(e,t){return(0,fk.jsx)(Lp,{color:n,children:e},t)}));return(0,fk.jsx)(fk.Fragment,{children:r})},bk=n(52007),xk=n.n(bk),wk=n(61120);function _k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,wk.Z)(e)););return e}function Ek(){return Ek="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_k(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ek.apply(this,arguments)}var Sk=n(89611);var kk=n(78814);function Ck(e,t,n){return Ck=(0,kk.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,Sk.Z)(i,n.prototype),i},Ck.apply(null,arguments)}function Mk(e){var t="function"===typeof Map?new Map:void 0;return Mk=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ck(e,arguments,(0,wk.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,Sk.Z)(n,e)},Mk(e)}var Ok=Vk(),Nk=function(e){return Bk(e,Ok)},Tk=Vk();Nk.write=function(e){return Bk(e,Tk)};var Ak=Vk();Nk.onStart=function(e){return Bk(e,Ak)};var Pk=Vk();Nk.onFrame=function(e){return Bk(e,Pk)};var Ik=Vk();Nk.onFinish=function(e){return Bk(e,Ik)};var Dk=[];Nk.setTimeout=function(e,t){var n=Nk.now()+t,r={time:n,handler:e,cancel:function e(){var t=Dk.findIndex((function(t){return t.cancel==e}));~t&&Dk.splice(t,1),Wk.count-=~t?1:0}};return Dk.splice(Rk(n),0,r),Wk.count+=1,zk(),r};var Rk=function(e){return~(~Dk.findIndex((function(t){return t.time>e}))||~Dk.length)};Nk.cancel=function(e){Ok.delete(e),Tk.delete(e)},Nk.sync=function(e){Fk=!0,Nk.batchedUpdates(e),Fk=!1},Nk.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,kn.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,Nk.onStart(n)}return r.handler=e,r.cancel=function(){Ak.delete(n),t=null},r};var Lk="undefined"!=typeof window?window.requestAnimationFrame:function(){};Nk.use=function(e){return Lk=e},Nk.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,Nk.batchedUpdates=function(e){return e()},Nk.catch=console.error,Nk.frameLoop="always",Nk.advance=function(){"demand"!==Nk.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Gk()};var jk=-1,Fk=!1;function Bk(e,t){Fk?(t.delete(e),e(0)):(t.add(e),zk())}function zk(){jk<0&&(jk=0,"demand"!==Nk.frameLoop&&Lk(Uk))}function Uk(){~jk&&(Lk(Uk),Nk.batchedUpdates(Gk))}function Gk(){var e=jk;jk=Nk.now();var t=Rk(jk);t&&(Zk(Dk.splice(0,t),(function(e){return e.handler()})),Wk.count-=t),Ak.flush(),Ok.flush(e?Math.min(64,jk-e):16.667),Pk.flush(),Tk.flush(),Ik.flush()}function Vk(){var e=new Set,t=e;return{add:function(n){Wk.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return Wk.count-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,Wk.count-=t.size,Zk(t,(function(t){return t(n)&&e.add(t)})),Wk.count+=e.size,t=e)}}}function Zk(e,t){e.forEach((function(e){try{t(e)}catch(n){Nk.catch(n)}}))}var Wk={count:0,clear:function(){jk=-1,Dk=[],Ak=Vk(),Ok=Vk(),Pk=Vk(),Tk=Vk(),Ik=Vk(),Wk.count=0}};function Yk(){}var Hk={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function qk(e,t){if(Hk.arr(e)){if(!Hk.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Xk=function(e,t){return e.forEach(t)};function Kk(e,t,n){if(Hk.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var $k=function(e){return Hk.und(e)?[]:Hk.arr(e)?e:[e]};function Qk(e,t){if(e.size){var n=Array.from(e);e.clear(),Xk(n,t)}}var Jk,eC,tC=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qk(e,(function(e){return e.apply(void 0,n)}))},nC=null,rC=!1,iC=Yk,oC=Object.freeze({__proto__:null,get createStringInterpolator(){return Jk},get to(){return eC},get colors(){return nC},get skipAnimation(){return rC},get willAdvance(){return iC},assign:function(e){e.to&&(eC=e.to),e.now&&(Nk.now=e.now),void 0!==e.colors&&(nC=e.colors),null!=e.skipAnimation&&(rC=e.skipAnimation),e.createStringInterpolator&&(Jk=e.createStringInterpolator),e.requestAnimationFrame&&Nk.use(e.requestAnimationFrame),e.batchedUpdates&&(Nk.batchedUpdates=e.batchedUpdates),e.willAdvance&&(iC=e.willAdvance),e.frameLoop&&(Nk.frameLoop=e.frameLoop)}}),aC=new Set,sC=[],uC=[],cC=0,lC={get idle(){return!aC.size&&!sC.length},start:function(e){cC>e.priority?(aC.add(e),Nk.onStart(fC)):(dC(e),Nk(pC))},advance:pC,sort:function(e){if(cC)Nk.onFrame((function(){return lC.sort(e)}));else{var t=sC.indexOf(e);~t&&(sC.splice(t,1),hC(e))}},clear:function(){sC=[],aC.clear()}};function fC(){aC.forEach(dC),aC.clear(),Nk(pC)}function dC(e){sC.includes(e)||hC(e)}function hC(e){sC.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(sC,(function(t){return t.priority>e.priority})),0,e)}function pC(e){for(var t=uC,n=0;n<sC.length;n++){var r=sC[n];cC=r.priority,r.idle||(iC(r),r.advance(e),r.idle||t.push(r))}return cC=0,(uC=sC).length=0,(sC=t).length>0}var vC="[-+]?\\d*\\.?\\d+",gC=vC+"%";function mC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var yC=new RegExp("rgb"+mC(vC,vC,vC)),bC=new RegExp("rgba"+mC(vC,vC,vC,vC)),xC=new RegExp("hsl"+mC(vC,gC,gC)),wC=new RegExp("hsla"+mC(vC,gC,gC,vC)),_C=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,EC=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SC=/^#([0-9a-fA-F]{6})$/,kC=/^#([0-9a-fA-F]{8})$/;function CC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MC(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=CC(i,r,e+1/3),a=CC(i,r,e),s=CC(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function OC(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function NC(e){return(parseFloat(e)%360+360)%360/360}function TC(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function AC(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function PC(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=SC.exec(e))?parseInt(t[1]+"ff",16)>>>0:nC&&void 0!==nC[e]?nC[e]:(t=yC.exec(e))?(OC(t[1])<<24|OC(t[2])<<16|OC(t[3])<<8|255)>>>0:(t=bC.exec(e))?(OC(t[1])<<24|OC(t[2])<<16|OC(t[3])<<8|TC(t[4]))>>>0:(t=_C.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=kC.exec(e))?parseInt(t[1],16)>>>0:(t=EC.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=xC.exec(e))?(255|MC(NC(t[1]),AC(t[2]),AC(t[3])))>>>0:(t=wC.exec(e))?(MC(NC(t[1]),AC(t[2]),AC(t[3]))|TC(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var IC=function e(t,n,r){if(Hk.fun(t))return t;if(Hk.arr(t))return e({range:t,output:n,extrapolate:r});if(Hk.str(t.output[0]))return Jk(t);var i=t,o=i.output,a=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a);return function(e,t,n,r,i,o,a,s,u){var c=u?u(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,a[t],a[t+1],o[t],o[t+1],c,s,u,i.map)}};function DC(){return DC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}var RC=Symbol.for("FluidValue.get"),LC=Symbol.for("FluidValue.observers"),jC=function(e){return Boolean(e&&e[RC])},FC=function(e){return e&&e[RC]?e[RC]():e},BC=function(e){return e[LC]||null};function zC(e,t){var n=e[LC];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var UC=(0,Nn.Z)((function e(t){if((0,On.Z)(this,e),this[RC]=void 0,this[LC]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");GC(this,t)})),GC=function(e,t){return YC(e,RC,t)};function VC(e,t){if(e[RC]){var n=e[LC];n||YC(e,LC,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function ZC(e,t){var n=e[LC];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[LC]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var WC,YC=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},HC=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,qC=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,XC=new RegExp("(".concat(HC.source,")(%|[a-z]+)"),"i"),KC=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,$C=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},QC=function(e){WC||(WC=nC?new RegExp("(".concat(Object.keys(nC).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return FC(e).replace(qC,PC).replace(WC,PC)})),n=t.map((function(e){return e.match(HC).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return IC(DC({},e,{output:t}))}));return function(e){var n,i=!XC.test(t[0])&&(null==(n=t.find((function(e){return XC.test(e)})))?void 0:n.replace(HC,"")),o=0;return t[0].replace(HC,(function(){return"".concat(r[o++](e)).concat(i||"")})).replace(KC,$C)}},JC="react-spring: ",eM=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(JC,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},tM=eM(console.warn);function nM(){tM("".concat(JC,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var rM=eM(console.warn);function iM(e){return Hk.str(e)&&("#"==e[0]||/\d/.test(e)||e in(nC||{}))}var oM=function(e){return(0,y.useEffect)(e,aM)},aM=[];function sM(){var e=(0,y.useState)()[1],t=(0,y.useState)(uM)[0];return oM(t.unmount),function(){t.current&&e({})}}function uM(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function cM(e){var t=(0,y.useRef)();return(0,y.useEffect)((function(){t.current=e})),t.current}var lM="undefined"!==typeof window&&window.document&&window.document.createElement?y.useLayoutEffect:y.useEffect,fM=Symbol.for("Animated:node"),dM=function(e){return e&&e[fM]},hM=function(e,t){return function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}(e,fM,t)},pM=function(e){return e&&e[fM]&&e[fM].getPayload()},vM=function(){function e(){(0,On.Z)(this,e),this.payload=void 0,hM(this,this)}return(0,Nn.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),gM=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,Hk.num(r._value)&&(r.lastPosition=r._value),r}return(0,Nn.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Hk.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Hk.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(vM),mM=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=IC({output:[e,e]}),r}return(0,Nn.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Hk.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!Ek((0,wk.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=IC({output:[this.getValue(),e]})),this._value=0,Ek((0,wk.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(gM),yM={dependencies:null},bM=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,Nn.Z)(n,[{key:"getValue",value:function(e){var t={};return Kk(this.source,(function(n,r){!function(e){return!!e&&e[fM]===e}(n)?jC(n)?t[r]=FC(n):e||(t[r]=n):t[r]=n.getValue(e)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Xk(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Kk(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;yM.dependencies&&jC(e)&&yM.dependencies.add(e);var n=pM(e);n&&Xk(n,(function(e){return t.add(e)}))}}]),n}(vM),xM=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){return(0,On.Z)(this,n),t.call(this,e)}return(0,Nn.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(Ek((0,wk.Z)(n.prototype),"setValue",this).call(this,e.map(wM)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(bM);function wM(e){return(iM(e)?mM:gM).create(e)}function _M(e){var t=dM(e);return t?t.constructor:Hk.arr(e)?xM:iM(e)?mM:gM}function EM(){return EM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EM.apply(this,arguments)}var SM=function(e,t){var n=!Hk.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,y.forwardRef)((function(r,i){var o=(0,y.useRef)(null),a=n&&(0,y.useCallback)((function(e){o.current=function(e,t){e&&(Hk.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),s=function(e,t){var n=new Set;yM.dependencies=n,e.style&&(e=EM({},e,{style:t.createAnimatedStyle(e.style)}));return e=new bM(e),yM.dependencies=null,[e,n]}(r,t),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=sM(),d=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&f()},h=new kM(d,l),p=(0,y.useRef)();lM((function(){var e=p.current;p.current=h,Xk(l,(function(e){return VC(e,h)})),e&&(Xk(e.deps,(function(t){return ZC(t,e)})),Nk.cancel(e.update))})),(0,y.useEffect)(d,[]),oM((function(){return function(){var e=p.current;Xk(e.deps,(function(t){return ZC(t,e)}))}}));var v=t.getComponentProps(c.getValue());return y.createElement(e,EM({},v,{ref:a}))}))},kM=function(){function e(t,n){(0,On.Z)(this,e),this.update=t,this.deps=n}return(0,Nn.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&Nk.write(this.update)}}]),e}();var CM=Symbol.for("AnimatedComponent"),MM=function(e){return Hk.str(e)?e:e&&Hk.str(e.displayName)?e.displayName:Hk.fun(e)&&e.name||null};function OM(){return OM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}function NM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hk.fun(e)?e.apply(void 0,n):e}var TM=function(e,t){return!0===e||!!(t&&e&&(Hk.fun(e)?e(t):$k(e).includes(t)))},AM=function(e,t){return Hk.obj(e)?t&&e[t]:e},PM=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},IM=function(e){return e},DM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IM,n=RM;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},o=(0,T_.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t(e[a],a);Hk.und(s)||(i[a]=s)}}catch(u){o.e(u)}finally{o.f()}return i},RM=["config","onProps","onStart","onChange","onPause","onResume","onRest"],LM={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jM(e){var t=function(e){var t={},n=0;if(Kk(e,(function(e,r){LM[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Kk(e,(function(e,r){return r in t||(n[r]=e)})),n}return OM({},e)}function FM(e){return e=FC(e),Hk.arr(e)?e.map(FM):iM(e)?oC.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function BM(e){for(var t in e)return!0;return!1}function zM(e){return Hk.fun(e)||Hk.arr(e)&&Hk.obj(e[0])}function UM(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function GM(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var VM={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},ZM=OM({},VM.default,{mass:1,damping:1,easing:function(e){return e},clamp:!1}),WM=(0,Nn.Z)((function e(){(0,On.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,ZM)}));function YM(e,t){if(Hk.und(t.decay)){var n=!Hk.und(t.tension)||!Hk.und(t.friction);!n&&Hk.und(t.frequency)&&Hk.und(t.damping)&&Hk.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var HM=[],qM=(0,Nn.Z)((function e(){(0,On.Z)(this,e),this.changed=!1,this.values=HM,this.toValues=null,this.fromValues=HM,this.to=void 0,this.from=void 0,this.config=new WM,this.immediate=!1}));function XM(e,t){var n=t.key,r=t.props,i=t.defaultProps,o=t.state,a=t.actions;return new Promise((function(t,s){var u,c,l,f=TM(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(f)v();else{Hk.und(r.pause)||(o.paused=TM(r.pause,n));var d=null==i?void 0:i.pause;!0!==d&&(d=o.paused||TM(d,n)),c=NM(r.delay||0,n),d?(o.resumeQueue.add(p),a.pause()):(a.resume(),p())}function h(){o.resumeQueue.add(p),o.timeouts.delete(l),l.cancel(),c=l.time-Nk.now()}function p(){c>0&&!oC.skipAnimation?(l=Nk.setTimeout(v,c),o.pauseQueue.add(h),o.timeouts.add(l)):v()}function v(){o.pauseQueue.delete(h),o.timeouts.delete(l),e<=(o.cancelId||0)&&(f=!0);try{a.start(OM({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var KM=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?JM(e.get()):t.every((function(e){return e.noop}))?$M(e.get()):QM(e.get(),t.every((function(e){return e.finished})))},$M=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},QM=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},JM=function(e){return{value:e,cancelled:!0,finished:!1}};function eO(e,t,n,r){var i=t.callId,o=t.parentId,a=t.onRest,s=n.asyncTo,u=n.promise;return o||e!==s||t.reset?n.promise=(0,tu.Z)(eu().mark((function c(){var l,f,d,h,p,v,g,m;return eu().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=DM(t,(function(e,t){return"onRest"===t?void 0:e})),h=new Promise((function(e,t){return f=e,d=t})),p=function(e){var t=i<=(n.cancelId||0)&&JM(r)||i!==n.asyncId&&QM(r,!1);if(t)throw e.result=t,d(e),e},v=function(e,t){var o=new nO,a=new rO;return(0,tu.Z)(eu().mark((function s(){var u,c;return eu().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!oC.skipAnimation){s.next=5;break}throw tO(n),a.result=QM(r,!1),d(a),a;case 5:return p(o),(u=Hk.obj(e)?OM({},e):OM({},t,{to:e})).parentId=i,Kk(l,(function(e,t){Hk.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,p(o),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!oC.skipAnimation){c.next=9;break}return tO(n),c.abrupt("return",QM(r,!1));case 9:return c.prev=9,m=Hk.arr(e)?function(){var e=(0,tu.Z)(eu().mark((function e(t){var n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,T_.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=13,Promise.all([m.then(f),h]);case 13:g=QM(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof nO)){c.next=22;break}g=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof rO)){c.next=26;break}g=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?u:void 0),c.finish(27);case 30:return Hk.fun(a)&&Nk.batchedUpdates((function(){a(g,r,r.item)})),c.abrupt("return",g);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function tO(e,t){Qk(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var nO=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,Nn.Z)(n)}(Mk(Error)),rO=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,Nn.Z)(n)}(Mk(Error)),iO=function(e){return e instanceof aO},oO=1,aO=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).id=oO++,e.key=void 0,e._priority=0,e}return(0,Nn.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=dM(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oC.to(this,t)}},{key:"interpolate",value:function(){nM();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oC.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zC(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||lC.sort(this),zC(this,{type:"priority",parent:this,priority:e})}}]),n}(UC),sO=Symbol.for("SpringPhase"),uO=function(e){return(1&e[sO])>0},cO=function(e){return(2&e[sO])>0},lO=function(e){return(4&e[sO])>0},fO=function(e,t){return t?e[sO]|=3:e[sO]&=-3},dO=function(e,t){return t?e[sO]|=4:e[sO]&=-5},hO=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e,r){var i;if((0,On.Z)(this,n),(i=t.call(this)).key=void 0,i.animation=new qM,i.queue=void 0,i.defaultProps={},i._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!Hk.und(e)||!Hk.und(r)){var o=Hk.obj(e)?OM({},e):OM({},r,{from:e});Hk.und(o.default)&&(o.default=!0),i.start(o)}return i}return(0,Nn.Z)(n,[{key:"idle",get:function(){return!(cO(this)||this._state.asyncTo)||lO(this)}},{key:"goal",get:function(){return FC(this.animation.to)}},{key:"velocity",get:function(){var e=dM(this);return e instanceof gM?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return uO(this)}},{key:"isAnimating",get:function(){return cO(this)}},{key:"isPaused",get:function(){return lO(this)}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=pM(i.to);!s&&jC(i.to)&&(a=$k(FC(i.to))),i.values.forEach((function(u,c){if(!u.done){var l=u.constructor==mM?1:s?s[c].lastPosition:a[c],f=i.immediate,d=l;if(!f){if(d=u.lastPosition,o.tension<=0)return void(u.done=!0);var h,p=u.elapsedTime+=e,v=i.fromValues[c],g=null!=u.v0?u.v0:u.v0=Hk.arr(o.velocity)?o.velocity[c]:o.velocity;if(Hk.und(o.duration))if(o.decay){var m=!0===o.decay?.998:o.decay,y=Math.exp(-(1-m)*p);d=v+g/(1-m)*(1-y),f=Math.abs(u.lastPosition-d)<.1,h=g*y}else{h=null==u.lastVelocity?g:u.lastVelocity;for(var b=o.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v))),x=o.restVelocity||b/10,w=o.clamp?0:o.bounce,_=!Hk.und(w),E=v==l?u.v0>0:v<l,S=Math.ceil(e/1),k=0;k<S&&(Math.abs(h)>x||!(f=Math.abs(l-d)<=b));++k){_&&(d==l||d>l==E)&&(h=-h*w,d=l),d+=1*(h+=1*((1e-6*-o.tension*(d-l)+.001*-o.friction*h)/o.mass))}}else{var C=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,p=u.elapsedTime+=e)),C=(C=(o.progress||0)+p/t._memoizedDuration)>1?1:C<0?0:C,u.durationProgress=C),h=((d=v+o.easing(C)*(l-v))-u.lastPosition)/e,f=1==C}u.lastVelocity=h,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,o.round)&&(r=!0)}}));var u=dM(this),c=u.getValue();if(n){var l=FC(i.to);c===l&&!r||o.decay?r&&o.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return Nk.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(cO(this)){var t=this.animation,n=t.to,r=t.config;Nk.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return Hk.und(e)?(n=this.queue||[],this.queue=[]):n=[Hk.obj(e)?e:OM({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return KM(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),tO(this._state,e&&this._lastCallId),Nk.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=Hk.obj(n)?n[t]:n)||zM(n))&&(n=void 0),null==(r=Hk.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!uO(this)){if(e.reverse){var o=[r,n];n=o[0],r=o[1]}r=FC(r),Hk.und(r)?dM(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=OM({},e),i=this.key,o=this.defaultProps;r.default&&Object.assign(o,DM(r,(function(e,t){return/^on/.test(t)?AM(e,i):e}))),xO(this,r,"onProps"),wO(this,"onProps",r,this);var a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return XM(++this._lastCallId,{key:i,props:r,defaultProps:o,state:s,actions:{pause:function(){lO(n)||(dO(n,!0),tC(s.pauseQueue),wO(n,"onPause",QM(n,pO(n,n.animation.to)),n))},resume:function(){lO(n)&&(dO(n,!1),cO(n)&&n._resume(),tC(s.resumeQueue),wO(n,"onResume",QM(n,pO(n,n.animation.to)),n))},start:this._merge.bind(this,a)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=vO(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(JM(this));var i=!Hk.und(e.to),o=!Hk.und(e.from);if(i||o){if(!(t.callId>this._lastToId))return n(JM(this));this._lastToId=t.callId}var a=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,f=e.to,d=void 0===f?c:f,h=e.from,p=void 0===h?l:h;if(!o||i||t.default&&!Hk.und(d)||(d=p),t.reverse){var v=[p,d];d=v[0],p=v[1]}var g=!qk(p,l);g&&(u.from=p),p=FC(p);var m=!qk(d,c);m&&this._focus(d);var y=zM(t.to),b=u.config,x=b.decay,w=b.velocity;(i||o)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(YM(n=OM({},n),t),t=OM({},n,t)),YM(e,t),Object.assign(e,t),ZM)null==e[r]&&(e[r]=ZM[r]);var i=e.mass,o=e.frequency,a=e.damping;Hk.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*i,e.friction=4*Math.PI*a*i/o)}(b,NM(t.config,a),t.config!==s.config?NM(s.config,a):void 0);var _=dM(this);if(!_||Hk.und(d))return n(QM(this,!0));var E=Hk.und(t.reset)?o&&!t.default:!Hk.und(p)&&TM(t.reset,a),S=E?p:this.get(),k=FM(d),C=Hk.num(k)||Hk.arr(k)||iM(k),M=!y&&(!C||TM(s.immediate||t.immediate,a));if(m){var O=_M(d);if(O!==_.constructor){if(!M)throw Error("Cannot animate between ".concat(_.constructor.name," and ").concat(O.name,', as the "to" prop suggests'));_=this._set(k)}}var N=_.constructor,T=jC(d),A=!1;if(!T){var P=E||!uO(this)&&g;(m||P)&&(T=!(A=qk(FM(S),k))),(qk(u.immediate,M)||M)&&qk(b.decay,x)&&qk(b.velocity,w)||(T=!0)}if(A&&cO(this)&&(u.changed&&!E?T=!0:T||this._stop(c)),!y&&((T||jC(c))&&(u.values=_.getPayload(),u.toValues=jC(d)?null:N==mM?[1]:$k(k)),u.immediate!=M&&(u.immediate=M,M||E||this._set(c)),T)){var I=u.onRest;Xk(bO,(function(e){return xO(r,t,e)}));var D=QM(this,pO(this,c));tC(this._pendingCalls,D),this._pendingCalls.add(n),u.changed&&Nk.batchedUpdates((function(){u.changed=!E,null==I||I(D,r),E?NM(s.onRest,D):null==u.onStart||u.onStart(D,r)}))}E&&this._set(S),y?n(eO(t.to,t,this._state,this)):T?this._start():cO(this)&&!m?this._pendingCalls.add(n):n($M(S))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(BC(this)&&this._detach(),t.to=e,BC(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;jC(t)&&(VC(t,this),iO(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;jC(e)&&ZC(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=FC(e);if(!Hk.und(r)){var i=dM(this);if(!i||!qk(r,i.getValue())){var o=_M(r);i&&i.constructor==o?i.setValue(r):hM(this,o.create(r)),i&&Nk.batchedUpdates((function(){t._onChange(r,n)}))}}return dM(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,wO(this,"onStart",QM(this,pO(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),NM(this.animation.onChange,e,this)),NM(this.defaultProps.onChange,e,this),Ek((0,wk.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;dM(this).reset(FC(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),cO(this)||(fO(this,!0),lO(this)||this._resume())}},{key:"_resume",value:function(){oC.skipAnimation?this.finish():lC.start(this)}},{key:"_stop",value:function(e,t){if(cO(this)){fO(this,!1);var n=this.animation;Xk(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),zC(this,{type:"idle",parent:this});var r=t?JM(this.get()):QM(this.get(),pO(this,null!=e?e:n.to));tC(this._pendingCalls,r),n.changed&&(n.changed=!1,wO(this,"onRest",r,this))}}}]),n}(aO);function pO(e,t){var n=FM(t);return qk(FM(e.get()),n)}function vO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=NM(t);if(r){var i=!0!==r&&jM(r),o=(i||e).reverse,a=!i||i.reset;return gO(OM({},e,{loop:t,default:!1,pause:void 0,to:!o||zM(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function gO(e){var t=e=jM(e),n=t.to,r=t.from,i=new Set;return Hk.obj(n)&&yO(n,i),Hk.obj(r)&&yO(r,i),e.keys=i.size?Array.from(i):null,e}function mO(e){var t=gO(e);return Hk.und(t.default)&&(t.default=DM(t)),t}function yO(e,t){Kk(e,(function(e,n){return null!=e&&t.add(n)}))}var bO=["onStart","onRest","onChange","onPause","onResume"];function xO(e,t,n){e.animation[n]=t[n]!==PM(t,n)?AM(t[n],e.key):void 0}function wO(e,t){for(var n,r,i,o,a,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(i=(o=e.animation)[t])||(n=i).call.apply(n,[o].concat(c)),null==(a=(s=e.defaultProps)[t])||(r=a).call.apply(r,[s].concat(c))}var _O=["onStart","onChange","onRest"],EO=1,SO=function(){function e(t,n){(0,On.Z)(this,e),this.id=EO++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(OM({default:!0},t))}return(0,Nn.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Hk.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(gO(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=$k(e).map(gO):this.queue=[],this._flush?this._flush(this,t):(PO(this,t),kO(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Xk($k(t),(function(t){return n[t].stop(!!e)}))}else tO(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Hk.und(e))this.start({pause:!0});else{var t=this.springs;Xk($k(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Hk.und(e))this.start({pause:!1});else{var t=this.springs;Xk($k(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Kk(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,a=this._changed.size>0;(o&&!this._started||a&&!this._started)&&(this._started=!0,Qk(n,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!o&&this._started,u=a||s&&i.size?this.get():null;a&&r.size&&Qk(r,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})),s&&(this._started=!1,Qk(i,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Nk.onFrame(this._onFrame)}}]),e}();function kO(e,t){return Promise.all(t.map((function(t){return CO(e,t)}))).then((function(t){return KM(e,t)}))}function CO(e,t,n){return MO.apply(this,arguments)}function MO(){return MO=(0,tu.Z)(eu().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,d,h,p,v,g;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,o=n.to,a=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=Hk.obj(n.default)&&n.default,s&&(n.loop=!1),!1===o&&(n.to=null),!1===a&&(n.from=null),(f=Hk.arr(o)||Hk.fun(o)?o:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):Xk(_O,(function(e){var r=n[e];if(Hk.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,tC(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===PM(n,"cancel"),(f||p&&d.asyncId)&&h.push(XM(++t._lastAsyncId,{props:n,state:d,actions:{pause:Yk,resume:Yk,start:function(e,n){p?(tO(d,t._lastAsyncId),n(JM(t))):(e.onRest=u,n(eO(f,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=KM,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!s||!v.finished||r&&v.noop){e.next=26;break}if(!(g=vO(n,s,o))){e.next=26;break}return PO(t,[g]),e.abrupt("return",CO(t,g,!0));case 26:return c&&Nk.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function OO(e,t){var n=OM({},e.springs);return t&&Xk($k(t),(function(e){Hk.und(e.keys)&&(e=gO(e)),Hk.obj(e.to)||(e=OM({},e,{to:void 0})),AO(n,e,(function(e){return TO(e)}))})),NO(e,n),n}function NO(e,t){Kk(t,(function(t,n){e.springs[n]||(e.springs[n]=t,VC(t,e))}))}function TO(e,t){var n=new hO;return n.key=e,t&&VC(n,t),n}function AO(e,t,n){t.keys&&Xk(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function PO(e,t){Xk(t,(function(t){AO(e.springs,t,(function(t){return TO(t,e)}))}))}function IO(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var DO,RO,LO=["children"],jO=function(e){var t=e.children,n=IO(e,LO),r=(0,y.useContext)(FO),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,y.useState)((function(){return{inputs:t,result:e()}})),r=(0,m.Z)(n,1)[0],i=(0,y.useRef)(),o=i.current,a=o;return a?Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs))||(a={inputs:t,result:e()}):a=r,(0,y.useEffect)((function(){i.current=a,o==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((function(){return{pause:i,immediate:o}}),[i,o]);var a=FO.Provider;return y.createElement(a,{value:n},t)},FO=(DO=jO,RO={},Object.assign(DO,y.createContext(RO)),DO.Provider._context=DO,DO.Consumer._context=DO,DO);jO.Provider=FO.Provider,jO.Consumer=FO.Consumer;var BO=function(){var e=[],t=function(t){rM("".concat(JC,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Xk(e,(function(e,i){if(Hk.und(t))r.push(e.start());else{var o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Xk(e,(function(e){return e.pause.apply(e,(0,kn.Z)(t))})),this},t.resume=function(){var t=arguments;return Xk(e,(function(e){return e.resume.apply(e,(0,kn.Z)(t))})),this},t.set=function(t){Xk(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Xk(e,(function(e,i){if(Hk.und(t))r.push(e.start());else{var o=n._getProps(t,e,i);o&&r.push(e.start(o))}})),r},t.stop=function(){var t=arguments;return Xk(e,(function(e){return e.stop.apply(e,(0,kn.Z)(t))})),this},t.update=function(t){var n=this;return Xk(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return Hk.fun(e)?e(n,t):e};return t._getProps=n,t};function zO(e,t,n){var r=arguments,i=Hk.fun(t)&&t;i&&!n&&(n=[]);var o=(0,y.useMemo)((function(){return i||3==r.length?BO():void 0}),[]),a=(0,y.useRef)(0),s=sM(),u=(0,y.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=OO(e,t),r=a.current>0&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}));return r?kO(e,t):new Promise((function(r){NO(e,n),u.queue.push((function(){r(kO(e,t))})),s()}))}}}),[]),c=(0,y.useRef)((0,kn.Z)(u.ctrls)),l=[],f=cM(e)||0;function d(e,n){for(var r=e;r<n;r++){var o=c.current[r]||(c.current[r]=new SO(null,u.flush)),a=i?i(r,o):t[r];a&&(l[r]=mO(a))}}(0,y.useMemo)((function(){Xk(c.current.slice(e,f),(function(e){UM(e,o),e.stop(!0)})),c.current.length=e,d(f,e)}),[e]),(0,y.useMemo)((function(){d(0,Math.min(f,e))}),n);var h=c.current.map((function(e,t){return OO(e,l[t])})),p=(0,y.useContext)(jO),v=cM(p),g=p!==v&&BM(p);lM((function(){a.current++,u.ctrls=c.current;var e=u.queue;e.length&&(u.queue=[],Xk(e,(function(e){return e()}))),Xk(c.current,(function(e,t){null==o||o.add(e),g&&e.start({default:p});var n=l[t];n&&(GM(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),oM((function(){return function(){Xk(u.ctrls,(function(e){return e.stop(!0)}))}}));var m=h.map((function(e){return OM({},e)}));return o?[m,o]:m}function UO(e,t){var n=Hk.fun(e),r=zO(1,n?e:[e],n?t||[]:t),i=(0,m.Z)(r,2),o=(0,m.Z)(i[0],1),a=o[0],s=i[1];return n||2==arguments.length?[a,s]:a}var GO;function VO(e,t,n){var r=arguments,i=Hk.fun(t)&&t,o=i?i():t,a=o.reset,s=o.sort,u=o.trail,c=void 0===u?0:u,l=o.expires,f=void 0===l||l,d=o.onDestroyed,h=o.ref,p=o.config,v=(0,y.useMemo)((function(){return i||3==r.length?BO():void 0}),[]),g=$k(e),m=[],b=(0,y.useRef)(null),x=a?null:b.current;lM((function(){b.current=m})),oM((function(){return function(){return Xk(b.current,(function(e){e.expired&&clearTimeout(e.expirationId),UM(e.ctrl,v),e.ctrl.stop(!0)}))}}));var w=WO(g,i?i():t,x),_=a&&b.current||[];lM((function(){return Xk(_,(function(e){var t=e.ctrl,n=e.item,r=e.key;UM(t,v),NM(d,n,r)}))}));var E=[];if(x&&Xk(x,(function(e,t){e.expired?(clearTimeout(e.expirationId),_.push(e)):~(t=E[t]=w.indexOf(e.key))&&(m[t]=e)})),Xk(g,(function(e,t){m[t]||(m[t]={key:w[t],item:e,phase:GO.MOUNT,ctrl:new SO},m[t].ctrl.item=e)})),E.length){var S=-1,k=i?i():t,C=k.leave;Xk(E,(function(e,t){var n=x[t];~e?(S=m.indexOf(n),m[S]=OM({},n,{item:g[e]})):C&&m.splice(++S,0,n)}))}Hk.fun(s)&&m.sort((function(e,t){return s(e.item,t.item)}));var M=-c,O=sM(),N=DM(t),T=new Map;Xk(m,(function(e,n){var r,o,a=e.key,s=e.phase,u=i?i():t,l=NM(u.delay||0,a);if(s==GO.MOUNT)r=u.enter,o=GO.ENTER;else{var d=w.indexOf(a)<0;if(s!=GO.LEAVE)if(d)r=u.leave,o=GO.LEAVE;else{if(!(r=u.update))return;o=GO.UPDATE}else{if(d)return;r=u.enter,o=GO.ENTER}}if(r=NM(r,e.item,n),!(r=Hk.obj(r)?jM(r):{to:r}).config){var v=p||N.config;r.config=NM(v,e.item,n,o)}var g=OM({},N,{delay:l+(M+=c),ref:h,immediate:u.immediate,reset:!1},r);if(o==GO.ENTER&&Hk.und(g.from)){var m=i?i():t,y=Hk.und(m.initial)||x?m.from:m.initial;g.from=NM(y,e.item,n)}var _=g.onResolve;g.onResolve=function(e){NM(_,e);var t=b.current,n=t.find((function(e){return e.key===a}));if(n&&(!e.cancelled||n.phase==GO.UPDATE)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==GO.LEAVE){var i=NM(f,n.item);if(!1!==i){var o=!0===i?0:i;if(n.expired=!0,!r&&o>0)return void(o<=2147483647&&(n.expirationId=setTimeout(O,o)))}}r&&t.some((function(e){return e.expired}))&&O()}};var E=OO(e.ctrl,g);T.set(e,{phase:o,springs:E,payload:g})}));var A=(0,y.useContext)(jO),P=cM(A),I=A!==P&&BM(A);lM((function(){I&&Xk(m,(function(e){e.ctrl.start({default:A})}))}),[A]),lM((function(){Xk(T,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null==v||v.add(i),I&&n==GO.ENTER&&i.start({default:A}),r&&(GM(i,r.ref),i.ref?i.update(r):i.start(r))}))}),a?void 0:n);var D=function(e){return y.createElement(y.Fragment,null,m.map((function(t,n){var r=(T.get(t)||t.ctrl).springs,i=e(OM({},r),t.item,t,n);return i&&i.type?y.createElement(i.type,OM({},i.props,{key:Hk.str(t.key)||Hk.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return v?[D,v]:D}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(GO||(GO={}));var ZO=1;function WO(e,t,n){var r=t.key,i=t.keys,o=void 0===i?r:i;if(null===o){var a=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==GO.LEAVE&&!a.has(t)}));return t?(a.add(t),t.key):ZO++}))}return Hk.und(o)?e:Hk.fun(o)?e.map(o):$k(o)}var YO=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e,r){var i;(0,On.Z)(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=IC.apply(void 0,(0,kn.Z)(r));var o=i._get(),a=_M(o);return hM((0,Go.Z)(i),a.create(o)),i}return(0,Nn.Z)(n,[{key:"advance",value:function(e){var t=this._get();qk(t,this.get())||(dM(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&qO(this._active)&&XO(this)}},{key:"_get",value:function(){var e=Hk.arr(this.source)?this.source.map(FC):$k(FC(this.source));return this.calc.apply(this,(0,kn.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!qO(this._active)&&(this.idle=!1,Xk(pM(this),(function(e){e.done=!1})),oC.skipAnimation?(Nk.batchedUpdates((function(){return e.advance()})),XO(this)):lC.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Xk($k(this.source),(function(n){jC(n)&&VC(n,e),iO(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Xk($k(this.source),(function(t){jC(t)&&ZC(t,e)})),this._active.clear(),XO(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=$k(this.source).reduce((function(e,t){return Math.max(e,(iO(t)?t.priority:0)+1)}),0))}}]),n}(aO);function HO(e){return!1!==e.idle}function qO(e){return!e.size||Array.from(e).every(HO)}function XO(e){e.idle||(e.idle=!0,Xk(pM(e),(function(e){e.done=!0})),zC(e,{type:"idle",parent:e}))}var KO=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new YO(e,n)};oC.assign({createStringInterpolator:QC,to:function(e,t){return new YO(e,t)}});lC.advance;function $O(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var QO=["style","children","scrollTop","scrollLeft"],JO=/^--/;function eN(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||JO.test(e)||nN.hasOwnProperty(e)&&nN[e]?(""+t).trim():t+"px"}var tN={};var nN={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","Ms","Moz","O"];nN=Object.keys(nN).reduce((function(e,t){return rN.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),nN);var iN=["x","y","z"],oN=/^(matrix|translate|scale|rotate|skew)/,aN=/^(translate)/,sN=/^(rotate|skew)/,uN=function(e,t){return Hk.num(e)&&0!==e?e+t:e},cN=function e(t,n){return Hk.arr(t)?t.every((function(t){return e(t,n)})):Hk.num(t)?t===n:parseFloat(t)===n},lN=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){(0,On.Z)(this,n);var r=e.x,i=e.y,o=e.z,a=$O(e,iN),s=[],u=[];return(r||i||o)&&(s.push([r||0,i||0,o||0]),u.push((function(e){return["translate3d(".concat(e.map((function(e){return uN(e,"px")})).join(","),")"),cN(e,0)]}))),Kk(a,(function(e,t){if("transform"===t)s.push([e||""]),u.push((function(e){return[e,""===e]}));else if(oN.test(t)){if(delete a[t],Hk.und(e))return;var n=aN.test(t)?"px":sN.test(t)?"deg":"";s.push($k(e)),u.push("rotate3d"===t?function(e){var t=(0,m.Z)(e,4),r=t[0],i=t[1],o=t[2],a=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(o,",").concat(uN(a,n),")"),cN(a,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return uN(e,n)})).join(","),")"),cN(e,t.startsWith("scale")?1:0)]})}})),s.length&&(a.transform=new fN(s,u)),t.call(this,a)}return(0,Nn.Z)(n)}(bM),fN=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e,r){var i;return(0,On.Z)(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return(0,Nn.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Xk(this.inputs,(function(r,i){var o=FC(r[0]),a=e.transforms[i](Hk.arr(o)?o:r.map(FC)),s=(0,m.Z)(a,2),u=s[0],c=s[1];t+=" "+u,n=n&&c})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Xk(this.inputs,(function(e){return Xk(e,(function(e){return jC(e)&&VC(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Xk(this.inputs,(function(e){return Xk(e,(function(e){return jC(e)&&ZC(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),zC(this,e)}}]),n}(UC),dN=["scrollTop","scrollLeft"];oC.assign({batchedUpdates:b.unstable_batchedUpdates,createStringInterpolator:QC,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var hN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,o=void 0===i?function(e){return new bM(e)}:i,a=t.getComponentProps,s=void 0===a?function(e){return e}:a,u={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},c=function e(t){var n=MM(t)||"Anonymous";return(t=Hk.str(t)?e[t]||(e[t]=SM(t,u)):t[CM]||(t[CM]=SM(t,u))).displayName="Animated(".concat(n,")"),t};return Kk(e,(function(t,n){Hk.arr(e)&&(n=MM(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,u=$O(r,QO),c=Object.values(u),l=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:tN[t]||(tN[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==o&&(e.textContent=o),i)if(i.hasOwnProperty(f)){var d=eN(f,i[f]);JO.test(f)?e.style.setProperty(f,d):e.style[f]=d}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new lN(e)},getComponentProps:function(e){return $O(e,dN)}}),pN=hN.animated;function vN(){return vN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(this,arguments)}var gN={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},mN=function(e,t){return"translate("+e+"px, "+t+"px)"},yN=(0,y.memo)((function(e){var t,n=e.position,r=e.anchor,i=e.children,o=xL(),a=QR(),s=a.animate,u=a.config,c=vL(),l=c[0],f=c[1],d=(0,y.useRef)(!1),h=void 0,p=!1,v=f.width>0&&f.height>0,g=Math.round(n[0]),m=Math.round(n[1]);v&&("top"===r?(g-=f.width/2,m-=f.height+14):"right"===r?(g+=14,m-=f.height/2):"bottom"===r?(g-=f.width/2,m+=14):"left"===r?(g-=f.width+14,m-=f.height/2):"center"===r&&(g-=f.width/2,m-=f.height/2),h={transform:mN(g,m)},d.current||(p=!0),d.current=[g,m]);var b=UO({to:h,config:u,immediate:!s||p}),x=vN({},gN,o.tooltip,{transform:null!=(t=b.transform)?t:mN(g,m)});return(0,fk.jsx)(pN.div,{ref:l,style:x,children:i})}));yN.displayName="TooltipWrapper";var bN=(0,y.memo)((function(e){var t=e.size,n=void 0===t?12:t,r=e.color,i=e.style;return(0,fk.jsx)("span",{style:vN({display:"block",width:n,height:n,background:r},void 0===i?{}:i)})})),xN=(0,y.memo)((function(e){var t,n=e.id,r=e.value,i=e.format,o=e.enableChip,a=void 0!==o&&o,s=e.color,u=e.renderContent,c=xL(),l=gL(i);if("function"==typeof u)t=u();else{var f=r;void 0!==l&&void 0!==f&&(f=l(f)),t=(0,fk.jsxs)("div",{style:c.tooltip.basic,children:[a&&(0,fk.jsx)(bN,{color:s,style:c.tooltip.chip}),void 0!==f?(0,fk.jsxs)("span",{children:[n,": ",(0,fk.jsx)("strong",{children:""+f})]}):n]})}return(0,fk.jsx)("div",{style:c.tooltip.container,children:t})})),wN={width:"100%",borderCollapse:"collapse"},_N=(0,y.memo)((function(e){var t,n=e.title,r=e.rows,i=void 0===r?[]:r,o=e.renderContent,a=xL();return i.length?(t="function"==typeof o?o():(0,fk.jsxs)("div",{children:[n&&n,(0,fk.jsx)("table",{style:vN({},wN,a.tooltip.table),children:(0,fk.jsx)("tbody",{children:i.map((function(e,t){return(0,fk.jsx)("tr",{children:e.map((function(e,t){return(0,fk.jsx)("td",{style:a.tooltip.tableCell,children:e},t)}))},t)}))})})]}),(0,fk.jsx)("div",{style:a.tooltip.container,children:t})):null}));_N.displayName="TableTooltip";var EN=(0,y.memo)((function(e){var t=e.x0,n=e.x1,r=e.y0,i=e.y1,o=xL(),a=QR(),s=a.animate,u=a.config,c=(0,y.useMemo)((function(){return vN({},o.crosshair.line,{pointerEvents:"none"})}),[o.crosshair.line]),l=UO({x1:t,x2:n,y1:r,y2:i,config:u,immediate:!s});return(0,fk.jsx)(pN.line,vN({},l,{fill:"none",style:c}))}));EN.displayName="CrosshairLine";var SN=(0,y.memo)((function(e){var t,n,r=e.width,i=e.height,o=e.type,a=e.x,s=e.y;return"cross"===o?(t={x0:a,x1:a,y0:0,y1:i},n={x0:0,x1:r,y0:s,y1:s}):"top-left"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:0,x1:a,y0:s,y1:s}):"top"===o?t={x0:a,x1:a,y0:0,y1:s}:"top-right"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:a,x1:r,y0:s,y1:s}):"right"===o?n={x0:a,x1:r,y0:s,y1:s}:"bottom-right"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:a,x1:r,y0:s,y1:s}):"bottom"===o?t={x0:a,x1:a,y0:s,y1:i}:"bottom-left"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:0,x1:a,y0:s,y1:s}):"left"===o?n={x0:0,x1:a,y0:s,y1:s}:"x"===o?t={x0:a,x1:a,y0:0,y1:i}:"y"===o&&(n={x0:0,x1:r,y0:s,y1:s}),(0,fk.jsxs)(fk.Fragment,{children:[t&&(0,fk.jsx)(EN,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&(0,fk.jsx)(EN,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})}));SN.displayName="Crosshair";var kN=(0,y.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),CN={isVisible:!1,position:[null,null],content:null,anchor:null},MN=(0,y.createContext)(CN),ON=function(e){var t=(0,y.useState)(CN),n=t[0],r=t[1],i=(0,y.useCallback)((function(e,t,n){var i=t[0],o=t[1];void 0===n&&(n="top"),r({isVisible:!0,position:[i,o],anchor:n,content:e})}),[r]),o=(0,y.useCallback)((function(t,n,i){void 0===i&&(i="top");var o=e.current.getBoundingClientRect(),a=n.clientX-o.left,s=n.clientY-o.top;"left"!==i&&"right"!==i||(i=a<o.width/2?"right":"left"),r({isVisible:!0,position:[a,s],anchor:i,content:t})}),[e,r]),a=(0,y.useCallback)((function(){r(CN)}),[r]);return{actions:(0,y.useMemo)((function(){return{showTooltipAt:i,showTooltipFromEvent:o,hideTooltip:a}}),[i,o,a]),state:n}},NN=function(){var e=(0,y.useContext)(kN);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},TN=function(){var e=function(){var e=(0,y.useContext)(MN);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e}();return function(e){return e.isVisible}(e)?(0,fk.jsx)(yN,{position:e.position,anchor:e.anchor,children:e.content}):null},AN=function(e){var t=e.container,n=e.children,r=ON(t),i=r.actions,o=r.state;return(0,fk.jsx)(kN.Provider,{value:i,children:(0,fk.jsx)(MN.Provider,{value:o,children:n})})},PN=n(79286),IN=n.n(PN),DN=n(26181),RN=n.n(DN),LN=n(74485),jN=n.n(LN);function FN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var BN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zN=new RegExp(BN.source,"g");var UN=n(26769),GN=n.n(UN),VN=n(15727),ZN=n.n(VN);n(93629);function WN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var YN=Symbol("implicit");function HN(){var e=new Map,t=[],n=[],r=YN;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==YN)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=(0,T_.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(u){o.e(u)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return HN(t,n).unknown(r)},WN.apply(i,arguments),i}function qN(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function XN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function KN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $N(){}var QN=.7,JN=1/QN,eT="\\s*([+-]?\\d+)\\s*",tT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",nT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rT=/^#([0-9a-f]{3,8})$/,iT=new RegExp("^rgb\\("+[eT,eT,eT]+"\\)$"),oT=new RegExp("^rgb\\("+[nT,nT,nT]+"\\)$"),aT=new RegExp("^rgba\\("+[eT,eT,eT,tT]+"\\)$"),sT=new RegExp("^rgba\\("+[nT,nT,nT,tT]+"\\)$"),uT=new RegExp("^hsl\\("+[tT,nT,nT]+"\\)$"),cT=new RegExp("^hsla\\("+[tT,nT,nT,tT]+"\\)$"),lT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fT(){return this.rgb().formatHex()}function dT(){return this.rgb().formatRgb()}function hT(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pT(t):3===n?new yT(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?vT(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?vT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=iT.exec(e))?new yT(t[1],t[2],t[3],1):(t=oT.exec(e))?new yT(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=aT.exec(e))?vT(t[1],t[2],t[3],t[4]):(t=sT.exec(e))?vT(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uT.exec(e))?_T(t[1],t[2]/100,t[3]/100,1):(t=cT.exec(e))?_T(t[1],t[2]/100,t[3]/100,t[4]):lT.hasOwnProperty(e)?pT(lT[e]):"transparent"===e?new yT(NaN,NaN,NaN,0):null}function pT(e){return new yT(e>>16&255,e>>8&255,255&e,1)}function vT(e,t,n,r){return r<=0&&(e=t=n=NaN),new yT(e,t,n,r)}function gT(e){return e instanceof $N||(e=hT(e)),e?new yT((e=e.rgb()).r,e.g,e.b,e.opacity):new yT}function mT(e,t,n,r){return 1===arguments.length?gT(e):new yT(e,t,n,null==r?1:r)}function yT(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function bT(){return"#"+wT(this.r)+wT(this.g)+wT(this.b)}function xT(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function wT(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function _T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ST(e,t,n,r)}function ET(e){if(e instanceof ST)return new ST(e.h,e.s,e.l,e.opacity);if(e instanceof $N||(e=hT(e)),!e)return new ST;if(e instanceof ST)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new ST(a,s,u,e.opacity)}function ST(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function kT(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function CT(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function MT(e){return function(){return e}}function OT(e,t){return function(n){return e+n*t}}function NT(e){return 1===(e=+e)?TT:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):MT(isNaN(t)?n:t)}}function TT(e,t){var n=t-e;return n?OT(e,n):MT(isNaN(e)?t:e)}XN($N,hT,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:fT,formatHex:fT,formatHsl:function(){return ET(this).formatHsl()},formatRgb:dT,toString:dT}),XN(yT,mT,KN($N,{brighter:function(e){return e=null==e?JN:Math.pow(JN,e),new yT(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?QN:Math.pow(QN,e),new yT(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bT,formatHex:bT,formatRgb:xT,toString:xT})),XN(ST,(function(e,t,n,r){return 1===arguments.length?ET(e):new ST(e,t,n,null==r?1:r)}),KN($N,{brighter:function(e){return e=null==e?JN:Math.pow(JN,e),new ST(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?QN:Math.pow(QN,e),new ST(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yT(kT(e>=240?e-240:e+120,i,r),kT(e,i,r),kT(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var AT=function e(t){var n=NT(t);function r(e,t){var r=n((e=mT(e)).r,(t=mT(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=TT(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function PT(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=mT(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var IT=PT((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return CT((n-r/t)*t,a,i,o,s)}})),DT=(PT((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return CT((n-r/t)*t,i,o,a,s)}})),function(e){return IT(e[e.length-1])}),RT=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qN),LT=DT(RT),jT=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qN),FT=DT(jT),BT=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qN),zT=DT(BT),UT=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qN),GT=DT(UT),VT=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qN),ZT=DT(VT),WT=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qN),YT=DT(WT),HT=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qN),qT=DT(HT),XT=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qN),KT=DT(XT),$T=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qN),QT=DT($T),JT=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qN),eA=DT(JT),tA=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qN),nA=DT(tA),rA=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qN),iA=DT(rA),oA=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qN),aA=DT(oA),sA=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qN),uA=DT(sA),cA=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qN),lA=DT(cA),fA=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qN),dA=DT(fA),hA=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qN),pA=DT(hA),vA=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qN),gA=DT(vA),mA=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qN),yA=DT(mA),bA=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qN),xA=DT(bA),wA=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qN),_A=DT(wA),EA=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qN),SA=DT(EA),kA=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qN),CA=DT(kA),MA=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qN),OA=DT(MA),NA=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qN),TA=DT(NA),AA=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qN),PA=DT(AA),IA=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qN),DA=DT(IA),RA=qN("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),LA=qN("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jA=qN("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),FA=qN("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),BA=qN("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zA=qN("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),UA=qN("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),GA=qN("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),VA=qN("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function ZA(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var WA=ZA(qN("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),YA=ZA(qN("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),HA=ZA(qN("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),qA=ZA(qN("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),XA=Math.PI/180,KA=180/Math.PI,$A=-.14861,QA=1.78277,JA=-.29227,eP=-.90649,tP=1.97294,nP=-1.7884503806,rP=3.5172982438,iP=-.6557636667999999;function oP(e){if(e instanceof sP)return new sP(e.h,e.s,e.l,e.opacity);e instanceof yT||(e=gT(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(iP*r+nP*t-rP*n)/(iP+nP-rP),o=r-i,a=(tP*(n-i)-JA*o)/eP,s=Math.sqrt(a*a+o*o)/(tP*i*(1-i)),u=s?Math.atan2(a,o)*KA-120:NaN;return new sP(u<0?u+360:u,s,i,e.opacity)}function aP(e,t,n,r){return 1===arguments.length?oP(e):new sP(e,t,n,null==r?1:r)}function sP(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function uP(e){return function t(n){function r(t,r){var i=e((t=aP(t)).h,(r=aP(r)).h),o=TT(t.s,r.s),a=TT(t.l,r.l),s=TT(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}XN(sP,aP,KN($N,{brighter:function(e){return e=null==e?JN:Math.pow(JN,e),new sP(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?QN:Math.pow(QN,e),new sP(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*XA,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new yT(255*(t+n*($A*r+QA*i)),255*(t+n*(JA*r+eP*i)),255*(t+n*(tP*r)),this.opacity)}}));uP((function(e,t){var n=t-e;return n?OT(e,n>180||n<-180?n-360*Math.round(n/360):n):MT(isNaN(e)?t:e)}));var cP=uP(TT),lP=cP(aP(-100,.75,.35),aP(80,1.5,.8)),fP=cP(aP(260,.75,.35),aP(80,1.5,.8)),dP=aP();function hP(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return dP.h=360*e-100,dP.s=1.5-1.5*t,dP.l=.8-.9*t,dP+""}var pP=cP(aP(300,.5,0),aP(-240,.5,1)),vP=mT(),gP=Math.PI/3,mP=2*Math.PI/3;function yP(e){var t;return e=(.5-e)*Math.PI,vP.r=255*(t=Math.sin(e))*t,vP.g=255*(t=Math.sin(e+gP))*t,vP.b=255*(t=Math.sin(e+mP))*t,vP+""}var bP=n(74786),xP=n.n(bP),wP=n(41761),_P=n.n(wP);function EP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function SP(e){this._context=e}function kP(){}function CP(e){this._context=e}function MP(e){this._context=e}function OP(e,t){this._basis=new SP(e),this._beta=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:EP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:EP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},CP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:EP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},MP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:EP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var NP=function e(t){function n(e){return 1===t?new SP(e):new OP(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function TP(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function AP(e,t){this._context=e,this._k=(1-t)/6}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:TP(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:TP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var PP=function e(t){function n(e){return new AP(e,t)}return n.tension=function(t){return e(+t)},n}(0);function IP(e,t){this._context=e,this._k=(1-t)/6}IP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:TP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var DP=function e(t){function n(e){return new IP(e,t)}return n.tension=function(t){return e(+t)},n}(0);function RP(e,t){this._context=e,this._k=(1-t)/6}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:TP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var LP=function e(t){function n(e){return new RP(e,t)}return n.tension=function(t){return e(+t)},n}(0);Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI;function jP(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/l,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function FP(e,t){this._context=e,this._alpha=t}FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:jP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var BP=function e(t){function n(e){return t?new FP(e,t):new AP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function zP(e,t){this._context=e,this._alpha=t}zP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var UP=function e(t){function n(e){return t?new zP(e,t):new IP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function GP(e,t){this._context=e,this._alpha=t}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jP(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var VP=function e(t){function n(e){return t?new GP(e,t):new RP(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ZP(e){this._context=e}function WP(e){return new ZP(e)}function YP(e){this._context=e}function HP(e){return e<0?-1:1}function qP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(HP(o)+HP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function XP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function KP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function $P(e){this._context=e}function QP(e){this._context=new JP(e)}function JP(e){this._context=e}function eI(e){this._context=e}function tI(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function nI(e,t){this._context=e,this._t=t}function rI(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function iI(e){var t=e.map(oI);return rI(e).sort((function(e,n){return t[e]-t[n]}))}function oI(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function aI(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function sI(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function uI(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,c=e[t[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function cI(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lI(e){return(e=cI(Math.abs(e)))?e[1]:NaN}ZP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},YP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KP(this,this._t0,XP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,KP(this,XP(this,n=qP(this,e,t)),n);break;default:KP(this,this._t0,n=qP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(QP.prototype=Object.create($P.prototype)).point=function(e,t){$P.prototype.point.call(this,t,e)},JP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},eI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=tI(e),i=tI(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var fI,dI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hI(e){if(!(t=dI.exec(e)))throw new Error("invalid format: "+e);var t;return new pI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function pI(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function vI(e,t){var n=cI(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}hI.prototype=pI.prototype,pI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var gI={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return vI(100*e,t)},r:vI,s:function(e,t){var n=cI(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(fI=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cI(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function mI(e){return e}var yI,bI,xI,wI=Array.prototype.map,_I=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function EI(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?mI:(t=wI.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?mI:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(wI.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=hI(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,g=e.precision,m=e.trim,y=e.type;"n"===y?(v=!0,y="g"):gI[y]||(void 0===g&&(g=12),m=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?o:/[%p]/.test(y)?u:"",w=gI[y],_=/[defgprs%]/.test(y);function E(e){var i,o,u,d=b,E=x;if("c"===y)E=w(e)+E,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),g),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==f&&(S=!1),d=(S?"("===f?f:c:"-"===f||"("===f?"":f)+d,E=("s"===y?_I[8+fI/3]:"")+E+(S&&"("===f?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){E=(46===u?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var k=d.length+e.length+E.length,C=k<p?new Array(p-k+1).join(t):"";switch(v&&h&&(e=r(C+e,C.length?p-E.length:1/0),C=""),n){case"<":e=d+e+E+C;break;case"=":e=d+C+e+E;break;case"^":e=C.slice(0,k=C.length>>1)+d+e+E+C.slice(k);break;default:e=C+d+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:f,formatPrefix:function(e,t){var n=f(((e=hI(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(lI(t)/3))),i=Math.pow(10,-r),o=_I[8+r/3];return function(e){return n(i*e)+o}}}}yI=EI({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),bI=yI.format,xI=yI.formatPrefix;var SI=new Date,kI=new Date;function CI(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return CI((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return SI.setTime(+t),kI.setTime(+r),e(SI),e(kI),Math.floor(n(SI,kI))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var MI=1e3,OI=6e4,NI=36e5,TI=864e5,AI=6048e5;function PI(e){return CI((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/AI}))}var II=PI(0),DI=PI(1),RI=PI(2),LI=PI(3),jI=PI(4),FI=PI(5),BI=PI(6),zI=(II.range,DI.range,RI.range,LI.range,jI.range,FI.range,BI.range,CI((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/TI}),(function(e){return e.getUTCDate()-1}))),UI=zI;zI.range;function GI(e){return CI((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OI)/AI}))}var VI=GI(0),ZI=GI(1),WI=GI(2),YI=GI(3),HI=GI(4),qI=GI(5),XI=GI(6),KI=(VI.range,ZI.range,WI.range,YI.range,HI.range,qI.range,XI.range,CI((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OI)/TI}),(function(e){return e.getDate()-1}))),$I=KI,QI=(KI.range,CI((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));QI.every=function(e){return isFinite(e=Math.floor(e))&&e>0?CI((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var JI=QI,eD=(QI.range,CI((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));eD.every=function(e){return isFinite(e=Math.floor(e))&&e>0?CI((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var tD=eD;eD.range;function nD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function iD(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var oD,aD,sD,uD,cD,lD={"-":"",_:" ",0:"0"},fD=/^\s*\d+/,dD=/^%/,hD=/[\\^$*+?|[\]().{}]/g;function pD(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function vD(e){return e.replace(hD,"\\$&")}function gD(e){return new RegExp("^(?:"+e.map(vD).join("|")+")","i")}function mD(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function yD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _D(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ED(e,t,n){var r=fD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CD(e,t,n){var r=fD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function MD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function OD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ND(e,t,n){var r=fD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function TD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function AD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function PD(e,t,n){var r=fD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ID(e,t,n){var r=fD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function DD(e,t,n){var r=fD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RD(e,t,n){var r=dD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function LD(e,t,n){var r=fD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jD(e,t,n){var r=fD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function FD(e,t){return pD(e.getDate(),t,2)}function BD(e,t){return pD(e.getHours(),t,2)}function zD(e,t){return pD(e.getHours()%12||12,t,2)}function UD(e,t){return pD(1+$I.count(JI(e),e),t,3)}function GD(e,t){return pD(e.getMilliseconds(),t,3)}function VD(e,t){return GD(e,t)+"000"}function ZD(e,t){return pD(e.getMonth()+1,t,2)}function WD(e,t){return pD(e.getMinutes(),t,2)}function YD(e,t){return pD(e.getSeconds(),t,2)}function HD(e){var t=e.getDay();return 0===t?7:t}function qD(e,t){return pD(VI.count(JI(e)-1,e),t,2)}function XD(e){var t=e.getDay();return t>=4||0===t?HI(e):HI.ceil(e)}function KD(e,t){return e=XD(e),pD(HI.count(JI(e),e)+(4===JI(e).getDay()),t,2)}function $D(e){return e.getDay()}function QD(e,t){return pD(ZI.count(JI(e)-1,e),t,2)}function JD(e,t){return pD(e.getFullYear()%100,t,2)}function eR(e,t){return pD((e=XD(e)).getFullYear()%100,t,2)}function tR(e,t){return pD(e.getFullYear()%1e4,t,4)}function nR(e,t){var n=e.getDay();return pD((e=n>=4||0===n?HI(e):HI.ceil(e)).getFullYear()%1e4,t,4)}function rR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pD(t/60|0,"0",2)+pD(t%60,"0",2)}function iR(e,t){return pD(e.getUTCDate(),t,2)}function oR(e,t){return pD(e.getUTCHours(),t,2)}function aR(e,t){return pD(e.getUTCHours()%12||12,t,2)}function sR(e,t){return pD(1+UI.count(tD(e),e),t,3)}function uR(e,t){return pD(e.getUTCMilliseconds(),t,3)}function cR(e,t){return uR(e,t)+"000"}function lR(e,t){return pD(e.getUTCMonth()+1,t,2)}function fR(e,t){return pD(e.getUTCMinutes(),t,2)}function dR(e,t){return pD(e.getUTCSeconds(),t,2)}function hR(e){var t=e.getUTCDay();return 0===t?7:t}function pR(e,t){return pD(II.count(tD(e)-1,e),t,2)}function vR(e){var t=e.getUTCDay();return t>=4||0===t?jI(e):jI.ceil(e)}function gR(e,t){return e=vR(e),pD(jI.count(tD(e),e)+(4===tD(e).getUTCDay()),t,2)}function mR(e){return e.getUTCDay()}function yR(e,t){return pD(DI.count(tD(e)-1,e),t,2)}function bR(e,t){return pD(e.getUTCFullYear()%100,t,2)}function xR(e,t){return pD((e=vR(e)).getUTCFullYear()%100,t,2)}function wR(e,t){return pD(e.getUTCFullYear()%1e4,t,4)}function _R(e,t){var n=e.getUTCDay();return pD((e=n>=4||0===n?jI(e):jI.ceil(e)).getUTCFullYear()%1e4,t,4)}function ER(){return"+0000"}function SR(){return"%"}function kR(e){return+e}function CR(e){return Math.floor(+e/1e3)}function MR(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function OR(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function NR(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}!function(e){oD=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,c=gD(i),l=mD(i),f=gD(o),d=mD(o),h=gD(a),p=mD(a),v=gD(s),g=mD(s),m=gD(u),y=mD(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:FD,e:FD,f:VD,g:eR,G:nR,H:BD,I:zD,j:UD,L:GD,m:ZD,M:WD,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:kR,s:CR,S:YD,u:HD,U:qD,V:KD,w:$D,W:QD,x:null,X:null,y:JD,Y:tR,Z:rR,"%":SR},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:iR,e:iR,f:cR,g:xR,G:_R,H:oR,I:aR,j:sR,L:uR,m:lR,M:fR,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:kR,s:CR,S:dR,u:hR,U:pR,V:gR,w:mR,W:yR,x:null,X:null,y:bR,Y:wR,Z:ER,"%":SR},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:OD,e:OD,f:DD,g:SD,G:ED,H:TD,I:TD,j:ND,L:ID,m:MD,M:AD,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:CD,Q:LD,s:jD,S:PD,u:bD,U:xD,V:wD,w:yD,W:_D,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:SD,Y:ED,Z:kD,"%":RD};function _(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=lD[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=iD(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=rD(iD(o.y,0,1))).getUTCDay(),r=i>4||0===i?DI.ceil(r):DI(r),r=UI.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nD(iD(o.y,0,1))).getDay(),r=i>4||0===i?ZI.ceil(r):ZI(r),r=$I.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?rD(iD(o.y,0,1)).getUTCDay():nD(iD(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rD(o)):nD(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in lD?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),aD=oD.format,sD=oD.parse,uD=oD.utcFormat,cD=oD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),MR.__suppressDeprecationWarning=!0,OR.__suppressDeprecationWarning=!0,NR.__suppressDeprecationWarning=!0;Object.prototype.hasOwnProperty;var TR=n(93977),AR=n.n(TR),PR=n(36460),IR=n.n(PR);function DR(){return DR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DR.apply(this,arguments)}function RR(e,t){return RR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},RR(e,t)}function LR(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var jR={fill:xk().string,fontSize:xk().number,fontFamily:xk().string},FR=xk().shape({domain:xk().shape({line:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,strokeDasharray:xk().string}).isRequired}).isRequired,ticks:xk().shape({line:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,strokeDasharray:xk().string}).isRequired,text:xk().shape(DR({},jR)).isRequired}).isRequired,legend:xk().shape({text:xk().shape(DR({},jR)).isRequired}).isRequired}),BR=xk().shape({line:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,strokeDasharray:xk().string}).isRequired}),zR=xk().shape({hidden:xk().shape({symbol:xk().shape({fill:xk().string.isRequired,opacity:xk().number}).isRequired,text:xk().shape(DR({},jR,{opacity:xk().number})).isRequired}).isRequired,text:xk().shape(DR({},jR)).isRequired}),UR=xk().shape({text:xk().shape(DR({},jR)).isRequired}),GR=xk().shape({text:xk().shape(DR({},jR)).isRequired}),VR=xk().shape({text:xk().shape(DR({},jR)).isRequired}),ZR=xk().shape({line:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,strokeDasharray:xk().string}).isRequired}),WR=xk().shape({text:xk().shape(DR({},jR,{outlineWidth:xk().number.isRequired,outlineColor:xk().string.isRequired})).isRequired,link:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,outlineWidth:xk().number.isRequired,outlineColor:xk().string.isRequired}).isRequired,outline:xk().shape({stroke:xk().string.isRequired,strokeWidth:xk().number.isRequired,outlineWidth:xk().number.isRequired,outlineColor:xk().string.isRequired}).isRequired,symbol:xk().shape({fill:xk().string.isRequired,outlineWidth:xk().number.isRequired,outlineColor:xk().string.isRequired}).isRequired}),YR=(xk().shape({background:xk().string.isRequired,fontFamily:xk().string.isRequired,fontSize:xk().number.isRequired,textColor:xk().string.isRequired,axis:FR.isRequired,grid:BR.isRequired,legends:zR.isRequired,labels:UR.isRequired,dots:GR.isRequired,markers:VR,crosshair:ZR.isRequired,annotations:WR.isRequired}),{background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}}),HR=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],qR=function(e,t){var n=IN()({},e,t);return HR.forEach((function(e){void 0===RN()(n,e+".fontFamily")&&jN()(n,e+".fontFamily",n.fontFamily),void 0===RN()(n,e+".fontSize")&&jN()(n,e+".fontSize",n.fontSize),void 0===RN()(n,e+".fill")&&jN()(n,e+".fill",n.textColor)})),n},XR=(0,y.createContext)(),KR=function(e){var t=e.children,n=e.animate,r=e.stiffness,i=e.damping,o=e.config,a=(0,y.useMemo)((function(){var e=GN()(o)?VM[o]:o;return{animate:n,springConfig:{stiffness:r,damping:i},config:e}}),[n,r,i,o]);return(0,fk.jsx)(XR.Provider,{value:a,children:t})},$R={animate:xk().bool,motionStiffness:xk().number,motionDamping:xk().number,motionConfig:xk().oneOfType([xk().oneOf(Object.keys(VM)),xk().shape({mass:xk().number,tension:xk().number,friction:xk().number,clamp:xk().bool,precision:xk().number,velocity:xk().number,duration:xk().number,easing:xk().func})])};KR.propTypes={children:xk().node.isRequired,animate:$R.animate,stiffness:$R.motionStiffness,damping:$R.motionDamping,config:$R.motionConfig};KR.defaultProps={animate:!0,stiffness:90,damping:15,config:"default"};var QR=function(){return(0,y.useContext)(XR)},JR=function(e){var t=QR(),n=t.animate,r=t.config,i=function(e){var t=(0,y.useRef)();return(0,y.useEffect)((function(){t.current=e}),[e]),t.current}(e),o=(0,y.useMemo)((function(){return function(e,t){var n,r,i,o=BN.lastIndex=zN.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=BN.exec(e))&&(r=zN.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:FN(n,r)})),o=zN.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}(i,e)}),[i,e]),a=UO({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!n}).value;return KO(a,o)},eL={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:ZN()(RT),PRGn:ZN()(jT),PiYG:ZN()(BT),PuOr:ZN()(UT),RdBu:ZN()(VT),RdGy:ZN()(WT),RdYlBu:ZN()(HT),RdYlGn:ZN()(XT),spectral:ZN()($T),blues:ZN()(JT),greens:ZN()(tA),greys:ZN()(rA),oranges:ZN()(oA),purples:ZN()(sA),reds:ZN()(cA),BuGn:ZN()(fA),BuPu:ZN()(hA),GnBu:ZN()(vA),OrRd:ZN()(mA),PuBuGn:ZN()(bA),PuBu:ZN()(wA),PuRd:ZN()(EA),RdPu:ZN()(kA),YlGnBu:ZN()(MA),YlGn:ZN()(NA),YlOrBr:ZN()(AA),YlOrRd:ZN()(IA)},tL=Object.keys(eL),nL=(ZN()(RT),ZN()(jT),ZN()(BT),ZN()(UT),ZN()(VT),ZN()(WT),ZN()(HT),ZN()(XT),ZN()($T),ZN()(JT),ZN()(tA),ZN()(rA),ZN()(oA),ZN()(sA),ZN()(cA),ZN()(fA),ZN()(hA),ZN()(vA),ZN()(mA),ZN()(bA),ZN()(wA),ZN()(EA),ZN()(kA),ZN()(MA),ZN()(NA),ZN()(AA),ZN()(IA),xk().oneOfType([xk().oneOf(tL),xk().func,xk().arrayOf(xk().string)]),{basis:function(e){return new SP(e)},basisClosed:function(e){return new CP(e)},basisOpen:function(e){return new MP(e)},bundle:NP,cardinal:PP,cardinalClosed:DP,cardinalOpen:LP,catmullRom:BP,catmullRomClosed:UP,catmullRomOpen:VP,linear:WP,linearClosed:function(e){return new YP(e)},monotoneX:function(e){return new $P(e)},monotoneY:function(e){return new QP(e)},natural:function(e){return new eI(e)},step:function(e){return new nI(e,.5)},stepAfter:function(e){return new nI(e,1)},stepBefore:function(e){return new nI(e,0)}}),rL=Object.keys(nL),iL=(xk().oneOf(rL),rL.filter((function(e){return e.endsWith("Closed")})),_P()(rL,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),_P()(rL,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),oL=xk().oneOf(iL),aL=function(e){if(!nL[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return nL[e]},sL={defs:xk().arrayOf(xk().shape({id:xk().string.isRequired})).isRequired,fill:xk().arrayOf(xk().shape({id:xk().string.isRequired,match:xk().oneOfType([xk().oneOf(["*"]),xk().object,xk().func]).isRequired})).isRequired},uL={ascending:iI,descending:function(e){return iI(e).reverse()},insideOut:function(e){var t,n,r=e.length,i=e.map(oI),o=function(e){var t=e.map(aI);return rI(e).sort((function(e,n){return t[e]-t[n]}))}(e),a=0,s=0,u=[],c=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},none:rI,reverse:function(e){return rI(e).reverse()}},cL=Object.keys(uL),lL=(xk().oneOf(cL),{expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}sI(e,t)}},diverging:uI,none:sI,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}sI(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=e[t[s]],f=l[a][1]||0,d=(f-(l[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];d+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=d*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,sI(e,t)}}}),fL=Object.keys(lL),dL=(xk().oneOf(fL),xk().shape({top:xk().number,right:xk().number,bottom:xk().number,left:xk().number}).isRequired,xk().oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])),hL=(HN(VA),{top:0,right:0,bottom:0,left:0}),pL=function(e,t,n){return void 0===n&&(n={}),(0,y.useMemo)((function(){var r=DR({},hL,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,n.top,n.right,n.bottom,n.left])},vL=function(){var e=(0,y.useRef)(null),t=(0,y.useState)({left:0,top:0,width:0,height:0}),n=t[0],r=t[1],i=(0,y.useState)((function(){return new ResizeObserver((function(e){var t=e[0];return r(t.contentRect)}))}))[0];return(0,y.useEffect)((function(){return e.current&&i.observe(e.current),function(){return i.disconnect()}}),[]),[e,n]},gL=function(e){return(0,y.useMemo)((function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?aD(e.slice("5")):bI(e):function(e){return""+e}}(e)}),[e])},mL=(0,y.createContext)(),yL={},bL=function(e){var t=e.theme,n=void 0===t?yL:t,r=e.children,i=function(e){return(0,y.useMemo)((function(){return qR(YR,e)}),[e])}(n);return(0,fk.jsx)(mL.Provider,{value:i,children:r})};bL.propTypes={children:xk().node.isRequired,theme:xk().object};var xL=function(){return(0,y.useContext)(mL)},wL=function(e){var t=e.children,n=e.condition,r=e.wrapper;return n?(0,y.cloneElement)(r,{},t):t};wL.propTypes={children:xk().node.isRequired,condition:xk().bool.isRequired,wrapper:xk().element.isRequired};var _L={position:"relative"},EL=function(e){var t=e.children,n=e.theme,r=e.renderWrapper,i=void 0===r||r,o=e.isInteractive,a=void 0===o||o,s=e.animate,u=e.motionStiffness,c=e.motionDamping,l=e.motionConfig,f=(0,y.useRef)(null);return(0,fk.jsx)(bL,{theme:n,children:(0,fk.jsx)(KR,{animate:s,stiffness:u,damping:c,config:l,children:(0,fk.jsx)(AN,{container:f,children:(0,fk.jsxs)(wL,{condition:i,wrapper:(0,fk.jsx)("div",{style:_L,ref:f}),children:[t,a&&(0,fk.jsx)(TN,{})]})})})})};EL.propTypes={children:xk().element.isRequired,isInteractive:xk().bool,renderWrapper:xk().bool,theme:xk().object,animate:xk().bool,motionStiffness:xk().number,motionDamping:xk().number,motionConfig:xk().string};xk().func.isRequired,xk().bool,xk().bool,xk().object.isRequired,xk().bool.isRequired,xk().number,xk().number,xk().string;var SL=function(e){var t=e.children,n=vL(),r=n[0],i=n[1],o=i.width>0&&i.height>0;return(0,fk.jsx)("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:i.width,height:i.height})})};SL.propTypes={children:xk().func.isRequired};var kL=["id","colors"],CL=function(e){var t=e.id,n=e.colors,r=LR(e,kL);return(0,fk.jsx)("linearGradient",DR({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map((function(e){var t=e.offset,n=e.color,r=e.opacity;return(0,fk.jsx)("stop",{offset:t+"%",stopColor:n,stopOpacity:void 0!==r?r:1},t)}))}))};CL.propTypes={id:xk().string.isRequired,colors:xk().arrayOf(xk().shape({offset:xk().number.isRequired,color:xk().string.isRequired,opacity:xk().number})).isRequired,gradientTransform:xk().string};var ML={linearGradient:CL},OL=(0,y.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,u=i/2,c=o/2;return!0===a&&(s=2*i+2*o),(0,fk.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,fk.jsx)("rect",{width:s,height:s,fill:n}),(0,fk.jsx)("circle",{cx:c+u,cy:c+u,r:u,fill:r}),a&&(0,fk.jsx)("circle",{cx:1.5*o+i+u,cy:1.5*o+i+u,r:u,fill:r})]})}));OL.displayName="PatternDots",OL.propTypes={id:xk().string.isRequired,color:xk().string.isRequired,background:xk().string.isRequired,size:xk().number.isRequired,padding:xk().number.isRequired,stagger:xk().bool.isRequired},OL.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};Math.PI;var NL=function(e){return e*Math.PI/180},TL=function(e){return 180*e/Math.PI},AL=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},PL={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},IL=(0,y.memo)((function(e){var t=e.id,n=e.spacing,r=e.rotation,i=e.background,o=e.color,a=e.lineWidth,s=Math.round(r)%360,u=Math.abs(n);s>180?s-=360:s>90?s-=180:s<-180?s+=360:s<-90&&(s+=180);var c,l=u,f=u;return 0===s?c="\n                M 0 0 L "+l+" 0\n                M 0 "+f+" L "+l+" "+f+"\n            ":90===s?c="\n                M 0 0 L 0 "+f+"\n                M "+l+" 0 L "+l+" "+f+"\n            ":(l=Math.abs(u/Math.sin(NL(s))),f=u/Math.sin(NL(90-s)),c=s>0?"\n                    M 0 "+-f+" L "+2*l+" "+f+"\n                    M "+-l+" "+-f+" L "+l+" "+f+"\n                    M "+-l+" 0 L "+l+" "+2*f+"\n                ":"\n                    M "+-l+" "+f+" L "+l+" "+-f+"\n                    M "+-l+" "+2*f+" L "+2*l+" "+-f+"\n                    M 0 "+2*f+" L "+2*l+" 0\n                "),(0,fk.jsxs)("pattern",{id:t,width:l,height:f,patternUnits:"userSpaceOnUse",children:[(0,fk.jsx)("rect",{width:l,height:f,fill:i,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),(0,fk.jsx)("path",{d:c,strokeWidth:a,stroke:o,strokeLinecap:"square"})]})}));IL.displayName="PatternLines",IL.propTypes={id:xk().string.isRequired,spacing:xk().number.isRequired,rotation:xk().number.isRequired,background:xk().string.isRequired,color:xk().string.isRequired,lineWidth:xk().number.isRequired},IL.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var DL=(0,y.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,u=o/2;return!0===a&&(s=2*i+2*o),(0,fk.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,fk.jsx)("rect",{width:s,height:s,fill:n}),(0,fk.jsx)("rect",{x:u,y:u,width:i,height:i,fill:r}),a&&(0,fk.jsx)("rect",{x:1.5*o+i,y:1.5*o+i,width:i,height:i,fill:r})]})}));DL.displayName="PatternSquares",DL.propTypes={id:xk().string.isRequired,color:xk().string.isRequired,background:xk().string.isRequired,size:xk().number.isRequired,padding:xk().number.isRequired,stagger:xk().bool.isRequired},DL.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var RL={patternDots:OL,patternLines:IL,patternSquares:DL},LL=["type"],jL=DR({},ML,RL),FL=function(e){var t=e.defs;return!t||t.length<1?null:(0,fk.jsx)("defs",{"aria-hidden":!0,children:t.map((function(e){var t=e.type,n=LR(e,LL);return jL[t]?(0,y.createElement)(jL[t],DR({key:n.id},n)):null}))})};FL.propTypes={defs:xk().arrayOf(xk().shape({type:xk().oneOf(Object.keys(jL)).isRequired,id:xk().string.isRequired}))};var BL=(0,y.memo)(FL),zL=function(e){var t=e.width,n=e.height,r=e.margin,i=e.defs,o=e.children,a=e.role,s=e.ariaLabel,u=e.ariaLabelledBy,c=e.ariaDescribedBy,l=e.isFocusable,f=xL();return(0,fk.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:a,"aria-label":s,"aria-labelledby":u,"aria-describedby":c,focusable:l,tabIndex:l?0:void 0,children:[(0,fk.jsx)(BL,{defs:i}),(0,fk.jsx)("rect",{width:t,height:n,fill:f.background}),(0,fk.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};zL.propTypes={width:xk().number.isRequired,height:xk().number.isRequired,margin:xk().shape({top:xk().number.isRequired,left:xk().number.isRequired}).isRequired,defs:xk().array,children:xk().oneOfType([xk().arrayOf(xk().node),xk().node]).isRequired,role:xk().string,isFocusable:xk().bool,ariaLabel:xk().string,ariaLabelledBy:xk().string,ariaDescribedBy:xk().string};var UL=function(e){var t=e.size,n=e.color,r=e.borderWidth,i=e.borderColor;return(0,fk.jsx)("circle",{r:t/2,fill:n,stroke:i,strokeWidth:r,style:{pointerEvents:"none"}})};UL.propTypes={size:xk().number.isRequired,color:xk().string.isRequired,borderWidth:xk().number.isRequired,borderColor:xk().string.isRequired};var GL=(0,y.memo)(UL),VL=function(e){var t=e.x,n=e.y,r=e.symbol,i=void 0===r?GL:r,o=e.size,a=e.datum,s=e.color,u=e.borderWidth,c=e.borderColor,l=e.label,f=e.labelTextAnchor,d=void 0===f?"middle":f,h=e.labelYOffset,p=void 0===h?-12:h,v=xL(),g=QR(),m=g.animate,b=UO({transform:"translate("+t+", "+n+")",config:g.config,immediate:!m});return(0,fk.jsxs)(pN.g,{transform:b.transform,style:{pointerEvents:"none"},children:[(0,y.createElement)(i,{size:o,color:s,datum:a,borderWidth:u,borderColor:c}),l&&(0,fk.jsx)("text",{textAnchor:d,y:p,style:v.dots.text,children:l})]})};VL.propTypes={x:xk().number.isRequired,y:xk().number.isRequired,datum:xk().object.isRequired,size:xk().number.isRequired,color:xk().string.isRequired,borderWidth:xk().number.isRequired,borderColor:xk().string.isRequired,symbol:xk().oneOfType([xk().func,xk().object]),label:xk().oneOfType([xk().string,xk().number]),labelTextAnchor:xk().oneOf(["start","middle","end"]),labelYOffset:xk().number.isRequired};var ZL=(0,y.memo)(VL),WL=function(e){var t=e.width,n=e.height,r=e.axis,i=e.scale,o=e.value,a=e.lineStyle,s=e.textStyle,u=e.legend,c=e.legendPosition,l=e.legendOffsetX,f=e.legendOffsetY,d=e.legendOrientation,h=xL(),p=0,v=0,g=0,m=0;"y"===r?(g=i(o),v=t):(p=i(o),m=n);var y=null;if(u){var b=function(e){var t=e.width,n=e.height,r=e.position,i=e.offsetX,o=e.offsetY,a=e.orientation,s=0,u=0,c="vertical"===a?-90:0,l="start";if("x"===e.axis)switch(r){case"top-left":s=-i,u=o,l="end";break;case"top":u=-o,l="horizontal"===a?"middle":"start";break;case"top-right":s=i,u=o,l="horizontal"===a?"start":"end";break;case"right":s=i,u=n/2,l="horizontal"===a?"start":"middle";break;case"bottom-right":s=i,u=n-o,l="start";break;case"bottom":u=n+o,l="horizontal"===a?"middle":"end";break;case"bottom-left":u=n-o,s=-i,l="horizontal"===a?"end":"start";break;case"left":s=-i,u=n/2,l="horizontal"===a?"end":"middle"}else switch(r){case"top-left":s=i,u=-o,l="start";break;case"top":s=t/2,u=-o,l="horizontal"===a?"middle":"start";break;case"top-right":s=t-i,u=-o,l="horizontal"===a?"end":"start";break;case"right":s=t+i,l="horizontal"===a?"start":"middle";break;case"bottom-right":s=t-i,u=o,l="end";break;case"bottom":s=t/2,u=o,l="horizontal"===a?"middle":"end";break;case"bottom-left":s=i,u=o,l="horizontal"===a?"start":"end";break;case"left":s=-i,l="horizontal"===a?"end":"middle"}return{x:s,y:u,rotation:c,textAnchor:l}}({axis:r,width:t,height:n,position:c,offsetX:l,offsetY:f,orientation:d});y=(0,fk.jsx)("text",{transform:"translate("+b.x+", "+b.y+") rotate("+b.rotation+")",textAnchor:b.textAnchor,dominantBaseline:"central",style:s,children:u})}return(0,fk.jsxs)("g",{transform:"translate("+p+", "+g+")",children:[(0,fk.jsx)("line",{x1:0,x2:v,y1:0,y2:m,stroke:h.markers.lineColor,strokeWidth:h.markers.lineStrokeWidth,style:a}),y]})};WL.propTypes={width:xk().number.isRequired,height:xk().number.isRequired,axis:xk().oneOf(["x","y"]).isRequired,scale:xk().func.isRequired,value:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]).isRequired,lineStyle:xk().object,textStyle:xk().object,legend:xk().string,legendPosition:xk().oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:xk().number.isRequired,legendOffsetY:xk().number.isRequired,legendOrientation:xk().oneOf(["horizontal","vertical"]).isRequired},WL.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var YL=(0,y.memo)(WL),HL=function(e){var t=e.markers,n=e.width,r=e.height,i=e.xScale,o=e.yScale;return t&&0!==t.length?t.map((function(e,t){return(0,fk.jsx)(YL,DR({},e,{width:n,height:r,scale:"y"===e.axis?o:i}),t)})):null};HL.propTypes={width:xk().number.isRequired,height:xk().number.isRequired,xScale:xk().func.isRequired,yScale:xk().func.isRequired,markers:xk().arrayOf(xk().shape({axis:xk().oneOf(["x","y"]).isRequired,value:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]).isRequired,lineStyle:xk().object,textStyle:xk().object}))};var qL=(0,y.memo)(HL),XL=["theme","renderWrapper","animate","motionStiffness","motionDamping","motionConfig"],KL=function(e){return function(t){var n,r;function i(){return t.apply(this,arguments)||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,RR(n,r),i.prototype.render=function(){var t=this.props,n=t.theme,r=t.renderWrapper,i=t.animate,o=t.motionStiffness,a=t.motionDamping,s=t.motionConfig,u=LR(t,XL);return(0,fk.jsx)(EL,{theme:n,renderWrapper:r,isInteractive:u.isInteractive,animate:i,motionStiffness:o,motionDamping:a,motionConfig:s,children:(0,fk.jsx)(e,DR({},u))})},i}(y.Component)},$L=function(e){return xP()(e)?e:function(t){return RN()(t,e)}},QL=function(e){return(0,y.useMemo)((function(){return $L(e)}),[e])},JL=function(e,t,n,r,i,o){return e<=i&&i<=e+n&&t<=o&&o<=t+r},ej=function(e,t){var n=t.clientX,r=t.clientY,i=e.getBoundingClientRect();return[n-i.left,r-i.top]},tj=Object.keys(ML),nj=Object.keys(RL),rj=function(e,t,n,r){var i=void 0===r?{}:r,o=i.dataKey,a=i.colorKey,s=void 0===a?"color":a,u=i.targetKey,c=void 0===u?"fill":u,l=[],f={};return e.length&&t.length&&(l=[].concat(e),t.forEach((function(t){for(var r=function(r){var i=n[r],a=i.id;if(function(e,t,n){if("*"===e)return!0;if(xP()(e))return e(t);if(AR()(e)){var r=n?RN()(t,n):t;return Ys()(IR()(r,Object.keys(e)),e)}return!1}(i.match,t,o)){var u=e.find((function(e){return e.id===a}));if(u)if(nj.includes(u.type))if("inherit"===u.background||"inherit"===u.color){var d=RN()(t,s),h=u.background,p=u.color,v=a;"inherit"===u.background&&(v=v+".bg."+d,h=d),"inherit"===u.color&&(v=v+".fg."+d,p=d),jN()(t,c,"url(#"+v+")"),f[v]||(l.push(DR({},u,{id:v,background:h,color:p})),f[v]=1)}else jN()(t,c,"url(#"+a+")");else if(tj.includes(u.type))if(u.colors.map((function(e){return e.color})).includes("inherit")){var g=RN()(t,s),m=a,y=DR({},u,{colors:u.colors.map((function(e,t){return"inherit"!==e.color?e:(m=m+"."+t+"."+g,DR({},e,{color:"inherit"===e.color?g:e.color}))}))});y.id=m,jN()(t,c,"url(#"+m+")"),f[m]||(l.push(y),f[m]=1)}else jN()(t,c,"url(#"+a+")");return"break"}},i=0;i<n.length&&"break"!==r(i);i++);}))),l};function ij(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function oj(e,t){var n,r,i,o,a,s=new cj(e),u=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=aj);n=c.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new cj(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(uj)}function aj(e){return e.children}function sj(e){e.data=e.data.data}function uj(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function cj(e){this.data=e,this.depth=this.height=0,this.parent=null}cj.prototype=oj.prototype={constructor:cj,count:function(){return this.eachAfter(ij)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return oj(this).eachBefore(sj)}};var lj=Array.prototype.slice;function fj(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(lj.call(e))).length,o=[];r<i;)t=e[r],n&&pj(n,t)?++r:(n=gj(o=dj(o,t)),r=0);return n}function dj(e,t){var n,r;if(vj(t,e))return[t];for(n=0;n<e.length;++n)if(hj(t,e[n])&&vj(mj(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(hj(mj(e[n],e[r]),t)&&hj(mj(e[n],t),e[r])&&hj(mj(e[r],t),e[n])&&vj(yj(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function hj(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function pj(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vj(e,t){for(var n=0;n<t.length;++n)if(!pj(e,t[n]))return!1;return!0}function gj(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return mj(e[0],e[1]);case 3:return yj(e[0],e[1],e[2])}}function mj(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function yj(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,c=n.x,l=n.y,f=n.r,d=r-a,h=r-c,p=i-s,v=i-l,g=u-o,m=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,x=y-c*c-l*l+f*f,w=h*p-d*v,_=(p*x-v*b)/(2*w)-r,E=(v*g-p*m)/w,S=(h*b-d*x)/(2*w)-i,k=(d*m-h*g)/w,C=E*E+k*k-1,M=2*(o+_*E+S*k),O=_*_+S*S-o*o,N=-(C?(M+Math.sqrt(M*M-4*C*O))/(2*C):O/M);return{x:r+_+E*N,y:i+S+k*N,r:N}}function bj(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,c=s*s+u*u;c?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function xj(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function wj(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function _j(e){this._=e,this.next=null,this.previous=null}function Ej(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,c,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;bj(n,t,r=e[2]),t=new _j(t),n=new _j(n),r=new _j(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){bj(t._,n._,r=e[s]),r=new _j(r),u=n.next,c=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(xj(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}l+=u._.r,u=u.next}else{if(xj(c._,r._)){(t=c).next=n,n.previous=t,--s;continue e}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=wj(t);(r=r.next)!==n;)(a=wj(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=fj(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function Sj(e){return null==e?null:function(e){if("function"!==typeof e)throw new Error;return e}(e)}function kj(){return 0}function Cj(e){return function(){return e}}function Mj(e){return Math.sqrt(e.value)}function Oj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Nj(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Ej(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Tj(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Aj=n(58121),Pj=n.n(Aj),Ij=n(64286),Dj=n.n(Ij);function Rj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jj(){}var Fj=.7,Bj=1/Fj,zj="\\s*([+-]?\\d+)\\s*",Uj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vj=/^#([0-9a-f]{3,8})$/,Zj=new RegExp("^rgb\\("+[zj,zj,zj]+"\\)$"),Wj=new RegExp("^rgb\\("+[Gj,Gj,Gj]+"\\)$"),Yj=new RegExp("^rgba\\("+[zj,zj,zj,Uj]+"\\)$"),Hj=new RegExp("^rgba\\("+[Gj,Gj,Gj,Uj]+"\\)$"),qj=new RegExp("^hsl\\("+[Uj,Gj,Gj]+"\\)$"),Xj=new RegExp("^hsla\\("+[Uj,Gj,Gj,Uj]+"\\)$"),Kj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $j(){return this.rgb().formatHex()}function Qj(){return this.rgb().formatRgb()}function Jj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?eF(t):3===n?new iF(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tF(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tF(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Zj.exec(e))?new iF(t[1],t[2],t[3],1):(t=Wj.exec(e))?new iF(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Yj.exec(e))?tF(t[1],t[2],t[3],t[4]):(t=Hj.exec(e))?tF(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=qj.exec(e))?uF(t[1],t[2]/100,t[3]/100,1):(t=Xj.exec(e))?uF(t[1],t[2]/100,t[3]/100,t[4]):Kj.hasOwnProperty(e)?eF(Kj[e]):"transparent"===e?new iF(NaN,NaN,NaN,0):null}function eF(e){return new iF(e>>16&255,e>>8&255,255&e,1)}function tF(e,t,n,r){return r<=0&&(e=t=n=NaN),new iF(e,t,n,r)}function nF(e){return e instanceof jj||(e=Jj(e)),e?new iF((e=e.rgb()).r,e.g,e.b,e.opacity):new iF}function rF(e,t,n,r){return 1===arguments.length?nF(e):new iF(e,t,n,null==r?1:r)}function iF(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function oF(){return"#"+sF(this.r)+sF(this.g)+sF(this.b)}function aF(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function sF(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function uF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lF(e,t,n,r)}function cF(e){if(e instanceof lF)return new lF(e.h,e.s,e.l,e.opacity);if(e instanceof jj||(e=Jj(e)),!e)return new lF;if(e instanceof lF)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new lF(a,s,u,e.opacity)}function lF(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function fF(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function dF(){return dF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dF.apply(this,arguments)}function hF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Rj(jj,Jj,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$j,formatHex:$j,formatHsl:function(){return cF(this).formatHsl()},formatRgb:Qj,toString:Qj}),Rj(iF,rF,Lj(jj,{brighter:function(e){return e=null==e?Bj:Math.pow(Bj,e),new iF(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Fj:Math.pow(Fj,e),new iF(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oF,formatHex:oF,formatRgb:aF,toString:aF})),Rj(lF,(function(e,t,n,r){return 1===arguments.length?cF(e):new lF(e,t,n,null==r?1:r)}),Lj(jj,{brighter:function(e){return e=null==e?Bj:Math.pow(Bj,e),new lF(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Fj:Math.pow(Fj,e),new lF(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new iF(fF(e>=240?e-240:e+120,i,r),fF(e,i,r),fF(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var pF={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:RA,accent:LA,dark2:jA,paired:FA,pastel1:BA,pastel2:zA,set1:UA,set2:GA,set3:VA},vF=Object.keys(pF),gF={brown_blueGreen:RT,purpleRed_green:jT,pink_yellowGreen:BT,purple_orange:UT,red_blue:VT,red_grey:WT,red_yellow_blue:HT,red_yellow_green:XT,spectral:$T},mF=Object.keys(gF),yF={brown_blueGreen:LT,purpleRed_green:FT,pink_yellowGreen:zT,purple_orange:GT,red_blue:ZT,red_grey:YT,red_yellow_blue:qT,red_yellow_green:KT,spectral:QT},bF={blues:JT,greens:tA,greys:rA,oranges:oA,purples:sA,reds:cA,blue_green:fA,blue_purple:hA,green_blue:vA,orange_red:mA,purple_blue_green:bA,purple_blue:wA,purple_red:EA,red_purple:kA,yellow_green_blue:MA,yellow_green:NA,yellow_orange_brown:AA,yellow_orange_red:IA},xF=Object.keys(bF),wF={blues:eA,greens:nA,greys:iA,oranges:aA,purples:uA,reds:lA,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:WA,inferno:HA,magma:YA,plasma:qA,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:lP,cool:fP,cubehelixDefault:pP,blue_green:dA,blue_purple:pA,green_blue:gA,orange_red:yA,purple_blue_green:xA,purple_blue:_A,purple_red:SA,red_purple:CA,yellow_green_blue:OA,yellow_green:TA,yellow_orange_brown:PA,yellow_orange_red:DA},_F=dF({},pF,gF,bF),EF=Object.keys(_F),SF=dF({},yF,wF,{rainbow:hP,sinebow:yP}),kF=(Object.keys(SF),function(e,t){if("function"==typeof e)return e;if(AR()(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var n=RN()(t,e.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return RN()(t,e.from)};if(Array.isArray(e.modifiers)){for(var i,o=[],a=function(){var e=i.value,t=e[0],n=e[1];if("brighter"===t)o.push((function(e){return e.brighter(n)}));else if("darker"===t)o.push((function(e){return e.darker(n)}));else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");o.push((function(e){return e.opacity=n,e}))}},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return hF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hF(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(i=s()).done;)a();return 0===o.length?r:function(e){return o.reduce((function(e,t){return t(e)}),rF(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),CF=function(e,t){return(0,y.useMemo)((function(){return kF(e,t)}),[e,t])},MF=xk().oneOfType([xk().func,xk().arrayOf(xk().string),xk().shape({scheme:xk().oneOf(EF).isRequired,size:xk().number}),xk().shape({datum:xk().string.isRequired}),xk().string]),OF=(xk().oneOfType([xk().string,xk().func,xk().shape({theme:xk().string.isRequired}),xk().shape({from:xk().string.isRequired,modifiers:xk().arrayOf(xk().array)})]),function(e,t){if("function"==typeof e)return e;var n="function"==typeof t?t:function(e){return RN()(e,t)};if(Array.isArray(e)){var r=HN(e),i=function(e){return r(n(e))};return i.scale=r,i}if(AR()(e)){if(function(e){return void 0!==e.datum}(e))return function(t){return RN()(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return vF.includes(e)}(e.scheme)){var o=HN(_F[e.scheme]),a=function(e){return o(n(e))};return a.scale=o,a}if(function(e){return mF.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=HN(_F[e.scheme][e.size||11]),u=function(e){return s(n(e))};return u.scale=s,u}if(function(e){return xF.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var c=HN(_F[e.scheme][e.size||9]),l=function(e){return c(n(e))};return l.scale=c,l}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}}),NF=function(e,t){return(0,y.useMemo)((function(){return OF(e,t)}),[e,t])};function TF(){return TF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TF.apply(this,arguments)}function AF(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var PF,IF=function(e){var t,n=e.data,r=e.id,i=e.value,o=e.valueFormat,a=e.width,s=e.height,u=e.padding,c=e.leavesOnly,l=e.colors,f=e.colorBy,d=e.inheritColorFromParent,h=e.childColor,p=QL(r),v=QL(i),g=gL(o),m=NF(l,f),y=xL(),b=CF(h,y),x=oj(Pj()(n)).sum(v),w=function(){var e=null,t=1,n=1,r=kj;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Oj(e)).eachAfter(Nj(r,.5)).eachBefore(Tj(1)):i.eachBefore(Oj(Mj)).eachAfter(Nj(kj,1)).eachAfter(Nj(r,i.r/Math.min(t,n))).eachBefore(Tj(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Sj(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Cj(+e),i):r},i}().size([a,s]).padding(u)(x),_=c?w.leaves():w.descendants(),E=Dj()(_,"depth"),S=null!=(t=x.value)?t:0,k=E.reduce((function(e,t){var n,r=p(t.data),i=t.value,a=100*i/S,s=t.ancestors().map((function(e){return p(e.data)}));t.parent&&(n=e.find((function(e){return e.id===p(t.parent.data)})));var u={id:r,path:s,value:i,percentage:a,formattedValue:o?g(i):a.toFixed(2)+"%",x:t.x,y:t.y,radius:t.r,color:"",data:t.data,depth:t.depth,height:t.height};return d&&n&&u.depth>1?u.color=b(n):u.color=m(u),[].concat(e,[u])}),[]);return k},DF=function(e,t,n,r){return(0,y.useMemo)((function(){if(!t)return e;var i=e.find((function(e){return e.id===t}));if(!i)return e;var o=Math.min(n,r)/(2*i.radius),a=n/2-i.x*o,s=r/2-i.y*o;return e.map((function(e){return TF({},e,{x:e.x*o+a,y:e.y*o+s,radius:e.radius*o})}))}),[e,t,n,r])},RF=function(e){var t=e.nodes,n=e.label,r=e.filter,i=e.skipRadius,o=e.textColor,a=QL(n),s=xL(),u=CF(o,s),c=(0,y.useMemo)((function(){return t.filter((function(e){return e.radius>=i})).map((function(e){return{label:a(e),textColor:u(e),node:e}}))}),[t,i,a,u]);return(0,y.useMemo)((function(){return r?c.filter(r):c}),[c,r])},LF=function(e){var t=e.nodes,n=e.canvasEl,r=e.margin,i=(0,y.useMemo)((function(){return Dj()(t,"height")}),[t]);return(0,y.useCallback)((function(e){if(!n.current)return null;var t=ej(n.current,e),o=t[0],a=t[1];return i.find((function(e){return function(e,t,n,r){var i=n-e,o=r-t;return i*=i,o*=o,Math.sqrt(i+o)}(e.x,e.y,o-r.left,a-r.top)<=e.radius}))}),[n,r,i])},jF={id:"id",value:"value",padding:0,leavesOnly:!1,layers:["circles","labels"],colors:{scheme:"nivo"},colorBy:"depth",inheritColorFromParent:!1,childColor:{from:"color",modifiers:[["darker",.3]]},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.3]]},defs:[],fill:[],enableLabels:!1,label:"id",labelTextColor:{from:"color",modifiers:[["darker",1.6]]},labelsSkipRadius:8,isInteractive:!0,tooltip:function(e){var t=e.id,n=e.formattedValue,r=e.color;return(0,fk.jsx)(xN,{id:t,value:n,enableChip:!0,color:r})},animate:!0,motionConfig:"gentle",role:"img",pixelRatio:"undefined"!=typeof window&&null!=(PF=window.devicePixelRatio)?PF:1},FF=["isInteractive","theme"],BF=function(e){var t=e.data,n=e.id,r=void 0===n?jF.id:n,i=e.value,o=void 0===i?jF.value:i,a=e.valueFormat,s=e.width,u=e.height,c=e.margin,l=e.padding,f=void 0===l?jF.padding:l,d=e.leavesOnly,h=void 0===d?jF.leavesOnly:d,p=e.colors,v=void 0===p?jF.colors:p,g=e.colorBy,m=void 0===g?jF.colorBy:g,b=e.inheritColorFromParent,x=void 0===b?jF.inheritColorFromParent:b,w=e.childColor,_=void 0===w?jF.childColor:w,E=e.borderWidth,S=void 0===E?jF.borderWidth:E,k=e.borderColor,C=void 0===k?jF.borderColor:k,M=e.enableLabels,O=void 0===M?jF.enableLabels:M,N=e.label,T=void 0===N?jF.label:N,A=e.labelsFilter,P=e.labelsSkipRadius,I=void 0===P?jF.labelsSkipRadius:P,D=e.labelTextColor,R=void 0===D?jF.labelTextColor:D,L=e.isInteractive,j=e.onMouseMove,F=e.onClick,B=e.tooltip,z=void 0===B?jF.tooltip:B,U=e.zoomedId,G=e.role,V=void 0===G?jF.role:G,Z=e.pixelRatio,W=void 0===Z?jF.pixelRatio:Z,Y=(0,y.useRef)(null),H=xL(),q=pL(s,u,c),X=q.margin,K=q.innerWidth,$=q.innerHeight,Q=q.outerWidth,J=q.outerHeight,ee=IF({data:t,id:r,value:o,valueFormat:a,width:K,height:$,padding:f,leavesOnly:h,colors:v,colorBy:m,inheritColorFromParent:x,childColor:_}),te=DF(ee,U,K,$),ne=RF({nodes:te,label:T,filter:A,skipRadius:I,textColor:R}),re=CF(C,H);(0,y.useEffect)((function(){if(Y.current){Y.current.width=Q*W,Y.current.height=J*W;var e=Y.current.getContext("2d");e.scale(W,W),e.fillStyle=H.background,e.fillRect(0,0,Q,J),e.save(),e.translate(X.left,X.top),te.forEach((function(t){S>0&&(e.strokeStyle=re(t),e.lineWidth=S),e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fillStyle=t.color,e.fill(),S>0&&e.stroke()})),O&&(e.textAlign="center",e.textBaseline="middle",e.font=H.labels.text.fontSize+"px "+H.labels.text.fontFamily,ne.forEach((function(t){e.fillStyle=t.textColor,e.fillText(""+t.label,t.node.x,t.node.y)})))}}),[Y,K,$,Q,J,X.top,X.left,H,W,te,O,ne,S,re]);var ie=LF({nodes:te,canvasEl:Y,margin:X}),oe=NN(),ae=oe.showTooltipFromEvent,se=oe.hideTooltip,ue=(0,y.useCallback)((function(e){var t=ie(e);t?(null==j||j(t,e),ae((0,y.createElement)(z,t),e)):se()}),[ie,ae,z,se]),ce=(0,y.useCallback)((function(){se()}),[se]),le=(0,y.useCallback)((function(e){if(F){var t=ie(e);t&&F(t,e)}}),[ie,F]);return(0,fk.jsx)("canvas",{ref:Y,width:Q*W,height:J*W,style:{width:Q,height:J,cursor:L?"auto":"normal"},role:V,onMouseEnter:L?ue:void 0,onMouseMove:L?ue:void 0,onMouseLeave:L?ce:void 0,onClick:L?le:void 0})},zF=function(e){var t=e.isInteractive,n=void 0===t?jF.isInteractive:t,r=e.theme,i=AF(e,FF);return(0,fk.jsx)(EL,{isInteractive:n,theme:r,children:(0,fk.jsx)(BF,TF({isInteractive:n},i))})},UF=function(e){return(0,fk.jsx)(SL,{children:function(t){var n=t.width,r=t.height;return(0,fk.jsx)(zF,TF({width:n,height:r},e))}})},GF=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.closable,o=t.closeIcon,a=t.style,s=t.onClick,u=t.children,c=t.holder,l="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),d=y.createElement("div",Mt({className:Mn()(l,r,(0,xe.Z)({},"".concat(l,"-closable"),i)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:s},f),y.createElement("div",{className:"".concat(l,"-content")},u),i?y.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(l,"-close")},o||y.createElement("span",{className:"".concat(l,"-close-x")})):null);return c?b.createPortal(d,c):d}}]),n}(y.Component);function VF(e){var t=y.useRef({}),n=y.useState([]),r=(0,m.Z)(n,2),i=r[0],o=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var i=n.key;if(e&&(!t.current[i]||r)){var a=y.createElement(GF,Mt({},n,{holder:e}));t.current[i]=a,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,kn.Z)(e),[a]);var r=(0,kn.Z)(e);return r[t]=a,r}))}r=!1}))},y.createElement(y.Fragment,null,i)]}GF.defaultProps={onClose:function(){},duration:1.5};var ZF=0,WF=Date.now();function YF(){var e=ZF;return ZF+=1,"rcNotification_".concat(WF,"_").concat(e)}var HF=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||YF(),i=_e(_e({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=YF(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,Nn.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,o=n.closeIcon,a=n.style,s=[];return t.forEach((function(n,i){var a=n.notice,u=n.holderCallback,c=i===t.length-1?a.updateMark:void 0,l=a.key,f=a.userPassKey,d=_e(_e(_e({prefixCls:r,closeIcon:o},a),a.props),{},{key:l,noticeKey:f||l,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(l),e.noticePropsMap[l]={props:d,holderCallback:u}})),y.createElement("div",{className:Mn()(r,i),style:a},y.createElement(za,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,i=t.className,o=t.style,a=t.visible,s=e.noticePropsMap[n],u=s.props,c=s.holderCallback;return c?y.createElement("div",{key:n,className:Mn()(i,"".concat(r,"-hook-holder")),style:_e({},o),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),c(t,u)):e.hookRefs.delete(n))}}):y.createElement(GF,Mt({},u,{className:Mn()(i,null===u||void 0===u?void 0:u.className),style:_e(_e({},o),null===u||void 0===u?void 0:u.style),visible:a}))})))}}]),n}(y.Component);HF.newInstance=void 0,HF.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},HF.newInstance=function(e,t){var n=e||{},r=n.getContainer,i=ur(n,["getContainer"]),o=document.createElement("div");r?r().appendChild(o):document.body.appendChild(o);var a=!1;b.render(y.createElement(HF,Mt({},i,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){b.unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return VF(e)}}))}})),o)};var qF=HF,XF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},KF=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:XF}))};KF.displayName="InfoCircleFilled";var $F=y.forwardRef(KF);var QF=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function JF(e,t){return e===t||!(!QF(e)||!QF(t))}function eB(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!JF(e[n],t[n]))return!1;return!0}var tB=Mt({},Ln.Modal);function nB(e){tB=e?Mt(Mt({},tB),e):Mt({},Ln.Modal)}var rB="internalMark",iB=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=eB);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((function(e){return Mt(Mt({},e),{exist:!0})})),nB(e.locale&&e.locale.Modal),ji(e._ANT_MARK__===rB,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){nB(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&nB(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){nB()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return y.createElement(Fn.Provider,{value:r},n)}}]),n}(y.Component);iB.defaultProps={locale:{}};var oB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},aB=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:oB}))};aB.displayName="CheckCircleOutlined";var sB=y.forwardRef(aB),uB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},cB=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:uB}))};cB.displayName="CloseCircleOutlined";var lB=y.forwardRef(cB),fB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},dB=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:fB}))};dB.displayName="ExclamationCircleOutlined";var hB,pB,vB,gB={},mB=4.5,yB=24,bB=24,xB="",wB="topRight",_B=!1;function EB(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yB,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bB;switch(e){case"top":t={left:0,right:0,top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:0,right:0,top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function SB(e,t){var n=e.placement,r=void 0===n?wB:n,i=e.top,o=e.bottom,a=e.getContainer,s=void 0===a?hB:a,u=e.prefixCls,c=jB(),l=c.getPrefixCls,f=c.getIconPrefixCls,d=l("notification",u||xB),h=f(),p="".concat(d,"-").concat(r),v=gB[p];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:e})}));else{var g=Mn()("".concat(d,"-").concat(r),(0,xe.Z)({},"".concat(d,"-rtl"),!0===_B));gB[p]=new Promise((function(e){qF.newInstance({prefixCls:d,className:g,style:EB(r,i,o),getContainer:s,maxCount:vB},(function(n){e(n),t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var kB={success:sB,info:lk,error:lB,warning:y.forwardRef(dB)};function CB(e,t,n){var r=e.duration,i=e.icon,o=e.type,a=e.description,s=e.message,u=e.btn,c=e.onClose,l=e.onClick,f=e.key,d=e.style,h=e.className,p=e.closeIcon,v=void 0===p?pB:p,g=void 0===r?mB:r,m=null;i?m=y.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(m=y.createElement(kB[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var b=y.createElement("span",{className:"".concat(t,"-close-x")},v||y.createElement(Mp,{className:"".concat(t,"-close-icon")})),x=!a&&m?y.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:y.createElement(ZB,{iconPrefixCls:n},y.createElement("div",{className:m?"".concat(t,"-with-icon"):"",role:"alert"},m,y.createElement("div",{className:"".concat(t,"-message")},x,s),y.createElement("div",{className:"".concat(t,"-description")},a),u?y.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:g,closable:!0,closeIcon:b,onClose:c,onClick:l,key:f,style:d||{},className:Mn()(h,(0,xe.Z)({},"".concat(t,"-").concat(o),!!o))}}var MB={open:function(e){SB(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(CB(e,n,r))}))},close:function(e){Object.keys(gB).forEach((function(t){return Promise.resolve(gB[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(xB=s),void 0!==t&&(mB=t),void 0!==n?wB=n:e.rtl&&(wB="topLeft"),void 0!==r&&(bB=r),void 0!==i&&(yB=i),void 0!==o&&(hB=o),void 0!==a&&(pB=a),void 0!==e.rtl&&(_B=e.rtl),void 0!==e.maxCount&&(vB=e.maxCount)},destroy:function(){Object.keys(gB).forEach((function(e){Promise.resolve(gB[e]).then((function(e){e.destroy()})),delete gB[e]}))}};["success","info","warning","error"].forEach((function(e){MB[e]=function(t){return MB.open(Mt(Mt({},t),{type:e}))}})),MB.warn=MB.warning,MB.useNotification=function(e,t){return function(){var n,r=null,i=VF({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),o=(0,m.Z)(i,2),a=o[0],s=o[1];var u=y.useRef({});return u.current.open=function(i){var o=i.prefixCls,s=n("notification",o);e(Mt(Mt({},i),{prefixCls:s}),(function(e){var n=e.prefixCls,o=e.instance;r=o,a(t(i,n))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(Mt(Mt({},t),{type:e}))}})),[u.current,y.createElement(Kn,{key:"holder"},(function(e){return n=e.getPrefixCls,s}))]}}(SB,CB);var OB=MB,NB=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Sr(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=hr(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=yr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=yr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=gr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=gr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),br(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[vr(Math.round(e).toString(16)),vr(Math.round(t).toString(16)),vr(Math.round(n).toString(16)),vr(xr(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*fr(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*fr(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+br(this.r,this.g,this.b,!1),t=0,n=Object.entries(Er);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=dr(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=dr(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=dr(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=dr(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var TB="-ant-".concat(Date.now(),"-").concat(Math.random());function AB(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new NB(e),o=jr(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[1],n["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new NB(t.primaryColor),a=jr(o.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new NB(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var u=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  ").trim()}(e,t);Hr()?ei(n,"".concat(TB,"-dynamic-theme")):ji(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var PB,IB,DB=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function RB(){return PB||"ant"}function LB(){return IB||"anticon"}var jB=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(RB(),"-").concat(e):RB())},getIconPrefixCls:LB,getRootPrefixCls:function(e,t){return e||(PB||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):RB()))}}},FB=function(e){var t,n,r=e.children,i=e.csp,o=e.autoInsertSpaceInButton,a=e.form,s=e.locale,u=e.componentSize,c=e.direction,l=e.space,f=e.virtual,d=e.dropdownMatchSelectWidth,h=e.legacyLocale,p=e.parentContext,v=e.iconPrefixCls,g=y.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||p.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[p.getPrefixCls,e.prefixCls]),m=Mt(Mt({},p),{csp:i,autoInsertSpaceInButton:o,locale:s||h,direction:c,space:l,virtual:f,dropdownMatchSelectWidth:d,getPrefixCls:g});DB.forEach((function(t){var n=e[t];n&&(m[t]=n)}));var b=Ii((function(){return m}),m,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),x=y.useMemo((function(){return{prefixCls:v,csp:i}}),[v,i]),w=r,_={};return s&&(_=(null===(t=s.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=Ln.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),a&&a.validateMessages&&(_=Mt(Mt({},_),a.validateMessages)),Object.keys(_).length>0&&(w=y.createElement(Ml,{validateMessages:_},r)),s&&(w=y.createElement(iB,{locale:s,_ANT_MARK__:rB},w)),(v||i)&&(w=y.createElement(cr.Provider,{value:x},w)),u&&(w=y.createElement(ac,{size:u},w)),y.createElement(Xn.Provider,{value:b},w)},BB=function(e){return y.useEffect((function(){e.direction&&(rz.config({rtl:"rtl"===e.direction}),OB.config({rtl:"rtl"===e.direction}))}),[e.direction]),y.createElement(Bn,null,(function(t,n,r){return y.createElement(Kn,null,(function(t){return y.createElement(FB,Mt({parentContext:t,legacyLocale:r},e))}))}))};BB.ConfigContext=Xn,BB.SizeContext=sc,BB.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(PB=t),void 0!==n&&(IB=n),r&&AB(RB(),r)};var zB,UB,GB,VB,ZB=BB,WB=3,YB=1,HB="",qB="move-up",XB=!1,KB=!1;function $B(){return YB++}function QB(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=jB(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,u=o("message",n||HB),c=a(e.rootPrefixCls,u),l=s();if(zB)t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:zB});else{var f={prefixCls:u,transitionName:XB?qB:"".concat(c,"-").concat(qB),style:{top:UB},getContainer:GB||r,maxCount:VB};qF.newInstance(f,(function(e){zB?t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:zB}):(zB=e,t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var JB={info:$F,success:zl,error:Yl,warning:Vl,loading:Xl};function ez(e,t,n){var r,i=void 0!==e.duration?e.duration:WB,o=JB[e.type],a=Mn()("".concat(t,"-custom-content"),(r={},(0,xe.Z)(r,"".concat(t,"-").concat(e.type),e.type),(0,xe.Z)(r,"".concat(t,"-rtl"),!0===KB),r));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:y.createElement(ZB,{iconPrefixCls:n},y.createElement("div",{className:a},e.icon||o&&y.createElement(o,null),y.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var tz={open:function(e){var t=e.key||$B(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};QB(e,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(ez(Mt(Mt({},e),{key:t,onClose:r}),i,o))}))})),r=function(){zB&&zB.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(UB=e.top,zB=null),void 0!==e.duration&&(WB=e.duration),void 0!==e.prefixCls&&(HB=e.prefixCls),void 0!==e.getContainer&&(GB=e.getContainer,zB=null),void 0!==e.transitionName&&(qB=e.transitionName,zB=null,XB=!0),void 0!==e.maxCount&&(VB=e.maxCount,zB=null),void 0!==e.rtl&&(KB=e.rtl)},destroy:function(e){if(zB)if(e){(0,zB.removeNotice)(e)}else{var t=zB.destroy;t(),zB=null}}};function nz(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(Mt(Mt({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}["success","info","warning","error","loading"].forEach((function(e){return nz(tz,e)})),tz.warn=tz.warning,tz.useMessage=function(e,t){return function(){var n,r,i=null,o=VF({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),a=(0,m.Z)(o,2),s=a[0],u=a[1];var c=y.useRef({});return c.current.open=function(o){var a=o.prefixCls,u=n("message",a),c=n(),l=o.key||$B(),f=new Promise((function(n){var a=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};e(Mt(Mt({},o),{prefixCls:u,rootPrefixCls:c,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;i=r,s(t(Mt(Mt({},o),{key:l,onClose:a}),n))}))})),d=function(){i&&i.removeNotice(l)};return d.then=function(e,t){return f.then(e,t)},d.promise=f,d},["success","info","warning","error","loading"].forEach((function(e){return nz(c.current,e)})),[c.current,y.createElement(Kn,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,u}))]}}(QB,ez);var rz=tz,iz={textColor:"#ffffff",fontSize:20};var oz=function(e){var t=function(e){var t=A_(),n={name:"",children:[]},r={};t.forEach((function(t){var n=t[e];if(Array.isArray(n)){var i,o=(0,T_.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]||(r[a]=[]),r[a].push({name:t.Title,value:1,url:t.url})}}catch(s){o.e(s)}finally{o.f()}}})),n.children=[];for(var i=0,o=Object.entries(r);i<o.length;i++){var a=(0,m.Z)(o[i],2),s=a[0],u=a[1];n.children.push({name:s,children:u})}return n}(e.type);return t.children.length<1?(0,fk.jsx)(bne,{}):(0,fk.jsx)("div",{style:{height:"900px",width:"100%",marginTop:"20px"},children:(0,fk.jsx)(UF,{data:t,margin:{top:20,right:20,bottom:20,left:20},id:"name",colors:["#f0f2f5","#1890ff","#d8e6f3"],labelsSkipRadius:40,labelsFilter:function(e){return e.label.toString().length/e.node.radius<.35&&!("root"===e.label)},padding:5,leavesOnly:!1,enableLabels:!0,label:"id",tooltip:function(e){var t=e.id;return t.length>1?(0,fk.jsx)("div",{style:{padding:5,background:"#ffffff"},children:(0,fk.jsx)("strong",{children:t})}):(0,fk.jsx)(fk.Fragment,{})},animate:!1,onClick:function(e){"url"in e.data&&rz.info({content:(0,fk.jsx)("a",{href:e.data.url,target:"_blank",rel:"noreferrer",children:e.data.url})})},theme:iz})})},az=n(72064),sz=n.n(az),uz=n(66339),cz=n.n(uz),lz=n(36609),fz=n.n(lz),dz=Math.sqrt(50),hz=Math.sqrt(10),pz=Math.sqrt(2);function vz(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=gz(e,t,n))||!isFinite(a))return[];if(a>0){var u=Math.round(e/a),c=Math.round(t/a);for(u*a<e&&++u,c*a>t&&--c,o=new Array(i=c-u+1);++s<i;)o[s]=(u+s)*a}else{a=-a;var l=Math.round(e*a),f=Math.round(t*a);for(l/a<e&&++l,f/a>t&&--f,o=new Array(i=f-l+1);++s<i;)o[s]=(l+s)/a}return r&&o.reverse(),o}function gz(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=dz?10:o>=hz?5:o>=pz?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=dz?10:o>=hz?5:o>=pz?2:1)}function mz(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=dz?i*=10:o>=hz?i*=5:o>=pz&&(i*=2),t<e?-i:i}function yz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bz(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return yz(e(t),n)}}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);var a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}var xz=bz(yz),wz=xz.right,_z=(xz.left,bz((function(e){return null===e?NaN:+e})).center,wz);function Ez(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Sz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kz(e,t){return(Sz(t)?Ez:Cz)(e,t)}function Cz(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Iz(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Mz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oz(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nz(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Iz(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Tz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Az=new RegExp(Tz.source,"g");function Pz(e,t){var n,r,i,o=Tz.lastIndex=Az.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Tz.exec(e))&&(r=Az.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Oz(n,r)})),o=Az.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Iz(e,t){var n,r=typeof t;return null==t||"boolean"===r?MT(t):("number"===r?Oz:"string"===r?(n=hT(t))?(t=n,AT):Pz:t instanceof hT?AT:t instanceof Date?Mz:Sz(t)?Ez:Array.isArray(t)?Cz:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Nz:Oz)(e,t)}function Dz(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Rz(e){return+e}var Lz=[0,1];function jz(e){return e}function Fz(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Bz(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Fz(i,r),o=n(a,o)):(r=Fz(r,i),o=n(o,a)),function(e){return o(r(e))}}function zz(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Fz(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=_z(e,t,1,r)-1;return o[n](i[n](t))}}function Uz(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gz(){var e,t,n,r,i,o,a=Lz,s=Lz,u=Iz,c=jz;function l(){var e=Math.min(a.length,s.length);return c!==jz&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?zz:Bz,i=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((o||(o=r(s,a.map(e),Oz)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Rz),l()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=Dz,l()},f.clamp=function(e){return arguments.length?(c=!!e||jz,l()):c!==jz},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function Vz(){return Gz()(jz,jz)}function Zz(e,t,n,r){var i,o=mz(e,t,n);switch((r=hI(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lI(t)/3)))-lI(Math.abs(e)))}(o,a))||(r.precision=i),xI(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lI(t)-lI(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-lI(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return bI(r)}function Wz(e){var t=e.domain;return e.ticks=function(e){var n=t();return vz(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Zz(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=gz(u,c,n))===r)return o[a]=u,o[s]=c,t(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Yz(){var e=Vz();return e.copy=function(){return Uz(e,Yz())},WN.apply(e,arguments),Wz(e)}function Hz(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function qz(){var e,t,n=HN().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function f(){var n=r().length,f=a<o,d=f?a:o,h=f?o:a;e=(h-d)/Math.max(1,n-u+2*c),s&&(e=Math.floor(e)),d+=(h-d-e*(n-u))*l,t=e*(1-u),s&&(d=Math.round(d),t=Math.round(t));var p=Hz(n).map((function(t){return d+e*t}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),f()):r()},n.range=function(e){var t,n;return arguments.length?(t=e,n=(0,m.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,f()):[o,a]},n.rangeRound=function(e){var t,n;return t=e,n=(0,m.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,f()):s},n.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),f()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),f()):u},n.paddingOuter=function(e){return arguments.length?(c=+e,f()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),f()):l},n.copy=function(){return qz(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},WN.apply(f(),arguments)}function Xz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xz(t())},e}var Kz=1e3,$z=6e4,Qz=36e5,Jz=864e5,eU=6048e5,tU=2592e6,nU=31536e6,rU=new Date,iU=new Date;function oU(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return oU((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return rU.setTime(+t),iU.setTime(+r),e(rU),e(iU),Math.floor(n(rU,iU))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var aU=oU((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));aU.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?oU((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):aU:null};var sU=aU,uU=(aU.range,oU((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Kz)}),(function(e,t){return(t-e)/Kz}),(function(e){return e.getUTCSeconds()}))),cU=uU,lU=(uU.range,oU((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kz)}),(function(e,t){e.setTime(+e+t*$z)}),(function(e,t){return(t-e)/$z}),(function(e){return e.getMinutes()}))),fU=lU,dU=(lU.range,oU((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kz-e.getMinutes()*$z)}),(function(e,t){e.setTime(+e+t*Qz)}),(function(e,t){return(t-e)/Qz}),(function(e){return e.getHours()}))),hU=dU,pU=(dU.range,oU((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$z)/Jz}),(function(e){return e.getDate()-1}))),vU=pU;pU.range;function gU(e){return oU((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$z)/eU}))}var mU=gU(0),yU=gU(1),bU=gU(2),xU=gU(3),wU=gU(4),_U=gU(5),EU=gU(6),SU=(mU.range,yU.range,bU.range,xU.range,wU.range,_U.range,EU.range,oU((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),kU=SU,CU=(SU.range,oU((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));CU.every=function(e){return isFinite(e=Math.floor(e))&&e>0?oU((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var MU=CU,OU=(CU.range,oU((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*$z)}),(function(e,t){return(t-e)/$z}),(function(e){return e.getUTCMinutes()}))),NU=OU,TU=(OU.range,oU((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Qz)}),(function(e,t){return(t-e)/Qz}),(function(e){return e.getUTCHours()}))),AU=TU,PU=(TU.range,oU((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Jz}),(function(e){return e.getUTCDate()-1}))),IU=PU;PU.range;function DU(e){return oU((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/eU}))}var RU=DU(0),LU=DU(1),jU=DU(2),FU=DU(3),BU=DU(4),zU=DU(5),UU=DU(6),GU=(RU.range,LU.range,jU.range,FU.range,BU.range,zU.range,UU.range,oU((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),VU=GU,ZU=(GU.range,oU((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));ZU.every=function(e){return isFinite(e=Math.floor(e))&&e>0?oU((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var WU=ZU;ZU.range;function YU(e,t,n,r,i,o){var a=[[cU,1,Kz],[cU,5,5e3],[cU,15,15e3],[cU,30,3e4],[o,1,$z],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Qz],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Jz],[r,2,1728e5],[n,1,eU],[t,1,tU],[t,3,7776e6],[e,1,nU]];function s(t,n,r){var i=Math.abs(n-t)/r,o=bz((function(e){return(0,m.Z)(e,3)[2]})).right(a,i);if(o===a.length)return e.every(mz(t/nU,n/nU,r));if(0===o)return sU.every(Math.max(mz(t,n,r),1));var s=(0,m.Z)(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),u=s[0],c=s[1];return u.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var o=n&&"function"===typeof n.range?n:s(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},s]}var HU=YU(WU,VU,RU,IU,AU,NU),qU=(0,m.Z)(HU,2),XU=qU[0],KU=qU[1],$U=YU(MU,kU,mU,vU,hU,fU),QU=(0,m.Z)($U,2),JU=QU[0],eG=QU[1];function tG(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function nG(e){return new Date(e)}function rG(e){return e instanceof Date?+e:+new Date(+e)}function iG(e,t,n,r,i,o,a,s,u,c){var l=Vz(),f=l.invert,d=l.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),g=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(u(e)<e?h:s(e)<e?p:a(e)<e?v:o(e)<e?g:r(e)<e?i(e)<e?m:y:n(e)<e?b:x)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?d(Array.from(e,rG)):d().map(nG)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?w:c(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(tG(n,e)):l},l.copy=function(){return Uz(l,iG(e,t,n,r,i,o,a,s,u,c))},l}function oG(e){return Math.log(e)}function aG(e){return Math.exp(e)}function sG(e){return-Math.log(-e)}function uG(e){return-Math.exp(-e)}function cG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lG(e){return function(t){return-e(-t)}}function fG(e){var t,n,r=e(oG,aG),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?cG:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=lG(t),n=lG(n),e(sG,uG)):e(oG,aG),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(d=s,s=u,u=d);var c,l,f,d=t(s),h=t(u),p=null==e?10:+e,v=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(l=1,c=n(d);l<o;++l)if(!((f=c*l)<s)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(l=o-1,c=n(d);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;v.push(f)}2*v.length<p&&(v=vz(s,u,p))}else v=vz(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=bI(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(tG(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function dG(){var e=fG(Gz()).domain([1,10]);return e.copy=function(){return Uz(e,dG()).base(e.base())},WN.apply(e,arguments),e}function hG(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pG(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vG(e){var t=1,n=e(hG(t),pG(t));return n.constant=function(n){return arguments.length?e(hG(t=+n),pG(t)):t},Wz(n)}function gG(){var e=vG(Gz());return e.copy=function(){return Uz(e,gG()).constant(e.constant())},WN.apply(e,arguments)}var mG=CI((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));mG.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?CI((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):mG:null};var yG=mG,bG=(mG.range,CI((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*MI)}),(function(e,t){return(t-e)/MI}),(function(e){return e.getUTCSeconds()}))),xG=bG,wG=(bG.range,CI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*MI)}),(function(e,t){e.setTime(+e+t*OI)}),(function(e,t){return(t-e)/OI}),(function(e){return e.getMinutes()}))),_G=wG,EG=(wG.range,CI((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*OI)}),(function(e,t){return(t-e)/OI}),(function(e){return e.getUTCMinutes()}))),SG=EG,kG=(EG.range,CI((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*MI-e.getMinutes()*OI)}),(function(e,t){e.setTime(+e+t*NI)}),(function(e,t){return(t-e)/NI}),(function(e){return e.getHours()}))),CG=kG,MG=(kG.range,CI((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*NI)}),(function(e,t){return(t-e)/NI}),(function(e){return e.getUTCHours()}))),OG=MG,NG=(MG.range,CI((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),TG=NG,AG=(NG.range,CI((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),PG=AG;AG.range;function IG(){return IG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IG.apply(this,arguments)}var DG=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],RG={millisecond:[],second:DG.slice(0,1),minute:DG.slice(0,2),hour:DG.slice(0,3),day:DG.slice(0,4),month:DG.slice(0,5),year:DG.slice(0,6)},LG=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,i=void 0===r?"millisecond":r,o=e.useUTC,a=void 0===o||o,s=function(e){return function(t){return RG[e].forEach((function(e){e(t)})),t}}(i);return function(e){if(void 0===e)return e;if("native"===n||e instanceof Date)return s(e);var t=a?cD(n):sD(n);return s(t(e))}},jG=function(e,t,n,r){var i,o,a,s,u=e.min,c=void 0===u?0:u,l=e.max,f=void 0===l?"auto":l,d=e.stacked,h=void 0!==d&&d,p=e.reverse,v=void 0!==p&&p,g=e.clamp,m=void 0!==g&&g,y=e.nice,b=void 0!==y&&y;i="auto"===c?!0===h?null!=(o=t.minStacked)?o:0:t.min:c,a="auto"===f?!0===h?null!=(s=t.maxStacked)?s:0:t.max:f;var x=Yz().rangeRound("x"===r?[0,n]:[n,0]).domain(v?[a,i]:[i,a]).clamp(m);return!0===b?x.nice():"number"==typeof b&&x.nice(b),FG(x,h)},FG=function(e,t){void 0===t&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},BG=function(e,t,n){var r=function(){return Xz(qz.apply(null,arguments).paddingInner(1))}().range([0,n]).domain(t.all);return r.type="point",r},zG=function(e){var t=e;return t.type="band",t},UG=function(e,t,n){var r,i,o=e.format,a=void 0===o?"native":o,s=e.precision,u=void 0===s?"millisecond":s,c=e.min,l=void 0===c?"auto":c,f=e.max,d=void 0===f?"auto":f,h=e.useUTC,p=void 0===h||h,v=e.nice,g=void 0!==v&&v,m=LG({format:a,precision:u,useUTC:p});r="auto"===l?m(t.min):"native"!==a?m(l):l,i="auto"===d?m(t.max):"native"!==a?m(d):d;var y=p?function(){return WN.apply(iG(XU,KU,WU,VU,RU,IU,AU,NU,cU,uD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return WN.apply(iG(JU,eG,MU,kU,mU,vU,hU,fU,cU,aD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();y.range([0,n]),r&&i&&y.domain([r,i]),!0===g?y.nice():"object"!=typeof g&&"number"!=typeof g||y.nice(g);var b=y;return b.type="time",b.useUTC=p,b},GG=function(e,t,n,r){var i,o=e.base,a=void 0===o?10:o,s=e.min,u=void 0===s?"auto":s,c=e.max,l=void 0===c?"auto":c;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var f,d,h=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){h||(void 0===i?i=Math.sign(e):Math.sign(e)!==i&&(h=!0))})),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");f="auto"===u?t.min:u,d="auto"===l?t.max:l;var p=dG().domain([f,d]).rangeRound("x"===r?[0,n]:[n,0]).base(a).nice();return p.type="log",p},VG=function(e,t,n,r){var i,o,a=e.constant,s=void 0===a?1:a,u=e.min,c=void 0===u?"auto":u,l=e.max,f=void 0===l?"auto":l,d=e.reverse,h=void 0!==d&&d;i="auto"===c?t.min:c,o="auto"===f?t.max:f;var p=gG().constant(s).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===h?p.domain([o,i]):p.domain([i,o]);var v=p;return v.type="symlog",v},ZG=function(e,t){return e===t},WG=function(e,t){return e.getTime()===t.getTime()};function YG(e,t,n,r){switch(e.type){case"linear":return jG(e,t,n,r);case"point":return BG(0,t,n);case"band":return function(e,t,n,r){var i=e.round,o=void 0===i||i,a=qz().range("x"===r?[0,n]:[n,0]).domain(t.all).round(o);return zG(a)}(e,t,n,r);case"time":return UG(e,t,n);case"log":return GG(e,t,n,r);case"symlog":return VG(e,t,n,r);default:throw new Error("invalid scale spec")}}var HG=function(e,t,n){var r;if("stacked"in n&&n.stacked){var i=e.data["x"===t?"xStacked":"yStacked"];return null==i?null:n(i)}return null!=(r=n(e.data[t]))?r:null},qG=function(e,t,n){return{x:XG(e,"x",t),y:XG(e,"y",n)}},XG=function(e,t,n,r){var i=void 0===r?{}:r,o=i.getValue,a=void 0===o?function(e){return e.data[t]}:o,s=i.setValue,u=void 0===s?function(e,n){e.data[t]=n}:s;if("linear"===n.type)e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&u(e,parseFloat(String(t)))}))}));else if("time"===n.type&&"native"!==n.format){var c=LG(n);e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&u(e,c(t))}))}))}var l=[];switch(e.forEach((function(e){e.data.forEach((function(e){l.push(a(e))}))})),n.type){case"linear":var f=Dj()(sz()(l).filter((function(e){return null!==e})),(function(e){return e}));return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var d=cz()(l,(function(e){return e.getTime()})).slice(0).sort((function(e,t){return t.getTime()-e.getTime()})).reverse();return{all:d,min:d[0],max:ZN()(d)};default:var h=sz()(l);return{all:h,min:h[0],max:ZN()(h)}}},KG=function(e,t,n){var r=function(e){return"x"===e?"y":"x"}(e),i=[];t[r].all.forEach((function(t){var o=fz()(t)?WG:ZG,a=[];n.forEach((function(n){var s=n.data.find((function(e){return o(e.data[r],t)})),u=null,c=null;if(void 0!==s){if(null!==(u=s.data[e])){var l=ZN()(a);void 0===l?c=u:null!==l&&(c=l+u)}s.data["x"===e?"xStacked":"yStacked"]=c}a.push(c),null!==c&&i.push(c)}))})),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},$G=function(e,t){return KG("x",e,t)},QG=function(e,t){return KG("y",e,t)},JG=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var r;return(null!=(r=e(t))?r:0)+n}},eV={millisecond:[yG,yG],second:[xG,xG],minute:[_G,SG],hour:[CG,OG],day:[CI((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),CI((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,t){return e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[VI,II],sunday:[VI,II],monday:[ZI,DI],tuesday:[WI,RI],wednesday:[YI,LI],thursday:[HI,jI],friday:[qI,FI],saturday:[XI,BI],month:[TG,PG],year:[JI,tD]},tV=Object.keys(eV),nV=new RegExp("^every\\s*(\\d+)?\\s*("+tV.join("|")+")s?$","i"),rV=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(nV);if(n){var r=n[1],i=n[2],o=eV[i][e.useUTC?1:0];if("day"===i){var a,s,u=e.domain(),c=u[0],l=u[1],f=new Date(l);return f.setDate(f.getDate()+1),null!=(a=null==(s=o.every(Number(null!=r?r:1)))?void 0:s.range(c,f))?a:[]}if(void 0===r)return e.ticks(o);var d=o.every(Number(r));if(d)return e.ticks(d)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof(h=t)&&isFinite(h)&&Math.floor(h)===h)return e.ticks(t)}var h;return e.domain()};function iV(){return iV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iV.apply(this,arguments)}var oV=function(e){var t,n=e.axis,r=e.scale,i=e.ticksPosition,o=e.tickValues,a=e.tickSize,s=e.tickPadding,u=e.tickRotation,c=e.engine,l=void 0===c?"svg":c,f=rV(r,o),d=PL[l],h="bandwidth"in r?JG(r):r,p={lineX:0,lineY:0},v={textX:0,textY:0},g="object"==typeof document&&"rtl"===document.dir,m=d.align.center,y=d.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!=(t=h(e))?t:0,y:0}},p.lineY=a*("after"===i?1:-1),v.textY=(a+s)*("after"===i?1:-1),y="after"===i?d.baseline.top:d.baseline.bottom,0===u?m=d.align.center:"after"===i&&u<0||"before"===i&&u>0?(m=d.align[g?"left":"right"],y=d.baseline.center):("after"===i&&u>0||"before"===i&&u<0)&&(m=d.align[g?"right":"left"],y=d.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=h(e))?t:0}},p.lineX=a*("after"===i?1:-1),v.textX=(a+s)*("after"===i?1:-1),m="after"===i?d.align.left:d.align.right),{ticks:f.map((function(e){return iV({key:"number"==typeof e||"string"==typeof e?e:""+e,value:e},t(e),p,v)})),textAlign:m,textBaseline:y}},aV=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=aD(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return bI(e)},sV=function(e){var t,n=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values,s=(t=a,(Array.isArray(t)?a:void 0)||rV(i,a)),u="bandwidth"in i?JG(i):i,c="x"===o?s.map((function(e){var t,n;return{key:""+e,x1:null!=(t=u(e))?t:0,x2:null!=(n=u(e))?n:0,y1:0,y2:r}})):s.map((function(e){var t,r;return{key:""+e,x1:0,x2:n,y1:null!=(t=u(e))?t:0,y2:null!=(r=u(e))?r:0}}));return c},uV=(0,y.memo)((function(e){var t,n=e.value,r=e.format,i=e.lineX,o=e.lineY,a=e.onClick,s=e.textBaseline,u=e.textAnchor,c=e.animatedProps,l=xL(),f=null!=(t=null==r?void 0:r(n))?t:n,d=(0,y.useMemo)((function(){var e={opacity:c.opacity};return a?{style:iV({},e,{cursor:"pointer"}),onClick:function(e){return a(e,f)}}:{style:e}}),[c.opacity,a,f]);return(0,fk.jsxs)(pN.g,iV({transform:c.transform},d,{children:[(0,fk.jsx)("line",{x1:0,x2:i,y1:0,y2:o,style:l.axis.ticks.line}),(0,fk.jsx)(pN.text,{dominantBaseline:s,textAnchor:u,transform:c.textTransform,style:l.axis.ticks.text,children:f})]}))})),cV=(0,y.memo)((function(e){var t=e.axis,n=e.scale,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.length,u=e.ticksPosition,c=e.tickValues,l=e.tickSize,f=void 0===l?5:l,d=e.tickPadding,h=void 0===d?5:d,p=e.tickRotation,v=void 0===p?0:p,g=e.format,m=e.renderTick,b=void 0===m?uV:m,x=e.legend,w=e.legendPosition,_=void 0===w?"end":w,E=e.legendOffset,S=void 0===E?0:E,k=e.onClick,C=e.ariaHidden,M=xL(),O=(0,y.useMemo)((function(){return aV(g,n)}),[g,n]),N=oV({axis:t,scale:n,ticksPosition:u,tickValues:c,tickSize:f,tickPadding:h,tickRotation:v}),T=N.ticks,A=N.textAlign,P=N.textBaseline,I=null;if(void 0!==x){var D,R=0,L=0,j=0;"y"===t?(j=-90,R=S,"start"===_?(D="start",L=s):"middle"===_?(D="middle",L=s/2):"end"===_&&(D="end")):(L=S,"start"===_?D="start":"middle"===_?(D="middle",R=s/2):"end"===_&&(D="end",R=s)),I=(0,fk.jsx)("text",{transform:"translate("+R+", "+L+") rotate("+j+")",textAnchor:D,style:iV({dominantBaseline:"central"},M.axis.legend.text),children:x})}var F=QR(),B=F.animate,z=F.config,U=UO({transform:"translate("+i+","+a+")",lineX2:"x"===t?s:0,lineY2:"x"===t?0:s,config:z,immediate:!B}),G=VO(T,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+v+")"}},leave:{opacity:0},config:z,immediate:!B});return(0,fk.jsxs)(pN.g,{transform:U.transform,"aria-hidden":C,children:[G((function(e,t,n,r){return y.createElement(b,iV({tickIndex:r,format:O,rotate:v,textBaseline:P,textAnchor:A,animatedProps:e},t,k?{onClick:k}:{}))})),(0,fk.jsx)(pN.line,{style:M.axis.domain.line,x1:0,x2:U.lineX2,y1:0,y2:U.lineY2}),I]})})),lV={ticksPosition:xk().oneOf(["before","after"]),tickValues:xk().oneOfType([xk().number,xk().arrayOf(xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)])),xk().string]),tickSize:xk().number,tickPadding:xk().number,tickRotation:xk().number,format:xk().oneOfType([xk().func,xk().string]),renderTick:xk().func,legend:xk().node,legendPosition:xk().oneOf(["start","middle","end"]),legendOffset:xk().number,ariaHidden:xk().bool},fV=xk().shape(lV),dV=["top","right","bottom","left"],hV=(0,y.memo)((function(e){var t=e.xScale,n=e.yScale,r=e.width,i=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,fk.jsx)(fk.Fragment,{children:dV.map((function(e){var a=o[e];if(!a)return null;var s="top"===e||"bottom"===e;return(0,fk.jsx)(cV,iV({},a,{axis:s?"x":"y",x:"right"===e?r:0,y:"bottom"===e?i:0,scale:s?t:n,length:s?r:i,ticksPosition:"top"===e||"left"===e?"before":"after"}),e)}))})})),pV=(0,y.memo)((function(e){var t=e.animatedProps,n=xL();return(0,fk.jsx)(pN.line,iV({},t,n.grid.line))})),vV=(0,y.memo)((function(e){var t=e.lines,n=QR(),r=n.animate,i=VO(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:n.config,immediate:!r});return(0,fk.jsx)("g",{children:i((function(e,t){return(0,y.createElement)(pV,iV({},t,{key:t.key,animatedProps:e}))}))})})),gV=(0,y.memo)((function(e){var t=e.width,n=e.height,r=e.xScale,i=e.yScale,o=e.xValues,a=e.yValues,s=(0,y.useMemo)((function(){return!!r&&sV({width:t,height:n,scale:r,axis:"x",values:o})}),[r,o,t,n]),u=(0,y.useMemo)((function(){return!!i&&sV({width:t,height:n,scale:i,axis:"y",values:a})}),[n,t,i,a]);return(0,fk.jsxs)(fk.Fragment,{children:[s&&(0,fk.jsx)(vV,{lines:s}),u&&(0,fk.jsx)(vV,{lines:u})]})})),mV=function(e,t){var n=t.xScale,r=t.yScale,i=t.width,o=t.height,a=t.top,s=t.right,u=t.bottom,c=t.left,l=t.theme,f={top:a,right:s,bottom:u,left:c};dV.forEach((function(t){var a=f[t];if(!a)return null;var s="top"===t||"bottom"===t,u="top"===t||"left"===t?"before":"after",c=s?n:r,d=aV(a.format,c);!function(e,t){var n,r=t.axis,i=t.scale,o=t.x,a=void 0===o?0:o,s=t.y,u=void 0===s?0:s,c=t.length,l=t.ticksPosition,f=t.tickValues,d=t.tickSize,h=void 0===d?5:d,p=t.tickPadding,v=void 0===p?5:p,g=t.tickRotation,m=void 0===g?0:g,y=t.format,b=t.legend,x=t.legendPosition,w=void 0===x?"end":x,_=t.legendOffset,E=void 0===_?0:_,S=t.theme,k=oV({axis:r,scale:i,ticksPosition:l,tickValues:f,tickSize:h,tickPadding:v,tickRotation:m,engine:"canvas"}),C=k.ticks,M=k.textAlign,O=k.textBaseline;e.save(),e.translate(a,u),e.textAlign=M,e.textBaseline=O,e.font=(S.axis.ticks.text.fontWeight?S.axis.ticks.text.fontWeight+" ":"")+S.axis.ticks.text.fontSize+"px "+S.axis.ticks.text.fontFamily,(null!=(n=S.axis.domain.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(S.axis.domain.line.strokeWidth),e.lineCap="square",S.axis.domain.line.stroke&&(e.strokeStyle=S.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?c:0,"x"===r?0:c),e.stroke());var N="function"==typeof y?y:function(e){return""+e};if(C.forEach((function(t){var n;(null!=(n=S.axis.ticks.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(S.axis.ticks.line.strokeWidth),e.lineCap="square",S.axis.ticks.line.stroke&&(e.strokeStyle=S.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=N(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(NL(m)),S.axis.ticks.text.fill&&(e.fillStyle=S.axis.ticks.text.fill),e.fillText(String(r),0,0),e.restore()})),void 0!==b){var T=0,A=0,P=0,I="center";"y"===r?(P=-90,T=E,"start"===w?(I="start",A=c):"middle"===w?(I="center",A=c/2):"end"===w&&(I="end")):(A=E,"start"===w?I="start":"middle"===w?(I="center",T=c/2):"end"===w&&(I="end",T=c)),e.translate(T,A),e.rotate(NL(P)),e.font=(S.axis.legend.text.fontWeight?S.axis.legend.text.fontWeight+" ":"")+S.axis.legend.text.fontSize+"px "+S.axis.legend.text.fontFamily,S.axis.legend.text.fill&&(e.fillStyle=S.axis.legend.text.fill),e.textAlign=I,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()}(e,iV({},a,{axis:s?"x":"y",x:"right"===t?i:0,y:"bottom"===t?o:0,scale:c,format:d,length:s?i:o,ticksPosition:u,theme:l}))}))},yV=function(e,t){var n=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values;sV({width:n,height:r,scale:i,axis:o,values:a}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))};function bV(){return bV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bV.apply(this,arguments)}var xV={top:0,right:0,bottom:0,left:0},wV=function(e){var t,n=e.direction,r=e.itemsSpacing,i=e.padding,o=e.itemCount,a=e.itemWidth,s=e.itemHeight;if("number"!=typeof i&&("object"!=typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var u="number"==typeof i?{top:i,right:i,bottom:i,left:i}:bV({},xV,i),c=u.left+u.right,l=u.top+u.bottom,f=a+c,d=s+l,h=(o-1)*r;return"row"===n?f=a*o+h+c:"column"===n&&(d=s*o+h+l),{width:f,height:d,padding:u}},_V=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,i=e.containerWidth,o=e.containerHeight,a=e.width,s=e.height,u=n,c=r;switch(t){case"top":u+=(i-a)/2;break;case"top-right":u+=i-a;break;case"right":u+=i-a,c+=(o-s)/2;break;case"bottom-right":u+=i-a,c+=o-s;break;case"bottom":u+=(i-a)/2,c+=o-s;break;case"bottom-left":c+=o-s;break;case"left":c+=(o-s)/2;break;case"center":u+=(i-a)/2,c+=(o-s)/2}return{x:u,y:c}},EV=function(e){var t,n,r,i,o,a,s=e.direction,u=e.justify,c=e.symbolSize,l=e.symbolSpacing,f=e.width,d=e.height;switch(s){case"left-to-right":t=0,n=(d-c)/2,i=d/2,a="central",u?(r=f,o="end"):(r=c+l,o="start");break;case"right-to-left":t=f-c,n=(d-c)/2,i=d/2,a="central",u?(r=0,o="start"):(r=f-c-l,o="end");break;case"top-to-bottom":t=(f-c)/2,n=0,r=f/2,o="middle",u?(i=d,a="alphabetic"):(i=c+l,a="text-before-edge");break;case"bottom-to-top":t=(f-c)/2,n=d-c,r=f/2,o="middle",u?(i=0,a="text-before-edge"):(i=d-c-l,a="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}},SV={circle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,c=e.borderColor;return(0,fk.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:i,opacity:a,strokeWidth:u,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,c=e.borderColor;return(0,fk.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,fk.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:i,opacity:a,strokeWidth:u,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,c=e.borderColor;return(0,fk.jsx)("rect",{x:t,y:n,fill:i,opacity:a,strokeWidth:u,stroke:void 0===c?"transparent":c,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,c=e.borderColor;return(0,fk.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,fk.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:i,opacity:a,strokeWidth:u,stroke:void 0===c?"transparent":c,style:{pointerEvents:"none"}})})}},kV=function(e){var t,n,r,i,o,a,s,u,c,l,f,d=e.x,h=e.y,p=e.width,v=e.height,g=e.data,m=e.direction,b=void 0===m?"left-to-right":m,x=e.justify,w=void 0!==x&&x,_=e.textColor,E=e.background,S=void 0===E?"transparent":E,k=e.opacity,C=void 0===k?1:k,M=e.symbolShape,O=void 0===M?"square":M,N=e.symbolSize,T=void 0===N?16:N,A=e.symbolSpacing,P=void 0===A?8:A,I=e.symbolBorderWidth,D=void 0===I?0:I,R=e.symbolBorderColor,L=void 0===R?"transparent":R,j=e.onClick,F=e.onMouseEnter,B=e.onMouseLeave,z=e.toggleSerie,U=e.effects,G=(0,y.useState)({}),V=G[0],Z=G[1],W=xL(),Y=(0,y.useCallback)((function(e){if(U){var t=U.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return bV({},e,t.style)}),{});Z(t)}null==F||F(g,e)}),[F,g,U]),H=(0,y.useCallback)((function(e){if(U){var t=U.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return bV({},e,t.style)}),{});Z(t)}null==B||B(g,e)}),[B,g,U]),q=EV({direction:b,justify:w,symbolSize:null!=(t=V.symbolSize)?t:T,symbolSpacing:P,width:p,height:v}),X=q.symbolX,K=q.symbolY,$=q.labelX,Q=q.labelY,J=q.labelAnchor,ee=q.labelAlignment,te=[j,F,B,z].some((function(e){return void 0!==e})),ne="function"==typeof O?O:SV[O];return(0,fk.jsxs)("g",{transform:"translate("+d+","+h+")",style:{opacity:null!=(n=V.itemOpacity)?n:C},children:[(0,fk.jsx)("rect",{width:p,height:v,fill:null!=(r=V.itemBackground)?r:S,style:{cursor:te?"pointer":"auto"},onClick:function(e){null==j||j(g,e),null==z||z(g.id)},onMouseEnter:Y,onMouseLeave:H}),y.createElement(ne,bV({id:g.id,x:X,y:K,size:null!=(i=V.symbolSize)?i:T,fill:null!=(o=null!=(a=g.fill)?a:g.color)?o:"black",borderWidth:null!=(s=V.symbolBorderWidth)?s:D,borderColor:null!=(u=V.symbolBorderColor)?u:L},g.hidden?W.legends.hidden.symbol:void 0)),(0,fk.jsx)("text",{textAnchor:J,style:bV({},W.legends.text,{fill:null!=(c=null!=(l=null!=(f=V.itemTextColor)?f:_)?l:W.legends.text.fill)?c:"black",dominantBaseline:ee,pointerEvents:"none",userSelect:"none"},g.hidden?W.legends.hidden.text:void 0),x:$,y:Q,children:g.label})]})},CV=function(e){var t=e.data,n=e.x,r=e.y,i=e.direction,o=e.padding,a=void 0===o?0:o,s=e.justify,u=e.effects,c=e.itemWidth,l=e.itemHeight,f=e.itemDirection,d=void 0===f?"left-to-right":f,h=e.itemsSpacing,p=void 0===h?0:h,v=e.itemTextColor,g=e.itemBackground,m=void 0===g?"transparent":g,y=e.itemOpacity,b=void 0===y?1:y,x=e.symbolShape,w=e.symbolSize,_=e.symbolSpacing,E=e.symbolBorderWidth,S=e.symbolBorderColor,k=e.onClick,C=e.onMouseEnter,M=e.onMouseLeave,O=e.toggleSerie,N=wV({itemCount:t.length,itemWidth:c,itemHeight:l,itemsSpacing:p,direction:i,padding:a}).padding,T="row"===i?c+p:0,A="column"===i?l+p:0;return(0,fk.jsx)("g",{transform:"translate("+n+","+r+")",children:t.map((function(e,t){return(0,fk.jsx)(kV,{data:e,x:t*T+N.left,y:t*A+N.top,width:c,height:l,direction:d,justify:s,effects:u,textColor:v,background:m,opacity:b,symbolShape:x,symbolSize:w,symbolSpacing:_,symbolBorderWidth:E,symbolBorderColor:S,onClick:k,onMouseEnter:C,onMouseLeave:M,toggleSerie:O},t)}))})},MV=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,i=e.translateX,o=void 0===i?0:i,a=e.translateY,s=void 0===a?0:a,u=e.anchor,c=e.direction,l=e.padding,f=void 0===l?0:l,d=e.justify,h=e.itemsSpacing,p=void 0===h?0:h,v=e.itemWidth,g=e.itemHeight,m=e.itemDirection,y=e.itemTextColor,b=e.itemBackground,x=e.itemOpacity,w=e.symbolShape,_=e.symbolSize,E=e.symbolSpacing,S=e.symbolBorderWidth,k=e.symbolBorderColor,C=e.onClick,M=e.onMouseEnter,O=e.onMouseLeave,N=e.toggleSerie,T=e.effects,A=wV({itemCount:t.length,itemsSpacing:p,itemWidth:v,itemHeight:g,direction:c,padding:f}),P=A.width,I=A.height,D=_V({anchor:u,translateX:o,translateY:s,containerWidth:n,containerHeight:r,width:P,height:I}),R=D.x,L=D.y;return(0,fk.jsx)(CV,{data:t,x:R,y:L,direction:c,padding:f,justify:d,effects:T,itemsSpacing:p,itemWidth:v,itemHeight:g,itemDirection:m,itemTextColor:y,itemBackground:b,itemOpacity:x,symbolShape:w,symbolSize:_,symbolSpacing:E,symbolBorderWidth:S,symbolBorderColor:k,onClick:C,onMouseEnter:M,onMouseLeave:O,toggleSerie:"boolean"==typeof N?void 0:N})},OV={start:"left",middle:"center",end:"right"},NV=function(e,t){var n=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,a=void 0===o?0:o,s=t.translateY,u=void 0===s?0:s,c=t.anchor,l=t.direction,f=t.padding,d=void 0===f?0:f,h=t.justify,p=void 0!==h&&h,v=t.itemsSpacing,g=void 0===v?0:v,m=t.itemWidth,y=t.itemHeight,b=t.itemDirection,x=void 0===b?"left-to-right":b,w=t.itemTextColor,_=t.symbolSize,E=void 0===_?16:_,S=t.symbolSpacing,k=void 0===S?8:S,C=t.theme,M=wV({itemCount:n.length,itemWidth:m,itemHeight:y,itemsSpacing:g,direction:l,padding:d}),O=M.width,N=M.height,T=M.padding,A=_V({anchor:c,translateX:a,translateY:u,containerWidth:r,containerHeight:i,width:O,height:N}),P=A.x,I=A.y,D="row"===l?m+g:0,R="column"===l?y+g:0;e.save(),e.translate(P,I),e.font=C.legends.text.fontSize+"px "+(C.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,i,o=n*D+T.left,a=n*R+T.top,s=EV({direction:x,justify:p,symbolSize:E,symbolSpacing:k,width:m,height:y}),u=s.symbolX,c=s.symbolY,l=s.labelX,f=s.labelY,d=s.labelAnchor,h=s.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(o+u,a+c,E,E),e.textAlign=OV[d],"central"===h&&(e.textBaseline="middle"),e.fillStyle=null!=(i=null!=w?w:C.legends.text.fill)?i:"black",e.fillText(String(t.label),o+l,a+f)})),e.restore()},TV={data:xk().arrayOf(xk().object),anchor:xk().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:xk().number,translateY:xk().number,direction:xk().oneOf(["row","column"]).isRequired,itemsSpacing:xk().number,itemWidth:xk().number.isRequired,itemHeight:xk().number.isRequired,itemDirection:xk().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:xk().string,itemBackground:xk().string,itemOpacity:xk().number,symbolShape:xk().oneOfType([xk().oneOf(["circle","diamond","square","triangle"]),xk().func]),symbolSize:xk().number,symbolSpacing:xk().number,symbolBorderWidth:xk().number,symbolBorderColor:xk().string,onClick:xk().func,onMouseEnter:xk().func,onMouseLeave:xk().func,effects:xk().arrayOf(xk().shape({on:xk().oneOfType([xk().oneOf(["hover"])]).isRequired,style:xk().shape({itemTextColor:xk().string,itemBackground:xk().string,itemOpacity:xk().number,symbolSize:xk().number,symbolBorderWidth:xk().number,symbolBorderColor:xk().string}).isRequired}))},AV=Math.PI,PV=2*AV,IV=1e-6,DV=PV-IV;function RV(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function LV(){return new RV}RV.prototype=LV.prototype={constructor:RV,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,c=o-e,l=a-t,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>IV)if(Math.abs(l*s-u*c)>IV&&i){var d=n-o,h=r-a,p=s*s+u*u,v=d*d+h*h,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((AV-Math.acos((p+f-v)/(2*g*m)))/2),b=y/m,x=y/g;Math.abs(b-1)>IV&&(this._+="L"+(e+b*c)+","+(t+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+x*s)+","+(this._y1=t+x*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,c=t+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>IV||Math.abs(this._y1-c)>IV)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%PV+PV),f>DV?this._+="A"+n+","+n+",0,1,"+l+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>IV&&(this._+="A"+n+","+n+",0,"+ +(f>=AV)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var jV=LV;function FV(e){return function(){return e}}function BV(e){return e[0]}function zV(e){return e[1]}function UV(){var e=BV,t=zV,n=FV(!0),r=null,i=WP,o=null;function a(a){var s,u,c,l=a.length,f=!1;for(null==r&&(o=i(c=jV())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(u,s,a),+t(u,s,a));if(c)return o=null,c+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:FV(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:FV(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:FV(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}var GV=Math.pow(2,-52),VV=new Uint32Array(512),ZV=function(){function e(t){(0,On.Z)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,Nn.Z)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,u=-1/0,c=-1/0,l=0;l<o;l++){var f=e[2*l],d=e[2*l+1];f<a&&(a=f),d<s&&(s=d),f>u&&(u=f),d>c&&(c=d),this._ids[l]=l}for(var h,p,v,g=(a+u)/2,m=(s+c)/2,y=1/0,b=0;b<o;b++){var x=WV(g,m,e[2*b],e[2*b+1]);x<y&&(h=b,y=x)}var w=e[2*h],_=e[2*h+1];y=1/0;for(var E=0;E<o;E++)if(E!==h){var S=WV(w,_,e[2*E],e[2*E+1]);S<y&&S>0&&(p=E,y=S)}for(var k=e[2*p],C=e[2*p+1],M=1/0,O=0;O<o;O++)if(O!==h&&O!==p){var N=XV(w,_,k,C,e[2*O],e[2*O+1]);N<M&&(v=O,M=N)}var T=e[2*v],A=e[2*v+1];if(M===1/0){for(var P=0;P<o;P++)this._dists[P]=e[2*P]-e[0]||e[2*P+1]-e[1];KV(this._ids,this._dists,0,o-1);for(var I=new Uint32Array(o),D=0,R=0,L=-1/0;R<o;R++){var j=this._ids[R];this._dists[j]>L&&(I[D++]=j,L=this._dists[j])}return this.hull=I.subarray(0,D),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(HV(w,_,k,C,T,A)){var F=p,B=k,z=C;p=v,k=T,C=A,v=F,T=B,A=z}var U=function(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,c=o-t,l=a*a+s*s,f=u*u+c*c,d=.5/(a*c-s*u);return{x:e+(c*l-s*f)*d,y:t+(a*f-u*l)*d}}(w,_,k,C,T,A);this._cx=U.x,this._cy=U.y;for(var G=0;G<o;G++)this._dists[G]=WV(e[2*G],e[2*G+1],U.x,U.y);KV(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,_)]=h,i[this._hashKey(k,C)]=p,i[this._hashKey(T,A)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var Z,W,Y=0;Y<this._ids.length;Y++){var H=this._ids[Y],q=e[2*H],X=e[2*H+1];if(!(Y>0&&Math.abs(q-Z)<=GV&&Math.abs(X-W)<=GV)&&(Z=q,W=X,H!==h&&H!==p&&H!==v)){for(var K=0,$=0,Q=this._hashKey(q,X);$<this._hashSize&&(-1===(K=i[(Q+$)%this._hashSize])||K===n[K]);$++);for(var J=K=t[K],ee=void 0;ee=n[J],!HV(q,X,e[2*J],e[2*J+1],e[2*ee],e[2*ee+1]);)if((J=ee)===K){J=-1;break}if(-1!==J){var te=this._addTriangle(J,H,n[J],-1,-1,r[J]);r[H]=this._legalize(te+2),r[J]=te,V++;for(var ne=n[J];ee=n[ne],HV(q,X,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,H,ee,r[H],-1,r[ne]),r[H]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(J===K)for(;HV(q,X,e[2*(ee=t[J])],e[2*ee+1],e[2*J],e[2*J+1]);)te=this._addTriangle(ee,H,J,-1,r[J],r[ee]),this._legalize(te+2),r[ee]=te,n[J]=J,V--,J=ee;this._hullStart=t[H]=J,n[J]=t[ne]=H,n[H]=ne,i[this._hashKey(q,X)]=H,i[this._hashKey(e[2*J],e[2*J+1])]=J}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var u=a-a%3,c=s+(e+1)%3,l=u+(a+2)%3,f=t[o],d=t[e],h=t[c],p=t[l];if(qV(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=f;var v=n[l];if(-1===v){var g=this._hullStart;do{if(this._hullTri[g]===l){this._hullTri[g]=e;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(e,v),this._link(a,n[o]),this._link(o,l);var m=u+(a+1)%3;i<VV.length&&(VV[i++]=m)}else{if(0===i)break;e=VV[--i]}}else{if(0===i)break;e=VV[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QV,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JV,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),e}();function WV(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function YV(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function HV(e,t,n,r,i,o){return(YV(i,o,e,t,n,r)||YV(e,t,n,r,i,o)||YV(n,r,i,o,e,t))<0}function qV(e,t,n,r,i,o,a,s){var u=e-a,c=t-s,l=n-a,f=r-s,d=i-a,h=o-s,p=l*l+f*f,v=d*d+h*h;return u*(f*v-p*h)-c*(l*v-p*d)+(u*u+c*c)*(l*h-f*d)<0}function XV(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,c=o-t,l=a*a+s*s,f=u*u+c*c,d=.5/(a*c-s*u),h=(c*l-s*f)*d,p=(a*f-u*l)*d;return h*h+p*p}function KV(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var u=n+1,c=r;$V(e,n+r>>1,u),t[e[n]]>t[e[r]]&&$V(e,n,r),t[e[u]]>t[e[r]]&&$V(e,u,r),t[e[n]]>t[e[u]]&&$V(e,n,u);for(var l=e[u],f=t[l];;){do{u++}while(t[e[u]]<f);do{c--}while(t[e[c]]>f);if(c<u)break;$V(e,u,c)}e[n+1]=e[c],e[c]=l,r-u+1>=c-n?(KV(e,t,u,r),KV(e,t,n,c-1)):(KV(e,t,n,c-1),KV(e,t,u,r))}}function $V(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function QV(e){return e[0]}function JV(e){return e[1]}var eZ=1e-6,tZ=function(){function e(){(0,On.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,Nn.Z)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>eZ||Math.abs(this._y1-i)>eZ)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),nZ=function(){function e(){(0,On.Z)(this,e),this._=[]}return(0,Nn.Z)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),rZ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,m.Z)(n,4),i=r[0],o=r[1],a=r[2],s=r[3];if((0,On.Z)(this,e),!((a=+a)>=(i=+i))||!((s=+s)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=s,this.ymin=o,this._init()}return(0,Nn.Z)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,c=0,l=o.length;u<l;u+=3,c+=2){var f=2*o[u],d=2*o[u+1],h=2*o[u+2],p=r[f],v=r[f+1],g=r[d],m=r[d+1],y=r[h],b=r[h+1],x=g-p,w=m-v,_=y-p,E=b-v,S=x*x+w*w,k=_*_+E*E,C=2*(x*E-w*_);if(C)if(Math.abs(C)<1e-8)e=(p+y)/2,t=(v+b)/2;else{var M=1/C;e=p+(E*S-w*k)*M,t=v+(x*k-_*S)*M}else e=(p+y)/2-1e8*E,t=(v+b)/2+1e8*_;s[c]=e,s[c+1]=t}var O,N,T,A=i[i.length-1],P=4*A,I=r[2*A],D=r[2*A+1];a.fill(0);for(var R=0;R<i.length;++R)O=P,N=I,T=D,P=4*(A=i[R]),I=r[2*A],D=r[2*A+1],a[O+2]=a[P]=T-D,a[O+3]=a[P+1]=I-N}},{key:"render",value:function(e){var t=null==e?e=new tZ:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,c=r.length;u<c;++u){var l=r[u];if(!(l<u)){var f=2*Math.floor(u/3),d=2*Math.floor(l/3),h=a[f],p=a[f+1],v=a[d],g=a[d+1];this._renderSegment(h,p,v,g,e)}}for(var m,y=o[o.length-1],b=0;b<o.length;++b){m=y,y=o[b];var x=2*Math.floor(i[y]/3),w=a[x],_=a[x+1],E=4*m,S=this._project(w,_,s[E+2],s[E+3]);S&&this._renderSegment(w,_,S[0],S[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new tZ:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new tZ:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:eu().mark((function e(){var t,n,r,i;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new nZ;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:eu().mark((function e(t){var n,r,i,o,a,s,u,c,l;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=(0,T_.Z)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}s=0,u=n.length;case 10:if(!(s<u)){e.next=23;break}c=0,l=a.length;case 12:if(!(c<l)){e.next=20;break}if(n[s]!=a[c]||n[s+1]!=a[c+1]||n[(s+2)%u]!=a[(c+l-2)%l]||n[(s+3)%u]!=a[(c+l-1)%l]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:c+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],u=a;do{var c=Math.floor(u/3);if(s.push(t[2*c],t[2*c+1]),o[u=u%3===2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,s=t.length,u=null,c=t[s-2],l=t[s-1],f=this._regioncode(c,l),d=0;d<s;d+=2)if(n=c,r=l,c=t[d],l=t[d+1],i=f,f=this._regioncode(c,l),0===i&&0===f)o=a,a=0,u?u.push(c,l):u=[c,l];else{var h=void 0,p=void 0,v=void 0,g=void 0,y=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,c,l,i,f)))continue;var b=h,x=(0,m.Z)(b,4);p=x[0],v=x[1],g=x[2],y=x[3]}else{if(null===(h=this._clipSegment(c,l,n,r,f,i)))continue;var w=h,_=(0,m.Z)(w,4);g=_[0],y=_[1],p=_[2],v=_[3],o=a,a=this._edgecode(p,v),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(p,v):u=[p,v]}o=a,a=this._edgecode(g,y),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(g,y):u=[g,y]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(e,o,a,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var u,c=0,l=s.length,f=this._edgecode(s[l-2],s[l-1]);c<l;c+=2)u=f,f=this._edgecode(s[c],s[c+1]),u&&f&&(c=this._edge(e,u,f,s,c),l=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,c=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[c]||r[s+1]===r[u+1]&&r[u+1]===r[c+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),iZ=eu().mark(dZ),oZ=2*Math.PI,aZ=Math.pow;function sZ(e){return e[0]}function uZ(e){return e[1]}function cZ(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var lZ=function(){function e(t){(0,On.Z)(this,e),this._delaunator=new ZV(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return(0,Nn.Z)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,s=t.length/2;a<s;++a){var u=cZ(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new ZV(t)}else delete this.collinear;for(var c=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=c.length;p<v;++p){var g=f[p%3===2?p-2:p+1];-1!==c[p]&&-1!==d[g]||(d[g]=p)}for(var m=0,y=l.length;m<y;++m)h[l[m]]=m;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new rZ(this,e)}},{key:"neighbors",value:eu().mark((function e(t){var n,r,i,o,a,s,u,c,l,f,d;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((u=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[u-1];case 6:if(!(u<s.length-1)){e.next=9;break}return e.next=9,s[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(c=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=c,f=-1;case 14:return e.next=16,f=a[l];case 16:if(a[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=o[l])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==c){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var c=e,l=aZ(t-u[2*e],2)+aZ(n-u[2*e+1],2),f=r[e],d=f;do{var h=s[d],p=aZ(t-u[2*h],2)+aZ(n-u[2*h+1],2);if(p<l&&(l=p,c=h),s[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=a[d])){if((d=i[(o[e]+1)%i.length])!==h&&aZ(t-u[2*d],2)+aZ(n-u[2*d+1],2)<l)return d;break}}while(d!==f);return c}},{key:"render",value:function(e){for(var t=null==e?e=new tZ:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var u=2*i[o],c=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[c],n[c+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new tZ:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,oZ)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new tZ:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new nZ;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new tZ:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:eu().mark((function e(){var t,n,r;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new nZ;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sZ,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uZ,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?fZ(t,n,r,i):Float64Array.from(dZ(t,n,r,i)))}}]),e}();function fZ(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}function dZ(e,t,n,r){var i,o,a,s;return eu().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:i=0,o=(0,T_.Z)(e),u.prev=2,o.s();case 4:if((a=o.n()).done){u.next=13;break}return s=a.value,u.next=8,t.call(r,s,i,e);case 8:return u.next=10,n.call(r,s,i,e);case 10:++i;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),o.e(u.t0);case 18:return u.prev=18,o.f(),u.finish(18);case 21:case"end":return u.stop()}}),iZ,null,[[2,15,18,21]])}var hZ=function(e){return"function"==typeof e?e:function(t){return t[e]}},pZ=function(e){var t=e.points,n=e.x,r=e.y,i=e.width,o=e.height,a=e.debug,s=(0,y.useMemo)((function(){return function(e){var t=e.points,n=e.x,r=void 0===n?"x":n,i=e.y,o=void 0===i?"y":i,a=hZ(r),s=hZ(o);return t.map((function(e){return[a(e),s(e)]}))}({points:t,x:n,y:r})}),[t,n,r]);return(0,y.useMemo)((function(){return function(e){var t=e.points,n=e.width,r=e.height,i=e.debug,o=lZ.from(t),a=i?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:a}}({points:s,width:i,height:o,debug:a})}),[s,i,o,a])},vZ=function(e){var t=e.nodes,n=e.width,r=e.height,i=e.x,o=e.y,a=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,c=e.onClick,l=e.debug,f=(0,y.useRef)(null),d=(0,y.useState)(null),h=d[0],p=d[1],v=pZ({points:t,x:i,y:o,width:n,height:r,debug:l}),g=v.delaunay,m=v.voronoi,b=(0,y.useMemo)((function(){if(l&&m)return m.render()}),[l,m]),x=(0,y.useCallback)((function(e){if(!f.current)return[null,null];var n=ej(f.current,e),r=n[0],i=n[1],o=g.find(r,i);return[o,void 0!==o?t[o]:null]}),[f,g]),w=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==a||a(r,e))}),[x,p,a]),_=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==s||s(r,e))}),[x,p,s]),E=(0,y.useCallback)((function(e){if(p(null),u){var n=void 0;null!==h&&(n=t[h]),n&&u(n,e)}}),[p,h,u,t]),S=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==c||c(r,e))}),[x,p,c]);return(0,fk.jsxs)("g",{ref:f,children:[l&&m&&(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsx)("path",{d:b,stroke:"red",strokeWidth:1,opacity:.75}),null!==h&&(0,fk.jsx)("path",{fill:"pink",opacity:.35,d:m.renderCell(h)})]}),(0,fk.jsx)("rect",{width:n,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:_,onMouseLeave:E,onClick:S})]})};function gZ(){return gZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gZ.apply(this,arguments)}var mZ=function(e){var t=e.point;return(0,fk.jsx)(xN,{id:(0,fk.jsxs)("span",{children:["x: ",(0,fk.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,fk.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};mZ.propTypes={point:xk().object.isRequired};var yZ=(0,y.memo)(mZ),bZ=function(e){var t=e.slice,n=e.axis,r=xL(),i="x"===n?"y":"x";return(0,fk.jsx)(_N,{rows:t.points.map((function(e){return[(0,fk.jsx)(bN,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,(0,fk.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data[i+"Formatted"]},"value")]}))})};bZ.propTypes={slice:xk().object.isRequired,axis:xk().oneOf(["x","y"]).isRequired};var xZ=(0,y.memo)(bZ),wZ={data:xk().arrayOf(xk().shape({id:xk().oneOfType([xk().string,xk().number]).isRequired,data:xk().arrayOf(xk().shape({x:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]),y:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)])})).isRequired})).isRequired,xScale:xk().object.isRequired,xFormat:xk().oneOfType([xk().func,xk().string]),yScale:xk().object.isRequired,yFormat:xk().oneOfType([xk().func,xk().string]),layers:xk().arrayOf(xk().oneOfType([xk().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),xk().func])).isRequired,curve:oL.isRequired,axisTop:fV,axisRight:fV,axisBottom:fV,axisLeft:fV,enableGridX:xk().bool.isRequired,enableGridY:xk().bool.isRequired,gridXValues:xk().oneOfType([xk().number,xk().arrayOf(xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]))]),gridYValues:xk().oneOfType([xk().number,xk().arrayOf(xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]))]),enablePoints:xk().bool.isRequired,pointSymbol:xk().func,pointSize:xk().number.isRequired,pointColor:xk().any.isRequired,pointBorderWidth:xk().number.isRequired,pointBorderColor:xk().any.isRequired,enablePointLabel:xk().bool.isRequired,pointLabel:xk().oneOfType([xk().string,xk().func]).isRequired,markers:xk().arrayOf(xk().shape({axis:xk().oneOf(["x","y"]).isRequired,value:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]).isRequired,style:xk().object})),colors:MF.isRequired,enableArea:xk().bool.isRequired,areaOpacity:xk().number.isRequired,areaBlendMode:dL.isRequired,areaBaselineValue:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]).isRequired,lineWidth:xk().number.isRequired,legends:xk().arrayOf(xk().shape(TV)).isRequired,isInteractive:xk().bool.isRequired,debugMesh:xk().bool.isRequired,tooltip:xk().oneOfType([xk().func,xk().object]).isRequired,enableSlices:xk().oneOf(["x","y",!1]).isRequired,debugSlices:xk().bool.isRequired,sliceTooltip:xk().oneOfType([xk().func,xk().object]).isRequired,enableCrosshair:xk().bool.isRequired,crosshairType:xk().string.isRequired},_Z=gZ({},wZ,{enablePointLabel:xk().bool.isRequired,role:xk().string.isRequired,useMesh:xk().bool.isRequired},$R,sL),EZ=gZ({pixelRatio:xk().number.isRequired},wZ),SZ={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:yZ,enableSlices:!1,debugSlices:!1,sliceTooltip:xZ,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},kZ=gZ({},SZ,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),CZ=gZ({},SZ,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),MZ=function(e){var t=e.curve;return(0,y.useMemo)((function(){return UV().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(aL(t))}),[t])},OZ=function(e){var t=e.curve,n=e.yScale,r=e.areaBaselineValue;return(0,y.useMemo)((function(){return function(){var e=BV,t=null,n=FV(0),r=zV,i=FV(!0),o=null,a=WP,s=null;function u(u){var c,l,f,d,h,p=u.length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(h=jV())),c=0;c<=p;++c){if(!(c<p&&i(d=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(g[f],m[f]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+e(d,c,u),m[c]=+n(d,c,u),s.point(t?+t(d,c,u):g[c],r?+r(d,c,u):m[c]))}if(h)return s=null,h+""||null}function c(){return UV().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:FV(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:FV(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:FV(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:FV(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:FV(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:FV(+e),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(n)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:FV(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(aL(t)).y0(n(r))}),[t,n,r])},NZ=function(e){var t=e.data,n=e.xScale,r=void 0===n?kZ.xScale:n,i=e.xFormat,o=e.yScale,a=void 0===o?kZ.yScale:o,s=e.yFormat,u=e.width,c=e.height,l=e.colors,f=void 0===l?kZ.colors:l,d=e.curve,h=void 0===d?kZ.curve:d,p=e.areaBaselineValue,v=void 0===p?kZ.areaBaselineValue:p,g=e.pointColor,m=void 0===g?kZ.pointColor:g,b=e.pointBorderColor,x=void 0===b?kZ.pointBorderColor:b,w=e.enableSlices,_=void 0===w?kZ.enableSlicesTooltip:w,E=gL(i),S=gL(s),k=NF(f,"id"),C=xL(),M=CF(m,C),O=CF(x,C),N=(0,y.useState)([]),T=N[0],A=N[1],P=(0,y.useMemo)((function(){return function(e,t,n,r,i){var o=e.map((function(e){return function(e){return IG({},e,{data:e.data.map((function(e){return{data:IG({},e)}}))})}(e)})),a=qG(o,t,n);"stacked"in t&&!0===t.stacked&&$G(a,o),"stacked"in n&&!0===n.stacked&&QG(a,o);var s=YG(t,a.x,r,"x"),u=YG(n,a.y,i,"y"),c=o.map((function(e){return IG({},e,{data:e.data.map((function(e){return IG({},e,{position:{x:HG(e,"x",s),y:HG(e,"y",u)}})}))})}));return IG({},a,{series:c,xScale:s,yScale:u})}(t.filter((function(e){return-1===T.indexOf(e.id)})),r,a,u,c)}),[t,T,r,a,u,c]),I=P.xScale,D=P.yScale,R=P.series,L=(0,y.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:k(e)}})),n=e.map((function(e){return gZ({},R.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return gZ({},e,{hidden:!n.find((function(t){return t.id===e.id}))})})).reverse(),series:n}}),[t,R,k]),j=L.legendData,F=L.series,B=(0,y.useCallback)((function(e){A((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),z=function(e){var t=e.series,n=e.getPointColor,r=e.getPointBorderColor,i=e.formatX,o=e.formatY;return(0,y.useMemo)((function(){return t.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(a,s){var u={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:a.position.x,y:a.position.y};return u.color=n(t),u.borderColor=r(u),u.data=gZ({},a.data,{xFormatted:i(a.data.x),yFormatted:o(a.data.y)}),u})))}),[])}),[t,n,r,i,o])}({series:F,getPointColor:M,getPointBorderColor:O,formatX:E,formatY:S}),U=function(e){var t=e.enableSlices,n=e.points,r=e.width,i=e.height;return(0,y.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var o,a=e[0],s=e[1],u=n[t-1],c=n[t+1];return{id:a,x0:o=u?a-(a-u[0])/2:a,x:a,y0:0,y:0,width:c?a-o+(c[0]-a)/2:r-o,height:i,points:s.reverse()}}))}if("y"===t){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var o,a,s=e[0],u=e[1],c=n[t-1],l=n[t+1];return o=c?s-(s-c[0])/2:s,a=l?s-o+(l[0]-s)/2:i-o,{id:s,x0:0,x:0,y0:o,y:s,width:r,height:a,points:u.reverse()}}))}}),[t,n])}({enableSlices:_,points:z,width:u,height:c});return{legendData:j,toggleSerie:B,lineGenerator:MZ({curve:h}),areaGenerator:OZ({curve:h,yScale:D,areaBaselineValue:v}),getColor:k,series:F,xScale:I,yScale:D,slices:U,points:z}},TZ=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,i=e.fill,o=e.path,a=QR(),s=a.animate,u=a.config,c=JR(o),l=UO({color:r,config:u,immediate:!s});return(0,fk.jsx)(pN.path,{d:c,fill:i||l.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};TZ.propTypes={areaBlendMode:dL.isRequired,areaOpacity:xk().number.isRequired,color:xk().string,fill:xk().string,path:xk().string.isRequired};var AZ=function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return(0,fk.jsx)("g",{children:i.map((function(e){return(0,fk.jsx)(TZ,gZ({path:t(e.data.map((function(e){return e.position})))},gZ({areaOpacity:n,areaBlendMode:r},e)),e.id)}))})};AZ.propTypes={areaGenerator:xk().func.isRequired,areaOpacity:xk().number.isRequired,areaBlendMode:dL.isRequired,lines:xk().arrayOf(xk().object).isRequired};var PZ=(0,y.memo)(AZ),IZ=function(e){var t=e.lineGenerator,n=e.points,r=e.color,i=e.thickness,o=(0,y.useMemo)((function(){return t(n)}),[t,n]),a=JR(o);return(0,fk.jsx)(pN.path,{d:a,fill:"none",strokeWidth:i,stroke:r})};IZ.propTypes={points:xk().arrayOf(xk().shape({x:xk().oneOfType([xk().string,xk().number]),y:xk().oneOfType([xk().string,xk().number])})),lineGenerator:xk().func.isRequired,color:xk().string.isRequired,thickness:xk().number.isRequired};var DZ=(0,y.memo)(IZ),RZ=function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,i=e.data,o=e.color;return(0,fk.jsx)(DZ,{id:t,points:i.map((function(e){return e.position})),lineGenerator:n,color:o,thickness:r},t)}))};RZ.propTypes={lines:xk().arrayOf(xk().shape({id:xk().oneOfType([xk().string,xk().number]).isRequired,color:xk().string.isRequired,data:xk().arrayOf(xk().shape({data:xk().shape({x:xk().oneOfType([xk().string,xk().number,xk().instanceOf(Date)]),y:xk().oneOfType([xk().string,xk().number,xk().instanceOf(Date)])}).isRequired,position:xk().shape({x:xk().number,y:xk().number}).isRequired})).isRequired})).isRequired,lineWidth:xk().number.isRequired,lineGenerator:xk().func.isRequired};var LZ=(0,y.memo)(RZ),jZ=function(e){var t=e.slice,n=e.axis,r=e.debug,i=e.tooltip,o=e.isCurrent,a=e.setCurrent,s=NN(),u=s.showTooltipFromEvent,c=s.hideTooltip,l=(0,y.useCallback)((function(e){u((0,y.createElement)(i,{slice:t,axis:n}),e,"right"),a(t)}),[u,i,t]),f=(0,y.useCallback)((function(e){u((0,y.createElement)(i,{slice:t,axis:n}),e,"right")}),[u,i,t]),d=(0,y.useCallback)((function(){c(),a(null)}),[c]);return(0,fk.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&r?.35:0,onMouseEnter:l,onMouseMove:f,onMouseLeave:d})};jZ.propTypes={slice:xk().object.isRequired,axis:xk().oneOf(["x","y"]).isRequired,debug:xk().bool.isRequired,height:xk().number.isRequired,tooltip:xk().oneOfType([xk().func,xk().object]),isCurrent:xk().bool.isRequired,setCurrent:xk().func.isRequired};var FZ=(0,y.memo)(jZ),BZ=function(e){var t=e.slices,n=e.axis,r=e.debug,i=e.height,o=e.tooltip,a=e.current,s=e.setCurrent;return t.map((function(e){return(0,fk.jsx)(FZ,{slice:e,axis:n,debug:r,height:i,tooltip:o,setCurrent:s,isCurrent:null!==a&&a.id===e.id},e.id)}))};BZ.propTypes={slices:xk().arrayOf(xk().shape({id:xk().oneOfType([xk().number,xk().string,xk().instanceOf(Date)]).isRequired,x:xk().number.isRequired,y:xk().number.isRequired,points:xk().arrayOf(xk().object).isRequired})).isRequired,axis:xk().oneOf(["x","y"]).isRequired,debug:xk().bool.isRequired,height:xk().number.isRequired,tooltip:xk().oneOfType([xk().func,xk().object]).isRequired,current:xk().object,setCurrent:xk().func.isRequired};var zZ=(0,y.memo)(BZ),UZ=function(e){var t=e.points,n=e.symbol,r=e.size,i=e.borderWidth,o=e.enableLabel,a=e.label,s=e.labelYOffset,u=xL(),c=function(e,t){var n,r=xP()(e)?e:function(t){return RN()(t,e)};return t&&(n=xP()(t)?t:bI(t)),n?function(e){return n(r(e))}:r}(a),l=t.reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?c(e.data):null}}));return(0,fk.jsx)("g",{children:l.map((function(e){return(0,fk.jsx)(ZL,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:r,color:e.fill,borderWidth:i,borderColor:e.stroke,label:e.label,labelYOffset:s,theme:u},e.id)}))})};UZ.propTypes={points:xk().arrayOf(xk().object),symbol:xk().func,size:xk().number.isRequired,color:xk().func.isRequired,borderWidth:xk().number.isRequired,borderColor:xk().func.isRequired,enableLabel:xk().bool.isRequired,label:xk().oneOfType([xk().string,xk().func]).isRequired,labelYOffset:xk().number};var GZ=(0,y.memo)(UZ),VZ=function(e){var t=e.points,n=e.width,r=e.height,i=e.margin,o=e.setCurrent,a=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,c=e.onClick,l=e.tooltip,f=e.debug,d=NN(),h=d.showTooltipAt,p=d.hideTooltip,v=(0,y.useCallback)((function(e,t){h((0,y.createElement)(l,{point:e}),[e.x+i.left,e.y+i.top],"top"),o(e),a&&a(e,t)}),[o,h,l,a,i]),g=(0,y.useCallback)((function(e,t){h((0,y.createElement)(l,{point:e}),[e.x+i.left,e.y+i.top],"top"),o(e),s&&s(e,t)}),[o,h,l,s]),m=(0,y.useCallback)((function(e,t){p(),o(null),u&&u(e,t)}),[p,o,u]),b=(0,y.useCallback)((function(e,t){c&&c(e,t)}),[c]);return(0,fk.jsx)(vZ,{nodes:t,width:n,height:r,onMouseEnter:v,onMouseMove:g,onMouseLeave:m,onClick:b,debug:f})};VZ.propTypes={points:xk().arrayOf(xk().object).isRequired,width:xk().number.isRequired,height:xk().number.isRequired,margin:xk().object.isRequired,setCurrent:xk().func.isRequired,onMouseEnter:xk().func,onMouseMove:xk().func,onMouseLeave:xk().func,onClick:xk().func,tooltip:xk().oneOfType([xk().func,xk().object]).isRequired,debug:xk().bool.isRequired};var ZZ=(0,y.memo)(VZ),WZ=function(e){var t=e.data,n=e.xScale,r=e.xFormat,i=e.yScale,o=e.yFormat,a=e.layers,s=e.curve,u=e.areaBaselineValue,c=e.colors,l=e.margin,f=e.width,d=e.height,h=e.axisTop,p=e.axisRight,v=e.axisBottom,g=e.axisLeft,m=e.enableGridX,b=e.enableGridY,x=e.gridXValues,w=e.gridYValues,_=e.lineWidth,E=e.enableArea,S=e.areaOpacity,k=e.areaBlendMode,C=e.enablePoints,M=e.pointSymbol,O=e.pointSize,N=e.pointColor,T=e.pointBorderWidth,A=e.pointBorderColor,P=e.enablePointLabel,I=e.pointLabel,D=e.pointLabelYOffset,R=e.defs,L=e.fill,j=e.markers,F=e.legends,B=e.isInteractive,z=e.useMesh,U=e.debugMesh,G=e.onMouseEnter,V=e.onMouseMove,Z=e.onMouseLeave,W=e.onClick,Y=e.tooltip,H=e.enableSlices,q=e.debugSlices,X=e.sliceTooltip,K=e.enableCrosshair,$=e.crosshairType,Q=e.role,J=pL(f,d,l),ee=J.margin,te=J.innerWidth,ne=J.innerHeight,re=J.outerWidth,ie=J.outerHeight,oe=NZ({data:t,xScale:n,xFormat:r,yScale:i,yFormat:o,width:te,height:ne,colors:c,curve:s,areaBaselineValue:u,pointColor:N,pointBorderColor:A,enableSlices:H}),ae=oe.legendData,se=oe.toggleSerie,ue=oe.lineGenerator,ce=oe.areaGenerator,le=oe.series,fe=oe.xScale,de=oe.yScale,he=oe.slices,pe=oe.points,ve=xL(),ge=CF(N,ve),me=CF(A,ve),ye=(0,y.useState)(null),be=ye[0],xe=ye[1],we=(0,y.useState)(null),_e=we[0],Ee=we[1],Se={grid:(0,fk.jsx)(gV,{theme:ve,width:te,height:ne,xScale:m?fe:null,yScale:b?de:null,xValues:x,yValues:w},"grid"),markers:(0,fk.jsx)(qL,{markers:j,width:te,height:ne,xScale:fe,yScale:de,theme:ve},"markers"),axes:(0,fk.jsx)(hV,{xScale:fe,yScale:de,width:te,height:ne,theme:ve,top:h,right:p,bottom:v,left:g},"axes"),areas:null,lines:(0,fk.jsx)(LZ,{lines:le,lineGenerator:ue,lineWidth:_},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:F.map((function(e,t){return(0,fk.jsx)(MV,gZ({},e,{containerWidth:te,containerHeight:ne,data:e.data||ae,theme:ve,toggleSerie:e.toggleSerie?se:void 0}),"legend."+t)}))},ke=rj(R,le,L);return E&&(Se.areas=(0,fk.jsx)(PZ,{areaGenerator:ce,areaOpacity:S,areaBlendMode:k,lines:le},"areas")),B&&!1!==H&&(Se.slices=(0,fk.jsx)(zZ,{slices:he,axis:H,debug:q,height:ne,tooltip:X,current:_e,setCurrent:Ee},"slices")),C&&(Se.points=(0,fk.jsx)(GZ,{points:pe,symbol:M,size:O,color:ge,borderWidth:T,borderColor:me,enableLabel:P,label:I,labelYOffset:D},"points")),B&&K&&(null!==be&&(Se.crosshair=(0,fk.jsx)(SN,{width:te,height:ne,x:be.x,y:be.y,type:$},"crosshair")),null!==_e&&(Se.crosshair=(0,fk.jsx)(SN,{width:te,height:ne,x:_e.x,y:_e.y,type:H},"crosshair"))),B&&z&&!1===H&&(Se.mesh=(0,fk.jsx)(ZZ,{points:pe,width:te,height:ne,margin:ee,current:be,setCurrent:xe,onMouseEnter:G,onMouseMove:V,onMouseLeave:Z,onClick:W,tooltip:Y,debug:U},"mesh")),(0,fk.jsx)(zL,{defs:ke,width:re,height:ie,margin:ee,role:Q,children:a.map((function(t,n){return"function"==typeof t?(0,fk.jsx)(y.Fragment,{children:t(gZ({},e,{innerWidth:te,innerHeight:ne,series:le,slices:he,points:pe,xScale:fe,yScale:de,lineGenerator:ue,areaGenerator:ce,currentPoint:be,setCurrentPoint:xe,currentSlice:_e,setCurrentSlice:Ee}))},n):Se[t]}))})};WZ.propTypes=_Z,WZ.defaultProps=kZ;var YZ=KL(WZ),HZ=function(e){return(0,fk.jsx)(SL,{children:function(t){var n=t.width,r=t.height;return(0,fk.jsx)(YZ,gZ({width:n,height:r},e))}})},qZ=function(e){var t=e.width,n=e.height,r=e.margin,i=e.pixelRatio,o=e.data,a=e.xScale,s=e.xFormat,u=e.yScale,c=e.yFormat,l=e.curve,f=e.layers,d=e.colors,h=e.lineWidth,p=e.enableArea,v=e.areaBaselineValue,g=e.areaOpacity,m=e.enablePoints,b=e.pointSize,x=e.pointColor,w=e.pointBorderWidth,_=e.pointBorderColor,E=e.enableGridX,S=e.gridXValues,k=e.enableGridY,C=e.gridYValues,M=e.axisTop,O=e.axisRight,N=e.axisBottom,T=e.axisLeft,A=e.legends,P=e.isInteractive,I=e.debugMesh,D=e.onMouseLeave,R=e.onClick,L=e.tooltip,j=e.canvasRef,F=(0,y.useRef)(null),B=pL(t,n,r),z=B.margin,U=B.innerWidth,G=B.innerHeight,V=B.outerWidth,Z=B.outerHeight,W=xL(),Y=(0,y.useState)(null),H=Y[0],q=Y[1],X=NZ({data:o,xScale:a,xFormat:s,yScale:u,yFormat:c,width:U,height:G,colors:d,curve:l,areaBaselineValue:v,pointColor:x,pointBorderColor:_}),K=X.lineGenerator,$=X.areaGenerator,Q=X.series,J=X.xScale,ee=X.yScale,te=X.points,ne=pZ({points:te,width:U,height:G,debug:I}),re=ne.delaunay,ie=ne.voronoi;(0,y.useEffect)((function(){j&&(j.current=F.current),F.current.width=V*i,F.current.height=Z*i;var e=F.current.getContext("2d");e.scale(i,i),e.fillStyle=W.background,e.fillRect(0,0,V,Z),e.translate(z.left,z.top),f.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:U,innerHeight:G,series:Q,points:te,xScale:J,yScale:ee,lineWidth:h,lineGenerator:K,areaGenerator:$,currentPoint:H,setCurrentPoint:q}),"grid"===t&&W.grid.line.strokeWidth>0&&(e.lineWidth=W.grid.line.strokeWidth,e.strokeStyle=W.grid.line.stroke,E&&yV(e,{width:U,height:G,scale:J,axis:"x",values:S}),k&&yV(e,{width:U,height:G,scale:ee,axis:"y",values:C})),"axes"===t&&mV(e,{xScale:J,yScale:ee,width:U,height:G,top:M,right:O,bottom:N,left:T,theme:W}),"areas"===t&&!0===p&&(e.save(),e.globalAlpha=g,$.context(e),Q.forEach((function(t){e.fillStyle=t.color,e.beginPath(),$(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(K.context(e),Q.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=h,e.beginPath(),K(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===m&&b>0&&te.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,b/2,0,2*Math.PI),e.fill(),w>0&&(e.strokeStyle=t.borderColor,e.lineWidth=w,e.stroke())})),"mesh"===t&&!0===I&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,ie),H&&function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()}(e,ie,H.index)),"legends"===t){var n=Q.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();A.forEach((function(t){NV(e,gZ({},t,{data:t.data||n,containerWidth:U,containerHeight:G,theme:W}))}))}}))}),[F,V,Z,f,W,K,Q,J,ee,E,S,k,C,M,O,N,T,A,te,m,b,H]);var oe=(0,y.useCallback)((function(e){var t=ej(F.current,e),n=t[0],r=t[1];if(!JL(z.left,z.top,U,G,n,r))return null;var i=re.find(n-z.left,r-z.top);return te[i]}),[F,z,U,G,re]),ae=NN(),se=ae.showTooltipFromEvent,ue=ae.hideTooltip,ce=(0,y.useCallback)((function(e){var t=oe(e);q(t),t?se((0,y.createElement)(L,{point:t}),e):ue()}),[oe,q,se,ue,L]),le=(0,y.useCallback)((function(e){ue(),q(null),H&&D&&D(H,e)}),[ue,q,D]),fe=(0,y.useCallback)((function(e){if(R){var t=oe(e);t&&R(t,e)}}),[oe,R]);return(0,fk.jsx)("canvas",{ref:F,width:V*i,height:Z*i,style:{width:V,height:Z,cursor:P?"auto":"normal"},onMouseEnter:P?ce:void 0,onMouseMove:P?ce:void 0,onMouseLeave:P?le:void 0,onClick:P?fe:void 0})};qZ.propTypes=EZ,qZ.defaultProps=CZ;var XZ=KL(qZ),KZ=(0,y.forwardRef)((function(e,t){return(0,fk.jsx)(XZ,gZ({},e,{canvasRef:t}))})),$Z=((0,y.forwardRef)((function(e,t){return(0,fk.jsx)(SL,{children:function(n){var r=n.width,i=n.height;return(0,fk.jsx)(KZ,gZ({width:r,height:i},e,{ref:t}))}})})),{axis:{ticks:{text:{fontSize:16,fill:"#333333"}}}});var QZ=function(e){var t=function(e){var t=A_().sort((function(e,t){return e.Year.localeCompare(t.Year)})),n=[],r={};t.forEach((function(t){r.Papers?t.Year>r.Papers[r.Papers.length-1].x?r.Papers.push({x:t.Year,y:r.Papers[r.Papers.length-1].y+1}):r.Papers[r.Papers.length-1].y&&(r.Papers[r.Papers.length-1].y+=1):(r.Papers=[],r.Papers.push({x:t.Year,y:1}));var n=t[e];if(Array.isArray(n)){var i,o=(0,T_.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]?t.Year>r[a][r[a].length-1].x?r[a].push({x:t.Year,y:r[a][r[a].length-1].y+1}):r[a][r[a].length-1].y&&(r[a][r[a].length-1].y+=1):(r[a]=[],r[a].push({x:t.Year,y:1}))}}catch(s){o.e(s)}finally{o.f()}}}));for(var i=0,o=Object.entries(r);i<o.length;i++){var a=(0,m.Z)(o[i],2),s=a[0],u=a[1];n.push({id:s,data:u})}return n}(e.type);return t.length<1?(0,fk.jsx)(bne,{}):(0,fk.jsx)("div",{style:{height:"450px",width:"100%",marginTop:"20px"},children:(0,fk.jsx)(HZ,{data:t,margin:{top:25,right:200,bottom:50,left:60},xScale:{type:"time",format:"%Y",useUTC:!1,precision:"year",min:"auto",max:"auto"},colors:{scheme:"accent"},xFormat:"time:%Y",yScale:{type:"linear",min:"auto",max:"auto"},axisBottom:{format:"%Y",tickValues:"every year"},pointSize:16,pointBorderWidth:1,curve:"monotoneX",useMesh:!0,enableSlices:"x",pointLabelYOffset:-12,theme:$Z,legends:[{anchor:"top-right",toggleSerie:!0,direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},JZ=n(3431),eW=n(98092),tW={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),(0,eW.each)(n,(function(t,n){e.on(n,t)})),document.addEventListener("visibilitychange",(function(){t.keydown=!1}))},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),(0,eW.each)(t,(function(t,n){e.off(n,t)})),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},nW=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=(0,eW.clone)(tW);Object.assign(r,n);var i=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&((0,eW.each)(n,(function(e,n){r[n]=(0,eW.wrapBehavior)(t,e)})),this.events=r)};i.prototype=r,e.types[t]=i},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),rW=nW,iW=rW,oW=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),aW=oW,sW=n(5742);function uW(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return sW.fromTranslation(r,n),sW.multiply(e,r,t)}function cW(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return sW.fromRotation(r,n),sW.multiply(e,r,t)}function lW(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return sW.fromScaling(r,n),sW.multiply(e,r,t)}function fW(e,t,n){return sW.multiply(e,n,t)}function dW(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"t":uW(n,n,[o[1],o[2]]);break;case"s":lW(n,n,[o[1],o[2]]);break;case"r":cW(n,n,o[1]);break;case"m":fW(n,n,o[1])}}return n}var hW=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i},pW=function(e,t){return e===t},vW=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),gW=function(){function e(e){void 0===e&&(e=pW),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new vW(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new vW(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),mW=gW,yW=function(){function e(){this.linkedList=new mW}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),bW=yW,xW=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},wW=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},_W=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var EW=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),o=new bW,a=e.edges,s=void 0===a?[]:a;o.enqueue(t);for(var u="",c=function(){var e=o.dequeue();i.enter({current:e,previous:u}),xW(e,s,r?"target":void 0).forEach((function(t){i.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),i.leave({current:e,previous:u}),u=e};!o.isEmpty();)c()},SW=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},c=[],l=0,f=function e(t){s[t.id]=l,u[t.id]=l,l+=1,o.push(t),a[t.id]=!0;for(var r=xW(t.id,i,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[t.id]=Math.min(u[t.id],s[o]));else{var c=n.filter((function(e){return e.id===o}));c.length>0&&e(c[0]),u[t.id]=Math.min(u[t.id],u[o])}},d=0;d<r.length;d++)f(d);if(u[t.id]===s[t.id]){for(var h=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&c.push(h)}},d=0,h=n;d<h.length;d++){var p=h[d];s[p.id]||0===s[p.id]||f(p)}return c};function kW(e,t){return t?SW(e):function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=xW(t.id,i),o=function(t){var i=r[t];if(!a[i]){var o=n.filter((function(e){return e.id===i}));o.length>0&&e(o[0])}},u=0;u<r.length;++u)o(u)},c=0;c<n.length;c++){var l=n[c];if(!a[l.id]){u(l);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(e)}var CW=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},MW=CW,OW=function(e,t){return CW(e)[t]?CW(e)[t].inDegree:0},NW=function(e,t){return CW(e)[t]?CW(e)[t].outDegree:0};function TW(e,t,n,r){r.enter({current:t,previous:n});var i=e.edges;xW(t,void 0===i?[]:i,"target").forEach((function(i){r.allowTraversal({previous:n,current:t,next:i})&&TW(e,i,t,r)})),r.leave({current:t,previous:n})}function AW(e,t,n){TW(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var PW=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=kW(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var c=u[0],l=c.id,f=[c],d=((r={})[l]=c,r),h=((i={})[l]=new Set,i);f.length>0;)for(var p=f.pop(),v=p.id,g=xW(v,e.edges),m=function(r){var i,a=g[r],s=e.nodes.find((function(e){return e.id===a}));if(a===v)o.push(((i={})[a]=p,i));else if(a in h){if(!h[v].has(s)){for(var u=!0,c=[s,p],l=d[v];h[a].size&&!h[a].has(l)&&(c.push(l),l!==d[l.id]);)l=d[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var m={},y=1;y<c.length;y+=1)m[c[y-1].id]=c[y];c.length&&(m[c[c.length-1].id]=c[0]),o.push(m)}h[a].add(p)}}else d[a]=p,f.push(s),h[a]=new Set([p])},y=0;y<g.length;y+=1)m(y)}return o},IW=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},c=function e(u,c,l){var f=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return f;r.push(u),i.add(u);for(var d=l[u.id],h=0;h<d.length;h+=1){if((g=s[d[h]])===c){for(var p={},v=1;v<r.length;v+=1)p[r[v-1].id]=r[v];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),f=!0}else i.has(g)||e(g,c,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(u);else for(h=0;h<d.length;h+=1){var g=s[d[h]];o[g.id].has(u)||o[g.id].add(u)}return r.pop(),f},l=e.nodes,f=void 0===l?[]:l,d=0;d<f.length;d+=1){var h=f[d],p=h.id;u[p]=d,s[d]=h}if(t&&n){var v=function(e){var n=t[e];u[f[e].id]=u[n],u[n]=0,s[0]=f.find((function(e){return e.id===n})),s[u[f[e].id]]=f[e]};for(d=0;d<t.length;d++)v(d)}for(var g=function(r){for(var i,o,s=1/0,c=0;c<r.length;c+=1)for(var l=r[c],f=0;f<l.length;f++){var d=u[l[f].id];d<s&&(s=d,o=c)}var h=r[o],p=[];for(c=0;c<h.length;c+=1){var v=h[c];p[v.id]=[];for(var g=0,m=xW(v.id,e.edges,"target").filter((function(e){return h.map((function(e){return e.id})).indexOf(e)>-1}));g<m.length;g++){var y=m[g];y!==v.id||!1===n&&t.indexOf(v.id)>-1?p[v.id].push(u[y]):a.push(((i={})[v.id]=v,i))}}return{component:h,adjList:p,minIdx:s}},m=0;m<f.length;){var y=f.filter((function(e){return u[e.id]>=m})),b=SW({nodes:y,edges:e.edges}).filter((function(e){return e.length>1}));if(0===b.length)break;var x=g(b),w=x.minIdx,_=x.adjList,E=x.component;if(!(E.length>1))break;E.forEach((function(e){o[e.id]=new Set}));var S=s[w];if(t&&n&&-1===t.indexOf(S.id))return a;c(S,S,_),m=w+1}return a},DW=function(e,t,n,r){return void 0===r&&(r=!0),t?IW(e,n,r):PW(e,n,r)},RW=function(e){var t=null,n=e.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var s={enter:function(e){var n=e.current,a=e.previous;if(o[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete o[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(i).length;){AW(e,Object.keys(i)[0],s)}return t},LW=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u=[],c={},l={},f={};o.forEach((function(e,n){var r=e.id;u.push(r),l[r]=1/0,r===t&&(l[r]=0)}));for(var d=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(l,o,c),i=t.id;if(c[i]=!0,l[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(i,s):wW(i,s),a.forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;l[a]>l[t.id]+s?(l[a]=l[t.id]+s,f[a]=[t.id]):l[a]===l[t.id]+s&&f[a].push(t.id)}))},p=0;p<d;p++)h();f[t]=[t];var v={};for(var g in l)l[g]!==1/0&&jW(t,g,f,v);var m={};for(var g in v)m[g]=v[g][0];return{length:l,path:m,allPath:v}};function jW(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=jW(e,a[o],n,r);if(!s)return;for(var u=0,c=s;u<c.length;u++){var l=c[u];(0,eW.isArray)(l)?i.push((0,JZ.__spreadArray)((0,JZ.__spreadArray)([],l,!0),[t],!1)):i.push([l,t])}}return r[t]=i,r[t]}var FW,BW=function(e,t,n,r,i){var o=LW(e,t,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},zW=function(e,t,n,r){var i;if(t===n)return[[t]];var o=e.edges,a=void 0===o?[]:o,s=[t],u=((i={})[t]=!0,i),c=[],l=[],f=r?xW(t,a,"target"):xW(t,a);for(c.push(f);s.length>0&&c.length>0;){var d=c[c.length-1];if(d.length){var h=d.shift();if(h&&(s.push(h),u[h]=!0,f=r?xW(h,a,"target"):xW(h,a),c.push(f.filter((function(e){return!u[e]})))),s[s.length-1]===n){var p=s.map((function(e){return e}));l.push(p);v=s.pop();u[v]=!1,c.pop()}}else{var v=s.pop();u[v]=!1,c.pop()}}return l},UW=function(e,t){for(var n=hW(e,t),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},GW=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u={},c={};o.forEach((function(e,t){var n=_W();e.clusterId=n,u[n]={id:n,nodes:[e]},c[e.id]={node:e,idx:t}}));var l=hW(e,t),f=[],d={};l.forEach((function(e,t){var n=0,r=o[t].id;d[r]={},e.forEach((function(e,t){if(e){n+=e;var i=o[t].id;d[r][i]=e}})),f.push(n)}));for(var h=0,p=function(){var e=!1;if(o.forEach((function(t){var n={};Object.keys(d[t.id]).forEach((function(e){var r=d[t.id][e],i=c[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var l=Math.floor(Math.random()*i.length),f=u[i[l]];f.nodes.push(t),t.clusterId=f.id}}})),!e)return"break";h++};h<r;){if("break"===p())break}Object.keys(u).forEach((function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]}));var v=[],g={};s.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=c[t].node.clusterId,a=c[r].node.clusterId,s="".concat(o,"---").concat(a);if(g[s])g[s].weight+=i,g[s].count++;else{var u={source:o,target:a,weight:i,count:1};g[s]=u,v.push(u)}}));var m=[];return Object.keys(u).forEach((function(e){m.push(u[e])})),{clusters:m,clusterEdges:v}},VW=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,eW.clone)(this.arr);n.sort((function(e,t){return e-t}));var r=n[n.length-1],i=n[0];for(var o in this.arr)t[o]=(this.arr[o]-i)/(r-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),ZW=VW,WW=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};!function(e){e.EuclideanDistance="euclideanDistance"}(FW||(FW={}));var YW=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,eW.uniq)(r));var i={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=(0,eW.uniq)(r))})),i},HW=function(e,t,n){var r=YW(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i},qW=function(e,t,n,r){void 0===n&&(n=FW.EuclideanDistance);var i=0;if(n===FW.EuclideanDistance)i=new ZW(e).euclideanDistance(new ZW(t));return i},XW=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,c=0;c<i;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/o}return a*=1/o},KW=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new ZW([]),i=0;i<n;i++)r=r.add(new ZW(t[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new ZW(t[i])).squareEuclideanDistance(o)}var s=[];e.forEach((function(){s.push([])}));for(i=0;i<n;i++){var u=new ZW(t[i]);e[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var l=new ZW(t[c]);s[i][c]=u.squareEuclideanDistance(l),e[i].clusterInertial+=s[i][c]}else s[i][c]=0}var f=0,d=2*n*a;for(i=0;i<n;i++){var h=e[i].clusterId;for(c=0;c<n;c++){var p=e[c].clusterId;if(i!==c&&h===p)f+=e[i].clusterInertial*e[c].clusterInertial/Math.pow(d,2)-s[i][c]/d}}return Number(f.toFixed(4))},$W=function(e,t,n,r,i,o,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=[];if(i){l.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var p=[];l.every((function(e){return e.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(l.map((function(e){return e.nodeType})))),l.forEach((function(e){e.properties.nodeType=p.findIndex((function(t){return t===e.nodeType}))})));var v=WW(l,o);h=HW(v,a,s)}var g=1,m={},y={};l.forEach((function(e,t){var n=String(g++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}}));var b=hW(e,t),x=[],w={},_=0;b.forEach((function(e,t){var n=0,r=l[t].id;w[r]={},e.forEach((function(e,t){if(e){n+=e;var i=l[t].id;w[r][i]=e,_+=e}})),x.push(n)})),_/=2;for(var E=1/0,S=1/0,k=0,C=[],M={};;){E=i&&l.every((function(e){return e.hasOwnProperty("properties")}))?XW(l,b,x,_)+KW(l,h)*u:XW(l,b,x,_),0===k&&(S=E,C=l,M=m);var O=E>0&&E>S&&E-S<r;if(E>S&&(C=l.map((function(e){return{node:e,clusterId:e.clusterId}})),M=(0,eW.clone)(m),S=E),O||k>100)break;k++,Object.keys(m).forEach((function(e){var t=0;d.forEach((function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),m[e].sumTot=t})),l.forEach((function(e,t){var r,o=m[e.clusterId],a=0,s=x[t]/(2*_),c=0,l=o.nodes;l.forEach((function(e){var n=y[e.id].idx;c+=b[t][n]||0}));var f=c-o.sumTot*s,p=l.filter((function(t){return t.id!==e.id})),v=[];p.forEach((function(e,t){v[t]=h[e.originIndex]}));var g=KW(p,h)*u,E=w[e.id];if(Object.keys(E).forEach((function(n){var o=y[n].node.clusterId;if(o!==e.clusterId){var c=m[o],l=c.nodes;if(l&&l.length){var d=0;l.forEach((function(e){var n=y[e.id].idx;d+=b[t][n]||0}));var p=d-c.sumTot*s,v=l.concat([e]),x=[];v.forEach((function(e,t){x[t]=h[e.originIndex]}));var w=KW(v,h)*u,_=p-f;i&&(_=p+w-(f+g)),_>a&&(a=_,r=c)}}})),a>0){r.nodes.push(e);var S=e.clusterId;e.clusterId=r.id;var k=o.nodes.indexOf(e);o.nodes.splice(k,1);var C=0,M=0;d.forEach((function(e){var t=e.source,i=e.target,o=y[t].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(C+=e[n]||1),(o===S&&a!==S||a===S&&o!==S)&&(M+=e[n]||1)})),r.sumTot=C,o.sumTot=M}}))}var N={},T=0;Object.keys(M).forEach((function(e){var t=M[e];if(t.nodes&&t.nodes.length){var n=String(T+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),M[n]=t,N[e]=n,delete M[e],T++)}else delete M[e]})),C.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&N[t.clusterId]&&(t.clusterId=N[t.clusterId])}));var A=[],P={};d.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=y[t].node.clusterId,a=y[r].node.clusterId,s="".concat(o,"---").concat(a);if(P[s])P[s].weight+=i,P[s].count++;else{var u={source:o,target:a,weight:i,count:1};P[s]=u,A.push(u)}}));var I=[];return Object.keys(M).forEach((function(e){I.push(M[e])})),{clusters:I,clusterEdges:A}},QW=function(e,t,n,r,i,o,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),$W(e,t,n,r,!0,i,o,a,s)},JW=function(e,t){var n;void 0===t&&(t=1);for(var r=(0,eW.clone)(e),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var e=MW({nodes:o,edges:s}),r=Object.keys(e);r.sort((function(t,n){var r,i;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(i=e[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=e[i])||void 0===n?void 0:n.degree)>=t)return"break";var a=o.findIndex((function(e){return e.id===i}));o.splice(a,1),s=s.filter((function(e){return!(e.source===i||e.target===i)}))};;){if("break"===u())break}return{nodes:o,edges:s}},eY=function(e,t,n){var r=[];if(e===FW.EuclideanDistance)r=t[n];else r=[];return r},tY=function(e,t,n,r,i,o){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=FW.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===FW.EuclideanDistance&&!s.every((function(e){return e.hasOwnProperty(n)})))return l;var f=[],d=[];if(o===FW.EuclideanDistance&&(f=WW(s,n),d=HW(f,r,i)),!d.length)return l;for(var h=(0,eW.uniq)(d.map((function(e){return e.join("")}))),p=Math.min(t,s.length,h.length),v=0;v<s.length;v++)s[v].originIndex=v;var g=[],m=[],y=[];for(v=0;v<p;v++)if(0===v){var b=Math.floor(Math.random()*s.length);if(o===FW.EuclideanDistance)g[v]=d[b];else g[v]=[];m.push(b),y[v]=[s[b]],s[b].clusterId=String(v)}else{for(var x=-1/0,w=0,_=function(e){if(!m.includes(e)){for(var t=0,n=0;n<g.length;n++){var r=0;if(o===FW.EuclideanDistance)r=qW(d[s[e].originIndex],g[n],o);t+=r}var i=t/g.length;i>x&&!g.find((function(t){return(0,eW.isEqual)(t,eY(o,d,s[e].originIndex))}))&&(x=i,w=e)}},E=0;E<s.length;E++)_(E);g[v]=eY(o,d,w),m.push(w),y[v]=[s[w]],s[w].clusterId=String(v)}for(var S=0;;){for(v=0;v<s.length;v++){var k=0,C=1/0;if(0!==S||!m.includes(v)){for(var M=0;M<g.length;M++){var O=0;if(o===FW.EuclideanDistance)O=qW(d[v],g[M],o);O<C&&(C=O,k=M)}if(void 0!==s[v].clusterId)for(var N=y[Number(s[v].clusterId)].length-1;N>=0;N--)y[Number(s[v].clusterId)][N].id===s[v].id&&y[Number(s[v].clusterId)].splice(N,1);s[v].clusterId=String(k),y[k].push(s[v])}}var T=!1;for(v=0;v<y.length;v++){var A=y[v],P=new ZW([]);for(M=0;M<A.length;M++)P=P.add(new ZW(d[A[M].originIndex]));var I=P.avg(A.length);I.equal(new ZW(g[v]))||(T=!0,g[v]=I.getArr())}if(S++,s.every((function(e){return void 0!==e.clusterId}))&&T||S>=1e3)break}var D=[],R={};return c.forEach((function(e){var t,n,r=e.source,i=e.target,o=null===(t=s.find((function(e){return e.id===r})))||void 0===t?void 0:t.clusterId,a=null===(n=s.find((function(e){return e.id===i})))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(R[u])R[u].count++;else{var c={source:o,target:a,count:1};R[u]=c,D.push(c)}})),{clusters:y,clusterEdges:D}},nY=function(e,t){var n=new ZW(t),r=n.norm2(),i=new ZW(e),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},rY=function(e,t,n,r,i){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,eW.clone)(e.filter((function(e){return e.id!==t.id}))),a=e.findIndex((function(e){return e.id===t.id})),s=WW(e,n),u=HW(s,r,i),c=u[a],l=[];return o.forEach((function(e,n){if(e.id!==t.id){var r=u[n],i=nY(r,c);l.push(i),e.cosineSimilarity=i}})),o.sort((function(e,t){return t.cosineSimilarity-e.cosineSimilarity})),{allCosineSimilarity:l,similarNodes:o}},iY=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),oY=iY,aY=function(e,t){return e-t},sY=function(){function e(e){void 0===e&&(e=aY),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),uY=sY,cY=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var c=new uY((function(e,n){return t?e.weight-n.weight:0}));for(wW(s.id,a).forEach((function(e){c.insert(e)}));!c.isEmpty();){var l=c.delMin(),f=l.source,d=l.target;u.has(f)&&u.has(d)||(n.push(l),u.has(f)||(u.add(f),wW(f,a).forEach((function(e){c.insert(e)}))),u.has(d)||(u.add(d),wW(d,a).forEach((function(e){c.insert(e)}))))}return n},lY=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(e){return e}));t&&s.sort((function(e,t){return e.weight-t.weight}));for(var u=new oY(i.map((function(e){return e.id})));s.length>0;){var c=s.shift(),l=c.source,f=c.target;u.connected(l,f)||(n.push(c),u.union(l,f))}return n},fY=function(e,t,n){return n?{prim:cY,kruskal:lY}[n](e,t):lY(e,t)},dY=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,c=e.edges,l=void 0===c?[]:c,f=u.length,d={},h={},p=0;p<f;++p){d[g=(w=u[p]).id]=1/f,h[g]=1/f}for(var v=MW(e);a>0&&i>t;){o=0;for(p=0;p<f;++p){var g=(w=u[p]).id;if(r=0,0===v[w.id].inDegree)d[g]=0;else{for(var m=xW(g,l,"source"),y=0;y<m.length;++y){var b=m[y],x=v[b].outDegree;x>0&&(r+=h[b]/x)}d[g]=n*r,o+=d[g]}}o=(1-o)/f,i=0;for(p=0;p<f;++p){var w;r=d[g=(w=u[p]).id]+o,i+=Math.abs(r-h[g]),h[g]=r}a-=1}return h},hY="-1",pY=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r},vY=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=hY),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),gY=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new vY(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new pY(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new pY(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}(),mY=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||hY,edgeLabel:r||"-1",nodeLabel2:i||hY}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),yY=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new mY(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new gY(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==hY&&n.addNode(t,o),s!==hY&&n.addNode(r,s),o!==hY&&s!==o&&n.addEdge(void 0,t,r,a)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),bY=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),xY=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,c=void 0===u?10:u,l=e.directed,f=void 0!==l&&l,d=e.verbose,h=void 0!==d&&d;this.graphs=t,this.dfsCode=new yY,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=f,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=o[l.to].label;t.to===l.to||n>f||r.hasNode(o[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&i.push(l)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),i=r.nodeMap,o=new yY,a={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=i[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new mY(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),c=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l=o.dfsEdgeList[u[0]].toNode,f={},d=!1,h=0,p=n?-1:0,v=function(t){if(d)return"break";s.forEach((function(n){var i=new bY(n),a=e.findBackwardEdge(r,i.edges[u[t]],i.edges[u[0]],i);a&&(f[a.label]||(f[a.label]={projected:[],edgeLabel:a.label}),f[a.label].projected.push({graphId:r.id,edge:f,preNode:n}),h=o.dfsEdgeList[u[t]].fromNode,d=!0)}))},g=u.length-1;g>p;g--){if("break"===v(g))break}if(d){var m=e.findMinLabel(f);o.dfsEdgeList.push(new mY(l,h,hY,m.edgeLabel,hY));var y=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(f[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach((function(t){var n=new bY(t),o=e.findForwardPureEdges(r,n.edges[u[0]],c,n);o.length>0&&(d=!0,x=l,o.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var w=u.length,_=function(t){if(d)return"break";var n=u[t];s.forEach((function(t){var a=new bY(t),s=e.findForwardRmpathEdges(r,a.edges[n],c,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(g=0;g<w;g++){if("break"===_(g))break}if(!d)return!0;var E=e.findMinLabel(b);o.dfsEdgeList.push(new mY(x,l+1,hY,E.edgeLabel,E.nodeLabel2));var S=o.dfsEdgeList.length-1;return t.dfsEdgeList[S]===o.dfsEdgeList[S]&&a(b["".concat(E.edgeLabel,"-").concat(E.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,eW.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach((function(e){for(var u=t.graphs[e.graphId],c=u.nodeMap,l=new bY(e),f=r.length-1;f>=0;f--){var d=t.findBackwardEdge(u,l.edges[r[f]],l.edges[r[0]],l);if(d){var h="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(d.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:d.label}),s[h].projected.push({graphId:e.graphId,edge:d,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,l.edges[r[0]],o,l).forEach((function(t){var n="".concat(i,"-").concat(t.label,"-").concat(c[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:t.label,nodeLabel2:c[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(n){t.findForwardRmpathEdges(u,l.edges[r[n]],o,l).forEach((function(i){var o="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(c[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:c[i.to].label}),a[o].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(f=0;f<r.length;f++)p(f)}})),Object.keys(s).forEach((function(e){var n=s[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new mY(i,r,"-1",o,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var n=a[e],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new mY(r,i+1,hY,o,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=i[c]||0;f++,i[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach((function(e){var r=c,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(i),d="".concat(r,"-").concat(l,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new mY(0,1,o,a,s)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),wY="cluster",_Y=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,o=void 0===i?wY:i,a=e.edgeLabelProp,s=void 0===a?wY:a,u=function(e,t,n,r){var i={};return Object.keys(e).forEach((function(o,a){var s=e[o],u=new gY(a,!0,t),c={};s.nodes.forEach((function(e,t){u.addNode(t,e[n]),c[e.id]=t})),s.edges.forEach((function(e,t){var n=c[e.source],i=c[e.target];u.addEdge(-1,n,i,e[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(t,r,o,s),c=e.minSupport,l=e.maxNodeNum,f=e.minNodeNum,d=e.verbose,h=e.top,p=new xY({graphs:u,minSupport:c,maxNodeNum:l,minNodeNum:f,top:h,verbose:d,directed:r});p.run();var v=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(p.frequentSubgraphs,o,s);return v},EY=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(SY(o,e,t,n,r))})),i},SY=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},kY=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,v=0;v<p;v++){var g=i[d[v]];r[o].nodes.push(g),h[g.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},CY=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(i===u&&o===c||i===c&&o===u)&&s++})),s)},MY=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},OY=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(_W)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},NY=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var c=e[u].id,l=t[u];i["".concat(s,"-").concat(c)]=l,n||(i["".concat(c,"-").concat(s)]=l)}})),i},TY=function(e,t,n,r,i,o,a,s,u,c,l){var f,d="".concat(t.id,"-").concat(n.id);if(c&&c[d])return c[d];var h=l?l[d]:void 0;if(!h){var p=((f={})[d]={start:r[t.id].idx,end:r[n.id].idx,distance:i},f);h=(l=kY(p,o,e,l))[d]}return CY(h,a,s,u)},AY=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;c>i&&(c=i)})),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},PY=function(e,t,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var c=UW(e,n),l=UW(t,n),f=NY(e.nodes,c,n),d=NY(t.nodes,l,n),h=MY(e.nodes,o),p=h.nodeMap,v=h.nodeLabelMap,g=MY(t.nodes,o),m=g.nodeMap,y=g.nodeLabelMap;OY(e.edges,a,p);var b=OY(t.edges,a,m).edgeLabelMap,x=[];null===l||void 0===l||l.forEach((function(e){x=x.concat(e)})),i||(i=Math.max.apply(Math,(0,JZ.__spreadArray)((0,JZ.__spreadArray)([],x,!1),[2],!1))),r||(r=i);var w=EY(e,c,o,r),_=EY(t,l,o,r),E=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),w,c),S=kY(E,w,e),k=_Y({graphs:S,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),C=k.length,M=[];k.forEach((function(e,t){M[t]={},Object.keys(S).forEach((function(n){var r=S[n],i=CY(r,e,o,a);M[t][n]=i}))}));var O=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var c=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(c+=Math.abs(e-n))})),c/=u.length*(u.length-1)/2}));var l=c-s;r<l&&(r=l,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(M,C,k),N=O.structure,T=O.structureCountMap,A=t.nodes[0],P=[],I=null===(s=t.nodes[0])||void 0===s?void 0:s[o],D=-1/0;t.nodes.forEach((function(e){var t=e[o],n=v[t];(null===n||void 0===n?void 0:n.length)>D&&(D=n.length,P=n,I=t,A=e)}));var R={},L={},j={},F={},B={},z={};Object.keys(y).forEach((function(r,i){B[r]=[],n&&(z[r]=[]);var s=-1/0,u=y[r],c={};u.forEach((function(e){var t=d["".concat(A.id,"-").concat(e.id)];if(t&&B[r].push(t),s<t&&(s=t),c["".concat(A.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var i=d["".concat(e.id,"-").concat(A.id)];i&&z[r].push(i)}})),B[r]=B[r].sort((function(e,t){return e-t})),n&&(z[r]=z[r].sort((function(e,t){return e-t}))),L=kY(c,_,t,L);var l=[];if(Object.keys(c).forEach((function(e){if(j[e])l.push(j[e]);else{var t=L[e];j[e]=CY(t,N,o,a),l.push(j[e])}})),l=l.sort((function(e,t){return t-e})),F["".concat(A.id,"-").concat(r)]=l,r!==I)for(var h=function(t){var n=P[t],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return P.splice(t,1),"continue";for(var c=!1,d=0;d<u;d++)if(s.dists[d]>B[r][d]){c=!0;break}if(c)return P.splice(t,1),"continue";var h={};i.neighbors.forEach((function(e){var t=f["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}})),S=kY(h,w,e,S);var v=[];Object.keys(h).forEach((function(e){if(T[e])v.push(T[e]);else{var t=S[e];T[e]=CY(t,N,o,a),v.push(T[e])}})),v=v.sort((function(e,t){return t-e}));var g=!1;for(d=0;d<u;d++)if(v[d]<l[d]){g=!0;break}return g?(P.splice(t,1),"continue"):void 0},v=((null===P||void 0===P?void 0:P.length)||0)-1;v>=0;v--)h(v)}));var U=[];null===P||void 0===P||P.forEach((function(r){for(var s=p[r.id].idx,u=SY(e.nodes,c[s],s,o,i).neighbors,l=!1,d=u.length-1;d>=0;d--){if(u.length+1<t.nodes.length)return void(l=!0);var h=u[d],v=h[o];if(y[v]&&y[v].length)if(B[v]&&B[v].length){var g="".concat(r.id,"-").concat(h.id),b=f[g],x=B[v].length-1;if(b>B[v][x])u.splice(d,1);else{if(n){var _="".concat(h.id,"-").concat(r.id),E=f[_];if(x=z[v].length-1,E>z[v][x]){u.splice(d,1);continue}}var k=T[g]?T[g]:TY(e,r,h,p,b,w,N,o,a,T,S),C="".concat(A.id,"-").concat(v);if(k<F[C][F[C].length-1])u.splice(d,1);else{var M=AY(R,v,m,y),O=M.minPatternNodeLabelDegree;M.minPatternNodeLabelInDegree,M.minPatternNodeLabelOutDegree;p[h.id].degree<O&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}l||U.push({nodes:[r].concat(u)})}));var G=LW(t,A.id,!1).length,V={};n?(Object.keys(G).forEach((function(e){var t=m[e].node[o];V[t]?V[t].push(G[e]):V[t]=[G[e]]})),Object.keys(V).forEach((function(e){V[e].sort((function(e,t){return e-t}))}))):V=B;for(var Z=function(r){var i=U[r],s=i.nodes[0],u={},c={};i.nodes.forEach((function(e,t){c[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[o];u[n]?u[n]++:u[n]=1}));var l=[],f={};e.edges.forEach((function(e){c[e.source]&&c[e.target]&&(l.push(e),f[e[a]]?f[e[a]]++:f[e[a]]=1,c[e.source].degree++,c[e.target].degree++,c[e.source].outDegree++,c[e.target].inDegree++)}));for(var d=Object.keys(b).length,h=!1,v=0;v<d;v++){var g=Object.keys(b)[v];if(!f[g]||f[g]<b[g].length){h=!0;break}}if(h)return U.splice(r,1),"continue";var x=l.length;if(x<t.edges.length)return U.splice(r,1),"break";var w=!1,_=function(e){var t=l[e],r=t[a],i=b[r];if(!i||!i.length)return f[r]--,i&&f[r]<i.length?(w=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue");var s=c[t.source].node[o],u=c[t.target].node[o],d=!1;return i.forEach((function(e){var t=m[e.source].node,r=m[e.target].node;t[o]===s&&r[o]===u&&(d=!0),n||t[o]!==u||r[o]!==s||(d=!0)})),d?void 0:(f[r]--,i&&f[r]<i.length?(w=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue"))};for(v=x-1;v>=0;v--){if("break"===_(v))break}if(w)return U.splice(r,1),"continue";i.edges=l;var E=LW(i,i.nodes[0].id,!1).length;if(Object.keys(E).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!w){if(E[e]===1/0){var t=c[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);var n=i.nodes.indexOf(c[e].node);return i.nodes.splice(n,1),void(c[e]=void 0)}var r=p[e].node[o];if(!V[r]||!V[r].length||E[e]>V[r][V[r].length-1]){t=c[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);n=i.nodes.indexOf(c[e].node);i.nodes.splice(n,1),c[e]=void 0}}})),w)return U.splice(r,1),"continue";for(var S=!0,k=0;S&&!w;){if(S=!1,n?c[s.id].degree<m[A.id].degree||c[s.id].inDegree<m[A.id].inDegree||c[s.id].outDegree<m[A.id].outDegree:c[s.id].degree<m[A.id].degree){w=!0;break}if(u[s[o]]<y[s[o]].length){w=!0;break}for(var C=i.nodes.length-1;C>=0;C--){var M=i.nodes[C],O=c[M.id].degree,N=c[M.id].inDegree,T=c[M.id].outDegree,P=M[o],I=AY(R,P,m,y),D=I.minPatternNodeLabelDegree,L=I.minPatternNodeLabelInDegree,j=I.minPatternNodeLabelOutDegree;if(n?O<D||N<L||T<j:O<D){if(u[M[o]]--,u[M[o]]<y[M[o]].length){w=!0;break}i.nodes.splice(C,1),c[M.id]=void 0,S=!0}}if(w||!S&&0!==k)break;for(var F=(x=l.length)-1;F>=0;F--){var B=l[F];if(!c[B.source]||!c[B.target]){l.splice(F,1);var z=B[a];if(f[z]--,c[B.source]&&(c[B.source].degree--,c[B.source].outDegree--),c[B.target]&&(c[B.target].degree--,c[B.target].inDegree--),b[z]&&f[z]<b[z].length){w=!0;break}S=!0}}k++}return w||w||i.nodes.length<t.nodes.length||l.length<t.edges.length?(U.splice(r,1),"continue"):void 0},W=U.length-1;W>=0;W--){if("break"===Z(W))break}var Y=U.length,H=function(e){var t=U[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=U[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&U.splice(e,1)},i=Y-1;i>e;i--)r(i);Y=U.length};for(W=0;W<=Y-1;W++)H(W);return U}}},IY=function(){function e(e){void 0===e&&(e=10),this.linkedList=new mW,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),DY=IY,RY=RW,LY={getAdjMatrix:hW,breadthFirstSearch:EW,connectedComponent:kW,getDegree:MW,getInDegree:OW,getOutDegree:NW,detectCycle:RW,detectDirectedCycle:RY,detectAllCycles:DW,detectAllDirectedCycle:IW,detectAllUndirectedCycle:PW,depthFirstSearch:AW,dijkstra:LW,findAllPath:zW,findShortestPath:BW,floydWarshall:UW,labelPropagation:GW,louvain:$W,iLouvain:QW,kCore:JW,kMeans:tY,cosineSimilarity:nY,nodesCosineSimilarity:rY,minimumSpanningTree:fY,pageRank:dY,getNeighbors:xW,Stack:DY,GADDI:PY},jY=n(88679),FY=n(50907);function BY(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function zY(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function UY(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function GY(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function VY(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function ZY(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function WY(e,t){return e[0]*t[0]+e[1]*t[1]}function YY(e,t){return e[0]===t[0]&&e[1]===t[1]}var HY=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},qY=(function(){var e=function(){var e=new FY.WT(2);return FY.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),dW),XY=function(e){return function(t,n){return t[e]-n[e]}},KY=function(e,t,n){return e>=t&&e<=n},$Y=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,c=r.y-n.y,l=a*c-s*u,f=1/l;if(l*l>1e-4*(a*a+s*s)*(u*u+c*c)){var d=(i*c-o*u)*f,h=(i*s-o*a)*f;return KY(d,0,1)&&KY(h,0,1)?{x:e.x+d*a,y:e.y+d*s}:null}return null},QY=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=$Y(a[c-1],a[c],s,t));c++);return u},JY=function(e,t){var n=e.x,r=e.y,i=e.r,o=t.x-n,a=t.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},eH=function(e,t){var n=e.rx,r=e.ry,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},tH=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),jY.kK(r,r,t),{x:r[0],y:r[1]}},nH=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=sW.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[e.x,e.y,n];return jY.kK(i,i,r),{x:i[0],y:i[1]}},rH=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,c=i*o-r*a;return{x:-(a*s-i*u)/c,y:-(r*u-o*s)/c}},iH=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},oH=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n},aH=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t},sH=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];i[a][s]=1,t||(i[s][a]=1)})),i},uH=function(e,t){e.translate(t.x,t.y)},cH=function(e,t,n,r){void 0===r&&(r={duration:500});var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),a=t.x-o.minX,s=t.y-o.minY;if(n){var u=a*i[0],c=s*i[4],l=0,f=0,d=0,h=0;e.animate((function(e){return i=qY(i,[["t",(d=u*e)-l,(h=c*e)-f]]),l=d,f=h,{matrix:i}}),r)}else{var p=qY(i,[["t",a,s]]);e.setMatrix(p)}},lH=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;(0,eW.isArray)(t)||(r=[t,t]),(0,eW.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=qY(n,[["s",r[0],r[1]]]),e.setMatrix(n)},fH=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=qY(n,[["r",t]]),e.setMatrix(n)},dH=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n.forEach((function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)})),r};function hH(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var pH=function(e,t,n){var r=!1,i=e.length;function o(e){return Math.abs(e)<1e-6?0:e<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],u=e[(a+1)%i];if(hH(s,u,[t,n]))return!0;o(s[1]-n)>0!==o(u[1]-n)>0&&o(t-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},vH=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},gH=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var i=e[r],o=e[r+1];t.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var i=n(e),o=n(t);if(!vH(i,o))return!1;var a=!1;if((0,eW.each)(t,(function(t){if(pH(e,t[0],t[1]))return a=!0,!1})),a)return!0;if((0,eW.each)(e,(function(e){if(pH(t,e[0],e[1]))return a=!0,!1})),a)return!0;var s=r(e),u=r(t),c=!1;return(0,eW.each)(u,(function(e){if(function(e,t){var n=!1;return(0,eW.each)(e,(function(e){if($Y(e.from,e.to,t.from,t.to))return n=!0,!1})),n}(s,e))return c=!0,!1})),c},mH=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),yH=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},bH=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},xH=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=0,o=[],a=0;a<4;a++){var s=yH(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3];o[a]=$Y({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:c},{x:l,y:f}),o[a]&&(i+=1)}return[o,i]},wH=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=yH(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3],d=bH(t,new mH(u,c,l,f));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},_H=function(e){var t=0,n=0;if(e.length>0){for(var r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}t/=e.length,n/=e.length}return{x:t,y:n}},EH=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},SH=function(e,t){var n,r=t.x1,i=t.y1,o=t.x2-r,a=t.y2-i,s=e.x-r,u=e.y-i,c=s*o+u*a;n=c<=0||(c=(s=o-s)*o+(u=a-u)*a)<=0?0:c*c/(o*o+a*a);var l=s*s+u*u-n;return l<0&&(l=0),l},kH=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},CH=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,i=e.y>t.y+t.height,o=e.y<t.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(o&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!i&&!o)return Math.pow(t.x-e.x,2);if(r&&!i&&!o)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},MH=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t.x,s=t.y,u=[i-n,o-r];if(YY(u,[0,0]))return NaN;var c=[-u[1],u[0]];ZY(c,c);var l=[a-n,s-r];return Math.abs(WY(l,c))},OH=function(e,t,n){return e+(t-e)*n},NH="rgb(95, 149, 255)",TH="rgb(0, 0, 0)",AH="rgb(247, 250, 255)",PH="rgb(239, 244, 255)",IH="rgb(253, 253, 253)",DH="rgb(250, 250, 250)",RH="rgb(224, 224, 224)",LH="rgb(234, 234, 234)",jH="#4572d9",FH={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:NH,fill:PH},size:20,color:NH,linkPoints:{size:8,lineWidth:1,fill:AH,stroke:NH}},nodeStateStyles:{active:{fill:AH,stroke:NH,lineWidth:2,shadowColor:NH,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:NH,lineWidth:4,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:jH,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:AH,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:DH,stroke:RH,lineWidth:1}},edgeLabel:{style:{fill:TH,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:RH,lineAppendWidth:2},color:RH},edgeStateStyles:{active:{stroke:NH,lineWidth:1},selected:{stroke:NH,lineWidth:2,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:NH,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:LH,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:TH,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:IH,lineWidth:1,stroke:RH,r:5,width:20,height:10},size:[20,5],color:RH,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:NH,lineWidth:1,fill:AH},selected:{stroke:NH,lineWidth:2,fill:IH,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:jH,lineWidth:2,fill:IH,"text-shape":{fontWeight:500}},inactive:{stroke:RH,fill:IH,lineWidth:1},disable:{stroke:LH,fill:DH,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},BH={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},zH=Math.PI,UH=Math.sin,GH=Math.cos,VH=UH(zH/8),ZH=GH(zH/8),WH=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=tH(r,o),i=tH(i,o)}var a=r.x,s=r.y,u=i.x,c=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},YH=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),i=e.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||FH.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],c=[e.endPoint.x,e.endPoint.y],l=r.height/2,f=r.height/2,d=l*VH,h=l*ZH,p=f*VH,v=f*ZH;if(u[0]===c[0]&&u[1]===c[1]){switch(a){case"top":u=[s[0]-d,s[1]-h],c=[s[0]+p,s[1]-v];break;case"top-right":l=r.height/2,f=r.width/2,u=[s[0]+(d=l*VH),s[1]-(h=l*ZH)],c=[s[0]+(v=f*ZH),s[1]-(p=f*VH)];break;case"right":l=r.width/2,f=r.width/2,u=[s[0]+(h=l*ZH),s[1]-(d=l*VH)],c=[s[0]+(v=f*ZH),s[1]+(p=f*VH)];break;case"bottom-right":l=r.width/2,f=r.height/2,u=[s[0]+(h=l*ZH),s[1]+(d=l*VH)],c=[s[0]+(p=f*VH),s[1]+(v=f*ZH)];break;case"bottom":l=r.height/2,f=r.height/2,u=[s[0]+(d=l*VH),s[1]+(h=l*ZH)],c=[s[0]-(p=f*VH),s[1]+(v=f*ZH)];break;case"bottom-left":l=r.height/2,f=r.width/2,u=[s[0]-(d=l*VH),s[1]+(h=l*ZH)],c=[s[0]-(v=f*ZH),s[1]+(p=f*VH)];break;case"left":l=r.width/2,f=r.width/2,u=[s[0]-(h=l*ZH),s[1]+(d=l*VH)],c=[s[0]-(v=f*ZH),s[1]-(p=f*VH)];break;case"top-left":l=r.width/2,f=r.height/2,u=[s[0]-(h=l*ZH),s[1]-(d=l*VH)],c=[s[0]-(p=f*VH),s[1]-(v=f*ZH)];break;default:l=r.width/2,f=r.width/2,u=[s[0]-(d=l*VH),s[1]-(h=l*ZH)],c=[s[0]+(p=f*VH),s[1]-(v=f*ZH)]}if(!1===i.clockwise){var g=[u[0],u[1]];u=[c[0],c[1]],c=[g[0],g[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(l+o)/l,b=(f+o)/f;!1===i.clockwise&&(y=(f+o)/f,b=(l+o)/l);var x=GY([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],_=GY([0,0],[c[0]-s[0],c[1]-s[1]],b),E=[s[0]+_[0],s[1]+_[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:c[0],y:c[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:E[0],y:E[1]}],e},HH=function(e,t,n,r,i){var o=1e-4,a=[],s=null===e||void 0===e?void 0:e.getPoint(t);if(!s)return{x:0,y:0,angle:0};if(t<o)a=e.getStartTangent().reverse();else if(t>.9999)a=e.getEndTangent();else{var u=null===e||void 0===e?void 0:e.getPoint(t+o);a.push([s.x,s.y]),a.push([u.x,u.y])}var c=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(c<0&&(c+=2*zH),n&&(s.x+=GH(c)*n,s.y+=UH(c)*n),r){var l=c-zH/2;c>.5*zH&&c<1.5*zH&&(l-=zH),s.x+=GH(l)*r,s.y+=UH(l)*r}var f={x:s.x,y:s.y,angle:c};return i?(c>.5*zH&&c<1.5*zH&&(c-=zH),(0,JZ.__assign)({rotate:c},f)):f},qH=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},XH=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)},KH=function(e,t){"function"===typeof t&&qH(e,t)},$H=function(e,t){"function"===typeof t&&XH(e,t)},QH=function(e,t){return t*(BH[e]||1)},JH=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach((function(e){r.test(e)?n+=t:n+=QH(e,t)})),[n,t]},eq=function(e,t){var n=[],r={},i={};e.forEach((function(e){i[e.id]=e})),e.forEach((function(e,t){var o=(0,eW.clone)(e);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if((0,eW.isString)(e.parentId)){var c=r[e.parentId];if(c)c.children?c.children.push(o):c.children=[o],r[o.id]=o;else{var l={id:e.parentId,children:[o]};r[l.id]=l,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(t||[]).forEach((function(e){o[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}}));var a=0;return n.forEach((function(e){e.depth=a+10,qH(e,(function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var i=o[e.id];return i&&(i.depth=e.depth),!0}))})),n},tq=function(e,t,n){var r,i,o=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach((function(e){if(!s)return e.id===t?(i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void KH(e,(function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},o=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!o||(u=e.parentId||e.comboId||"root",i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,s=!0,!1)}))}));var c=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(c>-1&&o.splice(c,1),s||(i={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var l=!1;if(n){var f=0;(e||[]).forEach((function(e){l||KH(e,(function(e){return n!==e.id||(l=!0,e.children?e.children.push(i):e.children=[i],f=e.depth,"node"===i.itemType?i.depth=f+2:i.depth=f+1,!1)}))}))}else n&&l||"node"===i.itemType||e.push(i);var d=i.depth;KH(i,(function(e){return"node"===e.itemType?d+=2:d+=1,e.depth=d,!0}))}return e},nq=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return e.forEach((function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)})),r},rq=function(e){var t=(0,eW.isNumber)(e.x)||(0,eW.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,eW.isNumber)(e.style.r)||(0,eW.isNumber)(e.style.width)||(0,eW.isNumber)(e.style.height)||(0,eW.isNumber)(e.style.rx)||(0,eW.isNumber)(e.style.ry)),t},iq=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if((0,eW.isObject)(r)&&!(0,eW.isArray)(r)){var i={};Object.keys(r).forEach((function(e){var t=r[e];("img"!==e||(0,eW.isString)(t))&&(i[e]=(0,eW.clone)(t))})),t[n]=i}else t[n]=(0,eW.clone)(r)})),t},oq=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,r=e.combos,i=void 0===r?[]:r;if(!t&&!n){var o=!0;return KH(e,(function(e){return!!(0,eW.isString)(e.id)||(o=!1,!1)})),o}var a=(t||[]).find((function(e){return!(0,eW.isString)(e.id)}));if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(t||[]).map((function(e){return e.id})),u=null===i||void 0===i?void 0:i.map((function(e){return e.id})),c=(0,JZ.__spreadArray)((0,JZ.__spreadArray)([],s,!0),u,!0),l=(n||[]).find((function(e){return!c.includes(e.source)||!c.includes(e.target)}));return!l||(console.warn("G6 Warning Tips: The source %c".concat(l.source,"%c or the target %c").concat(l.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},aq=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;(0,eW.each)(e,(function(e){(0,eW.each)(e,(function(t,n){(0,eW.isString)(t)&&(e[n]={type:t})}))}))},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],i=[];(0,eW.each)(r||[],(function(e){var r=rW.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),i.push(t))})),this.currentBehaves=i},e.mergeBehaviors=function(e,t){return(0,eW.each)(t,(function(t){e.indexOf(t)<0&&((0,eW.isString)(t)&&(t={type:t}),e.push(t))})),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach((function(e){var r="";r=(0,eW.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)})),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),(0,eW.each)(this.currentBehaves,(function(e){e.delegate&&e.delegate.remove(),e.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var i,o=this;if(i=(0,eW.isArray)(t)?t:[t],(0,eW.isArray)(n))return(0,eW.each)(n,(function(t){o.modes[t]?o.modes[t]=r?e.mergeBehaviors(o.modes[t]||[],i):e.filterBehaviors(o.modes[t]||[],i):r&&(o.modes[t]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],i):e.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){(0,eW.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),sq=aq,uq="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",cq=new RegExp("([a-z])["+uq+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+uq+"]*,?["+uq+"]*)+)","ig"),lq=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+uq+"]*,?["+uq+"]*","ig"),fq=function(e){if(!e)return null;if((0,eW.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(cq,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(lq,(function(e,t){t&&a.push(+t)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=t[s]&&(n.push([i].concat(a.splice(0,t[s]))),t[s]););return e})),n},dq=function(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4===r?o[3]={x:+e[0],y:+e[1]}:i-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},hq=function(e,t,n,r,i){var o=[];if(null===i&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==i){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-i*a);o=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,t+n*Math.sin(-i*a)]]}else o=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},pq=function(e){if(!(e=fq(e))||!e.length)return[["M",0,0]];var t,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),l=void 0,f=void 0,d=u,h=e.length;d<h;d++){if(r.push(l=[]),(t=(f=e[d])[0])!==t.toUpperCase())switch(l[0]=t.toUpperCase(),l[0]){case"A":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+f[6]+i,l[7]=+f[7]+o;break;case"V":l[1]=+f[1]+o;break;case"H":l[1]=+f[1]+i;break;case"R":for(var p=2,v=(n=[i,o].concat(f.slice(1))).length;p<v;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(dq(n,c));break;case"O":r.pop(),(n=hq(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(hq(i,o,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+i,s=+f[2]+o;break;default:for(p=1,v=f.length;p<v;p++)l[p]=+f[p]+(p%2?i:o)}else if("R"===t)n=[i,o].concat(f.slice(1)),r.pop(),r=r.concat(dq(n,c)),l=["R"].concat(f.slice(-2));else if("O"===t)r.pop(),(n=hq(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(hq(i,o,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,m=f.length;g<m;g++)l[g]=f[g];if("O"!==(t=t.toUpperCase()))switch(l[0]){case"Z":i=+a,o=+s;break;case"H":i=l[1];break;case"V":o=l[1];break;case"M":a=l[l.length-2],s=l[l.length-1];break;default:i=l[l.length-2],o=l[l.length-1]}}return r},vq=function(e,t,n,r){return[e,t,n,r,n,r]},gq=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},mq=function e(t,n,r,i,o,a,s,u,c,l){r===i&&(r+=1);var f,d,h,p,v,g=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(l)d=l[0],h=l[1],p=l[2],v=l[3];else{t=(f=b(t,n,-m)).x,n=f.y,u=(f=b(u,c,-m)).x,c=f.y,t===u&&n===c&&(u+=1,c+=1);var x=(t-u)/2,w=(n-c)/2,_=x*x/(r*r)+w*w/(i*i);_>1&&(r*=_=Math.sqrt(_),i*=_);var E=r*r,S=i*i,k=(a===s?-1:1)*Math.sqrt(Math.abs((E*S-E*w*w-S*x*x)/(E*w*w+S*x*x)));p=k*r*w/i+(t+u)/2,v=k*-i*x/r+(n+c)/2,d=Math.asin(((n-v)/i).toFixed(9)),h=Math.asin(((c-v)/i).toFixed(9)),d=t<p?Math.PI-d:d,h=u<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var C=h-d;if(Math.abs(C)>g){var M=h,O=u,N=c;h=d+g*(s&&h>d?1:-1),y=e(u=p+r*Math.cos(h),c=v+i*Math.sin(h),r,i,o,0,s,O,N,[h,M,p,v])}C=h-d;var T=Math.cos(d),A=Math.sin(d),P=Math.cos(h),I=Math.sin(h),D=Math.tan(C/4),R=4/3*r*D,L=4/3*i*D,j=[t,n],F=[t+R*A,n-L*T],B=[u+R*I,c-L*P],z=[u,c];if(F[0]=2*j[0]-F[0],F[1]=2*j[1]-F[1],l)return[F,B,z].concat(y);for(var U=[],G=0,V=(y=[F,B,z].concat(y).join().split(",")).length;G<V;G++)U[G]=G%2?b(y[G-1],y[G],m).y:b(y[G],y[G+1],m).x;return U},yq=function(e,t){var n,r=pq(e),i=t&&pq(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",l="",f=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(mq.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(gq(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(gq(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(vq(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(vq(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(vq(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(vq(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)s[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),n=Math.max(r.length,i&&i.length||0)}},h=function(e,t,o,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(l=s[p-1])),r[p]=f(r[p],o,l),"A"!==s[p]&&"C"===c&&(s[p]="C"),d(r,p),i&&(i[p]&&(c=i[p][0]),"C"!==c&&(u[p]=c,p&&(l=u[p-1])),i[p]=f(i[p],a,l),"A"!==u[p]&&"C"===c&&(u[p]="C"),d(i,p)),h(r,i,o,a,p),h(i,r,a,o,p);var v=r[p],g=i&&i[p],m=v.length,y=i&&g.length;o.x=v[m-2],o.y=v[m-1],o.bx=parseFloat(v[m-4])||o.x,o.by=parseFloat(v[m-3])||o.y,a.bx=i&&(parseFloat(g[y-4])||a.x),a.by=i&&(parseFloat(g[y-3])||a.y),a.x=i&&g[y-2],a.y=i&&g[y-1]}return i?[r,i]:r},bq=/,?([a-z]),?/gi,xq=function(e){return e.join(",").replace(bq,"$1")},wq=function(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n},_q=function(e,t,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=c*l[h]+c,v=wq(p,e,n,i,a),g=wq(p,t,r,o,s),m=v*v+g*g;d+=f[h]*Math.sqrt(m)}return c*d},Eq=function(e,t,n,r,i,o,a,s){for(var u,c,l,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(c=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,l=3*n-3*e):(c=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*s,l=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(f=-l/c)>0&&f<1&&d.push(f)}else{var v=c*c-4*l*u,g=Math.sqrt(v);if(!(v<0)){var m=(-c+g)/(2*u);m>0&&m<1&&d.push(m);var y=(-c-g)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(f=d[x]),h[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*i+f*f*f*a,h[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},Sq=function(e,t,n,r,i,o,a,s){if(!(Math.max(e,n)<Math.min(i,a)||Math.min(e,n)>Math.max(i,a)||Math.max(t,r)<Math.min(o,s)||Math.min(t,r)>Math.max(o,s))){var u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var c=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,l=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u,f=+c.toFixed(2),d=+l.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:c,y:l}}}},kq=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},Cq=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=xq,o},Mq=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Cq(e,t,n,r),vb:[e,t,n,r].join(" ")}},Oq=function(e,t,n,r,i,o,a,s){(0,eW.isArray)(e)||(e=[e,t,n,r,i,o,a,s]);var u=Eq.apply(null,e);return Mq(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Nq=function(e,t,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),f=Math.pow(c,2),d=u*u,h=d*u,p=e+2*u*(n-e)+d*(i-2*n+e),v=t+2*u*(r-t)+d*(o-2*r+t),g=n+2*u*(i-n)+d*(a-2*i+n),m=r+2*u*(o-r)+d*(s-2*o+r);return{x:l*e+3*f*u*n+3*c*u*u*i+h*a,y:l*t+3*f*u*r+3*c*u*u*o+h*s,m:{x:p,y:v},n:{x:g,y:m},start:{x:c*e+u*n,y:c*t+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-g,v-m)/Math.PI}},Tq=function(e,t,n){if(!function(e,t){return e=Mq(e),t=Mq(t),kq(t,e.x,e.y)||kq(t,e.x2,e.y)||kq(t,e.x,e.y2)||kq(t,e.x2,e.y2)||kq(e,t.x,t.y)||kq(e,t.x2,t.y)||kq(e,t.x,t.y2)||kq(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(Oq(e),Oq(t)))return n?0:[];for(var r=~~(_q.apply(0,e)/8),i=~~(_q.apply(0,t)/8),o=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var l=Nq.apply(0,e.concat(c/r));o.push({x:l.x,y:l.y,t:c/r})}for(c=0;c<i+1;c++){l=Nq.apply(0,t.concat(c/i));a.push({x:l.x,y:l.y,t:c/i})}for(c=0;c<r;c++)for(var f=0;f<i;f++){var d=o[c],h=o[c+1],p=a[f],v=a[f+1],g=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(v.x-p.x)<.001?"y":"x",y=Sq(d.x,d.y,h.x,h.y,p.x,p.y,v.x,v.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[g]-d[g])/(h[g]-d[g]))*(h.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(v[m]-p[m]))*(v.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},Aq=function(e,t){return function(e,t,n){var r,i,o,a,s,u,c,l,f,d;e=yq(e),t=yq(t);for(var h=n?0:[],p=0,v=e.length;p<v;p++){var g=e[p];if("M"===g[0])r=s=g[1],i=u=g[2];else{"C"===g[0]?(f=[r,i].concat(g.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])o=c=b[1],a=l=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,c,l,c,l],o=c,a=l);var x=Tq(f,d,n);if(n)h+=x;else{for(var w=0,_=x.length;w<_;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=f,x[w].bez2=d;h=h.concat(x)}}}}}return h}(e,t)};function Pq(e,t){var n=[],r=[];return e.length&&function e(t,i){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-i)*t[a][0]+i*t[a+1][0],(1-i)*t[a][1]+i*t[a+1][1]];e(o,i)}}(e,t),{left:n,right:r.reverse()}}var Iq=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=Pq(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},Dq=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(t,r,i){return i===n?t.concat(e[n]):t.concat(Iq(e[i],e[i+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},Rq=function(e,t){if(e.length!==t.length)return!1;var n=!0;return(0,eW.each)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function Lq(e,t,n){var r=null,i=n;return t<i&&(i=t,r="add"),e<i&&(i=e,r="del"),{type:r,min:i}}var jq=function(e,t){var n=function(e,t){var n,r,i=e.length,o=t.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(u=1;u<=i;u++)for(n=e[u-1],c=1;c<=o;c++){r=t[c-1],a=Rq(n,r)?0:1;var l=s[u-1][c].min+1,f=s[u][c-1].min+1,d=s[u-1][c-1].min+a;s[u][c]=Lq(l,f,d)}return s}(e,t),r=e.length,i=t.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var l=a;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var f=i-(r=e.length);if(r<i)for(u=0;u<f;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function Fq(e,t,n){for(var r,i=[].concat(e),o=1/(n+1),a=Bq(t)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(e.length*o))?i.unshift([a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]);return i}function Bq(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var zq=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=Bq(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Fq(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=Fq(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Fq(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},Uq=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),Gq=Uq;function Vq(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var Zq="undefined"!==typeof window&&"undefined"!==typeof window.document;function Wq(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function Yq(e){return e.cfg.visible&&e.cfg.capture}var Hq=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,eW.mix)(r,t),n}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(aW),qq=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Xq=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Kq=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},$q=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Qq=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Jq=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},eX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],nX=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function rX(e){return e?oX(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Jq:"undefined"!==typeof navigator?oX(navigator.userAgent):"undefined"!==typeof process&&process.version?new Kq(process.version.slice(1)):null}function iX(e){return""!==e&&tX.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function oX(e){var t=iX(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Qq;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=qq(qq([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,n=nX.length;t<n;t++){var r=nX[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=eX.exec(e);return s&&s[1]?new $q(n,o,a,s[1]):new Xq(n,o,a)}function aX(e,t){var n=[],r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=t[0],h=t[1],p=t[2],v=t[3],g=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=d*r+h*a+p*c,n[1]=d*i+h*s+p*l,n[2]=d*o+h*u+p*f,n[3]=v*r+g*a+m*c,n[4]=v*i+g*s+m*l,n[5]=v*o+g*u+m*f,n[6]=y*r+b*a+x*c,n[7]=y*i+b*s+x*l,n[8]=y*o+b*u+x*f,n}function sX(e,t){var n=[],r=t[0],i=t[1];return n[0]=e[0]*r+e[3]*i+e[6],n[1]=e[1]*r+e[4]*i+e[7],n}function uX(e){var t=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,d=-l*o+s*u,h=c*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}var cX=dW,lX="matrix",fX=["zIndex","capture","visible","type"],dX=["repeat"];function hX(e,t){var n={},r=t.attrs;for(var i in e)n[i]=r[i];return n}function pX(e,t){var n={},r=t.attr();return(0,eW.each)(e,(function(e,t){-1!==dX.indexOf(t)||(0,eW.isEqual)(r[t],e)||(n[t]=e)})),n}function vX(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,i=t.duration,o=Object.prototype.hasOwnProperty;return(0,eW.each)(e,(function(e){n+r<e.startTime+e.delay+e.duration&&i>e.delay&&(0,eW.each)(t.toAttrs,(function(t,n){o.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var gX=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,eW.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(!r)return this.attrs;if((0,eW.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,i),this.afterAttrsChange(((e={})[r]=i,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(Vq(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(lX,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(lX)},t.prototype.setMatrix=function(e){this.attr(lX,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?aX(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?aX(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?sX(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=uX(t);if(n)return sX(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[(0,eW.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};(0,eW.each)(t,(function(e,r){(0,eW.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)(0,eW.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return(0,eW.each)(fX,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,c=e[0],l=e[1],f=e[2],d=void 0===f?"easeLinear":f,h=e[3],p=void 0===h?eW.noop:h,v=e[4],g=void 0===v?0:v;(0,eW.isFunction)(c)?(i=c,c={}):(0,eW.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),(0,eW.isObject)(l)?(l=(u=l).duration,d=u.easing||"easeLinear",g=u.delay||0,o=u.repeat||o||!1,p=u.callback||eW.noop,a=u.pauseCallback||eW.noop,s=u.resumeCallback||eW.noop):((0,eW.isNumber)(p)&&(g=p,p=null),(0,eW.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var m=pX(c,this),y={fromAttrs:hX(m,this),toAttrs:m,duration:l,easing:d,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:g,startTime:n.getTime(),id:(0,eW.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=vX(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");(0,eW.each)(n,(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return(0,eW.each)(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return(0,eW.each)(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,i=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var o=function(e){var o=i[e],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Wq(o,n))return"break";(0,eW.isArray)(s)?(0,eW.each)(s,(function(e){r.emitDelegateEvent(o,e,t)})):a.emitDelegateEvent(o,s,t)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),i=t+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(i,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=cX(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=cX(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=cX(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,i=this.getMatrix(),o=cX(i,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(o),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),i=cX(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(i),this},t}(Hq),mX=gX,yX={};function bX(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){bX(e,t)}))}}function xX(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){xX(e,t)}))}}var wX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,eW.each)(a,(function(e){var t=e.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,eW.min)(i),t=(0,eW.max)(i),n=(0,eW.min)(o),r=(0,eW.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,eW.each)(a,(function(e){var t=e.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,eW.min)(i),t=(0,eW.max)(i),n=(0,eW.min)(o),r=(0,eW.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();(0,eW.each)(t,(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];(0,eW.isObject)(n)?r=n:r.type=n;var i=yX[r.type];i||(i=(0,eW.upperFirst)(r.type),yX[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],i=e[1];if((0,eW.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!Yq(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,e,t,n);else{var o=[e,t,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var i=null,o=e.length-1;o>=0;o--){var a=e[o];if(Yq(a)&&(a.isGroup()?i=a.getShape(t,n,r):a.isHit(t,n)&&(i=a)),i)break}return i},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=e.getParent();i&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),Vq(e.getChildren(),t)}(i,e,!1),e.set("parent",this),t&&bX(e,t),r&&xX(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,eW.each)(e,(function(e,t){return e._INDEX=t,e})),e.sort(function(e){return function(t,n){var r=e(t,n);return 0===r?t._INDEX-n._INDEX:r}}((function(e,t){return e.get("zIndex")-t.get("zIndex")}))),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return(0,eW.each)(n,(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return(0,eW.each)(n,(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(mX),_X=wX,EX=n(96212);function SX(e){return+e}function kX(e){return e*e}function CX(e){return e*(2-e)}function MX(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function OX(e){return e*e*e}function NX(e){return--e*e*e+1}function TX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var AX=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),PX=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),IX=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),DX=Math.PI,RX=DX/2;function LX(e){return 1===+e?1:1-Math.cos(e*RX)}function jX(e){return Math.sin(e*RX)}function FX(e){return(1-Math.cos(DX*e))/2}function BX(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function zX(e){return BX(1-+e)}function UX(e){return 1-BX(e)}function GX(e){return((e*=2)<=1?BX(1-e):2-BX(e-1))/2}function VX(e){return 1-Math.sqrt(1-e*e)}function ZX(e){return Math.sqrt(1- --e*e)}function WX(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var YX=4/11,HX=7.5625;function qX(e){return 1-XX(1-e)}function XX(e){return(e=+e)<YX?HX*e*e:e<.7272727272727273?HX*(e-=.5454545454545454)*e+.75:e<.9090909090909091?HX*(e-=.8181818181818182)*e+.9375:HX*(e-=.9545454545454546)*e+.984375}function KX(e){return((e*=2)<=1?1-XX(1-e):XX(e-1)+1)/2}var $X=1.70158,QX=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}($X),JX=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}($X),eK=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}($X),tK=2*Math.PI,nK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tK);function i(e){return t*BX(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*tK)},i.period=function(n){return e(t,n)},i}(1,.3),rK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tK);function i(e){return 1-t*BX(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*tK)},i.period=function(n){return e(t,n)},i}(1,.3),iK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tK);function i(e){return((e=2*e-1)<0?t*BX(-e)*Math.sin((r-e)/n):2-t*BX(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*tK)},i.period=function(n){return e(t,n)},i}(1,.3),oK=[1,0,0,0,1,0,0,0,1];function aK(e,t,n){var r,i=t.startTime;if(n<i+t.delay||t._paused)return!1;var a=t.duration,s=t.easing;if(n=n-i-t.delay,t.repeat)r=n%a/a,r=o[s](r);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=o[s](r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},i=t.fromAttrs,o=t.toAttrs;if(!e.destroyed){var a,s;for(var u in o)if(!(0,eW.isEqual)(i[u],o[u]))if("path"===u){var c=o[u],l=i[u];c.length>l.length?(c=fq(o[u]),l=fq(i[u]),l=jq(l,c),l=zq(l,c),t.fromAttrs.path=l,t.toAttrs.path=c):t.pathFormatted||(c=fq(o[u]),l=fq(i[u]),l=zq(l,c),t.fromAttrs.path=l,t.toAttrs.path=c,t.pathFormatted=!0),r[u]=[];for(var f=0;f<c.length;f++){for(var d=c[f],h=l[f],p=[],v=0;v<d.length;v++)(0,eW.isNumber)(d[v])&&h&&(0,eW.isNumber)(h[v])?(a=Iz(h[v],d[v]),p.push(a(n))):p.push(d[v]);r[u].push(p)}}else if("matrix"===u){var g=kz(i[u]||oK,o[u]||oK)(n);r[u]=g}else["fill","stroke","fillStyle","strokeStyle"].includes(u)&&(s=o[u],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[u]=o[u]:(0,eW.isFunction)(o[u])||(a=Iz(i[u],o[u]),r[u]=a(n));e.attr(r)}}(e,t,r);return!1}var sK=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=EX.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((e=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],aK(e,n,i)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),uK=sK,cK=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function lK(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function fK(e,t,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===t?(r=n.fromShape,i=!0):"mouseleave"===t&&(i=!0,r=n.toShape),e.isCanvas()&&i)return;if(r&&Wq(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var dK=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,eW.each)(cK,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,eW.each)(cK,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,i,o){var a=new Gq(e,t);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(o=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),i||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),i&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-e.clientX,l=a.clientY-e.clientY;u>120||c*c+l*l>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,i,o){var a=this._getEventObj(e,t,n,r,i,o);if(r){a.shape=r,lK(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||fK(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{lK(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),hK=dK,pK=rX(),vK=pK&&"firefox"===pK.name,gK=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");(0,eW.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new hK({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new uK(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");Zq&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");Zq&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(vK&&!(0,eW.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,eW.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(_X),mK=gK,yK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];t.add(i.clone())}return t},t}(_X),bK=yK,xK=function(e){function t(t){return e.call(this,t)||this}return(0,JZ.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;if(t){var a=sX(t,[e.minX,e.minY]),s=sX(t,[e.maxX,e.minY]),u=sX(t,[e.minX,e.maxY]),c=sX(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),i=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),o=Math.max(a[1],s[1],u[1],c[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,d=void 0===f?0:f,h=l.shadowOffsetX,p=void 0===h?0:h,v=l.shadowOffsetY,g=void 0===v?0:v,m=n-d+p,y=i+d+p,b=r-d+g,x=o+d+g;n=Math.min(n,m),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[e,t,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},t}(mX),wK=xK,_K=new Map;function EK(e,t){_K.set(e,t)}function SK(e){return _K.get(e)}function kK(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function CK(e){var t=e.attr(),n=t.x,r=t.y,i=t.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function MK(e){return Math.min.apply(null,e)}function OK(e){return Math.max.apply(null,e)}function NK(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function TK(e,t){return Math.abs(e-t)<.001}function AK(e,t){var n=MK(e),r=MK(t);return{x:n,y:r,width:OK(e)-n,height:OK(t)-r}}function PK(e){return(e+2*Math.PI)%(2*Math.PI)}var IK={box:function(e,t,n,r){return AK([e,n],[t,r])},length:function(e,t,n,r){return NK(e,t,n,r)},pointAt:function(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}},pointDistance:function(e,t,n,r,i,o){var a=(n-e)*(i-e)+(r-t)*(o-t);return a<0?NK(e,t,i,o):a>(n-e)*(n-e)+(r-t)*(r-t)?NK(n,r,i,o):this.pointToLine(e,t,n,r,i,o)},pointToLine:function(e,t,n,r,i,o){var a=[n-e,r-t];if(YY(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];ZY(s,s);var u=[i-e,o-t];return Math.abs(WY(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function DK(e,t,n,r,i,o){var a,s=1/0,u=[n,r],c=20;o&&o>200&&(c=o/10);for(var l=1/c,f=l/10,d=0;d<=c;d++){var h=d*l,p=[i.apply(null,e.concat([h])),i.apply(null,t.concat([h]))];(y=NK(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var v=e.length;return{x:e[v-1],y:t[v-1]}}s=1/0;for(d=0;d<32&&!(f<1e-4);d++){var g=a-f,m=a+f,y=(p=[i.apply(null,e.concat([g])),i.apply(null,t.concat([g]))],NK(u[0],u[1],p[0],p[1]));if(g>=0&&y<s)a=g,s=y;else{var b=[i.apply(null,e.concat([m])),i.apply(null,t.concat([m]))],x=NK(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,t.concat([a]))}}function RK(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function LK(e,t,n){var r=e+n-2*t;if(TK(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function jK(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function FK(e,t,n,r,i,o,a){var s=RK(e,n,i,a),u=RK(t,r,o,a),c=IK.pointAt(e,t,n,r,a),l=IK.pointAt(n,r,i,o,a);return[[e,t,c.x,c.y,s,u],[s,u,l.x,l.y,i,o]]}function BK(e,t,n,r,i,o,a){if(0===a)return(NK(e,t,n,r)+NK(n,r,i,o)+NK(e,t,i,o))/2;var s=FK(e,t,n,r,i,o,.5),u=s[0],c=s[1];return u.push(a-1),c.push(a-1),BK.apply(null,u)+BK.apply(null,c)}var zK={box:function(e,t,n,r,i,o){var a=LK(e,n,i)[0],s=LK(t,r,o)[0],u=[e,i],c=[t,o];return void 0!==a&&u.push(RK(e,n,i,a)),void 0!==s&&c.push(RK(t,r,o,s)),AK(u,c)},length:function(e,t,n,r,i,o){return BK(e,t,n,r,i,o,3)},nearestPoint:function(e,t,n,r,i,o,a,s){return DK([e,n,i],[t,r,o],a,s,RK)},pointDistance:function(e,t,n,r,i,o,a,s){var u=this.nearestPoint(e,t,n,r,i,o,a,s);return NK(u.x,u.y,a,s)},interpolationAt:RK,pointAt:function(e,t,n,r,i,o,a){return{x:RK(e,n,i,a),y:RK(t,r,o,a)}},divide:function(e,t,n,r,i,o,a){return FK(e,t,n,r,i,o,a)},tangentAngle:function(e,t,n,r,i,o,a){var s=jK(e,n,i,a),u=jK(t,r,o,a);return PK(Math.atan2(u,s))}};function UK(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function GK(e,t,n,r,i){var o=1-i;return 3*(o*o*(t-e)+2*o*i*(n-t)+i*i*(r-n))}function VK(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,c=3*t-3*e,l=[];if(TK(s,0))TK(u,0)||(i=-c/u)>=0&&i<=1&&l.push(i);else{var f=u*u-4*s*c;TK(f,0)?l.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&l.push(i),o>=0&&o<=1&&l.push(o))}return l}function ZK(e,t,n,r,i,o,a,s,u){var c=UK(e,n,i,a,u),l=UK(t,r,o,s,u),f=IK.pointAt(e,t,n,r,u),d=IK.pointAt(n,r,i,o,u),h=IK.pointAt(i,o,a,s,u),p=IK.pointAt(f.x,f.y,d.x,d.y,u),v=IK.pointAt(d.x,d.y,h.x,h.y,u);return[[e,t,f.x,f.y,p.x,p.y,c,l],[c,l,v.x,v.y,h.x,h.y,a,s]]}function WK(e,t,n,r,i,o,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,i=0;i<r;i++)n+=NK(e[i],t[i],e[(i+1)%r],t[(i+1)%r]);return n/2}([e,n,i,a],[t,r,o,s]);var c=ZK(e,t,n,r,i,o,a,s,.5),l=c[0],f=c[1];return l.push(u-1),f.push(u-1),WK.apply(null,l)+WK.apply(null,f)}var YK={extrema:VK,box:function(e,t,n,r,i,o,a,s){for(var u=[e,a],c=[t,s],l=VK(e,n,i,a),f=VK(t,r,o,s),d=0;d<l.length;d++)u.push(UK(e,n,i,a,l[d]));for(d=0;d<f.length;d++)c.push(UK(t,r,o,s,f[d]));return AK(u,c)},length:function(e,t,n,r,i,o,a,s){return WK(e,t,n,r,i,o,a,s,3)},nearestPoint:function(e,t,n,r,i,o,a,s,u,c,l){return DK([e,n,i,a],[t,r,o,s],u,c,UK,l)},pointDistance:function(e,t,n,r,i,o,a,s,u,c,l){var f=this.nearestPoint(e,t,n,r,i,o,a,s,u,c,l);return NK(f.x,f.y,u,c)},interpolationAt:UK,pointAt:function(e,t,n,r,i,o,a,s,u){return{x:UK(e,n,i,a,u),y:UK(t,r,o,s,u)}},divide:function(e,t,n,r,i,o,a,s,u){return ZK(e,t,n,r,i,o,a,s,u)},tangentAngle:function(e,t,n,r,i,o,a,s,u){var c=GK(e,n,i,a,u),l=GK(t,r,o,s,u);return PK(Math.atan2(l,c))}};function HK(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function qK(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}var XK=function(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,l=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=s+f;o<a?o<d&&d<a&&l.push(d):a<d&&d<o&&l.push(d)}for(f=0;f<l.length;f++){var h=HK(e,0,n,r,i,l[f]);h<u&&(u=h),h>c&&(c=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),v=1/0,g=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var b=qK(0,t,n,r,i,m[f]);b<v&&(v=b),b>g&&(g=b)}return{x:u,y:v,width:c-u,height:g-v}};function KK(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=NK(r[0],r[1],i[0],i[1])}return t}var $K=function(e){return KK(e)};function QK(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function JK(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=QK(t,n.getCanvasBBox())),r&&(t=QK(t,r.getCanvasBBox())),t}var e$=null;function t$(){if(!e$){var e=document.createElement("canvas");e.width=1,e.height=1,e$=e.getContext("2d")}return e$}function n$(e,t,n){var r=1;if((0,eW.isString)(e)&&(r=e.split("\n").length),r>1){var i=function(e,t){return t?t-e:.14*e}(t,n);return t*r+i*(r-1)}return t}function r$(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var i$=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o$=/[^\s\,]+/gi;var a$=function(e){var t=e||[];return(0,eW.isArray)(t)?t:(0,eW.isString)(t)?(t=t.match(i$),(0,eW.each)(t,(function(e,n){if((e=e.match(o$))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}(0,eW.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0};var s$=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,u,c,l=function(e,t,n,r){var i,o,a,s,u,c,l,f=[],d=!!r;if(d){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1)a=zY([0,0],a,g=e[h]),s=UY([0,0],s,g)}h=0;for(var v=e.length;h<v;h+=1){var g=e[h];if(0!==h||n)if(h!==v-1||n){i=e[[h?h-1:v-1,h-1][n?0:1]],o=e[n?(h+1)%v:h+1];var m=[0,0];m=GY(m=HY(m,o,i),m,t);var y=VY(g,i),b=VY(g,o),x=y+b;0!==x&&(y/=x,b/=x);var w=GY([0,0],m,-y),_=GY([0,0],m,b);c=BY([0,0],g,w),u=zY([0,0],u=BY([0,0],g,_),UY([0,0],o,g)),u=UY([0,0],u,zY([0,0],o,g)),c=zY([0,0],c=BY([0,0],g,w=GY([0,0],w=HY([0,0],u,g),-y/b)),UY([0,0],i,g)),c=UY([0,0],c,zY([0,0],i,g)),u=BY([0,0],g,_=GY([0,0],_=HY([0,0],g,c),b/y)),d&&(c=zY([0,0],c=UY([0,0],c,a),s),u=zY([0,0],u=UY([0,0],u,a),s)),f.push(l),f.push(c),l=u}else c=g,f.push(l),f.push(c);else l=g}return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o+=1)s=l[2*o],u=l[2*o+1],c=i[o+1],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]]);return r&&(s=l[f],u=l[f+1],c=i[0],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]])),d};var u$=new RegExp("([a-z])[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)","ig"),c$=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*","ig");function l$(e){if(!e)return null;if((0,eW.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(u$,(function(e,r,i){var o=[],a=r.toLowerCase();if(i.replace(c$,(function(e,t){t&&o.push(+t)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=t[a]&&(n.push([r].concat(o.splice(0,t[a]))),t[a]););return""})),n}var f$=/[a-z]/;function d$(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function h$(e){var t=l$(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];if(f$.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return t;var o=[],a=0,s=0,u=0,c=0,l=0,f=t[0];"M"!==f[0]&&"m"!==f[0]||(u=a=+f[1],c=s=+f[2],l++,o[0]=["M",a,s]);r=l;for(var d=t.length;r<d;r++){var h=t[r],p=o[r-1],v=[],g=(i=h[0]).toUpperCase();if(i!==g)switch(v[0]=g,g){case"A":v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v[6]=+h[6]+a,v[7]=+h[7]+s;break;case"V":v[1]=+h[1]+s;break;case"H":v[1]=+h[1]+a;break;case"M":u=+h[1]+a,c=+h[2]+s,v[1]=u,v[2]=c;break;default:for(var m=1,y=h.length;m<y;m++)v[m]=+h[m]+(m%2?a:s)}else v=t[r];switch(g){case"Z":a=+u,s=+c;break;case"H":v=["L",a=v[1],s];break;case"V":v=["L",a,s=v[1]];break;case"T":a=v[1],s=v[2];var b=d$([p[1],p[2]],[p[3],p[4]]);v=["Q",b[0],b[1],a,s];break;case"S":a=v[v.length-2],s=v[v.length-1];var x=p.length,w=d$([p[x-4],p[x-3]],[p[x-2],p[x-1]]);v=["C",w[0],w[1],v[1],v[2],a,s];break;case"M":u=v[v.length-2],c=v[v.length-1];break;default:a=v[v.length-2],s=v[v.length-1]}o.push(v)}return o}Math.PI;function p$(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function v$(e,t){return p$(e)*p$(t)?(e[0]*t[0]+e[1]*t[1])/(p$(e)*p$(t)):1}function g$(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v$(e,t))}function m$(e,t){return e[0]===t[0]&&e[1]===t[1]}function y$(e,t){var n=t[1],r=t[2],i=(0,eW.mod)((0,eW.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,d=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(s+c)/2+Math.cos(i)*g-Math.sin(i)*m,b=(u+l)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/n,(d-m)/r],w=[(-1*f-g)/n,(-1*d-m)/r],_=g$([1,0],x),E=g$(x,w);return v$(x,w)<=-1&&(E=Math.PI),v$(x,w)>=1&&(E=0),0===a&&E>0&&(E-=2*Math.PI),1===a&&E<0&&(E+=2*Math.PI),{cx:y,cy:b,rx:m$(e,[c,l])?0:n,ry:m$(e,[c,l])?0:r,startAngle:_,endAngle:_+E,xRotation:i,arcFlag:o,sweepFlag:a}}function b$(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function x$(e){for(var t=[],n=null,r=null,i=null,o=0,a=(e=a$(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var c=u[0],l={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var f=y$(n,u);l.arcParams=f}if("Z"===c)n=i,r=e[o+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),l.currentPoint=n,t[o]&&m$(n,t[o].currentPoint)&&(t[o].prePoint=l.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=h;var p=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var v=[u[1],u[2]];l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===c){v=b$((y=t[s-1]).currentPoint,p);"Q"===y.command?(l.command="Q",l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-v[0],n[1]-v[1]]):(l.command="TL",l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var g=[u[1],u[2]],m=[u[3],u[4]];l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]],0===l.startTangent[0]&&0===l.startTangent[1]&&(l.startTangent=[g[0]-m[0],g[1]-m[1]]),0===l.endTangent[0]&&0===l.endTangent[1]&&(l.endTangent=[m[0]-g[0],m[1]-g[1]])}else if("S"===c){var y;g=b$((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(l.command="C",l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]]):(l.command="SQ",l.startTangent=[p[0]-m[0],p[1]-m[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var b=.001,x=l.arcParams||{},w=x.cx,_=void 0===w?0:w,E=x.cy,S=void 0===E?0:E,k=x.rx,C=void 0===k?0:k,M=x.ry,O=void 0===M?0:M,N=x.sweepFlag,T=void 0===N?0:N,A=x.startAngle,P=void 0===A?0:A,I=x.endAngle,D=void 0===I?0:I;0===T&&(b*=-1);var R=C*Math.cos(P-b)+_,L=O*Math.sin(P-b)+S;l.startTangent=[R-i[0],L-i[1]];var j=C*Math.cos(P+D+b)+_,F=O*Math.sin(P+D-b)+S;l.endTangent=[p[0]-j,p[1]-F]}t.push(l)}return t}function w$(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||(0,eW.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(u/2-c)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(l-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}EK("rect",kK),EK("image",kK),EK("circle",CK),EK("marker",CK),EK("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}var a=AK(n,r),s=a.x,u=a.y,c={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(c=JK(e,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}})),EK("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}return AK(n,r)})),EK("text",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=t.font;s||(s=r$(t));var u,c=function(e,t){var n=t$(),r=0;if((0,eW.isNil)(e)||""===e)return r;if(n.save(),n.font=t,(0,eW.isString)(e)&&e.includes("\n")){var i=e.split("\n");(0,eW.each)(i,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))}else r=n.measureText(e).width;return n.restore(),r}(i,s);if(c){var l=t.textAlign,f=t.textBaseline,d=n$(i,o,a),h={x:n,y:r-d};l&&("end"===l||"right"===l?h.x-=c:"center"===l&&(h.x-=c/2)),f&&("top"===f?h.y+=d:"middle"===f&&(h.y+=d/2)),u={x:h.x,y:h.y,width:c,height:d}}else u={x:n,y:r,width:0,height:0};return u})),EK("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,i=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=(v=e[o]).currentPoint,s=v.params,u=v.prePoint,c=void 0;switch(v.command){case"Q":c=zK.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=YK.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var l=v.arcParams;c=XK(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(v.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),t&&("L"===v.command||"M"===v.command)&&v.prePoint&&v.nextPoint&&i.push(v)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var f=(0,eW.min)(n),d=(0,eW.min)(r),h=(0,eW.max)(n),p=(0,eW.max)(r);if(0===i.length)return{x:f,y:d,width:h-f,height:p-d};for(o=0;o<i.length;o++){var v;(a=(v=i[o]).currentPoint)[0]===f?f-=w$(v,t).xExtra:a[0]===h&&(h+=w$(v,t).xExtra),a[1]===d?d-=w$(v,t).yExtra:a[1]===p&&(p+=w$(v,t).yExtra)}return{x:f,y:d,width:h-f,height:p-d}}(e.get("segments")||x$(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=JK(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),EK("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=JK(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),EK("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var _$=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,JZ.__extends)(t,e),t}(Gq),E$=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},S$=function(e){if((0,eW.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,eW.isNumber)(e))return[e,e,e,e];if((0,eW.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},k$=function(e){var t=new _$(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},C$=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},M$=function(e){return Number.isNaN(Number(e))},O$=function(e){for(var t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY;s<t&&(t=s),u<r&&(r=u),c>n&&(n=c),l>i&&(i=l)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(i)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:i}},N$=function(e,t,n,r,i){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],l={},f=0;f<o;f++){var d=e[f],h=d.source,p=d.target,v="".concat(h,"-").concat(p);if(!c[f]){u[v]||(u[v]=[]),c[f]=!0,u[v].push(d);for(var g=0;g<o;g++)if(f!==g){var m=e[g],y=m.source,b=m.target;c[g]||(h===b&&p===y?(u[v].push(m),c[g]=!0,l["".concat(y,"|").concat(b,"|").concat(u[v].length-1)]=!0):h===y&&p===b&&(u[v].push(m),c[g]=!0))}}}for(var x in u)for(var w=u[x],_=w.length,E=0;E<_;E++){var S=w[E];if(S.source!==S.target)if(1===_&&r&&S.source!==S.target)S.type=r;else{S.type=n;var k=(E%2===0?1:-1)*(l["".concat(S.source,"|").concat(S.target,"|").concat(E)]?-1:1);S.curveOffset=_%2===1?k*Math.ceil(E/2)*a:k*(Math.floor(E/2)*a+t)}else i&&(S.type=i),S.loopCfg={position:s[E%8],dist:20*Math.floor(E/8)+50}}return e},T$=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;e.translate(r.x-i,r.y-o)}},e.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),r=e.get("height"),i=e.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;e.translate(a.x-s,a.y-u);var c=(n-t[1]-t[3])/o.width,l=(r-t[0]-t[2])/o.height,f=c;c>l&&(f=l),e.zoom(f,a)||console.warn("zoom failed, ratio out of range, ratio: %f",f)}},e.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=void 0!==t&&t,r=e.direction,i=void 0===r?"both":r,o=e.ratioRule,a=void 0===o?"min":o,s=this.graph,u=this.getFormatPadding(),c=s.get("width"),l=s.get("height"),f=s.get("group");f.resetMatrix();var d=f.getCanvasBBox();if(0!==d.width&&0!==d.height){var h=this.getViewCenter(),p=d.x+d.width/2,v=d.y+d.height/2;s.translate(h.x-p,h.y-v);var g,m=(c-u[1]-u[3])/d.width,y=(l-u[0]-u[2])/d.height;g="x"===i?m:"y"===i?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(g=g<1?g:1);var b=s.getZoom()*g,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",g,"graph minzoom has been used instead")),s.zoomTo(b,h)}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return S$(e)},e.prototype.focusPoint=function(e,t,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(o.x-e.x)*a[0],u=(o.y-e.y)*a[4],c=0,l=0,f=0,d=0;this.graph.get("canvas").animate((function(e){f=s*e,d=u*e,r.graph.translate(f-c,d-l),c=f,l=d}),(0,JZ.__assign)({},n))}else this.graph.translate((o.x-e.x)*a[0],(o.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),nH({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),tH({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if((0,eW.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,i=0;if(e.getType&&"edge"===e.getType()){var o=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,eW.isNumber)(e)||!(0,eW.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach((function(e){e.get("gridContainer")&&e.positionInit()}))},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}(),A$=T$;function P$(e){return P$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P$(e)}function I$(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},i=e.trim(),o=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return r(a)===e}))},u=null,c=0,l="";c<i.length;){var f=i[c],d=s('"',"'");if(d||f.trim()){var h="\\"===i[c-1],p=s("}"),v=s("]"),g=s(","),m=r(o);if(d)if(r(a)!==f||h)l+=f;else{a.pop();var y=t(l);m.push(y),u=y,l=""}else if(v&&","===f)l&&(m.push(t(l)),l="");else if(p&&":"===f)a.push(","),l&&(m.push(l),l="");else if(g&&","===f)l&&(m.push(t(l)),l=""),a.pop();else if("}"===f&&(p||g)){l&&(m.push(t(l)),l=""),g&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===f&&v?(l&&(m.push(t(l)),l=""),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):"{"===f?(o.push([]),a.push("}")):"["===f?(o.push([]),a.push("]")):'"'===f?a.push('"'):"'"===f?a.push("'"):l+=f;c+=1}else c+=1}return u||l}function D$(e,t){var n={},r=e.getAttributeNames&&e.getAttributeNames()||[],i=e.children&&Array.from(e.children).map((function(e){return D$(e,t)})),o={},a=e.tagName?e.tagName.toLowerCase():"group";return"text"===a&&(n.text=e.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(r).forEach((function(t){var r=function(e){return e.split("-").reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}))}(t),i=e.getAttribute(t);try{if("style"===r||"attrs"===r){var a=I$(i);n=(0,JZ.__assign)((0,JZ.__assign)({},n),a)}else o[r]=I$(i)}catch(s){if("style"===r)throw s;o[r]=i}})),o.attrs=n,t&&t.style&&o.name&&"object"===P$(t.style[o.name])&&(o.attrs=(0,JZ.__assign)((0,JZ.__assign)({},o.attrs),t.style[o.name])),t&&t.style&&o.keyshape&&(o.attrs=(0,JZ.__assign)((0,JZ.__assign)({},o.attrs),t.style)),i.length&&(o.children=i),o}function R$(e,t){var n;void 0===t&&(t={x:0,y:0});var r=(0,JZ.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var i=e.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,JZ.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var c=R$(e.children[u],s);if(c.bbox){var l=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,l.width+l.x>r.width&&(r.width=l.width+l.x),l.height+l.y>r.height&&(r.height=l.height+l.y)}}}return e.bbox=function(e,t,n){var r,i,o=e.attrs,a=void 0===o?{}:o,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=JH(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,e.attrs=(0,JZ.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=(0,JZ.__assign)((0,JZ.__assign)({},e.attrs),e.bbox),e}function L$(e,t){var n,r,i,o,a=(e||{}).type,s=((null===t||void 0===t?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:a,key:s};if(e&&!t)return{action:"add",val:e,type:a};if(!e&&!t)return{action:"same",type:a};var u=[];if((null===(n=e.children)||void 0===n?void 0:n.length)>0||(null===(r=t.children)||void 0===r?void 0:r.length)>0)for(var c=Math.max(null===(i=e.children)||void 0===i?void 0:i.length,null===(o=t.children)||void 0===o?void 0:o.length),l=t.children||[],f=e.children||[],d=0;d<c;d+=1)u.push(L$(f[d],l[d]));var h=Object.keys(t.attrs),p=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:u}:h.filter((function(e){return"children"!==e})).some((function(n){return e.attrs[n]!==t.attrs[n]||!p.includes(n)}))?{action:"change",val:e,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function j$(e){var t={},n=function(t){var n=function(e){return function(t){for(var n=e.length,r=[],i=0,o="";i<n;)if("{"===e[i]&&"{"===e[i+1])r.push(o),o="",i+=2;else if("}"===e[i]&&"}"===e[i+1]){if(r.length){var a=r.pop();o=(0,eW.get)(t,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=e[i],i+=1;return r.push(o),r.map((function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e})).join("")}}("function"===typeof e?e(t):e)(t),r=document.createElement("div");r.innerHTML=n;var i=R$(D$(r.children[0],t));return r.remove(),i};return{draw:function(e,r){var i=n(e),o=r;return function e(t){var n=t.attrs,i=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,c=(0,JZ.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var l=r.addShape(t.type,(0,JZ.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},c));t.keyshape&&(o=l)}t.children&&t.children.forEach((function(t){return e(t)}))}(i),t[e.id]=[i],o},update:function(e,r){t[e.id]||(t[e.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(e),s=L$(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&i.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))},c=function e(t){var n,r=o.find((function(e){return e.attrs.key===t.attrs.key}));r&&i.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))};!function e(t){var n=t.key;if("group"!==t.type){var i=o.find((function(e){return e.attrs.key===n}));switch(t.action){case"change":if(i){var a=t.val.keyshape?r.getOriginStyle():{};i.attr((0,JZ.__assign)((0,JZ.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":c(t.val);break;case"restructure":c(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return e(t)}))}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var F$={};function B$(e){return F$[e]||(F$[e]=(0,eW.upperFirst)(e)),F$[e]}var z$={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this;return t[e]||t[t.defaultShapeType]||t["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var i=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,i),i},baseUpdate:function(e,t,n,r){var i,o,a=this.getShape(e);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,t,r),null===(o=a.update)||void 0===o||o.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},U$={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},G$=function(){function e(){}return e.registerFactory=function(t,n){var r=B$(t),i=z$,o=(0,JZ.__assign)((0,JZ.__assign)({},i),n);return e[r]=o,o.className=r,o},e.getFactory=function(t){return e[B$(t)]},e.registerNode=function(t,n,r){var i,o=e.Node;if("string"===typeof n||"function"===typeof n){var a=j$(n);i=(0,JZ.__assign)((0,JZ.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=j$(n.jsx);i=(0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):U$;i=(0,JZ.__assign)((0,JZ.__assign)({},s),n)}return i.type=t,i.itemType="node",o[t]=i,i},e.registerEdge=function(t,n,r){var i=e.Edge,o=r?i.getShape(r):U$,a=(0,JZ.__assign)((0,JZ.__assign)({},o),n);return a.type=t,a.itemType="edge",i[t]=a,a},e.registerCombo=function(t,n,r){var i=e.Combo,o=r?i.getShape(r):U$,a=(0,JZ.__assign)((0,JZ.__assign)({},o),n);return a.type=t,a.itemType="combo",i[t]=a,a},e}(),V$=G$;G$.registerFactory("node",{defaultShapeType:"circle"}),G$.registerFactory("edge",{defaultShapeType:"line"}),G$.registerFactory("combo",{defaultShapeType:"circle"});var Z$="bboxCache",W$="bboxCanvasCache",Y$=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=E$(i),this.get("model").id=r),this.set("id",r);var o=e.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var c=this.get("styles")||n.stateStyles;c=(0,eW.deepMix)({},u.stateStyles,c),this.set("styles",c)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=WH(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=WH(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),r=e.get("model");n.clear();var i=r.visible;if(void 0===i||i||e.changeVisibility(i),t){e.updatePosition(r);var o=e.getShapeCfg(r),a=o.type,s=t.draw(a,o,n);s&&(e.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(t,a)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==i){var c=a[s];o[s]||(o[s]={}),c?Object.keys(u).forEach((function(e){var t=u[e];t!==c[e]&&(o[s][e]=t)})):o[s]="image"!==n.get("type")?(0,eW.clone)(u):r.getShapeStyleByName(s)}else{var l=n.attr(),f={};Object.keys(a).forEach((function(e){var t=a[e];e!==i&&(0,eW.isPlainObject)(t)||(f[e]=t)})),Object.keys(l).forEach((function(e){var t=l[e];f[e]!==t&&(i?o[i][e]=t:o[e]=t)}))}};for(c=0;c<t.length;c++)s(c);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var u={},c=0;c<t.length;c++){var l=t[c],f=l.get("type"),d=l.get("name");if(d&&d!==i)u[d]="image"!==f?(0,eW.clone)(l.attr()):r.getShapeStyleByName(d),"text"===f&&u[d]&&(delete u[d].x,delete u[d].y,delete u[d].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,i)if(d)u[i]=h;else{var p=E$("shape");l.set("name",p),e.shapeMap[p]=l,u[p]="image"!==f?(0,eW.clone)(l.attr()):r.getShapeStyleByName(d)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");(0,eW.each)(r,(function(r){e.setState(t,r,!0,n)}))},e.prototype.init=function(){var e=V$.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){(0,eW.isPlainObject)(e)?this._cfg=(0,JZ.__assign)((0,JZ.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(Z$,null),this.set(W$,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return(0,eW.each)(t.attr(),(function(e,t){("img"!==t||(0,eW.isString)(e))&&(r[t]=e)})),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=(0,JZ.__assign)((0,JZ.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?((0,eW.each)(e.getStates(),(function(n){t=Object.assign(t,e.getStateStyle(n))})),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),i=e,o=e;(0,eW.isString)(t)&&(i="".concat(e,":").concat(t),o="".concat(e,":"));var a=n;if((0,eW.isBoolean)(t)){var s=n.indexOf(o);if(t){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if((0,eW.isString)(t)){var u=n.filter((function(e){return e.includes(o)}));u.length>0&&this.clearStates(u),(a=a.filter((function(e){return!e.includes(o)}))).push(i),this.set("states",a)}if(r){var c=this.get("model").type;r.setState(c,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),i=t.get("model").type;e||(e=n),(0,eW.isString)(e)&&(e=[e]);var o=n.filter((function(t){return-1===e.indexOf(t)}));t.set("states",o),e.forEach((function(e){r.setState(i,e,!1,t)}))},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,eW.mix)(a,s),delete e.stateStyles}Object.assign(n,e),o.x===e.x&&o.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,e);t.baseUpdate(r,i,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),uH(i,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get(Z$);return e||(e=this.calculateBBox(),this.set(Z$,e)),e},e.prototype.getCanvasBBox=function(){var e=this.get(W$);return e||(e=this.calculateCanvasBBox(),this.set(W$,e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),H$=Y$,q$={source:"start",target:"end"},X$="Node",K$="Point",$$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=q$[e]+K$,r=e+X$,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,eW.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=q$[e]+K$,i=e+X$,o=this.get(r);if(!o){var a=this.get(i),s=e+"Anchor",u=this.getPrePoint(e,n),c=t[s];(0,eW.isNil)(c)||(o=a.getLinkPointByAnchor(c)),o=o||a.getLinkPoint(u),(0,eW.isNil)(o.index)||this.set("".concat(e,"AnchorIndex"),o.index)}return o},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+X$,n=q$[e]+K$,r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=e.type;return r.getControlPoints(i,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+X$,n=q$[e]+K$,r=this.get(t);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this,i=r.get("linkCenter"),o=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var a=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",t,a),o.endPoint=r.getLinkPoint("target",t,a)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat(X$)),n=this.get("target".concat(X$));return t?delete e["source".concat(X$)]:e.source=this.get("start".concat(K$)),n?delete e["target".concat(X$)]:e.target=this.get("end".concat(K$)),(0,eW.isString)(e.source)||(0,eW.isPlainObject)(e.source)||(e.source=e.source.getID()),(0,eW.isString)(e.target)||(0,eW.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(e.stateStyles){var a=e.stateStyles;(0,eW.mix)(o,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat(X$)),n=this.get("target".concat(X$));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(H$),Q$=$$,J$="anchorPointsCache",eQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],i=iH(e[0],t),o=0;o<e.length;o++){var a=e[o],s=iH(a,t);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("target")===e}))},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("source")===e}))},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter((function(e){return e.getSource()===t})).map((function(e){return e.getTarget()}))}if("source"===e){return n.filter((function(e){return e.getTarget()===t})).map((function(e){return e.getSource()}))}return n.map((function(e){return e.getSource()===t?e.getTarget():e.getSource()}))},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(t=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(t=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=JY({x:t,y:n,r:o.width/2},e);break;case"ellipse":a=eH({x:t,y:n,rx:o.width/2,ry:o.height/2},e);break;default:a=QY(o,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get(J$);if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=t.getAnchorPoints(o,i)||[];(0,eW.each)(a,(function(t,r){var i={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(i)})),this.set(J$,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(J$,null)},t.prototype.getUpdateType=function(e){var t,n,r,i,o;if(e){var a=!(0,eW.isNil)(e.x),s=!(0,eW.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":(0,eW.isNumber)(e.x)||(0,eW.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.rx)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(H$),tQ=eQ,nQ="bboxCache",rQ="bboxCanvasCache",iQ="sizeCache",oQ="anchorPointsCache",aQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,i={r:Math.hypot(n.height,n.width)/2||FH.defaultCombo.size[0]/2,width:n.width||FH.defaultCombo.size[0],height:n.height||FH.defaultCombo.size[1]};r.style=(0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)({},t),e.style),i);var o=e.padding||FH.defaultCombo.padding;return(0,eW.isNumber)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(iQ,i),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=WH(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(iQ),i=this.get(nQ)||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set(oQ,null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(rQ,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(nQ,null),this.set(rQ,null),this.set(oQ,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set(iQ,null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(tQ),sQ=aQ,uQ="node",cQ="edge",lQ="vedge",fQ="combo",dQ="Mapper",hQ="stateStyles",pQ=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,eW.throttle)((function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var i=t.edgeToBeUpdateMap;i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)&&(Object.keys(i).forEach((function(e){var t=i[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(i[e].updateType)}})),t.edgeToBeUpdateMap={})}}),16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r=e===lQ?cQ:e,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,eW.upperFirst)(r),a=null,s=n.get(r+(0,eW.upperFirst)(hQ))||{},u=n.get("default"+o);t.stateStyles&&(s=t.stateStyles),u&&(0,eW.each)(u,(function(e,n){(0,eW.isObject)(e)&&!(0,eW.isArray)(e)?t[n]=(0,eW.deepMix)({},e,t[n]):(0,eW.isArray)(e)?t[n]=t[n]||(0,eW.clone)(u[n]):t[n]=t[n]||u[n]}));var c=n.get(r+dQ);if(c){var l=c(t);l.stateStyles&&(s=l.stateStyles,delete l.stateStyles),(0,eW.each)(l,(function(e,n){(0,eW.isObject)(e)&&!(0,eW.isArray)(e)?t[n]=(0,eW.deepMix)({},t[n],e):t[n]=l[n]||t[n]}))}if(n.emit("beforeadditem",{type:e,model:t}),e===cQ||e===lQ){var f=void 0,d=void 0;if(f=t.source,d=t.target,f&&(0,eW.isString)(f)&&(f=n.findById(f)),d&&(0,eW.isString)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),a=new Q$({model:t,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(e===uQ)a=new tQ({model:t,styles:s,group:i.addGroup()});else if(e===fQ){var h=t.children,p=nq(h,n),v=void 0,g=void 0;if(isNaN(p.x)?isNaN(t.x)&&(v=100*Math.random()):v=p.x,isNaN(p.y)?isNaN(t.y)&&(g=100*Math.random()):g=p.y,isNaN(t.x)||isNaN(t.y))t.x=v,t.y=g;else{var m=t.x-v,y=t.y-g;this.updateComboSucceeds(t.id,m,y,h)}var b=i.addGroup();b.setZIndex(t.depth);var x=(a=new sQ({model:t,styles:s,bbox:t.collapsed?nq([],n):p,group:b})).getModel();(h||[]).forEach((function(e){var t=n.findById(e.id);a.addChild(t),e.depth=x.depth+2})),t.collapsed&&setTimeout((function(){a.destroyed||(n.collapseCombo(a),n.updateCombo(a))}),0)}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,i=this,o=this.graph;if((0,eW.isString)(e)&&(e=o.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=o.get(a+dQ),u=e.getModel(),c=u.x,l=u.y,f=e.getUpdateType(t);if(s){var d=s((0,eW.deepMix)({},u,t)),h=(0,eW.deepMix)({},u,d,t);d.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),(0,eW.each)(h,(function(e,n){t[n]=e}))}else(0,eW.each)(t,(function(e,n){u[n]&&(0,eW.isObject)(e)&&!(0,eW.isArray)(e)&&(t[n]=(0,JZ.__assign)((0,JZ.__assign)({},u[n]),t[n]))}));if(o.emit("beforeupdateitem",{item:e,cfg:t}),a===cQ){if(t.source){var p=t.source;(0,eW.isString)(p)&&(p=o.findById(p)),e.setSource(p)}if(t.target){var v=t.target;(0,eW.isString)(v)&&(v=o.findById(v)),e.setTarget(v)}e.update(t)}else if(a===uQ){e.update(t,f);var g=e.getEdges(),m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f;"move"===f?(0,eW.each)(g,(function(e){i.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:f},i.throttleRefresh()})):m&&(0,eW.each)(g,(function(e){e.refresh(f)}))}else if(a===fQ){if(e.update(t,f),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-c||0,b=t.y-l||0;this.updateComboSucceeds(u.id,y,b)}var x=e.getEdges();if((m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f)&&a===fQ){var w=e.get("shapeFactory"),_=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=w[_])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(0,eW.each)(x,(function(e){e&&!e.destroyed&&e.refresh()}))}}),201):(0,eW.each)(x,(function(e){e.refresh()}))}}o.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,i,o=this,a=this.graph;if((0,eW.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=nq(t,a,e),c=u.x,l=u.y;e.set("bbox",u);var f=c,d=l;n?(f=isNaN(s.x)?c:s.x,d=isNaN(s.y)?l:s.y):(f=isNaN(c)?s.x:c,d=isNaN(l)?s.y:l),e.update({x:f,y:d});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),o.updateComboEdges(e))}}),201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];if(r&&!r.destroyed){var i=r.get("shapeFactory"),o=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=i.draw(o.type,o,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},e.prototype.collapseCombo=function(e){var t=this.graph;(0,eW.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.hideItem(e)})),n.combos.forEach((function(e){t.hideItem(e)}))},e.prototype.updateComboSucceeds=function(e,t,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach((function(t){KH(t,(function(t){return t.id!==e||(a=t.children,!1)}))}))}null===a||void 0===a||a.forEach((function(e){var r=o.findById(e.id);if(r){var a=r.getModel();i.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}}))}},e.prototype.expandCombo=function(e){var t=this.graph;(0,eW.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.showItem(e)})),n.combos.forEach((function(e){e.getModel().collapsed?e.show():t.showItem(e)}))},e.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,eW.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=(0,eW.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var i="";e.getType&&(i=e.getType());var o=n.get("".concat(i,"s")),a=o.indexOf(e);if(a>-1&&o.splice(a,1),i===cQ){var s=n.get("v".concat(i,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var c=e.get("id");delete n.get("itemMap")[c];var l=n.get("comboTrees"),f=e.get("id");if(i===uQ){var d=e.getModel().comboId;if(l&&d){var h=l,p=!1;l.forEach((function(e){p||KH(e,(function(e){if(e.id===f&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0}))}))}for(var v=(b=e.getEdges()).length-1;v>=0;v--)n.removeItem(b[v],!1);d&&n.updateCombo(d)}else if(i===fQ){var g,m=e.getModel().parentId,y=!1;(l||[]).forEach((function(e){y||KH(e,(function(e){return e.id!==f||(g=e,y=!0,!1)}))})),g.removed=!0,g&&g.children&&g.children.forEach((function(e){t.removeItem(e.id)}));var b;for(v=(b=e.getEdges()).length;v>=0;v--)n.removeItem(b[v],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,i=t;(0,eW.isString)(n)&&(i="".concat(t,":").concat(n)),e.hasState(i)===n&&n||(0,eW.isString)(n)&&e.hasState(i)||(r.emit("beforeitemstatechange",{item:e,state:i,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:i,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;(0,eW.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;(0,eW.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;(0,eW.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach((function(e){$H(e,(function(e){var r;return t.forEach((function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if((0,eW.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===uQ){var i=e.getEdges();(0,eW.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}else if(e.getType&&e.getType()===fQ){var o=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(o||[]).forEach((function(e){u||e.children&&0!==e.children.length&&KH(e,(function(e){return e.id!==a||(s=e.children,u=!0,!1)}))})),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach((function(e){var i=r.findById(e.id);n.changeItemVisibility(i,t)}));i=e.getEdges();(0,eW.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),vQ=pQ,gQ=null,mQ=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var i=this,o=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;r?(o(t,n,c),a(t,n,u)):(o(t,n,u),a(t,n,c)),gQ&&clearTimeout(gQ),gQ=setTimeout((function(){gQ=null,i.updateGraphStates()}),16)}},e.prototype.updateStates=function(e,t,n){var r=this;(0,eW.isString)(t)?this.updateState(e,t,n):t.forEach((function(t){r.updateState(e,t,n)}))},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,eW.each)(t.disabled,(function(t,n){e[n]&&(e[n]=e[n].filter((function(e){return t.indexOf(e)<0&&!t.destroyed})))})),(0,eW.each)(t.enabled,(function(t,n){if(e[n]){var r={};e[n].forEach((function(e){e.destroyed||(r[e.get("id")]=!0)})),t.forEach((function(t){if(!t.destroyed){var i=t.get("id");r[i]||(r[i]=!0,e[n].push(t))}}))}else e[n]=t})),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,gQ&&clearTimeout(gQ),gQ=null,this.destroyed=!0},e}(),yQ=mQ,bQ=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""})):e},xQ=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.x,a=i.y;t.push(o),t.push(a)}var s=s$(t);return s.unshift(["M",e[0].x,e[0].y]),s},wQ=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},o=[0,0];ZY(o,[t.x-e.x,t.y-e.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},_Q=function(e,t){var n=e.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=e[i];r+=bQ(0===i?"M{x} {y}":"L{x} {y}",o)}return t&&(r+="Z"),r},EQ=function(e){var t=[];return e.forEach((function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}})),t},SQ=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(r),e.unshift(i),e.push(t),e.push(n);for(var o=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,c=e[a].x,l=e[a].y,f=e[a+1].x,d=e[a+1].y,h=c+(f-s)/6,p=l+(d-u)/6,v=f-((a!==e.length-2?e[a+2].x:f)-c)/6,g=d-((a!==e.length-2?e[a+2].y:d)-l)/6;o.push(["C",h,p,v,g,f,d])}return o.unshift(["M",r.x,r.y]),o},kQ=function(e,t){return GY([0,0],ZY([0,0],e),t)},CQ=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},MQ=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function OQ(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=GY([0,0],CQ(e[0],e[1]),t),r=GY([0,0],n,-1),i=BY([0,0],e[0],n),o=BY([0,0],e[1],n),a=BY([0,0],e[1],r),s=BY([0,0],e[0],r);return"M ".concat(i," L ").concat(o," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",i].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var i=0===r?e[e.length-1]:e[r-1],o=e[r],a=GY([0,0],CQ(i,o),t);n[r]=[BY([0,0],i,a),BY([0,0],o,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return n=n.map((function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})),n.join(" ")}function NQ(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=MQ(e[0],e[1]),r=kQ(n,t),i=BY([0,0],e[0],GY([0,0],r,-1)),o=BY([0,0],e[1],r),a=1.2*t,s=kQ(ZY([0,0],n),a),u=GY([0,0],s,-1),c=BY([0,0],i,u),l=BY([0,0],o,u),f=BY([0,0],i,s);return"M ".concat(i," C ").concat([c,l,o].join(",")," S ").concat([f,i].join(",")," Z")}(e);for(var r=e.map((function(t,r){var i=e[(r+1)%n];return{p:t,v:ZY([0,0],MQ(t,i))}})),i=0;i<r.length;++i){var o=ZY([0,0],BY([0,0],r[i>0?i-1:n-1].v,GY([0,0],r[i].v,-1)));r[i].p=BY([0,0],r[i].p,GY([0,0],o,t))}return r.map((function(e){var t=e.p;return{x:t[0],y:t[1]}}))}var TQ=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},AQ=function(e){var t=e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}}));if(t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x})),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&TQ(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var i=[];for(r=t.length-1;r>=0;r--){for(;i.length>=2&&TQ(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}return i.pop(),n.pop(),n.concat(i)},PQ={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function IQ(e,t,n){var r=!1,i=function(e,n){return t.cells[e+n*t.width]},o=function(e,t){var r=0;return i(e-1,t-1)>=n&&(r+=1),i(e,t-1)>n&&(r+=2),i(e-1,t)>n&&(r+=4),i(e,t)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,c=0;c<t.width*t.height;c++){if(i=s,a=u,e.findIndex((function(e){return e.x===s&&e.y===u}))>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var l=o(s,u);switch(l){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(l)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)i(e,s)>n&&15!==o(e,s)&&(r=a(e,s));return r}}var DQ=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach((function(e){var i=wH(e,t);i>=0&&i<n&&(r=e,n=i)})),r};function RQ(e,t,n,r,i){var o=function(e,t,n){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach((function(t){var o={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=EH(o,a),u=new mH(o.x,o.y,a.x,a.y),c=n.reduce((function(e,t){return wH(t,u)>0?e+1:e}),0);s*Math.pow(c+1,2)<i&&(r=t,i=s*Math.pow(c+1,2))})),r}(e,n,t);if(null===o)return[];var a=function(e,t,n,r){var i=[],o=[];o.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach((function(t){n||(kH(e,{x:t.x1,y:t.y1})||kH(e,{x:t.x2,y:t.y2}))&&(n=!0)})),n},c=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(pH(o,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var l=function(){var e=o.pop(),n=DQ(t,e);if(n){var l=xH(n,e),f=l[0];if(2===l[1]){var d=function(s){for(var l=r,d=FQ(n,l,f,s),h=u(d,o)||u(d,i),p=c(d,t);!h&&p&&l>=1;)d=FQ(n,l/=1.5,f,s),h=u(d,o)||u(d,i),p=c(d,t);!d||h||s&&p||(o.push(new mH(e.x1,e.y1,d.x,d.y)),o.push(new mH(d.x,d.y,e.x2,e.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(e),s+=1};!a&&o.length;)l()}for(;o.length;)i.push(o.pop());return i}(new mH(e.getModel().x,e.getModel().y,o.getModel().x,o.getModel().y),t,r,i),s=function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var i=e.pop(),o=new mH(r.x1,r.y1,i.x2,i.y2);DQ(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(a);return s}var LQ=function(e,t,n){var r=Object.assign(PQ,n),i=_H(e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}})));e=e.sort((function(e,t){return EH({x:e.getModel().x,y:e.getModel().y},i)-EH({x:t.getModel().x,y:t.getModel().y},i)}));var o=[],a=[];e.forEach((function(e){RQ(e,t,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(e){a.push(e)})),o.push(e)}));for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];e.forEach((function(e){i.push(e.getBBox())})),t.forEach((function(e){i.push(e.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),i=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*i)).fill(0),width:r,height:i}}(s.width,s.height,r.pixelGroupSize),c=[],l=[],f=0;f<r.maxMarchingIterations;f++)if(jQ(e,t,a,s,u,r),l=[],new IQ(c=[],u,r.threshold).march()){var d=c.map((function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}}));if(d){var h=d.length;if(r.skip>1)for(h=Math.floor(d.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(d.length/r.skip);for(var p=0,v=0;v<h;v+=1,p+=r.skip)l.push({x:d[p].x,y:d[p].y})}if(l&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=l.map((function(e){return[e.x,e.y]}));if(!pH(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return l;if(r.threshold*=.9,f<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return l};function jQ(e,t,n,r,i,o){function a(e,t){var n=Math.floor((e-t)/o.pixelGroupSize);return n<0?0:n}function s(e,t){return e*o.pixelGroupSize+t}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),c=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),l=function(e,t){return[Math.min(a(e.minX,t+r.minX),i.width),Math.min(a(e.minY,t+r.minY),i.height),Math.min(a(e.maxX,-t+r.minX),i.width),Math.min(a(e.maxY,-t+r.minY),i.height)]},f=function(e,t){for(var n=e.getBBox(),a=l(n,o.nodeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i[p+h*i.width]<=0)){var v=s(p,r.minX),g=s(h,r.minY),m=CH({x:v,y:g},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;i.cells[p+h*i.width]+=t*y*y}}};o.nodeInfluenceFactor&&e.forEach((function(e){f(e,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(e){!function(e,t){for(var n=e.getBBox(),a=l(n,o.edgeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i.cells[p+h*i.width]<=0)){var v=s(p,r.minX),g=s(h,r.minY),m=SH({x:v,y:g},e);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;i.cells[p+h*i.width]+=t*y*y}}}(e,o.edgeInfluenceFactor/c)})),o.negativeNodeInfluenceFactor&&t.forEach((function(e){f(e,o.negativeNodeInfluenceFactor/u)}))}function FQ(e,t,n,r){var i=e.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},l=i.height*i.width;function f(e,t){return i.width*(.5*(e.y-i.minY+(t.y-i.minY)))}if(a)return o?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:f(a,u)<.5*l?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(o)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return f(o,s)<.5*l?o.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:o.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var BQ=function(){function e(e,t){this.cfg=(0,eW.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(t){return(0,eW.isString)(t)?e.findById(t):t})),this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,eW.isString)(t)?e.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,i;switch(this.type){case"round-convex":r=l$(i=OQ((n=AQ(e)).map((function(e){return[e.x,e.y]})),this.padding));break;case"smooth-convex":2===(n=AQ(e)).length?r=l$(i=OQ(n.map((function(e){return[e.x,e.y]})),this.padding)):n.length>2&&(i=NQ(n.map((function(e){return[e.x,e.y]})),this.padding),r=SQ(i));break;case"bubble":r=(n=LQ(e,t,this.cfg.bubbleCfg)).length>=2&&SQ(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:(0,JZ.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){(0,eW.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){(0,eW.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){(0,eW.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){(0,eW.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map((function(e){return(0,eW.isString)(e)?n.graph.findById(e):e}))),t&&(this.nonMembers=t.map((function(e){return(0,eW.isString)(e)?n.graph.findById(e):e}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr((0,JZ.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=(0,eW.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map((function(e){return(0,eW.isString)(e)?t.graph.findById(e):e}))),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,eW.isString)(e)?t.graph.findById(e):e}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,i=(t=(0,eW.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=EQ(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]})),gH(n,EQ(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),zQ=BQ,UQ=dW,GQ=function(e){function t(t){var n=e.call(this)||this;return n.cfg=(0,eW.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new DY(n.cfg.maxStep),n.redoStack=new DY(n.cfg.maxStep)),n}return(0,JZ.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new A$(this),t=new sq(this),n=new vQ(this),r=new yQ(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:FH.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:FH.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:FH.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:FH.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:FH.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return(0,eW.isPlainObject)(e)?this.cfg=(0,JZ.__assign)((0,JZ.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new DY(this.cfg.maxStep),this.redoStack=new DY(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){(0,eW.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return(0,eW.each)(r,(function(e,r){if(t(e,r))return n=e})),n},t.prototype.findAll=function(e,t){var n=[];return(0,eW.each)(this.get("".concat(e,"s")),(function(e,r){t(e,r)&&n.push(e)})),n},t.prototype.findAllByState=function(e,t){return this.findAll(e,(function(e){return e.hasState(t)}))},t.prototype.getAnimateCfgWithCallback=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=(0,eW.clone)(n),n.callback){var i=n.callback;t.callback=function(){r(),i()}}else t.callback=r;else t={duration:500,callback:r};return t},t.prototype.translate=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,eW.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});cH(o,{x:o.getCanvasBBox().x+e,y:o.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=UQ(a,[["t",e,t]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var i=this.get("group");cH(i,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},t.prototype.fitView=function(e,t){e&&this.set("fitViewPadding",e);var n=this.get("viewController");t?n.fitViewByRules(t):n.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,eW.clone)(o.getMatrix()),s=this.get("minZoom"),u=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=UQ(a,t?[["t",-t.x,-t.y],["s",e,e],["t",t.x,t.y]]:[["s",e,e]]),s&&a[0]<s||u&&a[0]>u)return!1;if(n){var c=(0,eW.clone)(o.getMatrix());c||(c=[1,0,0,0,1,0,0,0,1]);var l=c[0],f=l*e,d=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(e){if(1===e)c=a;else{var n=OH(l,f,e)/c[0];c=UQ(c,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:c}}),d)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,t,n,r){var i=e/this.getZoom();return this.zoom(i,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),i=!1;t?i=!0:void 0===t&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(e,i,o),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if((0,eW.isString)(e)&&(n=this.findById(e)),!n&&(0,eW.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var i=(0,JZ.__assign)((0,JZ.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,JZ.__assign)((0,JZ.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=tq(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!(0,eW.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var a,s=this.get("comboTrees")||[];if("combo"===e){var u=this.get("itemMap"),c=!1;if(s.forEach((function(n){c||$H(n,(function(n){if(t.parentId===n.id){c=!0;var r=(0,JZ.__assign)({id:t.id,depth:n.depth+2},t);n.children?n.children.push(r):n.children=[r],t.depth=r.depth,a=o.addItem(e,t)}var i=u[n.id];return c&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!c){var l=(0,JZ.__assign)({id:t.id,depth:0},t);t.depth=l.depth,s.push(l),a=o.addItem(e,t)}this.set("comboTrees",s)}else if("node"===e&&(0,eW.isString)(t.comboId)&&s){var f;(f=this.findById(t.comboId))&&f.getType&&"combo"!==f.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=o.addItem(e,t);var d=this.get("itemMap"),h=!1,p=!1;s.forEach((function(e){p||h||$H(e,(function(e){if(e.id===t.id)return p=!0,!1;if(t.comboId===e.id&&!p){h=!0;var n=(0,eW.clone)(t);n.itemType="node",e.children?e.children.push(n):e.children=[n],n.depth=e.depth+1}return h&&d[e.id].getType&&"combo"===d[e.id].getType()&&o.updateCombo(d[e.id],e.children),!0}))}))}else a=o.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(f=this.findById(t.comboId||t.parentId))&&f.getType&&"combo"===f.getType()&&f.addChild(a);var v=this.get("combos");if(v&&v.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var g=(0,JZ.__assign)((0,JZ.__assign)({},a.getModel()),{itemType:e}),m={};switch(e){case"node":m.nodes=[g];break;case"edge":m.edges=[g];break;case"combo":m.combos=[g]}this.pushStack("add",{before:{},after:m})}return a}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,eW.isString)(e)?this.findById(e):e;var a=(0,eW.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=(0,JZ.__spreadArray)([],i.getStates(),!0);if("combo"===s&&(0,eW.each)(u,(function(e){return r.setItemState(i,e,!1)})),o.updateItem(i,t),"combo"===s&&(0,eW.each)(u,(function(e){return r.setItemState(i,e,!0)})),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},l={nodes:[],edges:[],combos:[]},f=(0,JZ.__assign)({id:a.id},t);switch(s){case"node":c.nodes.push(a),l.nodes.push(f);break;case"edge":c.edges.push(a),l.edges.push(f);break;case"combo":c.combos.push(a),l.combos.push(f)}"node"===s&&c.nodes.push(a),this.pushStack("update",{before:c,after:l})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){(0,eW.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");(0,eW.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){oq(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),(0,eW.each)(r,(function(t){e.add("node",t,!1,!1)})),0!==(null===s||void 0===s?void 0:s.length)){var u=eq(s,r);this.set("comboTrees",u),e.addCombos(s)}(0,eW.each)(o,(function(t){e.add("edge",t,!1,!1)}));var c=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var l=e.get("layoutController");if(l){if(l.layout((function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter();e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",c)})),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",c);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach((function(e){e.toFront()})):this.getEdges().forEach((function(e){e.toBack()})));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,i=this,o=this.get("itemMap");(0,eW.each)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)}))},t.prototype.changeData=function(e,t){void 0===t&&(t=!0);var n=this,r=e||n.get("data");if(!oq(r))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:r}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(e){return n.clearItemStates(e)})),this.getEdges().map((function(e){return n.clearItemStates(e)}));var i=this.get("canvas"),o=i.get("localRefresh");i.set("localRefresh",!1),n.get("data")||(n.data(r),n.render());var a=this.get("itemMap"),s={nodes:[],edges:[]},u=r.combos;if(u){var c=eq(u,r.nodes);this.set("comboTrees",c)}else this.set("comboTrees",[]);this.diffItems("node",s,r.nodes),(0,eW.each)(a,(function(e,t){a[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete a[t],e.destroy()):s.nodes.indexOf(e)<0&&(delete a[t],n.remove(e,!1)))}));for(var l=this.getCombos(),f=l.length-1;f>=0;f--)l[f].destroyed&&l.splice(f,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",s,r.edges),(0,eW.each)(a,(function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&s.edges.indexOf(e)<0&&(delete a[t],n.remove(e,!1))})),this.set({nodes:s.nodes,edges:s.edges});var d=this.get("layoutController");return d&&(d.changeData(),n.get("animate")&&!d.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){i.set("localRefresh",o)}),16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,i="";if(e){if((0,eW.isString)(e))i=e,r={id:e};else{if(!(i=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var o=t.map((function(e){var t=n.findById(e),r=t.getModel(),o="";t.getType&&(o=t.getType());var a={id:t.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(e){$H(e,(function(e){return e.id!==i||(e.itemType="combo",e.children=o,!1)}))})),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if((0,eW.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var i=r.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=r.get("id"),c=[],l=this.get("combos"),f=this.findById(i);if(o.forEach((function(e){a||$H(e,(function(e){var t;if(e.id===u){a=e;var o=r.getEdges().map((function(e){return e.getID()}));o.forEach((function(e){n.removeItem(e,!1)}));var d=l.indexOf(r);l.splice(d,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!i||!a||e.id!==i||(f.removeCombo(r),-1!==(d=(c=e.children).indexOf(a))&&c.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=i,delete e.comboId,r.parentId=i,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=i,r.comboId=i),f.addChild(t),c.push(e)})),!1)}))})),!i&&a){var d=o.indexOf(a);o.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&o.push(e)}))}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){$H(n,(function(n){if(!n)return!0;var r=o[n.id];if(r&&r.getType&&"combo"===r.getType()){var a=(0,JZ.__spreadArray)([],r.getStates(),!0);(0,eW.each)(a,(function(e){return t.setItemState(r,e,!1)})),i.updateCombo(r,n.children,e),(0,eW.each)(a,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),n.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if((0,eW.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(e){$H(e,(function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,JZ.__spreadArray)([],r.getStates(),!0);(0,eW.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)})),o.updateCombo(r,e.children),(0,eW.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)})),t&&(t=e.parentId)}return!0}))}))}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=(0,eW.isString)(e)?this.findById(e):e).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,c=this.get("comboTrees"),l=!0;if((c||[]).forEach((function(e){u||KH(e,(function(e){if(!u)return e.id===r.getID()&&(u=e),!0}))})),KH(u,(function(e){return e.id!==t||(l=!1,!1)})),!l)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:t}]):"node"===s&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:t}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(r)}("combo"===s?o.parentId=t:"node"===s&&(o.comboId=t),t)&&((i=this.findById(t))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=tq(this.get("comboTrees"),o.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return(0,eW.each)(this.get("nodes"),(function(t){e.push(t.getModel())})),(0,eW.each)(this.get("edges"),(function(e){t.push(e.getModel())})),(0,eW.each)(this.get("combos"),(function(e){n.push(e.getModel())})),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var t=e.get("nodes"),n=e.get("edges"),r=e.get("edges");(0,eW.each)(t,(function(e){e.refresh()})),(0,eW.each)(n,(function(e){e.refresh()})),(0,eW.each)(r,(function(e){e.refresh()}))}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,eW.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,i=e?t.getNodes().concat(t.getCombos()):t.getNodes(),o=i.map((function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(n){(0,eW.each)(o,(function(e){var i=t.findById(e.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0===o&&i.set("originAttrs",s?{x:s[6],y:s[7]}:0),r){var u=r(i,n,e,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(e.x-o.x)*n,a.y=o.y+(e.y-o.y)*n):(a.x=e.x,a.y=e.y)}})),t.refreshPositions(e)}),{duration:n.duration,easing:n.easing,callback:function(){(0,eW.each)(i,(function(e){e.set("originAttrs",null)})),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){var t=this;t.emit("beforegraphrefreshposition");var n,r=t.get("nodes"),i=t.get("edges"),o=t.get("vedges"),a=t.get("combos"),s={},u=function(e){(0,eW.each)(e,(function(e){n=e.getModel();var t=e.get("originAttrs");if(!t||n.x!==t.x||n.y!==t.y){var r=e.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r)}}))};u(r),a&&0!==a.length&&(e?(u(a),setTimeout((function(){t.updateCombos()}),0)):t.updateCombos()),(0,eW.each)(i,(function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!(0,eW.isPlainObject)(n)){var r=n.getModel();(s[t.id]||s[r.id]||e.getModel().isComboEdge)&&e.refresh()}})),(0,eW.each)(o,(function(e){e.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n){var r=this,i=this.get("layoutController");if((0,eW.isString)(e)&&(e={type:e}),t){var o=n;o||(o="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=["force","gForce","fruchterman"];a.includes(e.type)||!e.type&&a.includes(null===i||void 0===i?void 0:i.layoutType)?e.center=[o.x,o.y]:this.once("afterlayout",(function(e){var n=r.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*n[0]+n[6],o.y=o.y*n[0]+n[7];var i=r.getGroup().getCanvasBBox(),a=i.minX,s=i.maxX,u=i.minY,c={x:(a+s)/2,y:(u+i.maxY)/2};"begin"===t&&(c.x=a,c.y=u),r.translate(o.x-c.x,o.y-c.y)}))}var s=this.get("layout"),u={};Object.assign(u,s,e),this.set("layout",u),i&&(i.isLayoutTypeSame(u)&&u.gpuEnabled===s.gpuEnabled?i.updateLayoutCfg(u):i.changeLayout(u))},t.prototype.destroyLayout=function(){var e=this.get("layoutController");null===e||void 0===e||e.destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),t=this.get("layout");t&&e&&(t.workerEnabled?e.layout():e.layoutMethod?e.relayout(!0):e.layout())},t.prototype.collapseCombo=function(e){var t=this;if(!this.destroyed)if((0,eW.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").collapseCombo(e),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||KH(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},c=[];r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=t.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var l=s.id;if(u["".concat(n.id,"-").concat(l)])return void(u["".concat(n.id,"-").concat(l)]+=d.size||1);var f=t.addItem("vedge",{source:n.id,target:l,isVEdge:!0},!1);u["".concat(n.id,"-").concat(l)]=d.size||1,c.push(f)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var d;if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var h=r.getModel();!r.isVisible();){if(!(r=t.findById(h.parentId||h.comboId))||!h.parentId&&!h.comboId)return;h=r.getModel()}var p=h.id;if(u["".concat(p,"-").concat(n.id)])return void(u["".concat(p,"-").concat(n.id)]+=d.size||1);f=t.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);u["".concat(p,"-").concat(n.id)]=d.size||1,c.push(f)}}})),c.forEach((function(e){var n=e.getModel();t.updateItem(e,{size:u["".concat(n.source,"-").concat(n.target)]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e){var t=this;if((0,eW.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").expandCombo(e),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||KH(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},c={};r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget(),s=r.get("id"),l=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(var f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=a.getModel()}l=f.id;for(var d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=r.getModel()}if(s=d.id,l){var h="".concat(s,"-").concat(l);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(c[h],{size:u[h]},!1);var p=t.addItem("vedge",{source:s,target:l,isVEdge:!0},!1);u[h]=e.getModel().size||1,c[h]=p}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||l===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=r.getModel()}s=d.id;for(f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=a.getModel()}if(l=f.id,s){h="".concat(s,"-").concat(l);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(c[h],{size:u[h]},!1);p=t.addItem("vedge",{target:l,source:s,isVEdge:!0},!1);u[h]=e.getModel().size||1,c[h]=p}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&e.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e){if((0,eW.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var t=e.getModel(),n=this.findById(t.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}t.collapsed?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var t=[],n={};(this.get("comboTrees")||[]).forEach((function(e){KH(e,(function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],n[e.id]=e.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(e){var r=e.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);t[a]?t[a].push(r.id):t[a]=[r.id]})),t.forEach((function(t){if(t&&t.length)for(var n=t.length-1;n>=0;n--){var r=e.findById(t[n]);r&&r.toFront()}}))}},t.prototype.getNeighbors=function(e,t){var n=e;return(0,eW.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;(0,eW.isString)(e)&&(r=this.findById(e));var i=this.get("degrees");i&&!n||(i=MW(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(t){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?(0,eW.clone)(t):{before:{},after:(0,eW.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=hW(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=hW(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=UW(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,i;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),i=new zQ(this,(0,JZ.__assign)((0,JZ.__assign)({},e),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=(0,eW.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach((function(t){e[t].destroy()})),this.set("hullMap",{}))},t}(aW),VQ=GQ;function ZQ(e){return ZQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZQ(e)}var WQ=dW,YQ="-shape",HQ="-label",qQ=["startArrow","endArrow"],XQ={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},KQ={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:XQ,combo:XQ},$Q="-label-bg",QQ={options:{labelCfg:{style:{fontFamily:FH.windowFontFamily}},descriptionCfg:{style:{fontFamily:FH.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:(0,eW.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+YQ),t.shapeMap[this.itemType+YQ]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+HQ),t.shapeMap[this.itemType+HQ]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),i=r.rotate;delete r.rotate;var o=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=WQ(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=WQ(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=WQ(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]])}else s=WQ(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,o),c=this.itemType+$Q;u.set("classname",c),t.shapeMap[c]=u,o.toFront()}return o},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,i=(0,eW.mix)({},r,e.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),i="".concat(this.itemType,"Label"),o=FH[i]?FH[i].style:null;return(0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)({},o),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=t.getKeyShape(),a=(0,eW.mix)({},o.attr(),e.style),s=function(e){var t,n=a[e];if((0,eW.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[e])||i.find((function(t){return t.get("name")===e}));null===s||void 0===s||s.attr(n)}else o.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,i;if(e.label||""===e.label){var o=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+HQ,c=o.shapeMap[u]||o.find((function(e){return e.get("className")===u})),l=this.itemType+$Q,f=o.shapeMap[l]||o.find((function(e){return e.get("className")===l}));if(c){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,eW.deepMix)(s,e.labelCfg));var d=this.getLabelStyleByPosition(e,s,o),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=(0,JZ.__assign)((0,JZ.__assign)({},d),h),v=p.rotate;if(delete p.rotate,isNaN(v)||""===v)1!==(null===(i=c.getMatrix())||void 0===i?void 0:i[4])&&c.resetMatrix(),c.attr(p);else{var g=[1,0,0,0,1,0,0,0,1];g=WQ(g,[["t",-p.x,-p.y],["r",v],["t",p.x,p.y]]),p.matrix=g,c.attr(p)}if(f)if(p.background){var m=this.getLabelBgStyleByPosition(c,s);f.attr(m)}else o.removeChild(f);else p.background&&((f=this.drawLabelBg(e,o,c)).set("classname",l),o.shapeMap[l]=f,c.toFront())}else{var y=this.drawLabel(e,o);y.set("className",u),o.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=(0,eW.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(u,n),l=n.getStateStyle(u);if(l||c){var f=(0,eW.mix)({},l||c),d=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=f[e];if((0,eW.isPlainObject)(n)&&!qQ.includes(e)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[e])||d.find((function(t){return t.get("name")===e}));null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var v in f)p(v)}else{var g=iq(n.getCurrentStatesStyle()),m=n.getModel(),y=(0,eW.mix)({},m.style,iq(n.getOriginStyle())),b=a.get("name"),x=a.attr(),w={};Object.keys(x).forEach((function(e){if("img"!==e){var t=x[e];t&&"object"===ZQ(t)?w[e]=(0,eW.clone)(t):w[e]=t}}));var _={},E=function(e){var t=f[e];if((0,eW.isPlainObject)(t)&&!qQ.includes(e)){var n=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));if(n){var r=iq(n.attr());(0,eW.each)(t,(function(t,i){if(e===b&&w[i]&&!h[i]){delete w[i];var o=y[e][i]||KQ[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=y[e][i]||KQ[s][i];n.attr(i,u)}})),_[e]=r}}else if(w[e]&&!h[e]){delete w[e];var i=y[e]||(y[b]?y[b][e]:void 0)||KQ[s][e];a.attr(e,i)}};for(var S in f)E(S);for(var v in b?_[b]=w:(0,eW.mix)(_,w),g)if(!h[v]){var k=g[v];(0,eW.isPlainObject)(k)&&!qQ.includes(v)||(b?((0,eW.mix)(y[b],((i={})[v]=k,i)),delete y[v]):(0,eW.mix)(y,((r={})[v]=k,r)),delete g[v])}var C={};(0,eW.deepMix)(C,y,_,g);var M=!1,O=function(e){var t,n,r=C[e];if((0,eW.isPlainObject)(r)&&!qQ.includes(e)){var i=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),M=!0),i.attr(r))}else if(!M){var o=r||KQ[s][e];"combo"===s?b||a.attr(((t={})[e]=o,t)):a.attr(((n={})[e]=o,n))}};for(var N in C)O(N)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:o&&o[e];return"combo"===r?(0,eW.clone)(u):(0,eW.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},JQ={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:FH.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||FH.defaultNode.size;return(0,eW.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,eW.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var r=t.offset;(0,eW.isNil)(r)&&(r=this.offset);var i,o=this.getSize(e);switch(n){case"top":i={x:0,y:-o[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":i={x:0,y:o[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":i={x:-o[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:i={x:o[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return i.text=e.label,i},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var i=e.getBBox(),o=S$(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return(0,JZ.__assign)((0,JZ.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),i=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=i,i},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,i=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),o=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),a=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),s=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=(0,eW.mix)({},n,e.linkPoints),c=u.fill,l=u.stroke,f=u.lineWidth,d=u.size/2;d||(d=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,v=h.right,g=h.top,m=h.bottom,y=this.getSize(e),b=y[0],x=y[1],w={r:d,fill:c,stroke:l,lineWidth:f};if(i)p||void 0===p?i.attr((0,JZ.__assign)((0,JZ.__assign)({},w),{x:-b/2,y:0})):(i.remove(),delete t.shapeMap["link-point-left"]);else if(p){var _="link-point-left";t.shapeMap[_]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},w),{x:-b/2,y:0}),className:_,name:_,isAnchorPoint:!0})}if(o)v||void 0===v||(o.remove(),delete t.shapeMap["link-point-right"]),o.attr((0,JZ.__assign)((0,JZ.__assign)({},w),{x:b/2,y:0}));else if(v){var E="link-point-right";t.shapeMap[E]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},w),{x:b/2,y:0}),className:E,name:E,isAnchorPoint:!0})}if(a)g||void 0===g||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr((0,JZ.__assign)((0,JZ.__assign)({},w),{x:0,y:-x/2}));else if(g){var S="link-point-top";t.shapeMap[S]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},w),{x:0,y:-x/2}),className:S,name:S,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr((0,JZ.__assign)((0,JZ.__assign)({},w),{x:0,y:x/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var k="link-point-bottom";t.shapeMap[k]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},w),{x:0,y:x/2}),className:k,name:k,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,i){t.get("keyShape").attr((0,JZ.__assign)({},n)),this.updateLabel(e,t,i),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),i=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(e){return e.get("name")==="".concat(n.type,"-icon")}));if(u)if(a||void 0===a){var c=(0,eW.mix)({},u.attr(),i),l=c.width,f=void 0===l?20:l,d=c.height,h=void 0===d?20:d;("iconfont"===c.fontFamily||c.hasOwnProperty("text"))&&(f=0,h=0),u.attr((0,JZ.__assign)((0,JZ.__assign)({},c),{x:-f/2,y:-h/2}))}else u.remove();else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{f=i.width,h=i.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},i),{x:-f/2,y:-h/2}),className:p,name:p})}var v=r.shapeMap["node-label"]||r.find((function(e){return"node-label"===e.get("name")}));v&&v.toFront()}}},eJ=(0,JZ.__assign)((0,JZ.__assign)({},QQ),JQ);V$.registerNode("single-node",eJ);var tJ="edge-shape";var nJ={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:FH.defaultEdge.size,style:{x:0,y:0,stroke:FH.defaultEdge.style.stroke,lineAppendWidth:FH.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:FH.edgeLabel.style.fill,fontSize:FH.edgeLabel.style.fontSize,fontFamily:FH.windowFontFamily}},stateStyles:(0,JZ.__assign)({},FH.edgeStateStyles)},getPath:function(e){var t=[];return(0,eW.each)(e,(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,eW.mix)({},t,n,e.style),i=e.size||FH.defaultEdge.size,o=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[o];s&&(u=u.concat(s)),u.push(a);var c=this.getPath(u);return(0,eW.mix)({},FH.defaultEdge.style,{stroke:FH.defaultEdge.color,lineWidth:i,path:c},r)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||i.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,c=this.getControlPoints(e),l=[s];c&&(l=l.concat(c)),l.push(u);var f=o.attr(),d=e.style||{};void 0===d.stroke&&(d.stroke=e.color);var h=e.sourceNode,p=e.targetNode,v={radius:d.radius};c||(v={source:h,target:p,offset:d.offset,radius:d.radius});var g=this.getPath(l,v),m={};"move"===n?m={path:g}:(f.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),f.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""}),void 0===(m=(0,JZ.__assign)({},e.style)).lineWidth&&(m.lineWdith=((0,eW.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||f.lineWidth),void 0===m.path&&(m.path=g),void 0===m.stroke&&(m.stroke=f.stroke||e.color)),o&&o.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,i=t.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap[tJ];r="start"===i?0:"end"===i?1:.5;var s,u=t.refX||this.refX,c=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+u,o.y=e.startPoint.y+c,o.text=e.label,o;s=(0,eW.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var l=HH(a,r,u,c,s);return o.x=l.x,o.y=l.y,o.rotate=l.rotate,o.textAlign=this._getTextAlign(i,l.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=(0,JZ.__assign)((0,JZ.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,eW.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:tJ,name:tJ,attrs:n});return t.shapeMap[tJ]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=(0,eW.deepMix)({},n,e.labelCfg),i=this.getLabelStyle(e,r,t),o=i.rotate;delete i.rotate;var a=t.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(e,t,a,i,o),u=this.itemType+$Q;s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,i){var o=this.options.labelCfg,a=(0,eW.deepMix)({},o,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},rJ=(0,JZ.__assign)((0,JZ.__assign)({},QQ),nJ);V$.registerEdge("single-edge",rJ),V$.registerEdge("line",{getControlPoints:function(){}},"single-edge"),V$.registerEdge("spline",{getPath:function(e){return xQ(e)}},"single-edge"),V$.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,i=e.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=rH(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=t.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=t.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),(0,eW.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+o,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=rH(r,n,i)}var c=iH(r,t);return[{x:c,y:c}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),V$.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,eW.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,eW.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[wQ(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),V$.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,eW.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,eW.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[wQ(n,r,e.curvePosition[0],e.curveOffset[0]),wQ(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),V$.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,eW.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,eW.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,eW.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),V$.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,eW.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,eW.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,eW.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+i[0],y:t.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),V$.registerEdge("loop",{getPathPoints:function(e){return YH(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var iJ={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:FH.comboLabel.refX,refY:FH.comboLabel.refY,options:{style:{stroke:FH.defaultCombo.style.stroke,fill:FH.defaultCombo.style.fill,lineWidth:FH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:FH.comboLabel.style.fill,fontSize:FH.comboLabel.style.fontSize,fontFamily:FH.windowFontFamily}},stateStyles:(0,JZ.__assign)({},FH.comboStateStyles)},getSize:function(e){var t=(0,eW.clone)(e.size||this.options.size||FH.defaultCombo.size);return(0,eW.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),(0,eW.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,eW.isArray)(i)&&(i=i[0]);var o=t.refX,a=t.refY;(0,eW.isNil)(o)&&(o=this.refX),(0,eW.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),c=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-c-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-c+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:c+o,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,JZ.__assign)({},n)),this.updateLabel(e,t)}},oJ=(0,JZ.__assign)((0,JZ.__assign)({},QQ),iJ);V$.registerCombo("single-combo",oJ),V$.registerCombo("circle",{options:{size:[FH.defaultCombo.size[0],FH.defaultCombo.size[0]],padding:FH.defaultCombo.padding[0],animate:!0,style:{stroke:FH.defaultCombo.style.stroke,fill:FH.defaultCombo.style.fill,lineWidth:FH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:FH.comboLabel.style.fill,fontSize:FH.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,JZ.__assign)({},FH.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,eW.isArray)(n)&&(n=n[0]);var r,i={stroke:e.color},o=(0,eW.mix)({},t,i,e.style);if(e.fixSize)r=(0,eW.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!(0,eW.isNumber)(o.r)||isNaN(o.r)?a[0]/2||FH.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=(0,JZ.__assign)({x:0,y:0},o);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,eW.isArray)(r)&&(r=r[0]);var i,o=(0,eW.clone)(e.style);i=e.fixSize?(0,eW.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=t.get("sizeCache");a&&(a.r=o.r);var s={stroke:e.color},u=t.get("keyShape"),c=(0,eW.mix)({},u.attr(),s,o);e.style?e.style.r=i:e.style={r:i},this.updateShape(e,t,c,!0)}},"single-combo"),V$.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:FH.defaultCombo.style.stroke,fill:FH.defaultCombo.style.fill,lineWidth:FH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:FH.comboLabel.style.fill,fontSize:FH.comboLabel.style.fontSize,fontFamily:FH.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,JZ.__assign)({},FH.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,eW.isNumber)(i)&&(i=[i,i,i,i]);var o=t.refX,a=t.refY;(0,eW.isNil)(o)&&(o=this.refX),(0,eW.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],c=r.height/2+i[0];switch(n){case"top":s={x:0-u+o,y:0-c+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,eW.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:e.color},a=(0,eW.mix)({},t,o,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,eW.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!(0,eW.isNumber)(a.width)||isNaN(a.width)?s[0]||FH.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,eW.isNumber)(a.height)||isNaN(a.height)?s[1]||FH.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var c=-r/2-n[3],l=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var f=(0,JZ.__assign)({x:c,y:l},a);return e.style?(e.style.width=r,e.style.height=i):e.style={width:r,height:i},f},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,eW.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=(0,eW.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?(0,eW.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var c={stroke:e.color},l=t.get("keyShape"),f=(0,eW.mix)({},l.attr(),c,a);e.style?(e.style.width=i,e.style.height=o):e.style={width:i,height:o},this.updateShape(e,t,f,!1)},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,JZ.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),V$.registerNode("simple-circle",{options:{size:FH.defaultNode.size,style:{x:0,y:0,stroke:FH.defaultNode.style.stroke,fill:FH.defaultNode.style.fill,lineWidth:FH.defaultNode.style.lineWidth},labelCfg:{style:{fill:FH.nodeLabel.style.fill,fontSize:FH.nodeLabel.style.fontSize,fontFamily:FH.windowFontFamily}},stateStyles:(0,JZ.__assign)({},FH.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),i=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=i,i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,JZ.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=this.getSize(e),i={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),a=(0,eW.deepMix)({},o.attr(),i,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),V$.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:FH.defaultNode.style.stroke,fill:FH.defaultNode.style.fill,lineWidth:FH.defaultNode.style.lineWidth},labelCfg:{style:{fill:FH.nodeLabel.style.fill,fontSize:FH.nodeLabel.style.fontSize,fontFamily:FH.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,JZ.__assign)({},FH.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,JZ.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,i=this.getSize(e),o=t.get("keyShape");e.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,eW.mix)({},r,o.attr(),a);s=(0,eW.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),V$.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:FH.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var i=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,i),i},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:(0,JZ.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,c=n.height,l=i-u/2,f=o-c/2;t.setClip({type:"rect",attrs:(0,JZ.__assign)({x:l,y:f,width:u,height:c},a)})}else if("ellipse"===r){var d=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:(0,JZ.__assign)({x:i,y:o,rx:d,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:(0,JZ.__assign)({points:p},a)})}else if("path"===r){var v=n.path;t.setClip({type:"path",attrs:(0,JZ.__assign)({path:v},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,i=this.getSize(e),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),(0,JZ.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find((function(e){return e.get("className")===r}))||t.getKeyShape(),o=this.getShapeStyle(e);i&&!i.destroyed&&i.attr(o)}},"single-node");var aJ,sJ={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,i,o){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+t+i;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},uJ={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t+i],["L",e+r,t+i],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t-i],["L",e+r,t-i],["L",e,t+n],["Z"]]}},cJ=V$,lJ=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],fJ=dW,dJ=(0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)({},a),r),s),t),u),{transform:fJ,mat3:sW}),hJ=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map((function(e){return(null===e||void 0===e?void 0:e.type)||""})):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every((function(e,n){return e===t[n]})):(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType;e.data;t&&(t.get("animate")?t.positionsAnimate("comboCombined"===n):t.refreshPositions("comboCombined"===n))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach((function(e){e.destroy()})),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],i=[],o=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),c=this.graph.getCombos(),l=s.length,f=0;f<l;f++){var d=s[f];if(d&&!d.destroyed){var h=d.getModel();d.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(f=0;f<p;f++){var v=u[f];if(v&&!v.destroyed){h=v.getModel();v.isVisible()?h.isComboEdge?i.push(h):n.push(h):r.push(h)}}var g=c.length;for(f=0;f<g;f++){var m=c[f];if(!m.destroyed){h=m.getModel();m.isVisible()?o.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:o,hiddenCombos:a,comboEdges:i}},e.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){var o=n.graph,a=null===t||void 0===t?void 0:t.type;t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},e.init(n.data),"force"===a&&(e.ticking=!1,e.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.relayout=function(e){var t=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;this.initPositions(o.center,a)}r.emit("beforelayout");var s=Promise.resolve();null===i||void 0===i||i.forEach((function(e,n){var r=o[n];s=s.then((function(){return t.reLayoutMethod(e,r)}))})),(null===i||void 0===i?void 0:i.length)&&s.then((function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()})).catch((function(e){console.warn("relayout failed",e)}))},e.prototype.filterLayoutData=function(e,t){var n,r,i=e.nodes,o=e.edges,a=(0,JZ.__rest)(e,["nodes","edges"]);if(!i)return e;n=(0,eW.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=i.filter(n);if((0,eW.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce((function(e,t){return e[t.id]=!0,e}),{});r=function(e){return u[e.source]&&u[e.target]}}return(0,JZ.__assign)({nodes:s,edges:o.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,eW.groupBy)(t.getNodes(),(function(e){return e.getModel().layoutOrder})),r=Object.values(n).map((function(e){var t=O$(e);return t.size=[t.width,t.height],t}));return{groupNodes:Object.values((0,eW.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!M$(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var i=e[r];t[0]+=i.x,t[1]+=i.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(i=e[r]).x-=t[0],i.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var c=e[0]-i/2,l=e[1]-o/2,f=!0,d=0;d<r;d++){var h=t[d];M$(+h.x)&&(f=!1,h.x=d%a*s+c),M$(+h.y)&&(f=!1,h.y=Math.floor(d/a)*u+l)}return f}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),pJ=hJ,vJ=function(e){this.graph=e,this.destroyed=!1,this.initEvents()},gJ=vJ;!function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.MOUSEDOWN="mousedown",e.MOUDEUP="mouseup",e.CONTEXTMENU="contextmenu",e.MOUSEENTER="mouseenter",e.MOUSEOUT="mouseout",e.MOUSEOVER="mouseover",e.MOUSEMOVE="mousemove",e.MOUSELEAVE="mouseleave",e.DRAGSTART="dragstart",e.DRAGEND="dragend",e.DRAG="drag",e.DRAGENTER="dragenter",e.DRAGLEAVE="dragleave",e.DRAGOVER="dragover",e.DRAGOUT="dragout",e.DDROP="drop",e.KEYUP="keyup",e.KEYDOWN="keydown",e.WHEEL="wheel",e.FOCUS="focus",e.BLUR="blur",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.CANVAS_TOUCHSTART="canvas:touchstart",e.CANVAS_TOUCHMOVE="canvas:touchmove",e.CANVAS_TOUCHEND="canvas:touchend",e.NODE_TOUCHSTART="node:touchstart",e.NODE_TOUCHMOVE="node:touchmove",e.NODE_TOUCHEND="node:touchend",e.COMBO_TOUCHSTART="combo:touchstart",e.COMBO_TOUCHMOVE="combo:touchmove",e.COMBO_TOUCHEND="combo:touchend",e.EDGE_TOUCHSTART="edge:touchstart",e.EDGE_TOUCHMOVE="edge:touchmove",e.EDGE_TOUCHEND="edge:touchend",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_CLICK="node:click",e.NODE_DBLCLICK="node:dblclick",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEOUT="node:mouseout",e.NODE_MOUSEOVER="node:mouseover",e.NODE_DROP="node:drop",e.NODE_DRAGOVER="node:dragover",e.NODE_DRAGENTER="node:dragenter",e.NODE_DRAGLEAVE="node:dragleave",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DRAGEND="node:dragend",e.NODE_TAP="node:tap",e.NODE_PANSTART="node:panstart",e.NODE_PANMOVE="node:panmove",e.NODE_PANEND="node:panend",e.COMBO_CONTEXTMENU="combo:contextmenu",e.COMBO_CLICK="combo:click",e.COMBO_DBLCLICK="combo:dblclick",e.COMBO_MOUSEDOWN="combo:mousedown",e.COMBO_MOUSEUP="combo:mouseup",e.COMBO_MOUSEENTER="combo:mouseenter",e.COMBO_MOUSELEAVE="combo:mouseleave",e.COMBO_MOUSEMOVE="combo:mousemove",e.COMBO_MOUSEOUT="combo:mouseout",e.COMBO_MOUSEOVER="combo:mouseover",e.COMBO_DROP="combo:drop",e.COMBO_DRAGOVER="combo:dragover",e.COMBO_DRAGENTER="combo:dragenter",e.COMBO_DRAGLEAVE="combo:dragleave",e.COMBO_DRAGSTART="combo:dragstart",e.COMBO_DRAG="combo:drag",e.COMBO_DRAGEND="combo:dragend",e.COMBO_TAP="combo:tap",e.COMBO_PANSTART="combo:panstart",e.COMBO_PANMOVE="combo:panmove",e.COMBO_PANEND="combo:panend",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_CLICK="edge:click",e.EDGE_DBLCLICK="edge:dblclick",e.EDGE_MOUSEDOWN="edge:mousedown",e.EDGE_MOUSEUP="edge:mouseup",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_MOUSEMOVE="edge:mousemove",e.EDGE_MOUSEOUT="edge:mouseout",e.EDGE_MOUSEOVER="edge:mouseover",e.EDGE_DROP="edge:drop",e.EDGE_DRAGOVER="edge:dragover",e.EDGE_DRAGENTER="edge:dragenter",e.EDGE_DRAGLEAVE="edge:dragleave",e.CANVAS_CONTEXTMENU="canvas:contextmenu",e.CANVAS_CLICK="canvas:click",e.CANVAS_DBLCLICK="canvas:dblclick",e.CANVAS_MOUSEDOWN="canvas:mousedown",e.CANVAS_MOUSEUP="canvas:mouseup",e.CANVAS_MOUSEENTER="canvas:mouseenter",e.CANVAS_MOUSELEAVE="canvas:mouseleave",e.CANVAS_MOUSEMOVE="canvas:mousemove",e.CANVAS_MOUSEOUT="canvas:mouseout",e.CANVAS_MOUSEOVER="canvas:mouseover",e.CANVAS_DROP="canvas:drop",e.CANVAS_DRAGENTER="canvas:dragenter",e.CANVAS_DRAGLEAVE="canvas:dragleave",e.CANVAS_DRAGSTART="canvas:dragstart",e.CANVAS_DRAG="canvas:drag",e.CANVAS_DRAGEND="canvas:dragend",e.CANVAS_TAP="canvas:tap",e.CANVAS_PANSTART="canvas:panstart",e.CANVAS_PANMOVE="canvas:panmove",e.CANVAS_PANEND="canvas:panend",e.BEFORERENDER="beforerender",e.AFTERRENDER="afterrender",e.BEFOREADDITEM="beforeadditem",e.AFTERADDITEM="afteradditem",e.BEFOREREMOVEITEM="beforeremoveitem",e.AFTERREMOVEITEM="afterremoveitem",e.BEFOREUPDATEITEM="beforeupdateitem",e.AFTERUPDATEITEM="afterupdateitem",e.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",e.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",e.BEFOREITEMSTATECHANGE="beforeitemstatechange",e.AFTERITEMSTATECHANGE="afteritemstatechange",e.BEFOREITEMREFRESH="beforeitemrefresh",e.AFTERITEMREFRESH="afteritemrefresh",e.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",e.AFTERITEMSTATESCLEAR="afteritemstatesclear",e.BEFOREMODECHANGE="beforemodechange",e.AFTERMODECHANGE="aftermodechange",e.BEFORELAYOUT="beforelayout",e.AFTERLAYOUT="afterlayout",e.BEFORECREATEEDGE="beforecreateedge",e.AFTERCREATEEDGE="aftercreateedge",e.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",e.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",e.BEFOREGRAPHREFRESH="beforegraphrefresh",e.AFTERGRAPHREFRESH="aftergraphrefresh",e.BEFOREANIMATE="beforeanimate",e.AFTERANIMATE="afteranimate",e.BEFOREPAINT="beforepaint",e.AFTERPAINT="afterpaint",e.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",e.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",e.GRAPHSTATECHANGE="graphstatechange",e.AFTERACTIVATERELATIONS="afteractivaterelations",e.NODESELECTCHANGE="nodeselectchange",e.TOOLTIPCHANGE="tooltipchange",e.WHEELZOOM="wheelzoom",e.VIEWPORTCHANGE="viewportchange",e.DRAGNODEEND="dragnodeend",e.STACKCHANGE="stackchange",e.TAP="tap",e.PINCHSTART="pinchstart",e.PINCHMOVE="pinchmove",e.PANSTART="panstart",e.PANMOVE="panmove",e.PANEND="panend"}(aJ||(aJ={}));var mJ=cJ.registerNode,yJ=cJ.registerEdge,bJ=cJ.registerCombo,xJ=iW.registerBehavior,wJ=FH,_J=(cJ.registerNode,cJ.registerEdge,cJ.registerCombo,iW.registerBehavior,n(69252));function EJ(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function SJ(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function kJ(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function CJ(e,t){return e[0]===t[0]&&e[1]===t[1]}var MJ=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,OJ=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,NJ=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,TJ=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function AJ(e,t){var n=e.match(TJ);(0,eW.each)(n,(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function PJ(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,eW.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,i,o=MJ.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var c=Math.tan(a),l=c*c,f=(i.x-r.x+c*(i.y-r.y))/(l+1)+r.x,d=c*(i.x-r.x+c*(i.y-r.y))/(l+1)+r.y,h=e.createLinearGradient(r.x,r.y,f,d);return AJ(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=OJ.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(TJ);return u[u.length-1].split(":")[1]}var c=t.getBBox(),l=c.maxX-c.minX,f=c.maxY-c.minY,d=Math.sqrt(l*l+f*f)/2,h=e.createRadialGradient(c.minX+l*i,c.minY+f*o,0,c.minX+l/2,c.minY+f/2,a*d);return AJ(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,i,o=NJ.exec(n),a=o[1],s=o[2];function u(){r=e.createPattern(i,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function IJ(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function DJ(e,t){return IJ(e)*IJ(t)?(e[0]*t[0]+e[1]*t[1])/(IJ(e)*IJ(t)):1}function RJ(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(DJ(e,t))}function LJ(e,t){var n=t[1],r=t[2],i=(0,eW.mod)((0,eW.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,d=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,m=n?v*-r*f/n:0,y=(s+c)/2+Math.cos(i)*g-Math.sin(i)*m,b=(u+l)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/n,(d-m)/r],w=[(-1*f-g)/n,(-1*d-m)/r],_=RJ([1,0],x),E=RJ(x,w);return DJ(x,w)<=-1&&(E=Math.PI),DJ(x,w)>=1&&(E=0),0===a&&E>0&&(E-=2*Math.PI),1===a&&E<0&&(E+=2*Math.PI),{cx:y,cy:b,rx:CJ(e,[c,l])?0:n,ry:CJ(e,[c,l])?0:r,startAngle:_,endAngle:_+E,xRotation:i,arcFlag:o,sweepFlag:a}}var jJ=Math.sin,FJ=Math.cos,BJ=Math.atan2,zJ=Math.PI;function UJ(e,t,n,r,i,o,a){var s=t.stroke,u=t.lineWidth,c=BJ(r-o,n-i),l=new T0({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*FJ(zJ/6)+","+10*jJ(zJ/6)+" L0,0 L"+10*FJ(zJ/6)+",-"+10*jJ(zJ/6),stroke:s,lineWidth:u}});l.translate(i,o),l.rotateAtPoint(i,o,c),e.set(a?"startArrowShape":"endArrowShape",l)}function GJ(e,t,n,r,i,o,a){var s=t.startArrow,u=t.endArrow,c=t.stroke,l=t.lineWidth,f=a?s:u,d=f.d,h=f.fill,p=f.stroke,v=f.lineWidth,g=(0,JZ.__rest)(f,["d","fill","stroke","lineWidth"]),m=BJ(r-o,n-i);d&&(i-=FJ(m)*d,o-=jJ(m)*d);var y=new T0({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,JZ.__assign)((0,JZ.__assign)({},g),{stroke:p||c,lineWidth:v||l,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),e.set(a?"startArrowShape":"endArrowShape",y)}function VJ(e,t,n,r,i){var o=BJ(r-t,n-e);return{dx:FJ(o)*i,dy:jJ(o)*i}}function ZJ(e,t,n,r,i,o){"object"===typeof t.startArrow?GJ(e,t,n,r,i,o,!0):t.startArrow?UJ(e,t,n,r,i,o,!0):e.set("startArrowShape",null)}function WJ(e,t,n,r,i,o){"object"===typeof t.endArrow?GJ(e,t,n,r,i,o,!1):t.endArrow?UJ(e,t,n,r,i,o,!1):e.set("startArrowShape",null)}var YJ={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function HJ(e,t){var n=t.attr();for(var r in n){var i=n[r],o=YJ[r]?YJ[r]:r;"matrix"===o&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&e.setLineDash?(0,eW.isArray)(i)&&e.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=PJ(e,t,i):"globalAlpha"===o&&(i*=e.globalAlpha),e[o]=i)}}function qJ(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];i.cfg.visible?i.draw(e,n):i.skipDraw()}}function XJ(e,t,n){var r=e.get("refreshElements");(0,eW.each)(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?QJ(t,n):KJ(t,n)}function KJ(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&QJ(r.cfg.children,t);else if(r.cfg.refresh)r.isGroup()&&KJ(r.cfg.children,t);else{var i=JJ(r,t);r.cfg.refresh=i,i&&r.isGroup()&&KJ(r.cfg.children,t)}}}function $J(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&$J(n.cfg.children)}}function QJ(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&QJ(r.get("children"),t)}}function JJ(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&kJ(n,t)}function e0(e,t,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],c={dx:0,dy:0};t.beginPath();for(var l=0;l<i.length;l++){var f=i[l],d=f[0];if(0===l&&o&&o.d)c=VJ((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(l===i.length-2&&"Z"===i[l+1][0]&&a&&a.d){if("Z"===i[l+1][0])c=VJ((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(l===i.length-1&&a&&a.d){var h;if("Z"!==i[0])c=VJ((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=c.dx,v=c.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-v),u=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-v);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-v);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-v);break;case"A":var g=void 0;r?(g=r[l])||(g=LJ(s,f),r[l]=g):g=LJ(s,f);var m=g.cx,y=g.cy,b=g.rx,x=g.ry,w=g.startAngle,_=g.endAngle,E=g.xRotation,S=g.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,E,w,_,1-S);else{var k=b>x?b:x,C=b>x?1:b/x,M=b>x?x/b:1;t.translate(m,y),t.rotate(E),t.scale(C,M),t.arc(0,0,k,w,_,1-S),t.scale(1/C,1/M),t.rotate(-E),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===d)s=u;else{var O=f.length;s=[f[O-2],f[O-1]]}}}}function t0(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function n0(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var i=e.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,t=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?t=i:s&&(t=a)}return t}var r0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.onCanvasChange=function(e){t0(this,e)},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),HJ(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];(0,eW.each)(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var i=(0,eW.min)(t),o=(0,eW.max)(t),a=(0,eW.min)(n),s=(0,eW.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var c=u.getViewRange();this.set("isInView",kJ(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),HJ(e,this),this._applyClip(e,this.getClip()),qJ(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(bK),i0=r0,o0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return i0},t.prototype.onCanvasChange=function(e){t0(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=SK(e)(this),r=t/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),HJ(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!kJ(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),HJ(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=kJ(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isFill()&&((0,eW.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&((0,eW.isNil)(i)||1===i||(e.globalAlpha=i),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(wK),a0=o0,s0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,l=EJ(a,s,e,t);return r&&n?l<=u+c:r?l<=u:!!n&&(l>=u-c&&l<=u+c)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.r;e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.closePath()},t}(a0),u0=s0;function c0(e,t,n,r){return e/(n*n)+t/(r*r)}var l0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,l=o.ry,f=(e-s)*(e-s),d=(t-u)*(t-u);return r&&n?c0(f,d,c+a,l+a)<=1:r?c0(f,d,c,l)<=1:!!n&&(c0(f,d,c-a,l-a)>=1&&c0(f,d,c+a,l+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(a0),f0=l0;function d0(e){return e instanceof HTMLElement&&(0,eW.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var h0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if((0,eW.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):d0(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.sx,s=t.sy,u=t.swidth,c=t.sheight,l=t.img;(l instanceof Image||d0(l))&&((0,eW.isNil)(a)||(0,eW.isNil)(s)||(0,eW.isNil)(u)||(0,eW.isNil)(c)?e.drawImage(l,n,r,i,o):e.drawImage(l,a,s,u,c,n,r,i,o))},t}(a0),p0=h0;function v0(e,t,n,r,i,o,a){var s=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),l=Math.max(t,r),f=i/2;return o>=s-f&&o<=u+f&&a>=c-f&&a<=l+f&&IK.pointToLine(e,t,n,r,o,a)<=i/2}var g0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow;o&&ZJ(this,e,r,i,t,n),a&&WJ(this,e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){if(!n||!i)return!1;var o=this.attr();return v0(o.x1,o.y1,o.x2,o.y2,i,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=VJ(n,r,i,o,t.startArrow.d)),s&&s.d&&(c=VJ(n,r,i,o,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(i-c.dx,o-c.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return IK.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return IK.pointAt(n,r,i,o,e)},t}(a0),m0=g0,y0={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},b0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,eW.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,eW.isFunction)(a))n=h$(n=(e=a)(i,o,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(i,o,s)}return n},t.prototype.createPath=function(e){e0(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=y0,t}(a0),x0=b0;function w0(e,t,n){var r=t$();return e.createPath(r),r.isPointInPath(t,n)}function _0(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function E0(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function S0(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(E0(a,s,[t,n]))return!0;_0(a[1]-n)>0!==_0(s[1]-n)>0&&_0(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function k0(e,t,n,r,i,o,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var c={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return EJ(c.x,c.y,a,s)<=o/2}var C0=dW;var M0=(0,JZ.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],i=[],o=0;o<t;o++){var a=e[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],c=u.currentPoint,l=u.params,f=u.prePoint,d=u.box;if(!d||SJ(d.x-a,d.y-a,d.width+t,d.height+t,n,r)){switch(u.command){case"L":case"Z":o=v0(f[0],f[1],c[0],c[1],t,n,r);break;case"Q":o=zK.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],n,r)<=t/2;break;case"C":o=YK.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,i)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,v=h.cy,g=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,w=[n,r,1],_=g>m?g:m,E=C0(null,[["t",-p,-v],["r",-x],["s",1/(g>m?1:g/m),1/(g>m?m/g:1)]]);jY.kK(w,w,E),o=k0(0,0,_,y,b,t,w[0],w[1])}if(o)break}}return o}},i);function O0(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=S0(e[i],t,n))break}return r}var N0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=h$(e);var t=M0.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=x$(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&ZJ(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&WJ(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=M0.isPointInStroke(o,i,e,t,u)}if(!s&&r)if(a)s=w0(this,e,t);else{var c=this.attr("path"),l=M0.extractPolygons(c);s=O0(l.polygons,e,t)||O0(l.polylines,e,t)}return s},t.prototype.createPath=function(e){e0(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,eW.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,eW.each)(r,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,eW.isNil)(o)||(0,eW.isNil)(n))return null;var a=o.length,s=i[n+1];return YK.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",M0.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,i=0,o=0,a=[],s=this.get("curve");s&&((0,eW.each)(s,(function(e,t){n=s[t+1],r=e.length,n&&(i+=YK.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,eW.each)(s,(function(u,c){n=s[c+1],r=u.length,n&&((e=[])[0]=o/i,t=YK.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t||0,e[1]=o/i,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,i=t[n-1].currentPoint,o=t[n-1].endTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([r[0],r[1]]),e.push([i[0],i[1]]))}return e},t}(a0),T0=N0;function A0(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(v0(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],u=e[o-1];if(v0(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var P0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr().points,a=!1;return n&&(a=A0(o,i,e,t,!0)),!a&&r&&(a=S0(o,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(a0),I0=P0,D0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,i=t.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&ZJ(this,e,n[1][0],n[1][1],a,s),i&&WJ(this,e,n[o-2][0],n[o-2][1],u,c)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!(!n||!i)&&A0(this.attr().points,i,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,i=t.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],l=n[o-1][1];if(r&&r.d)s+=(a=VJ(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)c-=(a=VJ(n[o-2][0],n[o-2][1],c,l,i.d)).dx,l-=a.dy;e.beginPath(),e.moveTo(s,u);for(var f=0;f<o-1;f++){var d=n[f];e.lineTo(d[0],d[1])}e.lineTo(c,l)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,eW.isNil)(t)?(this.set("totalLength",$K(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,eW.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),IK.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,eW.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=IK.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(a0),R0=D0;var L0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,c=o.height,l=o.radius;if(l){var f=!1;return n&&(f=function(e,t,n,r,i,o,a,s){return v0(e+i,t,e+n-i,t,o,a,s)||v0(e+n,t+i,e+n,t+r-i,o,a,s)||v0(e+n-i,t+r,e+i,t+r,o,a,s)||v0(e,t+r-i,e,t+i,o,a,s)||k0(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||k0(e+n-i,t+r-i,i,0,.5*Math.PI,o,a,s)||k0(e+i,t+r-i,i,.5*Math.PI,Math.PI,o,a,s)||k0(e+i,t+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,c,l,i,e,t)),!f&&r&&(f=w0(this,e,t)),f}var d=i/2;return r&&n?SJ(a-d,s-d,u+d,c+d,e,t):r?SJ(a,s,u,c,e,t):n?function(e,t,n,r,i,o,a){var s=i/2;return SJ(e-s,t-s,n,i,o,a)||SJ(e+n-s,t-s,i,r,o,a)||SJ(e+s,t+r-s,n,i,o,a)||SJ(e-s,t+s,i,r,o,a)}(a,s,u,c,i,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,i,o);else{var s=function(e){var t=0,n=0,r=0,i=0;return(0,eW.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,[t,n,r,i]}(a),u=s[0],c=s[1],l=s[2],f=s[3];e.moveTo(n+u,r),e.lineTo(n+i-c,r),0!==c&&e.arc(n+i-c,r+c,c,-Math.PI/2,0),e.lineTo(n+i,r+o-l),0!==l&&e.arc(n+i-l,r+o-l,l,0,Math.PI/2),e.lineTo(n+f,r+o),0!==f&&e.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(a0),j0=L0,F0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=r$(e)},t.prototype._setText=function(e){var t=null;(0,eW.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,c=this._getSpaceingY(),l=n$(i.text,i.fontSize,i.lineHeight);(0,eW.each)(t,(function(t,i){r=s+i*(c+u)-l+u,"middle"===o&&(r+=l-u-(l-u)/2),"top"===o&&(r+=l-u),(0,eW.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(e,o,t);else{var a=n.text;(0,eW.isNil)(a)||(t?e.fillText(a,r,i):e.strokeText(a,r,i))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isStroke()&&n>0&&((0,eW.isNil)(i)||1===i||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&((0,eW.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(a0),B0=F0;function z0(e,t,n){var r=e.getTotalMatrix();if(r){var i=function(e,t){return t?sX(uX(t),e):e}([t,n,1],r);return[i[0],i[1]]}return[t,n]}function U0(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!Yq(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=z0(e,t,n),i=r[0],o=r[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function G0(e,t,n){if(!U0(e,t,n))return null;for(var r=null,i=e.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=G0(a,t,n);else if(U0(a,t,n)){var s=a,u=z0(a,t,n),c=u[0],l=u[1];s.isInShape(c,l)&&(r=a)}if(r)break}return r}var V0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return i0},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&r.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?G0(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],i=[];return(0,eW.each)(e,(function(e){var o=n0(e);o&&(t.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,eW.min)(t),minY:(0,eW.min)(n),maxX:(0,eW.max)(r),maxY:(0,eW.max)(i)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&kJ(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,eW.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),HJ(e,this),qJ(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),HJ(e,this),XJ(this,n,r),qJ(e,n,r),e.restore()):t.length&&$J(t),(0,eW.each)(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=(0,eW.requestAnimationFrame)((function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)})),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(mK),Z0=V0,W0={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Y0={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function H0(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q0(e){var t=W0[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=H0(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function X0(e,t){var n=e.get("el"),r=(0,eW.toArray)(n.children).sort(t),i=document.createDocumentFragment();r.forEach((function(e){i.appendChild(e)})),n.appendChild(i)}function K0(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],i=0;i<9;i+=3)r.push(t[i]+","+t[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function $0(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){q0(n),n.createPath(t);var i=t.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function Q0(e,t){t.forEach((function(t){t.draw(e)}))}function J0(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=e.getParent(),o=i?i.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter((function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()})),i=r[t],o=r.indexOf(e);if(i){if(o>t)n.insertBefore(e,i);else if(o<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,o.indexOf(e));else if("sort"===t){var c=e.get("children");c&&c.length&&X0(e,(function(e,t){return c.indexOf(e)-c.indexOf(t)?1:0}))}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?K0(e):"clip"===t?$0(e,r):"attr"===t||"add"===t&&e.draw(r)}}var e1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,JZ.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=H0("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){J0(this,e)},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),$0(this,e),this.createPath(e),t.length&&Q0(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(e,t){Y0[t]&&r.setAttribute(Y0[t],e)})),K0(this)},t}(bK),t1=e1,n1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t1},t.prototype.onCanvasChange=function(e){J0(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=SK(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,c=r-u,l=i-u;return{x:c,y:l,minX:c,minY:l,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||q0(this),$0(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineWidth,l=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",i):this._setColor(e,"fill",r||i),s&&l.setAttribute(Y0.fillOpacity,s)),this.canStroke&&c>0&&(t?"stroke"in n?this._setColor(e,"stroke",o):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",o||a),u&&l.setAttribute(Y0.strokeOpacity,u),c&&l.setAttribute(Y0.lineWidth,c))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=e.find("gradient",n))||(i=e.addGradient(n)),r.setAttribute(Y0[t],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=e.find("pattern",n))||(i=e.addPattern(n)),r.setAttribute(Y0[t],"url(#"+i+")")}else r.setAttribute(Y0[t],n);else r.setAttribute(Y0[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=t.find("filter",i);o||(o=t.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&K0(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=e+r.left,o=t+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(wK),r1=n1,i1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):Y0[t]&&r.setAttribute(Y0[t],e)}))},t}(r1),o1=i1,a1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,JZ.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if((0,eW.each)(t||n,(function(e,t){Y0[t]&&r.setAttribute(Y0[t],e)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},t}(r1),s1=a1,u1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):Y0[t]&&r.setAttribute(Y0[t],e)}))},t}(r1),c1=u1,l1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,eW.each)(t||r,(function(e,t){"img"===t?n._setImage(r.img):Y0[t]&&i.setAttribute(Y0[t],e)}))},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if((0,eW.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,eW.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(r1),f1=l1,d1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(t,i){if("startArrow"===i||"endArrow"===i)if(t){var o=(0,eW.isObject)(t)?e.addArrow(n,Y0[i]):e.getDefaultArrow(n,Y0[i]);r.setAttribute(Y0[i],"url(#"+o+")")}else r.removeAttribute(Y0[i]);else Y0[i]&&r.setAttribute(Y0[i],t)}))},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return IK.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return IK.pointAt(n,r,i,o,e)},t}(r1),h1=d1,p1={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},v1={get:function(e){return p1[e]},register:function(e,t){p1[e]=t},remove:function(e){delete p1[e]},getAll:function(){return p1}},g1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,eW.isArray)(e)?e.map((function(e){return e.join(" ")})).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,i=t.r||t.radius,o=t.symbol||"circle";return(e=(0,eW.isFunction)(o)?o:v1.get(o))?e(n,r,i):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=v1,t}(r1),m1=g1,y1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,eW.each)(t||r,(function(t,o){if("path"===o&&(0,eW.isArray)(t))i.setAttribute("d",n._formatPath(t));else if("startArrow"===o||"endArrow"===o)if(t){var a=(0,eW.isObject)(t)?e.addArrow(r,Y0[o]):e.getDefaultArrow(r,Y0[o]);i.setAttribute(Y0[o],"url(#"+a+")")}else i.removeAttribute(Y0[o]);else Y0[o]&&i.setAttribute(Y0[o],t)}))},t.prototype._formatPath=function(e){var t=e.map((function(e){return e.join(" ")})).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(r1),b1=y1,x1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(e,t){"points"===t&&(0,eW.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):Y0[t]&&r.setAttribute(Y0[t],e)}))},t}(r1),w1=x1,_1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,eW.each)(t||n,(function(e,t){"points"===t&&(0,eW.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):Y0[t]&&r.setAttribute(Y0[t],e)}))},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,eW.isNil)(t)?(this.set("totalLength",$K(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,eW.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),IK.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,eW.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=IK.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(r1),E1=_1;var S1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,eW.each)(t||r,(function(e,t){-1===a.indexOf(t)||o?-1===a.indexOf(t)&&Y0[t]&&i.setAttribute(Y0[t],e):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius;if(!o)return"M "+t+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,i=0;return(0,eW.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}(o);return(0,eW.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(r1),k1=S1,C1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},M1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},O1={left:"left",start:"left",center:"middle",right:"end",end:"end"},N1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,JZ.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,JZ.__assign)((0,JZ.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,eW.each)(t||r,(function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?K0(n):Y0[t]&&i.setAttribute(Y0[t],e)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,i=rX();i&&"firefox"===i.name?e.setAttribute("dominant-baseline",M1[n]||"alphabetic"):e.setAttribute("alignment-baseline",C1[n]||"baseline"),e.setAttribute("text-anchor",O1[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";(0,eW.each)(a,(function(e,t){0===t?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"})),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(r1),T1=N1,A1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,I1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function D1(e){var t=e.match(I1);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),(0,eW.each)(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var R1=function(){function e(e){this.cfg={};var t=null,n=(0,eW.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,i=A1.exec(e),o=(0,eW.mod)((0,eW.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,c=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,l=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",c),t.setAttribute("y2",l),t.innerHTML=D1(a)}(e,t=H0("linearGradient")):function(e,t){var n=P1.exec(e),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",i),t.setAttribute("r",o),t.innerHTML=D1(a)}(e,t=H0("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),L1=R1,j1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},F1={x:"-40%",y:"-40%",width:"200%",height:"200%"},B1=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=H0("filter");return(0,eW.each)(F1,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=(0,eW.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return(0,eW.each)(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},e.prototype.update=function(e,t){var n=this.cfg;return n[j1[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),z1=B1,U1=function(){function e(e,t){this.cfg={};var n=H0("marker"),r=(0,eW.uniqueId)("marker_");n.setAttribute("id",r);var i=H0("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===o?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,eW.isArray)(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),G1=U1,V1=function(){function e(e){this.type="clip",this.cfg={};var t=H0("clipPath");this.el=t,this.id=(0,eW.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),Z1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,W1=function(){function e(e){this.cfg={};var t=H0("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=H0("image");t.appendChild(n);var r=(0,eW.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var i=Z1.exec(e)[2];n.setAttribute("href",i);var o=new Image;function a(){t.setAttribute("width",""+o.width),t.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),Y1=W1,H1=function(){function e(e){var t=H0("defs"),n=(0,eW.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(e,t)){r=n[i].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new G1(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new L1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new G1(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new z1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new Y1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new V1(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),q1=H1,X1=function(e){function t(t){return e.call(this,(0,JZ.__assign)((0,JZ.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,JZ.__extends)(t,e),t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t1},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!W0[r.tagName]){for(var i=r.parentNode;i&&!W0[i.tagName];)i=i.parentNode;r=i}return this.find((function(e){return e.get("el")===r}))},t.prototype.createDom=function(){var e=H0("svg"),t=new q1(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&X0(this,(function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0}))}else if("clear"===e){if(n){n.innerHTML="";var i=t.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===e?K0(this):"clip"===e?$0(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();$0(this,e),t.length&&Q0(e,t)},t}(mK),K1=X1,$1=n(3861),Q1=n.n($1),J1=n(47045),e2=n.n(J1),t2=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function n2(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function r2(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function i2(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function o2(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=e2()(e),i=5;i>0;i-=1){var o=r.toHsv(),a=e2()({h:n2(o,i,!0),s:r2(o,i,!0),v:i2(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),c=e2()({h:n2(u,s),s:r2(u,s),v:i2(u,s)}).toHexString();n.push(c)}return"dark"===t.theme?t2.map((function(e){var r=e.index,i=e.opacity;return e2().mix(t.backgroundColor||"#141414",n[r],100*i).toHexString()})):n}var a2={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},s2={},u2={};Object.keys(a2).forEach((function(e){s2[e]=o2(a2[e]),s2[e].primary=s2[e][5],u2[e]=o2(a2[e],{theme:"dark",backgroundColor:"#141414"}),u2[e].primary=u2[e][5]}));s2.red,s2.volcano,s2.gold,s2.orange,s2.yellow,s2.lime,s2.green,s2.cyan,s2.blue,s2.geekblue,s2.purple,s2.magenta,s2.grey;var c2=function(e,t,n){var r=Q1()(e),i=Q1()(t);return Q1()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},l2=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=c2(t,e,.05).rgb().toString(),i=c2(t,e,.1).rgb().toString(),o=c2(t,e,.2).rgb().toString(),a=c2(t,e,.4).rgb().toString(),s=c2(t,n,.02).rgb().toString(),u=c2(t,n,.05).rgb().toString(),c=c2(t,n,.1).rgb().toString(),l=c2(t,n,.2).rgb().toString(),f=c2(t,n,.3).rgb().toString(),d=o2(e,{theme:"default",backgroundColor:t}),h=Q1()(e).hex().toLowerCase(),p=d.indexOf(h),v=e;return-1!==p&&(v=d[p+1]),{mainStroke:e,mainFill:i,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:v,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:f,edgeActiveStroke:e,edgeInactiveStroke:l,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:f,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:v,comboHighlightFill:s,comboDisableStroke:l,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=c2(t,e,.2).rgb().toString(),i=c2(t,e,.3).rgb().toString(),o=c2(t,e,.6).rgb().toString(),a=c2(t,e,.8).rgb().toString(),s=c2(t,n,.2).rgb().toString(),u=c2(t,n,.25).rgb().toString(),c=c2(t,n,.3).rgb().toString(),l=c2(t,n,.4).rgb().toString(),f=c2(t,n,.5).rgb().toString(),d=o2(e,{theme:"dark",backgroundColor:t}),h=Q1()(e).hex().toLowerCase(),p=d.indexOf(h),v=e;return-1!==p&&(v=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:l,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:l,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:v,comboHighlightFill:u,comboDisableStroke:l,comboDisableFill:s}}(e,t,"#777")},f2=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return e.forEach((function(e){i.push(l2(e,t,n,r))})),i},d2="rgb(0, 0, 0)",h2=l2("rgb(95, 149, 255)","rgb(255, 255, 255)"),p2={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:h2.mainStroke,fill:h2.mainFill},size:20,color:h2.mainStroke,linkPoints:{size:8,lineWidth:1,fill:h2.activeFill,stroke:h2.activeStroke}},nodeStateStyles:{active:{fill:h2.activeFill,stroke:h2.activeStroke,lineWidth:2,shadowColor:h2.mainStroke,shadowBlur:10},selected:{fill:h2.selectedFill,stroke:h2.selectedStroke,lineWidth:4,shadowColor:h2.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:h2.highlightFill,stroke:h2.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:h2.inactiveFill,stroke:h2.inactiveStroke,lineWidth:1},disable:{fill:h2.disableFill,stroke:h2.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:d2,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:h2.edgeMainStroke,lineAppendWidth:2},color:h2.edgeMainStroke},edgeStateStyles:{active:{stroke:h2.edgeActiveStroke,lineWidth:1},selected:{stroke:h2.edgeSelectedStroke,lineWidth:2,shadowColor:h2.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:h2.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:h2.edgeInactiveStroke,lineWidth:1},disable:{stroke:h2.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:d2,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:h2.comboMainFill,lineWidth:1,stroke:h2.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:h2.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:h2.comboActiveStroke,lineWidth:1,fill:h2.comboActiveFill},selected:{stroke:h2.comboSelectedStroke,lineWidth:2,fill:h2.comboSelectedFill,shadowColor:h2.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:h2.comboHighlightStroke,lineWidth:2,fill:h2.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:h2.comboInactiveStroke,fill:h2.comboInactiveFill,lineWidth:1},disable:{stroke:h2.comboDisableStroke,fill:h2.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function v2(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}var g2=dJ.cloneEvent,m2=dJ.isViewportChanged,y2=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return(0,JZ.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),i=r.get("el"),o=(0,eW.wrapBehavior)(this,"onCanvasEvents"),a=(0,eW.wrapBehavior)(this,"onExtendEvents"),s=(0,eW.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(v2(i,"DOMMouseScroll",s)),n.push(v2(i,"mousewheel",s)),"undefined"!==typeof window&&(n.push(v2(window,"keydown",a)),n.push(v2(window,"keyup",a)),n.push(v2(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),m2(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,i===r)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(o,e),void n.emit("canvas:".concat(o),e);var u=t.getItemRoot(i);if(u){var c=u.get("item");if(!c.destroyed){var l=c.getType();if(e.target=i,e.item=c,e.canvasX===e.x&&e.canvasY===e.y){var f=n.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(l,":").concat(o),e):n.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,l)}}else n.emit(o,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,eW.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=e.target===i?null:e.item;e=g2(e),r&&r!==o&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),o&&r!==o&&(e.item=o,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=o},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this,t=e.graph,n=e.canvasHandler,r=e.extendEvents;t.get("canvas").off("*",n),(0,eW.each)(r,(function(e){e.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(gJ),b2=y2,x2=n(68253),w2=n(7701),_2=n.n(w2),E2=dJ.traverseTree,S2=function(e,t){return e?(0,eW.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},k2=function(e,t){var n=[],r=[],i={},o=0;for(o=0;o<e.length;o++){var a=e[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<t.length;o++){var s=t[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<e.length;o++){var c=n.length,l=r[o],f=l.length;n[4*o+2]=c,n[4*o+3]=l.length,u=Math.max(u,l.length);for(var d=0;d<f;++d){var h=l[d];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},C2=function(e,t,n){var r=[],i=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<t.length;a++){var u=t[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var c=0;for(a=0;a<e.length;a++){var l=r.length,f=i[a],d=f.length;r[4*a+2]=l,r[4*a+3]=d/2,c=Math.max(c,d/2);for(var h=0;h<d;++h){var p=f[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},M2=function(e,t,n,r){var i=[],o=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<t.length;s++){var c=t[s];o[a[c.source]].push(a[c.target]),o[a[c.source]].push(n(c)),o[a[c.source]].push(r(c)),o[a[c.source]].push(0),o[a[c.target]].push(a[c.source]),o[a[c.target]].push(n(c)),o[a[c.target]].push(r(c)),o[a[c.target]].push(0)}var l=0;for(s=0;s<e.length;s++){var f=i.length,d=o[s],h=d.length;i[4*s+2]=f+1048576*h/4,i[4*s+3]=0,l=Math.max(l,h/4);for(var p=0;p<h;++p){var v=d[p];i.push(+v)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:l}},O2=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},N2=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)},T2=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";t&&["V","TB","BT"].indexOf(t)>=0&&(o="x",i="y");var a=0;E2(e,(function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0}));var s=2*Math.PI/a,u=r[o]-n[o];return 0===u||E2(e,(function(t){var r=(t[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0})),e},A2=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",i=e().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},P2=(0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)((0,JZ.__assign)({},dJ),f),d),h),I2=P2.radialLayout,D2=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=_2()[t.type](e,t.config);return I2(n),n}:this.layoutMethod=function(e){return _2()[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}(),R2=D2;(0,x2.registerLayout)("grid",x2.GridLayout),(0,x2.registerLayout)("random",x2.RandomLayout),(0,x2.registerLayout)("force",x2.ForceLayout),(0,x2.registerLayout)("circular",x2.CircularLayout),(0,x2.registerLayout)("dagre",x2.DagreLayout),(0,x2.registerLayout)("dagreCompound",x2.DagreCompoundLayout),(0,x2.registerLayout)("radial",x2.RadialLayout),(0,x2.registerLayout)("concentric",x2.ConcentricLayout),(0,x2.registerLayout)("mds",x2.MDSLayout),(0,x2.registerLayout)("fruchterman",x2.FruchtermanLayout),(0,x2.registerLayout)("fruchterman-gpu",x2.FruchtermanGPULayout),(0,x2.registerLayout)("gForce",x2.GForceLayout),(0,x2.registerLayout)("gForce-gpu",x2.GForceGPULayout),(0,x2.registerLayout)("comboForce",x2.ComboForceLayout),(0,x2.registerLayout)("comboCombined",x2.ComboCombinedLayout),(0,x2.registerLayout)("forceAtlas2",x2.ForceAtlas2Layout);var L2=function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},j2=function(e){void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");var t=new L2((function(){var e="LAYOUT_RUN",t="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(i){(function(t){var n=t.data.type;return n===e||n===r})(i)&&function(i){var o=this;switch(i.data.type){case e:var a,s=i.data,u=s.nodes,c=s.edges,l=s.layoutCfg,f=(g=void 0===l?{}:l).type;if(!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}g.onLayoutEnd=function(){o.postMessage({type:t,nodes:u}),null===a||void 0===a||a.destroy()},(a=new d(g)).init({nodes:u,edges:c}),a.execute();break;case r:var d,h=i.data,p=h.nodes,v=(c=h.edges,h.layoutCfg),g=void 0===v?{}:v,m=h.canvas;if(f=g.type,!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}if("gpu"!==f.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(f," does not support GPU")});break}var y=new d(g);y.init({nodes:p,edges:c}),y.executeWithWorker(m,this)}}(i)}}),e);return t},F2="LAYOUT_RUN",B2="LAYOUT_END",z2="LAYOUT_ERROR",U2="LAYOUT_TICK",G2="GPU_LAYOUT_RUN",V2="GPU_LAYOUT_END";function Z2(e){return Z2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z2(e)}var W2,Y2,H2,q2,X2=function(e){return setTimeout(e,16)},K2=function(e){return clearTimeout(e)},$2=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||X2)(e)},Q2=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||K2)(e)},J2=["fruchterman","gForce"],e3=["force","grid","circular"],t3=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,JZ.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=j2(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(Q2(e.requestId),e.requestId=null),e.requestId2&&(Q2(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,JZ.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,u,c,l;return(0,JZ.__generator)(this,(function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=e.onTick,c=function(){a&&a(),n.refreshPositions()},e.tick=c):"comboForce"!==o&&"comboCombined"!==o||(e.comboTrees=n.get("comboTrees")),!1;try{s=new x2.Layouts[o](e)}catch(d){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return s.enableTick&&(u=e.onTick,c=function(){u&&u(),n.refreshPositions()},s.tick=c),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach((function(e){e.layoutOrder=t}))}(l=this.filterLayoutData(this.data,e),t),s.init(l),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return f.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}}))}))}))},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,JZ.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return(0,JZ.__generator)(this,(function(a){switch(a.label){case 0:return n=this.graph,i=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,t),e.init(o),e.updateCfg(t),n.emit("beforesublayout",{type:i}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var c=u.type;c&&"gpu"===c.split("-")[1]&&(c=c.split("-")[0],u.gpuEnabled=!0);var l=!1;u.gpuEnabled&&(l=!0,A2().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),l=!1)),this.isGPU=l;var f=u.onLayoutEnd,d=u.layoutEndFormatted,h=u.adjust;if(d||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,JZ.__awaiter)(t,void 0,void 0,(function(){return(0,JZ.__generator)(this,(function(e){switch(e.label){case 0:return f&&f(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),v=!1;return u.type?(v=!0,p=p.then((function(){return(0,JZ.__awaiter)(t,void 0,void 0,(function(){return(0,JZ.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}}))}))}))):u.pipes&&(v=!0,u.pipes.forEach((function(e,n){p=p.then((function(){return(0,JZ.__awaiter)(t,void 0,void 0,(function(){return(0,JZ.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}}))}))}))}))),v&&p.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()})).catch((function(e){console.warn("graph layout failed,",e)})),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then((function(){return t.runWebworker(i,e,n)}));else if(n.pipes){s=!0;for(var u=function(n){a=a.then((function(){return t.runWebworker(i,e,n)}))},c=0,l=n.pipes;c<l.length;c++){u(l[c])}}return s&&a.then((function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()})).catch((function(e){console.error("layout failed",e)})),!0},t.prototype.runWebworker=function(e,t,n){var r=this,i=this.isGPU,o=this.filterLayoutData(t,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),c=i&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,l=function(e,t){var n={};if(e&&"object"===Z2(e))return Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])})),n;return e}(n,(function(e){return"function"!==typeof e}));if(c){var f=u.transferControlToOffscreen();l.type="".concat(l.type,"-gpu"),e.postMessage({type:G2,nodes:a,edges:s,layoutCfg:l,canvas:f},[f])}else e.postMessage({type:F2,nodes:a,edges:s,layoutCfg:l});return new Promise((function(t,i){e.onmessage=function(e){r.handleWorkerMessage(t,i,e,o,n)}}))},t.prototype.handleWorkerMessage=function(e,t,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=s.type,c=function(){i.onTick&&i.onTick()};switch(u){case U2:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=$2((function(){r3(r,s),o.refreshPositions(),c(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=$2((function(){r3(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,c(),e()}))),a.requestId=null})));break;case B2:null==a.currentTick&&(r3(r,s),e());break;case V2:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),e());break;case z2:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=(0,eW.mix)({},this.layoutCfg,e);if(this.layoutCfg=i,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve(),a=!1;1===r.length?(a=!0,o=o.then((function(){return(0,JZ.__awaiter)(t,void 0,void 0,(function(){return(0,JZ.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],i)];case 1:return[2,e.sent()]}}))}))}))):(a=!0,null===r||void 0===r||r.forEach((function(e,n){var r=i.pipes[n];o=o.then((function(){return(0,JZ.__awaiter)(t,void 0,void 0,(function(){return(0,JZ.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}}))}))}))}))),a&&o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(e){console.warn("layout failed",e)}))}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise((function(r){var i=e.nodes;(null===i||void 0===i?void 0:i.length)||r(),e3.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,c=(0,eW.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach((function(e,t){var n,r,i,o=e.x-(null===(n=c[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=c[t])||void 0===r?void 0:r.y);null===(i=s[t])||void 0===i||i.forEach((function(e){e.x+=o,e.y+=a}))})),r()},new x2.Layouts[t](o).layout({nodes:u})}))},t.prototype.hasGPUVersion=function(e){return J2.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(pJ),n3=t3;function r3(e,t){for(var n=e.nodes,r=t.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function i3(e){W2||(W2=document.createElement("table"),Y2=document.createElement("tr"),H2=/^\s*<(\w+|!)[^>]*>/,q2={tr:document.createElement("tbody"),tbody:W2,thead:W2,tfoot:W2,td:Y2,th:Y2,"*":document.createElement("div")});var t=H2.test(e)&&RegExp.$1;t&&t in q2||(t="*");var n=q2[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var o3=dW,a3=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,JZ.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new n3(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new b2(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new K1({container:e,width:i,height:o});else{var a={container:e,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new Z0(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;(0,eW.each)(e.get("plugins"),(function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)}))},t.prototype.downloadImageWatermark=function(e,t,n,r){return(0,JZ.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,JZ.__generator)(this,(function(s){switch(s.label){case 0:return i=e.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise((function(e){a.onload=function(){var i=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=i,t.fill(),e("")}}))];case 1:return s.sent(),[2]}}))}))},t.prototype.asyncToDataUrl=function(e,t,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),c=u.getRenderer(),l=o||u.get("el"),f="";e||(e="image/png"),setTimeout((function(){return(0,JZ.__awaiter)(a,void 0,void 0,(function(){var o,a,u,d,h,p,v,g,m,y;return(0,JZ.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==c?[3,1]:(o=l.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),d=(new XMLSerializer).serializeToString(u),f="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return h=void 0,p=l.getContext("2d"),v=r||this.get("width"),g=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,v,g)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,v*y,g*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,v,g)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}f=l.toDataURL(e),t&&(p.clearRect(0,0,v,g),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(f),[2]}}))}))}),16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");e||(e="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(c))}else{var l=void 0,f=i.getContext("2d"),d=this.get("width"),h=this.get("height"),p=void 0;if(t){var v="undefined"!==typeof window?window.devicePixelRatio:1;try{l=f.getImageData(0,0,d*v,h*v),p=f.globalCompositeOperation,f.globalCompositeOperation="destination-over",f.fillStyle=t,f.fillRect(0,0,d,h)}catch(g){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(e),t&&(f.clearRect(0,0,d,h),f.putImageData(l,0,0),f.globalCompositeOperation=p)}return o},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=i3('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,eW.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var l=i+c[0]+c[2],f=o+c[1]+c[3],d={container:s,height:l,width:f,quickHit:!0},h="svg"===a?new K1(d):new Z0(d),p=this.get("group").clone(),v=(0,eW.clone)(p.getMatrix());v||(v=[1,0,0,0,1,0,0,0,1]);var g=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;v=o3(v,[["t",-g,-m],["t",o/2+c[3],i/2+c[0]]]),p.resetMatrix(),p.setMatrix(v),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,c=y.getContext("2d"),d=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=c.getImageData(0,0,f*h,l*h),d=c.globalCompositeOperation,c.globalCompositeOperation="destination-over",c.fillStyle=u,c.fillRect(0,0,f,l)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(c.clearRect(0,0,f,l),c.putImageData(s,0,0),c.globalCompositeOperation=d)}e&&e(b)}),16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=i3('<div id="virtual-image"></div>'),c=document.querySelector(".g6-graph-watermarker"),l=n?n.backgroundColor:void 0,f=n?n.padding:void 0;f?(0,eW.isNumber)(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=a+f[1]+f[3];if(c){var p=this.get("graphWaterMarker").cfg||{},v=p.width,g=p.height;d=Math.ceil(d/g)*g,h=Math.ceil(h/v)*v}var m={container:u,height:d,width:h},y="svg"===s?new K1(m):new Z0(m),b=this.get("group").clone(),x=(0,eW.clone)(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(i.maxX+i.minX)/2,_=(i.maxY+i.minY)/2;x=o3(x,[["t",-w,-_],["t",a/2+f[3],o/2+f[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var E=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,l,(function(n){var i=document.createElement("a"),o=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}),h,d,E)},t.prototype.downloadImage=function(e,t,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();t||(t="image/png");var a=(e||"graph")+("svg"===o?".svg":t.split("/")[1]),s=document.createElement("a");i.asyncToDataUrl(t,n,(function(e){r.dataURLToImage(e,o,s,a);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),s.dispatchEvent(t)}))},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var i=e.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(l,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(l)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=p2.waterMarkerImage);var n=this.get("container");(0,eW.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,eW.deepMix)({},p2.imageWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Z0(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.x,p=u.y;f.rotate(-d*Math.PI/180);var v=new Image;v.crossOrigin="anonymous",v.src=e,v.onload=function(){if(f.drawImage(v,h,p,u.width,u.height),f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");(0,eW.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,eW.deepMix)({},p2.textWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Z0(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.fill,p=u.fontFamily,v=u.fontSize,g=u.baseline,m=u.x,y=u.y,b=u.lineHeight;f.rotate(-d*Math.PI/180),f.font="".concat(v,"px ").concat(p),f.fillStyle=h,f.textBaseline=g;for(var x=e.length-1;x>=0;x--)f.fillText(e[x],m,y+x*b);if(f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,i;(0,eW.each)(this.get("plugins"),(function(e){e.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),e.prototype.destroy.call(this)},t}(VQ),s3=a3,u3=P2.radialLayout,c3=P2.traverseTree,l3=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,JZ.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=_2()[e.type](t,e);return u3(n),n}:function(t){return _2()[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return(0,eW.each)(e,(function(e,r){if(t===e.id)return n=r,!1})),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,i=e.data;i&&(i.x=e.x,i.y=e.y,i.depth=e.depth);var o=r.addItem("node",i,!1);if(t){if(o.set("parent",t),n){var a=t.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=t.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(o):t.set("children",[o]),r.addItem("edge",{source:t.get("id"),target:o.get("id"),id:"".concat(t.get("id"),":").concat(o.get("id"))},!1)}return(0,eW.each)(e.children||[],(function(e){r.innerAddChild(e,o,n)})),r.emit("afteraddchild",{item:o,parent:t}),o},t.prototype.innerUpdateChild=function(e,n,r){var i=this,o=i.findById(e.id);if(o){(0,eW.each)(e.children||[],(function(e){i.innerUpdateChild(e,o,r)}));var a,s,u=o.get("children");if(u)if(u.length>0)for(var c=u.length-1;c>=0;c--){var l=u[c].getModel();-1===t.indexOfChild(e.children||[],l.id)&&(i.innerRemoveChild(l.id,{x:e.x,y:e.y},r),u.splice(c,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var f=o.getModel();r&&o.set("originAttrs",{x:f.x,y:f.y}),o.set("model",e.data),a===e.x&&s===e.y||o.updatePosition({x:e.x,y:e.y})}else i.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,i=r.findById(e);if(i)if((0,eW.each)(i.get("children"),(function(e){r.innerRemoveChild(e.getModel().id,t,n)})),n){var o=i.getModel();i.set("to",t),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map((function(e){return t.clearItemStates(e)})),this.getEdges().map((function(e){return t.clearItemStates(e)})),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t.getLayout()),t.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this,n=t.get("data"),r=t.get("layoutMethod"),i=r?r(n,t.get("layout")):n,o=t.get("animate");(t.emit("beforerefreshlayout",{data:n,layoutData:i}),t.emit("beforelayout"),t.innerUpdateChild(i,void 0,o),e)&&t.get("viewController").fitView();o?t.layoutAnimate(i):(t.refresh(),t.paint()),t.emit("afterrefreshlayout",{data:n,layoutData:i}),t.emit("afterlayout")},t.prototype.addChild=function(e,t){var n=this;n.emit("beforeaddchild",{model:e,parent:t}),(0,eW.isString)(t)||(t=t.get("id"));var r=n.findDataById(t);r&&(r.children||(r.children=[]),r.children.push(e),n.changeData())},t.prototype.updateChildren=function(e,t){var n=this;t&&n.findById(t)?(n.findDataById(t).children=e,n.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){var r=this;if(n&&r.findById(n)){var i=r.findDataById(n),o=r.findById(e.id);if(i.children||(i.children=[]),o){var a=t.indexOfChild(i.children,e.id);i.children[a]=e}else i.children.push(e);r.changeData()}else r.changeData(e)},t.prototype.removeChild=function(e){var n=this,r=n.findById(e);if(r){var i=r.get("parent");if(i&&!i.destroyed){var o=n.findDataById(i.get("id")),a=o&&o.children||[],s=r.getModel(),u=t.indexOfChild(a,s.id);a.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return(0,eW.each)(t.children||[],(function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0})),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach((function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){c3(e,(function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),t){var u=t(o,r,a,e);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0})),(0,eW.each)(n.get("removeList"),(function(e){var t=e.getModel(),n=e.get("originAttrs"),i=e.get("to");t.x=n.x+(i.x-n.x)*r,t.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,eW.each)(n.getNodes(),(function(e){e.set("originAttrs",null)})),(0,eW.each)(n.get("removeList"),(function(e){n.removeItem(e)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,t=e.get("data");if(!t||!(0,eW.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(s3),f3=l3;function d3(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var h3=function(){function e(e){this._cfgs=(0,eW.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};(0,eW.each)(n,(function(n,i){var o=(0,eW.wrapBehavior)(t,n);r[i]=o,e.on(i,o)})),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,eW.each)(t,(function(t,n){e.off(n,t)})),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),p3=h3,v3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g3="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",m3=function(e){function t(t){return e.call(this,t)||this}return v3(t,e),t.prototype.getDefaultCfgs=function(){return{img:g3,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||g3,i=i3("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=i3("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),t.insertBefore(i,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");d3(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/t,o=80*r/t;d3(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");d3(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(p3),y3=m3,b3=n(95929),x3=n.n(b3),w3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&x3()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var _3=function(e){function t(t){return e.call(this,t)||this}return w3(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=i3("<div class=".concat(e||"g6-component-contextmenu","></div>"));d3(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,eW.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(e,o);(0,eW.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var c=o.get("width"),l=o.get("height"),f=r.getBoundingClientRect(),d=this.get("offsetX")||0,h=this.get("offsetY")||0,p=o.getContainer().offsetTop,v=o.getContainer().offsetLeft,g=e.canvasX+v+d,m=e.canvasY+p+h;g+f.width>c&&(g=e.canvasX-f.width-d+v),m+f.height>l&&(m=e.canvasY-f.height-h+p),d3(r,{top:"".concat(m,"px"),left:"".concat(g,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&d3(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,eW.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(p3),E3=_3,S3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k3=function(){return k3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k3.apply(this,arguments)},C3=Math.max,M3=dW,O3=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=(0,eW.debounce)((function(e){var t=n;t.destroyed||t.updateCanvas()}),100,!1),n}return S3(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=i3("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,c=!1,l=0,f=0,d=0,h=0,p=0,v=0;o.addEventListener("dragstart",(function(i){var a,g;if(i.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(g=(a=i.dataTransfer).setDragImage)||void 0===g||g.call(a,m,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(b){i.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,i.target===o){var y=o.style;l=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10),d>n[0]||h>n[1]||(v=r.getZoom(),p=e.get("ratio"),c=!0,s=i.clientX,u=i.clientY)}}),!1),o.addEventListener(a?"dragover":"drag",(function(e){if(c&&!(0,eW.isNil)(e.clientX)&&!(0,eW.isNil)(e.clientY)){var t=s-e.clientX,i=u-e.clientY;(l-t<0||l-t+d>=n[0])&&(t=0),(f-i<0||f-i+h>=n[1])&&(i=0),f-=i,d3(o,{left:"".concat(l-=t,"px"),top:"".concat(f,"px")}),r.translate(t*v/p,i*v/p),s=e.clientX,u=e.clientY}}),!1),o.addEventListener("dragend",(function(){c=!1,t.refresh=!0}),!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),c=this.get("viewport");c||this.initViewport();var l=(u.x-s.x)*e,f=(u.y-s.y)*e,d=s.x*e+t,h=s.y*e+n,p=d+l,v=h+f;d<0&&(l+=d,d=0),p>i[0]&&(l-=p-i[0]),h<0&&(f+=h,h=0),v>i[1]&&(f-=v-i[1]),this.set("ratio",e),d3(c,{left:"".concat(d,"px"),top:"".concat(h,"px"),width:"".concat(l,"px"),height:"".concat(f,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach((function(e){e.get("visible")||e.hide(),t.updateVisible(e)}))}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,eW.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,eW.each)(t.getNodes(),(function(t){e.updateOneNodeKeyShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,eW.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,eW.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,eW.each)(t.getNodes(),(function(t){e.updateOneNodeDelegateShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,eW.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var i=e.get("keyShape").attr("path");r.attr("path",i)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[e.get("id")],o=e.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a)}else i=t.addShape("rect",{attrs:k3({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});e.isVisible()?i.show():i.hide(),i.exist=!0,r[e.get("id")]=i,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=e.get("size"),r=e.get("className"),i=e.get("container"),o=i3("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,eW.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):t.get("container").appendChild(o),e.set("container",o);var a,s=i3('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),s.addEventListener("dragenter",(function(e){e.preventDefault()})),s.addEventListener("dragover",(function(e){e.preventDefault()})),a="svg"===t.get("renderer")?new K1({container:s,width:n[0],height:n[1]}):new Z0({container:s,width:n[0],height:n[1]}),e.set("canvas",a),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,c=s.width/u,l=s.height/u;Number.isFinite(a.width)&&(c=C3(a.width,c),l=C3(a.height,l)),c+=2*i,l+=2*i;var f=Math.min(t[0]/c,t[1]/l),d=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var v=(t[0]-(c-2*i)*f)/2,g=(t[1]-(l-2*i)*f)/2;d=M3(d,[["t",h,p],["s",f,f],["t",v,g]]),o.setMatrix(d),this.set("ratio",f),this.set("totaldx",v+h*f),this.set("totaldy",g+p*f),this.set("dx",v),this.set("dy",g),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(p3),N3=O3,T3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function A3(e,t,n){var r=e.x-t.x,i=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function P3(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var I3=function(e){function t(t){return e.call(this,t)||this}return T3(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",(function(){t&&t(),e.refreshPositions()}))},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],i={},o=!1;if(r.forEach((function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(o=!0),i[e.id]=e})),o)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",i);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var c=t.getEdgeBundles();t.set("edgeBundles",c);for(var l=t.get("cycles"),f=t.get("iterations"),d=t.get("iterRate"),h=t.get("lambda"),p=0;p<l;p++){for(var v=function(e){var r=[];n.forEach((function(e,n){if(e.source!==e.target){var o=i[e.source],s=i[e.target];r[n]=t.getEdgeForces({source:o,target:s},n,a,h);for(var c=0;c<a+1;c++)u[n][c].x+=r[n][c].x,u[n][c].y+=r[n][c].y}}))},g=0;g<f;g++)v();h/=2,a*=s,f*=d,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach((function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))})),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach((function(n){t.set(n,e[n])})),e.onTick){var r=this.get("graph");t.set("tick",(function(){e.onTick(),r.refresh()}))}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),i=t.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],s=r[n.target];if(1===e)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?t.getEdgeLength(i[o]):A3({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),c=u,l=[{x:a.x,y:a.y}];i[o].forEach((function(e,t){if(0!==t){for(var n=A3(e,i[o][t-1]);n>c;){var r=c/n,a={x:i[o][t-1].x,y:i[o][t-1].y};a.x+=r*(e.x-i[o][t-1].x),a.y+=r*(e.y-i[o][t-1].y),l.push(a),n-=c,c=u}c-=n}})),l.push({x:s.x,y:s.y}),i[o]=l}})),i},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach((function(n,r){0!==r&&(t+=A3(n,e[r-1]))})),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),i=e.get("edgeBundles");return i||(i=[]),t.forEach((function(e,t){i[t]&&void 0!==i[t]||(i[t]=[])})),t.forEach((function(o,a){var s=r[o.source],u=r[o.target];t.forEach((function(t,o){if(!(o<=a)){var c=r[t.source],l=r[t.target];e.getBundleScore({source:s,target:u},{source:c,target:l})>=n&&(i[a].push(o),i[o].push(a))}}))})),i},t.prototype.getBundleScore=function(e,t){var n=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=A3({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=A3({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.getAngleScore(e,t)*n.getScaleScore(e,t)*n.getPositionScore(e,t)*n.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy});return n/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+A3({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=P3(t.source,e),r=P3(t.target,e),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*A3(i,o)/A3(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(A3(e.source,e.target)*(n+1)),s=[{x:0,y:0}],u=1;u<n;u++){var c={x:0,y:0},l=i.getSpringForce({pre:o[t][u-1],cur:o[t][u],next:o[t][u+1]},a),f=i.getElectrostaticForce(u,t);c.x=r*(l.x+f.x),c.y=r*(l.y+f.y),s.push(c)}return s.push({x:0,y:0}),s},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),a=i[t],s={x:0,y:0};return a.forEach((function(n){var i={x:o[n][e].x-o[t][e].x,y:o[n][e].y-o[t][e].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var a=1/A3(o[n][e],o[t][e]);s.x+=i.x*a,s.y+=i.y*a}})),s},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(p3),D3=I3,R3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L3=function(){return L3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L3.apply(this,arguments)},j3={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},F3=function(e){function t(t){return e.call(this,t)||this}return R3(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,eW.clone)(j3),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,t=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",t*t);var n=e.get("d");e.set("molecularParam",(n+1)*t)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",(function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})})),r.on("drag",(function(e){n.magnify(e)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(e){t.scaleDByWheel(e)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(e){n.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||r.get("height"))&&n>1||u<(s||.05*r.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var c=t.get("d");t.set("molecularParam",(c+1)*u),t.set("delegateCenterDiff",void 0),t.magnify(e,o)}},t.prototype.scaleRByDrag=function(e){var t=this;if(e){var n,r=t.get("dragPrePos"),i=t.get("graph"),o=i.getPointByClient(e.clientX,e.clientY);n=e.x-r.x<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||i.get("height"))&&n>1||u<(s||.05*i.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var c=t.get("d");t.set("molecularParam",(c+1)*u),t.magnify(e,o),t.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var t=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var n=0;n=e.originalEvent.wheelDelta<0?-.1:.1;var r=t.get("d")+n,i=t.get("maxD"),o=t.get("minD");if(r<i&&r>o){t.set("d",r);var a=t.get("r");t.set("molecularParam",(r+1)*a);var s=t.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;t.set("delegateCenterDiff",void 0),t.magnify(e,u)}}},t.prototype.scaleDByDrag=function(e){var t=this,n=t.get("dragPrePos"),r=e.x-n.x>0?.1:-.1,i=t.get("d")+r,o=t.get("maxD"),a=t.get("minD");if(i<o&&i>a){t.set("d",i);var s=t.get("r");t.set("molecularParam",(i+1)*s),t.magnify(e)}t.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),u=n.get("r2"),c=n.get("d"),l=n.get("molecularParam"),f=r.getNodes(),d=f.length,h=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(h=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(h.x+=p.x,h.y+=p.y),n.updateDelegate(h,s);for(var v=0;v<d;v++){var g=f[v].getModel(),m=g.x,y=g.y;if(!isNaN(m)&&!isNaN(y)){var b=(m-h.x)*(m-h.x)+(y-h.y)*(y-h.y);if(!isNaN(b)&&b<u&&0!==b){var x=Math.sqrt(b),w=l*x/(c*x+s),_=(m-h.x)/x,E=(y-h.y)/x;if(g.x=_*w+h.x,g.y=E*w+h.y,o[g.id]||(o[g.id]={x:m,y:y,texts:[]}),i.push(g),a&&2*x<s)for(var S=f[v].getContainer().getChildren(),k=S.length,C=0;C<k;C++){var M=S[C];"text"===M.get("type")&&(o[g.id].texts.push({visible:M.get("visible"),shape:M}),M.set("visible",!0))}}}}r.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,t=e.get("cachedMagnifiedModels"),n=e.get("cachedOriginPositions"),r=t.length,i=0;i<r;i++){var o=t[i],a=n[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var c=a.texts[u];c.shape.set("visible",c.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.d,i=e.trigger,o=e.minD,a=e.maxD,s=e.minR,u=e.maxR,c=e.scaleDBy,l=e.scaleRBy;isNaN(e.r)||(t.set("r",n),t.set("r2",n*n)),isNaN(r)||t.set("d",r),isNaN(a)||t.set("maxD",a),isNaN(o)||t.set("minD",o),isNaN(u)||t.set("maxR",u),isNaN(s)||t.set("minR",s);var f,d=t.get("d"),h=t.get("r");(t.set("molecularParam",(d+1)*h),"mousemove"!==i&&"click"!==i&&"drag"!==i||t.set("trigger",i),"drag"===c||"wheel"===c||"unset"===c)&&(t.set("scaleDBy",c),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()));"drag"!==l&&"wheel"!==l&&"unset"!==l||(t.set("scaleRBy",l),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||j3;o=a.addShape("circle",{attrs:L3({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(e){r.scaleRByWheel(e)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){r.scaleRByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(e){n.scaleDByWheel(e)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){n.scaleDByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))))}else o.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),c=r.get("dPercentText"),l=e.y+t/1.5+16;if(!c||c.destroyed)c=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:l,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",c);else c.attr({text:"".concat(u,"%"),x:e.x,y:l})}r.set("delegate",o)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(p3),B3=F3,z3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&x3()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var U3=function(e){function t(t){return e.call(this,t)||this}return z3(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;(0,eW.isString)(n)&&(r=i3(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),(0,eW.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter((function(e){return"LI"===e.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,t):e.handleDefaultOperator(i,t))}}));var s=this.get("position");s&&d3(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&i&&e.on("stackchange",(function(e){var o=e.undoStack,a=e.redoStack,s=o.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,(0,eW.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,i=n.data.after;if(e.pushStack(r,(0,eW.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(t){e.removeItem(t.id,!1)})),i.nodes&&i.nodes.forEach((function(t){e.removeItem(t.id,!1)})),i.combos&&i.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.handleDefaultOperator=function(e,t){var n=t.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||t.get("maxZoom")))return;t.zoomTo(n*r);break;case"zoomIn":var i=1-.05*this.get("zoomSensitivity");if(i*n<(this.get("minZoom")||t.get("minZoom")))return;t.zoomTo(n*i);break;case"realZoom":t.zoomTo(1);break;case"autoZoom":t.fitView([20,20])}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,eW.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(p3),G3=U3,V3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&x3()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var Z3=function(e){function t(t){return e.call(this,t)||this}return V3(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=i3("<div class=".concat(t,"></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),(0,eW.isString)(r)&&(r=document.getElementById(r)),d3(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",(function(e){d3(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(t){e.hideTooltip()}))),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);(0,eW.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&d3(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),c=this.get("fixToNode"),l=e.item;if(l.getType&&"node"===l.getType()&&c&&(0,eW.isArray)(c)&&c.length>=2){var f=l.getBBox();u={x:f.minX+f.width*c[0],y:f.minY+f.height*c[1]}}var d=r.getCanvasByPoint(u.x,u.y),h=d.x,p=d.y,v=r.getContainer(),g={x:h+v.offsetLeft+a,y:p+v.offsetTop+s};d3(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>i&&(g.x-=m.width+a),p+m.height+s>o&&(g.y-=m.height+s),d3(n,{left:"".concat(g.x,"px"),top:"".concat(g.y,"px")})}else d3(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,eW.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(p3),W3=Z3,Y3={};function H3(e,t){Y3[e]=t}var q3=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){(0,eW.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return(0,eW.map)(this.ticks,(function(t,n){return(0,eW.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}}))},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return(0,eW.isNil)(r)||!(0,eW.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){(0,eW.assign)(this,this.__cfg__),this.setDomain(),(0,eW.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,eW.isString)(e)){var n=function(e){return Y3[e]}(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,eW.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return(0,eW.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),X3=q3,K3=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,JZ.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=(0,eW.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return(0,eW.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,(0,JZ.__spreadArray)([i],n,!1))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,eW.isNil)(this.getConfig("min"))&&(this.min=0),(0,eW.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(X3),$3=K3,Q3=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,J3="[1-9]\\d?",e4="\\d\\d",t4="[^\\s]+",n4=/\[([^]*?)\]/gm;function r4(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var i4=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})),i=r.indexOf(t.toLowerCase());return i>-1?i:null}};function o4(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e}var a4=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s4=["January","February","March","April","May","June","July","August","September","October","November","December"],u4=r4(s4,3),c4={dayNamesShort:r4(a4,3),dayNames:a4,monthNamesShort:u4,monthNames:s4,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},l4=o4({},c4),f4=function(e){return l4=o4(l4,e)},d4=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},h4=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},p4={D:function(e){return String(e.getDate())},DD:function(e){return h4(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return h4(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return h4(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return h4(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return h4(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return h4(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return h4(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return h4(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return h4(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return h4(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return h4(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+h4(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+h4(Math.floor(Math.abs(t)/60),2)+":"+h4(Math.abs(t)%60,2)}},v4=function(e){return+e-1},g4=[null,J3],m4=[null,t4],y4=["isPm",t4,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],b4=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],x4={D:["day",J3],DD:["day",e4],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",J3,v4],MM:["month",e4,v4],YY:["year",e4,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",J3,void 0,"isPm"],hh:["hour",e4,void 0,"isPm"],H:["hour",J3],HH:["hour",e4],m:["minute",J3],mm:["minute",e4],s:["second",J3],ss:["second",e4],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",e4,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:g4,dd:g4,ddd:m4,dddd:m4,MMM:["month",t4,i4("monthNamesShort")],MMMM:["month",t4,i4("monthNames")],a:y4,A:y4,ZZ:b4,Z:b4},w4={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},_4=function(e){return o4(w4,e)},E4=function(e,t,n){if(void 0===t&&(t=w4.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=w4[t]||t).replace(n4,(function(e,t){return r.push(t),"@@@"}));var i=o4(o4({},l4),n);return(t=t.replace(Q3,(function(t){return p4[t](e,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function S4(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=w4[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=t.replace(n4,(function(e,t){return o.push(d4(t)),"@@@"})),s={},u={};a=d4(a).replace(Q3,(function(e){var t=x4[e],n=t[0],r=t[1],o=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(t),"("+r+")"})),Object.keys(u).forEach((function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var c=e.match(new RegExp(a,"i"));if(!c)return null;for(var l=o4(o4({},l4),n),f=1;f<c.length;f++){var d=i[f-1],h=d[0],p=d[2],v=p?p(c[f],l):+c[f];if(null==v)return null;r[h]=v}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var g=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,m.length);f<y;f++)if(s[m[f][0]]&&r[m[f][0]]!==g[m[f][1]]())return null;return null==r.timezoneOffset?g:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var k4={format:E4,parse:S4,defaultI18n:c4,setGlobalDateI18n:f4,setGlobalDateMasks:_4};function C4(e,t){return(p.format||k4.format)(e,t)}function M4(e){return(0,eW.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,eW.isDate)(e)&&(e=e.getTime()),e}var O4=1e3,N4=6e4,T4=36e5,A4=24*T4,P4=31*A4,I4=365*A4,D4=[["HH:mm:ss",O4],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",N4],["HH:mm",6e5],["HH:mm",18e5],["HH",T4],["HH",6*T4],["HH",12*T4],["YYYY-MM-DD",A4],["YYYY-MM-DD",4*A4],["YYYY-WW",7*A4],["YYYY-MM",P4],["YYYY-MM",4*P4],["YYYY-MM",6*P4],["YYYY",380*A4]];function R4(e,t,n){var r,i=(r=function(e){return e[1]},function(e,t,n,i){for(var o=(0,eW.isNil)(n)?0:n,a=(0,eW.isNil)(i)?e.length:i;o<a;){var s=o+a>>>1;r(e[s])>t?a=s:o=s+1}return o})(D4,(t-e)/n)-1,o=D4[i];return i<0?o=D4[0]:i>=D4.length&&(o=(0,eW.last)(D4)),o}var L4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,JZ.__extends)(t,e),t.prototype.translate=function(e){e=M4(e);var t=this.values.indexOf(e);return-1===t&&(t=(0,eW.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,t):C4(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;(0,eW.each)(t,(function(e,n){t[n]=M4(e)})),t.sort((function(e,t){return e-t})),e.prototype.setDomain.call(this)},t}($3),j4=L4,F4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,JZ.__extends)(t,e),t.prototype.scale=function(e){if((0,eW.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,eW.head)(t),r=(0,eW.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,eW.isNil)(this.minLimit)||(this.min=n),(0,eW.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=(0,eW.getRange)(this.values),t=e.min,n=e.max;(0,eW.isNil)(this.min)&&(this.min=t),(0,eW.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,eW.filter)(n,(function(e){return e>=t.min&&e<=t.max}))),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(X3),B4=F4,z4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,JZ.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(B4),U4=z4;function G4(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function V4(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function Z4(e,t,n){(0,eW.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return(0,eW.each)(e,(function(e){e>0&&e<r&&(r=e)})),r===n&&(r=n/t),r>1&&(r=1),r}var W4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,JZ.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=V4(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=V4(n,a/n)))*o;if(e<s)return e/s*a}else t=V4(n,this.min);var u=(e-i)/o*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=Z4(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),e<i?e/i/(V4(r,t)-V4(r,n)):(V4(r,e)-V4(r,n))/(V4(r,t)-V4(r,n))},t}(B4),Y4=W4,H4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,JZ.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=G4(n,this.max),i=G4(n,this.min),o=t*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(G4(r,e)-G4(r,n))/(G4(r,t)-G4(r,n))},t}(B4),q4=H4,X4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,JZ.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):C4(n,this.mask)},t.prototype.scale=function(t){var n=t;return((0,eW.isString)(n)||(0,eW.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return M4(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if((0,eW.isNil)(t)&&(0,eW.isNumber)(t)||(this.min=this.translate(this.min)),(0,eW.isNil)(n)&&(0,eW.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],i=1/0,o=i,a=0;(0,eW.each)(e,(function(e){var t=M4(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");i>t?(o=i,i=t):o>t&&(o=t),a<t&&(a=t),r.push(t)})),e.length>1&&(this.minTickInterval=o-i),(0,eW.isNil)(t)&&(this.min=i),(0,eW.isNil)(n)&&(this.max=a)}},t}(U4),K4=X4,$4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,JZ.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),i=Math.floor(r*(n-1));if(i>=n-1)return(0,eW.last)(t);if(i<0)return(0,eW.head)(t);var o=t[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(t[i+1]-o)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,eW.last)(t)!==this.max&&t.push(this.max),(0,eW.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<(0,eW.head)(t))return 0;if(e>(0,eW.last)(t))return 1;var n=0;return(0,eW.each)(t,(function(t,r){if(!(e>=t))return!1;n=r})),n/(t.length-1)},t}(B4),Q4=$4,J4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,JZ.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(Q4),e5=J4,t5={};function n5(e,t){if(function(e){return t5[e]}(e))throw new Error("type '"+e+"' existed.");t5[e]=t}var r5=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,JZ.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,eW.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}(X3),i5=r5;function o5(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var a5=[1,5,2,2.5,4,3],s5=100*Number.EPSILON;function u5(e,t,n,r,i,o){var a=(0,eW.size)(t),s=(0,eW.indexOf)(t,e),u=0,c=function(e,t){return(e%t+t)%t}(r,o);return(c<s5||o-c<s5)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function c5(e,t,n){var r=(0,eW.size)(t);return 1-(0,eW.indexOf)(t,e)/(r-1)-n+1}function l5(e,t,n,r,i,o){var a=(e-1)/(o-i),s=(t-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function f5(e,t){return e>=t?2-(e-1)/(t-1):1}function d5(e,t,n,r){var i=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*i,2)}function h5(e,t,n){var r=t-e;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function p5(e,t,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=a5),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var c=0;c<i.length;c+=1){var l=i[c],f=c5(l,i,u);if(o[0]*f+o[1]+o[2]+o[3]<s.score){u=1/0;break}for(var d=2;d<1/0;){var h=f5(d,a);if(o[0]*f+o[1]+o[2]*h+o[3]<s.score)break;for(var p=(t-e)/(d+1)/u/l,v=Math.ceil(Math.log10(p));v<1/0;){var g=u*l*Math.pow(10,v),m=h5(e,t,g*(d-1));if(o[0]*f+o[1]*m+o[2]*h+o[3]<s.score)break;var y=Math.floor(t/g)*u-(d-1)*u,b=Math.ceil(e/g)*u;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var _=(y+w)*(g/u),E=_+g*(d-1),S=g,k=u5(l,i,u,_,E,S),C=d5(e,t,_,E),M=l5(d,a,e,t,_,E),O=o[0]*k+o[1]*C+o[2]*M+1*o[3];O>s.score&&(!r||_<=e&&E>=t)&&(s.lmin=_,s.lmax=E,s.lstep=S,s.score=O)}v+=1}d+=1}}u+=1}var N=o5(s.lmax),T=o5(s.lmin),A=o5(s.lstep),P=Math.floor(function(e){return Math.round(1e12*e)/1e12}((N-T)/A))+1,I=new Array(P);I[0]=o5(T);for(c=1;c<P;c++)I[c]=o5(I[c-1]+A);return{min:Math.min(e,(0,eW.head)(I)),max:Math.max(t,(0,eW.last)(I)),ticks:I}}function v5(e){var t=e.values,n=e.tickInterval,r=e.tickCount,i=t;if((0,eW.isNumber)(n))return(0,eW.filter)(i,(function(e,t){return t%n===0}));var o=e.min,a=e.max;if((0,eW.isNil)(o)&&(o=0),(0,eW.isNil)(a)&&(a=t.length-1),(0,eW.isNumber)(r)&&r<a-o){var s=p5(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,eW.filter)(s,(function(e){return e>=o&&e<=a})).map((function(e){return t[e]}))}return t.slice(o,a+1)}var g5=Math.sqrt(50),m5=Math.sqrt(10),y5=Math.sqrt(2),b5=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],o=(n=[a,o])[0],a=n[1]),(r=x5(s,u,e))>0?r=x5(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=x5(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(i=e,e=t,t=i);if(0===(a=x5(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function x5(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=g5?10:o>=m5?5:o>=y5?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=g5?10:o>=m5?5:o>=y5?2:1)}function w5(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function _5(e,t,n){var r=w5(e,n,"floor"),i=w5(t,n,"ceil");r=(0,eW.fixedBase)(r,n),i=(0,eW.fixedBase)(i,n);for(var o=[],a=r;a<=i;a+=n){var s=(0,eW.fixedBase)(a,n);o.push(s)}return{min:r,max:i,ticks:o}}function E5(e,t,n){var r,i=e.minLimit,o=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,c=void 0===u?5:u,l=(0,eW.isNil)(i)?(0,eW.isNil)(t)?a:t:i,f=(0,eW.isNil)(o)?(0,eW.isNil)(n)?s:n:o;if(l>f&&(f=(r=[l,f])[0],l=r[1]),c<=2)return[l,f];for(var d=(f-l)/(c-1),h=[],p=0;p<c;p++)h.push(l+d*p);return h}function S5(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var i=(t-e)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(t/a),u=Math.floor(e/a),c=Math.max(s*a,t),l=Math.min(u*a,e),f=Math.floor((c-l)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=o5(l+h*a);return{min:l,max:c,ticks:d}}function k5(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function C5(e){return new Date(e).getFullYear()}function M5(e){return new Date(e,0,1).getTime()}function O5(e){return new Date(e).getMonth()}function N5(e,t){return new Date(e,t,1).getTime()}H3("cat",v5),H3("time-cat",(function(e){var t=v5(e),n=(0,eW.last)(e.values);return n!==(0,eW.last)(t)&&t.push(n),t})),H3("wilkinson-extended",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.nice,o=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=p5(t,n,r,i).ticks;return(0,eW.isNil)(a)&&(0,eW.isNil)(s)?o?_5(t,n,o).ticks:u:E5(e,(0,eW.head)(u),(0,eW.last)(u))})),H3("r-pretty",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.tickInterval,o=e.minLimit,a=e.maxLimit,s=S5(t,n,r).ticks;return(0,eW.isNil)(o)&&(0,eW.isNil)(a)?i?_5(t,n,i).ticks:s:E5(e,(0,eW.head)(s),(0,eW.last)(s))})),H3("time",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickInterval,o=e.tickCount;if(i)o=Math.ceil((n-t)/i);else{var a=(n-t)/(i=R4(t,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var s=[],u=t;u<n+i;u+=i)s.push(u);return s})),H3("time-pretty",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickCount,o=e.tickInterval,a=[];o||(o=(n-t)/i,r&&o<r&&(o=r));var s=C5(t);if(o>I4)for(var u=C5(n),c=Math.ceil(o/I4),l=s;l<=u+c;l+=c)a.push(M5(l));else if(o>P4){var f=Math.ceil(o/P4),d=O5(t),h=function(e,t){var n=C5(e),r=C5(t),i=O5(e);return 12*(r-n)+(O5(t)-i)%12}(t,n);for(l=0;l<=h+f;l+=f)a.push(N5(s,l+d))}else if(o>A4){var p=(b=new Date(t)).getFullYear(),v=b.getMonth(),g=b.getDate(),m=Math.ceil(o/A4),y=function(e,t){return Math.ceil((t-e)/A4)}(t,n);for(l=0;l<y+m;l+=m)a.push(new Date(p,v,g+l).getTime())}else if(o>T4){p=(b=new Date(t)).getFullYear(),v=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/T4),_=function(e,t){return Math.ceil((t-e)/T4)}(t,n);for(l=0;l<=_+w;l+=w)a.push(new Date(p,v,m,x+l).getTime())}else if(o>N4){var E=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),S=Math.ceil(o/N4);for(l=0;l<=E+S;l+=S)a.push(t+l*N4)}else{var k=o;k<O4&&(k=O4);var C=Math.floor(t/O4)*O4,M=Math.ceil((n-t)/O4),O=Math.ceil(k/O4);for(l=0;l<M+O;l+=O)a.push(C+l*O4)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),H3("log",(function(e){var t,n=e.base,r=e.tickCount,i=e.min,o=e.max,a=e.values,s=V4(n,o);if(i>0)t=Math.floor(V4(n,i));else{var u=Z4(a,n,o);t=Math.floor(V4(n,u))}for(var c=s-t,l=Math.ceil(c/r),f=[],d=t;d<s+l;d+=l)f.push(Math.pow(n,d));return i<=0&&f.unshift(0),f})),H3("pow",(function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(G4(t,e.max));return S5(Math.floor(G4(t,e.min)),r,n).ticks.map((function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n}))})),H3("quantile",(function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(e,t){return e-t})),i=[],o=0;o<t;o++){var a=o/(t-1);i.push(k5(r,a))}return i})),H3("d3-linear",(function(e){var t=e.min,n=e.max,r=e.tickInterval,i=e.minLimit,o=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,i=e.tickCount,o=new b5;return o.domain([t,n]),r&&o.nice(i),o.ticks(i)}(e);return(0,eW.isNil)(i)&&(0,eW.isNil)(o)?r?_5(t,n,r).ticks:a:E5(e,(0,eW.head)(a),(0,eW.last)(a))})),n5("cat",$3),n5("category",$3),n5("identity",i5),n5("linear",U4),n5("log",Y4),n5("pow",q4),n5("time",K4),n5("timeCat",j4),n5("quantize",Q4),n5("quantile",e5);var T5=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function A5(e){return function(e){return(0,eW.map)(e,(function(e,t){return[0===t?"M":"L",e[0],e[1]]}))}(e)}function P5(e,t,n,r){void 0===r&&(r=!0);var i=new U4({values:e}),o=new $3({values:(0,eW.map)(e,(function(e,t){return t}))}),a=(0,eW.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]}));return r?function(e){if(e.length<=2)return A5(e);var t=[];(0,eW.each)(e,(function(e){(0,eW.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])}));var n=s$(t,!1),r=(0,eW.head)(e),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):A5(a)}function I5(e,t,n,r){void 0===r&&(r=5);for(var i=new U4({values:e}),o=new $3({values:(0,eW.map)(e,(function(e,t){return t}))}),a=(0,eW.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]})),s=[],u=0;u<a.length;u++){var c=a[u],l=R5({x:c[0],y:c[1],y0:n,size:r});s.push.apply(s,l)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var i=1,o=e.length;i<o;i++)n.push(["L",e[i].x,e[i].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function D5(e,t,n,r){var i=T5([],e,!0),o=function(e,t){var n=new U4({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return i.push(["L",t,o]),i.push(["L",0,o]),i.push(["Z"]),i}function R5(e){var t,n,r,i,o=e.x,a=e.y,s=e.y0,u=e.size;(0,eW.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),(0,eW.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var c=[{x:r,y:t},{x:r,y:n}];return c.push({x:i,y:n},{x:i,y:t}),c}var L5=function(){return L5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L5.apply(this,arguments)},j5={stroke:"#C5C5C5",strokeOpacity:.85},F5={fill:"#CACED4",opacity:.85},B5=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?200:o,s=e.height,u=void 0===s?26:s,c=e.smooth,l=void 0===c||c,f=e.isArea,d=void 0!==f&&f,h=e.data,p=void 0===h?[]:h,v=e.lineStyle,g=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=l,this.isArea=d,this.lineStyle=Object.assign({},j5,v),this.areaStyle=Object.assign({},F5,g),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height,o=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,c=e.areaStyle,l=this.group.addGroup({name:"trend-group"});if(o){var f=P5(o,r,i,a);if(l.addShape("path",{attrs:L5({path:f},u),name:"trend-line"}),s){var d=D5(f,r,i,o);l.addShape("path",{attrs:L5({path:d},c),name:"trend-area"})}}this.intervalConfig&&l.addShape("path",{attrs:L5({path:I5(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),l.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),z5=B5,U5=function(){return U5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U5.apply(this,arguments)},G5={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},V5={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Z5=function(){function e(e){var t=e.group,n=e.name,r=e.type,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.width,c=void 0===u?2:u,l=e.height,f=void 0===l?24:l,d=e.style,h=void 0===d?{}:d;this.group=t,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=c,this.height=f,"trend"===r?this.style=U5(U5({},G5),h):"simple"===r&&(this.style=U5(U5({},V5),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){(0,eW.isNumber)(e)&&(this.x=e),(0,eW.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,r=e.style,i=e.name,o=r.fill,a=r.stroke,s=r.radius,u=r.opacity,c=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:o,stroke:a,radius:s,opacity:u,cursor:c},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:c,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:c},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:c,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.topCircle.attr("fill",t)}))},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}))},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),W5=Z5,Y5="timebarstartplay",H5="timebarendplay",q5="valuechange",X5="timebarConfigChanged",K5="playPauseBtn",$5="nextStepBtn",Q5="preStepBtn",J5=function(){return J5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J5.apply(this,arguments)},e6=function(){function e(e){this.config=(0,eW.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=(0,eW.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,c=this.config.x+a,l=this.config.y+u,f=t.addGroup({name:K5});this.startMarkerGroup=f.addGroup({name:K5}),this.circle=t.addShape("circle",{attrs:J5({x:c,y:l,r:this.config.r*i},n),name:K5}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,l,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=f.addGroup({name:K5});var d=.25*this.config.r*i,h=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*i,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*i,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,i=void 0===r?0:r,o=e.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var c=.25*this.config.r*n,l=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-l/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",l),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-l/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",l)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),t6=e6,n6=function(){return n6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n6.apply(this,arguments)},r6=dW,i6={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},o6={fill:"#fff"},a6={fill:"green"},s6={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},u6={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},c6={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:s6,timeTypeControllerStyle:u6},l6=50,f6=function(){function e(e){this.controllerCfg=(0,eW.deepMix)({},c6,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,i=e.y,o=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,c=void 0===u?"green":u,l=e.containerStyle,f=void 0===l?{}:l,d=n6(n6({},i6),e.playBtnStyle||{}),h=n6(n6({},o6),e.preBtnStyle||{}),p=n6(n6({},a6),e.nextBtnStyle||{}),v=n/2-5,g=i+10,m=this.controllerGroup.addShape("rect",{attrs:n6({x:r,y:g,width:t,height:n,stroke:c,fill:s},f),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:g,r:v}):this.playButton=new t6({group:this.controllerGroup,x:t/2,y:g+v+5,r:v,isPlay:this.isPlay,style:d});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*v;this.controllerGroup.addShape("path",{attrs:n6({path:this.getPreMarkerPath(t/2-5*v+y,g+v+5+b,.5*x)},h),name:Q5});var w=p.offsetX||0,_=p.offsetY||0,E=(p.scale||1)*v;this.controllerGroup.addShape("path",{attrs:n6({path:this.getNextMarkerPath(t/2+5*v+w,g+v+5+_,.5*E)},p),name:$5}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var S=this.controllerCfg.scale,k=void 0===S?1:S,C=this.controllerGroup.getCanvasBBox(),M=(C.maxX+C.minX)/2,O=(C.maxY+C.minY)/2,N=r6([1,0,0,0,1,0,0,0,1],[["t",-M,-O],["s",k,k],["t",M,O]]);this.controllerGroup.setMatrix(N)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,i=n6(n6({},s6),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,c=i.pointer,l=void 0===c?{}:c,f=i.scale,d=void 0===f?1:f,h=i.offsetX,p=void 0===h?0:h,v=i.offsetY,g=void 0===v?0:v,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=t+this.speedAxisY[x],_=n-(r?l6:110);m.addShape("line",{attrs:n6({x1:_,x2:_+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:n6({x:n-(r?l6:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:n6({path:this.getPointerPath(n-(r?l6:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},l),name:"speed-pointer"});var E=this.speedGroup.getCanvasBBox(),S=(E.maxX+E.minX)/2,k=(E.maxY+E.minY)/2,C=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];C=r6(C,[["t",-S,-k],["s",d,d],["t",S+p*d,k+g*d]]),this.speedGroup.setMatrix(C)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=n6(n6({},u6),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,c=n.box,l=void 0===c?{}:c,f=n.check,d=void 0===f?{}:f,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:n6({x:t-l6,y:this.speedAxisY[0]+3.5},l),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:n6({path:[["M",t-l6+3,this.speedAxisY[1]+6],["L",t-l6+7,this.speedAxisY[1]+10],["L",t-l6+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:n6({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-l6+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var v=this.toggleGroup.getCanvasBBox(),g=(v.maxX+v.minX)/2,m=(v.maxY+v.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=r6(y,[["t",-g,-m],["s",i,i],["t",g+a*i,m+u*i]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",(function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),i=e.speedAxisY.indexOf(r[7]||0),o=e.speedAxisY.indexOf(n),a=e.speedAxisY[o]-e.speedAxisY[i];r=r6(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(X5,{speed:e.currentSpeed,type:e.currentType})})),this.speedGroup.on("mousewheel",(function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=e.speedAxisY.indexOf(r);if(-1===i){var o=1/0;e.speedAxisY.forEach((function(e,t){var n=Math.abs(e-r);o>n&&(o=n,i=t)}))}i=t.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(e.speedAxisY.length-1,i+1);var a=e.speedAxisY[i]-r;n=r6(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(X5,{speed:e.currentSpeed,type:e.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(t){var n,r,i=t.target.get("isChecked");i?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!i),e.group.emit(X5,{type:e.currentType,speed:e.currentSpeed})}))},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),d6=f6,h6=function(){return h6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h6.apply(this,arguments)},p6=dW,v6={fill:"#416180",opacity:.05},g6={fill:"#416180",opacity:.15,radius:5},m6={fill:"#5B8FF9",opacity:.3,cursor:"grab"},y6={width:2,height:24},b6={textBaseline:"middle",fill:"#000",opacity:.45},x6={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},w6={lineWidth:1,stroke:"#ccc"},_6=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=(0,eW.get)(r,"touches.0.pageX",r.pageX);var i=t.canvas.get("container");i.addEventListener("mousemove",t.onMouseMove),i.addEventListener("mouseup",t.onMouseUp),i.addEventListener("mouseleave",t.onMouseUp),i.addEventListener("touchmove",t.onMouseMove),i.addEventListener("touchend",t.onMouseUp),i.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=(0,eW.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,i=t.adjustOffsetRange(r/t.width);t.updateStartEnd(i),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?100:a,u=e.height,c=e.padding,l=void 0===c?10:c,f=e.trendCfg,d=e.controllerCfg,h=void 0===d?{speed:1}:d,p=e.backgroundStyle,v=void 0===p?{}:p,g=e.foregroundStyle,m=void 0===g?{}:g,y=e.handlerStyle,b=void 0===y?{}:y,x=e.textStyle,w=void 0===x?{}:x,_=e.start,E=void 0===_?0:_,S=e.end,k=void 0===S?1:S,C=e.minText,M=void 0===C?"":C,O=e.maxText,N=void 0===O?"":O,T=e.group,A=e.graph,P=e.canvas,I=e.tick,D=void 0===I?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:I,R=e.type;this.graph=A,this.canvas=P,this.group=T,this.timeBarType=R,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=l,this.ticks=D.ticks,this.trendCfg=f,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=D.tickLabelFormatter,"trend"===R?this.backgroundStyle=h6(h6({},v6),v):"simple"===R&&(this.backgroundStyle=h6(h6({},g6),v)),this.foregroundStyle=h6(h6({},m6),m),this.handlerStyle=h6(h6({},y6),b),this.textStyle=h6(h6({},b6),w),this.tickLabelStyle=h6(h6({},x6),D.tickLabelStyle),this.tickLineStyle=h6(h6({},w6),D.tickLineStyle),this.currentMode="range",this.start=E,this.end=k,this.minText=M,this.maxText=N,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,eW.assign)(this,{x:t,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this,n=t.width,r=t.height,i=t.timeBarType;if("trend"===i&&(0,eW.size)((0,eW.get)(this.trendCfg,"data"))){var o=new z5(h6(h6({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:h6({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:h6({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:h6({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:h6({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:h6({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:h6({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(e){e.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")}));var u=(0,eW.get)(this.handlerStyle,"width",2),c=(0,eW.get)(this.handlerStyle,"height",24),l=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new W5({name:"minHandlerShape",group:l,type:i,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var f=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new W5({name:"maxHandlerShape",group:f,type:i,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var d=this.ticks,h=n/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(e){e.destroy()}));var p=-1/0,v=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map((function(t,n){var i;e.tickPosList.push(e.x+n*h),e.tickLabelFormatter?(i=e.tickLabelFormatter(t),!(0,eW.isString)(i)&&i&&(i=t.date)):i=t.date;var o=e.x+n*h,a=e.y+r+5,s=e.group.addShape("text",{attrs:h6({x:o,y:a,text:i,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,eW.isNumber)(v)&&n!==d.length-1){var u=p6([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",v],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===n?s.attr({textAlign:"left"}):n!==d.length-1&&s.attr({textAlign:"right"});var c=e.group.addShape("line",{attrs:h6({x1:e.x+n*h,y1:e.y+r+2,x2:e.x+n*h,y2:e.y+r+6},e.tickLineStyle),name:"tick-line"});c.toBack();var l=s.getBBox();return l.minX>p?(s.show(),c.show(),p=l.minX+l.width+10):(s.hide(),c.hide()),s})),this.controllerBtnGroup=new d6(h6({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(K5,":click"),(function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()})),this.group.on("".concat($5,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()})),this.group.on("".concat(Q5,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()})),this.group.on(X5,(function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())}))},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=(0,eW.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,n]),o=i[0],a=i[1];this.minHandlerShape.setX(t-r/2),(0,eW.each)(o,(function(t,n){return e.minTextShape.attr(n,t)})),this.maxHandlerShape.setX(n-r/2),(0,eW.each)(a,(function(t,n){return e.maxTextShape.attr(n,t)})),"range"===this.currentMode?this.graph.emit(q5,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(q5,{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=(0,eW.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],i=(n=[o,i])[0],o=n[1],u=!0);var c=i.getBBox(),l=o.getBBox(),f=null,d=null;return"trend"===this.timeBarType?(f=a-c.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+l.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(f=i.attr("x")>c.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-l.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,f]:[f,d]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e,n=t.ticks,r=t.width,i=e.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=e.adjustOffsetRange(o/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Y5,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(H5,null))},e.prototype.destory=function(){this.graph.off(q5);var e=this.group,t=e.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(K5,":click")),e.off("".concat($5,":click")),e.off("".concat(Q5,":click")),e.off(X5),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),E6=_6,S6=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,c=e.className,l=void 0===c?"g6-component-timebar-tooltip":c,f=e.backgroundColor,d=void 0===f?"#000":f,h=e.textColor,p=void 0===h?"#fff":h,v=e.opacity,g=void 0===v?.8:v,m=e.fontSize,y=void 0===m?12:m;this.container=o,this.className=l,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=g,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this,t=e.className,n=(e.x,e.y,e.backgroundColor),r=e.textColor,i=e.text,o=e.padding,a=e.opacity,s=e.fontSize,u=e.container,c=i3("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,eW.isString)(u)&&(u=document.getElementById(u)),u.appendChild(c),e.parentHeight=u.offsetHeight,e.parentWidth=u.offsetWidth,d3(c,{visibility:"hidden",top:0,left:0});var l=i3("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));l.innerHTML=i,c.appendChild(l),e.backgroundDOM=l;var f=i3("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));c.appendChild(f),e.arrowDOM=f,e.container=c},e.prototype.show=function(e){var t=this,n=e.text,r=e.x;e.y,e.clientX,e.clientY;t.backgroundDOM.innerHTML=n;var i=t.backgroundDOM.offsetWidth,o=t.backgroundDOM.offsetHeight,a=t.arrowDOM.offsetWidth,s=t.arrowDOM.offsetHeight;d3(t.container,{top:"".concat(-o-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),d3(t.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),d3(t.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(o,"px")});var u=r-i/2,c=r+i/2;u<0?d3(t.backgroundDOM,{marginLeft:"".concat(-i/2-u,"px")}):c>t.parentWidth&&d3(t.backgroundDOM,{marginLeft:"".concat(-i/2-c+t.parentWidth+12,"px")})},e.prototype.hide=function(){d3(this.container,{top:0,left:0,visibility:"hidden"})},e}(),k6=S6,C6=function(){return C6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C6.apply(this,arguments)},M6=dW,O6={fill:"#5B8FF9"},N6={fill:"#e6e8e9"},T6=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,i=e.width,o=e.height,a=e.padding,s=e.data,u=e.start,c=e.end,l=e.x,f=void 0===l?0:l,d=e.y,h=void 0===d?0:d,p=e.tickLabelFormatter,v=e.selectedTickStyle,g=void 0===v?O6:v,m=e.unselectedTickStyle,y=void 0===m?N6:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,w=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=c,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=g,this.unselectedTickStyle=y,this.x=f,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,i=t.padding,o=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,c=t.selectedTickStyle,l=t.unselectedTickStyle,f=t.tickLabelStyle,d=n-2*i,h=r-(3*i+4+10)-2*i,p=o.length,v=(d-2*(p-1))/p;this.tickWidth=v;var g=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=f.rotate;delete f.rotate,o.forEach((function(t,r){var o=r>=b&&r<=x?c:l,a=g.addShape("rect",{attrs:C6({x:i+r*(v+2),y:i,width:v,height:h},o),draggable:!0,name:"tick-rect-".concat(r)}),s=g.addShape("rect",{attrs:{x:i+r*v+2*(2*r-1)/2,y:i,width:0===r||r===p-1?v+1:v+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,_=a.getBBox(),E=(_.minX+_.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:E,y:_.minY}),u?(d=u(t),!(0,eW.isString)(d)&&d&&(d=t.date)):r%Math.round(p/10)===0&&(d=t.date),d){y.push(d);var S=_.maxY+2*i;g.addShape("line",{attrs:{stroke:"#BFBFBF",x1:E,y1:S,x2:E,y2:S+4},name:"tick-line"});var k=S+4+i,C=g.addShape("text",{attrs:C6({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:E,y:k,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},f),capture:!1,name:"tick-label"}),M=C.getBBox();if(M.maxX>n?C.attr("textAlign","right"):M.minX<0&&C.attr("textAlign","left"),(0,eW.isNumber)(w)&&10!==y.length){var O=M6([1,0,0,0,1,0,0,0,1],[["t",-E,-k],["r",w],["t",E-5,k+2]]);C.attr({textAlign:"left",matrix:O})}1===y.length?C.attr({textAlign:"left"}):10===y.length&&C.attr({textAlign:"right"})}})),this.tickRects=m;var _=this.group;this.currentSpeed=1,this.controllerBtnGroup=new d6({group:_,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",(function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=e.tickRects,o=e.unselectedTickStyle;i.forEach((function(e){e.rect.attr(o)}));var a=e.selectedTickStyle;i[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/i.length;e.graph.emit(q5,{value:[s,s]})}}})),t.on("dragstart",(function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach((function(e){e.rect.attr(r)}));var i=t.target,o=parseInt(i.get("name").split("-")[2],10),a=e.selectedTickStyle;n[o].rect.attr(a),e.startTickRectId=o;var s=o/n.length;e.graph.emit(q5,{value:[s,s]}),e.dragging=!0})),t.on("dragover",(function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,i=e.tickRects,o=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var c=i.length;e.endTickRectId=n;var l=r/c,f=n/c;e.graph.emit(q5,{value:[l,f]})}})),t.on("drop",(function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var i=e.selectedTickStyle,o=e.tickRects;o[r].rect.attr(i),e.endTickRectId=r;var a=o.length,s=n/a,u=r/a;e.graph.emit(q5,{value:[s,u]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,a=new k6({container:o.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(e){var t=e.pickRect;t.on("mouseenter",(function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),r=o.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:i?i(s[n].value):s[n].value})}})),t.on("mouseleave",(function(e){a.hide()}))}));var u=this.group;u.on("".concat(K5,":click"),(function(){e.isPlay=!e.isPlay,e.changePlayStatus()})),u.on("".concat($5,":click"),(function(){e.updateStartEnd(1)})),u.on("".concat(Q5,":click"),(function(){e.updateStartEnd(-1)})),u.on(X5,(function(t){t.type;var n=t.speed;e.currentSpeed=n}))},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Y5,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(H5,null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(i),t.endTickRectId--),a!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var s=t.startTickRectId;s<=t.endTickRectId-1;s++)n[s].rect.attr(i);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/r,c=t.endTickRectId/r;this.graph.emit(q5,{value:[u,c]})}},e.prototype.destory=function(){this.graph.off(q5);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach((function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")})),this.tickRects.length=0,e.off("".concat(K5,":click")),e.off("".concat($5,":click")),e.off("".concat(Q5,":click")),e.off(X5),this.sliceGroup.destroy()},e}(),A6=T6,P6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I6=function(){return I6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I6.apply(this,arguments)},D6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},R6=function(e){function t(t){return e.call(this,t)||this}return P6(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?((0,eW.isString)(s)&&(s=document.getElementById(s)),e=s):d3(e=i3("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new K1({container:e,width:i,height:o}):new Z0({container:e,width:i,height:o}),this.get("containerCSS")&&d3(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,i=t.y,o=t.padding,a=t.type,s=t.trend,u=t.slider,c=t.controllerCfg,l=t.textStyle,f=t.tick,d=t.backgroundStyle,h=t.foregroundStyle,p=s.data,v=D6(s,["data"]),g=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var _=this.get("getValue");w=new E6(I6(I6({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:g,height:m,padding:o,backgroundStyle:d,foregroundStyle:h,trendCfg:I6(I6({},v),{data:p.map((function(e){return(null===_||void 0===_?void 0:_(e))||e.value}))})},u),{tick:{ticks:p,tickLabelFormatter:f.tickLabelFormatter,tickLabelStyle:f.tickLabelStyle,tickLineStyle:f.tickLineStyle},handlerStyle:I6(I6({},u.handlerStyle),{height:u.height||m}),controllerCfg:c,textStyle:l}))}else"tick"===a&&(w=new A6(I6({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2},f)));var E=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",(function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==w.foregroundShape||document.addEventListener("mouseup",E)})),this.set("timebar",w)},t.prototype.filterData=function(e){var t,n=e.value,r=null,i=this._cfgs.type;if("trend"===i||"simple"===i?r=this._cfgs.trend.data:"tick"===i&&(r=this._cfgs.tick.data),r&&0!==r.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var c=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,l=c?c(r[s]):r[s].date,f=c?c(r[u]):r[u].date;if("tick"!==i)this.get("timebar").setText(l,f);if(o)o(a,l,f);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),v=this.get("shouldIgnore"),g=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){y=y.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=g&&t<=m||(null===v||void 0===v?void 0:v("node",e,{min:g,max:m}))}));var x=y.map((function(e){return e.id}));b&&(b=b.filter((function(e){return x.includes(e.source)&&x.includes(e.target)||(null===v||void 0===v?void 0:v("edge",e,{min:g,max:m}))})))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=g&&t<=m||(null===v||void 0===v?void 0:v("edge",e,{min:g,max:m}))}))),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach((function(e){var t=e.getModel();if(!(null===v||void 0===v?void 0:v("node",t,{min:g,max:m}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<g||n>m?a.hideItem(e):a.showItem(e)}})),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach((function(e){var t=e.getModel();if(!(null===v||void 0===v?void 0:v("edge",t,{min:r[s].date,max:r[u].date}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}}))}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",(function(r){e.filterData({value:[t,n]})})),i.on(q5,(0,eW.throttle)((function(t){e.filterData(t)}),200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,eW.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(p3),L6=R6,j6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F6=dJ.applyMatrix;var B6=function(e){function t(t){return e.call(this,t)||this}return j6(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");(0,eW.isString)(r)&&(r=document.getElementById(r));var i=i3("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),o=0,a=0,s=!1,u=0,c=0,l=0,f=0,d=0,h=0;r.addEventListener("mousedown",(function(r){if(t.refresh=!1,r.target===i){var u=i.style;l=parseInt(u.width,10),f=parseInt(u.height,10);var c=e.get("width"),p=e.get("height");l>c||f>p||(h=n.getZoom(),d=e.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(t){if(s&&!(0,eW.isNil)(t.clientX)&&!(0,eW.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),v=i.style;u=parseInt(v.left,10),c=parseInt(v.top,10),l=parseInt(v.width,10),f=parseInt(v.height,10);var g=o-t.clientX,m=a-t.clientY;u-g<0?g=u:u-g+l>=r&&(g=0),c-m<0?m=c:c-m+f>=p&&(m=0),c-=m,d3(i,{left:"".concat(u-=g,"px"),top:"".concat(c,"px")}),n.translate(g*h/d,m*h/d),o=t.clientX,a=t.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,t.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,t.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],c=[s.maxX-s.minX,s.maxY-s.minY],l={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(l.width=c[0],l.height=l.width/o):(l.height=c[1],l.width=l.height*o),l.minX=u[0]-l.width/2,l.minY=u[1]-l.height/2;var f=a.getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]);var d=sW.invert([1,0,0,0,1,0,0,0,1],f),h=F6({x:l.minX,y:l.minY},d),p=r.getCanvasByPoint(h.x,h.y),v=this.get("viewport");v||this.initViewport();var g=i/l.width,m=g*t,y=g*n,b=t*-p.x/l.width,x=n*-p.y/l.height,w=b+m,_=x+y;b<0&&(m+=b,b=0),w>t&&(m-=w-t),x<0&&(y+=x,x=0),_>n&&(y-=_-n),this.set("ratio",e),d3(v,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=t.get("width"),r=t.get("height")/n,i=e.get("className"),o=e.get("container"),a=e.get("width"),s=e.get("height");a||s||(a=200),a?(s=r*a,e.set("height",s)):(a=1/r*s,e.set("width",a));var u=i3("<div class='".concat(i,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,eW.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(u):t.get("container").appendChild(u),e.set("container",u);var c=i3('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(c);var l=i3('<span style="display: table-cell; vertical-align: middle; "></span>');c.appendChild(l),e.set("containerDOM",c),e.set("containerSpan",l);var f=i3('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",f),e.updateImgSize(),l.appendChild(f),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,t=e.get("imgDOM"),n=e.get("width"),r=e.get("height");t.onload=function(){var e=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t&&t(i.width,i.height)}}return[n,r]}(t);e[0]>e[1]?t.width=n:t.height=r}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var t=this;t.get("imgDOM").remove(),t.set("graphImg",e);var n=i3('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));t.set("imgDOM",n),n.src=e,t.updateImgSize(),t.get("containerSpan").appendChild(n),t.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(p3),z6=B6,U6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G6=function(){return G6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G6.apply(this,arguments)},V6=dJ.distance,Z6={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},W6=function(e){function t(t){return e.call(this,t)||this}return U6(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,eW.clone)(Z6),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,t=e.get("showLabel"),n="node"===t||"both"===t,r="edge"===t||"both"===t;e.set("showNodeLabel",n),e.set("showEdgeLabel",r),e.get("shouldShow")||e.set("shouldShow",(function(){return!0}))},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",(function(e){})),n.on("drag",(function(e){t.filter(e)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(e){t.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var o=t.get("maxR"),a=t.get("minR"),s=t.get("r");(s>(o||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,t.set("r",s),t.filter(e)}},t.prototype.filter=function(e){var t=this,n=t.get("graph"),r=n.getNodes(),i={},o=t.get("r"),a=t.get("type"),s={x:e.x,y:e.y};t.updateDelegate(s,o);var u=t.get("shouldShow"),c=t.get("vShapes");c&&c.forEach((function(e){e.remove(),e.destroy()})),c=[],r.forEach((function(e){var t=e.getModel(),n=t.x,r=t.y;V6({x:n,y:r},s)<o&&(i[t.id]=e)}));var l=n.getEdges(),f=[];l.forEach((function(e){var t=e.getModel(),n=t.source,r=t.target;u(t)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&f.push(e):"only-target"===a||"one"===a?i[r]&&!i[n]&&f.push(e):"both"===a&&i[n]&&i[r]&&f.push(e))}));var d=t.get("showNodeLabel"),h=t.get("showEdgelabel"),p=n.get("group");f.forEach((function(e){e.get("group").get("children").forEach((function(e){var t=e.get("type"),n=p.addShape(t,{attrs:e.attr()});c.push(n),d&&"text"===t&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(e){var t=i[e].get("group").clone();if(p.add(t),c.push(t),h)for(var n=t.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}})),t.set("vShapes",c)},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.trigger,i=e.minR,o=e.maxR,a=e.scaleRBy,s=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||t.set("r",n),isNaN(o)||t.set("maxR",o),isNaN(i)||t.set("minR",i),"mousemove"!==r&&"click"!==r||t.set("trigger",r),"wheel"===a||"unset"===a){t.set("scaleRBy",a),t.get("delegate").remove(),t.get("delegate").destroy();var c=t.get("dPercentText");c&&(c.remove(),c.destroy())}"node"!==s&&"both"!==s||t.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||t.set("showEdgeLabel",!0),u&&t.set("shouldShow",u)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||Z6;i=o.addShape("circle",{attrs:G6({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(e){n.scaleRByWheel(e)}))}else i.attr({x:e.x,y:e.y,r:t});n.set("delegate",i)},t.prototype.clear=function(){var e=this,t=e.get("vShapes");t&&t.forEach((function(e){e.remove(),e.destroy()})),t=[],e.set("vShapes",t);var n=e.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(p3),Y6=W6,H6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q6=dJ.pointLineDistance,X6={stroke:"#FA8C16",lineWidth:1},K6=function(e){function t(t){return e.call(this,t)||this}return H6(t,e),t.prototype.getDefaultCfgs=function(){return{line:X6,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach((function(e){var i=e.getBBox(),o=e.get("id");!0===r||"horizontal"===r?(t["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,e],t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e],t["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,e]):"center"===r&&(t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,e],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,e]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e])}))},t.prototype.show=function(e,t){var n=(0,eW.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+t.width/2,y:n.y},c={x:n.x+t.width/2,y:n.y+t.height/2},l={x:n.x+t.width/2,y:n.y+t.height},f={x:n.x,y:n.y+t.height/2},d={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],v=null;if(this.clearAlignLine(),(0,eW.each)(o,(function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,c)),h.push(r.getLineDisObject(e,l)))})),(0,eW.each)(a,(function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,f)),p.push(r.getLineDisObject(e,c)),p.push(r.getLineDisObject(e,d)))})),h.sort((function(e,t){return e.dis-t.dis})),p.sort((function(e,t){return e.dis-t.dis})),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,v={type:"item",horizontals:[h[0]]};for(var g=1;g<3;g++)h[0].dis===h[g].dis&&v.horizontals.push(h[g])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,v?v.verticals=[p[0]]:v={type:"item",verticals:[p[0]]};for(g=1;g<3;g++)p[0].dis===p[g].dis&&v.verticals.push(p[g])}v&&(v.bbox=t,this.addAlignLine(v))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,i=e.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&(0,eW.each)(r,(function(e){var n,r,i=e.line,o=e.point,c=(i[0]+i[2])/2;o.x<c?(n=o.x-t.width/2,r=Math.max(i[0],i[2])):(n=o.x+t.width/2,r=Math.min(i[0],i[2]));var l=(0,eW.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)})),i&&(0,eW.each)(i,(function(e){var n,r,i=e.line,o=e.point,c=(i[1]+i[3])/2;o.y<c?(n=o.y-t.height/2,r=Math.max(i[1],i[3])):(n=o.y+t.height/2,r=Math.min(i[1],i[3]));var l=(0,eW.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)})))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:q6(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,eW.each)(e,(function(e){e.remove()})),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach((function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},t}(p3),$6=K6,Q6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J6=function(){return J6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J6.apply(this,arguments)},e8=["click","mouseenter"],t8=function(e){function t(t){return e.call(this,t)||this}return Q6(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),i=i3("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();d3(i,this.getContainerPos(o)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return o.forEach((function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,o="top";break;default:r=t.getWidth()-e[0]-r+0,o="left"}s[o]=r})),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach((function(e){s[e]="".concat(s[e],"px")})),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";e8.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(t){return e.filterData(t)})),r.on("node-container:mouseleave",(function(t){e.clearFilter(),e.clearActiveLegend()}))):(r.on("node-container:click",(function(t){return e.filterData(t)})),r.on("click",(function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();d3(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(e){e.set("inactive",!0)})):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.lengedStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(J6(J6({},n.get("oriAttrs")),i)),r.attr(J6(J6({},r.get("oriAttrs")),o))}));var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(J6(J6({},n.get("oriAttrs")),a)),r.attr(J6(J6({},r.get("oriAttrs")),s))}))},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")}));return"node"===t?i.get("children").filter((function(t){return!!t.get(e)===n})):"edge"===t?o.get("children").filter((function(t){return!!t.get(e)===n})):i.get("children").filter((function(t){return!!t.get(e)===n})).concat(o.get("children").filter((function(t){return!!t.get(e)===n})))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find((function(e){return"root"===e.get("name")}));[e.find((function(e){return"node-group"===e.get("name")})),e.find((function(e){return"edge-group"===e.get("name")}))].forEach((function(e){e.get("children").forEach((function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find((function(e){return"root"===e.get("name")})),c=u.find((function(e){return"node-group"===e.get("name")})),l=u.find((function(e){return"edge-group"===e.get("name")})),f=c.get("children").filter((function(e){return e.get("active")})),d=l.get("children").filter((function(e){return e.get("active")})),h=0,p=["getNodes","getEdges"];p.forEach((function(e){i[e]().forEach((function(t){var r=!1;("getNodes"===e?f:d).forEach((function(e){var i=n[e.get("id")];r=r||i(t.getModel())})),r?(i.setItemState(t,a,!1),i.setItemState(t,o,!0),h++):(i.setItemState(t,o,!1),i.setItemState(t,a,!0))}))})),h||p.forEach((function(e){i[e]().forEach((function(e){i.clearItemStates(e,[a])}))}))}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach((function(t){e.clearItemStates(t,[n,r])})),e.getEdges().forEach((function(t){e.clearItemStates(t,[n,r])}))}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");if(!t){var n=(t=new Z0({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",t)}var r=t.find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")})),a=this.get("itemsData"),s=[i,o];["nodes","edges"].forEach((function(t,n){a[t].forEach((function(r){var i,o,a=s[n].addGroup({id:r.id,name:"node-container"}),u=r.type,c=e.getShapeSize(r),l=c.width,f=c.height,d=c.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":default:o={r:d,x:0,y:0};break;case"rect":o={width:l,height:f,x:-l/2,y:-f/2};break;case"ellipse":o={r1:l,r2:f,x:0,y:0};break;case"line":o={x1:-l/2,y1:0,x2:l/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-l/2,0],["Q",0,l/2,l/2,0]]},u="path";break;case"cubic":o={path:[["M",-l/2,0],["C",-l/6,l/2,l/6,-l/2,l/2,0]]},u="path"}var p=a.addShape(u,{attrs:J6(J6({},o),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:J6({opacity:1},h)});if(r.label){var v=p.getBBox(),g=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},m=J6({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},g);a.addShape("text",{attrs:J6({x:v.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}}))}));var u,c=this.get("padding"),l=r.find((function(e){return"title-container"===e.get("name")})),f={height:0,maxY:0,width:0};if(this.get("title")){l||(l=r.addGroup({name:"title-container"}));var d={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},h=this.get("titleConfig")||{},p=Object.assign(d,h.style||{});u=l.addShape("text",{attrs:J6({text:this.get("title")},p)}),f=l.getCanvasBBox(),l.setMatrix([1,0,0,0,1,0,h.offsetX,h.offsetY,1])}this.layoutItems();var v=r.getCanvasBBox(),g=i.getCanvasBBox(),m=g.minX<0?Math.abs(g.minX)+c[3]:c[3],y=f.maxY<g.minY?Math.abs(f.maxY-g.minY)+c[0]:f.maxY+c[0],b=[1,0,0,0,1,0,m,y,1];i.setMatrix(b);var x=[(v=r.getCanvasBBox()).minX+v.width+c[1],v.minY+v.height+c[2]];if(u){h=J6({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));f=l.getCanvasBBox();var w=l.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===h.position?w[6]=x[0]/2+h.offsetX:"right"===h.position?(w[6]=x[0]-c[3]+h.offsetX,u.attr({textAlign:"right"})):(w[6]=c[3]+h.offsetX,u.attr({textAlign:"left"})),l.setMatrix(w),f=l.getCanvasBBox(),b=[1,0,0,0,1,0,m=g.minX<0?Math.abs(g.minX)+c[3]:c[3],y=g.minY<f.maxY?Math.abs(f.maxY-g.minY)+c[0]:f.maxY+c[0],1],i.setMatrix(b);var _=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?_[6]+=g.maxX+this.get("horiSep"):_[7]+=g.maxY+this.get("vertiSep"),o.setMatrix(_)}else{g=i.getCanvasBBox();var E=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?E[6]+=b[6]+g.maxX+this.get("horiSep"):E[7]+=b[7]+g.maxY+this.get("vertiSep"),o.setMatrix(E)}v=r.getCanvasBBox(),g=i.getCanvasBBox(),b=i.getMatrix()||[1,0,0,0,1,0,0,0,1];var S=o.getMatrix()||[1,0,0,0,1,0,0,0,1],k=o.getCanvasBBox();x=[Math.max(g.width+b[6],k.width+S[6])+c[1],Math.max(g.height+b[7],k.height+S[7])+c[2]],t.changeSize(x[0],x[1]);var C=this.get("containerStyle"),M=r.getMatrix()||[1,0,0,0,1,0,0,0,1],O=dJ.invertMatrix({x:0,y:0},M);return r.addShape("rect",{attrs:J6({x:O.x+(C.lineWidth||1),y:O.y+(C.lineWidth||1),width:x[0]-2*(C.lineWidth||1),height:x[1]-2*(C.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},C),name:"legend-back-rect",capture:!1}).toBack(),x},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=e.find((function(e){return"root"===e.get("name")})),s=a.find((function(e){return"node-group"===e.get("name")})),u=a.find((function(e){return"edge-group"===e.get("name")})),c={min:0,max:-1/0},l=-1/0;s.get("children").forEach((function(e,i){0===i&&(c.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),f=u.width,d=u.height,h=0,p=0,v=0;"vertical"===r?(p=o[1],v=o[0]+f/2,o[0]=v+s.height+n,h=s.maxX+p+f/2):(p=o[0]+f/2,v=o[1],o[0]=p+s.width+t,h=s.maxY+v+d/2),o[0]>c.max&&(c.max=o[0]),h>l&&(l=h),e.setMatrix([1,0,0,0,1,0,p,v,1])}));var f=c.max-c.min,d={min:0,max:-1/0},h=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach((function(e,i){0===i&&(d.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),c=u.width,l=u.height,f=0,h=0;"vertical"===r?(f=o[1],h=o[0],o[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+l/2,1])):(f=o[0],h=o[1],o[0]=f+s.width+t,e.setMatrix([1,0,0,0,1,0,f+c/2,0,1])),o[0]>d.max&&(d.max=o[0])}));var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var v=f-p,g="center"===i?Math.abs(v)/2:Math.abs(v);(v<0?s:u).get("children").forEach((function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=g:t[6]+=g,e.setMatrix(t)}))}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort((function(e,t){return e.order-t.order})),e.nodes.forEach((function(e){var n,r,i,o,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(i=e.style)||void 0===i?void 0:i.height)||(null===(o=e.style)||void 0===o?void 0:o.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||(0,eW.uniqueId)(),type:e.type||"circle",style:J6({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:J6({fontFamily:"Arial"},u)}})}))),e.edges&&(e.edges.sort((function(e,t){return e.order-t.order})),e.edges.forEach((function(e){var n,r,i=e.type||"line";"cubic-horizontal"===e.type&&(i="cubic");var o=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||(0,eW.uniqueId)(),type:i,size:a,style:J6({lineWidth:(0,eW.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:J6({fontFamily:"Arial"},o)}})}))),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if((0,eW.isNumber)(t))this.set(e,[t,t,t,t]);else if((0,eW.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&((0,eW.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):(0,eW.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return J6(J6({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(p3),n8={PluginBase:p3,Menu:E3,Grid:y3,Minimap:N3,Bundling:D3,ToolBar:G3,Tooltip:W3,Fisheye:B3,TimeBar:L6,ImageMinimap:z6,EdgeFilterLens:Y6,SnapLine:$6,Legend:t8};mJ("circle",{options:{size:wJ.defaultNode.size,style:{x:0,y:0,stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,eW.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=o.width,c=o.height,l=o.show,f=o.text;if(l){var d="".concat(this.type,"-icon");t.shapeMap[d]=f?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)({x:-u/2,y:-c/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,JZ.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e)[0]/2;if(o){var d="link-point-left";t.shapeMap[d]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:-f,y:0,r:u/2||c||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:f,y:0,r:u/2||c||5}),className:h,name:h,isAnchorPoint:!0})}if(i){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:-f,r:u/2||c||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var v="link-point-bottom";t.shapeMap[v]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:f,r:u/2||c||5}),className:v,name:v,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,JZ.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getSize(e),o=(0,JZ.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(o.stroke=e.color),void 0!==e.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(e,t,o,!0,n),this.updateLinkPoints(e,r)}},"single-node"),mJ("rect",{options:{size:[100,30],style:{radius:0,stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,JZ.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,JZ.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a=t.get("keyShape");e.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,eW.mix)({},i,a.attr(),s);u=(0,eW.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),mJ("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,JZ.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0]/2,h=f[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:-d,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:d,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:-h,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:h,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getSize(e),o=i[0]/2,a=i[1]/2;return(0,JZ.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a={stroke:e.color,rx:o[0]/2,ry:o[1]/2},s=t.get("keyShape"),u=(0,eW.mix)({},i,s.attr(),a);u=(0,eW.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),mJ("diamond",{options:{size:[80,80],style:{stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,JZ.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getPath(e);return(0,JZ.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,eW.mix)({},i,s.attr(),a);u=(0,eW.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),mJ("triangle",{options:{size:40,direction:"up",style:{stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(e),s=e.direction||o,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=i.width,l=i.height,f=i.show,d=i.offset,h=i.text;if(f)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-c/2,v=-l/2;"up"!==s&&"down"!==s||(v+=d),"left"!==s&&"right"!==s||(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,JZ.__assign)({x:p,y:v},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=e.direction||o,s=i.top,u=i.left,c=i.right,l=i.bottom,f=i.size,d=i.r,h=(0,JZ.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var v=null,g=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?v=[-m,g]:"down"===a?v=[-m,-g]:"left"===a&&(v=[-m,m-g]),v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},h),{x:v[0],y:v[1],r:f/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var y=null;g=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,g]:"down"===a?y=[m,-g]:"right"===a&&(y=[m,m-g]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},h),{x:y[0],y:y[1],r:f/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var b=null;g=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?b=[m-g,-g]:"left"===a?b=[m,-g]:"right"===a&&(b=[-m,-g]),b&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},h),{x:b[0],y:b[1],r:f/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(l){var x=null;g=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?x=[-m+g,g]:"left"===a?x=[m,g]:"right"===a&&(x=[-m,g]),x&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},h),{x:x[0],y:x[1],r:f/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getPath(e);return(0,JZ.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,eW.mix)({},i,s.attr(),a);u=(0,eW.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=e.direction||i,a=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),s=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),u=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),c=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")})),l=r,f=a||s||u||c;f&&(l=f.attr());var d=(0,eW.mix)({},l,e.linkPoints),h=d.fill,p=d.stroke,v=d.lineWidth,g=d.size/2;g||(g=d.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,b=m.right,x=m.top,w=m.bottom,_=this.getSize(e)[0],E={r:g,fill:h,stroke:p,lineWidth:v},S=null,k=_*Math.sin(1/3*Math.PI),C=_*Math.sin(1/3*Math.PI);"up"===o?S=[-C,k]:"down"===o?S=[-C,-k]:"left"===o&&(S=[-C,C-k]),S&&(a?y||void 0===y?a.attr((0,JZ.__assign)((0,JZ.__assign)({},E),{x:S[0],y:S[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},E),{x:S[0],y:S[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var M=null;"up"===o?M=[C,k]:"down"===o?M=[C,-k]:"right"===o&&(M=[C,C-k]),M&&(s?b||void 0===b?s.attr((0,JZ.__assign)((0,JZ.__assign)({},E),{x:M[0],y:M[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},E),{x:M[0],y:M[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var O=null;"up"===o?O=[C-k,-k]:"left"===o?O=[C,-k]:"right"===o&&(O=[-C,-k]),O&&(u?x||void 0===x?u.attr((0,JZ.__assign)((0,JZ.__assign)({},E),{x:O[0],y:O[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},E),{x:O[0],y:O[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var N=null;"down"===o?N=[-C+k,k]:"left"===o?N=[C,k]:"right"===o&&(N=[-C,k]),N&&(c?w||void 0===w?c.attr((0,JZ.__assign)((0,JZ.__assign)({},E),{x:N[0],y:N[1]})):(c.remove(),delete t.shapeMap["link-point-bottom"]):w&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},E),{x:N[0],y:N[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),mJ("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:wJ.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:wJ.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:wJ.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=this.getSize(e),a=o[0],s=o[1],u=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=r.show,l=(0,JZ.__rest)(r,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,JZ.__assign)({x:-a/2,y:-s/2,height:s},l),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=(0,JZ.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=l?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:s||-i/2+o+c,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=(0,JZ.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=l?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:s||i/2-o+c,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,JZ.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e)[0],l=null,f=a.show,d=a.width,h=-c/2+i.offset;f&&(h=-c/2+d+i.offset);var p=i.style,v=u.style,g=u.paddingTop;return(0,eW.isString)(e.description)?(l=t.addShape("text",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},v),{x:h,y:17+(g||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(l=t.addShape("text",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l),l},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,JZ.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e),l=c[0],f=c[1];t.get("keyShape").attr((0,JZ.__assign)((0,JZ.__assign)({},i),{x:-l/2,y:-f/2,width:l,height:f}));var d=t.getContainer(),h=d.shapeMap["rect-logo-icon"]||d.find((function(e){return"rect-logo-icon"===e.get("className")})),p=h?h.attr():{},v=(0,eW.mix)({},p,e.logoIcon),g=v.width;void 0===g&&(g=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,b=-l/2+g+y;m||void 0===m||(b=-l/2+y);var x=d.shapeMap["node-label"]||d.find((function(e){return"node-label"===e.get("className")})),w=d.shapeMap["rect-description"]||d.find((function(e){return"rect-description"===e.get("className")}));if(e.label)if(x){var _=e.labelCfg?e.labelCfg.style:{},E=(0,eW.mix)({},x.attr(),_);e.label&&(E.text=e.label),E.x=b,(0,eW.isString)(e.description)&&(E.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(E)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},a.style),{x:b,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,eW.isString)(e.description)){var S=u.paddingTop;if(w){_=e.descriptionCfg?e.descriptionCfg.style:{};var k=(0,eW.mix)({},w.attr(),_);(0,eW.isString)(e.description)&&(k.text=e.description),k.x=b,w.resetMatrix(),w.attr((0,JZ.__assign)((0,JZ.__assign)({},k),{y:17+(S||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},u.style),{x:b,y:17+(S||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var C=d.shapeMap["pre-rect"]||d.find((function(e){return"pre-rect"===e.get("className")}));if(C&&!C.destroyed){var M=(0,eW.mix)({},C.attr(),e.preRect);C.attr((0,JZ.__assign)((0,JZ.__assign)({},M),{x:-l/2,y:-f/2,height:f}))}if(h&&!h.destroyed)if(m||void 0===m){var O=v.width,N=v.height,T=v.x,A=v.y,P=v.offset,I=(0,JZ.__rest)(v,["width","height","x","y","offset"]);h.attr((0,JZ.__assign)((0,JZ.__assign)({},I),{x:T||-l/2+O+P,y:A||-N/2,width:O,height:N}))}else h.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,d);var D=d.shapeMap["rect-state-icon"]||d.find((function(e){return"rect-state-icon"===e.get("className")})),R=D?D.attr():{},L=(0,eW.mix)({},R,e.stateIcon);if(D){L.show||void 0===L.show||(D.remove(),delete d.shapeMap["rect-state-icon"]);var j=L.width,F=(N=L.height,T=L.x,A=L.y,L.offset),B=(0,JZ.__rest)(L,["width","height","x","y","offset"]);D.attr((0,JZ.__assign)((0,JZ.__assign)({},B),{x:T||l/2-j+F,y:A||-N/2,width:j,height:N}))}else L.show&&this.drawStateIcon(e,d);this.updateLinkPoints(e,d)}},"single-node"),mJ("star",{options:{size:60,style:{stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,c=r.size,l=r.r,f=(0,JZ.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right",name:"link-point-right"})}if(i){h=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-top",name:"link-point-top"})}if(o){h=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*t,s=Math.sin((18+72*o)/180*Math.PI)*t,u=Math.cos((54+72*o)/180*Math.PI)*r,c=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-c])}return i.push(["Z"]),i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,eW.mix)({},t,n),i=this.getPath(e);return(0,JZ.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,eW.mix)({},i,s.attr(),a);u=(0,eW.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),i=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),o=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),a=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-left-bottom"===e.get("className")})),s=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-right-bottom"===e.get("className")})),u=n,c=r||i||o||a||s;c&&(u=c.attr());var l=(0,eW.mix)({},u,e.linkPoints),f=l.fill,d=l.stroke,h=l.lineWidth,p=l.size/2;p||(p=l.r);var v=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},g=v.left,m=v.right,y=v.top,b=v.leftBottom,x=v.rightBottom,w=this.getSize(e)[0],_={r:p,fill:f,stroke:d,lineWidth:h},E=Math.cos(.1*Math.PI)*w,S=Math.sin(.1*Math.PI)*w;i?m||void 0===m?i.attr((0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S})):(i.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),E=Math.cos(.5*Math.PI)*w,S=Math.sin(.5*Math.PI)*w,o?y||void 0===y?o.attr((0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S})):(o.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),E=Math.cos(.9*Math.PI)*w,S=Math.sin(.9*Math.PI)*w,r?g||void 0===g?r.attr((0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S})):(r.remove(),delete t.shapeMap["link-point-left"]):g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),E=Math.cos(1.3*Math.PI)*w,S=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr((0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),E=Math.cos(1.7*Math.PI)*w,S=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr((0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S})):(a.remove(),delete t.shapeMap["link-point-right-bottom"]):x&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,JZ.__assign)((0,JZ.__assign)({},_),{x:E,y:-S}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var r8=dJ.defaultSubjectColors;mJ("donut",{options:{size:wJ.defaultNode.size,style:{x:0,y:0,stroke:wJ.defaultNode.style.stroke,fill:wJ.defaultNode.style.fill,lineWidth:wJ.defaultNode.style.lineWidth},labelCfg:{style:{fill:wJ.nodeLabel.style.fill,fontSize:wJ.nodeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:wJ.defaultNode.linkPoints.size,lineWidth:wJ.defaultNode.linkPoints.lineWidth,fill:wJ.defaultNode.linkPoints.fill,stroke:wJ.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,JZ.__assign)({},wJ.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,eW.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,c=o.show,l=o.text;c&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,JZ.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,JZ.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var f=a.attr("r"),d=.6*f,h=(f+d)/2,p=e,v=p.donutAttrs,g=void 0===v?{}:v,m=p.donutColorMap,y=void 0===m?{}:m,b=Object.keys(g).length;if(g&&b>1){var x=[],w=0;if(Object.keys(g).forEach((function(e){var t=g[e]||0;(0,eW.isNumber)(t)&&(x.push({key:e,value:t,color:y[e]}),w+=t)})),w){var _=f-d;if(1===b)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:x[0].color||r8[0],lineWidth:_},name:"fan-shape-0"}));var E=[h,0],S=0;x.forEach((function(e,n){var r=e.value/w;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=S,S+=e.angle,e.endAngle=S,e.arcBegin=E,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var i=e.angle>Math.PI?1:0,o=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,i,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:o,lineWidth:_,stroke:e.color||r8[n%r8.length]},name:"fan-shape-".concat(n)}),E=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||r8[n%r8.length],lineWidth:_},name:"fan-shape-".concat(n)})}))}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var i8=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},o8=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var i=e[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,t.push(i)}return t},a8=function(e){return o8(e)},s8=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},u8=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var i=e.centerX,o=e.centerY;return n.y<t.y?o=e.minY:n.x>t.x?i=e.maxX:n.x<t.x?i=e.minX:n.x===t.x&&(o=e.maxY),{x:i,y:o}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},c8=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},l8=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},f8=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},d8=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},h8=function(e,t,n,r,i){return d8(e,t)+d8(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,i])},p8=function e(t,n,r,i,o){void 0===o&&(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},v8=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},g8=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,c=n.y-t.y,l=r.x-t.x,f=r.y-t.y;return(i*s-o*a)*(u*f-c*l)<=0&&(i*c-o*u)*(a*f-s*l)<=0},m8=function(e,t,n){if(n.width||n.height){var r=l8(n),i=r[0],o=r[1],a=r[2],s=r[3];return g8(e,t,i,o)||g8(e,t,i,s)||g8(e,t,o,a)||g8(e,t,a,s)}return!1},y8=function(e,t,n,r){var i=[];return e.forEach((function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if(m8(e,t,n)||m8(e,t,r))return;i.push(e)}})),o8(i)},b8=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach((function(r,i){var o=e[i+1],a=e[i+2];if(o&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,o,a)){var s=function(e,t,n,r){var i=d8(e,t),o=d8(n,t);return i<r&&(r=i),o<r&&(r=o),[{x:t.x-r/i*(t.x-e.x),y:t.y-r/i*(t.y-e.y)},{x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)}]}(r,o,a,t),u=s[0],c=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(c.x," ").concat(c.y)),n.push("L".concat(c.x," ").concat(c.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},x8=function(e,t,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||i8(e)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=i8(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),c=u.x,l=u.y;(a={x:c,y:l,width:s.width,height:s.height,minX:s.minX+c,maxX:s.maxX+c,minY:s.minY+l,maxY:s.maxY+l}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=i8(t)}else a=r&&r.getBBox();else a=i8(t);var f=s8(o,i),d=s8(a,i),h=u8(f,e,t),p=u8(d,t,e),v=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([h,p]),g=c8(f,v),m=c8(d,v),y=[];y=y.concat(l8(g)).concat(l8(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[v,g,m].forEach((function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return f8(e,f)&&f8(e,d)})))})),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach((function(e){f8(e,f)&&f8(e,d)&&y.push(e)})),y.unshift(h),y.push(p);var x=function(e,t,n,r,i,o,a){var s=[],u=[t],c={},l={},f={};l[t.id]=0,f[t.id]=h8(t,n,t);var d,h,p={};for(e.forEach((function(e){p[e.id]=e}));u.length;){if(d=void 0,h=1/0,u.forEach((function(e){f[e.id]<=h&&(h=f[e.id],d=e)})),d===n){var v=[];return p8(v,p,c,n.id),v}v8(u,d),s.push(d),y8(e,d,r,i).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+d8(d,e);l[e.id]&&r>=l[e.id]||(c[e.id]=d.id,l[e.id]=r,f[e.id]=l[e.id]+h8(e,n,t,o,a))}}))}return[t,n]}(y=o8(y),h,p,o,a,e,t);return x.unshift(e),x.push(t),a8(x)},w8={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,i){return a8(x8(e,t,n,r,i.offset))}},_8=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),E8=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},S8=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},k8=function(e,t,n){for(var r=1/0,i=0,o=t.length;i<o;i++){var a=n(e,t[i]);a<r&&(r=a)}return r},C8=function(e,t,n,r,i){var o=[];if(!n)return[e];var a=i.directions,s=i.offset,u=n.getBBox(),c=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,l=s8(u,s);for(var f in l)l[f]=_8(l[f],i.gridSize);if(c){for(var d=0,h=a;d<h.length;d++){var p=h[d],v=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]];for(f=0;f<4;f++){var g=v[f],m=dJ.getLineIntersect(e,{x:e.x+p.stepX*l.width,y:e.y+p.stepY*l.height},g[0],g[1]);m&&!m8(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=u8(l,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},M8=function(e,t,n,r){var i=E8(e,t);if(!n[e.id]){var o=E8(r,e);return S8(o,i)}var a=E8({x:n[e.id].x,y:n[e.id].y},e);return S8(a,i)},O8=function(e,t,n,r,i,o,a){var s=[r],u=e.id,c=e.x,l=e.y,f={x:c,y:l,id:u};for(M8(f,o,t,n)&&s.unshift({x:o.x===r.x?r.x:f.x*a,y:o.y===r.y?r.y:f.y*a});t[u]&&t[u].id!==u;){var d={x:c,y:l,id:u},h=t[u].id,p=t[u].x,v=t[u].y,g={x:p,y:v,id:h};M8(g,d,t,n)&&s.unshift({x:g.x===d.x?s[0].x:g.x*a,y:g.y===d.y?s[0].y:g.y*a}),u=h,c=p,l=v}var m=c,y=l;return s[0].x=m===n.x?i.x:s[0].x,s[0].y=y===n.y?i.y:s[0].y,s.unshift(i),s},N8=function(e,t,n,r,i){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,eW.deepMix)(w8,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(e,t,n){var r={};return e.forEach((function(e){if(e)for(var i=s8(e.getBBox(),n),o=_8(i.minX,t);o<=_8(i.maxX,t);o+=1)for(var a=_8(i.minY,t);a<=_8(i.maxY,t);a+=1)r["".concat(o,"|||").concat(a)]=!0})),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:_8(e.x,a),y:_8(e.y,a)},c={x:_8(t.x,a),y:_8(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(c.x,"|||").concat(c.y);var l=C8(u,e,n,c,o),f=C8(c,t,r,u,o);l.forEach((function(e){delete s[e.id]})),f.forEach((function(e){delete s[e.id]}));for(var d={},h={},p={},v={},g={},m=0;m<l.length;m++){var y=l[m];d[y.id]=y,v[y.id]=0,g[y.id]=k8(y,f,o.distFunc)}for(var b,x,w,_,E,S,k,C=o.maximumLoops,M=o.penalties;Object.keys(d).length>0&&C>0&&(b=void 0,x=1/0,Object.keys(d).forEach((function(e){var t=d[e].id;g[t]<=x&&(x=g[t],b=d[t])})),b);){if(f.findIndex((function(e){return e.x===b.x&&e.y===b.y}))>-1)return O8(b,p,u,t,e,c,a);delete d[b.id],h[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],h[(_={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(k=M8(b,_,p,u))>o.maxAllowedDirectionChange||s[_.id]||(d[_.id]||(d[_.id]=_),E=o.distFunc(b,_)+(isNaN(M[k])?a:M[k]),S=v[b.id]+E,v[_.id]&&S>=v[_.id]||(p[_.id]=b,v[_.id]=S,g[_.id]=S+k8(_,f,o.distFunc)));C-=1}return o.fallbackRoute(e,t,n,r,o)};yJ("polyline",{options:{color:wJ.defaultEdge.color,size:wJ.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:wJ.defaultEdge.style.stroke,lineAppendWidth:wJ.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:wJ.edgeLabel.style.fill,fontSize:wJ.edgeLabel.style.fontSize,fontFamily:wJ.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,JZ.__assign)({},wJ.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,eW.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var i=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),s=[i];a&&(s=s.concat(a)),s.push(o);var u=e.sourceNode,c=e.targetNode,l=r.radius,f=this.options.routeCfg,d=(0,eW.mix)({},f,e.routeCfg);d.offset=r.offset;var h=this.getPath(s,u,c,l,d);return((0,eW.isArray)(h)&&h.length<=1||(0,eW.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(h="M0 0, L0 0"),(0,eW.mix)({},wJ.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},i=n.shapeMap["edge-shape"]||n.find((function(e){return"edge-shape"===e.get("className")}))||t.getKeyShape(),o=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),c=[a];u&&(c=c.concat(u)),c.push(s);var l=i.attr(),f=(0,eW.mix)({},r,l,e.style),d=e.sourceNode,h=e.targetNode,p=f.radius,v=this.options.routeCfg,g=(0,eW.mix)({},v,e.routeCfg);g.offset=f.offset;var m=this.getPath(c,d,h,p,g);((0,eW.isArray)(m)&&m.length<=1||(0,eW.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),l.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),l.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""});var y=(0,eW.mix)(r,i.attr(),{lineWidth:o,path:m},e.style);i&&i.attr(y)}},getPath:function(e,t,n,r,i){var o=i.offset,a=i.simple;if(!o||e.length>2){if(r)return b8(e,r);var s=[];return(0,eW.each)(e,(function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])})),s}var u=a?x8(e[e.length-1],e[0],n,t,o):N8(e[0],e[e.length-1],t,n,i);return u&&u.length?r?b8(u,r):dJ.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var T8=P2.cloneEvent,A8=P2.isNaN,P8=Math.abs,I8=["shift","ctrl","alt","control"],D8={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!A8(n)&&!A8(r)){var i=n-t.x,o=r-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,l=this.scalableRange;c<1&&c>-1&&(c*=a,l*=s),(u.minX<=a+c&&u.minX+i>a+c||u.maxX+c>=0&&u.maxX+c+i<0)&&(i=0),(u.minY<=s+l&&u.minY+o>s+l||u.maxY+l>=0&&u.maxY+l+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if((!n||e.name===aJ.TOUCHSTART||0===n.button)&&(e.name===aJ.TOUCHSTART||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!t.keydown){var r=e.target,i=r&&r.isCanvas&&r.isCanvas();if((this.allowDragOnItem||i)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var o=this.graph,a=o.getEdges(),s=0,u=a.length;s<u;s++){var c=a[s].get("group").get("children");c&&c.forEach((function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()}))}for(var l=o.getNodes(),f=0,d=l.length;f<d;f++)for(var h=0,p=l[f].getContainer().get("children");h<p.length;h++){var v=p[h];v.get("isKeyShape")||(v.set("ori-visibility",v.get("ori-visibility")||v.get("visible")),v.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=T8(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(P8(this.origin.x-e.clientX)+P8(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(t=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===t?void 0:t.filter((function(e){return"zoom-canvas"===e.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),c=0,l=u.length;c<l;c++){var f=u[c].get("group").get("children");f&&f.forEach((function(e){e.get("ori-visibility")&&e.show()}))}if(i>s)for(var d=r.getNodes(),h=0,p=d.length;h<p;h++)for(var v=0,g=d[h].getContainer().get("children");v<g.length;v++){var m=g[v];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(e=T8(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(I8.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},R8={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=n.get("id"),s=o.filter((function(e){var t=e.get("id");return a===t}));0===s.length?this.targets.push(n):o.length>1?o.forEach((function(e){e.hasLocked()||t.targets.push(e)})):this.targets.push(n);var u=[];this.targets.forEach((function(e){u.push((0,eW.clone)(e.getModel()))})),this.set("beforeDragNodes",u),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())}))})),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map((function(n){t.update(n,e)})))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach((function(e){e.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(e){i.before.nodes.push({id:e.id,x:e.x,y:e.y})})),this.targets.forEach((function(e){var t=e.getModel();i.after.nodes.push({id:t.id,x:t.x,y:t.y})})),r.pushStack("update",(0,eW.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map((function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)})),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map((function(e){e.getModel().comboId&&t.updateComboTree(e)})))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=this,n=e.item,r=t.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,o),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)r.updateCombos();else if(i){var a=r.findById(i);t.comboActiveState&&r.setItemState(a,t.comboActiveState,!1),this.targets.map((function(e){var t=e.getModel();i!==t.comboId&&r.updateComboTree(e,i)})),r.updateCombo(a)}else this.targets.map((function(e){e.getModel().comboId&&r.updateComboTree(e)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map((function(t){return n.update(t,e)})):this.targets.map((function(r){return n.update(r,e,t)})))},update:function(e,t,n){var r=this.origin,i=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=t.x-r.x+this.point[o].x,s=t.y-r.y+this.point[o].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,eW.debounce)((function(e){var t=e.targets,n=e.graph,r=e.point,i=e.origin,o=e.evt,a=e.updateEdge;e.updateFunc;t.map((function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)}))}),50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=t.get("group"),o=(0,eW.deepMix)({},p2.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,c=a.width,l=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:c,height:l,minX:f,minY:d},this.delegateRect=i.addShape("rect",{attrs:(0,JZ.__assign)({width:c,height:l,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,c=s.minY,l=s.maxX,f=s.maxY;u<n&&(n=u),c<i&&(i=c),l>r&&(r=l),f>o&&(o=f)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},L8={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),c=o.length,l=a.length,f=s.length,d=u.length,h=0;h<c;h++){var p=o[h],v=p.hasState("selected");this.resetSelected&&v&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),i&&n.setItemState(p,i,!0)}for(h=0;h<l;h++){var g=a[h];v=g.hasState("selected");this.resetSelected&&v&&n.setItemState(g,"selected",!1),n.setItemState(g,r,!1),i&&n.setItemState(g,i,!0)}for(h=0;h<f;h++){var m=s[h];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}for(h=0;h<d;h++){var y=u[h];n.setItemState(y,r,!1),i&&n.setItemState(y,i,!0)}i&&n.setItemState(t,i,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var w=void 0;w=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),i&&n.setItemState(w,i,!1),n.setItemState(w,r,!0),n.setItemState(m,i,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var r=this.activeState,i=this.inactiveState,o=n.get("autoPaint");n.setAutoPaint(!1);for(var a=n.getNodes()||[],s=n.getCombos()||[],u=n.getEdges()||[],c=n.get("vedges")||[],l=a.length,f=s.length,d=u.length,h=c.length,p=0;p<l;p++){var v=a[p];n.clearItemStates(v,[r,i])}for(p=0;p<f;p++){var g=s[p];n.clearItemStates(g,[r,i])}for(p=0;p<d;p++){var m=u[p];n.clearItemStates(m,[r,i,"deactivate"])}for(p=0;p<h;p++){var y=c[p];n.clearItemStates(y,[r,i,"deactivate"])}n.paint(),n.setAutoPaint(o),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},j8=Math.min,F8=Math.max,B8=Math.abs,z8="shift",U8=["drag","shift","ctrl","alt","control"],G8={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:z8,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return U8.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=z8,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,a=this.selectedState,s={x:e.x,y:e.y},u=r.getPointByCanvas(i.x,i.y),c=j8(s.x,u.x),l=F8(s.x,u.x),f=j8(s.y,u.y),d=F8(s.y,u.y),h=[],p=[];r.getNodes().forEach((function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=c&&t.centerX<=l&&t.centerY>=f&&t.centerY<=d&&o(e,"select")){h.push(e);var n=e.getModel();p.push(n.id),r.setItemState(e,a,!0)}}}));var v=[];this.includeEdges&&h.forEach((function(e){e.getOutEdges().forEach((function(e){if(e.isVisible()){var n=e.getModel(),i=n.source,a=n.target;p.includes(i)&&p.includes(a)&&o(e,"select")&&(v.push(e),r.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=v,this.selectedNodes=h,this.onSelect&&this.onSelect(h,v),r.emit("nodeselectchange",{selectedItems:{nodes:h,edges:v},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:B8(e.canvasX-t.x),height:B8(e.canvasY-t.y),x:j8(e.canvasX,t.x),y:j8(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},V8="shift",Z8=["shift","ctrl","alt","control"],W8={getDefaultCfg:function(){return{multiple:!0,trigger:V8,selectedState:"selected"}},getEvents:function(){var e=this;return Z8.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=V8,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){n.getType();var r=t.graph,i=t.keydown,o=t.multiple,a=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!i||!o){var s=r.findAllByState("node",t.selectedState).concat(r.findAllByState("combo",t.selectedState));(0,eW.each)(s,(function(e){e!==n&&r.setItemState(e,t.selectedState,!1)}))}if(n.hasState(t.selectedState)){a.call(t,e)&&r.setItemState(n,t.selectedState,!1);var u=r.findAllByState("node",t.selectedState),c=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:c},select:!1})}else{a.call(t,e)&&r.setItemState(n,t.selectedState,!0);u=r.findAllByState("node",t.selectedState),c=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:c},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);(0,eW.each)(r,(function(e){n.setItemState(e,t.selectedState,!1)}));var i=n.findAllByState("combo",this.selectedState);(0,eW.each)(i,(function(e){n.setItemState(e,t.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Y8=dW,H8={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),c=this.get("animateCfg"),l=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:l.x,y:l.y},u,c),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var i,o=n.get("canvas").getPointByClient(e.clientX,e.clientY),a=this.get("sensitivity"),s=n.getZoom();i=s*(e.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||n.get("minZoom");if(!(i>(this.get("maxZoom")||n.get("maxZoom"))||i<u)){if(this.get("enableOptimize")){var c=this.get("optimizeZoom"),l=this.get("optimized"),f=n.getNodes(),d=n.getEdges(),h=f.length,p=d.length;if(!l){for(var v=0;v<h;v++){if(!(k=f[v]).destroyed)for(var g=(H=k.get("group").get("children")).length,m=0;m<g;m++){(R=H[m]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var y=0;y<p;y++)for(g=(H=(Y=d[y]).get("group").get("children")).length,m=0;m<g;m++){(R=H[m]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<h;r++){var i=f[r],o=(l=i.get("group").get("children")).length;if(e<c)(s=(v=i.getKeyShape()).get("ori-visibility"))&&v.show();else for(var a=0;a<o;a++){var s=(m=l[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var u=0;u<p;u++){var l,v,g=d[u];o=(l=g.get("group").get("children")).length;if(e<c)(s=(v=g.getKeyShape()).get("ori-visibility"))&&v.show();else for(a=0;a<o;a++){var m;if(!(m=l[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}}),100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){x=n.findAllByState("node",r.fixState),w=n.findAllByState("edge",r.fixState);for(var _=s/i,E=x.length,S=0;S<E;S++){var k,C=(k=x[S]).getContainer(),M=k.getModel(),O=k.getOriginStyle(),N=k.getStateStyle(r.fixState),T=k.get("shapeFactory").getShape(M.type).getStateStyle(r.fixState,k)[r.fixState];if(r.fixAll){if(i<=1){var A=(0,eW.clone)(C.getMatrix());A||(A=[1,0,0,0,1,0,0,0,1]);var P=k.getModel(),I=P.x,D=P.y;A=Y8(A,[["t",-I,-D],["s",_,_],["t",I,D]]),C.setMatrix(A)}}else for(g=(H=C.get("children")).length,m=0;m<g;m++){var R=H[m],L=void 0,j=void 0;if(r.fixLabel)if("text"===R.get("type")){L=R.attr("fontSize")||12;var F=N[R.get("name")],B=T[R.get("name")],z=F?F.fontSize:12,U=B?B.fontSize:12,G=z||U||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if(r.fixLineWidth&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;var V=N.lineWidth||T.lineWidth||O.lineWidth||0;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}for(var Z=w.length,W=0;W<Z;W++){var Y,H=(C=(Y=w[W]).getContainer()).get("children");for(M=Y.getModel(),N=Y.getStateStyle(r.fixState),T=Y.get("shapeFactory").getShape(M.type).getStateStyle(r.fixState,Y)[r.fixState],g=H.length,m=0;m<g;m++){R=H[m],L=void 0,j=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){L=R.attr("fontSize")||12;F=N[R.get("name")],B=T[R.get("name")],z=F?F.fontSize:12,U=B?B.fontSize:12,G=z||U||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;V=N.lineWidth||T.lineWidth||1;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}}}var q=this.get("animate"),X=this.get("animateCfg");n.zoomTo(i,{x:o.x,y:o.y},q,X),n.emit("wheelzoom",e)}}}},q8={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,d3(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){d3(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,a=n.graph;if(t(e)){var s=a.getPointByClient(e.clientX,e.clientY),u=a.getCanvasByPoint(s.x,s.y),c=u.x,l=u.y,f=o.getBoundingClientRect();c>r/2?c-=f.width:c+=this.offset,l>i/2?l-=f.height:l+=this.offset;var d="".concat(c,"px"),h="".concat(l,"px");d3(this.container,{left:d,top:h,visibility:"visible"})}else d3(o,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=i3('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),d3(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},X8=(0,JZ.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},q8),K8=(0,JZ.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},q8),$8="click",Q8=["click","dblclick"],J8={getDefaultCfg:function(){return{trigger:$8,onChange:function(){}}},getEvents:function(){var e,t;return Q8.includes(this.trigger)?t=this.trigger:(t=$8,console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(e,i)&&(n.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:e.item,collapsed:i}),this.shouldUpdate(e,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},e9=P2.calculationItemsBBox,t9=function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;(0,eW.each)(r,(function(t){e(t,n)}))}},n9={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),a=i.filter((function(e){var t=e.get("id");return o===t}));0===a.length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(e){var r=e.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,t.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],t9(r,(function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,c=a.width,l=o.filter((function(e){var n=e.getModel();return i.parentId,n.id!==i.id&&!t.currentItemChildCombos.includes(n.id)}));l.map((function(e){var r=e.getBBox(),i=r.centerX,o=r.centerY,a=r.width,l=s-i,f=u-o,d=2*Math.sqrt(l*l+f*f);c+a-d>.8*c?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)}))}(0,eW.each)(this.targets,(function(n){t.updateCombo(n,e)}))}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,eW.each)(this.targets,(function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(e){e.getModel().parentId!==i.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,i.id)):r.updateCombo(n)})),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(o=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r))}))}else this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e)}));this.endComparison=!0,this.end(o,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;e&&this.activeState&&r.setItemState(e,this.activeState,!1),e||this.targets.map((function(e){n.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(!1!==t(e)&&e){var r=e.get("combos");(0,eW.each)(r,(function(e){n.traverse(e,t)}));var i=e.get("nodes");(0,eW.each)(i,(function(e){n.traverse(e,t)}))}},updateCombo:function(e,t,n){var r=this;this.traverse(e,(function(e){return!e.destroyed&&(r.updateSignleItem(e,t,n),!0)}))},updateSignleItem:function(e,t,n){var r=this.origin,i=this.graph,o=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;n&&(s+=r.x-t.x,u+=r.y-t.y),i.updateItem(e,{x:s,y:u})},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=t.get("delegateGroup"),o=null,a=(o=this.targets.length>1?e9(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,c=o.height,l=o.minX,f=o.minY;this.originPoint={x:a,y:s,width:u,height:c,minX:l,minY:f};var d=(0,JZ.__assign)((0,JZ.__assign)({},p2.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,JZ.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},r9="dblclick",i9=["click","dblclick"],o9={getDefaultCfg:function(){return{trigger:r9,relayout:!0}},getEvents:function(){var e,t;return i9.includes(this.trigger)?t=this.trigger:(t=r9,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var i=t.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},a9=P2.isPolygonsIntersect,s9=P2.pathToPoints,u9="shift",c9=["drag","shift","ctrl","alt","control"],l9={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:u9,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return c9.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=u9,console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){void 0===e&&(e="canvas:click");var t=this,n=t.graph,r=t.selectedState,i=t.shouldDeselect,o=n.findAllByState("node",r),a=n.findAllByState("edge",r);i&&!i({action:e,nodes:o,edges:a})||(o.forEach((function(e){return n.setItemState(e,r,!1)})),a.forEach((function(e){return n.setItemState(e,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map((function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]})),i=this.selectedState,o=[],a=[];t.getNodes().forEach((function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=s9(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return a9(t,n)}(e,r)&&n(e,"select")){o.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),t.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,JZ.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},f9="click",d9=["click","drag"],h9=void 0,p9=["shift","ctrl","control","alt","meta",void 0],v9={getDefaultCfg:function(){return{trigger:f9,key:h9,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return d9.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=f9,console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===p9.indexOf(t.key.toLowerCase())&&(t.trigger=h9,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){var t=this;if(!t.key||t.keydown){var n=e.item;n&&n.getID()!==t.source&&"node"===n.getType()||t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!t.key||t.keydown){var n=e.item,r=t.graph,i=n.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var a=void 0;a=o&&(0,eW.isFunction)(o)?o({source:t.source,target:i.id}):t.edgeConfig;var s=(0,JZ.__assign)({target:i.id},a);if(t.source===i.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,s,!1),r.get("enabledStack")){var u=(0,JZ.__assign)((0,JZ.__assign)({},t.edge.getModel()),{itemType:"edge"}),c={};c.edges=[u],r.pushStack("add",{before:{},after:c})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;a=void 0;a=o&&(0,eW.isFunction)(o)?o({source:i.id,target:i.id}):t.edgeConfig,t.edge=r.addItem("edge",(0,JZ.__assign)({source:i.id,target:i.id},a),!1),t.source=i.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!t.key||t.keydown){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};t.graph.findById(t.source)?t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1):t.addingEdge=!1}},cancelCreating:function(e){var t,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=e.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=this,n=e.key;n&&(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},g9="ctrl",m9=["shift","ctrl","alt","control"],y9={getDefaultCfg:function(){return{trigger:g9,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return m9.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=g9,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},b9=["shift","ctrl","alt","control"],x9={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==b9.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=e["".concat(this.zoomKey,"Key")];if("control"===this.zoomKey&&(r=e.ctrlKey),r){var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=n.getZoom();e.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),c=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,d=this.scalableRange;f<1&&f>-1&&(f*=u,d*=c);var h=l.minX,p=l.maxX,v=l.minY,g=l.maxY;a>0?p<-f?a=0:p-a<-f&&(a=p+f):a<0&&(h>u+f?a=0:h-a>u+f&&(a=h-(u+f))),s>0?g<-d?s=0:g-s<-d&&(s=g+d):s<0&&(v>c+d?s=0:v-s>c+d&&(s=v-(c+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,_=x.length;if(!y){for(var E=0;E<w;E++){var S=b[E];if(!S.destroyed)for(var k=(O=S.get("group").get("children")).length,C=0;C<k;C++){(N=O[C]).destoryed||N.get("isKeyShape")||(N.set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide())}}for(var M=0;M<_;M++){var O;for(k=(O=x[M].get("group").get("children")).length,C=0;C<k;C++){var N;(N=O[C]).set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var T=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<w;r++){var i=b[r],o=(c=i.get("group").get("children")).length;if(e<m)(s=(l=i.getKeyShape()).get("ori-visibility"))&&l.show();else for(var a=0;a<o;a++){var s=(d=c[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<_;u++){var c,l,f=x[u];o=(c=f.get("group").get("children")).length;if(e<m)(s=(l=f.getKeyShape()).get("ori-visibility"))&&l.show();else for(a=0;a<o;a++){var d;if(!(d=c[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}}),100);this.set("timeout",T)}}},w9={"drag-canvas":D8,"zoom-canvas":H8,"drag-node":R8,"activate-relations":L8,"brush-select":G8,"click-select":W8,"lasso-select":l9,tooltip:X8,"edge-tooltip":K8,"collapse-expand":J8,"drag-combo":n9,"collapse-expand-combo":o9,"create-edge":v9,"shortcuts-call":y9,"scroll-canvas":x9};(0,eW.each)(w9,(function(e,t){xJ(t,e)}));var _9=(0,JZ.__assign)((0,JZ.__assign)({},e),_J),E9=n8.Fisheye,S9=n8.TimeBar,k9=n8.ImageMinimap,C9=n8.EdgeFilterLens,M9=n8.SnapLine,O9={version:p2.version,Graph:s3,TreeGraph:f3,Util:P2,Layout:x2.Layouts,TreeLayout:R2,registerLayout:function(e,t){t.isCustomLayout=!0,x2.Layouts[e]=(0,x2.registerLayout)(e,t)},Global:p2,registerBehavior:xJ,registerCombo:bJ,registerEdge:yJ,registerNode:mJ,Minimap:n8.Minimap,Grid:n8.Grid,Bundling:n8.Bundling,Menu:n8.Menu,ToolBar:n8.ToolBar,Tooltip:n8.Tooltip,Legend:n8.Legend,TimeBar:S9,SnapLine:M9,Fisheye:E9,ImageMinimap:k9,EdgeFilterLens:C9,Algorithm:_9,Arrow:sJ,Marker:uJ,Shape:cJ};O9.version="4.6.3";var N9=O9,T9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=1.25;if(!(o*t>5))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},A9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=.75;if(!(o*t<.3))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},P9=function(e){return function(t){var n=t.text,r=t.ratio;if(e&&!e.destroyed){var i=e.get("canvas"),o=i.getPointByClient(i.get("width")/2,i.get("height")/2),a=i.get("pixelRatio")||1;return e.zoomTo(r,{x:o.x/a,y:o.y/a}),{text:n,ratio:r}}}},I9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom();return e.zoom(1/t),e.fitCenter(),{text:"100%",ratio:1}}}},D9=function(e){return function(){if(e&&!e.destroyed){e.getNodes().length>0&&e.fitView([20,20]);var t=e.getZoom();return{text:"".concat(Math.round(100*t),"%"),ratio:t}}}},R9=function(e){return function(t){e.getNodes().forEach((function(n){e.clearItemStates(n,["active","inactive"]),-1!==t.indexOf(n.get("id"))?e.setItemState(n,"active",!0):e.setItemState(n,"active",!1)}))}},L9=function(e){return function(t){if(e&&"string"===typeof t){var n=e.findById(t);n?(e.focusItem(t,!0,{duration:300,easing:"easeCubic"}),e.setItemState(n,"selected",!0),n.toFront()):console.warn("The node ".concat(t," does not exist!"))}}};var j9=Object.assign(Object.assign({},v),g),F9=function(e){return Object.keys(j9).reduce((function(t,n){return Object.assign(Object.assign({},t),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,j9[n](e)))}),{})},B9={graph:{},apis:{},theme:{},layout:{}},z9=y.createContext(B9),U9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},G9=function(e){var t=e.type,n=e.defaultConfig,r=e.userProps,i=e.mode,o=void 0===i?"default":i,a=y.useContext(z9).graph,s=r.disabled,u=U9(r,["disabled"]);y.useEffect((function(){if(a.removeBehaviors(t,o),!s)return a.addBehaviors(Object.assign(Object.assign({type:t},n),u),o),function(){a.destroyed||a.removeBehaviors(t,o)}}),[])},V9={disabled:!1,trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1},Z9={disabled:!1,brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},W9={disabled:!1,multiple:!0,trigger:"shift",selectedState:"selected"},Y9={direction:"both",enableOptimize:!1,scalableRange:0,shouldBegin:function(){return!0},disabled:!1},H9={disabled:!1,enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"},q9={disabled:!1,updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"},X9=function(e){var t=y.useContext(z9),n=t.graph,r=t.layout,i=t.dragNodes,o=t.updateContext,a=e.autoPin,s=e.dragNodeMass,u=void 0===s?1e10:s,c=r.instance;return(0,y.useEffect)((function(){var e=c.simulation,t=c.type,r=function(){console.log("drag-start",c),e&&e.stop()},s=function(e){if("graphin-force"===t&&e.item){var r=e.item.get("model");r.x=e.x,r.y=e.y,r.layout=Object.assign(Object.assign({},r.layout),{force:{mass:a?u:null}});var s=[];n.getNodes().forEach((function(e){if(e.hasState("selected")){var t=e.get("model");t.layout.force={mass:a?u:null},s.push(t)}}));var c=i.concat([r]);s.length>1&&(c=c.concat(s)),o({dragNodes:c})}};return n.on("node:dragstart",r),n.on("node:dragend",s),function(){n.off("node:dragstart",r),n.off("node:dragend",s)}}),[n,a,c,i,o]),null},K9=function(e){var t=e.padding,n=e.isBindLayoutChange,r=y.useContext(z9).graph;return(0,y.useEffect)((function(){var e=function(){r.fitView(t)};return e(),n&&r.on("afterlayout",e),function(){n&&r.off("afterlayout",e)}}),[]),null},$9=function(){var e=y.useContext(z9).graph;return y.useEffect((function(){var t=setTimeout((function(){e.getNodes().forEach((function(t){e.setItemState(t,"normal",!0)})),e.paint()}),1600);return function(){clearTimeout(t)}}),[]),null},Q9=function(e){var t=y.useContext(z9),n=e.bindType,r=void 0===n?"node":n,i=e.disabled,o=t.graph;return y.useEffect((function(){if(!i){var e=function(e){o.setItemState(e.item,"hover",!0)},t=function(e){o.setItemState(e.item,"hover",!1)},n=function(e){o.setItemState(e.item,"hover",!0)},a=function(e){o.setItemState(e.item,"hover",!1)};return"node"===r&&(o.on("node:mouseenter",e),o.on("node:mouseleave",t)),"edge"===r&&(o.on("edge:mouseenter",n),o.on("edge:mouseleave",a)),function(){"node"===r&&(o.off("node:mouseenter",e),o.off("node:mouseleave",t)),"edge"===r&&(o.off("edge:mouseenter",n),o.off("edge:mouseleave",a))}}}),[o,i]),null},J9={disabled:!1,delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},e7=function(e){var t=e.graphDOM,n=y.useContext(z9);return y.useEffect((function(){var e=n.graph,r=(0,eW.debounce)((function(){var n=t.clientWidth,r=t.clientHeight;e.set("width",n),e.set("height",r);var i=e.get("canvas");i&&(i.changeSize(n,r),e.autoPaint())}),200);return window.addEventListener("resize",r,!1),function(){window.removeEventListener("resize",r,!1)}}),[]),null},t7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},n7={trigger:"click"},r7=function(e){var t=e.onChange,n=t7(e,["onChange"]),r=y.useContext(z9).graph;return G9({defaultConfig:n7,userProps:n,type:"collapse-expand"}),y.useEffect((function(){var e=function(e){var n=e.item,r=e.collapsed;n.get("model").collapsed=r,t&&t(n,r)};return r.on("itemcollapsed",e),function(){r.off("itemcollapsed",e)}}),[]),null},i7={sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},disabled:!1,animate:!1,animateCfg:{duration:500}},o7={DragCanvas:function(e){return G9({type:"drag-canvas",userProps:e,defaultConfig:Y9}),null},ZoomCanvas:function(e){return G9({type:"zoom-canvas",userProps:e,defaultConfig:i7}),null},ClickSelect:function(e){return G9({type:"click-select",userProps:e,defaultConfig:W9}),null},BrushSelect:function(e){return G9({type:"brush-select",userProps:e,defaultConfig:Z9}),null},DragNode:function(e){return G9({type:"drag-node",userProps:e,defaultConfig:q9}),null},ResizeCanvas:e7,LassoSelect:function(e){return G9({type:"lasso-select",userProps:e,defaultConfig:J9}),null},DragCombo:function(e){return G9({type:"drag-combo",userProps:e,defaultConfig:H9}),null},ActivateRelations:function(e){return G9({type:"activate-relations",userProps:e,defaultConfig:V9}),null},TreeCollapse:r7,FitView:K9,FontPaint:$9,DragNodeWithForce:X9,Hoverable:Q9},a7={type:"compactBox",direction:"LR",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 20}},s7=["dendrogram","compactBox","mindmap","indented"],u7=function(){return Math.round(80*(Math.random()-.5))},c7=function(e,t){var n=e.nodes,r=e.edges,i=t.nodes,o=new Map;i.forEach((function(e){var t=e.id,n=e.x,r=e.y;o.set(t,{x:n,y:r})}));var a=new Map;n.forEach((function(e){var t=e.id,n=o.get(t);n?(e.x=n.x,e.y=n.y):a.set(t,e)}));var s=new Map;return r.forEach((function(e){var t=e.source,n=e.target,r=a.get(t),i=a.get(n),u=o.get(t),c=o.get(n);r&&c&&s.set(t,{x:c.x+u7(),y:c.y+u7()}),i&&u&&s.set(n,{x:u.x+u7(),y:u.y+u7()})})),n.forEach((function(e){var t=e.id,n=o.get(t)||s.get(t);n?(e.x=n.x,e.y=n.y):(e.x=250+Math.round(500*Math.random()),e.y=150+Math.round(300*Math.random()))})),Object.assign(Object.assign({},e),{nodes:n,edges:r})};var l7=[{type:"graphin-force",options:{},title:"\u6e10\u8fdb\u529b\u5bfc"},{type:"force",title:"D3\u529b\u5bfc",options:{preventOverlap:!0,linkDistance:250,nodeStrength:30,edgeStrength:.1,collideStrength:.8,nodeSize:30,alpha:.3,alphaDecay:.028,alphaMin:.01,forceSimulation:null,clustering:!1}},{type:"concentric",title:"\u540c\u5fc3\u5706\u5e03\u5c40",options:{minNodeSpacing:60,preventOverlap:!0,nodeSize:60}},{type:"grid",options:{},title:"\u7f51\u683c\u5e03\u5c40"},{type:"radial",options:{},title:"\u8f90\u5c04\u5e03\u5c40"},{type:"dagre",title:"\u5c42\u6b21\u5e03\u5c40",options:{}},{type:"circular",options:{},title:"\u73af\u5f62\u5e03\u5c40"},{type:"gForce",options:{linkDistance:function(){return 200},preventOverlap:!0},title:"G6\u529b\u5bfc"},{type:"mds",options:{},title:"\u964d\u7ef4\u5e03\u5c40"},{type:"random",options:{},title:"\u968f\u673a\u5e03\u5c40"}],f7=l7.map((function(e){var t=e.type,n=e.options;return Object.assign({type:t},n)})).reduce((function(e,t){return Object.assign(Object.assign({},e),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.type,t))}),{}),d7=f7;function h7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p7=function(e){return!e||!e.nodes||0===e.nodes.length},v7=["force","graphin-force","g6force","gForce","comboForce"],g7=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(){var e=n.graphin,t=e.width,r=e.height,i=e.props.layout,o=void 0===i?{type:"concentric"}:i,a=o.type,s=void 0===a?"concentric":a,u=o.preset,c={width:t,height:r,center:[t/2,r/2]};if(n.options=Object.assign(Object.assign(Object.assign({},c),d7[s]||{}),o),p7(n.graphin.data))n.prevOptions={};else if(-1!==v7.indexOf(s)){var l=n.prevOptions.type||"grid";(null===u||void 0===u?void 0:u.type)&&(l=u.type),p7(n.graphin.data)&&(l=u.type||"grid"),n.options.preset=Object.assign(Object.assign(Object.assign({type:l},c),d7[l]||{}),u)}},this.processForce=function(){var e=n,t=e.options,r=e.graphin,i=r.graph,o=t.type;if("graphin-force"===o&&(e.options.graph=i),"force"===o||"g6force"===o||"gForce"===o||"comboCombined"===o){var a=e.options.onTick;e.options.tick=function(){a&&a()};var s=e.options.onLayoutEnd;e.options.onLayoutEnd=function(){e.refreshPosition(),null===s||void 0===s||s(),i.emit("afterlayout")}}"comboForce"!==o&&"comboCombined"!==o||(e.options.comboTrees=i.get("comboTrees"));var u=-1!==v7.indexOf(e.prevOptions.type),c=-1!==v7.indexOf(e.options.type),l=e.options.type===e.prevOptions.type;if(!p7(r.data)){if(c&&!l){var f=e.options.preset;e.presetLayout=new N9.Layout[f.type](Object.assign({},f)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),e.presetLayout.data=Object.assign({},r.data)}if(c&&u&&!e.hasPosition()){var d=e.graph.save(),h=e.options.preset;p7(d)&&(e.presetLayout=new N9.Layout[h.type](Object.assign({},h)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),d=r.data),r.data=c7(r.data,d)}}},this.refreshPosition=function(){var e=n.graphin.options,t=e.animate,r=e.layoutAnimate,i=n.options.type;t||r?n.graph.positionsAnimate("comboCombined"===i):n.graph.refreshPositions("comboCombined"===i)},this.destroy=function(){n.presetLayout&&n.presetLayout.destroy&&n.presetLayout.destroy(),n.instance&&n.instance.destroy&&n.instance.destroy(),n.presetLayout=null,n.instance=null},this.getDataFromGraph=function(){for(var e=[],t=[],r=[],i=[],o=n.graph.getNodes(),a=n.graph.getEdges(),s=n.graph.getCombos(),u=o.length,c=0;c<u;c++){var l=o[c];if(l&&l.isVisible()){var f=l.getModel();e.push(f)}}for(var d=a.length,h=0;h<d;h++){var p=a[h];if(p&&p.isVisible()){var v=p.getModel();v.isComboEdge?i.push(v):t.push(v)}}for(var g=s.length,m=0;m<g;m++){var y=s[m];if(y&&y.isVisible()){var b=y.getModel();r.push(b)}}return{nodes:e,edges:t,combos:r,comboEdges:i}},this.graphin=t,this.graph=this.graphin.graph,this.presetLayout=null,this.prevOptions={},this.init()}var t,n,r;return t=e,n=[{key:"hasPosition",value:function(){var e=this.graphin.data,t=void 0===e?{}:e;return!!t.nodes&&0!==t.nodes.length&&t.nodes.every((function(e){return!window.isNaN(Number(e.x))&&!window.isNaN(Number(e.y))}))}},{key:"init",value:function(){this.updateOptions();var e=this.options,t=this.graphin.data,n=e.type;this.processForce(),N9.Layout[n]||console.warn("".concat(n," layout not found, current layout is grid"));var r=N9.Layout[n]||N9.Layout.grid;this.graph.emit("beforelayout"),this.instance=new r(this.options),this.instance.init(t)}},{key:"start",value:function(){var e=this.options.type;this.instance.execute(),"force"!==e&&"g6force"!==e&&"gForce"!==e&&"comboCombined"!==e&&this.refreshPosition(),this.graph.emit("afterlayout")}},{key:"changeLayout",value:function(){var e=this.graphin,t=e.graph,n=e.data,r=e.isTree,i=e.layoutCache;if(!t||t.destroyed||!n||!n.nodes||!n.nodes.length||i&&this.hasPosition()||r)return!1;-1!==v7.indexOf(this.options.type)&&this.destroy(),this.prevOptions=Object.assign({},this.options),this.init(),this.start()}}],n&&h7(t.prototype,n),r&&h7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m7=g7,y7=function(){return{type:"circle",style:{labelCfg:{position:"top"}},status:{}}},b7={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"},x7=function(e){var t=Object.assign(Object.assign({},b7),e),n=t.edgeSize,r=t.primaryEdgeColor,i={light:{stroke:r,label:r,disabled:"#ddd"},dark:{stroke:r,label:r,disabled:"#ddd3"}}[t.mode];return{type:"graphin-line",style:{keyshape:{type:"line",lineWidth:n,stroke:i.stroke,strokeOpacity:1,lineAppendWidth:9,cursor:"pointer"},halo:{visible:!1,cursor:"pointer",strokeOpacity:.4},label:{value:"",position:"top",fill:i.label,fontSize:12,textAlign:"center"}},status:{hover:{halo:{visible:!0}},selected:{halo:{visible:!0},keyshape:{lineWidth:2}},active:{halo:{visible:!0},keyshape:{lineWidth:2}},inactive:{halo:{visible:!1},keyshape:{strokeOpacity:.1}},disabled:{halo:{visible:!1},keyshape:{lineWidth:.5,stroke:i.disabled}}}}},w7={primaryColor:"#FF6A00",nodeSize:26,mode:"light"},_7=function(e){var t=Object.assign(Object.assign({},w7),e),n=t.nodeSize,r=t.primaryColor,i={light:{fill:r,fillOpacity:.1,stroke:r,strokeOpacity:1,icon:r,badge:{fill:r,stroke:r,font:"#fff"},label:"#000",disabled:"#ddd"},dark:{fill:r,fillOpacity:.3,stroke:r,strokeOpacity:1,icon:"#fff",badge:{fill:r,stroke:r,font:"#fff"},label:"#fff",disabled:"#ddd3"}}[t.mode];return{type:"graphin-circle",style:{keyshape:{size:n,fill:i.fill,fillOpacity:i.fillOpacity,stroke:i.stroke,strokeOpacity:i.strokeOpacity,lineWidth:1,opacity:1,type:"circle"},label:{position:"bottom",value:"",fill:i.label,fontSize:12,offset:0,background:void 0,fillOpacity:1},icon:{type:"text",value:"",size:n/2,fill:i.icon,fillOpacity:1,offset:[0,0]},badges:[],halo:{visible:!1,fillOpacity:.1}},status:{normal:{},selected:{halo:{visible:!0},keyshape:{lineWidth:5}},hover:{halo:{visible:!0}},active:{},inactive:{keyshape:{fillOpacity:.04,strokeOpacity:.04},icon:{fillOpacity:.04},label:{fillOpacity:.04}},disabled:{halo:{visible:!1},keyshape:{fill:i.disabled,stroke:i.disabled},icon:{fill:i.disabled},label:{fill:i.disabled}}}}},E7={mode:"light",primaryColor:"#873bf4",nodeSize:26,edgeSize:1,primaryEdgeColor:"#ddd"},S7=function(e){var t=Object.assign(Object.assign({},E7),e),n=t.primaryColor,r=t.primaryEdgeColor,i=t.nodeSize,o=t.edgeSize,a=t.mode,s=t.background,u=_7({primaryColor:n,nodeSize:i,mode:a}),c=x7({primaryEdgeColor:r,edgeSize:o,mode:a}),l=y7();return Object.assign(Object.assign({},t),{mode:a,background:s||{light:"#fff",dark:"#1f1f1f"}[a],defaultNodeStyle:{type:u.type,style:u.style},defaultNodeStatusStyle:{status:u.status},defaultEdgeStyle:{type:c.type,style:c.style},defaultEdgeStatusStyle:{status:c.status},defaultComboStyle:{type:l.type,style:l.style},defaultComboStatusStyle:{status:l.status}})},k7=n(3941),C7=function e(t,n){if(window.isNaN(t)&&window.isNaN(n)&&"number"===typeof t&&"number"===typeof n)return!0;if(t===n)return!0;if("function"===typeof t&&"function"===typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;var r=[],i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a],u=e(t[s],n[s]);r.push(u)}return r.every((function(e){return e}))};function M7(e){return M7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M7(e)}function O7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N7(e,t){return N7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N7(e,t)}function T7(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I7(e);if(t){var i=I7(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A7(this,n)}}function A7(e,t){if(t&&("object"===M7(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P7(e)}function P7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I7(e){return I7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I7(e)}var D7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},R7=o7.DragCanvas,L7=o7.ZoomCanvas,j7=o7.DragNode,F7=o7.DragCombo,B7=o7.ClickSelect,z7=o7.BrushSelect,U7=o7.ResizeCanvas,G7=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N7(e,t)}(o,e);var t,n,r,i=T7(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).graphDOM=null,t.initData=function(e){e.children&&(t.isTree=!0),t.data=(0,k7.Z)(e)},t.initGraphInstance=function(){var e=t.props,n=e.theme,r=e.data,i=e.layout,o=e.width,a=e.height,s=e.defaultCombo,u=void 0===s?{style:{},type:"graphin-combo"}:s,c=e.defaultEdge,l=void 0===c?{style:{},type:"graphin-line"}:c,f=e.defaultNode,d=void 0===f?{style:{},type:"graphin-circle"}:f,h=e.nodeStateStyles,p=e.edgeStateStyles,v=e.comboStateStyles,g=e.modes,m=void 0===g?{default:[]}:g,y=e.animate,b=e.handleAfterLayout,x=D7(e,["theme","data","layout","width","height","defaultCombo","defaultEdge","defaultNode","nodeStateStyles","edgeStateStyles","comboStateStyles","modes","animate","handleAfterLayout"]);m.default.length>0&&console.info("%c suggestion: you can use @antv/graphin Behaviors components","color:lightgreen");var w=t.graphDOM,_=w.clientWidth,E=w.clientHeight;t.initData(r),t.width=Number(o)||_||500,t.height=Number(a)||E||500;var S=S7(n),k=(S.defaultNodeStyle,S.defaultEdgeStyle,S.defaultComboStyle,S.defaultNodeStatusStyle,S.defaultEdgeStatusStyle,S.defaultComboStatusStyle,D7(S,["defaultNodeStyle","defaultEdgeStyle","defaultComboStyle","defaultNodeStatusStyle","defaultEdgeStatusStyle","defaultComboStatusStyle"]));t.isTree=Boolean(r.children)||-1!==s7.indexOf(String(i&&i.type));var C={defaultNode:{style:Object.assign(Object.assign({},d.style),{_theme:n}),type:d.type||"graphin-circle"},defaultEdge:{style:Object.assign(Object.assign({},l.style),{_theme:n}),type:l.type||"graphin-line"},defaultCombo:{style:Object.assign(Object.assign({},u.style),{_theme:n}),type:u.type||"combo"},nodeStateStyles:h,edgeStateStyles:p,comboStateStyles:v};t.theme=Object.assign(Object.assign({},C),k),t.options=Object.assign(Object.assign(Object.assign({container:t.graphDOM,renderer:"canvas",width:t.width,height:t.height,animate:!1!==y},C),{modes:m}),x),t.isTree?(t.options.layout=i||a7,t.graph=new N9.TreeGraph(t.options)):t.graph=new N9.Graph(t.options),t.graph.on("afterlayout",(function(){b&&b(t.graph)})),t.graph.data(t.data),t.graph.render(),t.isTree||(t.layout=new m7(P7(t)),t.layout.start()),t.initStatus(),t.apis=F9(t.graph),t.setState({isReady:!0,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}})},t.updateLayout=function(){t.layout.changeLayout()},t.updateOptions=function(){return D7(t.props,[])},t.initStatus=function(){if(!t.isTree){var e=t.props.data,n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;r.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))})),o.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))}))}},t.updateContext=function(e){t.setState((function(t){return{context:Object.assign(Object.assign({},t.context),e)}}))},t.clear=function(){t.layout&&t.layout.destroy&&t.layout.destroy(),t.layout={},t.graph.clear(),t.data={nodes:[],edges:[],combos:[]},t.graph.destroy()};var n=e.data,r=e.layout,a=e.width,s=e.height,u=e.layoutCache,c=D7(e,["data","layout","width","height","layoutCache"]);return t.data=n,t.isTree=Boolean(e.data&&e.data.children)||-1!==s7.indexOf(String(r&&r.type)),t.graph={},t.height=Number(s),t.width=Number(a),t.theme={},t.apis={},t.layoutCache=u,t.layout={},t.dragNodes=[],t.options=Object.assign({},c),t.state={isReady:!1,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}},t}return t=o,n=[{key:"componentDidMount",value:function(){this.initGraphInstance()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this,i=this.shouldUpdate(e,"data"),o=this.shouldUpdate(e,"layout"),a=(this.shouldUpdate(e,"options"),this.shouldUpdate(e,"theme"),this.props),s=a.data,u=a.layoutCache,c=a.layout;if(this.layoutCache=u,i){if(this.initData(s),this.isTree)this.graph.changeData(this.data);else{var l=this.state.context.dragNodes;null===(n=null===(t=this.data)||void 0===t?void 0:t.nodes)||void 0===n||n.forEach((function(e){var t,n,r=l.find((function(t){return t.id===e.id}));r&&(e.layout=Object.assign(Object.assign({},e.layout),{force:{mass:null===(n=null===(t=r.layout)||void 0===t?void 0:t.force)||void 0===n?void 0:n.mass}}))})),this.graph.data(this.data),this.graph.set("layoutController",null),this.graph.changeData(this.data),this.data=this.layout.getDataFromGraph(),this.layout.changeLayout()}return this.initStatus(),this.apis=F9(this.graph),void this.setState((function(e){return Object.assign(Object.assign({},e),{context:{graph:r.graph,apis:r.apis,theme:r.theme,layout:r.layout,dragNodes:e.context.dragNodes,updateContext:r.updateContext}})}),(function(){r.graph.emit("graphin:datachange"),o&&r.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:c})}))}if(o){if(this.isTree)return void this.graph.updateLayout(this.props.layout);this.data=this.layout.getDataFromGraph(),this.layout.changeLayout(),this.layout.refreshPosition(),this.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:c})}}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"componentDidCatch",value:function(e,t){console.error("Catch component error: ",e,t)}},{key:"shouldUpdate",value:function(e,t){var n=e[t],r=this.props[t];return!C7(n,r)}},{key:"render",value:function(){var e,t=this,n=this.state.isReady,r=this.props,i=r.modes,o=r.style;return y.createElement(z9.Provider,{value:this.state.context},y.createElement("div",{id:"graphin-container"},y.createElement("div",{"data-testid":"custom-element",className:"graphin-core",ref:function(e){t.graphDOM=e},style:Object.assign({background:null===(e=this.theme)||void 0===e?void 0:e.background},o)}),y.createElement("div",{className:"graphin-components"},n&&y.createElement(y.Fragment,null,!i&&y.createElement(y.Fragment,null,y.createElement(R7,null),y.createElement(L7,null),y.createElement(j7,null),y.createElement(F7,null),y.createElement(B7,null),y.createElement(z7,null)),y.createElement(U7,{graphDOM:this.graphDOM}),this.props.children))))}}],r=[{key:"registerBehavior",value:function(e,t){N9.registerBehavior(e,t)}},{key:"registerFontFamily",value:function(e){var t=e(),n=t.glyphs,r=t.fontFamily,i=n.map((function(e){return{name:e.name,unicode:String.fromCodePoint(e.unicode_decimal)}}));return new Proxy(i,{get:function(e,t){var n=e.find((function(e){return e.name===t}));return n?null===n||void 0===n?void 0:n.unicode:(console.error("%c fontFamily:".concat(r,",does not found ").concat(t," icon")),"")}})}},{key:"registerLayout",value:function(e,t){N9.registerLayout(e,t)}}],n&&O7(t.prototype,n),r&&O7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(y.PureComponent);G7.registerNode=function(e,t,n){N9.registerNode(e,t,n)},G7.registerEdge=function(e,t,n){N9.registerEdge(e,t,n)},G7.registerCombo=function(e,t,n){N9.registerCombo(e,t,n)};var V7=G7;eW.deepMix,k7.Z;var Z7=function(e,t){return e.reduce((function(e,n){return e.some((function(e){return t(n,e)}))||e.push(n),e}),[])};function W7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y7(e,t,n){return t&&W7(e.prototype,t),n&&W7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H7=Y7((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getvec=function(){return r},this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)},this.magnitude=function(){return Math.sqrt(r.x*r.x+r.y*r.y)},this.normalise=function(){return r.divide(r.magnitude())},this.divide=function(t){return new e(r.x/t||0,r.y/t||0)},this.scalarMultip=function(t){return new e(r.x*t,r.y*t)},this.x=t,this.y=n})),q7=H7;function X7(e){return function(e){if(Array.isArray(e))return K7(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K7(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $7=function(e,t,n){var r,i;return"source"===e?(null===(r=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})))||void 0===i?void 0:i.target)||{}},Q7=function(e,t,n,r){var i,o=(null===(i=null===n||void 0===n?void 0:n.data)||void 0===i?void 0:i[t])||"",a=(null===r||void 0===r?void 0:r.filter((function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t])===o})))||[];return"leaf"===e&&(a=a.filter((function(e){var t,n,r,i;return 0===(null===(n=null===(t=e.data)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.sDegree)||0===(null===(i=null===(r=e.data)||void 0===r?void 0:r.layout)||void 0===i?void 0:i.tDegree)}))),a},J7=function(e,t,n){var r=[];switch(e){case"source":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target}));break;case"target":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source}));break;case"both":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target})).concat(null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source})))}return r=Z7(r,(function(e,t){return e.id===t.id}))},eee=function(e,t){var n=e.data.id,r=0,i=0,o=0;return t.forEach((function(e){e.source.id===n&&(i+=1,r+=1),e.target.id===n&&(o+=1,r+=1)})),{degree:r,sDegree:i,tDegree:o}},tee=function(e,t){return X7(new Set(null===e||void 0===e?void 0:e.map((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t]}))))||[]},nee=function(e,t,n,r){var i,o=(null===(i=null===t||void 0===t?void 0:t.data)||void 0===i?void 0:i.layout)||{},a=o.sDegree,s=o.tDegree,u=t,c=[];return 0===a?(u=$7("source",t,n),c=J7("both",u,n)):0===s&&(u=$7("target",t,n),c=J7("both",u,n)),c=c.filter((function(e){var t,n;return 0===(null===(t=e.data)||void 0===t?void 0:t.layout.sDegree)||0===(null===(n=e.data)||void 0===n?void 0:n.layout.tDegree)})),{coreNode:u,relativeLeafNodes:c,sameTypeLeafNodes:Q7(e,r,t,c)}},ree=function(e){var t=new q7(0,0);e.forEach((function(e){t=t.add(new q7(e.x,e.y))}));var n=t.divide(e.length).getvec();return{x:n.x,y:n.y}};function iee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oee(e,t,n){return t&&iee(e.prototype,t),n&&iee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var see=oee((function e(t){aee(this,e),this.id=t.id,this.data=t||{},this.x=t.x||0,this.y=t.y||0})),uee=oee((function e(t,n,r,i){aee(this,e),this.id=t,this.source=n,this.target=r,this.data=i||{}}));function cee(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,d,h=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(v+m)/2))?v=o:m=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}function lee(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function fee(e){return e[0]}function dee(e){return e[1]}function hee(e,t,n){var r=new pee(null==t?fee:t,null==n?dee:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function pee(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function vee(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var gee=hee.prototype=pee.prototype;gee.copy=function(){var e,t,n=new pee(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=vee(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=vee(t));return n},gee.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return cee(this.cover(t,n),t,n,e)},gee.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)cee(this,a[n],s[n],e[n]);return this},gee.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},gee.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},gee.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},gee.find=function(e,t,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new lee(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>d||(o=u.y0)>h||(a=u.x1)<l||(s=u.y1)<f))if(v.length){var g=(i+a)/2,m=(o+s)/2;p.push(new lee(v[3],g,m,a,s),new lee(v[2],i,m,g,s),new lee(v[1],g,o,a,m),new lee(v[0],i,o,g,m)),(c=(t>=m)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},gee.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(v+m)/2))?v=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},gee.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},gee.root=function(){return this._root},gee.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},gee.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new lee(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new lee(n,c,l,o,a)),(n=u[2])&&s.push(new lee(n,r,l,c,a)),(n=u[1])&&s.push(new lee(n,c,i,o,l)),(n=u[0])&&s.push(new lee(n,r,i,c,l))}return this},gee.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new lee(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new lee(o,a,s,l,f)),(o=i[1])&&n.push(new lee(o,l,s,u,f)),(o=i[2])&&n.push(new lee(o,a,f,l,c)),(o=i[3])&&n.push(new lee(o,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},gee.x=function(e){return arguments.length?(this._x=e,this):this._x},gee.y=function(e){return arguments.length?(this._y=e,this):this._y};var mee=.1;function yee(e,t,n){var r=n/(t*t),i=e.map((function(e,t){return Object.assign(Object.assign({index:t},e),{vx:0,vy:0,weight:r})})),o=hee(i,(function(e){return e.x}),(function(e){return e.y})).visitAfter(bee);return i.forEach((function(e){!function(e,t){var n=function(t,n,r,i,o){var a=e.x-t.x||.001,s=e.y-t.y||.001,u=i-n,c=a*a+s*s+mee,l=Math.sqrt(c)+mee;return u*u/.81<c?(e.vx+=a/l*t.weight/c,e.vy+=s/l*t.weight/c,!0):!t.length&&void(t.data!==e&&(e.vx+=a/l*t.data.weight/c,e.vy+=s/l*t.data.weight/c))};t.visit(n)}(e,o)})),i.map((function(e){return{vx:e.vx,vy:e.vy}}))}function bee(e){var t=0,n=0,r=0;if(e.length){for(var i=0;i<4;i++){var o=e[i];o&&o.weight&&(t+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}e.x=n/t,e.y=r/t,e.weight=t}else{var a=e;e.x=a.data.x,e.y=a.data.y,e.weight=a.data.weight}}function xee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wee(e,t,n){return t&&xee(e.prototype,t),n&&xee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Eee=wee((function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_ee(this,e),this.updateAcc=function(e){i.a=i.a.add(e.divide(i.m))},this.p=t,this.m=o,this.v=new q7(0,0),this.a=new q7(0,0),this.id=n,this.data=r})),See=Eee;function kee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cee(e,t,n){return t&&kee(e.prototype,t),n&&kee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mee=Cee((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.target=n,this.length=r})),Oee=Mee;function Nee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tee(e,t,n){return t&&Nee(e.prototype,t),n&&Nee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Aee=Tee((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(e){e&&Object.keys(e).forEach((function(t){n.props[t]=e[t]}))},this.setData=function(e){n.nodes=[],n.edges=[],n.nodeSet={},n.edgeSet={},n.nodePoints=new Map,n.edgeSprings=new Map,n.sourceData=e,n.judgingDistance=0,("nodes"in e||"edges"in e)&&(n.addNodes(e.nodes),n.addEdges(e.edges))},this.getMass=function(e){var t,r=e.layout||{},i=r.degree,o=void 0===i?null===(t=eee(e,n.edges))||void 0===t?void 0:t.degree:i,a=r.force;return a&&a.mass?a.mass:o<5?1:5*o},this.init=function(){var e=n.props,t=e.width,r=e.height,i=n.props.centripetalOptions,o=n.props,a=o.leafCluster,s=o.clustering,u=o.nodeClusterBy,c=o.clusterNodeStrength,l=function(e){return"function"===typeof c?c(e):c};if(a&&(i={single:100,leaf:function(e,t,n){var r=tee(t,u),i=nee("leaf",e,n,u),o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===o||void 0===o?void 0:o.length)||1===(null===r||void 0===r?void 0:r.length)?1:l(e)},others:1,center:function(e,t,n){var r,i,o=((null===(r=e.data)||void 0===r?void 0:r.layout)||{}).degree;if(!o)return{x:100,y:100};if(1===o){var a=nee("leaf",e,n,u).sameTypeLeafNodes;1===a.length?i=void 0:a.length>1&&(i=ree(a))}else i=void 0;return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}),s){var f=Array.from(new Set(n.nodes.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[u]})))).filter((function(e){return void 0!==e})),d={};f.forEach((function(e){var t=n.nodes.filter((function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n[u])===e}));d[e]=ree(t)})),i={single:function(e){return l(e)},leaf:function(e){return l(e)},others:function(e){return l(e)},center:function(e,t,n){var r,i=d[null===(r=e.data)||void 0===r?void 0:r[u]];return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}}n.centripetalOptions=Object.assign(Object.assign({},n.centripetalOptions),i),n.nodes.forEach((function(e){var i=e.data.x||t/2,o=e.data.y||r/2,a=new q7(i,o);e.data.layout||(e.data.layout={});var s=eee(e,n.edges);e.data.layout=Object.assign(Object.assign({},e.data.layout),s);var u=n.getMass(e.data);n.nodePoints.set(e.id,new See(a,String(e.id),e.data,u))})),n.edges.forEach((function(e){var t=n.nodePoints.get(e.source.id),r=n.nodePoints.get(e.target.id),i=n.props.defSpringLen(e,t,r);n.edgeSprings.set(e.id,new Oee(t,r,i))}));var h=n.nodePoints.size,p=Math.pow(10,2);n.props.minEnergyThreshold=.5*Math.pow(1,2)*1*h*p},this.start=function(){n.init(),n.props.animation?n.animation():n.slienceForce()},this.calTotalEnergy=function(){var e=0;return n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id),i=r.v.magnitude(),o=r.m;e+=o*Math.pow(i,2)*.5})),e},this.slienceForce=function(){for(var e=n.props,t=e.done,r=e.maxIterations,i=e.minDistanceThreshold,o=0;(n.judgingDistance>i||o<1)&&o<r;o++)n.tick(n.props.tickInterval),n.iterations++;n.render(),t&&t(n.renderNodes)},this.requestAnimationFrame=function(e){return n.props.enableWorker?setInterval((function(){e()}),16):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){n.props.enableWorker?clearInterval(e):window.cancelAnimationFrame(e)},this.animation=function(){var e=n.props,t=e.enableWorker,r=e.maxIterations,i=e.minDistanceThreshold,o=e.done,a=e.tickInterval;if(t)for(var s=(new Date).valueOf(),u=function(e){return e>10?2e3:20*e*e},c=0;c<r;c++){var l=Math.max(.02,.22-.002*c);n.tick(l),(new Date).valueOf()-s>=u(c)&&(n.render(),s=(new Date).valueOf());var f=n.calTotalEnergy(),d=n.registers.get("monitor");if(d&&d(n.reportMointor(f)),n.judgingDistance<i)return n.render(),void(o&&o(n.renderNodes))}else{n.timer=n.requestAnimationFrame((function e(){n.tick(a),n.render(),n.iterations++;var t=n.calTotalEnergy(),r=n.registers.get("monitor");r&&r(n.reportMointor(t)),n.judgingDistance<i||n.iterations>n.props.maxIterations?(n.cancelAnimationFrame(n.timer),n.iterations=0,n.done=!0,o&&o(n.renderNodes)):n.timer=n.requestAnimationFrame(e)}))}},this.render=function(){var e=n.registers.get("render");n.renderNodes=[],n.nodePoints.forEach((function(e){n.renderNodes.push(Object.assign(Object.assign({},n.nodeSet[e.id]&&n.nodeSet[e.id].data),{x:e.p.x,y:e.p.y}))})),e?e({nodes:n.renderNodes,edges:n.sourceData.edges}):console.error("need a render function")},this.reportMointor=function(e){return{energy:e,iterations:n.iterations,nodes:n.nodes,edges:n.edges}},this.tick=function(e){n.updateCoulombsLawOptimized(),n.updateHookesLaw(),n.attractToCentre(),n.updateVelocity(e),n.updatePosition(e)},this.updateCoulombsLawOptimized=function(){var e=n.props.coulombDisScale,t=n.props.repulsion,r=n.nodes.map((function(e){var t=n.nodePoints.get(e.id).p;return{x:t.x,y:t.y}})),i=yee(r,e,t);n.nodes.forEach((function(e,t){n.nodePoints.get(e.id).updateAcc(new q7(i[t].vx,i[t].vy))}))},this.updateCoulombsLaw=function(){for(var e=n.nodes.length,t=0;t<e;t++)for(var r=t+1;r<e;r++)if(t!==r){var i=n.nodes[t],o=n.nodes[r],a=n.props.coulombDisScale,s=n.props.repulsion,u=n.nodePoints.get(i.id).p.subtract(n.nodePoints.get(o.id).p),c=(u.magnitude()+.1)*a,l=u.normalise();n.nodePoints.get(i.id).updateAcc(l.scalarMultip(1*s).divide(Math.pow(c,2))),n.nodePoints.get(o.id).updateAcc(l.scalarMultip(1*s).divide(-Math.pow(c,2)))}},this.updateHookesLaw=function(){n.edges.forEach((function(e){var t=n.edgeSprings.get(e.id),r=t.target.p.subtract(t.source.p),i=t.length-r.magnitude(),o=r.normalise();t.source.updateAcc(o.scalarMultip(-n.props.stiffness*i)),t.target.updateAcc(o.scalarMultip(n.props.stiffness*i))}))},this.attractToCentre=function(){var e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=n.nodePoints.get(e.id),o=i.p.subtract(t);i.updateAcc(o.scalarMultip(-r))};n.nodes.forEach((function(t){var r,i=null===(r=t.data)||void 0===r?void 0:r.layout,o=i.degree,a=i.sDegree,s=i.tDegree,u=n.centripetalOptions,c=u.leaf,l=u.single,f=u.others,d=u.center,h=n.props,p=h.width,v=h.height;if(void 0!==d){var g=d(t,n.nodes,n.edges,p,v),m=g.x,y=g.y,b=g.centerStrength;if(void 0!==m&&void 0!==y){var x=new q7(m,y);if(b)e(t,x,b);else{var w="function"===typeof c?c(t,n.nodes,n.edges):c,_="function"===typeof l?l(t):l,E="function"===typeof f?f(t):f;0!==w&&0!==_&&0!==E&&e(t,x,0===o?_:0===s||0===a?w:E)}}}}))},this.updateVelocity=function(e){n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id);r.v=r.v.add(r.a.scalarMultip(e)).scalarMultip(n.props.damping),r.v.magnitude()>n.props.maxSpeed&&(r.v=r.v.normalise().scalarMultip(n.props.maxSpeed)),r.a=new q7(0,0)}))},this.updatePosition=function(e){var t;if(null===(t=n.nodes)||void 0===t?void 0:t.length){var r=n.props.distanceThresholdMode,i=0;"max"===r?n.judgingDistance=-1/0:"min"===r&&(n.judgingDistance=1/0),n.nodes.forEach((function(t){var o=n.nodePoints.get(t.id);o.p=o.p.add(o.v.scalarMultip(e));var a=o.v.scalarMultip(e).magnitude();switch(r){case"max":n.judgingDistance<a&&(n.judgingDistance=a);break;case"min":n.judgingDistance>a&&(n.judgingDistance=a);break;default:i+=a}})),r&&"mean"!==r||(n.judgingDistance=i/n.nodes.length)}else n.judgingDistance=0},this.addNode=function(e){var t=n.props.ignore;t&&t(e)||(e.id in n.nodeSet||n.nodes.push(e),n.nodeSet[e.id]=e)},this.addNodes=function(e){e.forEach((function(e){n.addNode(new see(e))}))},this.addEdge=function(e){return e.id in n.edgeSet||n.edges.push(e),n.edgeSet[e.id]=e,e},this.addEdges=function(e){try{for(var t=e.length,r=0;r<t;r++){var i=e[r],o=i.source,a=i.target,s=n.nodeSet[o];if(void 0===s)throw new TypeError("invalid node name: ".concat(i.source));var u=n.nodeSet[a];if(void 0===u)throw new TypeError("invalid node name: ".concat(i.target));var c=i.data,l=new uee(String(n.nextEdgeId++),s,u,c);n.addEdge(l)}}catch(f){console.error(f)}},this.register=function(e,t){n.registers.set(e,t)},this.restart=function(e,t){var r=n.props.ignore;t.getNodes().forEach((function(e){var t=e.get("model");if(!r||!r(t)){var i=new q7(t.x,t.y),o=n.nodePoints.get(t.id);o&&(o.p=i,n.nodePoints.set(t.id,o))}}));e.forEach((function(e){var t=new q7(e.x,e.y),r=n.getMass(e);n.nodePoints.set(e.id,new See(t,e.id,e.data,r)),n.edges.forEach((function(t){var r=n.nodePoints.get(t.source.id),i=n.nodePoints.get(t.target.id);if(r.id===e.id||i.id===e.id){var o=n.edgeSprings.get(t.id).length||100;n.edgeSprings.set(t.id,new Oee(r,i,o))}}))})),n.props.restartAnimation?n.animation():n.slienceForce()},this.stop=function(){window.cancelAnimationFrame(n.timer),n.done=!0},this.props={stiffness:200,enableWorker:!1,defSpringLen:function(e){return e.data.spring||200},repulsion:1e3,centripetalOptions:{leaf:2,single:2},leafCluster:!1,clustering:!1,nodeClusterBy:"cluster",clusterNodeStrength:20,damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,coulombDisScale:.005,tickInterval:.02,groupFactor:4,maxIterations:7440,minDistanceThreshold:.4,distanceThresholdMode:"mean",animation:!0,restartAnimation:!0,width:200,height:200},this.updateOptions(t),this.sourceData={nodes:[],edges:[],combos:[]},this.nodes=[],this.edges=[],this.nodeSet={},this.edgeSet={},this.renderNodes=[],this.nodePoints=new Map,this.edgeSprings=new Map,this.registers=new Map,this.done=!1,this.judgingDistance=0,this.iterations=0,this.nextEdgeId=0,this.timer=0,this.center=new q7(0,0),this.centripetalOptions={leaf:2,single:2,others:1,center:function(e){return{x:n.props.width/2,y:n.props.height/2}}},this.dragNodes=[]})),Pee=Aee,Iee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Dee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ree(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ree(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ree(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jee=function(e,t,n){if(t)try{e.forEach((function(e){var r=e.cfg.name;if(t[r]){var i=n(t,r),o=i.animate,a=i.visible,s=Lee(i,["animate","visible"]);if(!e.attrs.img&&(e.attr(s),e.cfg.visible=!1!==a,o)){var u=o.attrs,c=Lee(o,["attrs"]);e.animate(u,c)}}}))}catch(r){console.error(r)}};function Fee(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}var Bee=function(e){if(!e)return[0,0];var t=0,n=0;if((0,eW.isNumber)(e))t=e,n=e;else if((0,eW.isArray)(e))if(1===e.length){var r=Dee(e,1)[0];t=r,n=r}else if(2===e.length){var i=Dee(e,2);t=i[0],n=i[1]}return[t,n]};function zee(e){return function(e){if(Array.isArray(e))return Vee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Gee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gee(e,t){if(e){if("string"===typeof e)return Vee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vee(e,t):void 0}}function Vee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Wee(e){var t;return(0,eW.isNumber)(e)?t=e/2:(0,eW.isArray)(e)&&(t=e[0]/2),t}var Yee=function(e){var t,n,r,i=e.halo,o=e.keyshape,a=i.size,s=i.visible,u=i.fill,c=i.fillOpacity,l=Zee(i,["size","visible","fill","fillOpacity"]),f=Wee(a);o&&o.size&&(t=Wee(o.size)+15);return o&&o.fill&&(n=o.fill),o&&o.stroke&&(r=o.stroke),{name:"halo",visible:!1!==s,attrs:Fee(Object.assign({x:0,y:0,r:f||t,fill:u||n||r,fillOpacity:c||.1,visible:!1!==s},l))}},Hee=function(e){var t=e.keyshape,n=t.size,r=t.visible,i=t.stroke,o=t.fill,a=t.fillOpacity,s=t.strokeOpacity,u=Zee(t,["size","visible","stroke","fill","fillOpacity","strokeOpacity"]),c=Wee(n);return{name:"keyshape",visible:!1!==r,attrs:Fee(Object.assign({x:0,y:0,r:c,cursor:"pointer",visible:!1!==r,stroke:i,strokeOpacity:s||1,fill:o||i,fillOpacity:a||.2},u))}},qee=function(e){var t=e.label,n=t.value,r=t.fill,i=t.fontSize,o=t.visible,a=Zee(t,["value","fill","fontSize","visible"]),s=function(e){var t=e.label,n=e.keyshape;if(!(null===n||void 0===n?void 0:n.size)&&!(null===t||void 0===t?void 0:t.offset))return{x:void 0,y:void 0,textBaseline:null===t||void 0===t?void 0:t.textBaseline};!(null===n||void 0===n?void 0:n.size)&&(null===t||void 0===t?void 0:t.offset)&&(n.size=26,console.info("you should set keyshape.size when you update label position,the default keyshape size value is  26"));var r=n.size,i=[0,0],o=t.position,a=t.offset,s=void 0===a?i:a;"number"!==typeof s&&"string"!==typeof s||(i=[Number(s),Number(s)]),s.length>0&&(i=s);var u=Dee(i,2),c=u[0],l=u[1];if("center"===o)return{x:0+c,y:0+l};var f,d=Bee(r),h=d[0],p=d[1];switch(o){case"top":f={x:0+c,y:-p/2-l,textBaseline:"bottom"};break;case"bottom":default:f={x:0+c,y:p/2+l,textBaseline:"top"};break;case"left":f={x:0-h-c,y:0+l,textAlign:"right"};break;case"right":f={x:0+h+c,y:0+l,textAlign:"left"}}return f}(e);return{name:"label",visible:!1!==o,attrs:Fee(Object.assign({x:s.x,y:s.y,fontSize:i,text:n,textAlign:"center",fill:r,textBaseline:s.textBaseline,visible:!1!==o},a))}},Xee=function(e){var t=e.icon,n=t.value,r=void 0===n?"":n,i=t.type,o=t.fontFamily,a=t.textAlign,s=void 0===a?"center":a,u=t.textBaseline,c=void 0===u?"middle":u,l=t.fill,f=t.size,d=t.visible,h=(t.clip,Zee(t,["value","type","fontFamily","textAlign","textBaseline","fill","size","visible","clip"])),p=Uee(Bee(f),2),v=p[0],g=p[1],m={name:"icon",visible:!1!==d,capture:!1};return"text"===i||"font"===i?Object.assign(Object.assign({},m),{attrs:Object.assign({x:0,y:0,textAlign:s,textBaseline:c,text:r,fontSize:v,fontFamily:o,fill:l,visible:!1!==d},h)}):Object.assign(Object.assign({},m),{attrs:Object.assign({x:-v/2,y:-g/2,img:r,width:v,height:g,visible:!1!==d},h)})},Kee=function(e,t){return"keyshape"===t?Hee(e).attrs:"halo"===t?Yee(e).attrs:"label"===t?qee(e).attrs:"icon"===t?Xee(e).attrs:e[t]||{}},$ee=function(e,t,n){var r=e.type,i=e.position,o=e.value,a=void 0===o?"":o,s=e.size,u=e.fill,c=e.stroke,l=e.color,f=e.fontSize,d=e.fontFamily,h=e.padding,p=void 0===h?0:h,v=e.offset,g=void 0===v?[0,0]:v,m=e.id,y=Bee(g),b=Uee(Bee(s),2),x=b[0],w=b[1],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RT",t=arguments.length>1?arguments[1]:void 0,n=0,r=0;return"LT"===e?(n=t*Math.cos(3*Math.PI/4),r=-t*Math.sin(3*Math.PI/4)):"LB"===e?(n=t*Math.cos(5*Math.PI/4),r=-t*Math.sin(5*Math.PI/4)):"RT"===e?(n=t*Math.cos(1*Math.PI/4),r=-t*Math.sin(1*Math.PI/4)):"RB"===e&&(n=t*Math.cos(7*Math.PI/4),r=-t*Math.sin(7*Math.PI/4)),{x:n,y:r}}(i,n),E=_.x,S=_.y,k=E,C=S;if(x===w){var M={attrs:{r:x/2+p,fill:u,stroke:c,x:k+=y[0],y:C+=y[1]},name:"badges-circle"};m&&(M.id=m),t.addShape("circle",M)}else{k=E-x-2*p,C=S-w-2*p,"LB"===i?C=S:"RT"===i?(k=E,C=S-w-2*p):"RB"===i&&(k=E,C=S);var O={attrs:{width:x+2*p,height:w+2*p,fill:u,stroke:c,x:k+=y[0],y:C+=y[1],radius:(w+2*p)/3},name:"badges-rect"};m&&(O.id=m),t.addShape("rect",O)}"font"===r||"text"===r?t.addShape("text",{attrs:{x:x!==w?k+x/2+p:k,y:x!==w?C+w/2+p:C,text:a,fontSize:f,textAlign:"center",textBaseline:"middle",fontFamily:d,fill:l},capture:!1,name:"badges-text"}):"image"===r&&t.addShape("image",{attrs:{x:k-x/2,y:k-w/2,width:x,height:w,img:a},capture:!1,name:"badges-image"})};function Qee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Jee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ete,tte=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function nte(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}!function(e){e.NORMAL="normal",e.SELECTED="selected",e.HOVERED="hovered",e.DISABLED="disabled"}(ete||(ete={}));var rte=function(e,t){return"keyshape"===t?function(e){var t=tte(e,[]);return nte(Object.assign({id:"keyshape"},t))}(e.keyshape||{}):"halo"===t?function(e){var t=tte(e,[]);return nte(Object.assign({id:"halo"},t))}(e.halo||{}):"label"===t?function(e){var t=e.value,n=tte(e,["value"]);return nte(Object.assign({id:"label",text:t},n))}(e.label||{}):{}},ite=function(e,t,n){var r=(t.x+e.x)/2,i=(t.y+e.y)/2,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return{x:r+a*n/s||0,y:i-o*n/s||0}};V7.registerLayout("graphin-force",{getDefaultCfg:function(){return{preset:{name:"grid",options:{}},stiffness:200,repulsion:1e3,centripetalOptions:{leaf:1.6,single:1.6},damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,MaxIterations:1e4,animation:!0}},init:function(e){this.nodes=e.nodes,this.edges=e.edges;var t=this.graph,n=Iee(this,["graph"]),r=Object.assign(Object.assign({},this.getDefaultCfg()),n),i=r.width,o=r.height,a=r.animation,s=r.done,u=void 0===s?function(){}:s,c=Iee(r,["width","height","animation","done"]);this.simulation=new Pee(Object.assign(Object.assign(Object.assign({width:i,height:o,animation:a},c),n),{done:function(e){u(t,e)}})),this.simulation.setData(e),this.simulation.register("render",(function(n){if(!a&&e&&e.nodes&&e.nodes.length>0){var r=n.nodes;return e.nodes.forEach((function(e,t){var n=r[t];if(n&&n.id===e.id)e.x=r[t].x,e.y=r[t].y;else{var i=r.find((function(t){return t.id===e.id}));i&&(e.x=i.x,e.y=i.y)}})),Object.assign({},n)}try{if(!t||t.destroyed)return;var i=!1;n.nodes.forEach((function(e){var n=t.findById(e.id);if(n){var r=n.get("model");r.x=e.x,r.y=e.y,"combo"===n.getType()&&(i=!0)}})),t.refreshPositions(i)}catch(o){console.error(o)}}))},execute:function(){this.simulation.start()},layout:function(e){this.init(e),this.execute()},updateCfg:function(e){this.cfg=Object.assign(Object.assign({},this.cfg),e)},destroy:function(){this.destroyed=!0,this.simulation.stop(),this.simulation=null},getType:function(){return"graphin-force"}}),V7.registerLayout("preset",{init:function(){},execute:function(){},destroy:function(){this.destroyed=!0}}),N9.registerNode("graphin-circle",{options:{style:{},status:{}},draw:function(e,t){var n=e.style._theme;this.options=function(){var e=S7(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultNodeStyle,n=e.defaultNodeStatusStyle;return{style:t.style,status:n.status}}(n);var r=(0,eW.deepMix)({},this.options.style,e.style);e._initialStyle=Object.assign({},r);var i=r.icon,o=r.badges,a=void 0===o?[]:o,s=Wee(r.keyshape.size);t.addShape("circle",Yee(r));var u=t.addShape("circle",Hee(r));t.addShape("text",qee(r));var c=i.type;if("text"!==c&&"font"!==c||t.addShape("text",Xee(r)),"image"===c){var l=Xee(r),f=t.addShape("image",l),d=r.icon.clip;if(d){var h=d.r,p=Zee(d,["r"]);f.setClip({type:"circle",attrs:Object.assign({x:0,y:0,r:h},p)})}}return a.forEach((function(e){$ee(e,t,s)})),u},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,eW.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?jee(o,a[n],Kee):(jee(o,s,Kee),u.forEach((function(e){jee(o,a[e],Kee)}))))}))}catch(c){console.error(c)}}},update:function(e,t){if(e.style)try{var n=(0,eW.deepMix)({},e._initialStyle,e.style);e._initialStyle=Object.assign({},n);var r=n.badges,i=Wee(n.keyshape.size),o=t.getContainer(),a=o.get("children");jee(a,n,Kee);var s=zee(a);if(r){var u=0;s.forEach((function(e){e.cfg.name.startsWith("badges")?a.splice(u,1):u+=1})),r.forEach((function(e){$ee(e,o,i)}))}}catch(c){console.error("error")}}}),N9.registerEdge("graphin-line",{draw:function(e,t){var n,r,i,o,a,s=e.style._theme;this.options=function(){var e=S7(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultEdgeStyle,n=e.defaultEdgeStatusStyle;return{style:t.style,status:n.status}}(s);var u=(0,eW.deepMix)({},this.options.style,e.style);e&&(e._initialStyle=Object.assign({},u));var c=e.startPoint,l=void 0===c?{x:0,y:0}:c,f=e.endPoint,d=void 0===f?{x:0,y:0}:f,h=e.sourceNode,p=e.targetNode,v=u.label,g=u.halo,m=u.keyshape,y=h.get("model"),b=(null===(n=p)||void 0===n?void 0:n.get("model"))||{id:"temp"},x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||28,w="loop"===(null===m||void 0===m?void 0:m.type)||y.id===b.id,_=v.value,E="poly"===(null===m||void 0===m?void 0:m.type),S=ite(l,d,(null===(o=null===m||void 0===m?void 0:m.poly)||void 0===o?void 0:o.distance)||0),k=(null===m||void 0===m?void 0:m.lineWidth)||1,C=k+5,M=function(e,t){var n,r,i,o=e.startPoint,a=void 0===o?{x:0,y:0}:o,s=e.endPoint,u=void 0===s?{x:0,y:0}:s,c=e.sourceNode,l=e.targetNode,f=t.keyshape,d=f.type,h=void 0===d?"line":d,p=f.poly,v=void 0===p?{distance:0}:p,g=f.loop,m=void 0===g?{}:g,y=c.get("model"),b=(null===(n=l)||void 0===n?void 0:n.get("model"))||{id:"temp"};if("loop"===h||y.id===b.id){var x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||26,w=Object.assign({distance:0,dx:8,rx:void 0,ry:void 0},m),_=w.distance,E=w.dx,S=w.rx,k=w.ry,C=x/2,M=Math.sqrt(Math.pow(C,2)-Math.pow(E,2)),O=S||2*C*.5,N=k||2*C*.6;return[["M",a.x-E,a.y-M],["A",O+_,N+_,0,1,1,a.x+E,a.y-M]]}if("poly"===h){var T=ite(a,u,(null===v||void 0===v?void 0:v.distance)||0);return[["M",a.x,a.y],["Q",T.x,T.y,u.x,u.y]]}return[["M",a.x,a.y],["L",u.x,u.y]]}(e,u);t.addShape("path",{attrs:Object.assign({id:"halo",path:M,lineWidth:k+10,stroke:g.stroke||m.stroke,strokeOpacity:g.strokeOpacity||.4},g),draggable:!0,name:"halo",visible:!1!==g.visible});var O=t.addShape("path",{attrs:Object.assign({id:"keyshape",path:M,endArrow:w?void 0:{d:0,path:"M 0,0 L ".concat(C,",").concat(C/2," L ").concat(C,",-").concat(C/2," Z"),fill:m.stroke}},m),draggable:!0,name:"keyshape"});if(_){var N=v.value,T=v.fontSize,A=void 0===T?8:T,P=v.offset,I=void 0===P?[0,0]:P,D=v.background,R=tte(v,["value","fontSize","offset","background"]),L=Boolean(D),j=Qee(I,2),F=j[0],B=j[1],z=Math.atan((d.y-l.y)/(d.x-l.x)),U=[(l.x+d.x)/2,(l.y+d.y)/2];if(E&&(U=[(S.x+U[0])/2,(S.y+U[1])/2]),d.x-l.x===0&&(z=Math.PI/2),w&&(z=2*Math.PI),L){var G={fill:"#fff",width:String(N).length*A*.6,height:1.8*A,stroke:m.stroke,lineWidth:1,radius:6},V=Object.assign(Object.assign({},G),D),Z=V.fill,W=V.width,Y=V.height,H=V.stroke,q=tte(V,["fill","width","height","stroke"]),X=t.addShape("rect",{attrs:Object.assign({id:"label-background",x:-W/2+F,y:-Y/2+B,width:W,height:Y,fill:Z,stroke:H},q),draggable:!0,name:"label-background"});X.rotate(z),X.translate(U[0],U[1])}var K=B-A/2;w&&(K=B-1.6*x-2*((null===(a=null===m||void 0===m?void 0:m.loop)||void 0===a?void 0:a.distance)||0)),L&&(K=B+A/2);var $=t.addShape("text",{attrs:Object.assign({id:"label",x:F,y:K,text:N,fontSize:A},R),draggable:!0,name:"label"});$.rotate(z),$.translate(U[0],U[1])}return O},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,eW.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?jee(o,a[n],rte):(jee(o,s,rte),u.forEach((function(e){jee(o,a[e],rte)}))))}))}catch(c){console.error(c)}}}});V7.registerFontFamily;var ote=V7,ate=o7.ZoomCanvas,ste=o7.DragCanvas;var ute={type:"graphin-circle",Style:{keyshape:{fill:"#000",stroke:"#000",fillOpacity:.1},label:{visible:!0}}};ote.registerBehavior("openPaperOnClick",{getEvents:function(){return{"node:click":"onClick"}},onClick:function(e){var t=e.item.getModel();rz.info({content:(0,fk.jsx)("a",{href:t.id,target:"_blank",rel:"noreferrer",children:t.id})})}});var cte=function(){var e=function(){for(var e=A_(),t=[],n=[],r=at,i=[],o=0;o<e.length;o++)for(var a=o+1;a<e.length;a++)i.push([o,a]);return i.forEach((function(t){var i,o=e[t[0]],a=e[t[1]],s=0,u=(0,T_.Z)(r);try{var c=function(){var e=i.value,t=o[e];if(!Array.isArray(t))return"continue";s+=t.filter((function(t){var n=a[e];return Array.isArray(n)&&n.some((function(e){return e===t}))})).length};for(u.s();!(i=u.n()).done;)c()}catch(f){u.e(f)}finally{u.f()}if(s>5){var l={source:o.url,target:a.url,style:{keyshape:{endArrow:{path:"123"},type:"line",poly:{distance:600-5*s},lineWidth:1+.5*s,opacity:(1+s)/50,stroke:"1",fill:"#ffffff"}}};n.push(l)}})),e.forEach((function(e){var n={id:e.url,label:{value:e.Authors[0]+"et al"},size:150,style:{keyshape:{stroke:"red",fill:"red",fillOpacity:.2},label:{value:e.Authors[0]+" et al"}}};t.push(n)})),{nodes:t,edges:n}}();return e.nodes.length<1?(0,fk.jsx)(bne,{}):(0,fk.jsx)("div",{className:"TestChart",children:(0,fk.jsxs)(ote,{data:e,layout:{type:"force",maxIteration:1e3,preventOverlap:!0,nodeSpacing:100,nodeSize:10,strictRadial:!1,gpuEnabled:!0},defaultNode:ute,modes:{default:["openPaperOnClick"]},children:[(0,fk.jsx)(ate,{enableOptimize:!0}),(0,fk.jsx)(ste,{})]})})},lte=n(24242),fte=n.n(lte),dte=n(30298),hte=n.n(dte),pte=n(80086),vte=n.n(pte);function gte(){return gte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gte.apply(this,arguments)}var mte=4,yte=120,bte=8,xte=function(e){return"circle"===e.type},wte=function(e){return"dot"===e.type},_te=function(e){return"rect"===e.type},Ete=function(e){var t,n,r=e.x,i=e.y,o=e.noteX,a=e.noteY,s=e.noteWidth,u=void 0===s?yte:s,c=e.noteTextOffset,l=void 0===c?bte:c;if(hte()(o))t=r+o;else{if(void 0===o.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=o.abs}if(hte()(a))n=i+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var f=r,d=i,h=function(e,t,n,r){var i=Math.atan2(r-t,n-e);return function(e){var t=e%360;return t<0&&(t+=360),t}(TL(i))}(r,i,t,n);if(xte(e)){var p=AL(NL(h),e.size/2);f+=p.x,d+=p.y}if(_te(e)){var v=Math.round((h+90)/45)%8;0===v&&(d-=e.height/2),1===v&&(f+=e.width/2,d-=e.height/2),2===v&&(f+=e.width/2),3===v&&(f+=e.width/2,d+=e.height/2),4===v&&(d+=e.height/2),5===v&&(f-=e.width/2,d+=e.height/2),6===v&&(f-=e.width/2),7===v&&(f-=e.width/2,d-=e.height/2)}var g=t,m=t;return(h+90)%360>180?(g-=u,m-=u):m+=u,{points:[[f,d],[t,n],[m,n]],text:[g,n-l],angle:h+90}},Ste=function(e){var t=e.data,n=e.annotations,r=e.getPosition,i=e.getDimensions;return(0,y.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,r=e.getPosition,i=e.getDimensions;return n.reduce((function(e,n){var o=n.offset||0;return[].concat(e,vte()(t,n.match).map((function(e){var t=r(e),a=i(e);return(xte(n)||_te(n))&&(a.size=a.size+2*o,a.width=a.width+2*o,a.height=a.height+2*o),gte({},fte()(n,["match","offset"]),t,a,{size:n.size||a.size,datum:e})})))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:i})}),[t,n,r,i])},kte=function(e){var t=e.datum,n=e.x,r=e.y,i=e.note,o=xL(),a=QR(),s=a.animate,u=UO({x:n,y:r,config:a.config,immediate:!s});return"function"==typeof i?(0,y.createElement)(i,{x:n,y:r,datum:t}):(0,fk.jsxs)(fk.Fragment,{children:[o.annotations.text.outlineWidth>0&&(0,fk.jsx)(pN.text,{x:u.x,y:u.y,style:gte({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:i}),(0,fk.jsx)(pN.text,{x:u.x,y:u.y,style:fte()(o.annotations.text,["outlineWidth","outlineColor"]),children:i})]})},Cte=function(e){var t=e.points,n=e.isOutline,r=void 0!==n&&n,i=xL(),o=(0,y.useMemo)((function(){var e=t[0];return t.slice(1).reduce((function(e,t){return e+" L"+t[0]+","+t[1]}),"M"+e[0]+","+e[1])}),[t]),a=JR(o);if(r&&i.annotations.link.outlineWidth<=0)return null;var s=gte({},i.annotations.link);return r&&(s.strokeLinecap="square",s.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,s.stroke=i.annotations.link.outlineColor,s.opacity=i.annotations.link.outlineOpacity),(0,fk.jsx)(pN.path,{fill:"none",d:a,style:s})},Mte=function(e){var t=e.x,n=e.y,r=e.size,i=xL(),o=QR(),a=o.animate,s=UO({x:t,y:n,radius:r/2,config:o.config,immediate:!a});return(0,fk.jsxs)(fk.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,fk.jsx)(pN.circle,{cx:s.x,cy:s.y,r:s.radius,style:gte({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),(0,fk.jsx)(pN.circle,{cx:s.x,cy:s.y,r:s.radius,style:i.annotations.outline})]})},Ote=function(e){var t=e.x,n=e.y,r=e.size,i=void 0===r?mte:r,o=xL(),a=QR(),s=a.animate,u=UO({x:t,y:n,radius:i/2,config:a.config,immediate:!s});return(0,fk.jsxs)(fk.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,fk.jsx)(pN.circle,{cx:u.x,cy:u.y,r:u.radius,style:gte({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),(0,fk.jsx)(pN.circle,{cx:u.x,cy:u.y,r:u.radius,style:o.annotations.symbol})]})},Nte=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.borderRadius,a=void 0===o?6:o,s=xL(),u=QR(),c=u.animate,l=UO({x:t-r/2,y:n-i/2,width:r,height:i,config:u.config,immediate:!c});return(0,fk.jsxs)(fk.Fragment,{children:[s.annotations.outline.outlineWidth>0&&(0,fk.jsx)(pN.rect,{x:l.x,y:l.y,rx:a,ry:a,width:l.width,height:l.height,style:gte({},s.annotations.outline,{fill:"none",strokeWidth:s.annotations.outline.strokeWidth+2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),(0,fk.jsx)(pN.rect,{x:l.x,y:l.y,rx:a,ry:a,width:l.width,height:l.height,style:s.annotations.outline})]})},Tte=function(e){var t=e.datum,n=e.x,r=e.y,i=e.note,o=function(e){return(0,y.useMemo)((function(){return Ete(e)}),[e])}(e);if(!function(e){var t=typeof e;return(0,y.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(i))throw new Error("note should be a valid react element");return(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsx)(Cte,{points:o.points,isOutline:!0}),xte(e)&&(0,fk.jsx)(Mte,{x:n,y:r,size:e.size}),wte(e)&&(0,fk.jsx)(Ote,{x:n,y:r,size:e.size}),_te(e)&&(0,fk.jsx)(Nte,{x:n,y:r,width:e.width,height:e.height,borderRadius:e.borderRadius}),(0,fk.jsx)(Cte,{points:o.points}),(0,fk.jsx)(kte,{datum:t,x:o.text[0],y:o.text[1],note:i})]})},Ate=function(e,t){t.forEach((function(t,n){var r=t[0],i=t[1];0===n?e.moveTo(r,i):e.lineTo(r,i)}))},Pte=Array.prototype.slice;function Ite(e,t){return e[t]}function Dte(){return Dte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dte.apply(this,arguments)}function Rte(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Lte,jte=function(e){var t=e.bars,n=e.annotations,r=Ste({data:t,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,n=e.width;return{width:n,height:t,size:Math.max(n,t)}}});return(0,fk.jsx)(fk.Fragment,{children:r.map((function(e,t){return(0,fk.jsx)(Tte,Dte({},e),t)}))})},Fte=function(e){var t=e.width,n=e.height,r=e.legends,i=e.toggleSerie;return(0,fk.jsx)(fk.Fragment,{children:r.map((function(e,r){var o,a=e[0],s=e[1];return(0,fk.jsx)(MV,Dte({},a,{containerWidth:t,containerHeight:n,data:null!=(o=a.data)?o:s,toggleSerie:a.toggleSerie&&"keys"===a.dataFrom?i:void 0}),r)}))})},Bte=["data"],zte=["color","label"],Ute={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var t=e.color,n=e.label,r=Rte(e,zte);return(0,fk.jsx)(xN,{id:n,value:r.formattedValue,enableChip:!0,color:t})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},Gte=Dte({},Ute,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:function(e){var t,n=e.bar,r=n.data,i=Rte(n,Bte),o=e.style,a=o.borderColor,s=o.color,u=o.height,c=o.labelColor,l=o.labelOpacity,f=o.labelX,d=o.labelY,h=o.transform,p=o.width,v=e.borderRadius,g=e.borderWidth,m=e.label,b=e.shouldRenderLabel,x=e.isInteractive,w=e.onClick,_=e.onMouseEnter,E=e.onMouseLeave,S=e.tooltip,k=e.isFocusable,C=e.ariaLabel,M=e.ariaLabelledBy,O=e.ariaDescribedBy,N=xL(),T=NN(),A=T.showTooltipFromEvent,P=T.showTooltipAt,I=T.hideTooltip,D=(0,y.useMemo)((function(){return function(){return(0,y.createElement)(S,Dte({},i,r))}}),[S,i,r]),R=(0,y.useCallback)((function(e){null==w||w(Dte({color:i.color},r),e)}),[i,r,w]),L=(0,y.useCallback)((function(e){return A(D(),e)}),[A,D]),j=(0,y.useCallback)((function(e){null==_||_(r,e),A(D(),e)}),[r,_,A,D]),F=(0,y.useCallback)((function(e){null==E||E(r,e),I()}),[r,I,E]),B=(0,y.useCallback)((function(){P(D(),[i.absX+i.width/2,i.absY])}),[P,D,i]),z=(0,y.useCallback)((function(){I()}),[I]);return(0,fk.jsxs)(pN.g,{transform:h,children:[(0,fk.jsx)(pN.rect,{width:KO(p,(function(e){return Math.max(e,0)})),height:KO(u,(function(e){return Math.max(e,0)})),rx:v,ry:v,fill:null!=(t=r.fill)?t:s,strokeWidth:g,stroke:a,focusable:k,tabIndex:k?0:void 0,"aria-label":C?C(r):void 0,"aria-labelledby":M?M(r):void 0,"aria-describedby":O?O(r):void 0,onMouseEnter:x?j:void 0,onMouseMove:x?L:void 0,onMouseLeave:x?F:void 0,onClick:x?R:void 0,onFocus:x&&k?B:void 0,onBlur:x&&k?z:void 0}),b&&(0,fk.jsx)(pN.text,{x:f,y:d,textAnchor:"middle",dominantBaseline:"central",fillOpacity:l,style:Dte({},N.labels.text,{pointerEvents:"none",fill:c}),children:m})]})},defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),Vte=Dte({},Ute,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(Lte=window.devicePixelRatio)?Lte:1}),Zte=function(e,t,n,r,i,o){return YG(r,{all:e.map(t),min:0,max:0},i,o).padding(n)},Wte=function(e,t){return e.map((function(e){return Dte({},t.reduce((function(e,t){return e[t]=null,e}),{}),e)}))},Yte=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},Hte=function(e){return[e,Number(e)]},qte=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],Xte=function(e,t){return e>t},Kte=function(e,t){return e<t},$te=function(e,t){return Array.from(" ".repeat(t-e),(function(t,n){return e+n}))},Qte=function(e){return Xte(e,0)?0:e},Jte=function(e,t,n,r){var i=e.data,o=e.formatValue,a=e.getColor,s=e.getIndex,u=e.getTooltipLabel,c=e.innerPadding,l=void 0===c?0:c,f=e.keys,d=e.xScale,h=e.yScale,p=e.margin,v=n?Kte:Xte,g=i.map(Yte),m=[];return f.forEach((function(e,n){return $te(0,d.domain().length).forEach((function(c){var f,y,b,x=Hte(i[c][e]),w=x[0],_=x[1],E=s(i[c]),S=(null!=(f=d(E))?f:0)+t*n+l*n,k=v(y=_,0)?null!=(b=h(y))?b:0:r,C=function(e,t){var n;return v(e,0)?r-t:(null!=(n=h(e))?n:0)-r}(_,k),M={id:e,value:null===w?w:_,formattedValue:o(_),hidden:!1,index:c,indexValue:E,data:g[c]};m.push({key:e+"."+M.indexValue,index:m.length,data:M,x:S,y:k,absX:p.left+S,absY:p.top+k,width:t,height:C,color:a(M),label:u(M)})}))})),m},ene=function(e,t,n,r){var i=e.data,o=e.formatValue,a=e.getIndex,s=e.getColor,u=e.getTooltipLabel,c=e.keys,l=e.innerPadding,f=void 0===l?0:l,d=e.xScale,h=e.yScale,p=e.margin,v=n?Kte:Xte,g=i.map(Yte),m=[];return c.forEach((function(e,n){return $te(0,h.domain().length).forEach((function(c){var l,y,b,x=Hte(i[c][e]),w=x[0],_=x[1],E=a(i[c]),S=v(y=_,0)?r:null!=(b=d(y))?b:0,k=(null!=(l=h(E))?l:0)+t*n+f*n,C=function(e,t){var n;return v(e,0)?(null!=(n=d(e))?n:0)-r:r-t}(_,S),M={id:e,value:null===w?w:_,formattedValue:o(_),hidden:!1,index:c,indexValue:E,data:g[c]};m.push({key:e+"."+M.indexValue,index:m.length,data:M,x:S,y:k,absX:p.left+S,absY:p.top+k,width:C,height:t,color:s(M),label:u(M)})}))})),m},tne=function(e){var t,n,r=e.layout,i=e.minValue,o=e.maxValue,a=e.reverse,s=e.width,u=e.height,c=e.padding,l=void 0===c?0:c,f=e.innerPadding,d=void 0===f?0:f,h=e.valueScale,p=e.indexScale,v=e.hiddenIds,g=void 0===v?[]:v,m=Rte(e,qte),y=m.keys.filter((function(e){return!g.includes(e)})),b=Wte(m.data,y),x="vertical"===r?["y","x",s]:["x","y",u],w=x[0],_=x[1],E=x[2],S=Zte(b,m.getIndex,l,p,E,_),k=Dte({max:o,min:i,reverse:a},h),C="auto"===k.min?Qte:function(e){return e},M=b.reduce((function(e,t){return[].concat(e,y.map((function(e){return t[e]})))}),[]).filter(Boolean),O=YG(k,{all:M,min:C(Math.min.apply(Math,M)),max:(n=Math.max.apply(Math,M),isFinite(n)?n:0)},"x"===w?s:u,w),N="vertical"===r?[S,O]:[O,S],T=N[0],A=N[1],P=(S.bandwidth()-d*(y.length-1))/y.length,I=[Dte({},m,{data:b,keys:y,innerPadding:d,xScale:T,yScale:A}),P,k.reverse,null!=(t=O(0))?t:0];return{xScale:T,yScale:A,bars:P>0?"vertical"===r?Jte.apply(void 0,I):ene.apply(void 0,I):[]}},nne=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],rne=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,t)):t},ine=function(e,t,n){var r=e.formatValue,i=e.getColor,o=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,c=e.xScale,l=e.yScale,f=e.margin,d=[];return u.forEach((function(e){return c.domain().forEach((function(u,h){var p,v,g=e[h],m=null!=(p=c(o(g.data)))?p:0,y=(null!=(v=function(e){return l(e[n?0:1])}(g))?v:0)+.5*s,b=function(e,t){var r;return(null!=(r=l(e[n?1:0]))?r:0)-t}(g,y)-s,x=Hte(g.data[e.key]),w=x[0],_=x[1],E={id:e.key,value:null===w?w:_,formattedValue:r(_),hidden:!1,index:h,indexValue:u,data:Yte(g.data)};d.push({key:e.key+"."+u,index:d.length,data:E,x:m,y:y,absX:f.left+m,absY:f.top+y,width:t,height:b,color:i(E),label:a(E)})}))})),d},one=function(e,t,n){var r=e.formatValue,i=e.getColor,o=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,c=e.xScale,l=e.yScale,f=e.margin,d=[];return u.forEach((function(e){return l.domain().forEach((function(u,h){var p,v,g=e[h],m=null!=(p=l(o(g.data)))?p:0,y=(null!=(v=function(e){return c(e[n?1:0])}(g))?v:0)+.5*s,b=function(e,t){var r;return(null!=(r=c(e[n?0:1]))?r:0)-t}(g,y)-s,x=Hte(g.data[e.key]),w=x[0],_=x[1],E={id:e.key,value:null===w?w:_,formattedValue:r(_),hidden:!1,index:h,indexValue:u,data:Yte(g.data)};d.push({key:e.key+"."+u,index:d.length,data:E,x:y,y:m,absX:f.left+y,absY:f.top+m,width:b,height:t,color:i(E),label:a(E)})}))})),d},ane=function(e){var t,n=e.data,r=e.layout,i=e.minValue,o=e.maxValue,a=e.reverse,s=e.width,u=e.height,c=e.padding,l=void 0===c?0:c,f=e.valueScale,d=e.indexScale,h=e.hiddenIds,p=void 0===h?[]:h,v=Rte(e,nne),g=v.keys.filter((function(e){return!p.includes(e)})),m=function(){var e=FV([]),t=rI,n=sI,r=Ite;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,d=s[o],h=l[o]=new Array(u),p=0;p<u;++p)h[p]=f=[0,+r(i[p],d,p,i)],f.data=i[p];h.key=d}for(o=0,a=t(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:FV(Pte.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:FV(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?rI:"function"===typeof e?e:FV(Pte.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?sI:e,i):n},i}().keys(g).offset(uI)(Wte(n,g)),y="vertical"===r?["y","x",s]:["x","y",u],b=y[0],x=y[1],w=y[2],_=Zte(n,v.getIndex,l,d,w,x),E=Dte({max:o,min:i,reverse:a},f),S=(t=rne(m),"log"===f.type?t.filter((function(e){return 0!==e})):t),k=YG(E,{all:S,min:Math.min.apply(Math,S),max:Math.max.apply(Math,S)},"x"===b?s:u,b),C="vertical"===r?[_,k]:[k,_],M=C[0],O=C[1],N=v.innerPadding>0?v.innerPadding:0,T=_.bandwidth(),A=[Dte({},v,{innerPadding:N,stackedData:m,xScale:M,yScale:O}),T,E.reverse];return{xScale:M,yScale:O,bars:T>0?"vertical"===r?ine.apply(void 0,A):one.apply(void 0,A):[]}},sne=function(e){var t=e.bars,n=e.direction,r=e.from,i=e.groupMode,o=e.layout,a=e.legendLabel,s=e.reverse,u=$L(null!=a?a:"indexes"===r?"indexValue":"id");return"indexes"===r?function(e,t,n){var r=cz()(e.map((function(e){var t,r;return{id:null!=(t=e.data.indexValue)?t:"",label:n(e.data),hidden:e.data.hidden,color:null!=(r=e.color)?r:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&r.reverse(),r}(t,o,u):function(e,t,n,r,i,o){var a=cz()(e.map((function(e){var t;return{id:e.data.id,label:o(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===r&&"column"===n&&!0!==i||"horizontal"===t&&"stacked"===r&&!0===i)&&a.reverse(),a}(t,o,n,i,s,u)},une=function(e){var t=e.indexBy,n=void 0===t?Ute.indexBy:t,r=e.keys,i=void 0===r?Ute.keys:r,o=e.label,a=void 0===o?Ute.label:o,s=e.tooltipLabel,u=void 0===s?Ute.tooltipLabel:s,c=e.valueFormat,l=e.colors,f=void 0===l?Ute.colors:l,d=e.colorBy,h=void 0===d?Ute.colorBy:d,p=e.borderColor,v=void 0===p?Ute.borderColor:p,g=e.labelTextColor,m=void 0===g?Ute.labelTextColor:g,b=e.groupMode,x=void 0===b?Ute.groupMode:b,w=e.layout,_=void 0===w?Ute.layout:w,E=e.reverse,S=void 0===E?Ute.reverse:E,k=e.data,C=e.minValue,M=void 0===C?Ute.minValue:C,O=e.maxValue,N=void 0===O?Ute.maxValue:O,T=e.margin,A=e.width,P=e.height,I=e.padding,D=void 0===I?Ute.padding:I,R=e.innerPadding,L=void 0===R?Ute.innerPadding:R,j=e.valueScale,F=void 0===j?Ute.valueScale:j,B=e.indexScale,z=void 0===B?Ute.indexScale:B,U=e.initialHiddenIds,G=void 0===U?Ute.initialHiddenIds:U,V=e.enableLabel,Z=void 0===V?Ute.enableLabel:V,W=e.labelSkipWidth,Y=void 0===W?Ute.labelSkipWidth:W,H=e.labelSkipHeight,q=void 0===H?Ute.labelSkipHeight:H,X=e.legends,K=void 0===X?Ute.legends:X,$=e.legendLabel,Q=(0,y.useState)(null!=G?G:[]),J=Q[0],ee=Q[1],te=(0,y.useCallback)((function(e){ee((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),ne=QL(n),re=QL(a),ie=QL(u),oe=gL(c),ae=xL(),se=NF(f,h),ue=CF(v,ae),ce=CF(m,ae),le=("grouped"===x?tne:ane)({layout:_,reverse:S,data:k,getIndex:ne,keys:i,minValue:M,maxValue:N,width:A,height:P,getColor:se,padding:D,innerPadding:L,valueScale:F,indexScale:z,hiddenIds:J,formatValue:oe,getTooltipLabel:ie,margin:T}),fe=le.bars,de=le.xScale,he=le.yScale,pe=(0,y.useMemo)((function(){return fe.filter((function(e){return null!==e.data.value})).map((function(e,t){return Dte({},e,{index:t})}))}),[fe]),ve=(0,y.useCallback)((function(e){var t=e.width,n=e.height;return!!Z&&!(Y>0&&t<Y)&&!(q>0&&n<q)}),[Z,Y,q]),ge=(0,y.useMemo)((function(){return i.map((function(e){var t=fe.find((function(t){return t.data.id===e}));return Dte({},t,{data:Dte({id:e},null==t?void 0:t.data,{hidden:J.includes(e)})})}))}),[J,i,fe]),me=(0,y.useMemo)((function(){return K.map((function(e){return[e,sne({bars:"keys"===e.dataFrom?ge:fe,direction:e.direction,from:e.dataFrom,groupMode:x,layout:_,legendLabel:$,reverse:S})]}))}),[K,ge,fe,x,_,$,S]);return{bars:fe,barsWithValue:pe,xScale:de,yScale:he,getIndex:ne,getLabel:re,getTooltipLabel:ie,formatValue:oe,getColor:se,getBorderColor:ue,getLabelColor:ce,shouldRenderBarLabel:ve,hiddenIds:J,toggleSerie:te,legendsWithData:me}},cne=["isInteractive","animate","motionConfig","theme","renderWrapper"],lne=function(e){var t=e.data,n=e.indexBy,r=e.keys,i=e.margin,o=e.width,a=e.height,s=e.groupMode,u=e.layout,c=e.reverse,l=e.minValue,f=e.maxValue,d=e.valueScale,h=e.indexScale,p=e.padding,v=e.innerPadding,g=e.axisTop,m=e.axisRight,b=e.axisBottom,x=void 0===b?Gte.axisBottom:b,w=e.axisLeft,_=void 0===w?Gte.axisLeft:w,E=e.enableGridX,S=void 0===E?Gte.enableGridX:E,k=e.enableGridY,C=void 0===k?Gte.enableGridY:k,M=e.gridXValues,O=e.gridYValues,N=e.layers,T=void 0===N?Gte.layers:N,A=e.barComponent,P=void 0===A?Gte.barComponent:A,I=e.enableLabel,D=e.label,R=e.labelSkipWidth,L=e.labelSkipHeight,j=e.labelTextColor,F=e.markers,B=void 0===F?Gte.markers:F,z=e.colorBy,U=e.colors,G=e.defs,V=void 0===G?Gte.defs:G,Z=e.fill,W=void 0===Z?Gte.fill:Z,Y=e.borderRadius,H=void 0===Y?Gte.borderRadius:Y,q=e.borderWidth,X=void 0===q?Gte.borderWidth:q,K=e.borderColor,$=e.annotations,Q=void 0===$?Gte.annotations:$,J=e.legendLabel,ee=e.tooltipLabel,te=e.valueFormat,ne=e.isInteractive,re=void 0===ne?Gte.isInteractive:ne,ie=e.tooltip,oe=void 0===ie?Gte.tooltip:ie,ae=e.onClick,se=e.onMouseEnter,ue=e.onMouseLeave,ce=e.legends,le=e.role,fe=void 0===le?Gte.role:le,de=e.ariaLabel,he=e.ariaLabelledBy,pe=e.ariaDescribedBy,ve=e.isFocusable,ge=void 0===ve?Gte.isFocusable:ve,me=e.barAriaLabel,ye=e.barAriaLabelledBy,be=e.barAriaDescribedBy,xe=e.initialHiddenIds,we=QR(),_e=we.animate,Ee=we.config,Se=pL(o,a,i),ke=Se.outerWidth,Ce=Se.outerHeight,Me=Se.margin,Oe=Se.innerWidth,Ne=Se.innerHeight,Te=une({indexBy:n,label:D,tooltipLabel:ee,valueFormat:te,colors:U,colorBy:z,borderColor:K,labelTextColor:j,groupMode:s,layout:u,reverse:c,data:t,keys:r,minValue:l,maxValue:f,margin:Me,width:Oe,height:Ne,padding:p,innerPadding:v,valueScale:d,indexScale:h,enableLabel:I,labelSkipWidth:R,labelSkipHeight:L,legends:ce,legendLabel:J,initialHiddenIds:xe}),Ae=Te.bars,Pe=Te.barsWithValue,Ie=Te.xScale,De=Te.yScale,Re=Te.getLabel,Le=Te.getTooltipLabel,je=Te.getBorderColor,Fe=Te.getLabelColor,Be=Te.shouldRenderBarLabel,ze=Te.toggleSerie,Ue=Te.legendsWithData,Ge=VO(Pe,{keys:function(e){return e.key},from:function(e){return Dte({borderColor:je(e),color:e.color,height:0,labelColor:Fe(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===u?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:je(e),color:e.color,height:e.height,labelColor:Fe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:je(e),color:e.color,height:e.height,labelColor:Fe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return Dte({borderColor:je(e),color:e.color,height:0,labelColor:Fe(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===u?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:Ee,immediate:!_e}),Ve=(0,y.useMemo)((function(){return{borderRadius:H,borderWidth:X,enableLabel:I,isInteractive:re,labelSkipWidth:R,labelSkipHeight:L,onClick:ae,onMouseEnter:se,onMouseLeave:ue,getTooltipLabel:Le,tooltip:oe,isFocusable:ge,ariaLabel:me,ariaLabelledBy:ye,ariaDescribedBy:be}}),[H,X,I,Le,re,L,R,ae,se,ue,oe,ge,me,ye,be]),Ze=rj(V,Ae,W,{dataKey:"data",targetKey:"data.fill"}),We={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};T.includes("annotations")&&(We.annotations=(0,fk.jsx)(jte,{bars:Ae,annotations:Q},"annotations")),T.includes("axes")&&(We.axes=(0,fk.jsx)(hV,{xScale:Ie,yScale:De,width:Oe,height:Ne,top:g,right:m,bottom:x,left:_},"axes")),T.includes("bars")&&(We.bars=(0,fk.jsx)(y.Fragment,{children:Ge((function(e,t){return(0,y.createElement)(P,Dte({},Ve,{bar:t,style:e,shouldRenderLabel:Be(t),label:Re(t.data)}))}))},"bars")),T.includes("grid")&&(We.grid=(0,fk.jsx)(gV,{width:Oe,height:Ne,xScale:S?Ie:null,yScale:C?De:null,xValues:M,yValues:O},"grid")),T.includes("legends")&&(We.legends=(0,fk.jsx)(Fte,{width:Oe,height:Ne,legends:Ue,toggleSerie:ze},"legends")),T.includes("markers")&&(We.markers=(0,fk.jsx)(qL,{markers:B,width:Oe,height:Ne,xScale:Ie,yScale:De},"markers"));var Ye=(0,y.useMemo)((function(){return Dte({},Ve,{margin:Me,innerWidth:Oe,innerHeight:Ne,width:o,height:a,bars:Ae,xScale:Ie,yScale:De})}),[Ve,Me,Oe,Ne,o,a,Ae,Ie,De]);return(0,fk.jsx)(zL,{width:ke,height:Ce,margin:Me,defs:Ze,role:fe,ariaLabel:de,ariaLabelledBy:he,ariaDescribedBy:pe,isFocusable:ge,children:T.map((function(e,t){var n;return"function"==typeof e?(0,fk.jsx)(y.Fragment,{children:(0,y.createElement)(e,Ye)},t):null!=(n=null==We?void 0:We[e])?n:null}))})},fne=function(e){var t=e.isInteractive,n=void 0===t?Gte.isInteractive:t,r=e.animate,i=void 0===r?Gte.animate:r,o=e.motionConfig,a=void 0===o?Gte.motionConfig:o,s=e.theme,u=e.renderWrapper,c=Rte(e,cne);return(0,fk.jsx)(EL,{animate:i,isInteractive:n,motionConfig:a,renderWrapper:u,theme:s,children:(0,fk.jsx)(lne,Dte({isInteractive:n},c))})},dne=["isInteractive","renderWrapper","theme"],hne=function(e,t,n,r){return e.find((function(e){return JL(e.x+t.left,e.y+t.top,e.width,e.height,n,r)}))},pne=function(e){var t=e.data,n=e.indexBy,r=e.keys,i=e.margin,o=e.width,a=e.height,s=e.groupMode,u=e.layout,c=e.reverse,l=e.minValue,f=e.maxValue,d=e.valueScale,h=e.indexScale,p=e.padding,v=e.innerPadding,g=e.axisTop,m=e.axisRight,b=e.axisBottom,x=void 0===b?Vte.axisBottom:b,w=e.axisLeft,_=void 0===w?Vte.axisLeft:w,E=e.enableGridX,S=void 0===E?Vte.enableGridX:E,k=e.enableGridY,C=void 0===k?Vte.enableGridY:k,M=e.gridXValues,O=e.gridYValues,N=e.layers,T=void 0===N?Vte.layers:N,A=e.renderBar,P=void 0===A?function(e,t){var n=t.bar,r=n.color,i=n.height,o=n.width,a=n.x,s=n.y,u=t.borderColor,c=t.borderRadius,l=t.borderWidth,f=t.label,d=t.labelColor,h=t.shouldRenderLabel;if(e.fillStyle=r,l>0&&(e.strokeStyle=u,e.lineWidth=l),e.beginPath(),c>0){var p=Math.min(c,i);e.moveTo(a+p,s),e.lineTo(a+o-p,s),e.quadraticCurveTo(a+o,s,a+o,s+p),e.lineTo(a+o,s+i-p),e.quadraticCurveTo(a+o,s+i,a+o-p,s+i),e.lineTo(a+p,s+i),e.quadraticCurveTo(a,s+i,a,s+i-p),e.lineTo(a,s+p),e.quadraticCurveTo(a,s,a+p,s),e.closePath()}else e.rect(a,s,o,i);e.fill(),l>0&&e.stroke(),h&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=d,e.fillText(f,a+o/2,s+i/2))}:A,I=e.enableLabel,D=e.label,R=e.labelSkipWidth,L=e.labelSkipHeight,j=e.labelTextColor,F=e.colorBy,B=e.colors,z=e.borderRadius,U=void 0===z?Vte.borderRadius:z,G=e.borderWidth,V=void 0===G?Vte.borderWidth:G,Z=e.borderColor,W=e.annotations,Y=void 0===W?Vte.annotations:W,H=e.legendLabel,q=e.tooltipLabel,X=e.valueFormat,K=e.isInteractive,$=void 0===K?Vte.isInteractive:K,Q=e.tooltip,J=void 0===Q?Vte.tooltip:Q,ee=e.onClick,te=e.onMouseEnter,ne=e.onMouseLeave,re=e.legends,ie=e.pixelRatio,oe=void 0===ie?Vte.pixelRatio:ie,ae=e.canvasRef,se=(0,y.useRef)(null),ue=xL(),ce=pL(o,a,i),le=ce.margin,fe=ce.innerWidth,de=ce.innerHeight,he=ce.outerWidth,pe=ce.outerHeight,ve=une({indexBy:n,label:D,tooltipLabel:q,valueFormat:X,colors:B,colorBy:F,borderColor:Z,labelTextColor:j,groupMode:s,layout:u,reverse:c,data:t,keys:r,minValue:l,maxValue:f,margin:le,width:fe,height:de,padding:p,innerPadding:v,valueScale:d,indexScale:h,enableLabel:I,labelSkipWidth:R,labelSkipHeight:L,legends:re,legendLabel:H}),ge=ve.bars,me=ve.barsWithValue,ye=ve.xScale,be=ve.yScale,xe=ve.getLabel,we=ve.getTooltipLabel,_e=ve.getBorderColor,Ee=ve.getLabelColor,Se=ve.shouldRenderBarLabel,ke=ve.legendsWithData,Ce=NN(),Me=Ce.showTooltipFromEvent,Oe=Ce.hideTooltip,Ne=function(e){var t=e.annotations;return(0,y.useMemo)((function(){return t.map((function(e){return gte({},e,{computed:Ete(gte({},e))})}))}),[t])}({annotations:Ste({data:ge,annotations:Y,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,n=e.height;return{width:t,height:n,size:Math.max(t,n)}}})}),Te=(0,y.useMemo)((function(){return{borderRadius:U,borderWidth:V,enableLabel:I,isInteractive:$,labelSkipWidth:R,labelSkipHeight:L,onClick:ee,onMouseEnter:te,onMouseLeave:ne,getTooltipLabel:we,tooltip:J,margin:le,innerWidth:fe,innerHeight:de,width:o,height:a,bars:ge,xScale:ye,yScale:be}}),[U,V,I,we,a,de,fe,$,L,R,le,ee,te,ne,ge,ye,be,J,o]);(0,y.useEffect)((function(){var e,t=null==(e=se.current)?void 0:e.getContext("2d");se.current&&t&&(se.current.width=he*oe,se.current.height=pe*oe,t.scale(oe,oe),t.fillStyle=ue.background,t.fillRect(0,0,he,pe),t.translate(le.left,le.top),T.forEach((function(e){"grid"===e?"number"==typeof ue.grid.line.strokeWidth&&ue.grid.line.strokeWidth>0&&(t.lineWidth=ue.grid.line.strokeWidth,t.strokeStyle=ue.grid.line.stroke,S&&yV(t,{width:o,height:a,scale:ye,axis:"x",values:M}),C&&yV(t,{width:o,height:a,scale:be,axis:"y",values:O})):"axes"===e?mV(t,{xScale:ye,yScale:be,width:fe,height:de,top:g,right:m,bottom:x,left:_,theme:ue}):"bars"===e?me.forEach((function(e){P(t,{bar:e,borderColor:_e(e),borderRadius:U,borderWidth:V,label:xe(e.data),labelColor:Ee(e),shouldRenderLabel:Se(e)})})):"legends"===e?ke.forEach((function(e){var n=e[0],r=e[1];NV(t,Dte({},n,{data:r,containerWidth:fe,containerHeight:de,theme:ue}))})):"annotations"===e?function(e,t){var n=t.annotations,r=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(!function(e){var t=typeof e;return"string"===t||"function"===t}(t.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=r.annotations.link.outlineColor,e.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,e.beginPath(),Ate(e,t.computed.points),e.stroke(),e.lineCap="butt"),xte(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),wte(t)&&r.annotations.symbol.outlineWidth>0&&(e.strokeStyle=r.annotations.symbol.outlineColor,e.lineWidth=2*r.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),_te(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=r.annotations.link.stroke,e.lineWidth=r.annotations.link.strokeWidth,e.beginPath(),Ate(e,t.computed.points),e.stroke(),xte(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),wte(t)&&(e.fillStyle=r.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),_te(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:r}):(e.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=r.annotations.text.fill,e.strokeStyle=r.annotations.text.outlineColor,e.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}(t,{annotations:Ne,theme:ue}):"function"==typeof e&&e(t,Te)})),t.save())}),[x,_,m,g,me,U,V,Ne,S,C,_e,xe,Ee,M,O,s,a,de,fe,Te,T,u,ke,le.left,le.top,pe,he,oe,P,ye,be,c,Se,ue,o]);var Ae=(0,y.useCallback)((function(e){if(ge&&se.current){var t=ej(se.current,e),n=t[0],r=t[1],i=hne(ge,le,n,r);void 0!==i?(Me((0,y.createElement)(J,Dte({},i.data,{color:i.color,label:i.label,value:Number(i.data.value)})),e),"mouseenter"===e.type&&(null==te||te(i.data,e))):Oe()}}),[Oe,le,te,ge,Me,J]),Pe=(0,y.useCallback)((function(e){if(ge&&se.current){Oe();var t=ej(se.current,e),n=t[0],r=t[1],i=hne(ge,le,n,r);i&&(null==ne||ne(i.data,e))}}),[Oe,le,ne,ge]),Ie=(0,y.useCallback)((function(e){if(ge&&se.current){var t=ej(se.current,e),n=t[0],r=t[1],i=hne(ge,le,n,r);void 0!==i&&(null==ee||ee(Dte({},i.data,{color:i.color}),e))}}),[le,ee,ge]);return(0,fk.jsx)("canvas",{ref:function(e){se.current=e,ae&&"current"in ae&&(ae.current=e)},width:he*oe,height:pe*oe,style:{width:he,height:pe,cursor:$?"auto":"normal"},onMouseEnter:$?Ae:void 0,onMouseMove:$?Ae:void 0,onMouseLeave:$?Pe:void 0,onClick:$?Ie:void 0})},vne=(0,y.forwardRef)((function(e,t){var n=e.isInteractive,r=e.renderWrapper,i=e.theme,o=Rte(e,dne);return(0,fk.jsx)(EL,{isInteractive:n,renderWrapper:r,theme:i,animate:!1,children:(0,fk.jsx)(pne,Dte({},o,{canvasRef:t}))})})),gne=function(e){return(0,fk.jsx)(SL,{children:function(t){var n=t.width,r=t.height;return(0,fk.jsx)(fne,Dte({width:n,height:r},e))}})},mne=((0,y.forwardRef)((function(e,t){return(0,fk.jsx)(SL,{children:function(n){var r=n.width,i=n.height;return(0,fk.jsx)(vne,Dte({width:r,height:i},e,{ref:t}))}})})),{axis:{legend:{text:{fontSize:18,fill:"#333333"}},ticks:{text:{fontSize:17,fill:"#333333"}}}});var yne=function(e){var t=function(e){var t=A_(),n=0,r=[],i={};t.forEach((function(t){var n=t[e];if(Array.isArray(n)){var r,o=(0,T_.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]?i[a]+=1:i[a]=1}}catch(s){o.e(s)}finally{o.f()}}}));for(var o=0,a=Object.entries(i);o<a.length;o++){var s=(0,m.Z)(a[o],2),u=s[0],c=s[1];r.push({id:u,value:c}),u.length>n&&(n=u.length)}return{data:r,textSize:n}}(e.type),n=t.data,r=t.textSize;return n.length<1?(0,fk.jsx)(bne,{}):(0,fk.jsx)("div",{style:{height:"545px",width:"100%",marginTop:"30px"},children:(0,fk.jsx)(gne,{data:n,margin:{top:26,right:30,bottom:50,left:10*r+5},layout:"horizontal",indexBy:"id",label:function(e){return"".concat(e.value)},colors:{scheme:"spectral"},colorBy:"indexValue",enableGridX:!0,enableGridY:!1,axisBottom:{legend:"Papers",legendPosition:"middle",legendOffset:40,tickSize:0},padding:.3,theme:mne})})};var bne=function(){return(0,fk.jsx)("div",{style:{height:"450px",width:"100%",marginTop:"20px"},children:(0,fk.jsx)(Xp,{justify:"center",children:(0,fk.jsx)("b",{children:"No data available for the selected options."})})})},xne=function(e){return Object.fromEntries(Object.entries(e).map((function(e){return e.reverse()})))}(st);function wne(e){var t=e.record,n=e.type,r=xne[n],i=t[n].map((function(e){return"".concat(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)," : ").concat(e)}));return(0,fk.jsx)(yk,{TagData:i,Color:ut(n)})}var _ne=function(){var e=A_(),t=e.map((function(t){return _e(_e({},t),{},{key:e.indexOf(t),Author:[t.Authors[0]+" et al."]})})),n=P_(t.map((function(e){return e.key})),"key",!1),r=[{title:"Title",dataIndex:"Title",render:function(e,t){return(0,fk.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:e})},key:"title",defaultSortOrder:"ascend",sorter:{compare:function(e,t){return e.Title.localeCompare(t.Title)},multiple:1}},{title:"Submitted",dataIndex:"Date",key:"date",defaultSortOrder:"descend",sorter:{compare:function(e,t){return"undefined"===typeof e.Date?1:"undefined"===typeof t.Date?-1:e.Date.getTime()-t.Date.getTime()},multiple:4},render:function(e,t){return(0,fk.jsx)(fk.Fragment,{children:"undefined"!==typeof t.Date?(0,fk.jsx)(Sp,{span:24,children:"string"===typeof t.Date?t.Date:t.Date.toLocaleDateString("en-UK")}):(0,fk.jsx)(Lp,{style:{marginLeft:5},color:"blue",children:"Original"})})},width:100},{title:"Venue",dataIndex:"Venue",render:function(e,t){return(0,fk.jsx)(fk.Fragment,{children:t.Venue.value})},key:"venue",defaultSortOrder:"ascend",width:100,sorter:{compare:function(e,t){return e.Venue.value.localeCompare(t.Venue.value)},multiple:2}},{title:"Year",dataIndex:"Year",key:"year",defaultSortOrder:"descend",width:100,sorter:{compare:function(e,t){return e.Year.localeCompare(t.Year)},multiple:3}},{title:"Author",key:"author",dataIndex:"Author",width:250}];return(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsx)(mk,{}),(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsxs)(Xp,{justify:"space-between",children:[(0,fk.jsx)(ld,{className:"expand-all",children:n.isAllExpanded()?(0,fk.jsx)(S_,{}):(0,fk.jsx)(M_,{})}),(0,fk.jsx)(ld,{children:(0,fk.jsx)("a",{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e))),download:"FilteredList.json",children:"Export Filtered List as JSON"})})]}),(0,fk.jsx)(w_,{style:{marginTop:10},columns:r,dataSource:t,expandable:{expandRowByClick:!0,expandedRowRender:function(e){return(0,fk.jsxs)(Xp,{gutter:[0,4],children:[(0,fk.jsx)(Sp,{span:24,children:(0,fk.jsxs)("b",{children:["Authors: ",it(e.Authors)]})}),(0,fk.jsx)(Sp,{span:24,children:at.map((function(t){return(0,fk.jsx)(wne,{record:e,type:t},at.indexOf(t))}))})]})}},className:n.isAllExpanded()?"table-expanding-all":"",expandedRowKeys:n.expandedRowKeys,onExpand:n.onExpand,rowKey:n.rowKey,pagination:{defaultPageSize:20,position:["bottomCenter"]}})]})]})},Ene=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.forceRender,o=e.className,a=e.style,s=e.children,u=e.isActive,c=e.role,l=y.useState(u||i),f=(0,m.Z)(l,2),d=f[0],h=f[1];return y.useEffect((function(){(i||u)&&h(!0)}),[i,u]),d?y.createElement("div",{ref:t,className:Mn()("".concat(r,"-content"),(n={},(0,xe.Z)(n,"".concat(r,"-content-active"),u),(0,xe.Z)(n,"".concat(r,"-content-inactive"),!u),n),o),style:a,role:c},y.createElement("div",{className:"".concat(r,"-content-box")},s)):null}));Ene.displayName="PanelContent";var Sne=Ene,kne=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.handleItemClick()},e}return(0,Nn.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!ec()(this.props,e)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.className,o=r.id,a=r.style,s=r.prefixCls,u=r.header,c=r.headerClass,l=r.children,f=r.isActive,d=r.showArrow,h=r.destroyInactivePanel,p=r.accordion,v=r.forceRender,g=r.openMotion,m=r.expandIcon,b=r.extra,x=r.collapsible,w="disabled"===x,_=Mn()("".concat(s,"-header"),(e={},(0,xe.Z)(e,c,c),(0,xe.Z)(e,"".concat(s,"-header-collapsible-only"),"header"===x),e)),E=Mn()((t={},(0,xe.Z)(t,"".concat(s,"-item"),!0),(0,xe.Z)(t,"".concat(s,"-item-active"),f),(0,xe.Z)(t,"".concat(s,"-item-disabled"),w),t),i),S=y.createElement("i",{className:"arrow"});d&&"function"===typeof m&&(S=m(this.props));var k=null!==b&&void 0!==b&&"boolean"!==typeof b;return y.createElement("div",{className:E,style:a,id:o},y.createElement("div",{className:_,onClick:function(){return"header"!==x&&n.handleItemClick()},role:p?"tab":"button",tabIndex:w?-1:0,"aria-expanded":f,onKeyPress:this.handleKeyPress},d&&S,"header"===x?y.createElement("span",{onClick:this.handleItemClick,className:"".concat(s,"-header-text")},u):u,k&&y.createElement("div",{className:"".concat(s,"-extra")},b)),y.createElement(Ua,Mt({visible:f,leavedClassName:"".concat(s,"-content-hidden")},g,{forceRender:v,removeOnLeave:h}),(function(e,t){var n=e.className,r=e.style;return y.createElement(Sne,{ref:t,prefixCls:s,className:n,style:r,isActive:f,forceRender:v,role:p?"tabpanel":null},l)})))}}]),n}(y.Component);kne.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Cne=kne;function Mne(e){var t=e;if(!Array.isArray(t)){var n=(0,lr.Z)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var One=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=(0,kn.Z)(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,i=r.props,o=i.prefixCls,a=i.openMotion,s=i.accordion,u=i.destroyInactivePanel,c=i.expandIcon,l=i.collapsible,f=e.key||String(t),d=e.props,h=d.header,p=d.headerClass,v=d.destroyInactivePanel,g=d.collapsible,m=null!==g&&void 0!==g?g:l,b={key:f,panelKey:f,header:h,headerClass:p,isActive:s?n[0]===f:n.indexOf(f)>-1,prefixCls:o,destroyInactivePanel:null!==v&&void 0!==v?v:u,openMotion:a,accordion:s,children:e.props.children,onItemClick:"disabled"===m?null:r.onClickItem,expandIcon:c,collapsible:m};return"string"===typeof e.type?e:y.cloneElement(e,b)},r.getItems=function(){return Zi(r.props.children).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var i=e.activeKey,o=e.defaultActiveKey;return"activeKey"in e&&(o=i),r.state={activeKey:Mne(o)},r}return(0,Nn.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!ec()(this.props,e)||!ec()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.accordion,a=Mn()((e={},(0,xe.Z)(e,n,!0),(0,xe.Z)(e,r,!!r),e));return y.createElement("div",{className:a,style:i,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=Mne(e.activeKey)),t}}]),n}(y.Component);One.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},One.Panel=Cne;var Nne=One,Tne=(One.Panel,function(e){var t,n=y.useContext(Xn),r=n.getPrefixCls,i=n.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=e.bordered,c=void 0===u||u,l=e.ghost,f=r("collapse",o),d=function(){var t=e.expandIconPosition;return void 0!==t?t:"rtl"===i?"right":"left"}(),h=Mn()((t={},(0,xe.Z)(t,"".concat(f,"-borderless"),!c),(0,xe.Z)(t,"".concat(f,"-icon-position-").concat(d),!0),(0,xe.Z)(t,"".concat(f,"-rtl"),"rtl"===i),(0,xe.Z)(t,"".concat(f,"-ghost"),!!l),t),s),p=Mt(Mt({},Fu),{motionAppear:!1,leavedClassName:"".concat(f,"-content-hidden")});return y.createElement(Nne,Mt({openMotion:p},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):y.createElement(bi,{rotate:t.isActive?90:void 0});return y.createElement("div",null,Ou(r,(function(){return{className:Mn()(r.props.className,"".concat(f,"-arrow"))}})))},prefixCls:f,className:h}),Zi(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),i=e.props,o=i.disabled,a=i.collapsible;return Ou(e,Mt(Mt({},ar(e.props,["disabled"])),{key:r,collapsible:null!==a&&void 0!==a?a:o?"disabled":void 0}))}return e})))});Tne.Panel=function(e){ji(!("disabled"in e),"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var t=y.useContext(Xn).getPrefixCls,n=e.prefixCls,r=e.className,i=void 0===r?"":r,o=e.showArrow,a=void 0===o||o,s=t("collapse",n),u=Mn()((0,xe.Z)({},"".concat(s,"-no-arrow"),!a),i);return y.createElement(Nne.Panel,Mt({},e,{prefixCls:s,className:u}))};var Ane={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Pne=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Ane}))};Pne.displayName="UpOutlined";var Ine=y.forwardRef(Pne);function Dne(){return"function"===typeof BigInt}function Rne(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),o=i[0]||"0",a=i[1]||"0";"0"===o&&"0"===a&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:o,decimalStr:a,fullStr:"".concat(s).concat(r)}}function Lne(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function jne(e){var t=String(e);if(Lne(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&Bne(t)?t.length-t.indexOf(".")-1:0}function Fne(e){var t=String(e);if(Lne(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Dne()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Dne()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(jne(t))}return Rne(t).fullStr}function Bne(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var zne=function(){function e(t){(0,On.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,Nn.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(jne(this.number),jne(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":Fne(this.number):this.origin}}]),e}(),Une=function(){function e(t){if((0,On.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(Lne(n)&&(n=Number(n)),Bne(n="string"===typeof n?n:Fne(n))){var r=Rne(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,Nn.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=Rne((this.alignDecimal(r)+n.alignDecimal(r)).toString()),o=i.negativeStr,a=i.trimStr,s="".concat(o).concat(a.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":Rne("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function Gne(e){return Dne()?new Une(e):new zne(e)}function Vne(e,t,n){if(""===e)return"";var r=Rne(e),i=r.negativeStr,o=r.integerStr,a=r.decimalStr,s="".concat(t).concat(a),u="".concat(i).concat(o);if(n>=0){var c=Number(a[n]);return c>=5?Vne(Gne(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-c)).toString(),t,n):0===n?u:"".concat(u).concat(t).concat(a.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}function Zne(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,o=e.downDisabled,a=e.onStep,s=y.useRef(),u=y.useRef();u.current=a;var c=function(e,t){e.preventDefault(),u.current(t),s.current=setTimeout((function e(){u.current(t),s.current=setTimeout(e,200)}),600)},l=function(){clearTimeout(s.current)};if(y.useEffect((function(){return l}),[]),ea())return null;var f="".concat(t,"-handler"),d=Mn()(f,"".concat(f,"-up"),(0,xe.Z)({},"".concat(f,"-up-disabled"),i)),h=Mn()(f,"".concat(f,"-down"),(0,xe.Z)({},"".concat(f,"-down-disabled"),o)),p={unselectable:"on",role:"button",onMouseUp:l,onMouseLeave:l};return y.createElement("div",{className:"".concat(f,"-wrap")},y.createElement("span",Mt({},p,{onMouseDown:function(e){c(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:d}),n||y.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),y.createElement("span",Mt({},p,{onMouseDown:function(e){c(e,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:h}),r||y.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var Wne=Hr()?y.useLayoutEffect:y.useEffect;function Yne(e,t){var n=y.useRef(!1);Wne((function(){if(n.current)return e();n.current=!0}),t)}var Hne=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],qne=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},Xne=function(e){var t=Gne(e);return t.isInvalidate()?null:t},Kne=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-input-number":r,o=e.className,a=e.style,s=e.min,u=e.max,c=e.step,l=void 0===c?1:c,f=e.defaultValue,d=e.value,h=e.disabled,p=e.readOnly,v=e.upHandler,g=e.downHandler,b=e.keyboard,x=e.controls,w=void 0===x||x,_=e.stringMode,E=e.parser,S=e.formatter,k=e.precision,C=e.decimalSeparator,M=e.onChange,O=e.onInput,N=e.onPressEnter,T=e.onStep,A=ur(e,Hne),P="".concat(i,"-input"),I=y.useRef(null),D=y.useState(!1),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=y.useRef(!1),B=y.useRef(!1),z=y.useState((function(){return Gne(null!==d&&void 0!==d?d:f)})),U=(0,m.Z)(z,2),G=U[0],V=U[1];var Z=y.useCallback((function(e,t){if(!t)return k>=0?k:Math.max(jne(e),jne(l))}),[k,l]),W=y.useCallback((function(e){var t=String(e);if(E)return E(t);var n=t;return C&&(n=n.replace(C,".")),n.replace(/[^\w.-]+/g,"")}),[E,C]),Y=y.useRef(""),H=y.useCallback((function(e,t){if(S)return S(e,{userTyping:t,input:String(Y.current)});var n="number"===typeof e?Fne(e):e;if(!t){var r=Z(n,t);if(Bne(n)&&(C||r>=0))n=Vne(n,C||".",r)}return n}),[S,Z,C]),q=y.useState((function(){var e=null!==f&&void 0!==f?f:d;return G.isInvalidate()&&["string","number"].includes((0,lr.Z)(e))?Number.isNaN(e)?"":e:H(G.toString(),!1)})),X=(0,m.Z)(q,2),K=X[0],$=X[1];function Q(e,t){$(H(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}Y.current=K;var J=y.useMemo((function(){return Xne(u)}),[u]),ee=y.useMemo((function(){return Xne(s)}),[s]),te=y.useMemo((function(){return!(!J||!G||G.isInvalidate())&&J.lessEquals(G)}),[J,G]),ne=y.useMemo((function(){return!(!ee||!G||G.isInvalidate())&&G.lessEquals(ee)}),[ee,G]),re=function(e,t){var n=(0,y.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,o=i.substring(0,t),a=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:o,afterTxt:a}}catch(s){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,o=i.beforeTxt,a=i.afterTxt,s=i.start,u=r.length;if(r.endsWith(a))u=r.length-n.current.afterTxt.length;else if(r.startsWith(o))u=o.length;else{var c=o[s-1],l=r.indexOf(c,s-1);-1!==l&&(u=l+1)}e.setSelectionRange(u,u)}catch(f){Yr(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(f.message))}}]}(I.current,L),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=function(e){return J&&!e.lessEquals(J)?J:ee&&!ee.lessEquals(e)?ee:null},ue=function(e){return!se(e)},ce=function(e,t){var n,r=e,i=ue(r)||r.isEmpty();if(r.isEmpty()||t||(r=se(r)||r,i=!0),!p&&!h&&i){var o=r.toString(),a=Z(o,t);return a>=0&&(r=Gne(Vne(o,".",a))),r.equals(G)||(n=r,void 0===d&&V(n),null===M||void 0===M||M(r.isEmpty()?null:qne(_,r)),void 0===d&&Q(r,t)),r}return G},le=function(){var e=(0,y.useRef)(0),t=function(){qo.cancel(e.current)};return(0,y.useEffect)((function(){return t}),[]),function(n){t(),e.current=qo((function(){n()}))}}(),fe=function e(t){if(oe(),$(t),!B.current){var n=Gne(W(t));n.isNaN()||ce(n,!0)}null===O||void 0===O||O(t),le((function(){var n=t;E||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},de=function(e){var t;if(!(e&&te||!e&&ne)){F.current=!1;var n=Gne(l);e||(n=n.negate());var r=(G||Gne(0)).add(n.toString()),i=ce(r,!1);null===T||void 0===T||T(qne(_,i),{offset:l,type:e?"up":"down"}),null===(t=I.current)||void 0===t||t.focus()}},he=function(e){var t=Gne(W(K)),n=t;n=t.isNaN()?G:ce(t,e),void 0!==d?Q(G,!1):n.isNaN()||Q(n,!1)};return Yne((function(){G.isInvalidate()||Q(G,!1)}),[k]),Yne((function(){var e=Gne(d);V(e);var t=Gne(W(K));e.equals(t)&&F.current&&!S||Q(e,F.current)}),[d]),Yne((function(){S&&ae()}),[K]),y.createElement("div",{className:Mn()(i,o,(n={},(0,xe.Z)(n,"".concat(i,"-focused"),L),(0,xe.Z)(n,"".concat(i,"-disabled"),h),(0,xe.Z)(n,"".concat(i,"-readonly"),p),(0,xe.Z)(n,"".concat(i,"-not-a-number"),G.isNaN()),(0,xe.Z)(n,"".concat(i,"-out-of-range"),!G.isInvalidate()&&!ue(G)),n)),style:a,onFocus:function(){j(!0)},onBlur:function(){he(!1),j(!1),F.current=!1},onKeyDown:function(e){var t=e.which;F.current=!0,t===Ro.ENTER&&(B.current||(F.current=!1),he(!1),null===N||void 0===N||N(e)),!1!==b&&!B.current&&[Ro.UP,Ro.DOWN].includes(t)&&(de(Ro.UP===t),e.preventDefault())},onKeyUp:function(){F.current=!1},onCompositionStart:function(){B.current=!0},onCompositionEnd:function(){B.current=!1,fe(I.current.value)}},w&&y.createElement(Zne,{prefixCls:i,upNode:v,downNode:g,upDisabled:te,downDisabled:ne,onStep:de}),y.createElement("div",{className:"".concat(P,"-wrap")},y.createElement("input",Mt({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":u,"aria-valuenow":G.isInvalidate()?null:G.toString(),step:l},A,{ref:Ri(I,t),className:P,value:K,onChange:function(e){fe(e.target.value)},disabled:h,readOnly:p}))))}));Kne.displayName="InputNumber";var $ne=Kne,Qne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jne=y.forwardRef((function(e,t){var n,r=y.useContext(Xn),i=r.getPrefixCls,o=r.direction,a=y.useContext(sc),s=y.useState(!1),u=(0,m.Z)(s,2),c=u[0],l=u[1],f=y.useRef(null);y.useImperativeHandle(t,(function(){return f.current}));var d=e.className,h=e.size,p=e.prefixCls,v=e.addonBefore,g=e.addonAfter,b=e.prefix,x=e.bordered,w=void 0===x||x,_=e.readOnly,E=e.status,S=e.controls,k=Qne(e,["className","size","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),C=i("input-number",p),M=y.createElement(Ine,{className:"".concat(C,"-handler-up-inner")}),O=y.createElement(Ey,{className:"".concat(C,"-handler-down-inner")}),N="boolean"===typeof S?S:void 0;"object"===(0,lr.Z)(S)&&(M="undefined"===typeof S.upIcon?M:y.createElement("span",{className:"".concat(C,"-handler-up-inner")},S.upIcon),O="undefined"===typeof S.downIcon?O:y.createElement("span",{className:"".concat(C,"-handler-down-inner")},S.downIcon));var T=(0,y.useContext)(Ll),A=T.hasFeedback,P=T.status,I=Jl(P,E),D=h||a,R=Mn()((n={},(0,xe.Z)(n,"".concat(C,"-lg"),"large"===D),(0,xe.Z)(n,"".concat(C,"-sm"),"small"===D),(0,xe.Z)(n,"".concat(C,"-rtl"),"rtl"===o),(0,xe.Z)(n,"".concat(C,"-readonly"),_),(0,xe.Z)(n,"".concat(C,"-borderless"),!w),n),Ql(C,I),d),L=y.createElement($ne,Mt({ref:f,className:R,upHandler:M,downHandler:O,prefixCls:C,readOnly:_,controls:N},k));if(null!=b||A){var j,F=Mn()("".concat(C,"-affix-wrapper"),Ql("".concat(C,"-affix-wrapper"),I,A),(j={},(0,xe.Z)(j,"".concat(C,"-affix-wrapper-focused"),c),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-disabled"),e.disabled),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-sm"),"small"===a),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-lg"),"large"===a),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-rtl"),"rtl"===o),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-readonly"),_),(0,xe.Z)(j,"".concat(C,"-affix-wrapper-borderless"),!w),(0,xe.Z)(j,"".concat(d),!(v||g)&&d),j));L=y.createElement("div",{className:F,style:e.style,onMouseUp:function(){return f.current.focus()}},b&&y.createElement("span",{className:"".concat(C,"-prefix")},b),Ou(L,{style:null,value:e.value,onFocus:function(t){var n;l(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;l(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),A&&y.createElement("span",{className:"".concat(C,"-suffix")},$l(C,I)))}if(null!=v||null!=g){var B,z="".concat(C,"-group"),U="".concat(z,"-addon"),G=v?y.createElement("div",{className:U},v):null,V=g?y.createElement("div",{className:U},g):null,Z=Mn()("".concat(C,"-wrapper"),z,(0,xe.Z)({},"".concat(z,"-rtl"),"rtl"===o)),W=Mn()("".concat(C,"-group-wrapper"),(B={},(0,xe.Z)(B,"".concat(C,"-group-wrapper-sm"),"small"===a),(0,xe.Z)(B,"".concat(C,"-group-wrapper-lg"),"large"===a),(0,xe.Z)(B,"".concat(C,"-group-wrapper-rtl"),"rtl"===o),B),Ql("".concat(C,"-group-wrapper"),I,A),d);L=y.createElement("div",{className:W,style:e.style},y.createElement("div",{className:Z},G&&y.createElement(jl,null,G),Ou(L,{style:null}),V&&y.createElement(jl,null,V)))}return L})),ere=Jne,tre=sk.Item,nre=$w.TextArea;var rre=function(){var e=O_(),t=N_((function(e){return e.form})),n=(0,y.useState)(""),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useState)(!1),s=(0,m.Z)(a,2),u=s[0],c=s[1];(0,y.useEffect)((function(){o(","+JSON.stringify(t,null,2)),c(t["Type of Task"].length>0&&t.Type.length>0&&t["Type of Output"].length>0&&t.Title.length>0&&t.Venue.value.length>0&&t.Authors.length>0&&function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}(t.url))}),[t]);var l=t.Venue.value,f=t.Venue.isOld?[l]:["Other"];return(0,fk.jsxs)("div",{className:"addpaper",children:[(0,fk.jsx)("h2",{children:"Paper Submission"}),(0,fk.jsx)("p",{children:"The original paper already includes classification of over 300 research papers. Of course this list is not exhaustive and therefore we would like to ask the wider research community to aid in extending the original research."}),(0,fk.jsxs)("p",{children:["You can contribute to this project by going to the project\u2019s ",(0,fk.jsx)("a",{href:"https://github.com/utwente-dmb/xai-papers/blob/master/src/db/db.json",target:"_blank",rel:"noreferrer",children:"GitHub"}),". This page shows the current contents of the database. To add a new entry simply fork the project and append the db.json file using the following template."]}),(0,fk.jsxs)(Xp,{children:[(0,fk.jsx)(Sp,{span:16,children:(0,fk.jsxs)(sk,{labelCol:{span:6},wrapperCol:{span:16},children:[(0,fk.jsx)(tre,{label:"Title",tooltip:{title:"Title of the paper in English",icon:(0,fk.jsx)(lk,{})},required:!0,children:(0,fk.jsx)($w,{placeholder:"Title",defaultValue:t.Title,onChange:function(t){e(kt.setTitle(t.currentTarget.value))}})}),(0,fk.jsx)(tre,{label:"Doi-url",required:!0,children:(0,fk.jsx)($w,{placeholder:"Doi-url",defaultValue:t.url,onChange:function(t){e(kt.setDoi(t.currentTarget.value))}})}),(0,fk.jsx)(tre,{label:"Year of Publication",required:!0,children:(0,fk.jsx)(ere,{defaultValue:parseInt(t.Year),onChange:function(t){e(kt.setYear(t))}})}),(0,fk.jsx)(tre,{label:"Authors",tooltip:{title:"Firstname Lastname, all names should be separated by a comma",icon:(0,fk.jsx)(lk,{})},required:!0,children:(0,fk.jsx)($w,{placeholder:"Authors",defaultValue:it(t.Authors),onChange:function(t){var n=t.currentTarget.value.split(",").map((function(e){return e.trim()}));e(kt.setAuthors(n))}})}),(0,fk.jsx)(tre,{label:"Venue",required:!0,children:(0,fk.jsx)(pk,{placeholder:"Venue",enumerator:et,handleChange:function(t){var n,r=null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"";"Other"===r?(e(kt.setIsOldVenue(!1)),e(kt.setVenue(""))):(e(kt.setIsOldVenue(!0)),e(kt.setVenue(r)))},value:f,single:!0})}),t.Venue.isOld?null:(0,fk.jsx)(tre,{label:"Venue",tooltip:{title:"Please use an abbreviation of the complete Venue name similar to the predefined venues.",icon:(0,fk.jsx)(lk,{})},children:(0,fk.jsx)($w,{placeholder:"Venue",onChange:function(t){var n=t.currentTarget.value;e(kt.setVenue(n))},value:t.Venue.value})}),(0,fk.jsx)(tre,{label:"Type of Task",tooltip:{title:"What Datatypes the model in the paper uses. A combination of multiple flags is possible.",icon:(0,fk.jsx)(lk,{})},required:!0,children:(0,fk.jsx)(pk,{placeholder:"Type of Task",enumerator:$e,handleChange:function(t){e(kt.setTask(ct(t)))},value:t["Type of Task"]})}),(0,fk.jsx)(tre,{label:"Type",required:!0,children:(0,fk.jsx)(pk,{placeholder:"Type",enumerator:Qe,handleChange:function(t){e(kt.settype(ct(t)))},value:t.Type})}),(0,fk.jsx)(tre,{label:"Type of Output",tooltip:{title:"What type of AI model is used in the paper. A combination of multiple flags is possible.",icon:(0,fk.jsx)(lk,{})},required:!0,children:(0,fk.jsx)(pk,{placeholder:"Type of Output",enumerator:Je,handleChange:function(t){e(kt.setOutput(ct(t)))},value:t["Type of Output"]})}),(0,fk.jsx)(tre,{label:"Comment",tooltip:{title:"Used to indicate that your paper needs to have a new tag for example",icon:(0,fk.jsx)(lk,{})},children:(0,fk.jsx)(nre,{placeholder:"Comment",defaultValue:null===t||void 0===t?void 0:t.Comment,onChange:function(t){e(kt.setComment(t.currentTarget.value))},autoSize:!0})})]})}),u?(0,fk.jsx)(Sp,{span:8,children:(0,fk.jsxs)(tre,{label:"Your JSON",children:[(0,fk.jsx)(nre,{value:i,autoSize:!0}),(0,fk.jsx)(ld,{onClick:function(){navigator.clipboard.writeText(i),OB.open({message:"Successfully copied JSON to clipboard",duration:1.5})},children:"Copy To Clipboard"})]})}):null]})]})},ire=Ay.Option,ore=ax.Button,are=ax.Group;var sre=function(){var e=(0,y.useState)("Line Chart"),t=(0,m.Z)(e,2),n=t[0],r=t[1],i=(0,y.useState)("Type of Task"),o=(0,m.Z)(i,2),a=o[0],s=o[1],u={"Line Chart":{withSelect:!0,element:(0,fk.jsx)(QZ,{type:a}),description:"The line chart displays the increase in the number of papers on the subject of Explainable AI over time (accumulative). The filtering option on the right allows you to select a particular attribute so that its development over time can be observed. It should be noted that papers can have multiple labels within a category so the sum of labels is greater than the number of papers in the database."},"Bar Chart":{withSelect:!0,element:(0,fk.jsx)(yne,{type:a}),description:"The bar chart shows the distribution of labels for a selected attribute. The attribute shown can be changed with the dropdown menu on the right. It should be noted that papers can have multiple labels within a category so the total length of all the bars can be greater than the number of papers in the database."},"Connected Graph":{withSelect:!1,element:(0,fk.jsx)(cte,{}),description:"The connected graph below displays papers as nodes in a graph. Papers are connected when they have many labels from our categorization in common. Filtering options can be applied and the nodes can be clicked to reveal a link to the particular paper."},"Circle Packing":{withSelect:!0,element:(0,fk.jsx)(oz,{type:a}),description:"The circle packing chart clusters the papers on Explainable AI based on a specific attribute. Select an attribute on the right. Each of the circles can be hovered over to see the title of the paper and clicked on to go to the paper itself."}};return(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsx)(mk,{}),(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsxs)(Xp,{justify:"space-between",style:{marginBottom:12},children:[(0,fk.jsx)(Sp,{span:12,children:(0,fk.jsx)(are,{defaultValue:n,buttonStyle:"solid",onChange:function(e){r(e.target.value)},children:Object.keys(u).map((function(e){return(0,fk.jsx)(ore,{value:e,children:e},e)}))})}),u[n].withSelect?(0,fk.jsx)(Ay,{defaultValue:a,style:{width:240},onChange:function(e){s(e)},children:at.map((function(e){return(0,fk.jsx)(ire,{value:e,children:e},e)}))}):null]}),(0,fk.jsx)(Xp,{justify:"center",style:{marginBottom:8},children:(0,fk.jsx)(Sp,{span:12,children:u[n].description})}),u[n].element]})]})};var ure=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},o=Object.keys(e);return o.forEach((function(e){i[e]=r.style[e]})),o.forEach((function(t){r.style[t]=e[t]})),i};var cre={},lre=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return ure(cre),cre={},void(document.body.className=r.replace(n,"").trim())}var i=tv();if(i&&(cre=ure({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(t);document.body.className=o.trim()}}},fre=[],dre="ant-scrolling-effect",hre=new RegExp("".concat(dre),"g"),pre=0,vre=new Map,gre=(0,Nn.Z)((function e(t){var n=this;(0,On.Z)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=fre.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!fre.some((function(e){return e.target===n.lockTarget})))if(fre.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))fre=[].concat((0,kn.Z)(fre),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=tv());var i=r.className;if(0===fre.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&vre.set(r,ure({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!hre.test(i)){var o="".concat(i," ").concat(dre);r.className=o.trim()}fre=[].concat((0,kn.Z)(fre),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=fre.find((function(e){return e.target===n.lockTarget}));if(fre=fre.filter((function(e){return e.target!==n.lockTarget})),t&&!fre.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;hre.test(i)&&(ure(vre.get(r),{element:r}),vre.delete(r),r.className=r.className.replace(hre,"").trim())}},this.lockTarget=pre++,this.options=t})),mre=0,yre=Hr();var bre={},xre=function(e){if(!yre)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,lr.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},wre=function(e){(0,Tn.Z)(n,e);var t=(0,An.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).container=void 0,r.componentRef=y.createRef(),r.rafId=void 0,r.scrollLocker=void 0,r.renderComponent=void 0,r.updateScrollLocker=function(e){var t=(e||{}).visible,n=r.props,i=n.getContainer,o=n.visible;o&&o!==t&&yre&&xre(i)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:xre(i)})},r.updateOpenCount=function(e){var t=e||{},n=t.visible,i=t.getContainer,o=r.props,a=o.visible,s=o.getContainer;a!==n&&yre&&xre(s)===document.body&&(a&&!n?mre+=1:e&&(mre-=1)),("function"===typeof s&&"function"===typeof i?s.toString()!==i.toString():s!==i)&&r.removeCurrentContainer()},r.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||r.container&&!r.container.parentNode){var t=xre(r.props.getContainer);return!!t&&(t.appendChild(r.container),!0)}return!0},r.getContainer=function(){return yre?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null},r.setWrapperClassName=function(){var e=r.props.wrapperClassName;r.container&&e&&e!==r.container.className&&(r.container.className=e)},r.removeCurrentContainer=function(){var e,t;null===(e=r.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(r.container)},r.switchScrollingEffect=function(){1!==mre||Object.keys(bre).length?mre||(ure(bre),bre={},lre(!0)):(lre(),bre=ure({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},r.scrollLocker=new gre({container:xre(e.getContainer)}),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=qo((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;yre&&xre(n)===document.body&&(mre=t&&mre?mre-1:mre),this.removeCurrentContainer(),qo.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,i=null,o={getOpenCount:function(){return mre},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(i=y.createElement(Qo,{getContainer:this.getContainer,ref:this.componentRef},t(o))),i}}]),n}(y.Component),_re=wre;function Ere(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,o=e.motionName;return y.createElement(Ua,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var r=e.className,o=e.style;return y.createElement("div",Mt({style:_e(_e({},o),n),className:Mn()("".concat(t,"-mask"),r)},i))}))}function Sre(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}var kre=-1;function Cre(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var Mre=y.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),Ore={width:0,height:0,overflow:"hidden",outline:"none"},Nre=y.forwardRef((function(e,t){var n=e.closable,r=e.prefixCls,i=e.width,o=e.height,a=e.footer,s=e.title,u=e.closeIcon,c=e.style,l=e.className,f=e.visible,d=e.forceRender,h=e.bodyStyle,p=e.bodyProps,v=e.children,g=e.destroyOnClose,b=e.modalRender,x=e.motionName,w=e.ariaId,_=e.onClose,E=e.onVisibleChanged,S=e.onMouseDown,k=e.onMouseUp,C=e.mousePosition,M=(0,y.useRef)(),O=(0,y.useRef)(),N=(0,y.useRef)();y.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=M.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===O.current?M.current.focus():e||t!==M.current||O.current.focus()}}}));var T,A,P,I=y.useState(),D=(0,m.Z)(I,2),R=D[0],L=D[1],j={};function F(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Cre(i),n.top+=Cre(i,!0),n}(N.current);L(C?"".concat(C.x-e.left,"px ").concat(C.y-e.top,"px"):"")}void 0!==i&&(j.width=i),void 0!==o&&(j.height=o),R&&(j.transformOrigin=R),a&&(T=y.createElement("div",{className:"".concat(r,"-footer")},a)),s&&(A=y.createElement("div",{className:"".concat(r,"-header")},y.createElement("div",{className:"".concat(r,"-title"),id:w},s))),n&&(P=y.createElement("button",{type:"button",onClick:_,"aria-label":"Close",className:"".concat(r,"-close")},u||y.createElement("span",{className:"".concat(r,"-close-x")})));var B=y.createElement("div",{className:"".concat(r,"-content")},P,A,y.createElement("div",Mt({className:"".concat(r,"-body"),style:h},p),v),T);return y.createElement(Ua,{visible:f,onVisibleChanged:E,onAppearPrepare:F,onEnterPrepare:F,forceRender:d,motionName:x,removeOnLeave:g,ref:N},(function(e,t){var n=e.className,i=e.style;return y.createElement("div",{key:"dialog-element",role:"document",ref:t,style:_e(_e(_e({},i),c),j),className:Mn()(r,l,n),onMouseDown:S,onMouseUp:k},y.createElement("div",{tabIndex:0,ref:M,style:Ore,"aria-hidden":"true"}),y.createElement(Mre,{shouldUpdate:f||d},b?b(B):B),y.createElement("div",{tabIndex:0,ref:O,style:Ore,"aria-hidden":"true"}))}))}));Nre.displayName="Content";var Tre=Nre;function Are(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,i=e.visible,o=void 0!==i&&i,a=e.keyboard,s=void 0===a||a,u=e.focusTriggerAfterClose,c=void 0===u||u,l=e.scrollLocker,f=e.title,d=e.wrapStyle,h=e.wrapClassName,p=e.wrapProps,v=e.onClose,g=e.afterClose,b=e.transitionName,x=e.animation,w=e.closable,_=void 0===w||w,E=e.mask,S=void 0===E||E,k=e.maskTransitionName,C=e.maskAnimation,M=e.maskClosable,O=void 0===M||M,N=e.maskStyle,T=e.maskProps,A=(0,y.useRef)(),P=(0,y.useRef)(),I=(0,y.useRef)(),D=y.useState(o),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=(0,y.useRef)();function B(e){null===v||void 0===v||v(e)}F.current||(F.current="rcDialogTitle".concat(kre+=1));var z=(0,y.useRef)(!1),U=(0,y.useRef)(),G=null;return O&&(G=function(e){z.current?z.current=!1:P.current===e.target&&B(e)}),(0,y.useEffect)((function(){return o&&j(!0),function(){}}),[o]),(0,y.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]),(0,y.useEffect)((function(){return L?(null===l||void 0===l||l.lock(),null===l||void 0===l?void 0:l.unLock):function(){}}),[L,l]),y.createElement("div",Mt({className:"".concat(n,"-root")},ev(e,{data:!0})),y.createElement(Ere,{prefixCls:n,visible:S&&o,motionName:Sre(n,k,C),style:_e({zIndex:r},N),maskProps:T}),y.createElement("div",Mt({tabIndex:-1,onKeyDown:function(e){if(s&&e.keyCode===Ro.ESC)return e.stopPropagation(),void B(e);o&&e.keyCode===Ro.TAB&&I.current.changeActive(!e.shiftKey)},className:Mn()("".concat(n,"-wrap"),h),ref:P,onClick:G,role:"dialog","aria-labelledby":f?F.current:null,style:_e(_e({zIndex:r},d),{},{display:L?null:"none"})},p),y.createElement(Tre,Mt({},e,{onMouseDown:function(){clearTimeout(U.current),z.current=!0},onMouseUp:function(){U.current=setTimeout((function(){z.current=!1}))},ref:I,closable:_,ariaId:F.current,prefixCls:n,visible:o,onClose:B,onVisibleChanged:function(e){if(e){var t;if(!Xo(P.current,document.activeElement))A.current=document.activeElement,null===(t=I.current)||void 0===t||t.focus()}else{if(j(!1),S&&A.current&&c){try{A.current.focus({preventScroll:!0})}catch(n){}A.current=null}L&&(null===g||void 0===g||g())}},motionName:Sre(n,b,x)}))))}var Pre=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,i=e.destroyOnClose,o=void 0!==i&&i,a=e.afterClose,s=y.useState(t),u=(0,m.Z)(s,2),c=u[0],l=u[1];return y.useEffect((function(){t&&l(!0)}),[t]),!1===n?y.createElement(Are,Mt({},e,{getOpenCount:function(){return 2}})):r||!o||c?y.createElement(_re,{visible:t,forceRender:r,getContainer:n},(function(t){return y.createElement(Are,Mt({},e,{destroyOnClose:o,afterClose:function(){null===a||void 0===a||a(),l(!1)}},t))})):null};Pre.displayName="Dialog";var Ire=Pre;function Dre(e,t,n,r){var i=t+n,o=(n-r)/2;if(n>r){if(t>0)return(0,xe.Z)({},e,o);if(t<0&&i<r)return(0,xe.Z)({},e,-o)}else if(t<0||i>r)return(0,xe.Z)({},e,t<0?o:-o);return{}}function Rre(e,t,n,r){var i={width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},o=i.width,a=i.height,s=null;return e<=o&&t<=a?s={x:0,y:0}:(e>o||t>a)&&(s=_e(_e({},Dre("x",n,e,o)),Dre("y",r,t,a))),s}var Lre=["visible","onVisibleChange","getContainer","current"],jre=y.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),Fre=jre.Provider,Bre=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,r=e.children,i=e.icons,o=void 0===i?{}:i,a=e.preview,s="object"===(0,lr.Z)(a)?a:{},u=s.visible,c=void 0===u?void 0:u,l=s.onVisibleChange,f=void 0===l?void 0:l,d=s.getContainer,h=void 0===d?void 0:d,p=s.current,v=void 0===p?0:p,g=ur(s,Lre),b=(0,y.useState)(new Map),x=(0,m.Z)(b,2),w=x[0],_=x[1],E=(0,y.useState)(),S=(0,m.Z)(E,2),k=S[0],C=S[1],M=Vi(!!c,{value:c,onChange:f}),O=(0,m.Z)(M,2),N=O[0],T=O[1],A=(0,y.useState)(null),P=(0,m.Z)(A,2),I=P[0],D=P[1],R=void 0!==c,L=Array.from(w.keys())[v],j=new Map(Array.from(w).filter((function(e){return!!(0,m.Z)(e,2)[1].canPreview})).map((function(e){var t=(0,m.Z)(e,2);return[t[0],t[1].url]})));return y.useEffect((function(){C(L)}),[L]),y.useEffect((function(){!N&&R&&C(L)}),[L,R,N]),y.createElement(Fre,{value:{isPreviewGroup:!0,previewUrls:j,setPreviewUrls:_,current:k,setCurrent:C,setShowPreview:T,setMousePosition:D,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){_((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return _((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},r,y.createElement(Zre,Mt({"aria-hidden":!N,visible:N,prefixCls:n,onClose:function(e){e.stopPropagation(),T(!1),D(null)},mousePosition:I,src:j.get(k),icons:o,getContainer:h},g)))},zre=["prefixCls","src","alt","onClose","afterClose","visible","icons"],Ure=y.useState,Gre=y.useEffect,Vre={x:0,y:0},Zre=function(e){var t=e.prefixCls,n=e.src,r=e.alt,i=e.onClose,o=(e.afterClose,e.visible),a=e.icons,s=void 0===a?{}:a,u=ur(e,zre),c=s.rotateLeft,l=s.rotateRight,f=s.zoomIn,d=s.zoomOut,h=s.close,p=s.left,v=s.right,g=Ure(1),b=(0,m.Z)(g,2),x=b[0],w=b[1],_=Ure(0),E=(0,m.Z)(_,2),S=E[0],k=E[1],C=function(e){var t=y.useRef(null),n=y.useState(e),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=y.useRef([]);return y.useEffect((function(){return function(){return t.current&&qo.cancel(t.current)}}),[]),[i,function(e){null===t.current&&(a.current=[],t.current=qo((function(){o((function(e){var n=e;return a.current.forEach((function(e){n=_e(_e({},n),e)})),t.current=null,n}))}))),a.current.push(e)}]}(Vre),M=(0,m.Z)(C,2),O=M[0],N=M[1],T=y.useRef(),A=y.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),P=y.useState(!1),I=(0,m.Z)(P,2),D=I[0],R=I[1],L=y.useContext(jre),j=L.previewUrls,F=L.current,B=L.isPreviewGroup,z=L.setCurrent,U=j.size,G=Array.from(j.keys()),V=G.indexOf(F),Z=B?j.get(F):n,W=B&&U>1,Y=y.useState({wheelDirection:0}),H=(0,m.Z)(Y,2),q=H[0],X=H[1],K=function(){w((function(e){return e+1})),N(Vre)},$=function(){x>1&&w((function(e){return e-1})),N(Vre)},Q=Mn()((0,xe.Z)({},"".concat(t,"-moving"),D)),J="".concat(t,"-operations-operation"),ee="".concat(t,"-operations-icon"),te=[{icon:h,onClick:i,type:"close"},{icon:f,onClick:K,type:"zoomIn"},{icon:d,onClick:$,type:"zoomOut",disabled:1===x},{icon:l,onClick:function(){k((function(e){return e+90}))},type:"rotateRight"},{icon:c,onClick:function(){k((function(e){return e-90}))},type:"rotateLeft"}],ne=function(){if(o&&D){var e=T.current.offsetWidth*x,t=T.current.offsetHeight*x,n=T.current.getBoundingClientRect(),r=n.left,i=n.top,a=S%180!==0;R(!1);var s=Rre(a?t:e,a?e:t,r,i);s&&N(_e({},s))}},re=function(e){o&&D&&N({x:e.pageX-A.current.deltaX,y:e.pageY-A.current.deltaY})},ie=function(e){if(o){e.preventDefault();var t=e.deltaY;X({wheelDirection:t})}};return Gre((function(){var e=q.wheelDirection;e>0?$():e<0&&K()}),[q]),Gre((function(){var e,t,n=Ko(window,"mouseup",ne,!1),r=Ko(window,"mousemove",re,!1),i=Ko(window,"wheel",ie,{passive:!1});try{window.top!==window.self&&(e=Ko(window.top,"mouseup",ne,!1),t=Ko(window.top,"mousemove",re,!1))}catch(o){Gr(0,"[rc-image] ".concat(o))}return function(){n.remove(),r.remove(),i.remove(),e&&e.remove(),t&&t.remove()}}),[o,D]),y.createElement(Ire,Mt({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:t,onClose:i,afterClose:function(){w(1),k(0),N(Vre)},visible:o,wrapClassName:Q},u),y.createElement("ul",{className:"".concat(t,"-operations")},te.map((function(e){var n=e.icon,r=e.onClick,i=e.type,o=e.disabled;return y.createElement("li",{className:Mn()(J,(0,xe.Z)({},"".concat(t,"-operations-operation-disabled"),!!o)),onClick:r,key:i},y.isValidElement(n)?y.cloneElement(n,{className:ee}):n)}))),y.createElement("div",{className:"".concat(t,"-img-wrapper"),style:{transform:"translate3d(".concat(O.x,"px, ").concat(O.y,"px, 0)")}},y.createElement("img",{onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),A.current.deltaX=e.pageX-O.x,A.current.deltaY=e.pageY-O.y,A.current.originX=O.x,A.current.originY=O.y,R(!0))},ref:T,className:"".concat(t,"-img"),src:Z,alt:r,style:{transform:"scale3d(".concat(x,", ").concat(x,", 1) rotate(").concat(S,"deg)")}})),W&&y.createElement("div",{className:Mn()("".concat(t,"-switch-left"),(0,xe.Z)({},"".concat(t,"-switch-left-disabled"),0===V)),onClick:function(e){e.preventDefault(),e.stopPropagation(),V>0&&z(G[V-1])}},p),W&&y.createElement("div",{className:Mn()("".concat(t,"-switch-right"),(0,xe.Z)({},"".concat(t,"-switch-right-disabled"),V===U-1)),onClick:function(e){e.preventDefault(),e.stopPropagation(),V<U-1&&z(G[V+1])}},v))},Wre=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"],Yre=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],Hre=0,qre=function(e){var t=e.src,n=e.alt,r=e.onPreviewClose,i=e.prefixCls,o=void 0===i?"rc-image":i,a=e.previewPrefixCls,s=void 0===a?"".concat(o,"-preview"):a,u=e.placeholder,c=e.fallback,l=e.width,f=e.height,d=e.style,h=e.preview,p=void 0===h||h,v=e.className,g=e.onClick,b=e.onError,x=e.wrapperClassName,w=e.wrapperStyle,_=e.crossOrigin,E=e.decoding,S=e.loading,k=e.referrerPolicy,C=e.sizes,M=e.srcSet,O=e.useMap,N=ur(e,Wre),T=u&&!0!==u,A="object"===(0,lr.Z)(p)?p:{},P=A.src,I=A.visible,D=void 0===I?void 0:I,R=A.onVisibleChange,L=void 0===R?r:R,j=A.getContainer,F=void 0===j?void 0:j,B=A.mask,z=A.maskClassName,U=A.icons,G=ur(A,Yre),V=null!==P&&void 0!==P?P:t,Z=void 0!==D,W=Vi(!!D,{value:D,onChange:L}),Y=(0,m.Z)(W,2),H=Y[0],q=Y[1],X=(0,y.useState)(T?"loading":"normal"),K=(0,m.Z)(X,2),$=K[0],Q=K[1],J=(0,y.useState)(null),ee=(0,m.Z)(J,2),te=ee[0],ne=ee[1],re="error"===$,ie=y.useContext(jre),oe=ie.isPreviewGroup,ae=ie.setCurrent,se=ie.setShowPreview,ue=ie.setMousePosition,ce=ie.registerImage,le=y.useState((function(){return Hre+=1})),fe=(0,m.Z)(le,1)[0],de=p&&!re,he=y.useRef(!1),pe=function(){Q("normal")};y.useEffect((function(){return ce(fe,V)}),[]),y.useEffect((function(){ce(fe,V,de)}),[V,de]),y.useEffect((function(){re&&Q("normal"),T&&!he.current&&Q("loading")}),[t]);var ve=Mn()(o,x,(0,xe.Z)({},"".concat(o,"-error"),re)),ge=re&&c?c:V,me={crossOrigin:_,decoding:E,loading:S,referrerPolicy:k,sizes:C,srcSet:M,useMap:O,alt:n,className:Mn()("".concat(o,"-img"),(0,xe.Z)({},"".concat(o,"-img-placeholder"),!0===u),v),style:_e({height:f},d)};return y.createElement(y.Fragment,null,y.createElement("div",Mt({},N,{className:ve,onClick:de?function(e){if(!Z){var t=ng(e.target),n=t.left,r=t.top;oe?(ae(fe),ue({x:n,y:r})):ne({x:n,y:r})}oe?se(!0):q(!0),g&&g(e)}:g,style:_e({width:l,height:f},w)}),y.createElement("img",Mt({},me,{ref:function(e){he.current=!1,"loading"===$&&(null===e||void 0===e?void 0:e.complete)&&(e.naturalWidth||e.naturalHeight)&&(he.current=!0,pe())}},re&&c?{src:c}:{onLoad:pe,onError:function(e){b&&b(e),Q("error")},src:t})),"loading"===$&&y.createElement("div",{"aria-hidden":"true",className:"".concat(o,"-placeholder")},u),B&&de&&y.createElement("div",{className:Mn()("".concat(o,"-mask"),z)},B)),!oe&&de&&y.createElement(Zre,Mt({"aria-hidden":!H,visible:H,prefixCls:s,onClose:function(e){e.stopPropagation(),q(!1),Z||ne(null)},mousePosition:te,src:ge,alt:n,getContainer:F,icons:U},G)))};qre.PreviewGroup=Bre,qre.displayName="Image";var Xre=qre,Kre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},$re=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Kre}))};$re.displayName="RotateLeftOutlined";var Qre=y.forwardRef($re),Jre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},eie=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:Jre}))};eie.displayName="RotateRightOutlined";var tie=y.forwardRef(eie),nie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},rie=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:nie}))};rie.displayName="ZoomInOutlined";var iie=y.forwardRef(rie),oie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},aie=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:oie}))};aie.displayName="ZoomOutOutlined";var sie=y.forwardRef(aie),uie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cie={rotateLeft:y.createElement(Qre,null),rotateRight:y.createElement(tie,null),zoomIn:y.createElement(iie,null),zoomOut:y.createElement(sie,null),close:y.createElement(Mp,null),left:y.createElement(_i,null),right:y.createElement(bi,null)},lie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fie=function(e){var t=e.prefixCls,n=e.preview,r=lie(e,["prefixCls","preview"]),i=(0,y.useContext)(Xn).getPrefixCls,o=i("image",t),a=i(),s=(0,y.useContext)(Xn).locale,u=(void 0===s?v_:s).Image||v_.Image,c=y.useMemo((function(){if(!1===n)return n;var e="object"===(0,lr.Z)(n)?n:{};return Mt(Mt({mask:y.createElement("div",{className:"".concat(o,"-mask-info")},y.createElement(Gw,null),null===u||void 0===u?void 0:u.preview),icons:cie},e),{transitionName:ju(a,"zoom",e.transitionName),maskTransitionName:ju(a,"fade",e.maskTransitionName)})}),[n,u]);return y.createElement(Xre,Mt({prefixCls:o,preview:c},r))};fie.PreviewGroup=function(e){var t=e.previewPrefixCls,n=e.preview,r=uie(e,["previewPrefixCls","preview"]),i=y.useContext(Xn).getPrefixCls,o=i("image-preview",t),a=i(),s=y.useMemo((function(){if(!1===n)return n;var e="object"===(0,lr.Z)(n)?n:{};return Mt(Mt({},e),{transitionName:ju(a,"zoom",e.transitionName),maskTransitionName:ju(a,"fade",e.maskTransitionName)})}),[n]);return y.createElement(Xre.PreviewGroup,Mt({preview:s,previewPrefixCls:o,icons:cie},r))};var die=fie,hie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},pie=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:hie}))};pie.displayName="FilterOutlined";var vie=y.forwardRef(pie),gie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},mie=function(e,t){return y.createElement(pi,_e(_e({},e),{},{ref:t,icon:gie}))};mie.displayName="FileAddOutlined";var yie=y.forwardRef(mie),bie=Zf.Title,xie=Zf.Text;function wie(e){var t=e.Icon,n=e.text,r=e.description;return(0,fk.jsxs)(Sp,{md:24,lg:7,style:{paddingTop:20},children:[(0,fk.jsx)(Xp,{justify:"center",align:"middle",children:(0,fk.jsx)(t,{style:{fontSize:50,color:"dodgerblue"}})}),(0,fk.jsx)(Xp,{justify:"center",align:"middle",children:(0,fk.jsx)(bie,{style:{fontSize:30},children:n})}),(0,fk.jsx)(Xp,{justify:"center",align:"middle",children:(0,fk.jsx)(xie,{children:r})})]})}function _ie(e){var t=e.textAlignment,n=void 0===t?"left":t,r=e.text,i=e.description,o=e.imageUrl,a=(0,y.useState)(window.innerWidth),s=(0,m.Z)(a,2),u=s[0],c=s[1];(0,y.useEffect)((function(){window.addEventListener("resize",(function(){return c(window.innerWidth)}))}),[]);var l=(0,fk.jsx)(Sp,{md:22,lg:10,children:(0,fk.jsx)(Xp,{justify:"center",children:(0,fk.jsx)(die,{src:"".concat("/xai-papers").concat(o),width:1/3*u})})}),f=(0,fk.jsx)(Sp,{md:22,lg:10,children:(0,fk.jsxs)(Xp,{justify:"center",align:"middle",children:[(0,fk.jsx)(bie,{style:{fontSize:30},children:r}),(0,fk.jsx)(xie,{children:i})]})});return(0,fk.jsx)(Xp,{justify:"center",style:{width:"100%",marginTop:50},gutter:[30,20],children:u<=992?(0,fk.jsxs)(fk.Fragment,{children:[f,l]}):(0,fk.jsxs)(fk.Fragment,{children:["left"===n?f:l,"left"===n?l:f]})})}var Eie=function(){var e=Yt(),t=function(t){window.scrollTo(0,0),e(ht(t))};return(0,fk.jsxs)(fk.Fragment,{children:[(0,fk.jsxs)(Xp,{justify:"center",style:{marginBottom:50},children:[(0,fk.jsx)(bie,{style:{fontSize:40,color:"dodgerblue"},children:"A Living and Curated Collection of Explainable AI Methods"}),(0,fk.jsx)(xie,{style:{fontSize:20},children:(0,fk.jsx)("b",{children:"Interactively browse and contribute to a curated categorization of papers on explainable AI."})}),(0,fk.jsxs)(xie,{style:{fontSize:18},children:["The initial dataset was collected and labelled by",(0,fk.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:"\xa0Nauta et al. (2023)"})," as part of a large-scale literature review on the evaluation of Explainable Artificial Intelligence. This website provides an interactive way to explore the dataset, and we invite the community to extend the XAI dataset in order to make this a living and curated collection of explainable AI methods. Contribute by adding papers following our categorization scheme, and reviewing suggestions from others."]})]}),(0,fk.jsxs)(Xp,{style:{marginBottom:50},justify:"space-between",children:[(0,fk.jsx)(wie,{Icon:vie,text:"Browse and Explore",description:(0,fk.jsxs)(fk.Fragment,{children:["Quickly find relevant XAI papers by",(0,fk.jsx)("a",{onClick:function(){return t("papers")},children:"\xa0filtering and searching\xa0"}),"in the dataset, using our categorization scheme. Prefer visuals? Use our",(0,fk.jsx)("a",{onClick:function(){return t("charts")},children:"\xa0charts page\xa0"}),"for interactive graphs."]})}),(0,fk.jsx)(wie,{Icon:yie,text:"Contribute and Categorize",description:(0,fk.jsxs)(fk.Fragment,{children:["Make this a living collection by",(0,fk.jsx)("a",{onClick:function(){return t("add-paper")},children:"\xa0adding papers\xa0"}),"to this collection! Label the paper using our categorization scheme and",(0,fk.jsx)("a",{href:lt,target:"_blank",rel:"noreferrer",children:"\xa0make a pull request"}),"."]})}),(0,fk.jsx)(wie,{Icon:sB,text:"Review and Verify",description:(0,fk.jsxs)(fk.Fragment,{children:["Help curating this dataset by",(0,fk.jsx)("a",{href:"".concat(lt,"/pulls"),target:"_blank",rel:"noreferrer",children:"\xa0reviewing pull requests\xa0"}),"for new papers. A paper with 3 positive reviews will be automatically added to our collection."]})})]}),(0,fk.jsx)(_ie,{text:"Initial Collection and Categorization",description:(0,fk.jsxs)(fk.Fragment,{children:["All papers in this collection are categorized along the scheme as presented by",(0,fk.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:"\xa0Nauta et al. (2023)"})," and shown in the image on the right. The initial collection contains categorization of papers on explainable AI published in 2014-2020 at conferences AAAI, IJCAI, NeurIPS, ICML, ICLR, CVPR, ICCV, ACL, WWW, ICDM, KDD and SIGIR."]}),imageUrl:"/categories_xai.png"}),(0,fk.jsx)(_ie,{textAlignment:"right",text:"A Living Collection",description:(0,fk.jsxs)(fk.Fragment,{children:["We invite the community to extend the initial paper collection by adding new papers. Anyone can contribute by adding a new paper as follows: Categorize the paper and use our website to generate a database entry. Create a pull request on our project\u2019s",(0,fk.jsx)("a",{href:lt,target:"_blank",rel:"noreferrer",children:"\xa0Github page"})," and append the generated entry to our database. Some automated tests check whether the new database entry is in the right format, but that shouldn\u2019t be any problem with our",(0,fk.jsx)("a",{onClick:function(){return t("add-paper")},children:"\xa0generation tool"}),"."]}),imageUrl:"/add_paper_form_half.png"}),(0,fk.jsx)(_ie,{text:"A Curated Collection",description:(0,fk.jsxs)(fk.Fragment,{children:["To maintain a certain degree of quality, we invite the XAI community to review pull requests of others. Is the suggested paper indeed on explainable AI and is the categorization correct? Leave a review on our project\u2019s",(0,fk.jsx)("a",{href:lt,target:"_blank",rel:"noreferrer",children:"\xa0Github page"}),". With three positive reviews (or one positive review of an admin), the pull request is automatically merged and the paper is added to the collection!"]}),imageUrl:"/pull_request_unreviewed.png"}),(0,fk.jsx)(Xp,{style:{marginTop:30},children:(0,fk.jsxs)(xie,{children:[(0,fk.jsx)("br",{}),"We thank ",(0,fk.jsx)("a",{href:"https://www.linkedin.com/in/abdullah-aziz-qazi/",target:"_blank",rel:"noreferrer",children:"Abdullah Qazi"}),",",(0,fk.jsx)("a",{href:"https://www.linkedin.com/in/boris-gerretzen/",target:"_blank",rel:"noreferrer",children:" Boris Gerretzen"}),",",(0,fk.jsx)("a",{href:"https://www.linkedin.com/in/frans-schooltink/",target:"_blank",rel:"noreferrer",children:" Frans Schooltink"}),",",(0,fk.jsx)("a",{href:"https://www.linkedin.com/in/gies-den-broeder/",target:"_blank",rel:"noreferrer",children:" Gies den Broeder "}),"and",(0,fk.jsx)("a",{href:"https://www.linkedin.com/in/ramish-bhutto-06275b237/",target:"_blank",rel:"noreferrer",children:" Ramish Bhutto "}),"for helping us with the development of this website.",(0,fk.jsx)("br",{}),(0,fk.jsx)("br",{})]})}),(0,fk.jsx)(bie,{level:4,children:"Paper and Citation"}),(0,fk.jsxs)(xie,{children:["This website is based on the data collected by Meike Nauta, Jan Trienes, Shreyasi Pathak, Elisa Nguyen, Michelle Peters, Yasmin Schmitt, J\xf6rg Schl\xf6tterer, Maurice van Keulen, Christin Seifert as described in",(0,fk.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:'\u2002"From Anecdotal Evidence to Quantitative Evaluation Methods: A Systematic Review on Evaluating Explainable AI"'}),(0,fk.jsx)("small",{children:"\u2002(ACM Computing Surveys, 2023)"}),(0,fk.jsx)("br",{}),(0,fk.jsx)("br",{}),"If you found this resource helpful, please cite our work:"]}),(0,fk.jsxs)(Xp,{justify:"center",children:[(0,fk.jsx)("img",{src:"/xai-papers/UT_Logo_Horizontal_Black.png",height:"80"}),(0,fk.jsx)("img",{src:"/xai-papers/IKIM_Logo.png",height:"80"})]})]})},Sie=Ai.Content,kie=Ai.Sider,Cie=Zf.Text;function Mie(){var e=Wt(),t=Yt(),n=(0,y.useState)(!1),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useState)(),s=(0,m.Z)(a,2),u=s[0],c=s[1];(0,y.useEffect)((function(){c([dt(e.pathname)])}),[e.pathname]);var l=(0,y.useState)(!1),f=(0,m.Z)(l,2),d=f[0],h=f[1];return(0,y.useEffect)((function(){i?h(!d):setTimeout((function(){h(!d)}),100)}),[i]),(0,fk.jsxs)(Ai,{children:[(0,fk.jsxs)(kie,{collapsible:!0,collapsed:i,style:{overflow:"auto",height:"100vh",position:"sticky",top:0,left:0},trigger:null,theme:"light",children:[(0,fk.jsx)(ld,{onClick:function(){return o(!i)},style:{width:"100%",height:40},icon:i?(0,fk.jsx)(bi,{}):(0,fk.jsx)(_i,{})}),(0,fk.jsxs)(ap,{mode:"inline",onClick:function(e){var n=e.key;window.scrollTo(0,0),t(ht(n))},selectedKeys:u,children:[(0,fk.jsx)(ap.Item,{icon:(0,fk.jsx)(cp,{}),children:"Home"},"landing"),(0,fk.jsx)(ap.Item,{icon:(0,fk.jsx)(dp,{}),children:"Papers"},"papers"),(0,fk.jsx)(ap.Item,{icon:(0,fk.jsx)(vp,{}),children:"Charts"},"charts"),(0,fk.jsx)(ap.Item,{icon:(0,fk.jsx)(yp,{}),children:"Add Paper"},"add-paper")]}),d?(0,fk.jsx)(Cie,{style:{left:15,color:"dodgerblue",position:"absolute",bottom:15},children:"Overview of Methods on Explainable AI"}):null]}),(0,fk.jsx)(Ai,{children:(0,fk.jsx)(Sie,{style:{padding:"0 50px",marginTop:20},children:(0,fk.jsxs)(Vt,{children:[(0,fk.jsx)(Ut,{path:"/",element:(0,fk.jsx)(Eie,{})}),(0,fk.jsx)(Ut,{path:"/papers",element:(0,fk.jsx)(_ne,{})}),(0,fk.jsx)(Ut,{path:"/charts",element:(0,fk.jsx)(sre,{})}),(0,fk.jsx)(Ut,{path:"/add-paper",element:(0,fk.jsx)(rre,{})})]})})})]})}b.render((0,fk.jsx)(vn,{store:Ct,children:(0,fk.jsx)(un,{children:(0,fk.jsx)(Mie,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.f5ae6e28.js.map