/*! For license information please see main.47ceed15.js.LICENSE.txt */
!function(){var e={87757:function(e,t,n){e.exports=n(19727)},53469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i};t.default=n},69252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(77249),i=r.detectCycleAsync;t.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=o},66299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(69748))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new i.default,u=e.edges,l=void 0===u?[]:u;s.enqueue(t);for(var c="",d=function(){var e=s.dequeue();a.enter({current:e,previous:c}),(0,o.getNeighbors)(e,l,r?"target":void 0).forEach((function(t){a.allowTraversal({previous:c,current:e,next:t})&&s.enqueue(t)})),a.leave({current:e,previous:c}),c=e};!s.isEmpty();)d()};t.default=a},73265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?o(e):i(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(70399),i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u=[],l=function e(t){u.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o),a=function(t){var r=i[t];if(!s[r]){var o=n.filter((function(e){return e.id===r}));o.length>0&&e(o[0])}},l=0;l<i.length;++l)a(l)},c=0;c<n.length;c++){var d=n[c];if(!s[d.id]){l(d);for(var f=[];u.length>0;)f.push(u.pop());a.push(f)}}return a};t.detectConnectedComponents=i;var o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u={},l={},c=[],d=0,f=function e(t){u[t.id]=d,l[t.id]=d,d+=1,a.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),f=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(l[t.id]=Math.min(l[t.id],u[o]));else{var a=n.filter((function(e){return e.id===o}));a.length>0&&e(a[0]),l[t.id]=Math.min(l[t.id],l[o])}},h=0;h<i.length;h++)f(h);if(l[t.id]===u[t.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===t)break}p.length>0&&c.push(p)}},h=0,p=n;h<p.length;h++){var g=p[h];u[g.id]||0===u[g.id]||f(g)}return c};t.detectStrongConnectComponents=o},70834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},19020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var n=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},r=n;t.default=r;t.getInDegree=function(e,t){return n(e)[t]?n(e)[t].inDegree:0};t.getOutDegree=function(e,t){return n(e)[t]?n(e)[t].outDegree:0}},11354:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var i,o=(i=n(25068))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(73265)),s=n(70399);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,l=(0,a.default)(e,!1);u<l.length;u++){var c=l[u];if(c.length)for(var d=c[0],f=d.id,h=[d],p=((r={})[f]=d,r),g=((i={})[f]=new Set,i);h.length>0;)for(var v=h.pop(),m=v.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var i,a=y[r],s=e.nodes.find((function(e){return e.id===a}));if(a===m)o.push(((i={})[a]=v,i));else if(a in g){if(!g[m].has(s)){for(var u=!0,l=[s,v],c=p[m];g[a].size&&!g[a].has(c)&&(l.push(c),c!==p[c.id]);)c=p[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var d={},f=1;f<l.length;f+=1)d[l[f-1].id]=l[f];l.length&&(d[l[l.length-1].id]=l[0]),o.push(d)}g[a].add(v)}}else p[a]=v,h.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return o};t.detectAllUndirectedCycle=l;var c=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],l={},c={},d=function e(a,s,c){var d=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return d;r.push(a),i.add(a);for(var f=c[a.id],h=0;h<f.length;h+=1){if((v=l[f[h]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),d=!0}else i.has(v)||e(v,s,c)&&(d=!0)}if(d)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(a);else for(h=0;h<f.length;h+=1){var v=l[f[h]];o[v.id].has(a)||o[v.id].add(a)}return r.pop(),d},f=e.nodes,h=void 0===f?[]:f,p=0;p<h.length;p+=1){var g=h[p],v=g.id;c[v]=p,l[p]=g}if(t&&n){var m=function(e){var n=t[e];c[h[e].id]=c[n],c[n]=0,l[0]=h.find((function(e){return e.id===n})),l[c[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var d=r[l],f=0;f<d.length;f++){var h=c[d[f].id];h<a&&(a=h,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var v=p[l];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,e.edges,"target").filter((function(e){return p.map((function(e){return e.id})).indexOf(e)>-1}));m<y.length;m++){var b=y[m];b!==v.id||!1===n&&t.indexOf(v.id)>-1?g[v.id].push(c[b]):u.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<h.length;){var x=h.filter((function(e){return c[e.id]>=b})),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter((function(e){return e.length>1}));if(0===w.length)break;var E=y(w),k=E.minIdx,_=E.adjList,S=E.component;if(!(S.length>1))break;S.forEach((function(e){o[e.id]=new Set}));var T=l[k];if(t&&n&&-1===t.indexOf(T.id))return u;d(T,T,_),b=k+1}return u};t.detectAllDirectedCycle=c;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?c(e,n,r):l(e,n,r)};var d=function(e){var t=null,n=e.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var u={enter:function(e){var n=e.current,o=e.previous;if(a[n]){t={};for(var s=n,u=o;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(i).length;){var l=Object.keys(i)[0];(0,o.default)(e,l,u)}return t};t.default=d},25068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){i(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(70399);function i(e,t,n,o){o.enter({current:t,previous:n});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(t,s,"target").forEach((function(r){o.allowTraversal({previous:n,current:t,next:r})&&i(e,r,t,o)})),o.leave({current:t,previous:n})}},95581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3431),i=n(98092),o=n(70399),a=function(e,t,n,r){var i=e.nodes,a=void 0===i?[]:i,u=e.edges,l=void 0===u?[]:u,c=[],d={},f={},h={};a.forEach((function(e,n){var r=e.id;c.push(r),f[r]=1/0,r===t&&(f[r]=0)}));for(var p=a.length,g=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(f,a,d),i=t.id;if(d[i]=!0,f[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,l):(0,o.getEdgesByNodeId)(i,l)).forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;f[a]>f[t.id]+s?(f[a]=f[t.id]+s,h[a]=[t.id]):f[a]===f[t.id]+s&&h[a].push(t.id)}))},v=0;v<p;v++)g();h[t]=[t];var m={};for(var y in f)f[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:f,path:b,allPath:m}};function s(e,t,n,o){if(e===t)return[e];if(o[t])return o[t];for(var a=[],u=0,l=n[t];u<l.length;u++){var c=s(e,l[u],n,o);if(!c)return;for(var d=0,f=c;d<f.length;d++){var h=f[d];(0,i.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return o[t]=a,o[t]}t.default=a},26384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,i=(r=n(95581))&&r.__esModule?r:{default:r},o=n(70399);t.findShortestPath=function(e,t,n,r,o){var a=(0,i.default)(e,t,r,o),s=a.length,u=a.path,l=a.allPath;return{length:s[n],path:u[n],allPath:l[n]}};t.findAllPath=function(e,t,n,r){var i;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],l=((i={})[t]=!0,i),c=[],d=[],f=r?(0,o.getNeighbors)(t,s,"target"):(0,o.getNeighbors)(t,s);for(c.push(f);u.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),l[p]=!0,f=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(f.filter((function(e){return!l[e]})))),u[u.length-1]===n){var g=u.map((function(e){return e}));d.push(g);v=u.pop();l[v]=!1,c.pop()}}else{var v=u.pop();l[v]=!1,c.pop()}}return d}},39345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(53469))&&r.__esModule?r:{default:r};var o=function(e,t){for(var n=(0,i.default)(e,t),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=o},21225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=n(37468),o=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new o(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=i.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new i.Graph(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(t,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,s=e.maxNodeNum,u=void 0===s?4:s,l=e.top,c=void 0===l?10:l,d=e.directed,f=void 0!==d&&d,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=f,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],d=o[c.to].label;t.to===c.to||n>d||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=d)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,l=new a,c={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=u[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);c[i]||(c[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var o={graphId:r.id,edge:e,preNode:null};c[i].projected.push(o)}))}));var d=this.findMinLabel(c);if(d){l.dfsEdgeList.push(new o(0,1,d.nodeLabel1,d.edgeLabel,d.nodeLabel2));var f="".concat(d.nodeLabel1,"-").concat(d.edgeLabel,"-").concat(d.nodeLabel2);return function a(c){for(var d=l.buildRmpath(),f=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=l.dfsEdgeList[d[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(t){if(g)return"break";c.forEach((function(n){var i=new s(n),o=e.findBackwardEdge(r,i.edges[d[t]],i.edges[d[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=l.dfsEdgeList[d[t]].fromNode,g=!0)}))},b=d.length-1;b>m;b--){if("break"===y(b))break}if(g){var x=e.findMinLabel(p);l.dfsEdgeList.push(new o(h,v,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var w=l.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[w]===l.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var E={};g=!1;var k=0;c.forEach((function(t){var n=new s(t),i=e.findForwardPureEdges(r,n.edges[d[0]],f,n);i.length>0&&(g=!0,k=h,i.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var _=d.length,S=function(t){if(g)return"break";var n=d[t];c.forEach((function(t){var i=new s(t),o=e.findForwardRmpathEdges(r,i.edges[n],f,i);o.length>0&&(g=!0,k=l.dfsEdgeList[n].fromNode,o.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(b=0;b<_;b++){if("break"===S(b))break}if(!g)return!0;var T=e.findMinLabel(E);l.dfsEdgeList.push(new o(k,h+1,i.VACANT_NODE_LABEL,T.edgeLabel,T.nodeLabel2));var C=l.dfsEdgeList.length-1;return t.dfsEdgeList[C]===l.dfsEdgeList[C]&&a(E["".concat(T.edgeLabel,"-").concat(T.nodeLabel2)].projected)}(c[f].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},c={};e.forEach((function(e){for(var i=t.graphs[e.graphId],o=i.nodeMap,d=new s(e),f=r.length-1;f>=0;f--){var h=t.findBackwardEdge(i,d.edges[r[f]],d.edges[r[0]],d);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(h.label);c[p]||(c[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:h.label}),c[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(i,d.edges[r[0]],u,d).forEach((function(t){var n="".concat(a,"-").concat(t.label,"-").concat(o[t.to].label);l[n]||(l[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:o[t.to].label}),l[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var g=function(n){t.findForwardRmpathEdges(i,d.edges[r[n]],u,d).forEach((function(i){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);l[a]||(l[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),l[a].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(f=0;f<r.length;f++)g(f)}})),Object.keys(c).forEach((function(e){var n=c[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(l).forEach((function(e){var n=l[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var d=i[l]||0;d++,i[l]=d}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,d="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),f="".concat(r,"-").concat(c,"-").concat(i);if(!o[f]){var h=o[f]||0;h++,o[f]=h}s[d]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),l="cluster",c=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,a=void 0===o?l:o,s=e.edgeLabelProp,c=void 0===s?l:s,d=function(e,t,n,r){var o={};return Object.keys(e).forEach((function(a,s){var u=e[a],l=new i.Graph(s,!0,t),c={};u.nodes.forEach((function(e,t){l.addNode(t,e[n]),c[e.id]=t})),u.edges.forEach((function(e,t){var n=c[e.source],i=c[e.target];l.addEdge(-1,n,i,e[r])})),l&&l.getNodeNum()&&(o[l.id]=l)})),o}(t,r,a,c),f=e.minSupport,h=e.maxNodeNum,p=e.minNodeNum,g=e.verbose,v=e.top,m=new u({graphs:d,minSupport:f,maxNodeNum:h,minNodeNum:p,top:v,verbose:g,directed:r});m.run();var y=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(m.frequentSubgraphs,a,c);return y};t.default=c},37468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;t.VACANT_EDGE_ID=-1;t.VACANT_NODE_ID=-1;t.VACANT_EDGE_LABEL="-1";t.VACANT_NODE_LABEL="-1";t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var n=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r};t.Edge=n;var r=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t="-1"),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=r;var i=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new r(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,i){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new n(e,t,r,i);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(o),!this.directed){var a=new n(e,r,t,i);this.nodeMap[r].addEdge(a),this.edgeLabelMap[i].push(a)}}},e}();t.Graph=i},55472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3431),i=u(n(39345)),o=u(n(21225)),a=u(n(95581)),s=n(70399);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(c(o,e,t,n,r))})),i},c=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},d=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var d=new Set(c),f=l.filter((function(e){return d.has(e)}));if(f&&f.length){for(var h={},p=f.length,g=0;g<p;g++){var v=i[f[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},f=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},h=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(s.uniqueId)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var l=n[e.target];l&&(l.degree++,l.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},g=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},v=function(e,t,n,r,i,o,a,s,u,l,c){var h,p="".concat(t.id,"-").concat(n.id);if(l&&l[p])return l[p];var g=c?c[p]:void 0;if(!g){var v=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:i},h);g=(c=d(v,o,e,c))[p]}return f(g,a,s,u)},m=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var w=e.nodes.length;if(w){var E=(0,i.default)(e,n),k=(0,i.default)(t,n),_=g(e.nodes,E,n),S=g(t.nodes,k,n),T=h(e.nodes,y),C=T.nodeMap,M=T.nodeLabelMap,A=h(t.nodes,y),I=A.nodeMap,O=A.nodeLabelMap;p(e.edges,b,C);var N=p(t.edges,b,I).edgeLabelMap,P=[];null===k||void 0===k||k.forEach((function(e){P=P.concat(e)})),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],P,!1),[2],!1))),s||(s=u);var D=l(e,E,y,s),R=l(t,k,y,s),L=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,d=e.neighborNum-1;u<o;){for(var f=c[1+Math.floor(Math.random()*d)],h=0;(a["".concat(r,"-").concat(f)]||a["".concat(f,"-").concat(r)])&&(f=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(f)]={start:r,end:f,distance:i[r][f]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,w,Math.min(100,w*(w-1)/2),D,E),j=d(L,D,e),F={graphs:j,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},B=(0,o.default)(F).slice(0,10),z=B.length,Y=[];B.forEach((function(e,t){Y[t]={},Object.keys(j).forEach((function(n){var r=j[n],i=f(r,e,y,b);Y[t][n]=i}))}));var G=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(Y,z,B),V=G.structure,W=G.structureCountMap,U=t.nodes[0],Z=[],H=null===(x=t.nodes[0])||void 0===x?void 0:x[y],q=-1/0;t.nodes.forEach((function(e){var t=e[y],n=M[t];(null===n||void 0===n?void 0:n.length)>q&&(q=n.length,Z=n,H=t,U=e)}));var X={},K={},J={},$={},Q={},ee={};Object.keys(O).forEach((function(r,i){Q[r]=[],n&&(ee[r]=[]);var o=-1/0,a=O[r],s={};a.forEach((function(e){var t=S["".concat(U.id,"-").concat(e.id)];if(t&&Q[r].push(t),o<t&&(o=t),s["".concat(U.id,"-").concat(e.id)]={start:0,end:I[e.id].idx,distance:t},n){var i=S["".concat(e.id,"-").concat(U.id)];i&&ee[r].push(i)}})),Q[r]=Q[r].sort((function(e,t){return e-t})),n&&(ee[r]=ee[r].sort((function(e,t){return e-t}))),K=d(s,R,t,K);var u=[];if(Object.keys(s).forEach((function(e){if(J[e])u.push(J[e]);else{var t=K[e];J[e]=f(t,V,y,b),u.push(J[e])}})),u=u.sort((function(e,t){return t-e})),$["".concat(U.id,"-").concat(r)]=u,r!==H)for(var l=function(t){var n=Z[t],i=D[C[n.id].idx],o=i.nodeLabelCountMap[r],a=O[r].length;if(!o||o.count<a)return Z.splice(t,1),"continue";for(var s=!1,l=0;l<a;l++)if(o.dists[l]>Q[r][l]){s=!0;break}if(s)return Z.splice(t,1),"continue";var c={};i.neighbors.forEach((function(e){var t=_["".concat(n.id,"-").concat(e.id)];c["".concat(n.id,"-").concat(e.id)]={start:C[n.id].idx,end:C[e.id].idx,distance:t}})),j=d(c,D,e,j);var h=[];Object.keys(c).forEach((function(e){if(W[e])h.push(W[e]);else{var t=j[e];W[e]=f(t,V,y,b),h.push(W[e])}})),h=h.sort((function(e,t){return t-e}));var p=!1;for(l=0;l<a;l++)if(h[l]<u[l]){p=!0;break}return p?(Z.splice(t,1),"continue"):void 0},c=((null===Z||void 0===Z?void 0:Z.length)||0)-1;c>=0;c--)l(c)}));var te=[];null===Z||void 0===Z||Z.forEach((function(r){for(var i=C[r.id].idx,o=c(e.nodes,E[i],i,y,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<t.nodes.length)return void(a=!0);var l=o[s],d=l[y];if(O[d]&&O[d].length)if(Q[d]&&Q[d].length){var f="".concat(r.id,"-").concat(l.id),h=_[f],p=Q[d].length-1;if(h>Q[d][p])o.splice(s,1);else{if(n){var g="".concat(l.id,"-").concat(r.id),x=_[g];if(p=ee[d].length-1,x>ee[d][p]){o.splice(s,1);continue}}var w=W[f]?W[f]:v(e,r,l,C,h,D,V,y,b,W,j),k="".concat(U.id,"-").concat(d);if(w<$[k][$[k].length-1])o.splice(s,1);else{var S=m(X,d,I,O),T=S.minPatternNodeLabelDegree;S.minPatternNodeLabelInDegree,S.minPatternNodeLabelOutDegree;C[l.id].degree<T&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||te.push({nodes:[r].concat(o)})}));var ne=(0,a.default)(t,U.id,!1).length,re={};n?(Object.keys(ne).forEach((function(e){var t=I[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]})),Object.keys(re).forEach((function(e){re[e].sort((function(e,t){return e-t}))}))):re=Q;for(var ie=function(r){var i=te[r],o=i.nodes[0],s={},u={};i.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1}));var l=[],c={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(l.push(e),c[e[b]]?c[e[b]]++:c[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)}));for(var d=Object.keys(N).length,f=!1,h=0;h<d;h++){var p=Object.keys(N)[h];if(!c[p]||c[p]<N[p].length){f=!0;break}}if(f)return te.splice(r,1),"continue";var g=l.length;if(g<t.edges.length)return te.splice(r,1),"break";var v=!1,x=function(e){var t=l[e],r=t[b],i=N[r];if(!i||!i.length)return c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var o=u[t.source].node[y],a=u[t.target].node[y],s=!1;return i.forEach((function(e){var t=I[e.source].node,r=I[e.target].node;t[y]===o&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==o||(s=!0)})),s?void 0:(c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=g-1;h>=0;h--){if("break"===x(h))break}if(v)return te.splice(r,1),"continue";i.edges=l;var w=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!v){if(w[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<O[t].length)return void(v=!0);var n=i.nodes.indexOf(u[e].node);return i.nodes.splice(n,1),void(u[e]=void 0)}var r=C[e].node[y];if(!re[r]||!re[r].length||w[e]>re[r][re[r].length-1]){t=u[e].node[y];if(s[t]--,s[t]<O[t].length)return void(v=!0);n=i.nodes.indexOf(u[e].node);i.nodes.splice(n,1),u[e]=void 0}}})),v)return te.splice(r,1),"continue";for(var E=!0,k=0;E&&!v;){if(E=!1,n?u[o.id].degree<I[U.id].degree||u[o.id].inDegree<I[U.id].inDegree||u[o.id].outDegree<I[U.id].outDegree:u[o.id].degree<I[U.id].degree){v=!0;break}if(s[o[y]]<O[o[y]].length){v=!0;break}for(var _=i.nodes.length-1;_>=0;_--){var S=i.nodes[_],T=u[S.id].degree,M=u[S.id].inDegree,A=u[S.id].outDegree,P=S[y],D=m(X,P,I,O),R=D.minPatternNodeLabelDegree,L=D.minPatternNodeLabelInDegree,j=D.minPatternNodeLabelOutDegree;if(n?T<R||M<L||A<j:T<R){if(s[S[y]]--,s[S[y]]<O[S[y]].length){v=!0;break}i.nodes.splice(_,1),u[S.id]=void 0,E=!0}}if(v||!E&&0!==k)break;for(var F=(g=l.length)-1;F>=0;F--){var B=l[F];if(!u[B.source]||!u[B.target]){l.splice(F,1);var z=B[b];if(c[z]--,u[B.source]&&(u[B.source].degree--,u[B.source].outDegree--),u[B.target]&&(u[B.target].degree--,u[B.target].inDegree--),N[z]&&c[z]<N[z].length){v=!0;break}E=!0}}k++}return v||v||i.nodes.length<t.nodes.length||l.length<t.edges.length?(te.splice(r,1),"continue"):void 0},oe=te.length-1;oe>=0;oe--){if("break"===ie(oe))break}var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=te[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&te.splice(e,1)},i=ae-1;i>e;i--)r(i);ae=te.length};for(oe=0;oe<=ae-1;oe++)se(oe);return te}}};t.default=y},82186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(53469))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={},d={};s.forEach((function(e,t){var n=(0,o.uniqueId)();e.clusterId=n,c[n]={id:n,nodes:[e]},d[e.id]={node:e,idx:t}}));var f=(0,i.default)(e,t),h=[],p={};f.forEach((function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach((function(e,t){if(e){n+=e;var i=s[t].id;p[r][i]=e}})),h.push(n)}));for(var g=0,v=function(){var e=!1;if(s.forEach((function(t){var n={};Object.keys(p[t.id]).forEach((function(e){var r=p[t.id][e],i=d[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=c[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),l=c[i[u]];l.nodes.push(t),t.clusterId=l.id}}})),!e)return"break";g++};g<r;){if("break"===v())break}Object.keys(c).forEach((function(e){var t=c[e];t.nodes&&t.nodes.length||delete c[e]}));var m=[],y={};l.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=d[t].node.clusterId,a=d[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,m.push(u)}}));var b=[];return Object.keys(c).forEach((function(e){b.push(c[e])})),{clusters:b,clusterEdges:m}};t.default=a},56977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=u(n(53469)),o=u(n(32210)),a=n(38831),s=n(63708);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},c=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(t[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(l=new o.default(t[i])).squareEuclideanDistance(a)}var u=[];e.forEach((function(){u.push([])}));for(i=0;i<n;i++){var l=new o.default(t[i]);e[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var d=new o.default(t[c]);u[i][c]=l.squareEuclideanDistance(d),e[i].clusterInertial+=u[i][c]}else u[i][c]=0}var f=0,h=2*n*s;for(i=0;i<n;i++){var p=e[i].clusterId;for(c=0;c<n;c++){var g=e[c].clusterId;if(i!==c&&p===g)f+=e[i].clusterInertial*e[c].clusterInertial/Math.pow(h,2)-u[i][c]/h}}return Number(f.toFixed(4))},d=function(e,t,n,o,u,d,f,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===d&&(d=void 0),void 0===f&&(f=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var g=e.nodes,v=void 0===g?[]:g,m=e.edges,y=void 0===m?[]:m,b=[];if(u){v.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var x=[];v.every((function(e){return e.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(v.map((function(e){return e.nodeType})))),v.forEach((function(e){e.properties.nodeType=x.findIndex((function(t){return t===e.nodeType}))})));var w=(0,a.getAllProperties)(v,d);b=(0,s.oneHot)(w,f,h)}var E=1,k={},_={};v.forEach((function(e,t){var n=String(E++);e.clusterId=n,k[n]={id:n,nodes:[e]},_[e.id]={node:e,idx:t}}));var S=(0,i.default)(e,t),T=[],C={},M=0;S.forEach((function(e,t){var n=0,r=v[t].id;C[r]={},e.forEach((function(e,t){if(e){n+=e;var i=v[t].id;C[r][i]=e,M+=e}})),T.push(n)})),M/=2;for(var A=1/0,I=1/0,O=0,N=[],P={};;){A=u&&v.every((function(e){return e.hasOwnProperty("properties")}))?l(v,S,T,M)+c(v,b)*p:l(v,S,T,M),0===O&&(I=A,N=v,P=k);var D=A>0&&A>I&&A-I<o;if(A>I&&(N=v.map((function(e){return{node:e,clusterId:e.clusterId}})),P=(0,r.clone)(k),I=A),D||O>100)break;O++,Object.keys(k).forEach((function(e){var t=0;y.forEach((function(r){var i=r.source,o=r.target,a=_[i].node.clusterId,s=_[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),k[e].sumTot=t})),v.forEach((function(e,t){var r,i=k[e.clusterId],o=0,a=T[t]/(2*M),s=0,l=i.nodes;l.forEach((function(e){var n=_[e.id].idx;s+=S[t][n]||0}));var d=s-i.sumTot*a,f=l.filter((function(t){return t.id!==e.id})),h=[];f.forEach((function(e,t){h[t]=b[e.originIndex]}));var g=c(f,b)*p,v=C[e.id];if(Object.keys(v).forEach((function(n){var i=_[n].node.clusterId;if(i!==e.clusterId){var s=k[i],l=s.nodes;if(l&&l.length){var f=0;l.forEach((function(e){var n=_[e.id].idx;f+=S[t][n]||0}));var h=f-s.sumTot*a,v=l.concat([e]),m=[];v.forEach((function(e,t){m[t]=b[e.originIndex]}));var y=c(v,b)*p,x=h-d;u&&(x=h+y-(d+g)),x>o&&(o=x,r=s)}}})),o>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=i.nodes.indexOf(e);i.nodes.splice(x,1);var w=0,E=0;y.forEach((function(e){var t=e.source,i=e.target,o=_[t].node.clusterId,a=_[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(w+=e[n]||1),(o===m&&a!==m||a===m&&o!==m)&&(E+=e[n]||1)})),r.sumTot=w,i.sumTot=E}}))}var R={},L=0;Object.keys(P).forEach((function(e){var t=P[e];if(t.nodes&&t.nodes.length){var n=String(L+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),P[n]=t,R[e]=n,delete P[e],L++)}else delete P[e]})),N.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&R[t.clusterId]&&(t.clusterId=R[t.clusterId])}));var j=[],F={};y.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=_[t].node.clusterId,a=_[r].node.clusterId,s="".concat(o,"---").concat(a);if(F[s])F[s].weight+=i,F[s].count++;else{var u={source:o,target:a,weight:i,count:1};F[s]=u,j.push(u)}}));var B=[];return Object.keys(P).forEach((function(e){B.push(P[e])})),{clusters:B,clusterEdges:j}};t.default=d},98433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(15997)),i=a(n(90567)),o=n(70399);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var l=a[0],c=new Set;c.add(l);var d=new i.default((function(e,n){return t?e.weight-n.weight:0}));for((0,o.getEdgesByNodeId)(l.id,u).forEach((function(e){d.insert(e)}));!d.isEmpty();){var f=d.delMin(),h=f.source,p=f.target;c.has(h)&&c.has(p)||(n.push(f),c.has(h)||(c.add(h),(0,o.getEdgesByNodeId)(h,u).forEach((function(e){d.insert(e)}))),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,u).forEach((function(e){d.insert(e)}))))}return n},u=function(e,t){var n=[],i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map((function(e){return e}));t&&u.sort((function(e,t){return e.weight-t.weight}));for(var l=new r.default(o.map((function(e){return e.id})));u.length>0;){var c=u.shift(),d=c.source,f=c.target;l.connected(d,f)||(n.push(c),l.union(d,f))}return n},l=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=l},43962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(19020))&&r.__esModule?r:{default:r},o=n(70399);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,l=e.nodes,c=void 0===l?[]:l,d=e.edges,f=void 0===d?[]:d,h=c.length,p={},g={},v=0;v<h;++v){p[y=(k=c[v]).id]=1/h,g[y]=1/h}for(var m=(0,i.default)(e);u>0&&a>t;){s=0;for(v=0;v<h;++v){var y=(k=c[v]).id;if(r=0,0===m[k.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,f,"source"),x=0;x<b.length;++x){var w=b[x],E=m[w].outDegree;E>0&&(r+=g[w]/E)}p[y]=n*r,s+=p[y]}}s=(1-s)/h,a=0;for(v=0;v<h;++v){var k;r=p[y=(k=c[v]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}u-=1}return g};t.default=a},90567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e-t},r=function(){function e(e){void 0===e&&(e=n),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=r},94182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var n=function(e,t){return e===t},r=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=r;var i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new r(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new r(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}();t.default=i},69748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(94182))&&r.__esModule?r:{default:r};var o=function(){function e(){this.linkedList=new i.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=o},15997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=n},31391:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=n,function(e){e.EuclideanDistance="euclideanDistance"}(n||(t.DistanceType=n={}))},70399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))};t.getOutEdgesNodeId=function(e,t){return t.filter((function(t){return t.source===e}))};t.getEdgesByNodeId=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},63708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,i=n(98092),o=n(31391),a=(r=n(32210))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,i.uniq)(r));var o={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,i.uniq)(r))})),o};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i};t.oneHot=u;var l=function(e,t,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;if(n===o.DistanceType.EuclideanDistance)i=new a.default(e).euclideanDistance(new a.default(t));return i};t.getDistance=l;var c={getAllKeyValueMap:s,oneHot:u,getDistance:l};t.default=c},38831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(70834),i=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach((function(e){e.properties&&Object.keys(e.properties).forEach((function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1}))}));var i=Object.keys(n).sort((function(e,t){return n[t]-n[e]}));return i.length<t?i:i.slice(0,t)};t.getAllSortProperties=i;var o=function(e,t){return t.map((function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0}))},a=function(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n[r]=o(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};t.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};t.default=u},32210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(98092),i=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort((function(e,t){return e-t}));var i=n[n.length-1],o=n[0];for(var a in this.arr)t[a]=(this.arr[a]-o)/(i-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=i},73658:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return d.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return d.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var i=x(n(53469)),o=x(n(66299)),a=x(n(73265)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(19020)),u=x(n(11354)),l=x(n(25068)),c=x(n(95581)),d=n(26384),f=x(n(39345)),h=x(n(82186)),p=x(n(56977)),g=x(n(98433)),v=x(n(43962)),m=x(n(55472)),y=n(70399);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},3857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},82130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(3857),o=(r=n(34524))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var a=new o.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,o=t.data,s=t._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}}))}};t.default=a},77249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,i=(r=n(82130))&&r.__esModule?r:{default:r},o=n(3857);t.getAdjMatrixAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,i.default)(o.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},34524:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(73658)),o=n(3857);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};t.default=null},3543:function(){},39102:function(){},30736:function(){},4566:function(){},68783:function(){},22332:function(){},51326:function(){},71101:function(){},50930:function(){},32929:function(){},45760:function(){},90678:function(){},72288:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.r(t),n.d(t,{Camera:function(){return Qr},Geometry:function(){return ei},Kernel:function(){return eo},Material:function(){return to},Renderable:function(){return no},World:function(){return Nu}});var i=n(15671),o=n(43144);function a(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(66121);var s=n(87757),u=n.n(s),l=n(15861),c=1;function d(){return c++}var f=function e(t){(0,i.Z)(this,e)},h=function(){function e(t){(0,i.Z)(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return(0,o.Z)(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return-1}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return i=r[n],o=Number(i),a=this.lookup[o],e.next=7,t(o,this.getComponent(a));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}(),p=n(29439),g=n(66543),v={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},m=function e(){(0,i.Z)(this,e),this.index=void 0},y=function e(){(0,i.Z)(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},b=function(){function e(){(0,i.Z)(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,o.Z)(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),x=n(60136),w=n(82963),E=n(61120);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var _,S,T,C,M,A,I=function(e){(0,x.Z)(n,e);var t=k(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return(0,o.Z)(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){(0,i.Z)(this,e),this.first=void 0,this.last=void 0})),O=function e(){(0,i.Z)(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function N(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(_=(0,g.b2)(),S=(0,g.f3)(v.RenderEngine),_((A=function(){function e(){(0,i.Z)(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],r(this,"engine",M,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new y;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new b;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=N(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(O){n.e(O)}finally{n.f()}var i,o=[],a=N(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(O){a.e(O)}finally{a.f()}for(;o.length;){var u=o.pop(),l=u&&u.writer;if(l&&0===--l.refCount){var c,d=N(l.reads);try{for(d.s();!(c=d.n()).done;){var f=c.value,h=this.resourceNodes[f.index];0===--h.readerCount&&o.push(h)}}catch(O){d.e(O)}finally{d.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,g=N(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=N(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(O){y.e(O)}finally{y.f()}var w,E=N(v.writes);try{for(E.s();!(w=E.n()).done;){var k=w.value,_=this.resourceNodes[k.index].resource;_.first=_.first?_.first:v,_.last=v}}catch(O){E.e(O)}finally{E.f()}}}}catch(O){g.e(O)}finally{g.f()}for(var S=0;S<2;S++){var T,C=N(this.resourceNodes);try{for(C.s();!(T=C.n()).done;){var M=T.value.resource;if(M.priority===S&&M.refs){var A=M.first,I=M.last;A&&I&&(A.devirtualize.push(M),I.destroy.push(M))}}}catch(O){C.e(O)}finally{C.f()}}}},{key:"executePassNodes",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,d,f,h,g,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(i=(0,p.Z)(r.value,2),o=i[0],!(a=i[1]).refCount){e.next=16;break}s=N(a.devirtualize);try{for(s.s();!(l=s.n()).done;)l.value.preExecuteDevirtualize(this.engine)}catch(u){s.e(u)}finally{s.f()}c=N(a.destroy);try{for(c.s();!(d=c.n()).done;)d.value.preExecuteDestroy(this.engine)}catch(u){c.e(u)}finally{c.f()}return e.next=12,this.frameGraphPasses[o].execute(this,this.frameGraphPasses[o],t);case 12:f=N(a.devirtualize);try{for(f.s();!(h=f.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(u){f.e(u)}finally{f.f()}g=N(a.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(u){g.e(u)}finally{g.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new O;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new m;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new I;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new I;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),M=a((C=A).prototype,"engine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C))||T),R=n(4942),L=n(97326),j=n(50907);function F(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function B(e,t,n,r){var i=new j.WT(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function z(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=F()}();var Y=n(5742),G=n(88679),V=n(71002),W=9007199254740991,U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object DataView]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object WeakMap]"]=!1;var Z=Object.prototype.toString;var H=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=W}(e.length)&&!!U[Z.call(e)]};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var J,$,Q,ee,te,ne,re,ie,oe,ae=function(e){(0,x.Z)(n,e);var t=K(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find((function(t){return t.name===e}));return i?(i.data=t,i.dirty=!0):this.attributes.push(X(X({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=B(t.data[r],t.data[r+1],t.data[r+2],1);z(i,i,e),H(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=Y.normalFromMat4(Y.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=G.al(n.data[a],n.data[a+1],n.data[a+2]);G.kK(s,s,o),G.Fv(s,s),H(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(f);!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(J||(J={}));var se=($=(0,g.b2)(),Q=(0,g.f3)(v.GeometryComponentManager),ee=(0,g.f3)(v.RenderEngine),$((oe=function(){function e(){(0,i.Z)(this,e),r(this,"geometry",re,this),r(this,"engine",ie,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:J.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:J.UNSIGNED_INT,usage:J.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=d();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=d();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),re=a((ne=oe).prototype,"geometry",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=a(ne.prototype,"engine",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var de,fe,he,pe,ge,ve,me,ye,be,xe,we=function(e){(0,x.Z)(n,e);var t=ce(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:J.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setDefines",value:function(e){return this.defines=le(le({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(f);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Se=(de=(0,g.b2)(),fe=(0,g.f3)(v.MaterialComponentManager),he=(0,g.f3)(v.RenderEngine),pe=(0,g.f3)(v.ShaderModuleService),de((xe=function(){function e(){(0,i.Z)(this,e),r(this,"material",me,this),r(this,"engine",ye,this),r(this,"shaderModule",be,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=d(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,ke(ke({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),me=a((ve=xe).prototype,"material",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=a(ve.prototype,"engine",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ve.prototype,"shaderModule",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ve))||ge);function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}!function(e){e[e.Standard=0]="Standard"}(_e||(_e={}));var Ce=function(e){(0,x.Z)(n,e);var t=Te(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).strategy=_e.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign((0,L.Z)(r),e),r}return n}(f),Me=function(){function e(t,n){(0,i.Z)(this,e),this.center=void 0,this.halfExtents=void 0,this.min=G.Ue(),this.max=G.Ue(),this.update(t,n)}return(0,o.Z)(e,[{key:"update",value:function(e,t){this.center=e||G.Ue(),this.halfExtents=t||G.al(.5,.5,.5),this.min=G.lu(this.min,this.center,this.halfExtents),this.max=G.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){G.IH(this.center,t,e),G.bA(this.center,this.center,.5),G.lu(this.halfExtents,t,e),G.bA(this.halfExtents,this.halfExtents,.5),G.JG(this.min,e),G.JG(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],l=n-a,c=n+a,d=r-s,f=r+s,h=i-u,p=i+u,g=e.center,v=g[0],m=g[1],y=g[2],b=e.halfExtents,x=b[0],w=b[1],E=b[2],k=v-x,_=v+x,S=m-w,T=m+w,C=y-E,M=y+E;k<l&&(l=k),_>c&&(c=_),S<d&&(d=S),T>f&&(f=T),C<h&&(h=C),M>p&&(p=M),t[0]=.5*(l+c),t[1]=.5*(d+f),t[2]=.5*(h+p),o[0]=.5*(c-l),o[1]=.5*(f-d),o[2]=.5*(p-h),this.min[0]=l,this.min[1]=d,this.min[2]=h,this.max[0]=c,this.max[1]=f,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.min):272===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):G.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.max):272===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):G.al(this.min[0],this.min[1],this.min[2])}}]),e}();function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ie,Oe=function(e){(0,x.Z)(n,e);var t=Ae(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new Me,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign((0,L.Z)(r),e),r}return n}(f),Ne=function(){function e(t,n){(0,i.Z)(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||G.al(0,1,0),this.updatePNVertexFlag()}return(0,o.Z)(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return G.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/G.Zh(this.normal);G.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&G.t7(n,e,t,i),o}}]),e}();!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(Ie||(Ie={}));var Pe,De,Re,Le,je,Fe,Be,ze,Ye,Ge,Ve,We,Ue,Ze,He=function(){function e(t){if((0,i.Z)(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new Ne)}return(0,o.Z)(e,[{key:"extractFromVPMatrix",value:function(e){var t=(0,p.Z)(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],g=t[12],v=t[13],m=t[14],y=t[15];G.t8(this.planes[0].normal,o-n,l-a,h-c),this.planes[0].distance=-(y-g),G.t8(this.planes[1].normal,o+n,l+a,h+c),this.planes[1].distance=-(y+g),G.t8(this.planes[2].normal,o+r,l+s,h+d),this.planes[2].distance=-(y+v),G.t8(this.planes[3].normal,o-r,l-s,h-d),this.planes[3].distance=-(y-v),G.t8(this.planes[4].normal,o-i,l-u,h-f),this.planes[4].distance=-(y-m),G.t8(this.planes[5].normal,o+i,l+u,h+f),this.planes[5].distance=-(y+m),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}();function qe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=(Pe=(0,g.b2)(),De=(0,g.f3)(v.MeshComponentManager),Re=(0,g.f3)(v.CullableComponentManager),Le=(0,g.f3)(v.GeometryComponentManager),je=(0,g.f3)(v.HierarchyComponentManager),Fe=(0,g.f3)(v.TransformComponentManager),Pe((Ze=function(){function e(){(0,i.Z)(this,e),r(this,"mesh",Ye,this),r(this,"cullable",Ge,this),r(this,"geometry",Ve,this),r(this,"hierarchy",We,this),r(this,"transform",Ue,this),this.planes=void 0}return(0,o.Z)(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,d,f,h,p,g,v,m,y,b,x,w,E,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qe(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=qe(o.getEntities());try{for(s.s();!(l=s.n()).done;)c=l.value,(d=this.mesh.getComponentByEntity(c))&&(f=this.hierarchy.getComponentByEntity(c),h=this.cullable.getComponentByEntity(c),p=d.geometry,g=this.transform.getComponentByEntity(c),p&&p.aabb&&g&&d.aabbDirty&&(v=g.worldTransform,m=p.aabb,y=m.center,b=m.halfExtents,x=G.fF(G.Ue(),y,v),u=v,(_=Y.create())[0]=u[0],_[1]=u[1],_[2]=u[2],_[3]=u[4],_[4]=u[5],_[5]=u[6],_[6]=u[8],_[7]=u[9],_[8]=u[10],w=_,E=G.kK(G.Ue(),b,w),d.aabb.update(x,E),d.aabbDirty=!1),h&&p&&(k=this.cullable.getComponentByEntity((null===f||void 0===f?void 0:f.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(d.aabb,(null===k||void 0===k?void 0:k.visibilityPlaneMask)||Ie.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==Ie.OUTSIDE))}catch(S){s.e(S)}finally{s.f()}}}catch(S){n.e(S)}finally{n.f()}case 2:case"end":return e.stop()}var u,_}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===Ie.OUTSIDE||t===Ie.INSIDE)return t;for(var r=Ie.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,l=s.distance;if(G.AK(u,e.getNegativeFarPoint(n[i]))+l>0)return Ie.OUTSIDE;G.AK(u,e.getPositiveFarPoint(n[i]))+l>0&&(r|=a)}}return r}}]),e}(),Ye=a((ze=Ze).prototype,"mesh",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=a(ze.prototype,"cullable",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=a(ze.prototype,"geometry",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=a(ze.prototype,"hierarchy",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=a(ze.prototype,"transform",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=ze))||Be);function Je(){var e=new j.WT(16);return j.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function $e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,E=r*l-o*s,k=i*l-o*u,_=c*g-d*p,S=c*v-f*p,T=c*m-h*p,C=d*v-f*g,M=d*m-h*g,A=f*m-h*v,I=y*A-b*M+x*C+w*T-E*S+k*_;return I?(I=1/I,e[0]=(s*A-u*M+l*C)*I,e[1]=(i*M-r*A-o*C)*I,e[2]=(g*k-v*E+m*w)*I,e[3]=(f*E-d*k-h*w)*I,e[4]=(u*T-a*A-l*S)*I,e[5]=(n*A-i*T+o*S)*I,e[6]=(v*x-p*k-m*b)*I,e[7]=(c*k-f*x+h*b)*I,e[8]=(a*M-s*T+l*_)*I,e[9]=(r*T-n*M-o*_)*I,e[10]=(p*E-g*x+m*y)*I,e[11]=(d*x-c*E-h*y)*I,e[12]=(s*S-a*C-u*_)*I,e[13]=(n*C-r*S+i*_)*I,e[14]=(g*b-p*w-v*y)*I,e[15]=(c*w-d*b+f*y)*I,e):null}function tt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],w=n[2],E=n[3];return e[0]=b*r+x*s+w*d+E*g,e[1]=b*i+x*u+w*f+E*v,e[2]=b*o+x*l+w*h+E*m,e[3]=b*a+x*c+w*p+E*y,b=n[4],x=n[5],w=n[6],E=n[7],e[4]=b*r+x*s+w*d+E*g,e[5]=b*i+x*u+w*f+E*v,e[6]=b*o+x*l+w*h+E*m,e[7]=b*a+x*c+w*p+E*y,b=n[8],x=n[9],w=n[10],E=n[11],e[8]=b*r+x*s+w*d+E*g,e[9]=b*i+x*u+w*f+E*v,e[10]=b*o+x*l+w*h+E*m,e[11]=b*a+x*c+w*p+E*y,b=n[12],x=n[13],w=n[14],E=n[15],e[12]=b*r+x*s+w*d+E*g,e[13]=b*i+x*u+w*f+E*v,e[14]=b*o+x*l+w*h+E*m,e[15]=b*a+x*c+w*p+E*y,e}function nt(e,t,n){var r,i,o,a,s,u,l,c,d,f,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*g+s*v+d*m+t[12],e[13]=i*g+u*v+f*m+t[13],e[14]=o*g+l*v+h*m+t[14],e[15]=a*g+c*v+p*m+t[15]),e}function rt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function it(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}function ot(e,t){var n=new j.WT(3);it(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,l=t[4]*r,c=t[5]*i,d=t[6]*o,f=t[8]*r,h=t[9]*i,p=t[10]*o,g=a+c+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-h)/v,e[1]=(f-u)/v,e[2]=(s-l)/v):a>c&&a>p?(v=2*Math.sqrt(1+a-c-p),e[3]=(d-h)/v,e[0]=.25*v,e[1]=(s+l)/v,e[2]=(f+u)/v):c>p?(v=2*Math.sqrt(1+c-a-p),e[3]=(f-u)/v,e[0]=(s+l)/v,e[1]=.25*v,e[2]=(d+h)/v):(v=2*Math.sqrt(1+p-a-c),e[3]=(s-l)/v,e[0]=(f+u)/v,e[1]=(d+h)/v,e[2]=.25*v),e}function at(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,d=r*s,f=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-d-p,e[1]=c+m,e[2]=f-v,e[3]=0,e[4]=c-m,e[5]=1-l-p,e[6]=h+g,e[7]=0,e[8]=f+v,e[9]=h-g,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var st=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var ut=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};var lt,ct,dt,ft,ht,pt,gt,vt,mt,yt,bt,xt,wt,Et,kt,_t,St,Tt,Ct,Mt,At,It,Ot,Nt;function Pt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt,Lt,jt,Ft,Bt,zt,Yt,Gt,Vt,Wt,Ut,Zt,Ht,qt=(lt=(0,g.b2)(),ct=(0,g.f3)(v.MeshComponentManager),dt=(0,g.f3)(v.GeometryComponentManager),ft=(0,g.f3)(v.MaterialComponentManager),ht=(0,g.f3)(v.CullableComponentManager),pt=(0,g.f3)(v.TransformComponentManager),gt=(0,g.f3)(v.HierarchyComponentManager),vt=(0,g.f3)(v.Systems),mt=(0,g.t6)(v.FrameGraphSystem),yt=(0,g.f3)(v.RenderEngine),bt=(0,g.f3)(v.ResourcePool),lt((Nt=Ot=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"mesh",Et,this),r(this,"geometry",kt,this),r(this,"material",_t,this),r(this,"cullable",St,this),r(this,"transform",Tt,this),r(this,"hierarchy",Ct,this),r(this,"frameGraphSystem",Mt,this),r(this,"engine",At,this),r(this,"resourcePool",It,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:J.RENDER_ATTACHMENT|J.SAMPLED|J.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s,l,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=Pt(i),e.prev=3,s.s();case 5:if((l=s.n()).done){e.next=11;break}return c=l.value,e.next=9,t.initView(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:d=t.engine.getCanvas(),a.resize({width:d.width,height:d.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=Pt(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=tt(Je(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,l=o.height;this.engine.viewport({x:a,y:s,width:u,height:l});var c,d=Pt(t.getEntities());try{for(d.s();!(c=d.n()).done;){var f=c.value;this.renderMesh(f,{camera:n,view:e,viewMatrix:r})}}catch(h){d.e(h)}finally{d.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),l=tt(Je(),i,u.worldTransform),c=r.getViewport(),d=c.width,f=c.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:l,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[d,f]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var r,i,o,a,s,l,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,l=s.createModel,c=s.createAttribute,d={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=c({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:i.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(d.cull=i.cull),i.depth&&(d.depth=i.depth),i.blend&&(d.blend=i.blend),o.indicesBuffer&&(d.elements=o.indicesBuffer),o.maxInstancedCount&&(d.instances=o.maxInstancedCount,d.count=o.vertexCount||3),e.next=22,l(d);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=Pt(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ot.IDENTIFIER="Render Pass",Et=a((wt=Nt).prototype,"mesh",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(wt.prototype,"geometry",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=a(wt.prototype,"material",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(wt.prototype,"cullable",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(wt.prototype,"transform",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(wt.prototype,"hierarchy",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(wt.prototype,"frameGraphSystem",[vt,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=a(wt.prototype,"engine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=a(wt.prototype,"resourcePool",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=wt))||xt);function Xt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt,$t,Qt,en,tn,nn,rn,on,an,sn,un,ln,cn,dn,fn,hn,pn,gn,vn,mn,yn,bn,xn=1,wn=2,En=(Rt=(0,g.b2)(),Lt=(0,g.f3)(v.RenderEngine),jt=(0,g.f3)(v.ResourcePool),Ft=(0,g.f3)(v.RenderPassFactory),Bt=(0,g.f3)(v.MeshComponentManager),Rt((Ht=Zt=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",Gt,this),r(this,"resourcePool",Vt,this),r(this,"renderPassFactory",Wt,this),r(this,"mesh",Ut,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=Xt(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(qt.IDENTIFIER),i=[],o=Xt(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",xn),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach((function(e){e.material.setUniform("u_PickingStage",wn)})),t.alreadyInRendering=!1}))},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,l=s.useFramebuffer,c=n.getViewport(),d=c.width,f=c.height,h=o*window.devicePixelRatio,g=a*window.devicePixelRatio;if(!(h>d||h<0||g>f||g<0))return l(t.pickingFBO,(function(){0===(r=u({x:Math.round(h),y:Math.round(f-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=function(e){var t=(0,p.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),i}}return(0,o.Z)(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=Xt(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",wn),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),Zt.IDENTIFIER="PixelPicking Pass",Gt=a((Yt=Ht).prototype,"engine",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=a(Yt.prototype,"resourcePool",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Yt.prototype,"renderPassFactory",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=a(Yt.prototype,"mesh",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Yt))||zt),kn=(Jt=(0,g.b2)(),$t=(0,g.f3)(v.RenderEngine),Qt=(0,g.f3)(v.ResourcePool),Jt((an=on=function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",nn,this),r(this,"resourcePool",rn,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(qt.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r){var i,o,a,s,l,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:J.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:l=e.sent,t.model=l;case 6:c=n.getResourceNode(r.data.input),d=t.resourcePool.getOrCreateResource(c.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:d}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},on.IDENTIFIER="Copy Pass",nn=a((tn=an).prototype,"engine",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=a(tn.prototype,"resourcePool",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=tn))||en),_n=(sn=(0,g.b2)(),un=(0,g.f3)(v.Systems),ln=(0,g.t6)(v.FrameGraphSystem),cn=(0,g.f3)(v.RenderPassFactory),dn=(0,g.f3)(v.ConfigService),fn=(0,g.f3)(v.ResourcePool),sn((bn=function(){function e(){(0,i.Z)(this,e),r(this,"frameGraphSystem",gn,this),r(this,"renderPassFactory",vn,this),r(this,"configService",mn,this),r(this,"resourcePool",yn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(qt.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(qt.IDENTIFIER,r,i),o=this.renderPassFactory(kn.IDENTIFIER),a=o.setup,s=o.execute,l=o.tearDown,c=this.frameGraphSystem.addPass(kn.IDENTIFIER,a,s,l),this.frameGraphSystem.present(c.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(En.IDENTIFIER).pick(e,t)}}]),e}(),gn=a((pn=bn).prototype,"frameGraphSystem",[un,ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=a(pn.prototype,"renderPassFactory",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=a(pn.prototype,"configService",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=a(pn.prototype,"resourcePool",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=pn))||hn);function Sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Tn,Cn,Mn,An,In,On,Nn,Pn,Dn,Rn,Ln=function(e){(0,x.Z)(n,e);var t=Sn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign((0,L.Z)(r),e),r}return n}(f),jn=(Tn=(0,g.b2)(),Cn=(0,g.f3)(v.HierarchyComponentManager),Mn=(0,g.f3)(v.TransformComponentManager),An=(0,g.f3)(v.MeshComponentManager),Tn((Rn=function(){function e(){(0,i.Z)(this,e),r(this,"hierarchy",Nn,this),r(this,"transform",Pn,this),r(this,"mesh",Dn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(et(Je(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),Nn=a((On=Rn).prototype,"hierarchy",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=a(On.prototype,"transform",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=a(On.prototype,"mesh",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=On))||In);function Fn(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Bn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function zn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function Yn(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],d=t[2],f=t[3],h=n[0],p=n[1],g=n[2],v=n[3];return(o=l*h+c*p+d*g+f*v)<0&&(o=-o,h=-h,p=-p,g=-g,v=-v),1-o>j.Ib?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*h,e[1]=s*c+u*p,e[2]=s*d+u*g,e[3]=s*f+u*v,e}function Gn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Vn(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=o*u*c-a*s*l,e[1]=a*s*c+o*u*l,e[2]=a*u*l-o*s*c,e[3]=a*u*c+o*s*l,e}var Wn=B,Un=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Zn=zn,Hn=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};(function(){var e=G.Ue(),t=G.al(1,0,0),n=G.al(0,1,0)})(),function(){var e=Fn(),t=Fn()}(),function(){var e=Y.create()}();function qn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Xn=function(e){(0,x.Z)(n,e);var t=qn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=G.al(0,0,0),r.localRotation=Wn(0,0,0,1),r.localScale=G.al(1,1,1),r.localTransform=Je(),r.position=G.al(0,0,0),r.rotation=Wn(0,0,0,1),r.scaling=G.al(1,1,1),r.worldTransform=Je(),r.matrixTransform=function(){var e=Je();return function(t){tt(e,r.getLocalTransform(),t),it(r.localScale,e),rt(r.localPosition,e),ot(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=Fn(),t=Fn(),n=Fn();return function(i,o,a){r.setDirty(),Vn(e,i,0,0),Vn(t,0,o,0),Vn(n,0,0,a),zn(r.localRotation,e,r.localRotation),zn(r.localRotation,r.localRotation,t),zn(r.localRotation,n,r.localRotation),Hn(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=G.Ue(),t=Fn(),n=G.Ue(),i=G.Ue(),o=Fn(),a=G.Ue();return function(s,u,l){r.setDirty(),it(e,s.worldTransform),rt(n,s.worldTransform),ot(t,s.worldTransform),it(i,u.worldTransform),rt(a,u.worldTransform),ot(o,u.worldTransform),G.t7(r.localScale,e,i,l),Yn(r.localRotation,t,o,l),G.t7(r.localPosition,n,a,l)}}(),r.translate=function(){var e=G.Ue();return function(t){return G.IH(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),(0,L.Z)(r)}}(),r.translateLocal=function(e){return G.VC(e,e,r.localRotation),G.IH(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),(0,L.Z)(r)},r.setPosition=function(){var e=Je();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?G.JG(r.localPosition,t):($e(e,r.parent.worldTransform),et(e,e),G.fF(r.localPosition,t,e)),(0,L.Z)(r)}}(),r.rotate=function(){var e=Fn();return function(t){if(null===r.parent)zn(r.localRotation,r.localRotation,t),Hn(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();Un(e,i),Gn(e,e),zn(e,e,t),zn(r.localRotation,t,n),Hn(r.localRotation,r.localRotation)}return r.setLocalDirty(),(0,L.Z)(r)}}(),r.rotateLocal=function(e){return zn(r.localRotation,r.localRotation,e),Hn(r.localRotation,r.localRotation),r.setLocalDirty(!0),(0,L.Z)(r)},r.setRotation=function(){var e=Fn();return function(t){return null===r.parent?Un(r.localRotation,t):(Un(e,r.parent.getRotation()),Gn(e,e),Un(r.localRotation,e),Zn(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),(0,L.Z)(r)}}(),r}return(0,o.Z)(n,[{key:"setLocalPosition",value:function(e){G.JG(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){G.JG(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return Un(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&($e(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){tt(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),it(this.localScale,this.worldTransform),rt(this.localPosition,this.worldTransform),ot(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=G.al(0,0,0),this.localRotation=Wn(0,0,0,1),this.localScale=G.al(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),G.Jp(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(!function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a,d=i*u,f=i*l,h=i*c,p=o*l,g=o*c,v=a*c,m=s*u,y=s*l,b=s*c,x=r[0],w=r[1],E=r[2];e[0]=(1-(p+v))*x,e[1]=(f+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(f-b)*w,e[5]=(1-(d+v))*w,e[6]=(g+m)*w,e[7]=0,e[8]=(h+y)*E,e[9]=(g-m)*E,e[10]=(1-(d+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1}(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return rt(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return ot(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return it(this.scaling,this.worldTransform),this.scaling}}]),n}(f);Xn.DIRTY=1;var Kn,Jn,$n,Qn,er,tr,nr=n(45696),rr=(Kn=(0,g.b2)(),Jn=(0,g.f3)(v.RenderEngine),Kn((tr=function(){function e(){(0,i.Z)(this,e),r(this,"engine",er,this),this.resourcePool={}}return(0,o.Z)(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),er=a((Qn=tr).prototype,"engine",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Qn))||$n);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var or,ar,sr,ur,lr=function(e){(0,x.Z)(n,e);var t=ir(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(f),cr=(0,g.b2)()((ar=function(){function e(){(0,i.Z)(this,e),this.config=void 0}return(0,o.Z)(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),or=ar))||or;!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(ur||(ur={}));var dr=(0,g.b2)()(sr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||sr;var fr,hr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function gr(e){var t={};return{content:e=e.replace(pr,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),uniforms:t}}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yr=/precision\s+(high|low|medium)p\s+float/,br=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,xr=(0,g.b2)()((hr=function(){function e(){(0,i.Z)(this,e),this.moduleCache={},this.rawContentCache={}}return(0,o.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=gr(r),u=s.content,l=s.uniforms,c=gr(o),d=c.content,f=c.uniforms;this.rawContentCache[e]={fs:d,uniforms:mr(mr(mr({},l),f),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),l=u.content,c=u.includeList,d=l,f=(n=s.concat(c).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return mr(mr({},e),t.rawContentCache[n].uniforms)}),{});return yr.test(l)||(d="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+l),this.moduleCache[e]={fs:d.trim(),uniforms:f,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(br,(function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}(),fr=hr))||fr,wr=new g.W2;(0,nr.Z)(wr,!1);function Er(){var e=new g.W2;return e.parent=wr,e.bind(v.Systems).to(jn).inSingletonScope().whenTargetNamed(v.SceneGraphSystem),e.bind(v.Systems).to(D).inSingletonScope().whenTargetNamed(v.FrameGraphSystem),e.bind(v.Systems).to(Ke).inSingletonScope().whenTargetNamed(v.MeshSystem),e.bind(v.Systems).to(se).inSingletonScope().whenTargetNamed(v.GeometrySystem),e.bind(v.Systems).to(Se).inSingletonScope().whenTargetNamed(v.MaterialSystem),e.bind(v.Systems).to(_n).inSingletonScope().whenTargetNamed(v.RendererSystem),e.bind(v.ResourcePool).to(rr).inSingletonScope(),e.bind(v.ConfigService).to(cr).inSingletonScope(),e.bind(v.InteractorService).to(dr).inSingletonScope(),e.bind(v.RenderPass).to(qt).inSingletonScope().whenTargetNamed(qt.IDENTIFIER),e.bind(v.RenderPass).to(kn).inSingletonScope().whenTargetNamed(kn.IDENTIFIER),e.bind(v.RenderPass).to(En).inSingletonScope().whenTargetNamed(En.IDENTIFIER),e.bind(v.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(v.RenderPass,t)}})),e}function kr(e){for(var t=new Me,n=G.al(e[0],e[1],e[2]),r=G.al(e[0],e[1],e[2]),i=3;i<e.length;){var o=e[i++],a=e[i++],s=e[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}wr.bind(v.ShaderModuleService).to(xr).inSingletonScope(),wr.bind(v.NameComponentManager).toConstantValue(new h(lr)),wr.bind(v.HierarchyComponentManager).toConstantValue(new h(Ln)),wr.bind(v.TransformComponentManager).toConstantValue(new h(Xn)),wr.bind(v.MeshComponentManager).toConstantValue(new h(Oe)),wr.bind(v.CullableComponentManager).toConstantValue(new h(Ce)),wr.bind(v.GeometryComponentManager).toConstantValue(new h(ae)),wr.bind(v.MaterialComponentManager).toConstantValue(new h(we));var _r,Sr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),n(30736),n(4566),n(68783),n(22332),n(51326),n(71101);!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(_r||(_r={}));var Tr,Cr,Mr,Ar;n(50930),n(32929),n(45760),n(90678),n(3543),n(39102);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(Tr||(Tr={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Cr||(Cr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Mr||(Mr={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Ar||(Ar={}));function Ir(e){return"number"===typeof e}function Or(e){return void 0===e?0:e>360||e<-360?e%360:e}function Nr(e,t,n){return Ir(e)?G.al(e,t,n):3===e.length?G.d9(e):G.al(e[0],e[1],e[2])}var Pr,Dr,Rr,Lr,jr,Fr,Br,zr,Yr,Gr,Vr=function(){function e(t,n){(0,i.Z)(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=function(e){var t=new j.WT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}(n.matrix),this.right=G.d9(n.right),this.up=G.d9(n.up),this.forward=G.d9(n.forward),this.position=G.d9(n.position),this.focalPoint=G.d9(n.focalPoint),this.distanceVector=G.d9(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return(0,o.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=$e(e.matrix,this.matrix),e.right=G.JG(e.right,this.right),e.up=G.JG(e.up,this.up),e.forward=G.JG(e.forward,this.forward),e.position=G.JG(e.position,this.position),e.focalPoint=G.JG(e.focalPoint,this.focalPoint),e.distanceVector=G.JG(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(zr||(zr={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(Yr||(Yr={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(Gr||(Gr={}));var Wr,Ur,Zr,Hr,qr,Xr,Kr,Jr=Math.PI/180,$r=180/Math.PI,Qr=(Pr=(0,g.b2)(),Dr=(0,g.f3)(v.InteractorService),Pr((Br=Fr=function(){function e(){(0,i.Z)(this,e),this.matrix=Je(),this.right=G.al(1,0,0),this.up=G.al(0,1,0),this.forward=G.al(0,0,1),this.position=G.al(0,0,1),this.focalPoint=G.al(0,0,0),this.distanceVector=G.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,r(this,"interactor",jr,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Je(),this.view=void 0,this.following=void 0,this.type=zr.EXPLORING,this.trackingMode=Yr.DEFAULT,this.projectionMode=Gr.PERSPECTIVE,this.frustum=new He,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,o.Z)(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===zr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===zr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==zr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return et(Je(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=Gr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,st(this.perspective,this.fov*Jr,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=Gr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,l=(this.top+this.bottom)/2,c=u-a,d=u+a,f=l+s,h=l-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d=(c+=p*this.view.offsetX)+p*this.view.width,h=(f-=g*this.view.offsetY)-g*this.view.height}return ut(this.perspective,c,d,f,h,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=G.al(0,1,0);if(this.focalPoint=Nr(e,t,n),this.trackingMode===Yr.CINEMATIC){var i=G.$X(G.Ue(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=G.kE(i),a=Math.asin(t/o)*$r,s=90+Math.atan2(n,e)*$r,u=Je();!function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],d=t[10],f=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-d*r,e[3]=u*i-f*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+d*i,e[11]=u*r+f*i}(u,u,s*Jr),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],f=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+d*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=d*i-s*r,e[11]=f*i-u*r}(u,u,a*Jr),r=G.fF(G.Ue(),[0,1,0],u)}return et(this.matrix,function(e,t,n,r){var i,o,a,s,u,l,c,d,f,h,p=t[0],g=t[1],v=t[2],m=r[0],y=r[1],b=r[2],x=n[0],w=n[1],E=n[2];return Math.abs(p-x)<j.Ib&&Math.abs(g-w)<j.Ib&&Math.abs(v-E)<j.Ib?Qe(e):(c=p-x,d=g-w,f=v-E,i=y*(f*=h=1/Math.hypot(c,d,f))-b*(d*=h),o=b*(c*=h)-m*f,a=m*d-y*c,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=d*a-f*o,u=f*i-c*a,l=c*o-d*i,(h=Math.hypot(s,u,l))?(s*=h=1/h,u*=h,l*=h):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=a,e[9]=l,e[10]=f,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(s*p+u*g+l*v),e[14]=-(c*p+d*g+f*v),e[15]=1,e)}(Je(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=G.Ue();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Or(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Or(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Or(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===zr.EXPLORING){e=Or(e),t=Or(t),n=Or(n);var r=Bn(Fn(),[1,0,0],(this.rotateWorld?1:-1)*t*Jr),i=Bn(Fn(),[0,1,0],(this.rotateWorld?1:-1)*e*Jr),o=Bn(Fn(),[0,0,1],n*Jr),a=zn(Fn(),i,r);a=zn(Fn(),a,o);var s=at(Je(),a);nt(this.matrix,this.matrix,[0,0,-this.distance]),tt(this.matrix,this.matrix,s),nt(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Or(t),this.relAzimuth=Or(e),this.relRoll=Or(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Nr(e,t,0),r=G.d9(this.position);return G.IH(r,r,G.bA(G.Ue(),this.right,n[0])),G.IH(r,r,G.bA(G.Ue(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=G.d9(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getDistance():this.type===zr.TRACKING&&G.IH(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new Vr(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new Vr(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===i&&(i=r);var u,l=r-i,c=(1-Math.cos(l/n*Math.PI))/2,d=G.Ue(),f=G.Ue();if(G.t7(d,t.focalPoint,a,c),G.t7(f,t.position,o,c),u=t.roll*(1-c)+s*c,t.setFocalPoint(d),t.setPosition(f),t.setRoll(u),t.computeMatrix(),!(G.TK(d,a)+G.TK(f,o)>.01))return t.setFocalPoint(d),t.setPosition(f),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();l<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Bn(Fn(),[0,0,1],this.roll*Jr);Qe(this.matrix),e=Bn(Fn(),[1,0,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.elevation*Jr),t=Bn(Fn(),[0,1,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.azimuth*Jr);var r=zn(Fn(),t,e);r=zn(Fn(),r,n);var i=at(Je(),r);this.type===zr.ORBITING||this.type===zr.EXPLORING?(nt(this.matrix,this.matrix,this.focalPoint),tt(this.matrix,this.matrix,i),nt(this.matrix,this.matrix,[0,0,this.distance])):this.type===zr.TRACKING&&(nt(this.matrix,this.matrix,this.position),tt(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Nr(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){G.JG(this.right,Nr(z(F(),[1,0,0,0],this.matrix))),G.JG(this.up,Nr(z(F(),[0,1,0,0],this.matrix))),G.JG(this.forward,Nr(z(F(),[0,0,1,0],this.matrix))),G.Fv(this.right,this.right),G.Fv(this.up,this.up),G.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=G.kE(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===zr.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*$r,this.azimuth=Math.atan2(-e,-n)*$r):(this.elevation=-Math.asin(t/r)*$r,this.azimuth=-Math.atan2(-e,-n)*$r)}},{key:"_getPosition",value:function(){G.JG(this.position,Nr(z(F(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){G.kK(this.distanceVector,[0,0,-this.distance],Y.fromMat4(Y.create(),this.matrix)),G.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=G.$X(G.Ue(),this.focalPoint,this.position),this.distance=G.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),Fr.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},jr=a((Lr=Br).prototype,"interactor",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=Lr))||Rr),ei=(Wr=(0,g.b2)(),Ur=(0,g.f3)(v.GeometryComponentManager),Wr((Kr=Xr=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"geometry",qr,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Xr.BOX="box",Xr.SPHERE="sphere",Xr.PLANE="plane",Xr.MERGED="merged",qr=a((Hr=Kr).prototype,"geometry",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=Hr))||Zr),ti=n(45511);function ni(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var ri={}.toString,ii=function(e,t){return ri.call(e)==="[object "+t+"]"},oi=9007199254740991,ai={};ai["[object Float32Array]"]=ai["[object Float64Array]"]=ai["[object Int8Array]"]=ai["[object Int16Array]"]=ai["[object Int32Array]"]=ai["[object Uint8Array]"]=ai["[object Uint8ClampedArray]"]=ai["[object Uint16Array]"]=ai["[object Uint32Array]"]=!0,ai["[object Arguments]"]=ai["[object Array]"]=ai["[object ArrayBuffer]"]=ai["[object Boolean]"]=ai["[object DataView]"]=ai["[object Date]"]=ai["[object Error]"]=ai["[object Function]"]=ai["[object Map]"]=ai["[object Number]"]=ai["[object Object]"]=ai["[object RegExp]"]=ai["[object Set]"]=ai["[object String]"]=ai["[object WeakMap]"]=!1;var si=Object.prototype.toString;var ui,li,ci,di,fi,hi,pi,gi,vi=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=oi}(e.length)&&!!ai[si.call(e)]};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi,xi,wi,Ei,ki,_i,Si,Ti,Ci,Mi,Ai,Ii,Oi,Ni,Pi,Di,Ri,Li,ji,Fi,Bi,zi,Yi,Gi,Vi,Wi,Ui,Zi,Hi,qi,Xi,Ki,Ji,$i,Qi,eo=(ui=(0,g.b2)(),li=(0,g.f3)(v.RenderEngine),ci=(0,g.f3)(v.ConfigService),ui((gi=function(){function e(){(0,i.Z)(this,e),r(this,"engine",hi,this),r(this,"configService",pi,this),this.entity=d(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(yi({canvas:t||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=Ir(t)||vi(t)||(n=t,Array.isArray?Array.isArray(n):ii(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===Mr.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=yi({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Ar.WGSL:Ar.GLSL450:Ar.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat("__DefineValuePlaceholder__").concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===Mr.StorageBuffer){var n=1;e.type===Tr.FloatArray?n=1:e.type===Tr.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=a((fi=gi).prototype,"engine",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=a(fi.prototype,"configService",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=fi))||di),to=(bi=(0,g.b2)(),xi=(0,g.f3)(v.MaterialComponentManager),bi((Si=_i=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"material",ki,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),_i.BASIC="basic",ki=a((Ei=Si).prototype,"material",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=Ei))||wi),no=(Ti=(0,g.b2)(),Ci=(0,g.f3)(v.MeshComponentManager),Mi=(0,g.f3)(v.CullableComponentManager),Ai=(0,g.f3)(v.TransformComponentManager),Ii=(0,g.f3)(v.Systems),Oi=(0,g.t6)(v.SceneGraphSystem),Ti((Bi=Fi=function(){function e(){(0,i.Z)(this,e),this.attributes={},this.config=void 0,r(this,"mesh",Di,this),r(this,"cullable",Ri,this),r(this,"transform",Li,this),r(this,"sceneGraphSystem",ji,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),Fi.POINT="point",Fi.LINE="line",Fi.GRID="grid",Di=a((Pi=Bi).prototype,"mesh",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=a(Pi.prototype,"cullable",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=a(Pi.prototype,"transform",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=a(Pi.prototype,"sceneGraphSystem",[Ii,Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Pi))||Ni),ro=n(39084),io=n.n(ro),oo=function(){function e(t,n){(0,i.Z)(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,a=n.stride,s=n.normalized,u=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:l||0},u&&(this.attribute.size=u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ao=(zi={},(0,R.Z)(zi,J.POINTS,"points"),(0,R.Z)(zi,J.LINES,"lines"),(0,R.Z)(zi,J.LINE_LOOP,"line loop"),(0,R.Z)(zi,J.LINE_STRIP,"line strip"),(0,R.Z)(zi,J.TRIANGLES,"triangles"),(0,R.Z)(zi,J.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(zi,J.TRIANGLE_STRIP,"triangle strip"),zi),so=(Yi={},(0,R.Z)(Yi,J.STATIC_DRAW,"static"),(0,R.Z)(Yi,J.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(Yi,J.STREAM_DRAW,"stream"),Yi),uo=(Gi={},(0,R.Z)(Gi,J.BYTE,"int8"),(0,R.Z)(Gi,J.UNSIGNED_INT,"int16"),(0,R.Z)(Gi,J.INT,"int32"),(0,R.Z)(Gi,J.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Gi,J.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Gi,J.UNSIGNED_INT,"uint32"),(0,R.Z)(Gi,J.FLOAT,"float"),Gi),lo=(Vi={},(0,R.Z)(Vi,J.ALPHA,"alpha"),(0,R.Z)(Vi,J.LUMINANCE,"luminance"),(0,R.Z)(Vi,J.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(Vi,J.RGB,"rgb"),(0,R.Z)(Vi,J.RGBA,"rgba"),(0,R.Z)(Vi,J.RGBA4,"rgba4"),(0,R.Z)(Vi,J.RGB5_A1,"rgb5 a1"),(0,R.Z)(Vi,J.RGB565,"rgb565"),(0,R.Z)(Vi,J.DEPTH_COMPONENT,"depth"),(0,R.Z)(Vi,J.DEPTH_STENCIL,"depth stencil"),Vi),co=(Wi={},(0,R.Z)(Wi,J.DONT_CARE,"dont care"),(0,R.Z)(Wi,J.NICEST,"nice"),(0,R.Z)(Wi,J.FASTEST,"fast"),Wi),fo=(Ui={},(0,R.Z)(Ui,J.NEAREST,"nearest"),(0,R.Z)(Ui,J.LINEAR,"linear"),(0,R.Z)(Ui,J.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(Ui,J.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(Ui,J.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(Ui,J.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Ui),ho=(Zi={},(0,R.Z)(Zi,J.REPEAT,"repeat"),(0,R.Z)(Zi,J.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(Zi,J.MIRRORED_REPEAT,"mirror"),Zi),po=(Hi={},(0,R.Z)(Hi,J.NONE,"none"),(0,R.Z)(Hi,J.BROWSER_DEFAULT_WEBGL,"browser"),Hi),go=(qi={},(0,R.Z)(qi,J.NEVER,"never"),(0,R.Z)(qi,J.ALWAYS,"always"),(0,R.Z)(qi,J.LESS,"less"),(0,R.Z)(qi,J.LEQUAL,"lequal"),(0,R.Z)(qi,J.GREATER,"greater"),(0,R.Z)(qi,J.GEQUAL,"gequal"),(0,R.Z)(qi,J.EQUAL,"equal"),(0,R.Z)(qi,J.NOTEQUAL,"notequal"),qi),vo=(Xi={},(0,R.Z)(Xi,J.FUNC_ADD,"add"),(0,R.Z)(Xi,J.MIN_EXT,"min"),(0,R.Z)(Xi,J.MAX_EXT,"max"),(0,R.Z)(Xi,J.FUNC_SUBTRACT,"subtract"),(0,R.Z)(Xi,J.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Xi),mo=(Ki={},(0,R.Z)(Ki,J.ZERO,"zero"),(0,R.Z)(Ki,J.ONE,"one"),(0,R.Z)(Ki,J.SRC_COLOR,"src color"),(0,R.Z)(Ki,J.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(Ki,J.SRC_ALPHA,"src alpha"),(0,R.Z)(Ki,J.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(Ki,J.DST_COLOR,"dst color"),(0,R.Z)(Ki,J.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(Ki,J.DST_ALPHA,"dst alpha"),(0,R.Z)(Ki,J.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(Ki,J.CONSTANT_COLOR,"constant color"),(0,R.Z)(Ki,J.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(Ki,J.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(Ki,J.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(Ki,J.SRC_ALPHA_SATURATE,"src alpha saturate"),Ki),yo=(Ji={},(0,R.Z)(Ji,J.NEVER,"never"),(0,R.Z)(Ji,J.ALWAYS,"always"),(0,R.Z)(Ji,J.LESS,"less"),(0,R.Z)(Ji,J.LEQUAL,"lequal"),(0,R.Z)(Ji,J.GREATER,"greater"),(0,R.Z)(Ji,J.GEQUAL,"gequal"),(0,R.Z)(Ji,J.EQUAL,"equal"),(0,R.Z)(Ji,J.NOTEQUAL,"notequal"),Ji),bo=($i={},(0,R.Z)($i,J.ZERO,"zero"),(0,R.Z)($i,J.KEEP,"keep"),(0,R.Z)($i,J.REPLACE,"replace"),(0,R.Z)($i,J.INVERT,"invert"),(0,R.Z)($i,J.INCR,"increment"),(0,R.Z)($i,J.DECR,"decrement"),(0,R.Z)($i,J.INCR_WRAP,"increment wrap"),(0,R.Z)($i,J.DECR_WRAP,"decrement wrap"),$i),xo=(Qi={},(0,R.Z)(Qi,J.FRONT,"front"),(0,R.Z)(Qi,J.BACK,"back"),Qi),wo=function(){function e(t,n){(0,i.Z)(this,e),this.buffer=void 0;var r=n.data,o=n.usage,a=n.type;this.buffer=t.buffer({data:r,usage:so[o||J.STATIC_DRAW],type:uo[a||J.UNSIGNED_BYTE]})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),Eo=n(93433),ko=9007199254740991,_o={};_o["[object Float32Array]"]=_o["[object Float64Array]"]=_o["[object Int8Array]"]=_o["[object Int16Array]"]=_o["[object Int32Array]"]=_o["[object Uint8Array]"]=_o["[object Uint8ClampedArray]"]=_o["[object Uint16Array]"]=_o["[object Uint32Array]"]=!0,_o["[object Arguments]"]=_o["[object Array]"]=_o["[object ArrayBuffer]"]=_o["[object Boolean]"]=_o["[object DataView]"]=_o["[object Date]"]=_o["[object Error]"]=_o["[object Function]"]=_o["[object Map]"]=_o["[object Number]"]=_o["[object Object]"]=_o["[object RegExp]"]=_o["[object Set]"]=_o["[object String]"]=_o["[object WeakMap]"]=!1;var So=Object.prototype.toString;var To=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=ko}(e.length)&&!!_o[So.call(e)]};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ao=0,Io=function(){function e(t,n){var r=this;(0,i.Z)(this,e),this.reGl=t,this.context=n,this.entity=d(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,i=e.data,a=e.isReferer,s=e.storageClass;if(s===Mr.StorageBuffer){if(a)r.textureCache[t]={data:void 0},o["".concat(t,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,i);var u=r.textureCache[t],l=u.textureWidth,c=u.isOutput;o["".concat(t,"Size")]=[l,l],c&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,i)))}o[t]=function(){return r.textureCache[t].texture}}else if(s===Mr.Uniform){if(i&&(Array.isArray(i)||To(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[t]=function(){return e.data}}}));var a=this.getOuputDataTexture(),s=a.textureWidth,u=a.texelCount;o.u_OutputTextureSize=[s,s],o.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return(0,o.Z)(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=c.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(l=0;l<t.length;l+=4)1===i?s.push(t[l]):2===i?s.push(t[l],t[l+1]):s.push(t[l],t[l+1],t[l+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return Mo(Mo({},e),{},{id:Ao++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===Tr.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),l=u*u;s<l&&i.push.apply(i,(0,Eo.Z)(new Array(4*(l-s)).fill(0)));var c=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:Ao++,data:i,originalDataLength:a,typedArrayConstructor:To(n)?n.constructor:void 0,textureWidth:u,texture:c,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),Oo=function(){function e(t,n){(0,i.Z)(this,e),this.elements=void 0;var r=n.data,o=n.usage,a=n.type,s=n.count;this.elements=t.elements({data:r,usage:so[o||J.STATIC_DRAW],type:uo[a||J.UNSIGNED_BYTE],count:s})}return(0,o.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),No=function(){function e(t,n){(0,i.Z)(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,a=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(s)&&(u.colors=s.map((function(e){return e.get()}))),a&&"boolean"!==typeof a&&(u.color=a.get()),this.framebuffer=t.framebuffer(u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function Po(e){var t={};return Object.keys(e).forEach((function(n){Do(n,e[n],t,"")})),t}function Do(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||To(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=(0,V.Z)(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(i){Do(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(o){Do(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jo,Fo,Bo,zo=function(){function e(t,n){(0,i.Z)(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,a=n.defines,s=n.attributes,u=n.uniforms,l=n.primitive,c=n.count,d=n.elements,f=n.depth,h=n.blend,p=n.stencil,g=n.cull,v=n.instances,m=n.scissor,y=n.viewport,b={};u&&(this.uniforms=Po(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var x={};Object.keys(s).forEach((function(e){x[e]=s[e].get()}));var w=a&&this.generateDefines(a)||"",E={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(o),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:ao[void 0===l?J.TRIANGLES:l]};v&&(E.instances=v),c&&(E.count=c),d&&(E.elements=d.get()),m&&(E.scissor=m),y&&(E.viewport=y),this.initDepthDrawParams({depth:f},E),this.initBlendDrawParams({blend:h},E),this.initStencilDrawParams({stencil:p},E),this.initCullDrawParams({cull:g},E),this.drawCommand=t(E)}return(0,o.Z)(e,[{key:"addUniforms",value:function(e){this.uniforms=Lo(Lo({},this.uniforms),Po(e))}},{key:"draw",value:function(e){var t=Lo(Lo({},this.uniforms),Po(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,V.Z)(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:go[n.func||J.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:mo[i&&i.srcRGB||J.SRC_ALPHA],srcAlpha:mo[i&&i.srcAlpha||J.SRC_ALPHA],dstRGB:mo[i&&i.dstRGB||J.ONE_MINUS_SRC_ALPHA],dstAlpha:mo[i&&i.dstAlpha||J.ONE_MINUS_SRC_ALPHA]},equation:{rgb:vo[o&&o.rgb||J.FUNC_ADD],alpha:vo[o&&o.alpha||J.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:J.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:u,c=n.opBack,d=void 0===c?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:c;t.stencil={enable:!!r,mask:o,func:Lo(Lo({},s),{},{cmp:yo[s.cmp]}),opFront:{fail:bo[l.fail],zfail:bo[l.zfail],zpass:bo[l.zpass]},opBack:{fail:bo[d.fail],zfail:bo[d.zfail],zpass:bo[d.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?J.BACK:i;t.cull={enable:!!r,face:xo[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),Yo=function(){function e(t,n){(0,i.Z)(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,a=void 0===o?J.UNSIGNED_BYTE:o,s=n.width,u=n.height,l=n.flipY,c=void 0!==l&&l,d=n.format,f=void 0===d?J.RGBA:d,h=n.mipmap,p=void 0!==h&&h,g=n.wrapS,v=void 0===g?J.CLAMP_TO_EDGE:g,m=n.wrapT,y=void 0===m?J.CLAMP_TO_EDGE:m,b=n.aniso,x=void 0===b?0:b,w=n.alignment,E=void 0===w?1:w,k=n.premultiplyAlpha,_=void 0!==k&&k,S=n.mag,T=void 0===S?J.NEAREST:S,C=n.min,M=void 0===C?J.NEAREST:C,A=n.colorSpace,I=void 0===A?J.BROWSER_DEFAULT_WEBGL:A;this.width=s,this.height=u;var O={width:s,height:u,type:uo[a],format:lo[f],wrapS:ho[v],wrapT:ho[y],mag:fo[T],min:fo[M],alignment:E,flipY:c,colorSpace:po[I],premultiplyAlpha:_,aniso:x};r&&(O.data=r),"number"===typeof p?O.mipmap=co[p]:"boolean"===typeof p&&(O.mipmap=p),this.texture=t.texture(O)}return(0,o.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Go=(0,g.b2)()((Fo=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=(0,l.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new zo(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new oo(t.gl,e)},this.createBuffer=function(e){return new wo(t.gl,e)},this.createElements=function(e){return new Oo(t.gl,e)},this.createTexture2D=function(e){return new Yo(t.gl,e)},this.createFramebuffer=function(e){return new No(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Io(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable(J.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable(J.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){io()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),jo=Fo))||jo;function Vo(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function Wo(e,t){return new Promise((function(t,n){Vo(e,(function(){t()}),(function(e,t){n(t)}))}))}function Uo(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bo){e.next=2;break}return e.abrupt("return",Bo);case 2:return e.next=4,Wo("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Bo=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",Bo);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ho=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,a=r.offset,s=r.stride,u=r.normalized,l=r.size,c=r.divisor,d=r.arrayStride,f=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:c||0,arrayStride:d||0,attributes:f,stepMode:h||"vertex"},l&&(this.attribute.size=l)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),qo=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,o=r.data,a=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,a||ti.FB.Vertex|ti.FB.CopyDst)}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(Sr?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Xo,Ko,Jo,$o,Qo,ea,ta,na=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.context=n,this.entity=d(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===Mr.StorageBuffer})),i=this.context.uniforms.filter((function(e){return e.storageClass===Mr.Uniform})),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach((function(e){if("number"===typeof e.data)l.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,(0,Eo.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,(0,Eo.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new qo(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:ti.FB.Uniform|ti.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==Tr.Vector4FloatArray&&e.type!==Tr.FloatArray||(e.name===l.context.output.name?(t=new qo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.outputBuffer=t,l.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new qo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.vertexBuffers[e.name]=t,l.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(Sr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(ti.gc.Read);case 12:return l=a.getMappedRange(),c=new r(l.slice(0)),a.unmap(),e.abrupt("return",c);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,(0,Eo.Z)(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(Sr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:Sr}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ra=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,a=(r.usage,r.type,r.count);this.indexCount=a||0,this.buffer=new qo(t,{data:o instanceof Array?new Uint16Array(o):o,usage:ti.FB.Index|ti.FB.CopyDst})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ia=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),a=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),a&&(this.depthTexture=a)}return(0,o.Z)(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),oa=(Xo={},(0,R.Z)(Xo,J.POINTS,ti.YV.PointList),(0,R.Z)(Xo,J.LINES,ti.YV.LineList),(0,R.Z)(Xo,J.LINE_LOOP,ti.YV.LineList),(0,R.Z)(Xo,J.LINE_STRIP,ti.YV.LineStrip),(0,R.Z)(Xo,J.TRIANGLES,ti.YV.TriangleList),(0,R.Z)(Xo,J.TRIANGLE_FAN,ti.YV.TriangleList),(0,R.Z)(Xo,J.TRIANGLE_STRIP,ti.YV.TriangleStrip),Xo),aa=(Ko={},(0,R.Z)(Ko,J.NEVER,ti.wb.Never),(0,R.Z)(Ko,J.ALWAYS,ti.wb.Always),(0,R.Z)(Ko,J.LESS,ti.wb.Less),(0,R.Z)(Ko,J.LEQUAL,ti.wb.LessEqual),(0,R.Z)(Ko,J.GREATER,ti.wb.Greater),(0,R.Z)(Ko,J.GEQUAL,ti.wb.GreaterEqual),(0,R.Z)(Ko,J.EQUAL,ti.wb.Equal),(0,R.Z)(Ko,J.NOTEQUAL,ti.wb.NotEqual),Ko),sa=(Jo={},(0,R.Z)(Jo,J.FUNC_ADD,ti.db.Add),(0,R.Z)(Jo,J.MIN_EXT,ti.db.Min),(0,R.Z)(Jo,J.MAX_EXT,ti.db.Max),(0,R.Z)(Jo,J.FUNC_SUBTRACT,ti.db.Subtract),(0,R.Z)(Jo,J.FUNC_REVERSE_SUBTRACT,ti.db.ReverseSubtract),Jo),ua=($o={},(0,R.Z)($o,J.ZERO,ti.zi.Zero),(0,R.Z)($o,J.ONE,ti.zi.One),(0,R.Z)($o,J.SRC_COLOR,ti.zi.SrcColor),(0,R.Z)($o,J.ONE_MINUS_SRC_COLOR,ti.zi.OneMinusSrcColor),(0,R.Z)($o,J.SRC_ALPHA,ti.zi.SrcAlpha),(0,R.Z)($o,J.ONE_MINUS_SRC_ALPHA,ti.zi.OneMinusSrcAlpha),(0,R.Z)($o,J.DST_COLOR,ti.zi.DstColor),(0,R.Z)($o,J.ONE_MINUS_DST_COLOR,ti.zi.OneMinusDstColor),(0,R.Z)($o,J.DST_ALPHA,ti.zi.DstAlpha),(0,R.Z)($o,J.ONE_MINUS_DST_ALPHA,ti.zi.OneMinusDstAlpha),(0,R.Z)($o,J.CONSTANT_COLOR,ti.zi.BlendColor),(0,R.Z)($o,J.ONE_MINUS_CONSTANT_COLOR,ti.zi.OneMinusBlendColor),(0,R.Z)($o,J.SRC_ALPHA_SATURATE,ti.zi.SrcAlphaSaturated),$o),la=(Qo={},(0,R.Z)(Qo,J.ALPHA,"r8unorm"),(0,R.Z)(Qo,J.RGBA,"rgba8unorm"),(0,R.Z)(Qo,J.DEPTH_COMPONENT,"depth32float"),(0,R.Z)(Qo,J.DEPTH_STENCIL,"depth24plus-stencil8"),Qo),ca=(ea={},(0,R.Z)(ea,J.NEAREST,"nearest"),(0,R.Z)(ea,J.LINEAR,"linear"),ea),da=(ta={},(0,R.Z)(ta,J.REPEAT,"repeat"),(0,R.Z)(ta,J.CLAMP_TO_EDGE,"clamp-to-edge"),(0,R.Z)(ta,J.MIRRORED_REPEAT,"mirror-repeat"),ta);function fa(e){var t=e.cull;return t&&t.enable?t.face?t.face===J.FRONT?ti.Wf.Front:ti.Wf.Back:void 0:ti.Wf.None}function ha(e){var t=e.depth,n=(e.stencil,{compare:ti.wb.Always,depthFailOp:ti.xS.Keep,failOp:ti.xS.Keep,passOp:ti.xS.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:aa[(null===t||void 0===t?void 0:t.func)||J.ALWAYS],format:ti.EV.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function pa(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:ua[n&&n.func&&n.func.srcAlpha||J.ONE],dstFactor:ua[n&&n.func&&n.func.dstAlpha||J.ZERO],operation:sa[n&&n.equation&&n.equation.alpha||J.FUNC_ADD]},colorBlend:{srcFactor:ua[n&&n.func&&n.func.srcRGB||J.ONE],dstFactor:ua[n&&n.func&&n.func.dstRGB||J.ZERO],operation:sa[n&&n.equation&&n.equation.rgb||J.FUNC_ADD]},writeMask:ti.Yw.All}]}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t+=s.length}for(var u=new e(t),l=0,c=0,d=r;c<d.length;c++){var f=d[c];u.set(f,l),l+=f.length}return u}var ya,ba,xa,wa=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c,d,f,h,p,g,v,m,y=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,l=t.depth,c=t.blend,d=t.stencil,f=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,g=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),v={vertexBuffers:Object.keys(i).map((function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:oa[a||J.TRIANGLES],rasterizationState:va(va({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:fa({cull:f})}),depthStencilState:ha({depth:l,stencil:d}),colorStates:pa({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:g,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=va(va({},this.uniforms),Po(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=va(va({},this.uniforms),Po(e.uniforms||{})),i=[];Object.keys(r).forEach((function(e){var n=(0,V.Z)(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var l=r[e].get(),c=l.color||l,d=c.texture,f=c.sampler;f&&(i.push({binding:u,resource:f}),u++),i.push({binding:u,resource:d.createView()})}}})),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ti.iD.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t,n,r){var i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Sr}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Sr}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ti.zX.CCW,cullMode:ti.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=ma.apply(void 0,[Float32Array].concat((0,Eo.Z)(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:ti.$X.Fragment|ti.$X.Vertex,type:ti.$l.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:ti.$X.Fragment,type:ti.$l.Sampler},{binding:2*n+(o?1:0)+1,visibility:ti.$X.Fragment,type:ti.$l.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new qo(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ti.FB.Uniform|ti.FB.CopyDst}))}}]),e}(),Ea=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,o.Z)(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&J.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?J.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?J.CLAMP_TO_EDGE:a,u=e.wrapT,l=void 0===u?J.CLAMP_TO_EDGE:u,c=e.aniso,d=void 0===c?0:c,f=(e.alignment,e.premultiplyAlpha,e.mag),h=void 0===f?J.NEAREST:f,p=e.min,g=void 0===p?J.NEAREST:p,v=e.colorSpace,m=(void 0===v&&J.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ti.kd.E2d,format:la[o],usage:m||ti.v2.Sampled|ti.v2.CopyDst}),(!m||m&ti.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:da[s],addressModeV:da[l],addressModeW:da[s],magFilter:ca[h],minFilter:ca[g],maxAnisotropy:d}))}}]),e}(),ka=(0,g.b2)()((ba=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||ti.Ws.Load,t.mainDepthAttachment.depthLoadValue=r||ti.Ws.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:ti.Ws.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new wa(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Ho(t,e)},this.createBuffer=function(e){return new qo(t,e)},this.createElements=function(e){return new ra(t,e)},this.createTexture2D=function(e){return new Ea(t,e)},this.createFramebuffer=function(e){return new ia(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:ti.p_.E2d,arrayLayerCount:1,aspect:ti.H7.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new na(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return(0,o.Z)(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Sr?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Sr?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ti.v2.OutputAttachment|ti.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:ti.EV.BGRA8Unorm,usage:ti.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:Sr?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}]}else this.mainColorAttachments=[{attachment:Sr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:Sr?"depth32float-stencil8":ti.EV.Depth24PlusStencil8,usage:ti.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:Sr?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ti.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ti.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Sr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Sr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,l=null===(i=e.get().depth)||void 0===i?void 0:i.texture;l&&(u=l.createView());var c=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:ti.Ws.Load,storeOp:ti.EG.Store}],depthStencilAttachment:l&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:ti.Ws.Load,depthStoreOp:ti.EG.Store,stencilLoadValue:a?this.clearStencilValue:ti.Ws.Load,stencilStoreOp:ti.EG.Store}:void 0});this.currentRenderPass=c,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),ya=ba))||ya;function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Sa,Ta=4/64,Ca=(0,g.b2)()(xa=function(e){(0,x.Z)(n,e);var t=_a(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?G.al(.5,.5,.5):s,l=n,c=i,d=a,f=(0,p.Z)(u,3),h=f[0],g=f[1],v=f[2],m=[G.al(-h,-g,v),G.al(h,-g,v),G.al(h,g,v),G.al(-h,g,v),G.al(h,-g,-v),G.al(-h,-g,-v),G.al(-h,g,-v),G.al(h,g,-v)],y=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],x=1,w=2,E=3,k=4,_=5,S=[],T=[],C=[],M=[],A=[],I=0,O=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=G.Ue(),u=G.Ue(),l=G.Ue(),c=G.Ue();G.t7(s,m[y[e][0]],m[y[e][1]],o/t),G.t7(u,m[y[e][0]],m[y[e][2]],a/n),G.lu(l,u,m[y[e][0]]),G.IH(c,s,l),r=o/t,i=a/n,S.push(c[0],c[1],c[2]),T.push(b[e][0],b[e][1],b[e][2]),C.push(r,i),r=.875*(r/=3)+Ta,i=.875*(i/=3)+Ta,r+=e%3/3,i+=Math.floor(e/3)/3,M.push(r,i),o<t&&a<n&&(A.push(I+n+1,I+1,I),A.push(I+n+1,I+n+2,I+1)),I++}};O(0,l,c),O(x,l,c),O(w,l,d),O(E,l,d),O(k,d,c),O(_,d,c);var N=kr(S),P=this.getComponent();P.indices=Uint32Array.from(A),P.aabb=N,P.vertexCount=I,P.attributes=[{dirty:!0,name:"position",data:Float32Array.from(S),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(T),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||xa;function Ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Aa,Ia=(0,g.b2)()(Sa=function(e){(0,x.Z)(n,e);var t=Ma(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new Me;var r=[],i=[],o=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,(0,Eo.Z)(a.map((function(e){return e+o})))),o+=s,u.forEach((function(e,t){r[t]?e.data&&(Ir(e.data)?r[t].push(e.data):vi(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(ei))||Sa;function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Na,Pa=(0,g.b2)()(Aa=function(e){(0,x.Z)(n,e);var t=Oa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],l=[],c=[],d=0,f=0;f<=i;f++)for(var h=0;h<=a;h++){var p=-n[0]+2*n[0]*f/i,g=-(-n[1]+2*n[1]*h/a),v=f/i,m=h/a;s.push(p,0,g),u.push(0,1,0),l.push(v,m),f<i&&h<a&&(c.push(d+a+1,d+1,d),c.push(d+a+1,d+a+2,d+1)),d++}var y=kr(s),b=this.getComponent();b.indices=Uint32Array.from(c),b.aabb=y,b.vertexCount=d,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Aa;function Da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ra,La,ja,Fa,Ba,za,Ya,Ga,Va=(0,g.b2)()(Na=function(e){(0,x.Z)(n,e);var t=Da(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],l=[],c=[],d=0;d<=i;d++)for(var f=d*Math.PI/i,h=Math.sin(f),p=Math.cos(f),g=0;g<=a;g++){var v=2*g*Math.PI/a-Math.PI/2,m=Math.sin(v),y=Math.cos(v)*h,b=p,x=m*h,w=1-g/a,E=1-d/i;s.push(y*n,b*n,x*n),u.push(y,b,x),l.push(w,E)}for(var k=0;k<i;++k)for(var _=0;_<a;++_){var S=k*(a+1)+_,T=S+a+1;c.push(S+1,T,S),c.push(S+1,T+1,T)}var C=kr(s),M=this.getComponent();M.indices=Uint32Array.from(c),M.aabb=C,M.vertexCount=s.length/3,M.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Na;function Wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ua,Za,Ha,qa,Xa,Ka,Ja,$a,Qa,es,ts,ns,rs=(Ra=(0,g.b2)(),La=(0,g.f3)(v.RenderEngine),ja=(0,g.f3)(v.ShaderModuleService),Ra((Ga=function(e){(0,x.Z)(n,e);var t=Wa(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"engine",za,(0,L.Z)(e)),r(e,"shaderModuleService",Ya,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:Y.create()}))}}]),n}(to),za=a((Ba=Ga).prototype,"engine",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ya=a(Ba.prototype,"shaderModuleService",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Ba))||Fa);function is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var os,as,ss,us,ls,cs,ds,fs,hs,ps,gs,vs,ms=(Ua=(0,g.b2)(),Za=(0,g.f3)(v.Systems),Ha=(0,g.t6)(v.MaterialSystem),qa=(0,g.f3)(v.Systems),Xa=(0,g.t6)(v.GeometrySystem),Ka=(0,g.f3)(v.ShaderModuleService),Ua((ns=function(e){(0,x.Z)(n,e);var t=is(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Qa,(0,L.Z)(e)),r(e,"geometrySystem",es,(0,L.Z)(e)),r(e,"shaderModuleService",ts,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:J.BACK}).setDepth({enable:!0,func:J.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(no),Qa=a(($a=ns).prototype,"materialSystem",[Za,Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=a($a.prototype,"geometrySystem",[qa,Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=a($a.prototype,"shaderModuleService",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ja=$a))||Ja),ys=n(31583),bs=n(45687);function xs(e,t,n,r,i){ws(t,r,-i),ws(t,r,i),e.push(n),e.push(n)}function ws(e,t,n){e.push([[t[0],t[1]],n])}function Es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var ks,_s,Ss,Ts,Cs,Ms,As,Is,Os,Ns,Ps,Ds,Rs=(os=(0,g.b2)(),as=(0,g.f3)(v.Systems),ss=(0,g.t6)(v.MaterialSystem),us=(0,g.f3)(v.Systems),ls=(0,g.t6)(v.GeometrySystem),cs=(0,g.f3)(v.ShaderModuleService),os((vs=function(e){(0,x.Z)(n,e);var t=Es(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",hs,(0,L.Z)(e)),r(e,"geometrySystem",ps,(0,L.Z)(e)),r(e,"shaderModuleService",gs,(0,L.Z)(e)),e.vertexCount=void 0,e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,l=null,c=(0,ys.create)(),d=n||0,f=[],h=[],p=[],g=[0,0];t&&(e=e.slice()).push(e[0]);for(var v=e.length,m=1;m<v;m++){var y=d,b=e[m-1],x=e[m],w=m<e.length-1?e[m+1]:null;if(g.push(m/v,m/v),(0,bs.o7)(r,x,b),l||(l=[0,0],(0,bs.mJ)(l,r)),u||(u=!0,xs(h,f,b,l,1)),p.push([y+0,y+1,y+2]),w){(0,bs.o7)(i,w,x);var E=(0,bs.x7)(o,a,r,i,1),k=(0,ys.dot)(o,l)<0?-1:1,_=E>3;if(!isFinite(E)){(0,bs.mJ)(l,r),xs(h,f,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),d+=2,s=k;continue}_?(E=3,g.push(m/v),ws(f,l,-k),h.push(x),ws(f,a,E*k),h.push(x),p.push(s!==-k?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),(0,bs.mJ)(c,i),(0,ys.copy)(l,c),ws(f,l,-k),h.push(x),d+=3):(xs(h,f,x,a,E),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),k=-1,(0,ys.copy)(l,a),d+=2),s=k}else(0,bs.mJ)(l,r),xs(h,f,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),d+=2}return{normals:f,attrIndex:p,attrPos:h,attrCounters:g}}(this.config.points,!1),s=a.normals,u=a.attrIndex,l=a.attrPos,c=a.attrCounters,d=l.length;this.vertexCount=d;var f=this.geometrySystem.createBufferGeometry({vertexCount:d});this.setMaterial(o),this.setGeometry(f),o.setCull({enable:!1,face:J.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var h=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];h.push([t[0],t[1]]),p.push(n)})),f.setIndex(u.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),f.setAttribute("a_pos",Float32Array.from(l.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var g=new Array(d).fill(void 0).map((function(){return(0,Eo.Z)(e.config.color)})).reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[]);f.setAttribute("a_color",Float32Array.from(g),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),f.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),f.setAttribute("a_line_normal",Float32Array.from(h.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),f.setAttribute("a_counters",Float32Array.from(c),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(no),hs=a((fs=vs).prototype,"materialSystem",[as,ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=a(fs.prototype,"geometrySystem",[us,ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gs=a(fs.prototype,"shaderModuleService",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=fs))||ds);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Fs,Bs,zs,Ys,Gs,Vs,Ws,Us,Zs,Hs,qs=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Xs=(ks=(0,g.b2)(),_s=(0,g.f3)(v.Systems),Ss=(0,g.t6)(v.MaterialSystem),Ts=(0,g.f3)(v.Systems),Cs=(0,g.t6)(v.GeometrySystem),Ms=(0,g.f3)(v.ShaderModuleService),ks((Ds=function(e){(0,x.Z)(n,e);var t=js(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Os,(0,L.Z)(e)),r(e,"geometrySystem",Ns,(0,L.Z)(e)),r(e,"shaderModuleService",Ps,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:J.SRC_ALPHA,dstRGB:J.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,(0,Eo.Z)([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(qs.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,(0,Eo.Z)(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,(0,Eo.Z)(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,(0,Eo.Z)(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(no),Os=a((Is=Ds).prototype,"materialSystem",[_s,Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=a(Is.prototype,"geometrySystem",[Ts,Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=a(Is.prototype,"shaderModuleService",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=Is))||As);function Ks(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Js(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $s,Qs,eu,tu,nu,ru,iu,ou,au,su,uu,lu,cu=(Fs=(0,g.b2)(),Bs=(0,g.f3)(v.RenderEngine),zs=(0,g.f3)(v.ShaderModuleService),Ys=(0,g.f3)(v.ConfigService),Fs((Hs=function(){function e(){(0,i.Z)(this,e),this.container=void 0,r(this,"engine",Ws,this),r(this,"shaderModule",Us,this),r(this,"configService",Zs,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(v.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1});case 11:r=Ks(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(v.Systems),n=l.length,r=new Array(n),i=0;i<n;i++)r[i]=l[i];o=Ks(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Ws=a((Vs=Hs).prototype,"engine",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Us=a(Vs.prototype,"shaderModule",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=a(Vs.prototype,"configService",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=Vs))||Gs),du=(0,g.b2)()((Qs=function(){function e(){(0,i.Z)(this,e),this.entities=[]}return(0,o.Z)(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}(),$s=Qs))||$s,fu=(0,g.b2)()((tu=function(){function e(){(0,i.Z)(this,e),this.cache={}}return(0,o.Z)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}(),eu=tu))||eu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gu,vu,mu,yu,bu,xu,wu,Eu,ku,_u,Su,Tu,Cu,Mu=(nu=(0,g.b2)(),ru=(0,g.f3)(fu),iu=(0,g.f3)(v.RenderEngine),nu((lu=function(){function e(){(0,i.Z)(this,e),r(this,"textureCache",su,this),r(this,"engine",uu,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,o.Z)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(pu(pu({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),su=a((au=lu).prototype,"textureCache",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=a(au.prototype,"engine",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=au))||ou),Au=(gu=(0,g.b2)(),vu=(0,g.f3)(v.Systems),mu=(0,g.t6)(v.RendererSystem),gu((wu=function(){function e(){(0,i.Z)(this,e),r(this,"rendererSystem",xu,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,o.Z)(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),xu=a((bu=wu).prototype,"rendererSystem",[vu,mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu);function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nu=(Eu=(0,g.b2)(),ku=(0,g.f3)(v.ConfigService),Eu((Cu=function(){function e(){(0,i.Z)(this,e),r(this,"configService",Tu,this),this.container=void 0}return(0,o.Z)(e,[{key:"getEngine",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(v.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(Ou({canvas:r||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(v.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(v.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return d()}},{key:"createScene",value:function(){return this.container.get(du)}},{key:"createCamera",value:function(){return this.container.get(Qr)}},{key:"createView",value:function(){return this.container.get(Au)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(v.Renderable,e):this.container.get(no),r=d();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(v.Geometry,e),r=d();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(v.Material,e),r=d();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(Mu);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(v.Systems,v.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(eo);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(cu);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(v.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(v.RenderEngine).destroy(),this.container.get(v.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Er(),r=navigator.gpu?ka:Go;n.isBound(v.RenderEngine)||n.bind(v.RenderEngine).to(r).inSingletonScope(),n.bind(cu).toSelf(),n.bind(eo).toSelf(),n.bind(no).toSelf(),n.bind(Au).toSelf(),n.bind(Qr).toSelf(),n.bind(du).toSelf(),n.bind(e).toSelf(),n.bind(fu).toSelf(),n.bind(Mu).toSelf(),n.bind(v.Geometry).to(Ca).whenTargetNamed(ei.BOX),n.bind(v.Geometry).to(Va).whenTargetNamed(ei.SPHERE),n.bind(v.Geometry).to(Pa).whenTargetNamed(ei.PLANE),n.bind(v.Geometry).to(Ia).whenTargetNamed(ei.MERGED),n.bind(v.Material).to(rs).whenTargetNamed(to.BASIC),n.bind(v.Renderable).to(Xs).whenTargetNamed(no.POINT),n.bind(v.Renderable).to(Rs).whenTargetNamed(no.LINE),n.bind(v.Renderable).to(ms).whenTargetNamed(no.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),Tu=a((Su=Cu).prototype,"configService",[ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=Su))||_u)},3941:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.hmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",l="[object Function]",c="[object GeneratorFunction]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",k="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",I="[object Uint32Array]",O=/\w*$/,N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[x]=D[w]=D[s]=D[u]=D[E]=D[k]=D[_]=D[S]=D[T]=D[d]=D[f]=D[h]=D[g]=D[v]=D[m]=D[y]=D[C]=D[M]=D[A]=D[I]=!0,D["[object Error]"]=D[l]=D[b]=!1;var R="object"==("undefined"===typeof n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,L="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,j=R||L||Function("return this")(),F="object"==("undefined"===typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,B=F&&"object"==r(e)&&e&&!e.nodeType&&e,z=B&&B.exports===F;function Y(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q=Array.prototype,X=Function.prototype,K=Object.prototype,J=j["__core-js_shared__"],$=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=X.toString,ee=K.hasOwnProperty,te=K.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=z?j.Buffer:void 0,ie=j.Symbol,oe=j.Uint8Array,ae=Z(Object.getPrototypeOf,Object),se=Object.create,ue=K.propertyIsEnumerable,le=q.splice,ce=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,fe=Z(Object.keys,Object),he=Fe(j,"DataView"),pe=Fe(j,"Map"),ge=Fe(j,"Promise"),ve=Fe(j,"Set"),me=Fe(j,"WeakMap"),ye=Fe(Object,"create"),be=Ve(he),xe=Ve(pe),we=Ve(ge),Ee=Ve(ve),ke=Ve(me),_e=ie?ie.prototype:void 0,Se=_e?_e.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Ce(e)}function Ie(e,t){var n=Ue(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ze(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||Ye(s,i))||n.push(s);return n}function Oe(e,t,n){var r=e[t];ee.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ne(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Pe(e,t,n,r,i,o,p){var b;if(r&&(b=o?r(e,i,o,p):r(e)),void 0!==b)return b;if(!Xe(e))return e;var N=Ue(e);if(N){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var P=ze(e),R=P==l||P==c;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==h||P==a||R&&!o){if(W(e))return o?e:{};if(b=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=ae(e),Xe(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return Le(e,Be(e),t)}(e,function(e,t){return e&&Le(t,Ke(t),e)}(b,e))}else{if(!D[P])return o?e:{};b=function(e,t,n,r){var i=e.constructor;switch(t){case x:return Re(e);case s:case u:return new i(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case k:case _:case S:case T:case C:case M:case A:case I:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case d:return function(e,t,n){return V(t?n(U(e),!0):U(e),Y,new e.constructor)}(e,r,n);case f:case m:return new i(e);case g:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return V(t?n(H(e),!0):H(e),G,new e.constructor)}(e,r,n);case y:return o=e,Se?Object(Se.call(o)):{}}var o}(e,P,Pe,t)}}p||(p=new Ae);var L=p.get(e);if(L)return L;if(p.set(e,b),!N)var j=n?function(e){return function(e,t,n){var r=t(e);return Ue(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ke,Be)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(i,o){j&&(i=e[o=i]),Oe(b,o,Pe(i,t,n,r,o,e,p))})),b}function De(e){return!(!Xe(e)||(t=e,$&&$ in t))&&(qe(e)||W(e)?ne:N).test(Ve(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Le(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Oe(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Te.prototype.clear=function(){this.__data__=ye?ye(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?i:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Ne(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Me.prototype.clear=function(){this.__data__={hash:new Te,map:new(pe||Ce),string:new Te}},Me.prototype.delete=function(e){return je(this,e).delete(e)},Me.prototype.get=function(e){return je(this,e).get(e)},Me.prototype.has=function(e){return je(this,e).has(e)},Me.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Ce},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Me(r)}return n.set(e,t),this};var Be=ce?Z(ce,Object):function(){return[]},ze=function(e){return te.call(e)};function Ye(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function Ve(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function We(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=w||pe&&ze(new pe)!=d||ge&&ze(ge.resolve())!=p||ve&&ze(new ve)!=v||me&&ze(new me)!=b)&&(ze=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case be:return w;case xe:return d;case we:return p;case Ee:return v;case ke:return b}return t});var Ue=Array.isArray;function Ze(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!qe(e)}var He=de||function(){return!1};function qe(e){var t=Xe(e)?te.call(e):"";return t==l||t==c}function Xe(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ke(e){return Ze(e)?Ie(e):function(e){if(!Ge(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.Z=function(e){return Pe(e,!0,!0)}},7701:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n++);else if(Object(i.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),i=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(i.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),i=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=i},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){t(e,r)&&n.push(e)})),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,i){return t&&r(e,t),n&&r(e,n),i&&r(e,i),e}},function(e,t,n){var r=n(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return o.indexOf(e)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(e,t);else if(s===i[1])n(e,t),e.right2left();else if(s===i[2])n(e,t);else if(s===i[3])n(e,t),e.bottom2top();else if(s===i[4]||s===i[5]){var u=r(e,t),l=u.left,c=u.right;n(l,t),n(c,t),t.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),e.x=l.x,e.y=c.y;var d=e.getBoundingBox();t.isHorizontal?d.top<0&&e.translate(0,-d.top):d.left<0&&e.translate(-d.left,0)}var f=t.fixedRoot;return void 0===f&&(f=!0),f&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),i={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function o(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof o)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new o(e,t=r.assign({},i,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var l=t.getChildren(a.data),c=l?l.length:0;if(a.children=new Array(c),l&&c)for(var d=0;d<c;d++){var f=new o(l[d],t);a.children[d]=f,u.push(f),f.parent=a,f.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),i=n(20);t.a=function(e,t){var n=Object(i.a)(t),o=n.length;if(Object(r.a)(e))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(r)})),t};t.a=o},function(e,t,n){"use strict";var r=n(1),i=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var a=void 0,s=t[n];n!==o&&s===a||(a=s,i.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),i=n(2);t.a=function(e){var t=[];return Object(i.a)(e,(function(e){Object(r.a)(t,e)||t.push(e)})),t}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(i.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(i.a)(e))return{};var n,s={},u=Object(o.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(n)})),t};t.a=o},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),i=n(1),o=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(o.a)(t)||Object(o.a)(n))return!1;if(Object(i.a)(t)||Object(i.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),i=r(e.data,t,!0),o=e.children.length,a=Math.round(o/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<o;u++){var l=e.children[u];"right"===s(l,u)?i.children.push(l):n.children.push(l)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),i.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:i}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),i=n(113),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",(function(){return r.a})),n.d(t,"includes",(function(){return r.a}));var i=n(34);n.d(t,"difference",(function(){return i.a}));var o=n(35);n.d(t,"find",(function(){return o.a}));var a=n(36);n.d(t,"findIndex",(function(){return a.a}));var s=n(37);n.d(t,"firstValue",(function(){return s.a}));var u=n(38);n.d(t,"flatten",(function(){return u.a}));var l=n(39);n.d(t,"flattenDeep",(function(){return l.a}));var c=n(40);n.d(t,"getRange",(function(){return c.a}));var d=n(41);n.d(t,"pull",(function(){return d.a}));var f=n(21);n.d(t,"pullAt",(function(){return f.a}));var h=n(42);n.d(t,"reduce",(function(){return h.a}));var p=n(43);n.d(t,"remove",(function(){return p.a}));var g=n(44);n.d(t,"sortBy",(function(){return g.a}));var v=n(45);n.d(t,"union",(function(){return v.a}));var m=n(22);n.d(t,"uniq",(function(){return m.a}));var y=n(46);n.d(t,"valuesOfKey",(function(){return y.a}));var b=n(47);n.d(t,"head",(function(){return b.a}));var x=n(48);n.d(t,"last",(function(){return x.a}));var w=n(49);n.d(t,"startsWith",(function(){return w.a}));var E=n(50);n.d(t,"endsWith",(function(){return E.a}));var k=n(14);n.d(t,"filter",(function(){return k.a}));var _=n(51);n.d(t,"every",(function(){return _.a}));var S=n(52);n.d(t,"some",(function(){return S.a}));var T=n(53);n.d(t,"group",(function(){return T.a}));var C=n(24);n.d(t,"groupBy",(function(){return C.a}));var M=n(23);n.d(t,"groupToMap",(function(){return M.a}));var A=n(54);n.d(t,"getWrapBehavior",(function(){return A.a}));var I=n(55);n.d(t,"wrapBehavior",(function(){return I.a}));var O=n(56);n.d(t,"number2color",(function(){return O.a}));var N=n(57);n.d(t,"parseRadius",(function(){return N.a}));var P=n(58);n.d(t,"clamp",(function(){return P.a}));var D=n(59);n.d(t,"fixedBase",(function(){return D.a}));var R=n(60);n.d(t,"isDecimal",(function(){return R.a}));var L=n(61);n.d(t,"isEven",(function(){return L.a}));var j=n(62);n.d(t,"isInteger",(function(){return j.a}));var F=n(63);n.d(t,"isNegative",(function(){return F.a}));var B=n(64);n.d(t,"isNumberEqual",(function(){return B.a}));var z=n(65);n.d(t,"isOdd",(function(){return z.a}));var Y=n(66);n.d(t,"isPositive",(function(){return Y.a}));var G=n(67);n.d(t,"maxBy",(function(){return G.a}));var V=n(68);n.d(t,"minBy",(function(){return V.a}));var W=n(69);n.d(t,"mod",(function(){return W.a}));var U=n(70);n.d(t,"toDegree",(function(){return U.a}));var Z=n(71);n.d(t,"toInteger",(function(){return Z.a}));var H=n(72);n.d(t,"toRadian",(function(){return H.a}));var q=n(73);n.d(t,"forIn",(function(){return q.a}));var X=n(25);n.d(t,"has",(function(){return X.a}));var K=n(74);n.d(t,"hasKey",(function(){return K.a}));var J=n(75);n.d(t,"hasValue",(function(){return J.a}));var $=n(20);n.d(t,"keys",(function(){return $.a}));var Q=n(19);n.d(t,"isMatch",(function(){return Q.a}));var ee=n(26);n.d(t,"values",(function(){return ee.a}));var te=n(76);n.d(t,"lowerCase",(function(){return te.a}));var ne=n(77);n.d(t,"lowerFirst",(function(){return ne.a}));var re=n(78);n.d(t,"substitute",(function(){return re.a}));var ie=n(79);n.d(t,"upperCase",(function(){return ie.a}));var oe=n(80);n.d(t,"upperFirst",(function(){return oe.a}));var ae=n(27);n.d(t,"getType",(function(){return ae.a}));var se=n(81);n.d(t,"isArguments",(function(){return se.a}));var ue=n(0);n.d(t,"isArray",(function(){return ue.a}));var le=n(1);n.d(t,"isArrayLike",(function(){return le.a}));var ce=n(82);n.d(t,"isBoolean",(function(){return ce.a}));var de=n(83);n.d(t,"isDate",(function(){return de.a}));var fe=n(84);n.d(t,"isError",(function(){return fe.a}));var he=n(3);n.d(t,"isFunction",(function(){return he.a}));var pe=n(85);n.d(t,"isFinite",(function(){return pe.a}));var ge=n(6);n.d(t,"isNil",(function(){return ge.a}));var ve=n(86);n.d(t,"isNull",(function(){return ve.a}));var me=n(5);n.d(t,"isNumber",(function(){return me.a}));var ye=n(13);n.d(t,"isObject",(function(){return ye.a}));var be=n(15);n.d(t,"isObjectLike",(function(){return be.a}));var xe=n(9);n.d(t,"isPlainObject",(function(){return xe.a}));var we=n(28);n.d(t,"isPrototype",(function(){return we.a}));var Ee=n(87);n.d(t,"isRegExp",(function(){return Ee.a}));var ke=n(8);n.d(t,"isString",(function(){return ke.a}));var _e=n(4);n.d(t,"isType",(function(){return _e.a}));var Se=n(88);n.d(t,"isUndefined",(function(){return Se.a}));var Te=n(89);n.d(t,"isElement",(function(){return Te.a}));var Ce=n(90);n.d(t,"requestAnimationFrame",(function(){return Ce.a}));var Me=n(91);n.d(t,"clearAnimationFrame",(function(){return Me.a}));var Ae=n(92);n.d(t,"augment",(function(){return Ae.a}));var Ie=n(93);n.d(t,"clone",(function(){return Ie.a}));var Oe=n(94);n.d(t,"debounce",(function(){return Oe.a}));var Ne=n(95);n.d(t,"memoize",(function(){return Ne.a}));var Pe=n(96);n.d(t,"deepMix",(function(){return Pe.a}));var De=n(2);n.d(t,"each",(function(){return De.a}));var Re=n(97);n.d(t,"extend",(function(){return Re.a}));var Le=n(98);n.d(t,"indexOf",(function(){return Le.a}));var je=n(99);n.d(t,"isEmpty",(function(){return je.a}));var Fe=n(29);n.d(t,"isEqual",(function(){return Fe.a}));var Be=n(100);n.d(t,"isEqualWith",(function(){return Be.a}));var ze=n(101);n.d(t,"map",(function(){return ze.a}));var Ye=n(102);n.d(t,"mapValues",(function(){return Ye.a}));var Ge=n(16);n.d(t,"mix",(function(){return Ge.a})),n.d(t,"assign",(function(){return Ge.a}));var Ve=n(103);n.d(t,"get",(function(){return Ve.a}));var We=n(104);n.d(t,"set",(function(){return We.a}));var Ue=n(105);n.d(t,"pick",(function(){return Ue.a}));var Ze=n(106);n.d(t,"throttle",(function(){return Ze.a}));var He=n(107);n.d(t,"toArray",(function(){return He.a}));var qe=n(10);n.d(t,"toString",(function(){return qe.a}));var Xe=n(108);n.d(t,"uniqueId",(function(){return Xe.a}));var Ke=n(109);n.d(t,"noop",(function(){return Ke.a}));var Je=n(110);n.d(t,"identity",(function(){return Je.a}));var $e=n(111);n.d(t,"size",(function(){return $e.a}));var Qe=n(112);n.d(t,"Cache",(function(){return Qe.a}))},function(e,t,n){"use strict";var r=n(14),i=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,(function(e){return!Object(i.a)(t,e)}))}},function(e,t,n){"use strict";var r=n(3),i=n(19),o=n(0),a=n(9);t.a=function(e,t){if(!Object(o.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(i.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),i=n(0);t.a=function(e,t){for(var n=null,o=0;o<e.length;o++){var a=e[o][t];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),i=n(14);t.a=function(e){if(!(e=Object(i.a)(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},function(e,t,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=o.call(e,a))>-1;)i.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9);t.a=function(e,t,n){if(!Object(i.a)(e)&&!Object(o.a)(e))return e;var a=n;return Object(r.a)(e,(function(e,n){a=t(a,e,n)})),a}},function(e,t,n){"use strict";var r=n(1),i=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var o=-1,a=[],s=e.length;++o<s;){var u=e[o];t(u,o,e)&&(n.push(u),a.push(o))}return Object(i.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(3);t.a=function(e,t){var n;if(Object(o.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(i.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(6);t.a=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];Object(o.a)(s)||(Object(i.a)(s)||(s=[s]),Object(r.a)(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0]};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[e.length-1]};var r=n(1)},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),i=[];for(var o in n)i.push(n[o]);return i}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),i=n.length;i<6;i++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,i=0,o=0;return Object(r.a)(e)?1===e.length?t=n=i=o=e[0]:2===e.length?(t=i=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],o=e[3]):t=n=i=o=e,{r1:t,r2:n,r3:i,r4:o}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=i},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])>n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])<n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),i=n(26);t.a=function(e,t){return Object(r.a)(Object(i.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=1;o<e.length;o++){var a=e[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),i=n(9);function o(e,t,n,a){for(var s in n=n||0,a=a||5,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&Object(i.a)(u)?(Object(i.a)(e[s])||(e[s]={}),n<a?o(e[s],u,n+1,a):e[s]=t[s]):Object(r.a)(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)o(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(e,t,n,o){Object(i.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,o),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(i.a)(e))return!e.length;var t=Object(o.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){n.push(t(e,r))})),n}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=function(e){return e};t.a=function(e,t){void 0===t&&(t=o);var n={};return Object(i.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var i=0,o=Object(r.a)(t)?t.split("."):t;e&&i<o.length;)e=e[o[i++]];return void 0===e||i<o.length?n:e}},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(5);t.a=function(e,t,n){var a=e,s=Object(i.a)(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(o.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,(function(t){o.call(e,t)&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)?0:Object(i.a)(e)?e.length:Object.keys(e).length};var r=n(6),i=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function i(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(i(e,t),n)})),n}function o(e,t){r(e,-i(e,t),t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function i(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){for(var r=e.c[t-1],i=r.mod,o=e.c[t],a=o.mod;null!==r&&null!==o;){f(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,l(e,t,n.index,s));var u=f(r),h=f(o);u<=h&&null!==(r=d(r))&&(i+=r.mod),u>=h&&null!==(o=c(o))&&(a+=o.mod)}!r&&o?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,o,a):r&&!o&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function l(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function c(e){return 0===e.cs?e.tl:e.c[0]}function d(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function f(e){return e.y+e.h}function h(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var p=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=h(f(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var o=f(t.c[r].er);u(t,r,n),n=h(o,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),i(t)}else i(t)}(p),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(p,0),a(p,e,r),o(e,r),e}},function(e,t,n){var r=n(11),i=n(115),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this;return e.rootNode.width=0,o(e.rootNode,e.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,s=0,u=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var n=t.children,r=n.length,o=new i(t.height,[]);return n.forEach((function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var n=t.children.map((function(t){return e(t)})),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(u),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(u),a(u,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),i=n(117),o=n(30),a=n(7),s=["LR","RL","H"],u=s[0],l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,l=void 0===a||a,c=e.direction||u;if(c&&-1===s.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===s[0])i(t,r,l);else if(c===s[1])i(t,r,l),t.right2left();else if(c===s[2]){var d=o(t,e),f=d.left,h=d.right;i(f,r,l),f.right2left(),i(h,r,l);var p=f.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),c={};e.exports=function(e,t){return t=a.assign({},c,t),new l(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode((function(e){!function(e,t,n,r){var i="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=i,void(e.y=t?t.y:0)}catch(o){}e.x+=i,e.y=t?t.y+t.height:0}(e,r,t,n),r=e}))}},function(e,t,n){var r=n(11),i=n(119),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=i(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function o(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){o(e)}));var r=t[0],i=t[n-1],a=i.y-r.y+i.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,i(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(e)}}])},e.exports=t()},68253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(18252);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(6929),t)},14950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var n=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=n},82893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=n(14950),o=n(51784);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this,n=t.nodes,r=t.edges,i=n.length;if(0!==i){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(1===i)return n[0].x=a[0],n[0].y=a[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.radius,u=t.startRadius,l=t.endRadius,c=t.divisions,d=t.startAngle,f=t.endAngle,h=t.angleRatio,p=t.ordering,g=t.clockwise,v=t.nodeSpacing,m=t.nodeSize,y=(f-d)/i,b={};n.forEach((function(e,t){b[e.id]=t})),t.nodeMap=b;var x=(0,o.getDegree)(n.length,b,r);if(t.degrees=x,v){var w=(0,o.getFuncByUnknownType)(10,v),E=(0,o.getFuncByUnknownType)(10,m),k=-1/0;n.forEach((function(e){var t=E(e);k<t&&(k=t)}));var _=0;n.forEach((function(e,t){_+=0===t?k||10:(w(e)||0)+(k||10)})),s=_/(2*Math.PI)}else s||u||l?!u&&l?u=l:u&&!l&&(l=u):s=t.height>t.width?t.width/2:t.height/2;var S=y*h,T=[];T="topology"===p?t.topologyOrdering():"topology-directed"===p?t.topologyOrdering(!0):"degree"===p?t.degreeOrdering():n;for(var C=Math.ceil(i/c),M=0;M<i;++M){var A=s;A||null===u||null===l||(A=u+M*(l-u)/(i-1)),A||(A=10+100*M/(i-1));var I=d+M%C*S+2*Math.PI/c*Math.floor(M/C);g||(I=f-M%C*S-2*Math.PI/c*Math.floor(M/C)),T[M].x=a[0]+Math.cos(I)*A,T[M].y=a[1]+Math.sin(I)*A,T[M].weight=x[M]}return null===(e=t.onLayoutEnd)||void 0===e||e.call(t),{nodes:T,edges:this.edges}}t.onLayoutEnd&&t.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this,n=t.degrees,r=t.edges,i=t.nodes,a=(0,o.clone)(i),s=t.nodeMap,u=[a[0]],l=[i[0]],c=[],d=i.length;c[0]=!0,function(e,t,n,r){e.forEach((function(t,n){e[n].children=[],e[n].parent=[]})),r?t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].parent;u.push(e[s].id),l.push(e[a].id)})):t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].children;u.push(e[s].id),l.push(e[a].id)}))}(a,r,s,e);var f=0;return a.forEach((function(e,t){if(0!==t)if(t!==d-1&&n[t]===n[t+1]&&!function(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=(0,o.getEdgeTerminal)(n[i],"source"),s=(0,o.getEdgeTerminal)(n[i],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(u[f],e,r)||c[t]){for(var h=u[f].children,p=!1,g=0;g<h.length;g++){var v=s[h[g]];if(n[v]===n[t]&&!c[v]){u.push(a[v]),l.push(i[s[a[v].id]]),c[v]=!0,p=!0;break}}for(var m=0;!p&&(c[m]||(u.push(a[m]),l.push(i[s[a[m].id]]),c[m]=!0,p=!0),++m!==d););}else u.push(e),l.push(i[s[e.id]]),c[t]=!0,f++})),l},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach((function(e,r){e.degree=n[r],t.push(e)})),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(i.Base);t.CircularLayout=s},33467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var o=n(73023),a=n(14950),s=n(51784),u=n(6929),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e,t=this,n=t.nodes,r=t.edges,i=t.combos,a=t.comboEdges,l=t.center,c=t.getInnerGraphs(),d={};n.forEach((function(e){d[e.id]=e}));var f={};i.forEach((function(e){f[e.id]=e}));var h=[],p=[],g={},v=!0;this.comboTrees.forEach((function(e){var t=c[e.id],n={id:e.id,x:t.x||f[e.id].x,y:t.y||f[e.id].y,fx:t.fx||f[e.id].fx,fy:t.fy||f[e.id].fy,mass:t.mass||f[e.id].mass,size:t.size};p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,h.push(e.id),(0,s.traverseTreeUp)(e,(function(t){return t.id!==e.id&&(g[t.id]=e.id),!0}))})),n.forEach((function(e){if(!e.comboId||!f[e.comboId]){var t={id:e.id,x:e.x,y:e.y,fx:e.fx,fy:e.fy,mass:e.mass,size:e.size};p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):v=!1,h.push(e.id)}}));var m=[];if(r.concat(a).forEach((function(e){var t=g[e.source]||e.source,n=g[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})})),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=l[0],p[0].y=l[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,i,o=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:l,kg:5,preventOverlap:!0,animate:!1}),v&&o.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach((function(e){var t=c[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach((function(t){t.x+=e.x,t.y+=e.y}));else{var n=d[e.id];n&&(n.x=e.x,n.y=e.y)}}))}for(var w=Object.keys(c),E=function(e){var t=w[e],n=c[t];if(!n)return"continue";n.nodes.forEach((function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),d[e.id]&&(d[e.id].x=e.x,d[e.id].y=e.y)})),f[t]&&(f[t].x=n.x,f[t].y=n.y)},k=w.length-1;k>=0;k--)E(k);return{nodes:n,edges:r,combos:i,comboEdges:a}},t.prototype.getInnerGraphs=function(){var e=this,t=e.comboTrees,n=e.nodeSize,r=e.edges,o=e.comboPadding,a=e.spacing,l={},c=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return c.center=[0,0],c.preventOverlap=!0,c.nodeSpacing=a,(t||[]).forEach((function(e){(0,s.traverseTreeUp)(e,(function(e){var t,a=(null===o||void 0===o?void 0:o(e))||10;if((0,s.isArray)(a)&&(a=Math.max.apply(Math,a)),null===(t=e.children)||void 0===t?void 0:t.length){var u=e.children.map((function(e){return"combo"===e.itemType?l[e.id]:i({},e)})),d=u.map((function(e){return e.id})),f={nodes:u,edges:r.filter((function(e){return d.includes(e.source)&&d.includes(e.target)}))},h=1/0;u.forEach((function(e){var t;e.size||(e.size=(null===(t=l[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),h>e.size[0]&&(h=e.size[0]),h>e.size[1]&&(h=e.size[1])})),c.layout(f);var p=(0,s.findMinMaxNodeXY)(u),g=p.minX,v=p.minY,m=p.maxX,y=p.maxY,b=Math.max(m-g,y-v,h)+2*a;l[e.id]={id:e.id,nodes:u,size:[b,b]}}else if("combo"===e.itemType){var x=a?[2*a,2*a]:[30,30];l[e.id]={id:e.id,nodes:[],size:x}}return!0}))})),l},t.prototype.initVals=function(){var e,t,n=this,r=n.nodeSize,i=n.spacing;if(t=(0,s.isNumber)(i)?function(){return i}:(0,s.isFunction)(i)?i:function(){return 0},this.spacing=t,r)if((0,s.isFunction)(r))e=function(e){var n=r(e),i=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+i)/2:((n||10)+i)/2};else if((0,s.isArray)(r)){var o=(r[0]>r[1]?r[0]:r[1])/2;e=function(e){return o+t(e)/2}}else{var a=r/2;e=function(e){return a+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var u,l=n.comboPadding;u=(0,s.isNumber)(l)?function(){return l}:(0,s.isArray)(l)?function(){return Math.max.apply(null,l)}:(0,s.isFunction)(l)?l:function(){return 0},this.comboPadding=u},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=l},7315:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var i=n(14950),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,i=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach((function(e,t){r[t]={x:0,y:0}})),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=r[t].x*i,e.y+=r[t].y*i)})),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var l=[0,0];t.forEach((function(e){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(l[0]+=e.x,l[1]+=e.y)})),l[0]/=t.length,l[1]/=t.length;var c=[r[0]-l[0],r[1]-l[1]];t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=c[0],e.y+=c[1])})),e.combos.forEach((function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)})),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this,t=e.edges,n=e.nodes,r=e.combos,i={},a={},s={};n.forEach((function(e,t){a[e.id]=e,s[e.id]=t})),e.nodeMap=a,e.indexMap=s;var u={};r.forEach((function(e){u[e.id]=e})),e.oriComboMap=u,e.comboMap=e.getComboMap();var l=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||l,e.preventNodeOverlap=e.preventNodeOverlap||l;var c=e.collideStrength;c&&(e.comboCollideStrength=c,e.nodeCollideStrength=c),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(var d=0;d<t.length;++d){var f=(0,o.getEdgeTerminal)(t[d],"source"),h=(0,o.getEdgeTerminal)(t[d],"target");i[f]?i[f]++:i[f]=1,i[h]?i[h]++:i[h]=1}var p=[];for(d=0;d<t.length;++d){f=(0,o.getEdgeTerminal)(t[d],"source"),h=(0,o.getEdgeTerminal)(t[d],"target");p[d]=i[f]/(i[f]+i[h])}this.bias=p;var g,v,m=e.nodeSize,y=e.nodeSpacing;if(v=(0,o.isNumber)(y)?function(){return y}:(0,o.isFunction)(y)?y:function(){return 0},this.nodeSpacing=v,m)if((0,o.isFunction)(m))g=function(e){return m(e)};else if((0,o.isArray)(m)){var b=(m[0]>m[1]?m[0]:m[1])/2;g=function(e){return b}}else{var x=m/2;g=function(e){return x}}else g=function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=g;var w,E=e.comboSpacing;w=(0,o.isNumber)(E)?function(){return E}:(0,o.isFunction)(E)?E:function(){return 0},this.comboSpacing=w;var k,_=e.comboPadding;k=(0,o.isNumber)(_)?function(){return _}:(0,o.isArray)(_)?function(){return Math.max.apply(null,_)}:(0,o.isFunction)(_)?_:function(){return 0},this.comboPadding=k;var S,T=this.linkDistance;T||(T=10),S=(0,o.isNumber)(T)?function(e){return T}:T,this.linkDistance=S;var C,M=this.edgeStrength;M||(M=1),C=(0,o.isNumber)(M)?function(e){return M}:M,this.edgeStrength=C;var A,I=this.nodeStrength;I||(I=30),A=(0,o.isNumber)(I)?function(e){return I}:I,this.nodeStrength=A},t.prototype.initPos=function(e){this.nodes.forEach((function(t,n){var r=t.comboId,i=e[r];r&&i?(t.x=i.cx+100/(n+1),t.y=i.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))}))},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach((function(e){if(!i[e.id]&&!t[e.id])return!0;a.push(e)}));var l=i[n.id];if(l.cx=0,l.cy=0,0===a.length){l.empty=!0;var c=r[n.id];l.cx=c.x,l.cy=c.y}return a.forEach((function(e){if(l.count++,"node"!==e.itemType){var n=i[e.id];return(0,o.isNumber)(n.cx)&&(l.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(l.cy+=n.cy))}var r=t[e.id];r&&((0,o.isNumber)(r.x)&&(l.cx+=r.x),(0,o.isNumber)(r.y)&&(l.cy+=r.y))})),l.cx/=l.count||1,l.cy/=l.count||1,l.children=a,!0}))})),i},t.prototype.applyComboCenterForce=function(e){var t=this,n=t.gravity,r=t.comboGravity||n,i=this.alpha,a=t.comboTrees,s=t.indexMap,u=t.nodeMap,l=t.comboMap;(a||[]).forEach((function(t){(0,o.traverseTreeUp)(t,(function(t){if("node"===t.itemType)return!0;if(!l[t.id])return!0;var n=l[t.id],a=(n.depth+1)/10*.5,c=n.cx,d=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(t){if("node"!==t.itemType){var f=l[t.id];return f&&(0,o.isNumber)(f.cx)&&(n.cx+=f.cx),void(f&&(0,o.isNumber)(f.cy)&&(n.cy+=f.cy))}var h=u[t.id],p=h.x-c||.005,g=h.y-d||.005,v=Math.sqrt(p*p+g*g),m=s[h.id],y=r*i/v*a;e[m].x-=p*y,e[m].y-=g*y,(0,o.isNumber)(h.x)&&(n.cx+=h.x),(0,o.isNumber)(h.y)&&(n.cy+=h.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},t.prototype.applyCalculate=function(e){var t=this,n=t.comboMap,r=t.nodes,i={};r.forEach((function(e,t){r.forEach((function(n,r){if(!(t<r)){var o=e.x-n.x||.005,a=e.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),i[e.id+"-"+n.id]={vx:o,vy:a,vl2:s,vl:u},i[n.id+"-"+e.id]={vl2:s,vl:u,vx:-o,vy:-a}}}))})),t.updateComboSizes(n),t.calRepulsive(e,i),t.calAttractive(e,i),t.preventComboOverlap&&t.comboNonOverlapping(e,n)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,i=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach((function(n){var u=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var l=e[n.id];if(!l)return!1;var c=n.children;c&&c.forEach((function(t){(e[t.id]||r[t.id])&&u.push(t)})),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,u.forEach((function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=i(t),o=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;l.minX>o&&(l.minX=o),l.minY>a&&(l.minY=a),l.maxX<s&&(l.maxX=s),l.maxY<u&&(l.maxY=u)}));var d=t.oriComboMap[n.id].size||10;(0,o.isArray)(d)&&(d=d[0]);var f=Math.max(l.maxX-l.minX,l.maxY-l.minY,d);return l.r=f/2+a(l)/2+s(l),!0}))}))},t.prototype.comboNonOverlapping=function(e,t){var n=this,r=n.comboTree,i=n.comboCollideStrength,a=n.indexMap,s=n.nodeMap;(0,o.traverseTreeUp)(r,(function(n){if(!t[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,o){if("node"===n.itemType)return!1;var u=t[n.id];u&&r.forEach((function(r,l){if(o<=l)return!1;if("node"===r.itemType)return!1;var c=t[r.id];if(!c)return!1;var d=u.cx-c.cx||.005,f=u.cy-c.cy||.005,h=d*d+f*f,p=u.r||1,g=c.r||1,v=p+g,m=g*g,y=p*p;if(h<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var w=Math.sqrt(h),E=(v-w)/w*i,k=d*E,_=f*E,S=m/(y+m),T=1-S;b.forEach((function(t){if("node"!==t.itemType)return!1;if(s[t.id]){var n=a[t.id];x.forEach((function(t){if("node"!==t.itemType)return!1;if(!s[t.id])return!1;var r=a[t.id];e[n].x+=k*S,e[n].y+=_*S,e[r].x-=k*T,e[r].y-=_*T}))}}))}}))})),!0}))},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,l=n.nodeSize,c=n.nodeSpacing,d=n.depthRepulsiveForceScale,f=n.center;r.forEach((function(h,p){if(h.x&&h.y){if(f){var g=n.gravity,v=h.x-f[0]||.005,m=h.y-f[1]||.005,y=Math.sqrt(v*v+m*m);e[p].x-=v*g*a/y,e[p].y-=m*g*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var f=t[h.id+"-"+n.id],g=f.vl2,v=f.vl;if(!(v>i)){var m=t[h.id+"-"+n.id],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var w=x?Math.pow(d,x):1,E=o(n)*a/g*w;if(e[p].x+=y*E,e[p].y+=b*E,p<r&&u){var k=l(h)+c(h)||1,_=l(n)+c(n)||1,S=k+_;if(g<S*S){var T=(S-v)/v*s,C=_*_,M=C/(k*k+C),A=y*T,I=b*T;e[p].x+=A*M,e[p].y+=I*M,M=1-M,e[r].x-=A*M,e[r].y-=I*M}}}}}))}}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,i=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,l=n.depthAttractiveForceScale;r.forEach((function(r,c){var d=(0,o.getEdgeTerminal)(r,"source"),f=(0,o.getEdgeTerminal)(r,"target");if(d&&f&&d!==f){var h=n.indexMap[d],p=n.indexMap[f],g=n.nodeMap[d],v=n.nodeMap[f];if(g&&v){var m=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(m/=2);var y=m?Math.pow(l,m):1;if(g.comboId!==v.comboId&&1===y?y=l/2:g.comboId===v.comboId&&(y=2),(0,o.isNumber)(v.x)&&(0,o.isNumber)(g.x)&&(0,o.isNumber)(v.y)&&(0,o.isNumber)(g.y)){var b=t[f+"-"+d],x=b.vl,w=b.vx,E=b.vy,k=(x-i(r))/x*a*s(r)*y,_=w*k,S=E*k,T=u[c];e[p].x-=_*T,e[p].y-=S*T,e[h].x+=_*(1-T),e[h].y+=S*(1-T)}}}}))},t.prototype.getType=function(){return"comboForce"},t}(i.Base);t.ComboForceLayout=a},1457:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var i=n(51784),o=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,o=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,l=n.nodeSize,c=n.nodeSpacing,d=[],f=0;u=(0,i.isArray)(l)?Math.max(l[0],l[1]):l,(0,i.isArray)(c)?f=Math.max(c[0],c[1]):(0,i.isNumber)(c)&&(f=c),r.forEach((function(e){d.push(e);var t=u;(0,i.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,i.isNumber)(e.size)?t=e.size:(0,i.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,i.isFunction)(c)&&(f=Math.max(c(e),f))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(d.forEach((function(e,t){h[e.id]=e,p[e.id]=t})),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===d[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var g=(0,i.getDegree)(r.length,p,o);d.forEach((function(e,t){e.degree=g[t]}))}d.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),n.maxValueNode=d[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],m=v[0];d.forEach((function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],v.push(m))}m.push(e)}));var y=u+(f||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(v.length+(b?1:0));y=Math.min(y,x)}var w=0;if(v.forEach((function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));w=Math.max(a,w)}e.r=w,w+=y})),n.equidistant){for(var E=0,k=0,_=0;_<v.length;_++){var S=v[_].r-k;E=Math.max(E,S)}k=0,v.forEach((function(e,t){0===t&&(k=e.r),e.r=k,k+=E}))}return v.forEach((function(e){var t=e.dTheta,r=e.r;e.forEach((function(e,i){var o=n.startAngle+(n.clockwise?1:-1)*t*i;e.x=s[0]+r*Math.cos(o),e.y=s[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(14950).Base);t.ConcentricLayout=o},73023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},71893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var o=i(n(14199)),a=n(51784),s=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,i=t.rankdir,s=t.combos,u=t.begin,l=t.radial;if(n){var c,d=t.edges||[],f=new o.default.graphlib.Graph({multigraph:!0,compound:!0});c=r?(0,a.isArray)(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var h=(0,a.getFunc)(t.ranksep,50,t.ranksepFunc),p=(0,a.getFunc)(t.nodesep,50,t.nodesepFunc),g=p,v=h;"LR"!==i&&"RL"!==i||(g=h,v=p),f.setDefaultEdgeLabel((function(){return{}})),f.setGraph(t);var m={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=c(t),r=v(t),i=g(t),o=n[0]+2*i,s=n[1]+2*r,u=t.layer;(0,a.isNumber)(u)?f.setNode(t.id,{width:o,height:s,layer:u}):f.setNode(t.id,{width:o,height:s}),e.sortByCombo&&t.comboId&&(m[t.comboId]||(m[t.comboId]=!0,f.setNode(t.comboId,{})),f.setParent(t.id,t.comboId))})),this.sortByCombo&&s&&s.forEach((function(e){e.parentId&&(m[e.parentId]||(m[e.parentId]=!0,f.setNode(e.parentId,{})),f.setParent(e.id,e.parentId))})),d.forEach((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&f.setEdge(n,r,{weight:t.weight||1})}));var y=void 0;t.preset&&(y=new o.default.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===y||void 0===y||y.setNode(e.id,e)}))),o.default.layout(f,{prevGraph:y,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});var b=[0,0];if(u){var x=1/0,w=1/0;f.nodes().forEach((function(e){var t=f.node(e);x>t.x&&(x=t.x),w>t.y&&(w=t.y)})),f.edges().forEach((function(e){f.edge(e).points.forEach((function(e){x>e.x&&(x=e.x),w>e.y&&(w=e.y)}))})),b[0]=u[0]-x,b[1]=u[1]-w}if(l){var E=this,k=E.focusNode,_=E.ranksep,S=E.getRadialPos,T=(0,a.isString)(k)?k:null===k||void 0===k?void 0:k.id,C=T?f.node(T)._rank:0,M=[],A="LR"===i||"RL"===i,I=A?"y":"x",O=A?"height":"width",N=1/0,P=-1/0;f.nodes().forEach((function(e){var t=f.node(e),r=n.findIndex((function(t){return t.id===e}));if(n[r]){var i=p(n[r]);if(0===C)M[t._rank]||(M[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),M[t._rank].nodes.push(e),M[t._rank].totalWidth+=2*i+t[O],M[t._rank].maxSize<Math.max(t.width,t.height)&&(M[t._rank].maxSize=Math.max(t.width,t.height));else{var o=t._rank-C;if(0===o)M[o]||(M[o]={nodes:[],totalWidth:0,maxSize:-1/0}),M[o].nodes.push(e),M[o].totalWidth+=2*i+t[O],M[o].maxSize<Math.max(t.width,t.height)&&(M[o].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(o);M[a]||(M[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),M[a].totalWidth+=2*i+t[O],M[a].maxSize<Math.max(t.width,t.height)&&(M[a].maxSize=Math.max(t.width,t.height)),o<0?M[a].left.push(e):M[a].right.push(e)}}var s=t[I]-t[O]/2-i,u=t[I]+t[O]/2+i;s<N&&(N=s),u>P&&(P=u)}}));var D=_||50,R={},L=(P-N)/.9,j=[.5*(N+P-L),.5*(N+P+L)],F=function(e,t,r,i){void 0===r&&(r=-1/0),void 0===i&&(i=[0,1]);var o=r;return e.forEach((function(e){var r=f.node(e);R[e]=t;var a=S(r[I],j,L,t,i),s=a.x,u=a.y,l=n.findIndex((function(t){return t.id===e}));if(n[l]){n[l].x=s+b[0],n[l].y=u+b[1],n[l]._order=r._order;var c=h(n[l]);o<c&&(o=c)}})),o},B=!0;M.forEach((function(e){var t,r,i,o,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(r=null===e||void 0===e?void 0:e.left)||void 0===r?void 0:r.length)||(null===(i=null===e||void 0===e?void 0:e.right)||void 0===i?void 0:i.length)){if(B&&1===e.nodes.length){var l=n.findIndex((function(t){return t.id===e.nodes[0]}));return n[l].x=b[0],n[l].y=b[1],R[e.nodes[0]]=0,D=h(n[l]),void(B=!1)}D=Math.max(D,e.totalWidth/(2*Math.PI));var c=-1/0;if(0===C||(null===(o=e.nodes)||void 0===o?void 0:o.length))c=F(e.nodes,D,c,[0,1]);else{var d=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));c=F(e.left,D,c,[0,d]),c=F(e.right,D,c,[d+.05,1])}D+=c,B=!1,e.maxSize}})),f.edges().forEach((function(e){var n,r,i=f.edge(e),o=d.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));if(t.edgeLabelSpace&&t.controlPoints&&"loop"!==d[o].type){var s="x"===I?"y":"x",u=i.points.slice(1,i.points.length-1),l=[],c=null===(n=f.node(e.v))||void 0===n?void 0:n[s],h=c-(null===(r=f.node(e.w))||void 0===r?void 0:r[s]),p=R[e.v],g=p-R[e.w];u.forEach((function(e){var t=(e[s]-c)/h*g+p,n=S(e[I],j,L,t);l.push({x:n.x+b[0],y:n.y+b[1]})})),d[o].controlPoints=l}}))}else f.nodes().forEach((function(e){var t=f.node(e),r=n.findIndex((function(t){return t.id===e}));n[r]&&(n[r].x=t.x+b[0],n[r].y=t.y+b[1],n[r]._order=t._order)})),f.edges().forEach((function(e){var n=f.edge(e),r=d.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==d[r].type&&(d[r].controlPoints=n.points.slice(1,n.points.length-1),d[r].controlPoints.forEach((function(e){e.x+=b[0],e.y+=b[1]})))}));return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:d}}},t.prototype.getRadialPos=function(e,t,n,r,i){void 0===i&&(i=[0,1]);var o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(n(14950).Base);t.DagreLayout=s},14199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)),o=r(n(26908)),a=n(81724);t.default={graphlib:i.default,layout:o.default,util:{time:a.time,notime:a.notime}}},65831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(75010)),o=function(e){var t=[],n={},r={};return e.nodes().forEach((function i(o){var a;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach((function(e){n.hasOwnProperty(e.w)?t.push(e):i(e.w)})),delete n[o])})),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,i.default)(e,function(e){return function(t){return e.edge(t).weight}}(e)):o(e);null===t||void 0===t||t.forEach((function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-"+Math.random())}))},undo:function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},60817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t,n,r,o,a){var s={rank:a,width:0,height:0,borderType:t},u=o[t][a-1],l=i.default.addDummyNode(e,"border",s,n);o[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})};t.default=function(e){var t,n=function t(n){var r=e.children(n),i=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(e){return t(e)})),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)o(e,"borderLeft","_bl",n,i,a),o(e,"borderRight","_br",n,i,a)}};null===(t=e.children())||void 0===t||t.forEach((function(e){return n(e)}))}},80829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.nodes().forEach((function(t){r(e.node(t))})),e.edges().forEach((function(t){r(e.edge(t))}))},r=function(e){var t=e.width;e.width=e.height,e.height=t},i=function(e){e.nodes().forEach((function(t){o(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return o(e)})),r.hasOwnProperty("y")&&o(r)}))},o=function(e){e.y=-e.y},a=function(e){e.nodes().forEach((function(t){s(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return s(e)})),r.hasOwnProperty("x")&&s(r)}))},s=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==r&&"rl"!==r||n(e)},undo:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==r&&"rl"!==r||i(e),"lr"!==r&&"rl"!==r||(a(e),n(e))}}},81462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev},r=function(e,t){if("_next"!==e&&"_prev"!==e)return t},i=function(){function e(){var e={};e._next=e._prev=e,this.isentinel=e}return e.prototype.dequeue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.enqueue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.toString=function(){for(var e=[],t=this.isentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"},e}();t.default=i},99770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33915)).default;i||"undefined"===typeof window||(i=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(e){var t=e||1;if(isFinite(t)){var n=this.length,r=[];if(0===this.length)return this;for(;t--;){var i=[],o=!1;if(0===r.length){o=!0;for(var a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a])}else{for(a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push.apply(i,r[a])):i.push(r[a]);r=i}if(!o&&t===1/0)break}return r}}),t.default=i},75010:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)),o=r(n(81462)),a=i.default.Graph,s=function(){return 1},u=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)l(e,t,n,r);for(;r=o.dequeue();)l(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(l(e,t,n,r,!0));break}}return i},l=function(e,t,n,r,i){var o,a,s=i?[]:void 0;return null===(o=e.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=e.edge(r),a=e.node(r.v);i&&s.push({v:r.v,w:r.w}),void 0===a.out&&(a.out=0),a.out-=o,d(t,n,a)})),null===(a=e.outEdges(r.v))||void 0===a||a.forEach((function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,d(t,n,a)})),e.removeNode(r.v),s},c=function(e,t){var n=new a,r=0,i=0;e.nodes().forEach((function(e){n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((function(e){var o=n.edge(e.v,e.w)||0,a=null===t||void 0===t?void 0:t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));for(var s=[],u=i+r+3,l=0;l<u;l++)s.push(new o.default);var c=r+1;return n.nodes().forEach((function(e){d(s,c,n.node(e))})),{buckets:s,zeroIdx:c,graph:n}},d=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=c(e,t||s);return null===(n=u(r.graph,r.buckets,r.zeroIdx).map((function(t){return e.outEdges(t.v,t.w)})))||void 0===n?void 0:n.flat()}},26908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(65831)),u=a(n(26885)),l=a(n(77098)),c=o(n(81724)),d=a(n(5604)),f=a(n(52912)),h=a(n(60817)),p=a(n(80829)),g=a(n(62854)),v=a(n(57746)),m=a(n(99770)),y=a(n(37914)),b=m.default.Graph,x=function(e,t,n){t("    removeSelfEdges",(function(){Y(e)})),t("    acyclic",(function(){s.default.run(e)})),t("    nestingGraph.run",(function(){f.default.run(e)})),t("    rank",(function(){(0,l.default)(c.default.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){P(e)})),t("    removeEmptyRanks",(function(){(0,c.removeEmptyRanks)(e)})),t("    nestingGraph.cleanup",(function(){f.default.cleanup(e)})),t("    normalizeRanks",(function(){(0,c.normalizeRanks)(e)})),t("    assignRankMinMax",(function(){D(e)})),t("    removeEdgeLabelProxies",(function(){R(e)})),t("    normalize.run",(function(){u.default.run(e)})),t("    parentDummyChains",(function(){(0,d.default)(e)})),t("    addBorderSegments",(function(){(0,h.default)(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){(0,y.default)(e,n.nodeOrder)})),t("    order",(function(){(0,g.default)(e)})),t("    insertSelfEdges",(function(){G(e)})),t("    adjustCoordinateSystem",(function(){p.default.adjust(e)})),t("    position",(function(){(0,v.default)(e)})),t("    positionSelfEdges",(function(){V(e)})),t("    removeBorderNodes",(function(){z(e)})),t("    normalize.undo",(function(){u.default.undo(e)})),t("    fixupEdgeLabelCoords",(function(){F(e)})),t("    undoCoordinateSystem",(function(){p.default.undo(e)})),t("    translateGraph",(function(){L(e)})),t("    assignNodeIntersects",(function(){j(e)})),t("    reversePoints",(function(){B(e)})),t("    acyclic.undo",(function(){s.default.undo(e)}))},w=function(e,t){var n=t._nodes||{};e.nodes().forEach((function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))},E=function(e,t){e.nodes().forEach((function(n){var r,i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height))})),e.edges().forEach((function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height},k=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},S=["acyclicer","ranker","rankdir","align"],T=["width","height","layer","fixorder"],C={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"],O=function(e){var t=new b({multigraph:!0,compound:!0}),n=U(e.graph()),r={};return null===S||void 0===S||S.forEach((function(e){void 0!==n[e]&&(r[e]=n[e])})),t.setGraph(Object.assign({},_,W(n,k),r)),e.nodes().forEach((function(n){var r=U(e.node(n)),i=W(r,T);Object.keys(C).forEach((function(e){void 0===i[e]&&(i[e]=C[e])})),t.setNode(n,i),t.setParent(n,e.parent(n))})),e.edges().forEach((function(n){var r=U(e.edge(n)),i={};null===I||void 0===I||I.forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),t.setEdge(n,Object.assign({},A,W(r,M),i))})),t},N=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)})),e.edges().forEach((function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},P=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};c.default.addDummyNode(e,"edge-proxy",i,"_ep")}}))},D=function(e){var t=0;e.nodes().forEach((function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank||-1/0))})),e.graph().maxRank=t},R=function(e){e.nodes().forEach((function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))},L=function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0,u=function(e){if(e){var o=e.x,a=e.y,s=e.width,u=e.height;isNaN(o)||isNaN(s)||(t=Math.min(t,o-s/2),n=Math.max(n,o+s/2)),isNaN(a)||isNaN(u)||(r=Math.min(r,a-u/2),i=Math.max(i,a+u/2))}};e.nodes().forEach((function(t){u(e.node(t))})),e.edges().forEach((function(t){var n=e.edge(t);n.hasOwnProperty("x")&&u(n)})),t-=a,r-=s,e.nodes().forEach((function(n){var i=e.node(n);i.x-=t,i.y-=r})),e.edges().forEach((function(n){var i,o=e.edge(n);null===(i=o.points)||void 0===i||i.forEach((function(e){e.x-=t,e.y-=r})),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=r)})),o.width=n-t+a,o.height=i-r+s},j=function(e){e.edges().forEach((function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(c.default.intersectRect(o,n)),i.points.push(c.default.intersectRect(a,r))}))},F=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},B=function(e){e.edges().forEach((function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))},z=function(e){e.nodes().forEach((function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),s=e.node(o.borderBottom),u=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),l=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}})),e.nodes().forEach((function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))},Y=function(e){e.edges().forEach((function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))},G=function(e){var t=c.default.buildLayerMatrix(e);null===t||void 0===t||t.forEach((function(t){var n=0;null===t||void 0===t||t.forEach((function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(t){c.default.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))},V=function(e){e.nodes().forEach((function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))},W=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(t){void 0!==e[t]&&(n[t]=+e[t])})),n},U=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n.toLowerCase()]=r})),t};t.default=function(e,t){var n=t&&t.debugTiming?c.default.time:c.default.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){w(e,t.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return O(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){N(r)}));try{n("  runLayout",(function(){x(r,n,t)}))}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",(function(){E(e,r)}))}))}},52912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function e(t,n,r,o,a,s,u){var l=t.children(u);if(null===l||void 0===l?void 0:l.length){var c=i.default.addBorderNode(t,"_bt"),d=i.default.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(c,u),f.borderTop=c,t.setParent(d,u),f.borderBottom=d,null===l||void 0===l||l.forEach((function(i){e(t,n,r,o,a,s,i);var l=t.node(i),f=l.borderTop?l.borderTop:i,h=l.borderBottom?l.borderBottom:i,p=l.borderTop?o:2*o,g=f!==h?1:a-s[u]+1;t.setEdge(c,f,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(h,d,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},a=function(e){var t,n={},r=function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach((function(e){return t(e,i+1)})),n[r]=i};return null===(t=e.children())||void 0===t||t.forEach((function(e){return r(e,1)})),n},s=function(e){var t=0;return e.edges().forEach((function(n){t+=e.edge(n).weight})),t};t.default={run:function(e){var t,n=i.default.addDummyNode(e,"root",{},"_root"),r=a(e),u=Math.max.apply(Math,Object.values(r))-1,l=2*u+1;e.graph().nestingRoot=n,e.edges().forEach((function(t){e.edge(t).minlen*=l}));var c=s(e)+1;null===(t=e.children())||void 0===t||t.forEach((function(t){o(e,n,l,c,u,r,t)})),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},26885:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t){var n,r,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),d=c.labelRank;if(u!==a+1){var f,h,p;for(e.removeEdge(t),p=0,++a;a<u;++p,++a)c.points=[],h={edgeLabel:c,width:0,height:0,edgeObj:t,rank:a},f=i.default.addDummyNode(e,"edge",h,"_d"),a===d&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),e.setEdge(o,f,{weight:c.weight},l),0===p&&(e.graph().dummyChains||(e.graph().dummyChains=[]),null===(r=null===(n=e.graph())||void 0===n?void 0:n.dummyChains)||void 0===r||r.push(f)),o=f;e.setEdge(o,s,{weight:c.weight},l)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach((function(t){return o(e,t)}))},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var n,r,i=e.node(t),o=i.edgeLabel;i.edgeObj&&e.setEdge(i.edgeObj,o);for(var a=t;i.dummy;)r=null===(n=e.successors(a))||void 0===n?void 0:n[0],e.removeNode(a),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),a=r,i=e.node(a)}))}}},87070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach((function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},54333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map((function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))}},20862:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(99770)).default.Graph,o=function(e){for(var t;e.hasNode(t="_root"+Math.random()););return t};t.default=function(e,t,n){var r=o(e),a=new i({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return e.nodes().forEach((function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||r),e[n](i).forEach((function(t){var n=t.v===i?t.w:t.v,r=a.edge(n,i),o=void 0!==r?r.weight:0;a.setEdge(n,i,{weight:e.edge(t).weight+o})})),o.hasOwnProperty("minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),a}},76778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81724),i=function(e,t,n){for(var i=(0,r.zipObject)(n,n.map((function(e,t){return t}))),o=t.map((function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map((function(t){return{pos:i[t.w]||0,weight:e.edge(t).weight}}));return null===r||void 0===r?void 0:r.sort((function(e,t){return e.pos-t.pos}))})).flat().filter((function(e){return void 0!==e})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),l=0;return null===o||void 0===o||o.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;l+=e.weight*n})),l};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);++r)n+=i(e,t[r-1],t[r]);return n}},62854:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(89220)),o=r(n(76778)),a=r(n(20862)),s=r(n(87070)),u=r(n(80055)),l=r(n(99770)),c=r(n(81724)),d=n(51784),f=l.default.Graph,h=function(e,t,n){return t.map((function(t){return(0,a.default)(e,t,n)}))},p=function(e,t,n){var r=new f;null===e||void 0===e||e.forEach((function(e){for(var i,o=e.graph().root,a=(0,u.default)(e,o,r,t,n),l=0;l<(null===(i=a.vs)||void 0===i?void 0:i.length);l++)e.node(a.vs[l]).order=l;(0,s.default)(e,r,a.vs)}))},g=function(e,t){null===t||void 0===t||t.forEach((function(t){null===t||void 0===t||t.forEach((function(t,n){e.node(t).order=n}))}))};t.default=function(e){for(var t=c.default.maxRank(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=h(e,n,"inEdges"),u=h(e,r,"outEdges"),l=(0,i.default)(e);g(e,l);for(var f,v=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m){p(a%2?s:u,a%4>=2),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,f=(0,d.clone)(l),v=y)}l=(0,i.default)(e),g(e,l);for(a=0,m=0;m<4;++a,++m){var y;p(a%2?s:u,a%4>=2,!0),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,f=(0,d.clone)(l),v=y)}g(e,f)}},37914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})).map((function(t){return e.node(t).rank})),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i.push([]);null===t||void 0===t||t.forEach((function(t){var n=e.node(t);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t)))}))}},89220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})),r=n.map((function(t){return e.node(t).rank})),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=n.sort((function(t,n){return e.node(t).rank-e.node(n).rank})),u=s.filter((function(t){return void 0!==e.node(t).fixorder})).sort((function(t,n){return e.node(t).fixorder-e.node(n).fixorder}));return null===u||void 0===u||u.forEach((function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0})),null===s||void 0===s||s.forEach((function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach((function(e){return n(e)}))}})),o}},93896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t,n,i=[],o=function(){var o=e.pop();i.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach((function(e){return(t=o,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&r(t,e)})(e);var t})),null===(n=o.out)||void 0===n||n.forEach((function(t){return(n=o,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n}))};null===e||void 0===e?void 0:e.length;)o();var a=i.filter((function(e){return!e.merged})),s=["vs","i","barycenter","weight"];return a.map((function(e){var t={};return null===s||void 0===s||s.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))},r=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var r,i,o,a={};null===e||void 0===e||e.forEach((function(e,t){var n=a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(r=t.edges())||void 0===r||r.forEach((function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))}));var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,(function(e){return!e.indegree}));return n(s)}},80055:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(54333)),o=r(n(93896)),a=r(n(13267)),s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map((function(e){return t[e]?t[e].vs:e}));e.vs=r.flat()}))},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,l,c){var d,f,h,p,g=t.children(n),v=t.node(n),m=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,b={};m&&(g=null===g||void 0===g?void 0:g.filter((function(e){return e!==m&&e!==y})));var x=(0,i.default)(t,g||[]);null===x||void 0===x||x.forEach((function(n){var i;if(null===(i=t.children(n.v))||void 0===i?void 0:i.length){var o=e(t,n.v,r,l);b[n.v]=o,o.hasOwnProperty("barycenter")&&u(n,o)}}));var w=(0,o.default)(x,r);s(w,b),null===(d=w.filter((function(e){var t;return!!e.vs||(null===(t=e.vs)||void 0===t?void 0:t.length)>0})))||void 0===d||d.forEach((function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var E=(0,a.default)(w,l,c);if(m&&(E.vs=[m,E.vs,y].flat(),null===(f=t.predecessors(m))||void 0===f?void 0:f.length)){var k=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||{}),_=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||{});E.hasOwnProperty("barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+k.order+_.order)/(E.weight+2),E.weight+=2}return E}},13267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},a=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var r=i.default.partition(e,(function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")})),s=r.lhs,u=r.rhs.sort((function(e,t){return-e.i- -t.i})),l=[],c=0,d=0,f=0;null===s||void 0===s||s.sort(a(!!t,!!n)),f=o(l,u,f),null===s||void 0===s||s.forEach((function(e){var t;f+=null===(t=e.vs)||void 0===t?void 0:t.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=o(l,u,f)}));var h={vs:l.flat()};return d&&(h.barycenter=c/d,h.weight=d),h}},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{lca:o,path:a.concat(s.reverse())}},r=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach((function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}})),n};t.default=function(e){var t,i=r(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var r,o,a=e.node(t),s=a.edgeObj;if(s)for(var u=n(e,i,s.v,s.w),l=u.path,c=u.lca,d=0,f=l[d],h=!0;t!==s.w;){if(a=e.node(t),h){for(;(f=l[d])!==c&&e.node(f).maxRank<a.rank;)d++;f===c&&(h=!1)}if(!h){for(;d<l.length-1&&(null===(r=e.node(f=l[d+1]))||void 0===r?void 0:r.minRank)<=a.rank;)d++;f=l[d]}e.setParent(t,f),t=null===(o=e.successors(t))||void 0===o?void 0:o[0]}}))}},59864:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0;var i=r(n(99770)),o=r(n(81724)),a=i.default.Graph,s=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,r){var i=0,o=0,a=t.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach((function(t,u){var d,f=l(e,t),h=f?e.node(f).order:a;(f||t===s)&&(null===(d=r.slice(o,u+1))||void 0===d||d.forEach((function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach((function(r){var o=e.node(r),a=o.order;!(a<i||h<a)||o.dummy&&e.node(t).dummy||c(n,r,t)}))})),o=u+1,i=h)})),r})),n};t.findType1Conflicts=s;var u=function(e,t){var n={},r=function(t,r,i,o,a){for(var s,u=[],l=r;l<i;l++)u.push(l);u.forEach((function(r){var i;s=t[r],e.node(s).dummy&&(null===(i=e.predecessors(s))||void 0===i||i.forEach((function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&c(n,t,s)})))}))};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,n){var i,o=-1,a=0;return null===n||void 0===n||n.forEach((function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s)||[];l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n};t.findType2Conflicts=u;var l=function(e,t){var n;if(e.node(t).dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find((function(t){return e.node(t).dummy}))},c=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0};t.addConflict=c;var d=function(e,t,n){var r=t,i=n;r>i&&(r=i,i=t);return e[r]&&e[r].hasOwnProperty(i)};t.hasConflict=d;var f=function(e,t,n,r){var i={},o={},a={};return null===t||void 0===t||t.forEach((function(e){null===e||void 0===e||e.forEach((function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),null===t||void 0===t||t.forEach((function(e){var t=-1;null===e||void 0===e||e.forEach((function(e){var s=r(e);if(s.length)for(var u=((s=s.sort((function(e,t){return a[e]-a[t]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var f=s[l];o[e]===e&&t<a[f]&&!d(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}}))})),{root:i,align:o}};t.verticalAlignment=f;var h=function(e,t,n,r,i){var o,a={},s=p(e,t,n,i),u=i?"borderLeft":"borderRight",l=function(e,t){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return l((function(e){a[e]=(s.inEdges(e)||[]).reduce((function(e,t){return Math.max(e,(a[t.v]||0)+s.edge(t))}),0)}),s.predecessors.bind(s)),l((function(t){var n=(s.outEdges(t)||[]).reduce((function(e,t){return Math.min(e,(a[t.w]||0)-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}),s.successors.bind(s)),null===(o=Object.values(r))||void 0===o||o.forEach((function(e){a[e]=a[n[e]]})),a};t.horizontalCompaction=h;var p=function(e,t,n,r){var i=new a,o=e.graph(),s=b(o.nodesep,o.edgesep,r);return null===t||void 0===t||t.forEach((function(t){var r;null===t||void 0===t||t.forEach((function(t){var o=n[t];if(i.setNode(o),r){var a=n[r],u=i.edge(a,o);i.setEdge(a,o,Math.max(s(e,t,r),u||0))}r=t}))})),i},g=function(e,t){return o.default.minBy(Object.values(t),(function(t){var n,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((function(n){var o=t[n],a=x(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i}))};function v(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach((function(n){["l","r"].forEach((function(o){var a,s=n+o,u=e[s];if(u!==t){var l=Object.values(u);(a="l"===o?r-Math.min.apply(Math,l):i-Math.max.apply(Math,l))&&(e[s]={},Object.keys(u).forEach((function(t){e[s][t]=u[t]+a})))}}))}))}t.findSmallestWidthAlignment=g,t.alignCoordinates=v;var m=function(e,t){var n={};return Object.keys(e.ul).forEach((function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map((function(e){return e[r]})).sort((function(e,t){return e-t}));n[r]=(i[1]+i[2])/2}})),n};t.balance=m;var y=function(e){var t,n=o.default.buildLayerMatrix(e),r=Object.assign(s(e,n),u(e,n)),i={};["u","d"].forEach((function(o){t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=f(0,t,r,a),u=h(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Object.values(u).map((function(e){return-e}))),i[o+n]=u}))}));var a=g(e,i);return v(i,a),m(i,e.graph().align)};t.positionX=y;var b=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}},x=function(e,t){var n;return(null===(n=e.node(t))||void 0===n?void 0:n.width)||0};t.default={positionX:y,findType1Conflicts:s,findType2Conflicts:u,addConflict:c,hasConflict:d,verticalAlignment:f,horizontalCompaction:h,alignCoordinates:v,findSmallestWidthAlignment:g,balance:m}},57746:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(81724)),o=n(59864);t.default=function(e){var t;!function(e){var t=i.default.buildLayerMatrix(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach((function(t){var i=t.map((function(t){return e.node(t).height})),o=Math.max.apply(Math,i);null===t||void 0===t||t.forEach((function(t){e.node(t).y=r+o/2})),r+=o+n}))}(e=i.default.asNonCompoundGraph(e));var n=function(e){var t,n=i.default.buildLayerMatrix(e),r=Object.assign((0,o.findType1Conflicts)(e,n),(0,o.findType2Conflicts)(e,n)),a={};["u","d"].forEach((function(i){t="u"===i?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var s=("u"===i?e.predecessors:e.successors).bind(e),u=(0,o.verticalAlignment)(e,t,r,s),l=(0,o.horizontalCompaction)(e,t,u.root,u.align,"r"===n);"r"===n&&Object.keys(l).forEach((function(e){return l[e]=-l[e]})),a[i+n]=l}))}));var s=(0,o.findSmallestWidthAlignment)(e,a);return s&&(0,o.alignCoordinates)(a,s),(0,o.balance)(a,e.graph().align)}(e);null===(t=Object.keys(n))||void 0===t||t.forEach((function(t){e.node(t).x=n[t]}))}},20358:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var i=r(n(99770)),o=n(91850),a=n(81724),s=i.default.Graph,u=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});l(r,e)<a;)t=f(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTree=u;var l=function(e,t){return e.nodes().forEach((function n(r){t.nodeEdges(r).forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},c=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});d(r,e)<a;)t=f(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTreeWithLayer=c;var d=function(e,t){return e.nodes().forEach((function n(r){var i;null===(i=t.nodeEdges(r))||void 0===i||i.forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},f=function(e,t){return(0,a.minBy)(t.edges(),(function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,o.slack)(t,n):1/0}))},h=function(e,t,n){e.nodes().forEach((function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n}))};t.default={feasibleTree:u,feasibleTreeWithLayer:c}},77098:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(91850),o=n(20358),a=r(n(67922)),s=i.longestPath,u=function(e){(0,i.longestPathWithLayer)(e),(0,o.feasibleTreeWithLayer)(e)},l=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":l(e);break;case"tight-tree":default:u(e);break;case"longest-path":s(e)}}},67922:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(20358),o=n(91850),a=n(81724),s=r(n(99770)).default.alg,u=s.preorder,l=s.postorder,c=function(e){e=(0,a.simplify)(e),(0,o.longestPath)(e);var t,n,r=(0,i.feasibleTree)(e);for(p(r),d(r,e);t=v(r);)n=m(r,e,t),y(r,e,t,n)},d=function(e,t){var n=l(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach((function(n){f(e,t,n)}))},f=function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)},h=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=t.edge(r).weight;if(s+=l?c:-c,x(e,n,u)){var d=e.edge(n,u).cutvalue;s+=l?-d:d}}})),s},p=function(e,t){void 0!==t&&(t=e.nodes()[0]),g(e,{},1,t)},g=function e(t,n,r,i,o){var a,s=r,u=r,l=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach((function(r){n.hasOwnProperty(r)||(u=e(t,n,u,r,i))})),l.low=s,l.lim=u++,o?l.parent=o:delete l.parent,u},v=function(e){return e.edges().find((function(t){return e.edge(t).cutvalue<0}))},m=function(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),u=e.node(i),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var d=t.edges().filter((function(t){return c===w(e,e.node(t.v),l)&&c!==w(e,e.node(t.w),l)}));return(0,a.minBy)(d,(function(e){return(0,o.slack)(t,e)}))},y=function(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),p(e),d(e,t),b(e,t)},b=function(e,t){var n=e.nodes().find((function(e){return!t.node(e).parent})),r=u(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach((function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))},x=function(e,t,n){return e.hasEdge(t,n)},w=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};c.initLowLimValues=p,c.initCutValues=d,c.calcCutValue=h,c.leaveEdge=v,c.enterEdge=m,c.exchangeEdges=y,t.default=c},91850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var n=function(e){var t,n={},r=function t(r){var i,o=e.node(r);if(n.hasOwnProperty(r))return o.rank;n[r]=!0;var a=null===(i=e.outEdges(r))||void 0===i?void 0:i.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),s=Math.min.apply(Math,a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),o.rank=s,s};null===(t=e.sources())||void 0===t||t.forEach((function(e){return r(e)}))};t.longestPath=n;var r=function(e){var t,n={},r=0,i=function t(i){var o,a=e.node(i);if(n.hasOwnProperty(i))return a.rank;n[i]=!0;var s=null===(o=e.outEdges(i))||void 0===o?void 0:o.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),u=Math.min.apply(Math,s);return u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0),a.rank=u,r=Math.min(a.rank,r),a.rank};null===(t=e.sources())||void 0===t||t.forEach((function(e){return i(e)})),r+=1;var o=function t(n,r){var i,o=e.node(n),a=isNaN(o.layer)?r:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),null===(i=e.outEdges(n))||void 0===i||i.map((function(n){t(n.w,a+e.edge(n).minlen)}))};e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)?n.rank-=r:o(t,n.layer)}))};t.longestPathWithLayer=r;var i=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=i,t.default={longestPath:n,longestPathWithLayer:r,slack:i}},81724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var i=n(51784),o=r(n(99770)).default.Graph,a=function(e,t,n,r){var i;do{i=""+r+Math.random()}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i};t.addDummyNode=a;var s=function(e){var t=(new o).setGraph(e.graph());return e.nodes().forEach((function(n){t.setNode(n,e.node(n))})),e.edges().forEach((function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t};t.simplify=s;var u=function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))})),e.edges().forEach((function(n){return t.setEdge(n,e.edge(n))})),t};t.asNonCompoundGraph=u;var l=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e,r){n[e]=t[r]})),n};t.zipObject=l;var c=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.outEdges(t))||void 0===n||n.forEach((function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.successorWeights=c;var d=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach((function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.predecessorWeights=d;var f=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;return a||s?(Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};t.intersectRect=f;var h=function(e){for(var t=[],n=[],r=m(e)+1,i=0;i<r;i++)t.push([]),n.push([]);return e.nodes().forEach((function(r){var i=e.node(r).rank;void 0!==i&&t[i]&&n[i].push(r)})),null===n||void 0===n||n.forEach((function(n,r){null===n||void 0===n||n.sort((function(t,n){var r,i;return(null===(r=e.node(t))||void 0===r?void 0:r.order)-(null===(i=e.node(n))||void 0===i?void 0:i.order)})),n.forEach((function(e){t[r].push(e)}))})),t};t.buildLayerMatrix=h;var p=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t);e.nodes().forEach((function(t){var r=e.node(t);r.hasOwnProperty("rank")&&(r.rank||(r.rank=0),r.rank-=n)}))};t.normalizeRanks=p;var g=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t),r=[];e.nodes().forEach((function(t){var i,o=((null===(i=e.node(t))||void 0===i?void 0:i.rank)||0)-n;r[o]||(r[o]=[]),r[o].push(t)}));for(var i=0,o=e.graph().nodeRankFactor||0,a=0;a<r.length;a++){var s=r[a];void 0===s&&a%o!==0?--i:i&&(null===s||void 0===s||s.forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=i})))}};t.removeEmptyRanks=g;var v=function(e,t,n,r){var o={width:0,height:0};return(0,i.isNumber)(n)&&(0,i.isNumber)(r)&&(o.rank=n,o.order=r),a(e,"border",o,t)};t.addBorderNode=v;var m=function(e){var t=e.nodes().map((function(t){var n=e.node(t).rank;return void 0!==n?n:-1/0}));return Math.max.apply(Math,t)};t.maxRank=m;var y=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach((function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n};t.partition=y;var b=function(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}};t.time=b;var x=function(e,t){return t()};t.notime=x;var w=function(e,t){var n,r=1/0;return null===e||void 0===e||e.forEach((function(e){var i=t(e);r>i&&(r=i,n=e)})),n};t.minBy=w,t.default={addDummyNode:a,simplify:s,asNonCompoundGraph:u,successorWeights:c,predecessorWeights:d,intersectRect:f,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:g,addBorderNode:v,maxRank:m,partition:y,time:b,notime:x,zipObject:l,minBy:w}},47530:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(14950),s=n(99457),u=n(51784),l=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map((function(e){return i(i({},e),{collapsed:!0})})))},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;if(t){var r=e.getLayoutConfig(),i=r.graphDef,o=r.graphOption,a=r.graphSettings,u=(0,s.buildGraph)(i,o,a),l=(0,s.flatGraph)(u,!0);return this.updatePosition(l),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find((function(t){return t.id===e}));return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var i=n.find((function(e){return e.id===t}));return i?(r.unshift(t),i.parentId?e(i.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this,l=a.nodes,c=a.edges,d=a.combos,f=a.nodeSize,h=a.rankdir,p=a.align,g=a.edgesep,v=a.nodesep,m=a.ranksep,y=a.settings,b=(d||[]).reduce((function(e,t){var n=l.filter((function(e){return e.comboId===t.id})).map((function(e){return e.id})),r=(d||[]).filter((function(e){return e.parentId===t.id})).map((function(e){return e.id}));return(n.length||r.length)&&(e[t.id]=o(o([],n,!0),r,!0)),e}),{});r=f?(0,u.isArray)(f)?function(){return f}:function(){return[f,f]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var x=function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:[e.size,e.size]:[80,40]}(null===d||void 0===d?void 0:d[0]),w=x[0],E=x[1],k=null===(t=null===(e=a.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,_=(null===(n=d.find((function(e){return!e.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],S=_[0],T=_[1],C=_[2],M=_[3],A={compound:b,nodes:o([],(l||[]).map((function(e){var t=r(e),n=t[0],o=t[1];return i(i({},e),{width:n,height:o})})),!0),edges:o([],(c||[]).map((function(e){return i(i({},e),{v:e.source,w:e.target})})),!0)},I={expanded:(d||[]).filter((function(e){return!e.collapsed})).map((function(e){return e.id}))},O={graph:{meta:{align:p,rankDir:h,nodeSep:v,edgeSep:g,rankSep:m}},subScene:{meta:{paddingTop:S||(null===k||void 0===k?void 0:k.paddingTop)||20,paddingRight:T||(null===k||void 0===k?void 0:k.paddingRight)||20,paddingBottom:C||(null===k||void 0===k?void 0:k.paddingBottom)||20,paddingLeft:M||(null===k||void 0===k?void 0:k.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:w,height:E}}},N=(0,s.mergeConfig)(y,i({},(0,s.mergeConfig)(O,s.LAYOUT_CONFIG)));return a.graphSettings=N,{graphDef:A,graphOption:I,graphSettings:N}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;e.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)})),t.forEach((function(e){e.points.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)}))})),r[0]=n[0]-i,r[1]=n[1]-o}return r},t.prototype.updateNodePosition=function(e,t){var n=this,r=n.combos,i=n.nodes,o=n.edges,a=n.anchorPoint,u=n.graphSettings,l=this.getBegin(e,t);e.forEach((function(e){var n,c=e.x,d=e.y,f=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&f!==s.ROOT_NAME){var g=r.findIndex((function(e){return e.id===f})),v=null===(n=null===u||void 0===u?void 0:u.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=c+l[0],r[g].offsetY=d+l[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],e.expanded?r[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:r[g].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){g=i.findIndex((function(e){return e.id===f}));if(i[g].x=c+l[0],i[g].y=d+l[1],a){var m=[],y=t.filter((function(e){return e.v===f})),b=t.filter((function(e){return e.w===f}));y.length>0&&y.forEach((function(t){var n=t.points[0],r=(n.x-c)/e.width+.5,i=(n.y-d)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.sourceAnchor=m.length-1)}))})),b.length>0&&b.forEach((function(t){var n=t.points[t.points.length-1],r=(n.x-c)/e.width+.5,i=(n.y-d)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.targetAnchor=m.length-1)}))})),i[g].anchorPoints=m.length>0?m:i[g].anchorPoints||[]}}}))},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,l=this.getBegin(e,t);u&&(r.forEach((function(e){e.inEdges=[],e.outEdges=[]})),a.forEach((function(t){var a,u,c,d,f=e.find((function(e){return e.id===t.source})),h=e.find((function(e){return e.id===t.target})),p=[],g=[];if(f&&h)g=(0,s.getEdges)(null===f||void 0===f?void 0:f.id,null===h||void 0===h?void 0:h.id,e);else if(!f||!h){var v=n.getNodePath(t.source),m=n.getNodePath(t.target),y=v.reverse().slice(f?0:1).find((function(t){return e.find((function(e){return e.id===t}))})),b=m.reverse().slice(h?0:1).find((function(t){return e.find((function(e){return e.id===t}))}));f=e.find((function(e){return e.id===y})),h=e.find((function(e){return e.id===b})),g=(0,s.getEdges)(null===f||void 0===f?void 0:f.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=g.reduce((function(e,t){return o(o([],e,!0),t.points.map((function(e){return i(i({},e),{x:e.x+l[0],y:e.y+l[1]})})),!0)}),[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}));if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some((function(e){return e.source===f.id&&e.target===h.id}))))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:f.id,target:h.id,controlPoints:p})}if((null===f||void 0===f?void 0:f.type)===s.NodeType.META){x=r.findIndex((function(e){return e.id===(null===f||void 0===f?void 0:f.id)}));if(!r[x]||(null===(c=r[x].outEdges)||void 0===c?void 0:c.some((function(e){return e.source===f.id&&e.target===h.id}))))return;null===(d=r[x].outEdges)||void 0===d||d.push({source:f.id,target:h.id,controlPoints:p})}})))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every((function(e){return void 0!==e.layoutOrder}))||e.forEach((function(e,t){e.layoutOrder=t})),e.sort((function(e,t){return e.layoutOrder-t.layoutOrder}))},t}(a.Base);t.DagreCompoundLayout=l},59150:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(8878)),l=s(n(9523)),c=s(n(93529)),d=n(71893);t.default=function(e,t){var n=e.nodes,i=e.edges,o=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(e){if(i.filter((function(t){return t.source===e.id||t.target===e.id})).length>1){var t=r({},e);delete t.size,s.push(t)}}));var f=[];i.forEach((function(e){var t=s.find((function(t){return t.id===e.source})),n=s.find((function(t){return t.id===e.target}));t&&n&&f.push(e)}));var h=new d.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:f}).nodes;n.forEach((function(e){var t=(h||[]).find((function(t){return t.id===e.id}));e.x=(null===t||void 0===t?void 0:t.x)||o/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id((function(e){return e.id})).distance((function(e){return f.find((function(t){return t.source===e.source&&t.target===e.target}))?30:20}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(e){v.on("end",(function(){n.forEach((function(e){var t=p.find((function(t){return t.id===e.id}));t&&(e.x=t.x,e.y=t.y)}));var r=Math.min.apply(Math,n.map((function(e){return e.x}))),s=Math.max.apply(Math,n.map((function(e){return e.x}))),u=Math.min.apply(Math,n.map((function(e){return e.y}))),d=Math.max.apply(Math,n.map((function(e){return e.y}))),f=o/(s-r),h=a/(d-u);n.forEach((function(e){void 0!==e.x&&f<1&&(e.x=(e.x-r)*f),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)})),n.forEach((function(e){e.sizeTemp=e.size,e.size=[10,10]})),(0,c.default)(n,i),n.forEach((function(e){e.size=e.sizeTemp||[],delete e.sizeTemp})),(0,l.default)({nodes:n,edges:i},t),e()}))}))}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(18048));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,o=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach((function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)}));var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach((function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)}));for(var l=0;l<e.nodes.length;l++){var c=e.nodes[l],d=u.findGridByNodeId(c.id);if(!d)throw new Error("can not find node cell");var f=d.column,h=d.row;if(c.size[0]+o>a){for(var p=v=Math.ceil((c.size[0]+o)/a)-1,g=0;g<v;g++){if(!(u.additionColumn.indexOf(f+g+1)>-1)||u.cells[f+g+1][h].node)break;p--}u.insertColumn(f,p)}if(c.size[1]+o>s){var v;for(p=v=Math.ceil((c.size[1]+o)/s)-1,g=0;g<v;g++){if(!(u.additionRow.indexOf(h+g+1)>-1)||u.cells[f][h+g+1].node)break;p--}u.insertRow(h,p)}}for(l=0;l<u.columnNum;l++){var m=function(t){var n=u.cells[l][t];if(n.node){var r=e.nodes.find((function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)m(g)}}},18048:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>e;r--)for(i=0;i<this.rowNum;i++)this.cells[r+t][i]=n(n({},this.cells[r][i]),{x:(r+t)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=e&&(this.additionColumn[i]+=t);for(r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>e;r--)this.cells[i][r+t]=n(n({},this.cells[i][r]),{dx:i,dy:r+t,x:i*this.CELL_W,y:(r+t)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(i=0;i<t;i++)this.additionRow.push(e+i+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=r},68698:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var o=n(14950),a=i(n(59150)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach((function(e){e.size||(e.size=[50,50])})),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.getType=function(){return"er"},t}(o.Base);t.ERLayout=s},93529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=1e7,r=1.5707963267948966,i=new Map,o=.8;function a(e,t){var o=(i.get(e.id)||[]).find((function(e){return e.source===t.id||e.target===t.id})),a=e.size[0]*e.size[1],s=t.size[0]*t.size[1],u=a>s?t:e,l=a>s?e:t,c=u.x-u.size[0]/2,d=u.y-u.size[1]/2,f=u.x+u.size[0]/2,h=u.y+u.size[1]/2,p=l.x-l.size[0]/2,g=l.y-l.size[1]/2,v=l.x+l.size[0]/2,m=l.y+l.size[1]/2,y=u.x,b=u.y,x=l.x,w=l.y,E=0,k=0;if(f>=p&&v>=c&&h>=g&&m>=d){0===(k=Math.sqrt(Math.pow(x-y,2)+Math.pow(w-b,2)))&&(k=1e-7),E=10/k*100+((f<v?f:v)-(c>p?c:p))*((h<m?h:m)-(d>g?d:g)),E*=n}else{var _=!1,S=function(e,t,n){var i=e.x-e.size[0]/2,o=e.y-e.size[1]/2,a=e.x+e.size[0]/2,s=e.y+e.size[1]/2,u=t.x-t.size[0]/2,l=t.y-t.size[1]/2,c=t.x+t.size[0]/2,d=t.y+t.size[1]/2,f=e.x,h=e.y,p=t.x,g=t.y,v=p-f,m=Math.atan2(v,g-h),y=0,b=0,x=0,w=0;m>r?(b=o-d,y=u-a,x=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),w=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):x=w=0<m&&m<=r?(b=l-s)>(y=u-a)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):m<-r?(b=o-d)>(y=-(c-i))?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):(b=l-s)>(y=Math.abs(v)>(a-i)/2?i-c:v)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y&&0!==m?(y/Math.sin(m)).toFixed(2):b.toFixed(2));var E=parseFloat(m.toFixed(2)),k=n;return n&&(k=1.1780972450961724<E&&E<1.9634954084936207),{distance:Math.abs(x<w?x:w),isHoriz:k}}(u,l,_);k=S.distance,_=S.isHoriz,k<=10?E+=0!==k?o?10+1e7/k:10+1e8/k:n:(E+=k,o&&(E+=k*k))}return E}function s(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];(r.x<0||r.y<0||r.x>1200||r.y>800)&&(t+=1e12);for(var i=n+1;i<e.length;i++)t+=a(r,e[i])}return t}function u(e,t,n,r){var i=new Map;n.forEach((function(e,t){i.set(e.id,e)}));var o=r.filter((function(t){return t.source===e.id||t.target===e.id}))||[],a=[];o.forEach((function(t){var n=t.source===e.id?t.target:t.source,r=i.get(n);r&&a.push(r)}));for(var s=!0,u=0;u<a.length;u++){var l=a[u],c=180*Math.atan((e.y-l.y)/(l.x-e.y)),d=180*Math.atan((t.y-l.y)/(l.x-t.y)),f=c>70&&c<110,h=d>70&&d<110;if((c<30||c>150)&&!(d<30||d>150)||c*d<0){s=!1;break}if(f&&!h||c*d<0){s=!1;break}if((l.x-e.x)*(l.x-t.x)<0){s=!1;break}if((l.y-e.y)*(l.y-t.y)<0){s=!1;break}}return s}function l(e,t){for(var n=!1,r=[10,-10,0,0],i=[0,0,10,-10],a=0;a<e.length;++a)for(var l=e[a],d=c(l,e),f=0;f<r.length;f++){if(u(l,{x:l.x+r[f],y:l.y+i[f]},e,t)){l.x+=r[f],l.y+=i[f];var h=c(l,e),p=Math.random();h<d||p<o&&p>.1?(d=h,n=!0):(l.x-=r[f],l.y-=i[f])}}return o>.1&&(o*=.5),n?s(e):0}function c(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>1200||e.y+e.size[1]+20>800)&&(n+=1e12);for(var r=0;r<t.length;++r)e.id!==t[r].id&&(n+=a(e,t[r]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach((function(e){var n=t.filter((function(t){return t.source===e.id||t.target===e.id}));i.set(e,n)})),e.sort((function(e,t){var n,r;return(null===(n=i.get(e.id))||void 0===n?void 0:n.length)-(null===(r=i.get(t.id))||void 0===r?void 0:r.length)}));for(var n=s(e),r=20,o=1,a=0,u=0;r>0&&!(++u>=50);){var c=l(e,t);0!==c&&(a=c),o=a-n,n=a,0===o?--r:r=20}return e.forEach((function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2})),{nodes:e,edges:t}}},99662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(8878)),s=n(51784);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),i=e(-1),o=e(100),u=e(.1),l=[0,0],c=[],d={},f=[],h=100,p=100,g={none:{x:0,y:0}},v=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),E();for(var r=0,i=c.length,o=void 0,a=e*b;r<i;++r)(o=c[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function w(){c&&function(){if(!c||!c.length)return;if(void 0===n(c[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],i={},o={},a=[];return o=function(e){var t={};return e.forEach((function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})})),e.forEach((function(e){var i=n(e),o=r(e),a=t[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,t[i]=a})),t}(c),a=function(e){var t={},r=[];return e.forEach((function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=n(d[t]),o=n(d[r]);return i<=o?i+"~"+o:o+"~"+i}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i})),Object.entries(t).forEach((function(e){var t=e[0],n=e[1],i=t.split("~")[0],o=t.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})})),r}(f),Object.keys(o).forEach((function(t,n){var r=o[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),i[t]=n})),a.forEach((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=i[n],a=i[r];void 0!==o&&void 0!==a&&t.push({source:o,target:a,count:e.count})})),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(e){return e.r})).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(o).strength(u)),v=t.nodes(),E()}()}function E(){return g={none:{x:0,y:0}},v.forEach((function(e){g[e.id]={x:e.x-l[0],y:e.y-l[1]}})),g}function k(e){d={},e.forEach((function(e){d[e.id]=e}))}return x.initialize=function(e){c=e,w()},x.template=function(e){return arguments.length?(m=e,w(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(k(e||[]),c=e||[],x):c},x.links=function(e){return arguments.length?(f=e||[],w(),x):f},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),w(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),w(),x):i},x.forceLinkDistance=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),w(),x):o},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.offset=function(e){return arguments.length?(l=e,x):l},x.getFocis=E,x}},39902:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(8878)),l=s(n(99662)),c=n(51784),d=n(14950),f=n(73023),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){var t=this;t.nodes=e.nodes||[];var n=e.edges||[];t.edges=n.map((function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach((function(r){n.indexOf(r)>-1||(t[r]=e[r])})),t})),t.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var i=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(i){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),i.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}t.preventOverlap&&t.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var c=u.forceManyBody();if(t.nodeStrength&&c.strength(t.nodeStrength),i=u.forceSimulation().nodes(n),t.clustering){var d=(0,l.default)();d.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&d.links(r),n&&d.nodes(n),d.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=d,i.force("group",d)}if(i.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",c).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(i),r){var h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){i.stop();for(var g=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),i=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(i)}(i),v=1;v<=g;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:g,type:f.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else i.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=i,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this,i=r.nodeSize,o=r.nodeSpacing,a=r.collideStrength;if(n=(0,c.isNumber)(o)?function(){return o}:(0,c.isFunction)(o)?o:function(){return 0},i)if((0,c.isFunction)(i))t=function(e){return i(e)+n(e)};else if((0,c.isArray)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;t=function(e){return s+n(e)}}else if((0,c.isNumber)(i)){var l=i/2;t=function(e){return l+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,c.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,c.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(a))},t.prototype.updateCfg=function(e){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)},t.prototype.destroy=function(){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0},t}(d.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},2283:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(39902),t)},57941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=n},63299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var o=n(14950),a=n(51784),s=i(n(57941)),u=i(n(9171)),l=i(n(80612)),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.onLayoutEnd,r=e.prune,i=e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);for(var o=[],s=t.length,u=0;u<s;u+=1){var l=t[u],c=10,d=10;(0,a.isNumber)(l.size)&&(c=l.size,d=l.size),(0,a.isArray)(l.size)?(isNaN(l.size[0])||(c=l.size[0]),isNaN(l.size[1])||(d=l.size[1])):(0,a.isObject)(l.size)&&(c=l.size.width,d=l.size.height),e.getWidth&&!isNaN(e.getWidth(l))&&(d=e.getWidth(l)),e.getHeight&&!isNaN(e.getHeight(l))&&(c=e.getHeight(l));var f=Math.max(c,d);o.push(f)}void 0===e.barnesHut&&s>250&&(e.barnesHut=!0),void 0===e.prune&&s>100&&(e.prune=!0),0!==this.maxIteration||e.prune?0===this.maxIteration&&r&&(i=100,s<=200&&s>100?i=500:s>200&&(i=950),this.maxIteration=i):(i=250,s<=200&&s>100?i=1e3:s>200&&(i=1200),this.maxIteration=i),e.kr||(e.kr=50,s>100&&s<=500?e.kr=20:s>500&&(e.kr=1)),e.kg||(e.kg=20,s>100&&s<=500?e.kg=10:s>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(o),n()},t.prototype.updateNodesByForces=function(e){for(var t=this,n=t.edges,r=t.maxIteration,i=t.nodes,o=n.filter((function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")})),s=i.length,u=o.length,l=[],c={},d={},f=[],h=0;h<s;h+=1)c[i[h].id]=h,l[h]=0,(void 0===i[h].x||isNaN(i[h].x))&&(i[h].x=1e3*Math.random()),(void 0===i[h].y||isNaN(i[h].y))&&(i[h].y=1e3*Math.random()),f.push({x:i[h].x,y:i[h].y});for(h=0;h<u;h+=1){for(var p=void 0,g=void 0,v=0,m=0,y=0;y<s;y+=1){var b=(0,a.getEdgeTerminal)(o[h],"source"),x=(0,a.getEdgeTerminal)(o[h],"target");i[y].id===b?(p=i[y],v=y):i[y].id===x&&(g=i[y],m=y),d[h]={sourceIdx:v,targetIdx:m}}p&&(l[c[p.id]]+=1),g&&(l[c[g.id]]+=1)}var w=r;if(i=this.iterate(w,c,d,u,l,e),t.prune){for(y=0;y<u;y+=1)l[d[y].sourceIdx]<=1?(i[d[y].sourceIdx].x=i[d[y].targetIdx].x,i[d[y].sourceIdx].y=i[d[y].targetIdx].y):l[d[y].targetIdx]<=1&&(i[d[y].targetIdx].x=i[d[y].sourceIdx].x,i[d[y].targetIdx].y=i[d[y].sourceIdx].y);t.prune=!1,t.barnesHut=!1,w=100,i=this.iterate(w,c,d,u,l,e)}return i},t.prototype.iterate=function(e,t,n,r,i,o){for(var a=this,u=a.nodes,l=a.kr,c=a.preventOverlap,d=a.barnesHut,f=u.length,h=0,p=e,g=[],v=[],m=[],y=0;y<f;y+=1)if(g[2*y]=0,g[2*y+1]=0,d){var b={id:y,rx:u[y].x,ry:u[y].y,mass:1,g:l,degree:i[y]};m[y]=new s.default(b)}for(;p>0;){for(y=0;y<f;y+=1)v[2*y]=g[2*y],v[2*y+1]=g[2*y+1],g[2*y]=0,g[2*y+1]=0;g=this.getAttrForces(p,50,r,t,n,i,o,g),g=d&&(c&&p>50||!c)?this.getOptRepGraForces(g,m,i):this.getRepGraForces(p,50,g,100,o,i);var x=this.updatePos(g,v,h,i);u=x.nodes,h=x.sg,p--,a.tick&&a.tick()}return u},t.prototype.getAttrForces=function(e,t,n,r,i,o,a,s){for(var u=this,l=u.nodes,c=u.preventOverlap,d=u.dissuadeHubs,f=u.mode,h=u.prune,p=0;p<n;p+=1){var g=l[i[p].sourceIdx],v=i[p].sourceIdx,m=l[i[p].targetIdx],y=i[p].targetIdx;if(!h||!(o[v]<=1||o[y]<=1)){var b=[m.x-g.x,m.y-g.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,c&&e<t&&(x=x-a[v]-a[y]);var w=x,E=w;"linlog"===f&&(E=w=Math.log(1+x)),d&&(w=x/o[v],E=x/o[y]),c&&e<t&&x<=0?(w=0,E=0):c&&e<t&&x>0&&(w=x,E=x),s[2*r[g.id]]+=w*b[0],s[2*r[m.id]]-=E*b[0],s[2*r[g.id]+1]+=w*b[1],s[2*r[m.id]+1]-=E*b[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,i,o){for(var a=this,s=a.nodes,u=a.preventOverlap,l=a.kr,c=a.kg,d=a.center,f=a.prune,h=s.length,p=0;p<h;p+=1){for(var g=p+1;g<h;g+=1)if(!f||!(o[p]<=1||o[g]<=1)){var v=[s[g].x-s[p].x,s[g].y-s[p].y],m=Math.hypot(v[0],v[1]);m=m<1e-4?1e-4:m,v[0]=v[0]/m,v[1]=v[1]/m,u&&e<t&&(m=m-i[p]-i[g]);var y=l*(o[p]+1)*(o[g]+1)/m;u&&e<t&&m<0?y=r*(o[p]+1)*(o[g]+1):u&&e<t&&0===m?y=0:u&&e<t&&m>0&&(y=l*(o[p]+1)*(o[g]+1)/m),n[2*p]-=y*v[0],n[2*g]+=y*v[0],n[2*p+1]-=y*v[1],n[2*g+1]+=y*v[1]}var b=[s[p].x-d[0],s[p].y-d[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var w=c*(o[p]+1);n[2*p]-=w*b[0],n[2*p+1]-=w*b[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this,i=r.nodes,o=r.kg,a=r.center,s=r.prune,c=i.length,d=9e10,f=-9e10,h=9e10,p=-9e10,g=0;g<c;g+=1)s&&n[g]<=1||(t[g].setPos(i[g].x,i[g].y),i[g].x>=f&&(f=i[g].x),i[g].x<=d&&(d=i[g].x),i[g].y>=p&&(p=i[g].y),i[g].y<=h&&(h=i[g].y));var v={xmid:(f+d)/2,ymid:(p+h)/2,length:Math.max(f-d,p-h),massCenter:a,mass:c},m=new u.default(v),y=new l.default(m);for(g=0;g<c;g+=1)s&&n[g]<=1||t[g].in(m)&&y.insert(t[g]);for(g=0;g<c;g+=1)if(!(s&&n[g]<=1)){t[g].resetForce(),y.updateForce(t[g]),e[2*g]-=t[g].fx,e[2*g+1]-=t[g].fy;var b=[i[g].x-a[0],i[g].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var w=o*(n[g]+1);e[2*g]-=w*b[0],e[2*g+1]-=w*b[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var i=this,o=i.nodes,a=i.ks,s=i.tao,u=i.prune,l=i.ksmax,c=o.length,d=[],f=[],h=0,p=0,g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var v=[e[2*g]-t[2*g],e[2*g+1]-t[2*g+1]],m=Math.hypot(v[0],v[1]),y=[e[2*g]+t[2*g],e[2*g+1]+t[2*g+1]],b=Math.hypot(y[0],y[1]);d[g]=m,f[g]=b/2,h+=(r[g]+1)*d[g],p+=(r[g]+1)*f[g]}var x=n;n=s*p/h,0!==x&&(n=n>1.5*x?1.5*x:n);for(g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var w=a*n/(1+n*Math.sqrt(d[g])),E=Math.hypot(e[2*g],e[2*g+1]),k=l/(E=E<1e-4?1e-4:E),_=(w=w>k?k:w)*e[2*g],S=w*e[2*g+1];o[g].x+=_,o[g].y+=S}return{nodes:o,sg:n}},t}(o.Base);t.ForceAtlas2Layout=c},9171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=n},80612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=n},54328:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var i=n(14950),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var a=r.center;if(1===i.length)return i[0].x=a[0],i[0].y=a[1],void(null===(t=r.onLayoutEnd)||void 0===t||t.call(r));var s={},u={};return i.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),r.nodeMap=s,r.nodeIdxMap=u,r.run()}null===(e=r.onLayoutEnd)||void 0===e||e.call(r)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,i=t.maxIteration,o=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach((function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})})),o||!s){for(var l=0;l<i;l++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var e;t.runOneStep(u),++c>=i&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))}),0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes;if(r){var i=n.edges,a=n.center,s=n.gravity,u=n.speed,l=n.clustering,c=n.height*n.width,d=Math.sqrt(c)/10,f=c/(r.length+1),h=Math.sqrt(f),p=[];if(r.forEach((function(e,t){p[t]={x:0,y:0}})),n.applyCalculate(r,i,p,h,f),l){for(var g in e)e[g].cx=0,e[g].cy=0,e[g].count=0;for(var g in r.forEach((function(t){var n=e[t.cluster];(0,o.isNumber)(t.x)&&(n.cx+=t.x),(0,o.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[g].cx/=e[g].count,e[g].cy/=e[g].count;var v=n.clusterGravity||s;r.forEach((function(t,n){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var r=e[t.cluster],i=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=h*v;p[n].x-=a*(t.x-r.cx)/i,p[n].y-=a*(t.y-r.cy)/i}}))}r.forEach((function(e,t){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=.01*h*s;p[t].x-=n*(e.x-a[0]),p[t].y-=n*(e.y-a[1])}})),r.forEach((function(e,t){if((0,o.isNumber)(e.fx)&&(0,o.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=Math.sqrt(p[t].x*p[t].x+p[t].y*p[t].y);if(n>0){var r=Math.min(d*(u/800),n);e.x+=p[t].x/n*r,e.y+=p[t].y/n*r}}})),null===(t=n.tick)||void 0===t||t.call(n)}},t.prototype.applyCalculate=function(e,t,n,r,i){this.calRepulsive(e,n,i),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach((function(r,i){t[i]={x:0,y:0},e.forEach((function(e,a){if(i!==a&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(e.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,l=s*s+u*u;if(0===l){l=1;var c=i>a?1:-1;s=.01*c,u=.01*c}var d=n/l;t[i].x+=s*d,t[i].y+=u*d}}))}))},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach((function(e){var i=(0,o.getEdgeTerminal)(e,"source"),a=(0,o.getEdgeTerminal)(e,"target");if(i&&a){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[a];if(s!==u){var l=r.nodeMap[i],c=r.nodeMap[a];if((0,o.isNumber)(c.x)&&(0,o.isNumber)(l.x)&&(0,o.isNumber)(c.y)&&(0,o.isNumber)(l.y)){var d=c.x-l.x,f=c.y-l.y,h=Math.sqrt(d*d+f*f),p=h*h/n;t[u].x-=d/h*p,t[u].y-=f/h*p,t[s].x+=d/h*p,t[s].y+=f/h*p}}}}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(i.Base);t.FruchtermanLayout=a},14461:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var i=n(14950),o=n(51784),a=function(e,t){return e?(0,o.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var l,c=n.nodeSize;if(n.preventOverlap){var d,f=n.nodeSpacing;d=(0,o.isNumber)(f)?function(){return f}:(0,o.isFunction)(f)?f:function(){return 0},l=c?(0,o.isArray)(c)?function(e){return Math.max(c[0],c[1])+d(e)}:function(e){return c+d(e)}:function(e){return e.size?(0,o.isArray)(e.size)?Math.max(e.size[0],e.size[1])+d(e):(0,o.isObject)(e.size)?Math.max(e.size.width,e.size.height)+d(e):e.size+d(e):10+d(e)}}n.nodeSize=l;var h=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,i=t.workerEnabled,o=t.minMovement,a=t.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,o))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var e,i;if(r){var a=t.runOneStep(l)||[];t.reachMoveThreshold(r,a,o)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++l>=n&&(null===(i=t.onLayoutEnd)||void 0===i||i.call(t),window.clearInterval(t.timeInterval))}}),0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach((function(e,n){var i=e.x-t[n].x,o=e.y-t[n].y;r+=Math.sqrt(i*i+o*o)})),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes,i=n.edges,o=[],a=[];if(r){r.forEach((function(e,t){o[2*t]=0,o[2*t+1]=0,a[2*t]=0,a[2*t+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var s=Math.max(.02,n.interval-.002*e);n.updateVelocity(o,a,s,r);var u=[];return r.forEach((function(e){u.push({x:e.x,y:e.y})})),n.updatePosition(a,s,r),null===(t=n.tick)||void 0===t||t.call(n),u}},t.prototype.calRepulsive=function(e,t){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,u=void 0===s?1:s,l=n.nodeStrength,c=n.nodeSize;t.forEach((function(n,s){var d=r?r(n):1;t.forEach((function(t,f){if(!(s>=f)){var h=n.x-t.x,p=n.y-t.y;0===h&&0===p&&(h=.01*Math.random(),p=.01*Math.random());var g=h*h+p*p,v=Math.sqrt(g),m=(v+.1)*o,y=h/v,b=p/v,x=.5*(l(n)+l(t))*i/(m*m),w=r?r(t):1;if(e[2*s]+=y*x,e[2*s+1]+=b*x,e[2*f]-=y*x,e[2*f+1]-=b*x,a&&(c(n)+c(t))/2>v){var E=u*(l(n)+l(t))*.5/g;e[2*s]+=y*E/d,e[2*s+1]+=b*E/d,e[2*f]-=y*E/w,e[2*f+1]-=b*E/w}}}))}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.nodeMap,i=n.nodeIdxMap,a=n.linkDistance,s=n.edgeStrength,u=n.nodeSize,l=n.getMass;t.forEach((function(t,n){var c=(0,o.getEdgeTerminal)(t,"source"),d=(0,o.getEdgeTerminal)(t,"target"),f=r[c],h=r[d],p=h.x-f.x,g=h.y-f.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var v=Math.sqrt(p*p+g*g),m=p/v,y=g/v,b=((a(t,f,h)||1+(u(f)+u(f)||0)/2)-v)*s(t),x=i[c],w=i[d],E=l?l(f):1,k=l?l(h):1;e[2*x]-=m*b/E,e[2*x+1]-=y*b/E,e[2*w]+=m*b/k,e[2*w+1]+=y*b/k}))},t.prototype.calGravity=function(e,t){for(var n=this,r=n.center,i=n.gravity,a=n.degrees,s=t.length,u=0;u<s;u++){var l=t[u],c=l.x-r[0],d=l.y-r[1],f=i;if(n.getCenter){var h=n.getCenter(l,a[u]);h&&(0,o.isNumber)(h[0])&&(0,o.isNumber)(h[1])&&(0,o.isNumber)(h[2])&&(c=l.x-h[0],d=l.y-h[1],f=h[2])}f&&(e[2*u]-=f*c,e[2*u+1]-=f*d)}},t.prototype.updateVelocity=function(e,t,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var a=e[2*r]*o||.01,s=e[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var l=i.maxSpeed/u;a*=l,s*=l}t[2*r]=a,t[2*r+1]=s}))},t.prototype.updatePosition=function(e,t,n){n.forEach((function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=e[2*r]*t,a=e[2*r+1]*t;n.x+=i,n.y+=a}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(i.Base);t.GForceLayout=s},28584:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(14950),s=n(51784),u=n(72288),l=n(7471),c=n(97446),d=n(73023),f=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,i[e.id]=t})),e.nodeMap=r,e.nodeIdxMap=i,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,u,l=this;return o(this,(function(o){switch(o.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(a={},u={},r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*l.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*l.height),a[e.id]=e,u[e.id]=t})),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return o.sent(),[2]}}))}))},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,f,h,p,g,v,m,y,b,x,w,E,k,_,S,T,C,M,A,I,O,N,P,D,R=this;return o(this,(function(L){switch(L.label){case 0:for(r=(n=this).nodes,a=n.edges,f=n.maxIteration,h=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),m=Math.sqrt(v),y=n.speed,b=n.clustering,x=(0,l.attributesToTextureData)([n.clusterField],r),w=x.array,E=x.count,r.forEach((function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),w[4*t+1]=n,w[4*t+2]=r})),k=r.length,_=(0,l.buildTextureData)(r,a),S=_.maxEdgePerVetex,T=_.array,C=n.workerEnabled,M=C?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),A=n.onLayoutEnd,I=[],O=0;O<E;O++)I.push(0,0,0,0);return N=M.createKernel(c.fruchtermanBundle).setDispatch([k,1,1]).setBinding({u_Data:T,u_K:m,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:w,u_ClusterCenters:I,MAX_EDGE_PER_VERTEX:S,VERTEX_COUNT:k}),b&&(P=M.createKernel(c.clusterBundle).setDispatch([E,1,1]).setBinding({u_Data:T,u_NodeAttributes:w,u_ClusterCenters:I,VERTEX_COUNT:k,CLUSTER_COUNT:E})),D=function(){return i(R,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<f?[4,N.execute()]:[3,6];case 2:return o.sent(),b?(P.setBinding({u_Data:N}),[4,P.execute()]):[3,4];case 3:o.sent(),N.setBinding({u_ClusterCenters:P}),o.label=4;case 4:N.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,N.getOutput()];case 7:return i=o.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(e,t){var n=i[4*t],r=i[4*t+1];e.x=n,e.y=r})),A&&A(),[2]}}))}))},[4,D()];case 1:return L.sent(),[2]}}))}))},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=f},97446:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},97042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(14950),s=n(51784),u=n(72288),l=n(7471),c=n(40930),d=n(35193),f=n(73023),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,i[t.id]=n})),e.nodeMap=r,e.nodeIdxMap=i,e.nodeStrength=(0,l.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,l.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),o[e.id]=e,a[e.id]=t})),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,l.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,h,p,g,v,m,y,b,x,w,E,k,_,S,T,C,M,A,I,O,N,P,D,R,L,j=this;return o(this,(function(F){switch(F.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,l.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength),g=(0,l.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,m=g.array,n.degrees=(0,c.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],w=[],E=[],k=[],_=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),S=n.gravity,T=n.center,r.forEach((function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[T[0],T[1],S];if(n.getCenter){var i=n.getCenter(e,n.degrees[t]);i&&(0,s.isNumber)(i[0])&&(0,s.isNumber)(i[1])&&(0,s.isNumber)(i[2])&&(r=i)}x.push(r[0]),w.push(r[1]),E.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(k.push(e.fx||.001),_.push(e.fy||.001)):(k.push(0),_.push(0))})),C=(0,l.arrayToTextureData)([y,n.degrees,b,k]),M=(0,l.arrayToTextureData)([x,w,E,_]),A=n.workerEnabled,I=A?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),O=n.onLayoutEnd,N=[],m.forEach((function(e){N.push(e)})),P=0;P<4;P++)N.push(0);return D=I.createKernel(d.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:C,u_NodeAttributeArray2:M,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:N,u_interval:n.interval}),R=I.createKernel(d.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),L=function(){return i(j,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<h?[4,D.execute()]:[3,5];case 2:return o.sent(),R.setBinding({u_Data:D}),[4,R.execute()];case 3:o.sent(),a=Math.max(.02,n.interval-.002*i),D.setBinding({u_interval:a,u_AveMovement:R}),o.label=4;case 4:return i++,[3,1];case 5:return[4,D.getOutput()];case 6:return s=o.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach((function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r})),O&&O(),[2]}}))}))},[4,L()];case 1:return F.sent(),[2]}}))}))},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},35193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},68609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var i=n(51784),o=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,o=t.length;if(0===o)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===o)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,l=e.condense,c=e.preventOverlapPadding,d=e.preventOverlap,f=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach((function(e){p.push(e)}));var g={};if(p.forEach((function(e,t){g[e.id]=t})),("degree"===a||!(0,i.isString)(a)||void 0===p[0][a])&&(a="degree",(0,i.isNaN)(t[0].degree))){var v=(0,i.getDegree)(p.length,g,n);p.forEach((function(e,t){e.degree=v[t]}))}p.sort((function(e,t){return t[a]-e[a]})),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=o,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,l&&(e.cellWidth=0,e.cellHeight=0),d||f){var w=(0,i.getFuncByUnknownType)(10,f),E=(0,i.getFuncByUnknownType)(30,h,!1);p.forEach((function(t){t.x&&t.y||(t.x=0,t.y=0);var n=E(t),r=n[0],i=void 0===r?30:r,o=n[1],a=void 0===o?30:o,s=void 0!==w?w(t):c,u=i+s,l=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,l)}))}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var k=0;k<p.length;k++){var _=p[k],S=void 0;if(e.position&&(S=e.position(_)),S&&(void 0!==S.row||void 0!==S.col)){var T={row:S.row,col:S.col};if(void 0===T.col)for(T.col=0;e.used(T.row,T.col);)T.col++;else if(void 0===T.row)for(T.row=0;e.used(T.row,T.col);)T.row++;e.id2manPos[_.id]=T,e.use(T.row,T.col)}e.getPos(_)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.large=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-"+e+"-"+t]||!1},t.prototype.use=function(e,t){this.cellUsed["c-"+e+"-"+t]=!0},t.prototype.moveToNextCell=function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},t.prototype.getPos=function(e){var t,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(14950).Base);t.GridLayout=o},6929:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var o=n(68609);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n(51831);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(14461);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(2283);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var l=n(82893);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return l.CircularLayout}});var c=n(71893);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return c.DagreLayout}});var d=n(47530);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return d.DagreCompoundLayout}});var f=n(15374);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}});var h=n(1457);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(36647);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var g=n(54328);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return g.FruchtermanLayout}});var v=n(28584);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var m=n(97042);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(7315);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(33467);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(63299);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var w=n(68698);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var E=n(74060);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return E.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return E.Layouts}}),i(n(82514),t)},74060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(18252),i=n(68609),o=n(51831),a=n(14461),s=n(2283),u=n(82893),l=n(71893),c=n(15374),d=n(1457),f=n(36647),h=n(54328),p=n(28584),g=n(97042),v=n(7315),m=n(33467),y=n(63299),b=n(68698),x=n(47530),w=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=w,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:l.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:c.RadialLayout,concentric:d.ConcentricLayout,grid:i.GridLayout,mds:f.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":g.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},36647:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var i=n(71132),o=n(51784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=void 0===n?[]:n,i=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=i[0],t[0].y=i[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.linkDistance,s=(0,o.getAdjMatrix)({nodes:t,edges:r},!1),u=(0,o.floydWarshall)(s);e.handleInfinity(u);var l=(0,o.scaleMatrix)(u,a);e.scaledDistances=l;var c=e.runMDS();return e.positions=c,c.forEach((function(e,n){t[n].x=e[0]+i[0],t[n].y=e[1]+i[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=i.Matrix.mul(i.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),o=t.mean();t.add(o).subRowVector(n).subColumnVector(r);var a=new i.SingularValueDecomposition(t),s=i.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(e){return i.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)}))},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach((function(e){e.forEach((function(e){e!==1/0&&t<e&&(t=e)}))})),e.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(e[r][i]=t)}))}))},t.prototype.getType=function(){return"mds"},t}(n(14950).Base);t.MDSLayout=a},15374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(39164),t)},96058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71132),i=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this,t=e.dimension,n=e.distances,i=e.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=o.mean("row"),s=o.mean("column"),u=o.mean();o.add(u).subRowVector(a).subColumnVector(s);var l=new r.SingularValueDecomposition(o),c=r.Matrix.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map((function(e){return r.Matrix.mul([e],[c]).toJSON()[0].splice(0,t)}))}catch(g){for(var d=[],f=0;f<n.length;f++){var h=Math.random()*i,p=Math.random()*i;d.push([h,p])}return d}},e}();t.default=i},39164:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var o=n(51784),a=n(14950),s=i(n(96058)),u=i(n(87113));function l(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var c=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var i=e.linkDistance,a=null;if((0,o.isString)(e.focusNode)){for(var l=!1,c=0;c<t.length;c++)t[c].id===e.focusNode&&(a=t[c],e.focusNode=a,l=!0,c=t.length);l||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var d=function(e,t){var n=-1;return e.forEach((function(e,r){e.id===t&&(n=r)})),n}(t,a.id);d<0&&(d=0),e.focusIndex=d;var f=(0,o.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,o.floydWarshall)(f),p=e.maxToFocus(h,d);e.handleInfinity(h,d,p+1),e.distances=h;var g=h[d],v=e.width||500,m=e.height||500,y=v-r[0]>r[0]?r[0]:v-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=v/2),0===b&&(b=m/2);var x=b>y?y:b,w=Math.max.apply(Math,g),E=[];g.forEach((function(t,n){e.unitRadius||(e.unitRadius=x/w),E[n]=t*e.unitRadius})),e.radii=E;var k=e.eIdealDisMatrix();e.eIdealDistances=k;var _=function(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)0!==e[i][a]?o.push(1/(e[i][a]*e[i][a])):o.push(0);r.push(o)}return r}(k);e.weights=_;var S=new s.default({linkDistance:i,distances:k}).layout();S.forEach((function(e){(0,o.isNaN)(e[0])&&(e[0]=Math.random()*i),(0,o.isNaN)(e[1])&&(e[1]=Math.random()*i)})),e.positions=S,S.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),S.forEach((function(e){e[0]-=S[d][0],e[1]-=S[d][1]})),e.run();var T,C=e.preventOverlap,M=e.nodeSize,A=e.strictRadial;if(C){var I,O=e.nodeSpacing;I=(0,o.isNumber)(O)?function(){return O}:(0,o.isFunction)(O)?O:function(){return 0},T=M?(0,o.isArray)(M)?function(e){return(M[0]>M[1]?M[0]:M[1])+I(e)}:function(e){return M+I(e)}:function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+I(e):(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+I(e):e.size+I(e):10+I(e)};var N={nodes:t,nodeSizeFunc:T,adjMatrix:f,positions:S,radii:E,height:m,width:v,strictRadial:A,focusID:d,iterations:e.maxPreventOverlapIteration||200,k:S.length/4.5},P=new u.default(N);S=P.layout()}return S.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this,t=e.maxIteration,n=e.positions||[],r=e.weights||[],i=e.eIdealDistances||[],o=e.radii||[],a=0;a<=t;a++){var s=a/t;e.oneIteration(s,n,o,i,r)}},t.prototype.oneIteration=function(e,t,n,r,i){var o=1-e,a=this.focusIndex;t.forEach((function(s,u){var c=l(s,[0,0]),d=0===c?0:1/c;if(u!==a){var f=0,h=0,p=0;t.forEach((function(e,t){if(u!==t){var n=l(s,e),o=0===n?0:1/n,a=r[t][u];p+=i[u][t],f+=i[u][t]*(e[0]+a*(s[0]-e[0])*o),h+=i[u][t]*(e[1]+a*(s[1]-e[1])*o)}}));var g=0===n[u]?0:1/n[u];p*=o,p+=e*g*g,f*=o,f+=e*g*s[0]*d,s[0]=f/p,h*=o,h+=e*g*s[1]*d,s[1]=h/p}}))},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,i=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach((function(n,u){var l=[];n.forEach((function(n,s){if(u===s)l.push(0);else if(i[u]===i[s])if("data"===e.sortBy)l.push(n*(Math.abs(u-s)*e.sortStrength)/(i[u]/a));else if(e.sortBy){var c=t[u][e.sortBy]||0,d=t[s][e.sortBy]||0;(0,o.isString)(c)&&(c=c.charCodeAt(0)),(0,o.isString)(d)&&(d=d.charCodeAt(0)),l.push(n*(Math.abs(c-d)*e.sortStrength)/(i[u]/a))}else l.push(n*r/(i[u]/a));else{var f=(r+a)/2;l.push(n*f)}})),s.push(l)})),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(var o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(i=0;i<r;i++)if(i!==t)for(o=0;o<r;o++)if(e[i][o]===1/0){var a=Math.abs(e[t][i]-e[t][o]);a=0===a?1:a,e[i][o]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=c},87113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this,t=e.positions,n=[],r=e.iterations,i=e.width/10;e.maxDisplace=i,e.disp=n;for(var o=0;o<r;o++)t.forEach((function(e,t){n[t]={x:0,y:0}})),e.getRepulsion(),e.updatePositions();return t},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,i=e.k,o=e.radii||[];t.forEach((function(a,s){r[s]={x:0,y:0},t.forEach((function(t,u){if(s!==u&&o[s]===o[u]){var l=a[0]-t[0],c=a[1]-t[1],d=Math.sqrt(l*l+c*c);if(0===d){d=1;var f=s>u?1:-1;l=.01*f,c=.01*f}if(d<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=i*i/d;r[s].x+=l/d*h,r[s].y+=c/d*h}}}))}))},e.prototype.updatePositions=function(){var e=this,t=e.positions,n=e.disp,r=e.speed,i=e.strictRadial,o=e.focusID,a=e.maxDisplace||e.width/10;i&&n.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),s=i/a,u=-r/a,l=Math.sqrt(e.x*e.x+e.y*e.y),c=Math.acos((s*e.x+u*e.y)/l);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,u*=-1);var d=Math.cos(c)*l;e.x=s*d,e.y=u*d}));var s=e.radii;t.forEach((function(e,u){if(u!==o){var l=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(l>0&&u!==o){var c=Math.min(a*(r/800),l);if(e[0]+=n[u].x/l*c,e[1]+=n[u].y/l*c,i){var d=e[0]-t[o][0],f=e[1]-t[o][1],h=Math.sqrt(d*d+f*f);d=d/h*s[u],f=f/h*s[u],e[0]=t[o][0]+d,e[1]=t[o][1]+f}}}}))},e}();t.default=n},51831:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach((function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(14950).Base);t.RandomLayout=i},82514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18252:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(14950),o=n(51784),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name "+e+" exists already, it will be overridden"),(0,o.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,t,n),Object.keys(o).forEach((function(e){var t=o[e];i[e]=t})),r}return r(n,e),n}(i.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},74229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},63479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(51784),i=n(36162);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,i.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,o){return void 0===o&&(o=!0),n||0===n?(0,t.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(o){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},7471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(51784),i=n(40930);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],l=(0,i.getEdgeTerminal)(u,"source"),c=(0,i.getEdgeTerminal)(u,"target");r[o[l]].push(o[c]),r[o[c]].push(o[l])}var d=0;for(a=0;a<e.length;a++){var f=n.length,h=r[a],p=h.length;n[4*a+2]=f,n[4*a+3]=h.length,d=Math.max(d,h.length);for(var g=0;g<p;++g){var v=h[g];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:d,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var o=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,o.push(l.x),o.push(l.y),o.push(0),o.push(0),a.push([])}for(u=0;u<t.length;u++){var c=t[u],d=(0,i.getEdgeTerminal)(c,"source"),f=(0,i.getEdgeTerminal)(c,"target");a[s[d]].push(s[f]),a[s[d]].push(n(c)),a[s[d]].push(r(c)),a[s[d]].push(0),a[s[f]].push(s[d]),a[s[f]].push(n(c)),a[s[f]].push(r(c)),a[s[f]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=o.length,g=a[u],v=g.length;o[4*u+2]=p+1048576*v/4,o[4*u+3]=0,h=Math.max(h,v/4);for(var m=0;m<v;++m){var y=g[m];o.push(+y)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:h,array:new Float32Array(o)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)}},51784:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(54426),t),i(n(74229),t),i(n(36162),t),i(n(40930),t),i(n(63040),t),i(n(63479),t)},40930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(63040);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var i=[],o=0;o<e;o++)i[o]=0;return r?(r.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target");r&&(i[n[r]]+=1),o&&(i[n[o]]+=1)})),i):i};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,i=e.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){a[e.id]=t;o.push([])})),i&&i.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[i];o[s][u]=1,n||(o[u][s]=1)})),o};t.scaleMatrix=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n};var i=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)};t.traverseTreeUp=function(e,t){"function"===typeof t&&i(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach((function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),i<e.y&&(i=e.y)})),{minX:t,minY:n,maxX:r,maxY:i}}},36162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},63040:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var r=[];return e.forEach((function(e){r.push(e)})),r.map((function(e){return(0,t.clone)(e)}))}if("object"===typeof e&&e!=={}){var i=n({},e);return Object.keys(i).forEach((function(e){i[e]=(0,t.clone)(i[e])})),i}return e}},54426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var n=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.replace(n,(function(e,t){return t?t.toUpperCase():""}))}))},98092:function(e,t,n){"use strict";n.r(t),n.d(t,{Cache:function(){return kt},assign:function(){return Ue},augment:function(){return Ze},clamp:function(){return ee},clearAnimationFrame:function(){return Ve},clone:function(){return He},contains:function(){return i},debounce:function(){return qe},deepMix:function(){return Je},difference:function(){return a},each:function(){return h},endsWith:function(){return G},every:function(){return V},extend:function(){return $e},filter:function(){return o},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return te},flatten:function(){return w},flattenDeep:function(){return E},forIn:function(){return ye},get:function(){return st},getEllipsisText:function(){return Et},getRange:function(){return S},getType:function(){return Ie},getWrapBehavior:function(){return X},group:function(){return q},groupBy:function(){return Z},groupToMap:function(){return H},has:function(){return be},hasKey:function(){return xe},hasValue:function(){return Ee},head:function(){return B},identity:function(){return mt},includes:function(){return i},indexOf:function(){return Qe},isArguments:function(){return Oe},isArray:function(){return d},isArrayLike:function(){return r},isBoolean:function(){return Ne},isDate:function(){return Pe},isDecimal:function(){return re},isElement:function(){return Ye},isEmpty:function(){return tt},isEqual:function(){return nt},isEqualWith:function(){return rt},isError:function(){return De},isEven:function(){return ie},isFinite:function(){return Re},isFunction:function(){return l},isInteger:function(){return oe},isMatch:function(){return g},isNegative:function(){return ae},isNil:function(){return c},isNull:function(){return Le},isNumber:function(){return ne},isNumberEqual:function(){return se},isObject:function(){return f},isObjectLike:function(){return v},isOdd:function(){return ue},isPlainObject:function(){return m},isPositive:function(){return le},isPrototype:function(){return Fe},isRegExp:function(){return Be},isString:function(){return D},isType:function(){return u},isUndefined:function(){return ze},keys:function(){return p},last:function(){return z},lowerCase:function(){return _e},lowerFirst:function(){return Se},map:function(){return it},mapValues:function(){return at},max:function(){return k},maxBy:function(){return ce},measureTextWidth:function(){return wt},memoize:function(){return Xe},min:function(){return _},minBy:function(){return de},mix:function(){return Ue},mod:function(){return fe},noop:function(){return vt},number2color:function(){return $},omit:function(){return dt},parseRadius:function(){return Q},pick:function(){return ct},pull:function(){return A},pullAt:function(){return O},reduce:function(){return N},remove:function(){return P},requestAnimationFrame:function(){return Ge},set:function(){return ut},size:function(){return yt},some:function(){return W},sortBy:function(){return R},startsWith:function(){return Y},substitute:function(){return Te},throttle:function(){return ft},toArray:function(){return ht},toDegree:function(){return pe},toInteger:function(){return ge},toRadian:function(){return me},toString:function(){return ke},union:function(){return j},uniq:function(){return L},uniqueId:function(){return gt},upperCase:function(){return Ce},upperFirst:function(){return Me},values:function(){return we},valuesOfKey:function(){return F},wrapBehavior:function(){return K}});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},i=function(e,t){return!!r(e)&&e.indexOf(t)>-1},o=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o,i)&&n.push(o)}return n},a=function(e,t){return void 0===t&&(t=[]),o(e,(function(e){return!i(t,e)}))},s={}.toString,u=function(e,t){return s.call(e)==="[object "+t+"]"},l=function(e){return u(e,"Function")},c=function(e){return null===e||void 0===e},d=function(e){return Array.isArray?Array.isArray(e):u(e,"Array")},f=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var h=function(e,t){if(e)if(d(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(f(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break},p=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(r)})),t};var g=function(e,t){var n=p(t),r=n.length;if(c(e))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},v=function(e){return"object"===typeof e&&null!==e},m=function(e){if(!v(e)||!u(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var y=function(e,t){if(!d(e))return null;var n;if(l(t)&&(n=t),m(t)&&(n=function(e){return g(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var b=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},x=function(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r][t];if(!c(i)){n=d(i)?i[0]:i;break}}return n},w=function(e){if(!d(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},E=function e(t,n){if(void 0===n&&(n=[]),d(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},k=function(e){if(d(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},_=function(e){if(d(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},S=function(e){var t=e.filter((function(e){return!isNaN(e)}));if(!t.length)return{min:0,max:0};if(d(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var i=k(t);return{min:_(t),max:i}},T=Array.prototype,C=T.splice,M=T.indexOf,A=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=-1;(o=M.call(e,i))>-1;)C.call(e,o,1);return e},I=Array.prototype.splice,O=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,a=t[n];n!==i&&a===o||(o=a,I.call(e,a,1))}return e},N=function(e,t,n){if(!d(e)&&!m(e))return e;var r=n;return h(e,(function(e,n){r=t(r,e,n)})),r},P=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,o=[],a=e.length;++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return O(e,o),n},D=function(e){return u(e,"String")};var R=function(e,t){var n;if(l(t))n=function(e,n){return t(e)-t(n)};else{var r=[];D(t)?r.push(t):d(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n];if(e[i]>t[i])return 1;if(e[i]<t[i])return-1}return 0}}return e.sort(n),e};function L(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}var j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L([].concat.apply([],e))},F=function(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];if(!c(o)){d(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function B(e){if(r(e))return e[0]}function z(e){if(r(e)){return e[e.length-1]}}var Y=function(e,t){return!(!d(e)&&!D(e))&&e[0]===t};var G=function(e,t){return!(!d(e)&&!D(e))&&e[e.length-1]===t},V=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},W=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},U=Object.prototype.hasOwnProperty;var Z=function(e,t){if(!t||!d(e))return{};for(var n,r={},i=l(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),U.call(r,n)?r[n].push(a):r[n]=[a]}return r};function H(e,t){if(!t)return{0:e};if(!l(t)){var n=d(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Z(e,t)}var q=function(e,t){if(!t)return[e];var n=H(e,t),r=[];for(var i in n)r.push(n[i]);return r};var X=function(e,t){return e["_wrap_"+t]};var K=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},J={};var $=function(e){var t=J[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,J[e]=t}return t};var Q=function(e){var t=0,n=0,r=0,i=0;return d(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},ee=function(e,t,n){return e<t?t:e>n?n:e},te=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},ne=function(e){return u(e,"Number")},re=function(e){return ne(e)&&e%1!==0},ie=function(e){return ne(e)&&e%2===0},oe=Number.isInteger?Number.isInteger:function(e){return ne(e)&&e%1===0},ae=function(e){return ne(e)&&e<0};function se(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}var ue=function(e){return ne(e)&&e%2!==0},le=function(e){return ne(e)&&e>0},ce=function(e,t){if(d(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},de=function(e,t){if(d(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},fe=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ge=parseInt,ve=Math.PI/180,me=function(e){return ve*e},ye=h,be=function(e,t){return e.hasOwnProperty(t)},xe=be,we=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(n)})),t},Ee=function(e,t){return i(we(e),t)},ke=function(e){return c(e)?"":e.toString()},_e=function(e){return ke(e).toLowerCase()},Se=function(e){var t=ke(e);return t.charAt(0).toLowerCase()+t.substring(1)};var Te=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e},Ce=function(e){return ke(e).toUpperCase()},Me=function(e){var t=ke(e);return t.charAt(0).toUpperCase()+t.substring(1)},Ae={}.toString,Ie=function(e){return Ae.call(e).replace(/^\[object /,"").replace(/]$/,"")},Oe=function(e){return u(e,"Arguments")},Ne=function(e){return u(e,"Boolean")},Pe=function(e){return u(e,"Date")},De=function(e){return u(e,"Error")};function Re(e){return ne(e)&&isFinite(e)}var Le=function(e){return null===e},je=Object.prototype,Fe=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||je)},Be=function(e){return u(e,"RegExp")},ze=function(e){return void 0===e},Ye=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ge(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ve(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function We(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function Ue(e,t,n,r){return t&&We(e,t),n&&We(e,n),r&&We(e,r),e}var Ze=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];l(i)&&(i=i.prototype),Ue(n.prototype,i)}},He=function e(t){if("object"!==typeof t||null===t)return t;var n;if(d(t)){n=[];for(var r=0,i=t.length;r<i;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var o in n={},t)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o];return n};var qe=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},Xe=function(e,t){if(!l(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function Ke(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&m(o)?(m(e[i])||(e[i]={}),n<r?Ke(e[i],o,n+1,r):e[i]=t[i]):d(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var Je=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Ke(e,t[r]);return e},$e=function(e,t,n,r){l(t)||(n=t,t=e,e=function(){});var i=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},o=i(t.prototype,e);return e.prototype=Ue(o,e.prototype),e.superclass=i(t.prototype,t),Ue(o,n),Ue(e,r),e},Qe=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i},et=Object.prototype.hasOwnProperty;var tt=function(e){if(c(e))return!0;if(r(e))return!e.length;var t=Ie(e);if("Map"===t||"Set"===t)return!e.size;if(Fe(e))return!Object.keys(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},nt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(D(t)||D(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var i=!0,o=0;o<t.length&&(i=e(t[o],n[o]));o++);return i}if(v(t)||v(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=e(t[a[o]],n[a[o]]));o++);return i}return!1},rt=function(e,t,n){return l(n)?!!n(e,t):nt(e,t)},it=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(t(o,i))}return n},ot=function(e){return e},at=function(e,t){void 0===t&&(t=ot);var n={};return f(e)&&!c(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n},st=function(e,t,n){for(var r=0,i=D(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},ut=function(e,t,n){var r=e,i=D(t)?t.split("."):t;return i.forEach((function(e,t){t<i.length-1?(f(r[e])||(r[e]=ne(i[t+1])?[]:{}),r=r[e]):r[e]=n})),e},lt=Object.prototype.hasOwnProperty,ct=function(e,t){if(null===e||!m(e))return{};var n={};return h(t,(function(t){lt.call(e,t)&&(n[t]=e[t])})),n},dt=function(e,t){return N(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},ft=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},ht=function(e){return r(e)?Array.prototype.slice.call(e):[]},pt={},gt=function(e){return pt[e=e||"g"]?pt[e]+=1:pt[e]=1,e+pt[e]},vt=function(){},mt=function(e){return e};function yt(e){return c(e)?0:r(e)?e.length:Object.keys(e).length}var bt,xt=n(3431),wt=Xe((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return bt||(bt=document.createElement("canvas").getContext("2d")),bt.font=[o,a,i,n+"px",r].join(" "),bt.measureText(D(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),(0,xt.__spreadArrays)([e],we(t)).join("")})),Et=function(e,t,n,r){void 0===r&&(r="...");var i,o,a=wt(r,n),s=D(e)?e:ke(e),u=t,l=[];if(wt(e,n)<=t)return e;for(;i=s.substr(0,16),!((o=wt(i,n))+a>u&&o>u);)if(l.push(i),u-=o,!(s=s.substr(16)))return l.join("");for(;i=s.substr(0,1),!((o=wt(i,n))+a>u);)if(l.push(i),u-=o,!(s=s.substr(1)))return l.join("");return""+l.join("")+r},kt=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}()},33915:function(e,t,n){var r=n(46149);e.exports={Graph:r.Graph,json:n(19071),alg:n(93959),version:r.version}},52936:function(e,t,n){var r=n(92783);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},94270:function(e,t,n){var r=n(92783);function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}},88869:function(e,t,n){var r=n(91787),i=n(92783);e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},91787:function(e,t,n){var r=n(92783),i=n(20148);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},u=new i,l=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,u.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},72219:function(e,t,n){var r=n(92783),i=n(17181);e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},54035:function(e,t,n){var r=n(92783);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},93959:function(e,t,n){e.exports={components:n(52936),dijkstra:n(91787),dijkstraAll:n(88869),findCycles:n(72219),floydWarshall:n(54035),isAcyclic:n(63714),postorder:n(24945),preorder:n(63098),prim:n(15074),tarjan:n(17181),topsort:n(32980)}},63714:function(e,t,n){var r=n(32980);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},24945:function(e,t,n){var r=n(94270);e.exports=function(e,t){return r(e,t,"post")}},63098:function(e,t,n){var r=n(94270);e.exports=function(e,t){return r(e,t,"pre")}},15074:function(e,t,n){var r=n(92783),i=n(60317),o=n(20148);e.exports=function(e,t){var n,a=new i,s={},u=new o;function l(e){var r=e.v===n?e.w:e.v,i=u.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}},17181:function(e,t,n){var r=n(92783);e.exports=function(e){var t=0,n=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(u.lowlink=Math.min(u.lowlink,i[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,i[e].lowlink))})),u.lowlink===u.index){var l,c=[];do{l=n.pop(),i[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}return e.nodes().forEach((function(e){r.has(i,e)||a(e)})),o}},32980:function(e,t,n){var r=n(92783);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o},20148:function(e,t,n){var r=n(92783);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},60317:function(e,t,n){"use strict";var r=n(92783);e.exports=o;var i="\0";function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var o=""+t,a=""+n;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(r.isUndefined(i)?"\0":i)}function l(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function c(e,t){return u(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._in[e])}),this))},o.prototype.sinks=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._out[e])}),this))},o.prototype.setNodes=function(e,t){var n=arguments;return r.each(e,r.bind((function(e){n.length>1?this.setNode(e,t):this.setNode(e)}),this)),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),r.bind((function(e){this.setParent(e)}),this)),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),r.each(this._nodes,r.bind((function(n,r){e(r)&&t.setNode(r,n)}),this)),r.each(this._edgeObjs,r.bind((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,this.edge(e))}),this));var n=this,i={};function o(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},o.prototype.setEdge=function(){var e,t,n,i,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var c=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=o?i:this._defaultEdgeLabelFn(e,t,n);var d=l(this._isDirected,e,t,n);return e=d.v,t=d.w,Object.freeze(d),this._edgeObjs[c]=d,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][c]=d,this._out[e][c]=d,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},46149:function(e,t,n){e.exports={Graph:n(60317),version:n(68931)}},19071:function(e,t,n){var r=n(92783),i=n(60317);function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},92783:function(e,t,n){var r;try{r=n(763)}catch(i){}r||(r=window._),e.exports=r},68931:function(e){e.exports="2.1.4"},45511:function(e,t){"use strict";(function(e){e.TextureCompressionBC="texture-compression-bc"})(t.UX||(t.UX={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.OB||(t.OB={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.$l||(t.$l={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.zi||(t.zi={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.db||(t.db={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.wb||(t.wb={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.Wf||(t.Wf={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.X9||(t.X9={})),function(e){e.CCW="ccw",e.CW="cw"}(t.zX||(t.zX={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.iD||(t.iD={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.V||(t.V={})),function(e){e.Load="load"}(t.Ws||(t.Ws={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.YV||(t.YV={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.xS||(t.xS={})),function(e){e.Store="store",e.Clear="clear"}(t.EG||(t.EG={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.kd||(t.kd={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.EV||(t.EV={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.Ek||(t.Ek={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.p_||(t.p_={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.gB||(t.gB={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.H7||(t.H7={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.mj||(t.mj={})),function(e){e.Occlusion="occlusion"}(t.xL||(t.xL={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.FB||(t.FB={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.Yw||(t.Yw={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.$X||(t.$X={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.v2||(t.v2={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.gc||(t.gc={}))},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},47910:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},99194:function(e,t,n){var r=n(47910),i=n(65114),o=Object.hasOwnProperty,a={};for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},3861:function(e,t,n){"use strict";var r=n(99194),i=n(79203),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var u={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,c=i[this.model].channels,this.color=d.value.slice(0,c),this.valpha="number"===typeof d.value[c]?d.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var f=o.call(e,0,c);this.color=h(f,c),this.valpha="number"===typeof e[c]?e[c]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var v=i[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(e[v[n]]);this.color=h(m)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(100)),y:c("xyz",1,d(100)),z:c("xyz",2,d(100)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new l(f(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"===typeof n&&(n=h(o.call(arguments),t)),new l(n,e)}}})),e.exports=l},6871:function(e,t,n){var r=n(19065),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}function c(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),d=function(e){return(l-e)/6/c+.5};return 0===c?i=o=0:(o=c/l,t=d(a),n=d(s),r=d(u),a===l?i=r-n:s===l?i=1/3+t-r:u===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o=1/0;for(var a in r)if(r.hasOwnProperty(a)){var s=c(e,r[a]);s<o&&(o=s,n=a)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,l=e[1]/100,c=e[2]/100,d=l+c;switch(d>1&&(l/=d,c/=d),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=l+r*((n=1-c)-l),t){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},79203:function(e,t,n){var r=n(6871),i=n(51283),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},51283:function(e,t,n){var r=n(6871);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=t[u];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},19065:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},76998:function(e,t,n){"use strict";var r=n(42458),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,u,l,c=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),l&&document.body.removeChild(l),a()}return c}},8878:function(e,t,n){"use strict";function r(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function i(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,d,f,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[d=c<<1|l]))return i[d]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((d=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=h,i[d]=p,e}function o(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new l(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function l(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function c(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return v},forceLink:function(){return b},forceManyBody:function(){return P},forceRadial:function(){return D},forceSimulation:function(){return N},forceX:function(){return R},forceY:function(){return L}});var d=u.prototype=l.prototype;function f(e){return function(){return e}}function h(e){return 1e-6*(e()-.5)}function p(e){return e.x+e.vx}function g(e){return e.y+e.vy}function v(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,c,d,f,v,m=t.length,y=0;y<o;++y)for(a=u(t,p,g).visitAfter(s),e=0;e<m;++e)l=t[e],f=n[l.index],v=f*f,c=l.x+l.vx,d=l.y+l.vy,a.visit(b);function b(e,t,n,o,a){var s=e.data,u=e.r,p=f+u;if(!s)return t>c+p||o<c-p||n>d+p||a<d-p;if(s.index>l.index){var g=c-s.x-s.vx,m=d-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=h(r))*g),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(u*=u)/(v+u)),l.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=f(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:f(+t),l(),a):e},a}function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function b(e){var t,n,r,i,o,a,s=m,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=f(30),c=1;function d(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,d,f,p,g,v,m=0;m<s;++m)l=(u=e[m]).source,f=(d=u.target).x+d.vx-l.x-l.vx||h(a),p=d.y+d.vy-l.y-l.vy||h(a),f*=g=((g=Math.sqrt(f*f+p*p))-n[m])/g*r*t[m],p*=g,d.vx-=f*(v=o[m]),d.vy-=p*v,l.vx+=f*(v=1-v),l.vy+=p*v}function p(){if(r){var a,u,l=r.length,c=e.length,d=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,i=new Array(l);a<c;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(d,u.source)),"object"!==typeof u.target&&(u.target=y(d,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),g(),n=new Array(c),v()}}function g(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,p()},d.links=function(t){return arguments.length?(e=t,p(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(u="function"===typeof e?e:f(+e),g(),d):u},d.distance=function(e){return arguments.length?(l="function"===typeof e?e:f(+e),v(),d):l},d}d.copy=function(){var e,t,n=new l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=c(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=c(t));return n},d.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)},d.addAll=function(e){var t,n,r,o,a=e.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,d=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,u[n]=o,r<l&&(l=r),r>d&&(d=r),o<c&&(c=o),o>f&&(f=o));if(l>d||c>f)return this;for(this.cover(l,c).cover(d,f),n=0;n<a;++n)i(this,s[n],u[n],e[n]);return this},d.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},d.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},d.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},d.find=function(e,t,n){var r,i,a,s,u,l,c,d=this._x0,f=this._y0,h=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,d,f,h,p)),null==n?n=1/0:(d=e-n,f=t-n,h=e+n,p=t+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(i=l.x0)>h||(a=l.y0)>p||(s=l.x1)<d||(u=l.y1)<f))if(v.length){var m=(i+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],i,y,m,u),new o(v[1],m,a,s,y),new o(v[0],i,a,m,y)),(c=(t>=y)<<1|e>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var b=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),w=b*b+x*x;if(w<n){var E=Math.sqrt(n=w);d=e-E,f=t-E,h=e+E,p=t+E,r=v.data}}return r},d.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,d,f,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[d=c<<1|l]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},d.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},d.root=function(){return this._root},d.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},d.visit=function(e){var t,n,r,i,a,s,u=[],l=this._root;for(l&&u.push(new o(l,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,d=(i+s)/2;(n=l[3])&&u.push(new o(n,c,d,a,s)),(n=l[2])&&u.push(new o(n,r,d,c,s)),(n=l[1])&&u.push(new o(n,c,i,a,d)),(n=l[0])&&u.push(new o(n,r,i,c,d))}return this},d.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,u=t.y0,l=t.x1,c=t.y1,d=(s+l)/2,f=(u+c)/2;(a=i[0])&&n.push(new o(a,s,u,d,f)),(a=i[1])&&n.push(new o(a,d,u,l,f)),(a=i[2])&&n.push(new o(a,s,f,d,c)),(a=i[3])&&n.push(new o(a,d,f,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},d.x=function(e){return arguments.length?(this._x=e,this):this._x},d.y=function(e){return arguments.length?(this._y=e,this):this._y};var x={value:function(){}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new E(r)}function E(e){this._=e}function k(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function _(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function S(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}E.prototype=w.prototype={constructor:E,on:function(e,t){var n,r=this._,i=k(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=S(r[n],e.name,t);else if(null==t)for(n in r)r[n]=S(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=_(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new E(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var T=w,C=n(96212),M=4294967296;function A(e){return e.x}function I(e){return e.y}var O=Math.PI*(3-Math.sqrt(5));function N(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=(0,C.HT)(d),l=T("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%M)/M}}();function d(){f(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function f(r){var u,l,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*O;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function P(){var e,t,n,r,i,o=f(-30),a=1,s=1/0,l=.81;function c(n){var i,o=e.length,a=u(e,A,I).visitAfter(p);for(r=n,i=0;i<o;++i)t=e[i],a.visit(g)}function d(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function p(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function g(e,o,u,c){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,p=c-o,g=d*d+f*f;if(p*p/l<g)return g<s&&(0===d&&(g+=(d=h(n))*d),0===f&&(g+=(f=h(n))*f),g<a&&(g=Math.sqrt(a*g)),t.vx+=d*e.value*r/g,t.vy+=f*e.value*r/g),!0;if(!(e.length||g>=s)){(e.data!==t||e.next)&&(0===d&&(g+=(d=h(n))*d),0===f&&(g+=(f=h(n))*f),g<a&&(g=Math.sqrt(a*g)));do{e.data!==t&&(p=i[e.data.index]*r/g,t.vx+=d*p,t.vy+=f*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,d()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:f(+e),d(),c):o},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function D(e,t,n){var r,i,o,a=f(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],l=u.x-t||1e-6,c=u.y-n||1e-6,d=Math.sqrt(l*l+c*c),f=(o[a]-d)*i[a]*e/d;u.vx+=l*f,u.vy+=c*f}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=f(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:f(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:f(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function R(e){var t,n,r,i=f(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=f(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:f(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:f(+t),a(),o):e},o}function L(e){var t,n,r,i=f(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=f(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:f(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:f(+t),a(),o):e},o}},96212:function(e,t,n){"use strict";n.d(t,{HT:function(){return v}});var r,i,o=0,a=0,s=0,u=0,l=0,c=0,d="object"===typeof performance&&performance.now?performance:Date,f="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return l||(f(p),l=d.now()+c)}function p(){l=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var r=new g;return r.restart(e,t,n),r}function m(){l=(u=d.now())+c,o=a=0;try{!function(){h(),++o;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(o)}(),l=0}}function y(){var e=d.now(),t=e-u;t>1e3&&(c-=t,u=e)}function b(e){o||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(m,e-d.now()-c)),s&&(s=clearInterval(s))):(s||(u=d.now(),s=setInterval(y,1e3)),o=1,f(m)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},99457:function(e,t,n){"use strict";n.r(t),n.d(t,{BRIDGE_GRAPH_NAME:function(){return y},GraphType:function(){return g},HierarchyNodeType:function(){return v},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return c},NodeType:function(){return h},ROOT_NAME:function(){return m},buildGraph:function(){return wa},flatGraph:function(){return Ea},getEdges:function(){return ka},mergeConfig:function(){return d}});var r=n(37762),i=n(93433),o=n(60136),a=n(29388),s=n(29439),u=n(43144),l=n(15671),c={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function d(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,a=JSON.parse(JSON.stringify(o)),s=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},l=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},d=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},f=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,l),node:Object.assign(a.nodeSize.node,d),bridge:f}}}function f(e){return"\u25ec".concat(e,"\u25ec")}var h,p,g,v,m=f("ROOT"),y=f("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(h||(h={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(g||(g={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(v||(v={}));var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function x(e,t){return e(t={exports:{}},t.exports),t.exports}var w=function(e,t){return e===t||e!=e&&t!=t},E=function(e,t){for(var n=e.length;n--;)if(w(e[n][0],t))return n;return-1},k=Array.prototype.splice;function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=function(){this.__data__=[],this.size=0},_.prototype.delete=function(e){var t=this.__data__,n=E(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),--this.size,!0)},_.prototype.get=function(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return E(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,r=E(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var S,T=_,C="object"==typeof b&&b&&b.Object===Object&&b,M="object"==typeof self&&self&&self.Object===Object&&self,A=C||M||Function("return this")(),I=A.Symbol,O=Object.prototype,N=O.hasOwnProperty,P=O.toString,D=I?I.toStringTag:void 0,R=Object.prototype.toString,L=I?I.toStringTag:void 0,j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=N.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch(e){}var i=P.call(e);return r&&(t?e[D]=n:delete e[D]),i}(e):function(e){return R.call(e)}(e)},F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},B=function(e){if(!F(e))return!1;var t=j(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=A["__core-js_shared__"],Y=(S=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",G=Function.prototype.toString,V=function(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""},W=/^\[object .+?Constructor\]$/,U=Function.prototype,Z=Object.prototype,H=U.toString,q=Z.hasOwnProperty,X=RegExp("^"+H.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=function(e){return!(!F(e)||function(e){return!!Y&&Y in e}(e))&&(B(e)?X:W).test(V(e))},J=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return K(n)?n:void 0},$=J(A,"Map"),Q=J(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this};var re=ne,ie=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new($||T),string:new re}},oe.prototype.delete=function(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ie(this,e).get(e)},oe.prototype.has=function(e){return ie(this,e).has(e)},oe.prototype.set=function(e,t){var n=ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ae=oe;function se(e){var t=this.__data__=new T(e);this.size=t.size}se.prototype.clear=function(){this.__data__=new T,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof T){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(r)}return n.set(e,t),this.size=n.size,this};var ue=se,le=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ce=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),de=function(e,t,n){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},fe=Object.prototype.hasOwnProperty,he=function(e,t,n){var r=e[t];fe.call(e,t)&&w(r,n)&&(void 0!==n||t in e)||de(e,t,n)},pe=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?de(n,s,u):he(n,s,u)}return n},ge=function(e){return null!=e&&"object"==typeof e},ve=function(e){return ge(e)&&"[object Arguments]"==j(e)},me=Object.prototype,ye=me.hasOwnProperty,be=me.propertyIsEnumerable,xe=ve(function(){return arguments}())?ve:function(e){return ge(e)&&ye.call(e,"callee")&&!be.call(e,"callee")},we=Array.isArray,Ee=function(){return!1},ke=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=(i?i.isBuffer:void 0)||Ee;e.exports=o})),_e=/^(?:0|[1-9]\d*)$/,Se=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t},Te=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Me=function(e){return function(t){return e(t)}},Ae=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&C.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Ie=Ae&&Ae.isTypedArray,Oe=Ie?Me(Ie):function(e){return ge(e)&&Te(e.length)&&!!Ce[j(e)]},Ne=Object.prototype.hasOwnProperty,Pe=function(e,t){var n=we(e),r=!n&&xe(e),i=!n&&!r&&ke(e),o=!n&&!r&&!i&&Oe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!Ne.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Se(l,u))||s.push(l);return s},De=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)},Le=function(e,t){return function(n){return e(t(n))}},je=Le(Object.keys,Object),Fe=Object.prototype.hasOwnProperty,Be=function(e){if(!Re(e))return je(e);var t=[];for(var n in Object(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t},ze=function(e){return null!=e&&Te(e.length)&&!B(e)},Ye=function(e){return ze(e)?Pe(e):Be(e)},Ge=Object.prototype.hasOwnProperty,Ve=function(e){if(!F(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&Ge.call(e,r))&&n.push(r);return n},We=function(e){return ze(e)?Pe(e,!0):Ve(e)},Ue=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}})),Ze=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},He=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},qe=function(){return[]},Xe=Object.prototype.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols,Je=Ke?function(e){return null==e?[]:(e=Object(e),He(Ke(e),(function(t){return Xe.call(e,t)})))}:qe,$e=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Qe=Le(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$e(t,Je(e)),e=Qe(e);return t}:qe,tt=function(e,t,n){var r=t(e);return we(e)?r:$e(r,n(e))},nt=function(e){return tt(e,Ye,Je)},rt=function(e){return tt(e,We,et)},it=J(A,"DataView"),ot=J(A,"Promise"),at=J(A,"Set"),st=J(A,"WeakMap"),ut=V(it),lt=V($),ct=V(ot),dt=V(at),ft=V(st),ht=j;(it&&"[object DataView]"!=ht(new it(new ArrayBuffer(1)))||$&&"[object Map]"!=ht(new $)||ot&&"[object Promise]"!=ht(ot.resolve())||at&&"[object Set]"!=ht(new at)||st&&"[object WeakMap]"!=ht(new st))&&(ht=function(e){var t=j(e),n="[object Object]"==t?e.constructor:void 0,r=n?V(n):"";if(r)switch(r){case ut:return"[object DataView]";case lt:return"[object Map]";case ct:return"[object Promise]";case dt:return"[object Set]";case ft:return"[object WeakMap]"}return t});var pt=ht,gt=Object.prototype.hasOwnProperty,vt=A.Uint8Array,mt=function(e){var t=new e.constructor(e.byteLength);return new vt(t).set(new vt(e)),t},yt=/\w*$/,bt=I?I.prototype:void 0,xt=bt?bt.valueOf:void 0,wt=function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return xt?Object(xt.call(e)):{}}(e)}},kt=Object.create,_t=function(){function e(){}return function(t){if(!F(t))return{};if(kt)return kt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),St=function(e){return"function"!=typeof e.constructor||Re(e)?{}:_t(Qe(e))},Tt=Ae&&Ae.isMap,Ct=Tt?Me(Tt):function(e){return ge(e)&&"[object Map]"==pt(e)},Mt=Ae&&Ae.isSet,At=Mt?Me(Mt):function(e){return ge(e)&&"[object Set]"==pt(e)},It={};It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object DataView]"]=It["[object Boolean]"]=It["[object Date]"]=It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object Symbol]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Error]"]=It["[object Function]"]=It["[object WeakMap]"]=!1;var Ot=function e(t,n,r,i,o,a){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!F(t))return t;var d=we(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return Ze(t,s)}else{var f=pt(t),h="[object Function]"==f||"[object GeneratorFunction]"==f;if(ke(t))return Ue(t,u);if("[object Object]"==f||"[object Arguments]"==f||h&&!o){if(s=l||h?{}:St(t),!u)return l?function(e,t){return pe(e,et(e),t)}(t,function(e,t){return e&&pe(t,We(t),e)}(s,t)):function(e,t){return pe(e,Je(e),t)}(t,function(e,t){return e&&pe(t,Ye(t),e)}(s,t))}else{if(!It[f])return o?t:{};s=Et(t,f,u)}}a||(a=new ue);var p=a.get(t);if(p)return p;a.set(t,s),At(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Ct(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var g=d?void 0:(c?l?rt:nt:l?We:Ye)(t);return le(g||t,(function(i,o){g&&(i=t[o=i]),he(s,o,e(i,n,r,o,t,a))})),s},Nt=function(e){return function(){return e}},Pt=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Dt=function(e,t){return e&&Pt(e,t,Ye)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!ze(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Dt),Lt=function(e){return e},jt=function(e){return"function"==typeof e?e:Lt},Ft=function(e,t){return(we(e)?le:Rt)(e,jt(t))},Bt=Ft,zt=function(e,t){var n=[];return Rt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};function Yt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ae;++t<n;)this.add(e[t])}Yt.prototype.add=Yt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Yt.prototype.has=function(e){return this.__data__.has(e)};var Gt=Yt,Vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Wt=function(e,t){return e.has(t)},Ut=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var d=-1,f=!0,h=2&n?new Gt:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],g=t[d];if(r)var v=a?r(g,p,d,t,e,o):r(p,g,d,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!Vt(t,(function(e,t){if(!Wt(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},Zt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},qt=I?I.prototype:void 0,Xt=qt?qt.valueOf:void 0,Kt=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new vt(e),new vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return w(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Zt;case"[object Set]":var u=1&r;if(s||(s=Ht),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Ut(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(Xt)return Xt.call(e)==Xt.call(t)}return!1},Jt=Object.prototype.hasOwnProperty,$t=Object.prototype.hasOwnProperty,Qt=function(e,t,n,r,i,o){var a=we(e),s=we(t),u=a?"[object Array]":pt(e),l=s?"[object Array]":pt(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f=u==l;if(f&&ke(e)){if(!ke(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new ue),a||Oe(e)?Ut(e,t,n,r,i,o):Kt(e,t,u,n,r,i,o);if(!(1&n)){var h=c&&$t.call(e,"__wrapped__"),p=d&&$t.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new ue),i(g,v,n,r,o)}}return!!f&&(o||(o=new ue),function(e,t,n,r,i,o){var a=1&n,s=nt(e),u=s.length;if(u!=nt(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:Jt.call(t,c)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var g=e[c=s[l]],v=t[c];if(r)var m=a?r(v,g,c,t,e,o):r(g,v,c,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))},en=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ge(t)&&!ge(n)?t!=t&&n!=n:Qt(t,n,r,i,e,o))},tn=function(e){return e==e&&!F(e)},nn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},rn=function(e){var t=function(e){for(var t=Ye(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tn(i)]}return t}(e);return 1==t.length&&t[0][2]?nn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var d=new ue;if(r)var f=r(l,c,u,e,t,d);if(!(void 0===f?en(c,l,3,r,d):f))return!1}}return!0}(n,e,t)}},on=function(e){return"symbol"==typeof e||ge(e)&&"[object Symbol]"==j(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,un=function(e,t){if(we(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)};function ln(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ln.Cache||ae),n}ln.Cache=ae;var cn,dn=ln,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,pn=function(e){var t=dn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fn,(function(e,n,r,i){t.push(r?i.replace(hn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),gn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vn=I?I.prototype:void 0,mn=vn?vn.toString:void 0,yn=function e(t){if("string"==typeof t)return t;if(we(t))return gn(t,e)+"";if(on(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},bn=function(e){return null==e?"":yn(e)},xn=function(e,t){return we(e)?e:un(e,t)?[e]:pn(bn(e))},wn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},En=function(e,t){for(var n=0,r=(t=xn(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0},kn=function(e,t){return null!=e&&t in Object(e)},_n=function(e,t,n){for(var r=-1,i=(t=xn(t,e)).length,o=!1;++r<i;){var a=wn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Te(i)&&Se(a,i)&&(we(e)||xe(e))},Sn=function(e,t){return null!=e&&_n(e,t,kn)},Tn=function(e,t){return un(e)&&tn(t)?nn(wn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:En(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?Sn(n,e):en(t,r,3)}},Cn=function(e){return function(t){return null==t?void 0:t[e]}},Mn=function(e){return un(e)?Cn(wn(e)):function(e){return function(t){return En(t,e)}}(e)},An=function(e){return"function"==typeof e?e:null==e?Lt:"object"==typeof e?we(e)?Tn(e[0],e[1]):rn(e):Mn(e)},In=function(e,t){return(we(e)?He:zt)(e,An(t))},On=Object.prototype.hasOwnProperty,Nn=function(e,t){return null!=e&&On.call(e,t)},Pn=function(e,t){return null!=e&&_n(e,t,Nn)},Dn=Object.prototype.hasOwnProperty,Rn=function(e){return void 0===e},Ln=function(e,t){var n=-1,r=ze(e)?Array(e.length):[];return Rt(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},jn=function(e,t){return(we(e)?gn:Ln)(e,An(t))},Fn=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},Bn=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n},zn=function(e,t,n){var r=we(e)?Fn:Bn,i=arguments.length<3;return r(e,An(t),n,i,Rt)},Yn=Cn("length"),Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Vn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wn="\\ud83c[\\udffb-\\udfff]",Un="[^\\ud800-\\udfff]",Zn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",qn="(?:"+Vn+"|"+Wn+")?",Xn="[\\ufe0e\\ufe0f]?"+qn+"(?:\\u200d(?:"+[Un,Zn,Hn].join("|")+")[\\ufe0e\\ufe0f]?"+qn+")*",Kn="(?:"+[Un+Vn+"?",Vn,Zn,Hn,"[\\ud800-\\udfff]"].join("|")+")",Jn=RegExp(Wn+"(?="+Wn+")|"+Kn+Xn,"g"),$n=function(e){return function(e){return Gn.test(e)}(e)?function(e){for(var t=Jn.lastIndex=0;Jn.test(e);)++t;return t}(e):Yn(e)},Qn=I?I.isConcatSpreadable:void 0,er=function(e){return we(e)||xe(e)||!!(Qn&&e&&e[Qn])},tr=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=er),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):$e(o,u):i||(o[o.length]=u)}return o},nr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},rr=Math.max,ir=function(e,t,n){return t=rr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=rr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),nr(e,this,s)}},or=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:Nt(t),writable:!0})}:Lt,ar=Date.now,sr=function(e){var t=0,n=0;return function(){var r=ar(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(or),ur=function(e,t){return sr(ir(e,t,Lt),e+"")},lr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},cr=function(e){return e!=e},dr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):lr(e,cr,n)}(e,t,0)>-1},fr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},hr=at&&1/Ht(new at([,-0]))[1]==1/0?function(e){return new at(e)}:function(){},pr=function(e){return ge(e)&&ze(e)},gr=ur((function(e){return function(e,t,n){var r=-1,i=dr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=fr;else if(o>=200){var l=t?null:hr(e);if(l)return Ht(l);a=!1,i=Wt,u=new Gt}else u=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}(tr(e,1,pr,!0))})),vr=function(e){return null==e?[]:function(e,t){return gn(t,(function(t){return e[t]}))}(e,Ye(e))};try{cn={clone:function(e){return Ot(e,4)},constant:Nt,each:Bt,filter:In,has:Pn,isArray:we,isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(we(e)||"string"==typeof e||"function"==typeof e.splice||ke(e)||Oe(e)||xe(e)))return!e.length;var t=pt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!Be(e).length;for(var n in e)if(Dn.call(e,n))return!1;return!0},isFunction:B,isUndefined:Rn,keys:Ye,map:jn,reduce:zn,size:function(e){if(null==e)return 0;if(ze(e))return function(e){return"string"==typeof e||!we(e)&&ge(e)&&"[object String]"==j(e)}(e)?$n(e):e.length;var t=pt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Be(e).length},transform:function(e,t,n){var r=we(e),i=r||ke(e)||Oe(e);if(t=An(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:F(e)&&B(o)?_t(Qe(e)):{}}return(i?le:Dt)(e,(function(e,r,i){return t(n,e,r,i)})),n},union:gr,values:vr}}catch(c){}cn||(cn=window._);var mr=cn,yr=br;function br(e){this._isDirected=!mr.has(e,"directed")||e.directed,this._isMultigraph=!!mr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!mr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=mr.constant(void 0),this._defaultEdgeLabelFn=mr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function xr(e,t){e[t]?e[t]++:e[t]=1}function wr(e,t){--e[t]||delete e[t]}function Er(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(mr.isUndefined(r)?"\0":r)}function kr(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function _r(e,t){return Er(e,t.v,t.w,t.name)}br.prototype._nodeCount=0,br.prototype._edgeCount=0,br.prototype.isDirected=function(){return this._isDirected},br.prototype.isMultigraph=function(){return this._isMultigraph},br.prototype.isCompound=function(){return this._isCompound},br.prototype.setGraph=function(e){return this._label=e,this},br.prototype.graph=function(){return this._label},br.prototype.setDefaultNodeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultNodeLabelFn=e,this},br.prototype.nodeCount=function(){return this._nodeCount},br.prototype.nodes=function(){return mr.keys(this._nodes)},br.prototype.sources=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._in[t])}))},br.prototype.sinks=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._out[t])}))},br.prototype.setNodes=function(e,t){var n=arguments,r=this;return mr.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},br.prototype.setNode=function(e,t){return mr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},br.prototype.node=function(e){return this._nodes[e]},br.prototype.hasNode=function(e){return mr.has(this._nodes,e)},br.prototype.removeNode=function(e){var t=this;if(mr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],mr.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),mr.each(mr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],mr.each(mr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},br.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mr.isUndefined(t))t="\0";else{for(var n=t+="";!mr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},br.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},br.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},br.prototype.children=function(e){if(mr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return mr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},br.prototype.predecessors=function(e){var t=this._preds[e];if(t)return mr.keys(t)},br.prototype.successors=function(e){var t=this._sucs[e];if(t)return mr.keys(t)},br.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return mr.union(t,this.successors(e))},br.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},br.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;mr.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),mr.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&mr.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},br.prototype.setDefaultEdgeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultEdgeLabelFn=e,this},br.prototype.edgeCount=function(){return this._edgeCount},br.prototype.edges=function(){return mr.values(this._edgeObjs)},br.prototype.setPath=function(e,t){var n=this,r=arguments;return mr.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},br.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,mr.isUndefined(n)||(n=""+n);var a=Er(this._isDirected,e,t,n);if(mr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!mr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=kr(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,xr(this._preds[t],e),xr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},br.prototype.edge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return this._edgeLabels[r]},br.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return mr.has(this._edgeLabels,r)},br.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],wr(this._preds[t],e),wr(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},br.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.v===t})):r}},br.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.w===t})):r}},br.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var Sr={Graph:yr,version:"2.1.8"},Tr={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Cr(e),edges:Mr(e)};return mr.isUndefined(e.graph())||(t.value=mr.clone(e.graph())),t},read:function(e){var t=new yr(e.options).setGraph(e.value);return mr.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),mr.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function Cr(e){return mr.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return mr.isUndefined(n)||(i.value=n),mr.isUndefined(r)||(i.parent=r),i}))}function Mr(e){return mr.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return mr.isUndefined(t.name)||(r.name=t.name),mr.isUndefined(n)||(r.value=n),r}))}var Ar=Ir;function Ir(){this._arr=[],this._keyIndices={}}Ir.prototype.size=function(){return this._arr.length},Ir.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},Ir.prototype.has=function(e){return mr.has(this._keyIndices,e)},Ir.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Ir.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Ir.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!mr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Ir.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Ir.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Ir.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Ir.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Ir.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Or=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},s=new Ar,u=function(e){var t=e.v!==i?e.v:e.w,r=a[t],u=n(e),l=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(t,l))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(e,String(t),n||Nr,r||function(t){return e.outEdges(t)})},Nr=mr.constant(1),Pr=function(e){var t=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){mr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(a!==u);i.push(l)}}return e.nodes().forEach((function(e){mr.has(r,e)||o(e)})),i},Dr=mr.constant(1),Rr=Lr;function Lr(e){var t={},n={},r=[];if(mr.each(e.sinks(),(function i(o){if(mr.has(n,o))throw new jr;mr.has(t,o)||(n[o]=!0,t[o]=!0,mr.each(e.predecessors(o),i),delete n[o],r.push(o))})),mr.size(t)!==e.nodeCount())throw new jr;return r}function jr(){}Lr.CycleException=jr,jr.prototype=new Error;var Fr=function(e,t,n){mr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return mr.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);Br(e,t,"post"===n,o,r,i)})),i};function Br(e,t,n,r,i,o){mr.has(r,t)||(r[t]=!0,n||o.push(t),mr.each(i(t),(function(t){Br(e,t,n,r,i,o)})),n&&o.push(t))}var zr,Yr={Graph:Sr.Graph,json:Tr,alg:{components:function(e){var t,n={},r=[];function i(r){mr.has(n,r)||(n[r]=!0,t.push(r),mr.each(e.successors(r),i),mr.each(e.predecessors(r),i))}return mr.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r},dijkstra:Or,dijkstraAll:function(e,t,n){return mr.transform(e.nodes(),(function(r,i){r[i]=Or(e,i,t,n)}),{})},findCycles:function(e){return mr.filter(Pr(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||Dr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Rr(e)}catch(e){if(e instanceof Rr.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Fr(e,t,"post")},preorder:function(e,t){return Fr(e,t,"pre")},prim:function(e,t){var n,r=new yr,i={},o=new Ar;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===e.nodeCount())return r;mr.each(e.nodes(),(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),mr.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:Pr,topsort:Rr},version:Sr.version};try{zr=Yr}catch(c){}zr||(zr=window.graphlib);var Gr,Vr=zr,Wr=function(e,t,n){if(!F(n))return!1;var r=typeof t;return!!("number"==r?ze(n)&&Se(t,n.length):"string"==r&&t in n)&&w(n[t],e)},Ur=Object.prototype,Zr=Ur.hasOwnProperty,Hr=ur((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Wr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=We(o),s=-1,u=a.length;++s<u;){var l=a[s],c=e[l];(void 0===c||w(c,Ur[l])&&!Zr.call(e,l))&&(e[l]=o[l])}return e})),qr=/^\s+|\s+$/g,Xr=/^[-+]0x[0-9a-f]+$/i,Kr=/^0b[01]+$/i,Jr=/^0o[0-7]+$/i,$r=parseInt,Qr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(qr,"");var n=Kr.test(e);return n||Jr.test(e)?$r(e.slice(2),n?2:8):Xr.test(e)?NaN:+e}(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ei=Math.max,ti=function(e){return function(t,n,r){var i=Object(t);if(!ze(t)){var o=An(n);t=Ye(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=Qr(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=ei(r+i,0)),lr(e,An(t),i)})),ni=function(e){return null!=e&&e.length?tr(e,1):[]},ri=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!on(a):n(a,s)))var s=a,u=o}return u},ii=function(e,t){return e>t},oi=function(e,t,n){(void 0!==n&&!w(e[t],n)||void 0===n&&!(t in e))&&de(e,t,n)},ai=Function.prototype,si=Object.prototype,ui=ai.toString,li=si.hasOwnProperty,ci=ui.call(Object),di=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},fi=function(e,t,n,r,i,o,a){var s=di(e,n),u=di(t,n),l=a.get(u);if(l)oi(e,n,l);else{var c=o?o(s,u,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=we(u),h=!f&&ke(u),p=!f&&!h&&Oe(u);c=u,f||h||p?we(s)?c=s:pr(s)?c=Ze(s):h?(d=!1,c=Ue(u,!0)):p?(d=!1,c=wt(u,!0)):c=[]:function(e){if(!ge(e)||"[object Object]"!=j(e))return!1;var t=Qe(e);if(null===t)return!0;var n=li.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ui.call(n)==ci}(u)||xe(u)?(c=s,xe(s)?c=function(e){return pe(e,We(e))}(s):F(s)&&!B(s)||(c=St(u))):d=!1}d&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),oi(e,n,c)}},hi=function e(t,n,r,i,o){t!==n&&Pt(n,(function(a,s){if(o||(o=new ue),F(a))fi(t,n,s,r,e,i,o);else{var u=i?i(di(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),oi(t,s,u)}}),We)},pi=function(e){return ur((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Wr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r)}return t}))}((function(e,t,n){hi(e,t,n)})),gi=function(e,t){return e<t},vi=function(e,t,n,r){if(!F(e))return e;for(var i=-1,o=(t=xn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=wn(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=F(c)?c:Se(t[i+1])?[]:{})}he(s,u,l),s=s[u]}return e},mi=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=En(e,a);n(s,a)&&vi(o,xn(a,e),s)}return o}(e,t,(function(t,n){return Sn(e,n)}))},yi=function(e){return sr(ir(e,void 0,ni),e+"")}((function(e,t){return null==e?{}:mi(e,t)})),bi=Math.ceil,xi=Math.max,wi=function(e,t,n){return n&&"number"!=typeof n&&Wr(e,t,n)&&(t=n=void 0),e=Qr(e),void 0===t?(t=e,e=0):t=Qr(t),function(e,t,n,r){for(var i=-1,o=xi(bi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Qr(n),void 0)},Ei=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=on(e),a=void 0!==t,s=null===t,u=t==t,l=on(t);if(!s&&!l&&!o&&e>t||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},ki=function(e,t,n){t=t.length?gn(t,(function(e){return we(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[Lt];var r=-1;t=gn(t,Me(An));var i=Ln(e,(function(e,n,i){return{criteria:gn(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Ei(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},_i=ur((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Wr(e,t[0],t[1])?t=[]:n>2&&Wr(t[0],t[1],t[2])&&(t=[t[0]]),ki(e,tr(t,1),[])})),Si=0;try{Gr={cloneDeep:function(e){return Ot(e,5)},constant:Nt,defaults:Hr,each:Bt,filter:In,find:ti,flatten:ni,forEach:Ft,forIn:function(e,t){return null==e?e:Pt(e,jt(t),We)},has:Pn,isUndefined:Rn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:jn,mapValues:function(e,t){var n={};return t=An(t),Dt(e,(function(e,r,i){de(n,r,t(e,r,i))})),n},max:function(e){return e&&e.length?ri(e,Lt,ii):void 0},merge:pi,min:function(e){return e&&e.length?ri(e,Lt,gi):void 0},minBy:function(e,t){return e&&e.length?ri(e,An(t),gi):void 0},now:function(){return A.Date.now()},pick:yi,range:wi,reduce:zn,sortBy:_i,uniqueId:function(e){var t=++Si;return bn(e)+t},values:vr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],he)}}}catch(c){}Gr||(Gr=window._);var Ti=Gr,Ci=Mi;function Mi(){var e={};e._next=e._prev=e,this._sentinel=e}function Ai(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Ii(e,t){if("_next"!==e&&"_prev"!==e)return t}Mi.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ai(t),t},Mi.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ai(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Mi.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Ii)),n=n._prev;return"["+e.join(", ")+"]"};var Oi=Vr.Graph,Ni=Ti.constant(1);function Pi(e,t,n,r,i){var o=i?[]:void 0;return Ti.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Di(t,n,s)})),Ti.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Di(t,n,a)})),e.removeNode(r.v),o}function Di(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ri=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Oi,r=0,i=0;Ti.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),Ti.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var o=Ti.range(i+r+3).map((function(){return new Ci})),a=r+1;return Ti.forEach(n.nodes(),(function(e){Di(o,a,n.node(e))})),{graph:n,buckets:o,zeroIdx:a}}(e,t||Ni),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Pi(e,t,n,r);for(;r=o.dequeue();)Pi(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(Pi(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return Ti.flatten(Ti.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return Ti.forEach(e.nodes(),(function i(o){Ti.has(r,o)||(r[o]=!0,n[o]=!0,Ti.forEach(e.outEdges(o),(function(e){Ti.has(n,e.w)?t.push(e):i(e.w)})),delete n[o])})),t}(e);Ti.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,Ti.uniqueId("rev"))}))},Li=function(e){Ti.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))},ji=Vr.Graph,Fi={addDummyNode:Bi,simplify:function(e){var t=(new ji).setGraph(e.graph());return Ti.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),Ti.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new ji({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ti.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),Ti.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=Ti.map(e.nodes(),(function(t){var n={};return Ti.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return Ti.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=Ti.map(e.nodes(),(function(t){var n={};return Ti.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return Ti.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=Ti.map(Ti.range(zi(e)+1),(function(){return[]}));return Ti.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;Ti.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=Ti.min(Ti.map(e.nodes(),(function(t){return e.node(t).rank})));Ti.forEach(e.nodes(),(function(n){var r=e.node(n);Ti.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=Ti.min(Ti.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];Ti.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;Ti.forEach(n,(function(t,n){Ti.isUndefined(t)&&n%i!=0?--r:r&&Ti.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Bi(e,"border",i,t)},maxRank:zi,partition:function(e,t){var n={lhs:[],rhs:[]};return Ti.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=Ti.now();try{return t()}finally{console.log(e+" time: "+(Ti.now()-n)+"ms")}},notime:function(e,t){return t()}};function Bi(e,t,n,r){var i;do{i=Ti.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function zi(e){return Ti.max(Ti.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!Ti.isUndefined(n))return n})))}var Yi=function(e){e.graph().dummyChains=[],Ti.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),d=c.labelRank;if(u!==a+1){for(e.removeEdge(t),i=0,++a;a<u;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},n=Fi.addDummyNode(e,"edge",r,"_d"),a===d&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(o,n,{weight:c.weight},l),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:c.weight},l)}}(e,t)}))},Gi=function(e){Ti.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))},Vi=function(e){var t={};Ti.forEach(e.sources(),(function n(r){var i=e.node(r);if(Ti.has(t,r))return i.rank;t[r]=!0;var o=Ti.min(Ti.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},Wi=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Ui=Vr.Graph,Zi=Wi,Hi=function(e){var t,n,r=new Ui({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});qi(r,e)<o;)t=Xi(r,e),n=r.hasNode(t.v)?Zi(e,t):-Zi(e,t),Ki(r,e,n);return r};function qi(e,t){return Ti.forEach(e.nodes(),(function n(r){Ti.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Zi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function Xi(e,t){return Ti.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Zi(t,n)}))}function Ki(e,t,n){Ti.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var Ji=Wi,$i=Vi,Qi=Vr.alg.preorder,eo=Vr.alg.postorder,to=Fi.simplify,no=ro;function ro(e){e=to(e),$i(e);var t,n=Hi(e);for(ao(n),io(n,e);t=uo(n);)co(n,e,t,lo(n,e,t))}function io(e,t){var n=eo(e,e.nodes());n=n.slice(0,n.length-1),Ti.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=oo(e,t,n)}(e,t,n)}))}function oo(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,Ti.forEach(t.nodeEdges(n),(function(o){var s,u,l=o.v===n,c=l?o.w:o.v;if(c!==r){var d=l===i,f=t.edge(o).weight;if(a+=d?f:-f,s=n,u=c,e.hasEdge(s,u)){var h=e.edge(n,c).cutvalue;a+=d?-h:h}}})),a}function ao(e,t){arguments.length<2&&(t=e.nodes()[0]),so(e,{},1,t)}function so(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Ti.forEach(e.neighbors(r),(function(i){Ti.has(t,i)||(n=so(e,t,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function uo(e){return Ti.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function lo(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=Ti.filter(t.edges(),(function(t){return u===fo(e,e.node(t.v),s)&&u!==fo(e,e.node(t.w),s)}));return Ti.minBy(l,(function(e){return Ji(t,e)}))}function co(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),ao(e),io(e,t),function(e,t){var n=Ti.find(e.nodes(),(function(e){return!t.node(e).parent})),r=Qi(e,n);r=r.slice(1),Ti.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function fo(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}ro.initLowLimValues=ao,ro.initCutValues=io,ro.calcCutValue=oo,ro.leaveEdge=uo,ro.enterEdge=lo,ro.exchangeEdges=co;var ho=Vi,po=ho;function go(e){no(e)}var vo=function(e){var t=Fi.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Ti.forEach(o,(function(e){n(e,i+1)})),t[r]=i}return Ti.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=Ti.max(Ti.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Ti.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var o=function(e){return Ti.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;Ti.forEach(e.children(),(function(a){yo(e,t,i,o,r,n,a)})),e.graph().nodeRankFactor=i},mo=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ti.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))};function yo(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var u=Fi.addBorderNode(e,"_bt"),l=Fi.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(u,a),c.borderTop=u,e.setParent(l,a),c.borderBottom=l,Ti.forEach(s,(function(s){yo(e,t,n,r,i,o,s);var c=e.node(s),d=c.borderTop?c.borderTop:s,f=c.borderBottom?c.borderBottom:s,h=c.borderTop?r:2*r,p=d!==f?1:i-o[a]+1;e.setEdge(u,d,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(f,l,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function bo(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=Fi.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var xo=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||Eo(e)},wo=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){Ti.forEach(e.nodes(),(function(t){_o(e.node(t))})),Ti.forEach(e.edges(),(function(t){var n=e.edge(t);Ti.forEach(n.points,_o),Ti.has(n,"y")&&_o(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){Ti.forEach(e.nodes(),(function(t){So(e.node(t))})),Ti.forEach(e.edges(),(function(t){var n=e.edge(t);Ti.forEach(n.points,So),Ti.has(n,"x")&&So(n)}))}(e),Eo(e))};function Eo(e){Ti.forEach(e.nodes(),(function(t){ko(e.node(t))})),Ti.forEach(e.edges(),(function(t){ko(e.edge(t))}))}function ko(e){var t=e.width;e.width=e.height,e.height=t}function _o(e){e.y=-e.y}function So(e){var t=e.x;e.x=e.y,e.y=t}var To=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=Co(e,t[r-1],t[r]);return n};function Co(e,t,n){for(var r=Ti.zipObject(n,Ti.map(n,(function(e,t){return t}))),i=Ti.flatten(Ti.map(t,(function(t){return Ti.sortBy(Ti.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Ti.map(new Array(a),(function(){return 0})),u=0;return Ti.forEach(i.forEach((function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}function Mo(e,t,n){for(var r;t.length&&(r=Ti.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var Ao=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,l={};s&&(o=Ti.filter(o,(function(e){return e!==s&&e!==u})));var c=function(e,t){return Ti.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=Ti.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}(t,o);Ti.forEach(c,(function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);l[n.v]=o,Ti.has(o,"barycenter")&&(a=n,s=o,Ti.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var d=function(e,t){var n={};return Ti.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};Ti.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),Ti.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];Ti.isUndefined(t)||Ti.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(Ti.isUndefined(t.barycenter)||Ti.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),Ti.forEach(i.in.reverse(),n(i)),Ti.forEach(i.out,r(i))}return Ti.map(Ti.filter(t,(function(e){return!e.merged})),(function(e){return Ti.pick(e,["vs","i","barycenter","weight"])}))}(Ti.filter(n,(function(e){return!e.indegree})))}(c,r);!function(e,t){Ti.forEach(e,(function(e){e.vs=Ti.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(d,l);var f=function(e,t){var n,r=Fi.partition(e,(function(e){return Ti.has(e,"barycenter")})),i=r.lhs,o=Ti.sortBy(r.rhs,(function(e){return-e.i})),a=[],s=0,u=0,l=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),l=Mo(a,o,l),Ti.forEach(i,(function(e){l+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,l=Mo(a,o,l)}));var c={vs:Ti.flatten(a,!0)};return u&&(c.barycenter=s/u,c.weight=u),c}(d,i);if(s&&(f.vs=Ti.flatten([s,f.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);Ti.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f},Io=Vr.Graph,Oo=Vr.Graph,No=function(e){var t=Fi.maxRank(e),n=Po(e,Ti.range(1,t+1),"inEdges"),r=Po(e,Ti.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=Ti.filter(e.nodes(),(function(t){return!e.children(t).length})),r=Ti.max(Ti.map(n,(function(t){return e.node(t).rank}))),i=Ti.map(Ti.range(r+1),(function(){return[]})),o=Ti.sortBy(n,(function(t){return e.node(t).rank}));return Ti.forEach(o,(function n(r){if(!Ti.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),Ti.forEach(e.successors(r),n)}})),i}(e);Ro(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Do(s%2?n:r,s%4>=2),i=Fi.buildLayerMatrix(e);var l=To(e,i);l<a&&(u=0,o=Ti.cloneDeep(i),a=l)}Ro(e,o)};function Po(e,t,n){return Ti.map(t,(function(t){return function(e,t,n){var r=function(e){for(var t;e.hasNode(t=Ti.uniqueId("_root")););return t}(e),i=new Io({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return Ti.forEach(e.nodes(),(function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Ti.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=Ti.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})})),Ti.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i}(e,t,n)}))}function Do(e,t){var n=new Oo;Ti.forEach(e,(function(e){var r=e.graph().root,i=Ao(e,r,n,t);Ti.forEach(i.vs,(function(t,n){e.node(t).order=n})),function(e,t,n){var r,i={};Ti.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}(e,n,i.vs)}))}function Ro(e,t){Ti.forEach(t,(function(t){Ti.forEach(t,(function(t,n){e.node(t).order=n}))}))}var Lo=Vr.Graph;function jo(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Fo(e,t,n){if(t>n){var r=t;t=n,n=r}return Ti.has(e[t],n)}var Bo=function(e){var t,n=Fi.buildLayerMatrix(e),r=Ti.merge(function(e,t){var n={};return Ti.reduce(t,(function(t,r){var i=0,o=0,a=t.length,s=Ti.last(r);return Ti.forEach(r,(function(t,u){var l=function(e,t){if(e.node(t).dummy)return Ti.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),c=l?e.node(l).order:a;(l||t===s)&&(Ti.forEach(r.slice(o,u+1),(function(t){Ti.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||c<a)||o.dummy&&e.node(t).dummy||jo(n,r,t)}))})),o=u+1,i=c)})),r})),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;Ti.forEach(Ti.range(r,i),(function(r){s=t[r],e.node(s).dummy&&Ti.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&jo(n,t,s)}))}))}return Ti.reduce(t,(function(t,n){var i,o=-1,a=0;return Ti.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n}(e,n)),i={};Ti.forEach(["u","d"],(function(o){t="u"===o?n:Ti.values(n).reverse(),Ti.forEach(["l","r"],(function(n){"r"===n&&(t=Ti.map(t,(function(e){return Ti.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return Ti.forEach(t,(function(e){Ti.forEach(e,(function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),Ti.forEach(t,(function(e){var t=-1;Ti.forEach(e,(function(e){var s=r(e);if(s.length)for(var u=((s=Ti.sortBy(s,(function(e){return a[e]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var d=s[l];o[e]===e&&t<a[d]&&!Fo(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}))})),{root:i,align:o}}(0,t,r,a),u=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new Lo,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,Ti.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,Ti.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}(o.nodesep,o.edgesep,r);return Ti.forEach(t,(function(t){var r;Ti.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){o[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}),a.successors.bind(a)),Ti.forEach(r,(function(e){o[e]=o[n[e]]})),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Ti.mapValues(u,(function(e){return-e}))),i[o+n]=u}))}));var o=function(e,t){return Ti.minBy(Ti.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Ti.forIn(t,(function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}(e,i);return function(e,t){var n=Ti.values(t),r=Ti.min(n),i=Ti.max(n);Ti.forEach(["u","d"],(function(n){Ti.forEach(["l","r"],(function(o){var a,s=n+o,u=e[s];if(u!==t){var l=Ti.values(u);(a="l"===o?r-Ti.min(l):i-Ti.max(l))&&(e[s]=Ti.mapValues(u,(function(e){return e+a})))}}))}))}(i,o),function(e,t){return Ti.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=Ti.sortBy(Ti.map(e,r));return(i[1]+i[2])/2}))}(i,e.graph().align)},zo=Fi.normalizeRanks,Yo=Fi.removeEmptyRanks,Go=Fi,Vo=Vr.Graph,Wo=["nodesep","edgesep","ranksep","marginx","marginy"],Uo={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Zo=["acyclicer","ranker","rankdir","align"],Ho=["width","height"],qo={width:0,height:0},Xo=["minlen","weight","width","height","labeloffset"],Ko={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Jo=["labelpos"];function $o(e,t){return Ti.mapValues(Ti.pick(e,t),Number)}function Qo(e){var t={};return Ti.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var ea=Vr.Graph,ta={graphlib:Vr,layout:function(e,t){var n=t&&t.debugTiming?Go.time:Go.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new Vo({multigraph:!0,compound:!0}),n=Qo(e.graph());return t.setGraph(Ti.merge({},Uo,$o(n,Wo),Ti.pick(n,Zo))),Ti.forEach(e.nodes(),(function(n){var r=Qo(e.node(n));t.setNode(n,Ti.defaults($o(r,Ho),qo)),t.setParent(n,e.parent(n))})),Ti.forEach(e.edges(),(function(n){var r=Qo(e.edge(n));t.setEdge(n,Ti.merge({},Ko,$o(r,Xo),Ti.pick(r,Jo)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,Ti.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){Ti.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){Ri(e)})),t("    nestingGraph.run",(function(){vo(e)})),t("    rank",(function(){!function(e){switch(e.graph().ranker){case"network-simplex":default:go(e);break;case"tight-tree":!function(e){ho(e),Hi(e)}(e);break;case"longest-path":po(e)}}(Go.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){Ti.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Go.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){Yo(e)})),t("    nestingGraph.cleanup",(function(){mo(e)})),t("    normalizeRanks",(function(){zo(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;Ti.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Ti.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){Ti.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){Yi(e)})),t("    parentDummyChains",(function(){!function(e){var t=function(e){var t={},n=0;return Ti.forEach(e.children(),(function r(i){var o=n;Ti.forEach(e.children(i),r),t[i]={low:o,lim:n++}})),t}(e);Ti.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=a[u])!==s&&e.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}e.setParent(n,l),n=e.successors(n)[0]}}))}(e)})),t("    addBorderSegments",(function(){!function(e){Ti.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Ti.forEach(r,t),Ti.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)bo(e,"borderLeft","_bl",n,i,o),bo(e,"borderRight","_br",n,i,o)}}))}(e)})),t("    order",(function(){No(e)})),t("    insertSelfEdges",(function(){!function(e){var t=Go.buildLayerMatrix(e);Ti.forEach(t,(function(t){var n=0;Ti.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,Ti.forEach(i.selfEdges,(function(t){Go.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){xo(e)})),t("    position",(function(){!function(e){(function(e){var t=Fi.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ti.forEach(t,(function(t){var i=Ti.max(Ti.map(t,(function(t){return e.node(t).height})));Ti.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=Fi.asNonCompoundGraph(e)),Ti.forEach(Bo(e),(function(t,n){e.node(n).x=t}))}(e)})),t("    positionSelfEdges",(function(){!function(e){Ti.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){Ti.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(Ti.last(n.borderLeft)),a=e.node(Ti.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),Ti.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){Gi(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){Ti.forEach(e.edges(),(function(t){var n=e.edge(t);if(Ti.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){wo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}Ti.forEach(e.nodes(),(function(t){u(e.node(t))})),Ti.forEach(e.edges(),(function(t){var n=e.edge(t);Ti.has(n,"x")&&u(n)})),t-=a,r-=s,Ti.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),Ti.forEach(e.edges(),(function(n){var i=e.edge(n);Ti.forEach(i.points,(function(e){e.x-=t,e.y-=r})),Ti.has(i,"x")&&(i.x-=t),Ti.has(i,"y")&&(i.y-=r)})),o.width=n-t+a,o.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){Ti.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Go.intersectRect(o,n)),i.points.push(Go.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){Ti.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){Li(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){Ti.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),Ti.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Ti.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},debug:{debugOrdering:function(e){var t=Fi.buildLayerMatrix(e),n=new ea({compound:!0,multigraph:!0}).setGraph({});return Ti.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),Ti.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),Ti.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),Ti.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:Fi.time,notime:Fi.notime},version:"0.8.5"},na=ta.graphlib,ra=ta.layout,ia=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=h.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height})),oa=(0,u.Z)((function e(){(0,l.Z)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]}));var aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.Z)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=h.META,this.path=[],this.name=t,this.metaGraph=ca(t,g.META,n)}return(0,u.Z)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map((function(t){return e.metaGraph.node(t)}))}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach((function(t){return n.push(e.node(t))})):t.push(r.name)}return t}}]),e}(),sa=function(){function e(t,n){(0,l.Z)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return(0,u.Z)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new aa(e,t)}function la(e,t){return new sa(e,t)}function ca(e,t,n){var r=n||{},i=new na.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var da=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.Z)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ua(m,this.graphOptions),this.index[m]=this.root}return(0,u.Z)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=ca(y,g.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach((function(n){n.edges().filter((function(t){return t.v===e||t.w===e})).forEach((function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach((function(n){var a=o?[n.w,r.v]:[n.v,r.w],u=(0,s.Z)(a,2),l=u[0],c=u[1],d=t.getChildName(e,l),f={v:o?c:d,w:o?d:c},h=i.edge(f);h||((h=la(f.v,f.w)).inbound=o,i.setEdge(f.v,f.w,h)),h.addBaseEdge(n,t)}))}))})),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return fa(i,e,t,n),fa(o,e,t,n),n}}]),e}();function fa(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach((function(t){var n=e.edge(t);r.push(n)}))}var ha=function(){function e(t){(0,l.Z)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new va(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return(0,u.Z)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===h.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach((function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)})),i.edges().forEach((function(e){var t=i.edge(e),n=new ga(t);o.setEdge(e.v,e.w,n)}));var a=r.node.parentNode;if(a){var u=this.getRenderNodeByName(a.name),l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},c=this.hierarchy.getBridgeGraph(e);c.edges().forEach((function(n){var r=c.edge(n),d=!!i.node(n.w),f=d?[n.w,n.v]:[n.v,n.w],g=(0,s.Z)(f,2),v=g[0],m=g[1],y=function(t){var n=d?{v:t,w:e}:{v:e,w:t};return u.coreGraph.edge(n)},b=y(m);b||(b=y(l(d,m,a.name)));var x=l(d,e),w=l(d,m,e),E=o.node(w);if(!E){var k=o.node(x);if(!k){var _={name:x,type:h.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:d,attr:{}};k=new pa(_),t.index[x]=k,o.setNode(x,k)}var S={name:w,type:h.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:d,attr:{}};E=new pa(S),t.index[w]=E,o.setNode(w,E),o.setParent(w,x),k.node.cardinality++}var T=new ga(r);T.adjoiningMetaEdge=b,d?o.setEdge(w,v,T):o.setEdge(v,w,T)}))}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new va(t,this.hierarchy.graphOptions):new pa(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),pa=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr})),ga=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]})),va=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;(0,l.Z)(this,n),i=t.call(this,e);var o=e.metaGraph.graph();return r.compound=!0,i.coreGraph=ca(o.name,g.CORE,r),i}return(0,u.Z)(n)}(pa);function ma(e,t){e.node.isGroupNode&&function(e,t){var n=d(t);e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)})).forEach((function(e){var r,i,o,a,s,u,l=e.height,c=e.width;switch(e.node.type){case h.NODE:Object.assign(e,n.nodeSize.node),e.height=l||n.nodeSize.node.height,e.width=c||n.nodeSize.node.width;break;case h.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case h.META:e.expanded?ma(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var d=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length,r=3;e.width=Math.max(e.coreBox.width,n*r)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!d.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(e,t),e.node.type===h.META&&function(e,t){var n=d(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach((function(t){e.node(t).node.type!==h.BRIDGE&&a.push(t)})),!a.length)return{width:0,height:0};ra(e);var s=1/0,u=1/0,l=-1/0,c=-1/0;return a.forEach((function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,l=o>l?o:l;var a=.5*n.height,d=n.y-a,f=n.y+a;u=d<u?d:u,c=f>c?f:c})),e.edges().forEach((function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ya(e[0],e[1]),n=1;n<e.length-1;n++){var r=ya(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:ba(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:ba(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var d=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=xa(d,i));var f=n.points[1];null!=r&&(n.points[0]=xa(f,r)),n.points.forEach((function(e){s=e.x<s?e.x:s,l=e.x>l?e.x:l,u=e.y<u?e.y:u,c=e.y>c?e.y:c}))})),e.nodes().forEach((function(t){var n=e.node(t);n.x-=s,n.y-=u})),e.edges().forEach((function(t){e.edge(t).points.forEach((function(e){e.x-=s,e.y-=u}))})),{width:l-s,height:c-u}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ya(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function ba(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function xa(e,t){var n,r,i=t.expanded?t.x:ba(t),o=t.y,a=e.x-i,s=e.y-o,u=t.expanded?t.width:t.coreBox.width,l=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*l/2?(s<0&&(l=-l),n=0===s?0:l/2*a/s,r=l/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:i+n,y:o+r}}function wa(e,t,n){var o,a,u,l,d=e.nodes.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))!==t})).map((function(e){return e.id}));if(d.length)throw new Error("Duplicated ids found: ".concat(d.join(", ")));var f=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),o=new Map,a=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.has(t))return o.get(t);for(var a=0;a<r.length;a++){var s=r[a];if(n&&-1!==n[s].indexOf(t))return i.unshift(s),e(s,i)}return 0===i.length&&o.set(t,i),i},s=function(t){return e.edges.filter((function(e){return e.w===t})).map((function(e){return{name:e.v}}))};return e.nodes.forEach((function(e){var n=e.id,r=[].concat((0,i.Z)(a(n)),[n]),o=s(n);t.nodes.push({name:n,path:r,inputs:o,width:e.width,height:e.height,attr:Object.assign({},e)})})),t}(e),h=function(e,t){var n=function(e,t){var n,i=(0,r.Z)(t.values());try{for(i.s();!(n=i.n()).done;){if(n.value.includes(e))return!0}}catch(o){i.e(o)}finally{i.f()}return!1};return function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return(0,i.Z)(new Set(o));var a,u=new Map(Object.keys(t).map((function(e){return[e,t[e]]}))),l={},c=(0,r.Z)(u);try{for(c.s();!(a=c.n()).done;){var d=(0,s.Z)(a.value,2),f=d[0],h=d[1];n(f,u)?l[f]=h:o=o.concat(f,h)}}catch(p){c.e(p)}finally{c.f()}return e(l,o)}(e).filter((function(e){return t.includes(e)}))}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new ha(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new da({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var s=i[a],u=e.node(s);u||((u=ua(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=o,e.setNode(s,u),o.metaGraph.setNode(s,u)),o=u}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach((function(a){r=[],i=[];for(var s=o(t.nodes[a.v],r),u=o(t.nodes[a.w],i);r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var l=n[r[s+1]],c=r[s],d=i[u],f=l.metaGraph.edge(c,d);f||(f=la(c,d),l.metaGraph.setEdge(c,d,f)),f.addBaseEdge(a,e)}))}(i,e),i}(function(e){var t=new oa;return e.nodes.map((function(e){return new ia(e)})).forEach((function(e){t.nodes[e.name]=e,e.inputs.forEach((function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)}))})),t}(e),t))}(f,{rankDirection:(null===(a=null===(o=null==n?void 0:n.graph)||void 0===o?void 0:o.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||c.graph.meta.rankDir,align:(null===(l=null===(u=null==n?void 0:n.graph)||void 0===u?void 0:u.meta)||void 0===l?void 0:l.align)||c.graph.meta.align});return function(e,t){t.forEach((function(t){var n=e.getRenderInfoNodes().find((function(e){return e.displayName===t})),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)}))}(p,h),ma(p.root,n),_a(p.root)}function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:(0,i.Z)(n.edges)};return n.nodes.forEach((function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)})),t&&r.nodes.forEach((function(e){var t=r.nodes.find((function(t){return t.id===e.parentNodeName}));if(t){var n=t.x-t.width/2+t.paddingLeft,i=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==m&&(e.x+=n,e.y+=i),0===e.type&&e.edges.forEach((function(t){t.points.forEach((function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop}))}))}})),r}function ka(e,t,n,r){var o,a,s=[],u=(null===(o=n.find((function(t){return t.id===e})))||void 0===o?void 0:o.path)||[],l=(null===(a=n.find((function(e){return e.id===t})))||void 0===a?void 0:a.path)||[],c=[m].concat((0,i.Z)(u)).slice(0,u.length).reverse(),d=[m].concat((0,i.Z)(l)).slice(0,l.length);return c.forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),d.filter((function(e){return!c.includes(e)})).forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),s}function _a(e){var t,n=e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)}));return Object.assign(Object.assign({},Sa(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map((function(e){return e.node.type===h.META?_a(e):Sa(e)}))):[],edges:e.expanded?Ta(e):[]})}function Sa(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function Ta(e){return e.coreGraph.edges().map((function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}})).filter((function(e){return e.renderInfoEdge.metaEdge})).map((function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map((function(e){return Object.assign({},e)}));if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,l=o.x-s,c=o.y-u,d=-e.paddingLeft,f=-(e.paddingTop+e.labelHeight);a.x=l+d,a.y=c+f}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}}))}},50907:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5742:function(e,t,n){"use strict";n.r(t),n.d(t,{add:function(){return M},adjoint:function(){return h},clone:function(){return a},copy:function(){return s},create:function(){return i},determinant:function(){return p},equals:function(){return P},exactEquals:function(){return N},frob:function(){return C},fromMat2d:function(){return E},fromMat4:function(){return o},fromQuat:function(){return k},fromRotation:function(){return x},fromScaling:function(){return w},fromTranslation:function(){return b},fromValues:function(){return u},identity:function(){return c},invert:function(){return f},mul:function(){return D},multiply:function(){return g},multiplyScalar:function(){return I},multiplyScalarAndAdd:function(){return O},normalFromMat4:function(){return _},projection:function(){return S},rotate:function(){return m},scale:function(){return y},set:function(){return l},str:function(){return T},sub:function(){return R},subtract:function(){return A},translate:function(){return v},transpose:function(){return d}});var r=n(50907);function i(){var e=new r.WT(9);return r.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new r.WT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,n,i,o,a,s,u,l){var c=new r.WT(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c}function l(e,t,n,r,i,o,a,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function d(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function f(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=c*a-s*l,f=-c*o+s*u,h=l*o-a*u,p=n*d+r*f+i*h;return p?(p=1/p,e[0]=d*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*a,e[3]=s*u-o*c,e[4]=n*c-i*u,e[5]=i*o-n*s,e[6]=o*l-a*u,e[7]=r*u-n*l,e[8]=n*a-r*o,e}function p(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],h=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=f*r+h*a+p*l,e[1]=f*i+h*s+p*c,e[2]=f*o+h*u+p*d,e[3]=g*r+v*a+m*l,e[4]=g*i+v*s+m*c,e[5]=g*o+v*u+m*d,e[6]=y*r+b*a+x*l,e[7]=y*i+b*s+x*c,e[8]=y*o+b*u+x*d,e}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=f*r+h*a+l,e[7]=f*i+h*s+c,e[8]=f*o+h*u+d,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=Math.sin(n),h=Math.cos(n);return e[0]=h*r+f*a,e[1]=h*i+f*s,e[2]=h*o+f*u,e[3]=h*a-f*r,e[4]=h*s-f*i,e[5]=h*u-f*o,e[6]=l,e[7]=c,e[8]=d,e}function y(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function x(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function k(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,d=r*s,f=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-d-p,e[3]=c-m,e[6]=f+v,e[1]=c+m,e[4]=1-l-p,e[7]=h-g,e[2]=f-v,e[5]=h+g,e[8]=1-l-d,e}function _(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,E=r*l-o*s,k=i*l-o*u,_=c*g-d*p,S=c*v-f*p,T=c*m-h*p,C=d*v-f*g,M=d*m-h*g,A=f*m-h*v,I=y*A-b*M+x*C+w*T-E*S+k*_;return I?(I=1/I,e[0]=(s*A-u*M+l*C)*I,e[1]=(u*T-a*A-l*S)*I,e[2]=(a*M-s*T+l*_)*I,e[3]=(i*M-r*A-o*C)*I,e[4]=(n*A-i*T+o*S)*I,e[5]=(r*T-n*M-o*_)*I,e[6]=(g*k-v*E+m*w)*I,e[7]=(v*x-p*k-m*b)*I,e[8]=(p*E-g*x+m*y)*I,e):null}function S(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function T(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function M(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function A(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function I(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function O(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function N(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function P(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-f)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-h)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-y)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(d-x)<=r.Ib*Math.max(1,Math.abs(d),Math.abs(x))}var D=g,R=A},88679:function(e,t,n){"use strict";n.d(t,{$X:function(){return d},AK:function(){return g},Fv:function(){return p},IH:function(){return c},JG:function(){return u},Jp:function(){return f},TK:function(){return E},Ue:function(){return i},VC:function(){return x},Zh:function(){return k},al:function(){return s},bA:function(){return h},d9:function(){return o},fF:function(){return y},kC:function(){return v},kE:function(){return a},kK:function(){return b},lu:function(){return w},t7:function(){return m},t8:function(){return l}});var r=n(50907);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.WT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function d(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function m(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function x(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,d=o*s-r*l,f=r*u-i*s,h=i*f-o*d,p=o*c-r*f,g=r*d-i*c,v=2*a;return c*=v,d*=v,f*=v,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=u+d+p,e[2]=l+f+g,e}var w=d,E=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},k=a;!function(){var e=i()}()},91989:function(e){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},73543:function(e){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},19573:function(e){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},1523:function(e){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},47684:function(e){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},41023:function(e){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},6219:function(e,t,n){e.exports=n(40857)},40857:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},38785:function(e,t,n){e.exports=n(74967)},74967:function(e){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},847:function(e){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},61446:function(e){e.exports=1e-6},3348:function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(61446)},42239:function(e){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},95497:function(e){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},74330:function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(47684)()},39347:function(e){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},31583:function(e,t,n){e.exports={EPSILON:n(61446),create:n(47684),clone:n(19573),fromValues:n(39347),copy:n(1523),set:n(45713),equals:n(3348),exactEquals:n(42239),add:n(91989),subtract:n(88828),sub:n(61756),multiply:n(73533),mul:n(63749),divide:n(74967),div:n(38785),inverse:n(28937),min:n(37539),max:n(46912),rotate:n(60631),floor:n(95497),ceil:n(73543),round:n(80190),scale:n(68362),scaleAndAdd:n(25685),distance:n(40857),dist:n(6219),squaredDistance:n(65773),sqrDist:n(63039),length:n(70011),len:n(45007),squaredLength:n(66915),sqrLen:n(44269),negate:n(99582),normalize:n(97249),dot:n(847),cross:n(41023),lerp:n(35358),random:n(42970),transformMat2:n(59519),transformMat2d:n(80300),transformMat3:n(60492),transformMat4:n(78823),forEach:n(74330),limit:n(61407)}},28937:function(e){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},45007:function(e,t,n){e.exports=n(70011)},70011:function(e){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},35358:function(e){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},61407:function(e){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},46912:function(e){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},37539:function(e){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},63749:function(e,t,n){e.exports=n(73533)},73533:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},99582:function(e){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},97249:function(e){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},42970:function(e){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},60631:function(e){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},80190:function(e){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},68362:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},25685:function(e){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},45713:function(e){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},63039:function(e,t,n){e.exports=n(65773)},44269:function(e,t,n){e.exports=n(66915)},65773:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},66915:function(e){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},61756:function(e,t,n){e.exports=n(88828)},88828:function(e){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},59519:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},80300:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},60492:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},78823:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},62110:function(e,t,n){"use strict";var r=n(57441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=f(n,m);try{l(t,m,y)}catch(b){}}}}return t}},95929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},10722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(e,t,r,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,t)&&Reflect.defineMetadata(n,r(),this,t),Reflect.hasMetadata(n,this,t)?Reflect.getMetadata(n,this,t):r()},set:function(e){Reflect.defineMetadata(n,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,i){return function(o,a){r(o,a,(function(){return e.getNamed(n,i)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,i,o){return function(a,s){r(a,s,(function(){return e.getTagged(n,i,o)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.getAll(n)}),t)}}}},45696:function(e,t,n){"use strict";var r=n(10722);t.Z=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},43893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(39220),i=n(47909);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var l=a[u];if(Array.isArray(l))for(var c=0,d=l;c<d.length;c++){var f=d[c];if(f.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+f.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(39220),i=n(47909),o=n(4706),a=n(43893),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},59369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(39220),i=n(47909);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},65030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(47909),i=n(4706),o=n(43893);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},8130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(47909),i=n(4706),o=n(43893);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},54841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(47909),i=n(4706),o=n(43893);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},14793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(39220),i=n(47909),o=n(4706);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},94460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(4706),i=n(43893);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},60802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(47909),i=n(4706),o=n(43893);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},36906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(47909),i=n(4706),o=n(43893);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},58522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(71664),i=n(19825),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},71770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},39220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},71664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},47909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},13918:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(58522),s=n(39220),u=n(71664),l=n(47909),c=n(14658),d=n(77206),f=n(31801),h=n(44310),p=n(19825),g=n(94362),v=n(5628),m=n(39847),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return d.getBindingDictionary(e)})),u=d.getBindingDictionary(a);function l(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){l(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=d.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=d.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),f.resolve(n)}},e}();t.Container=y},67837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(19825),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},5628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},39847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(39220),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},66543:function(e,t,n){"use strict";t.f3=t.t6=t.b2=t.W2=void 0,n(47909);var r=n(13918);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(71664);var o=n(67837);var a=n(59369);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(94460);var u=n(8130);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var l=n(1412);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(54841);var d=n(36906);var f=n(65030);var h=n(60802);var p=n(14793);var g=n(14658);var v=n(19825);var m=n(43893);var y=n(80371);var b=n(94362);var x=n(26747)},73065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(19825),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},4706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(47909),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},14658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(47909),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},50343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},77206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(71770),i=n(39220),o=n(71664),a=n(47909),s=n(26016),u=n(94362),l=n(73065),c=n(4706),d=n(50343),f=n(82440),h=n(3668),p=n(697);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),l=t?s:s.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function m(e,t,n,r,a,s){var u,l;if(null===a){u=v(e,t,r,null,s),l=new h.Request(n,r,null,u,s);var c=new d.Plan(r,l);r.addPlan(c)}else u=v(e,t,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=l.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=l}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=f.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=f.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(t.implementationType));throw new Error(c)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,d,f){void 0===f&&(f=!1);var h=new l.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new p.Target(t,r,n,u);if(void 0!==i){var d=new c.Metadata(i,o);l.metadata.push(d)}return l}(n,r,i,"",o,d);try{return m(e,f,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),a=new l.Context(e);return new h.Request(t,a,null,[],i)}},63970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},82440:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(1412),o=n(39220),a=n(71664),s=n(47909),u=n(94362);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(697);function c(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,p=c.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=d(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,l,h||p?c.length:n.length),v=f(e,n);return r(r([],g),v)}function d(e,t,n,r,s){var u=s[e.toString()]||[],c=h(u),d=!0!==c.unmanaged,f=r[e],p=c.inject||c.multiInject;if((f=p||f)instanceof i.LazyServiceIdentifer&&(f=f.unwrap()),d){if(!t&&(f===Object||f===Function||void 0===f)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,f);return v.metadata=u,v}return null}function f(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],d=h(n[u]),p=d.targetName||u,g=d.inject||d.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,p,g);v.metadata=c,i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=f(e,m);i=r(r([],i),y)}return i}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return c(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:e(t,r)}return 0}},3668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(19825),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(47909),i=n(19825),o=n(4706),a=n(63970),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},1265:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(39220),o=n(71664),a=n(47909);t.resolveInstance=function(e,t,n){var s,u,l=null;if(t.length>0){var c=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(l=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else l=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,l),l}},31801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(39220),i=n(71664),o=n(26016),a=n(94362),s=n(1265),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},l=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),d=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&d)return l.map((function(n){return e(t)(n)}));var f=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],p=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(g&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)f=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)f=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)f=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)f=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)f=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)f=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}f=s.resolveInstance(h.implementationType,l,e(t))}return"function"===typeof h.onActivation&&(f=h.onActivation(n.parentContext,f)),p&&(h.cache=f,h.activated=!0),g&&null!==t&&!t.has(h.id)&&t.set(h.id,f),f}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},46120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(71664),i=n(56),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},28109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(46120),i=n(28262),o=n(85472),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},28262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(85472),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},44310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(39220),i=n(71664),o=n(28109),a=n(56),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(28262),i=n(85472),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},85472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(28262),i=n(80371),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},80371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(47909),i=n(4706);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},26747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},26016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(39220);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},19825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},94362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(39220);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),o=n(16037),a=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),o=n(64957),a=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),o=n(29186),a=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},20692:function(e,t,n){var r=n(78059),i=n(35774),o=n(41596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},22854:function(e,t,n){var r=n(38384),i=n(20511),o=n(50835),a=n(90707),s=n(18832),u=n(35077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},13665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},59055:function(e,t,n){var r=n(24842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},32683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},47538:function(e,t,n){var r=n(86478),i=n(34963),o=n(93629),a=n(5174),s=n(26800),u=n(19102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&u(e),h=n||c||d||f,p=h?r(e.length,String):[],g=p.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},68950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},47897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},28002:function(e,t,n){var r=n(32526),i=n(29231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},18463:function(e,t,n){var r=n(32526),i=n(29231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},11855:function(e,t,n){var r=n(64503),i=n(12742);e.exports=function(e,t){return e&&r(t,i(t),e)}},95076:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e,t){return e&&r(t,i(t),e)}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},31905:function(e,t,n){var r=n(22854),i=n(4550),o=n(18463),a=n(11855),s=n(95076),u=n(94523),l=n(10291),c=n(52455),d=n(57636),f=n(38248),h=n(55341),p=n(88383),g=n(39243),v=n(39759),m=n(40548),y=n(93629),b=n(5174),x=n(60103),w=n(8092),E=n(36995),k=n(12742),_=n(73961),S="[object Arguments]",T="[object Function]",C="[object Object]",M={};M[S]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[C]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[T]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,O,N){var P,D=1&n,R=2&n,L=4&n;if(A&&(P=O?A(t,I,O,N):A(t)),void 0!==P)return P;if(!w(t))return t;var j=y(t);if(j){if(P=g(t),!D)return l(t,P)}else{var F=p(t),B=F==T||"[object GeneratorFunction]"==F;if(b(t))return u(t,D);if(F==C||F==S||B&&!O){if(P=R||B?{}:m(t),!D)return R?d(t,s(P,t)):c(t,a(P,t))}else{if(!M[F])return O?t:{};P=v(t,F,D)}}N||(N=new r);var z=N.get(t);if(z)return z;N.set(t,P),E(t)?t.forEach((function(r){P.add(e(r,n,A,r,t,N))})):x(t)&&t.forEach((function(r,i){P.set(i,e(r,n,A,i,t,N))}));var Y=j?void 0:(L?R?h:f:R?_:k)(t);return i(Y||t,(function(r,i){Y&&(r=t[i=r]),o(P,i,e(r,n,A,i,t,N))})),P}},65763:function(e,t,n){var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},21468:function(e,t,n){var r=n(20692),i=n(59055),o=n(32683),a=n(68950),s=n(16194),u=n(60075);e.exports=function(e,t,n,l){var c=-1,d=i,f=!0,h=e.length,p=[],g=t.length;if(!h)return p;n&&(t=a(t,s(n))),l?(d=o,f=!1):t.length>=200&&(d=u,f=!1,t=new r(t));e:for(;++c<h;){var v=e[c],m=null==n?v:n(v);if(v=l||0!==v?v:0,f&&m===m){for(var y=g;y--;)if(t[y]===m)continue e;p.push(v)}else d(t,m,l)||p.push(v)}return p}},87927:function(e,t,n){var r=n(15358),i=n(67056)(r);e.exports=i},57523:function(e,t,n){var r=n(87927);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},55182:function(e,t,n){var r=n(41705),i=n(73529);e.exports=function e(t,n,o,a,s){var u=-1,l=t.length;for(o||(o=i),s||(s=[]);++u<l;){var c=t[u];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},85099:function(e,t,n){var r=n(30372)();e.exports=r},15358:function(e,t,n){var r=n(85099),i=n(12742);e.exports=function(e,t){return e&&r(e,t,i)}},98667:function(e,t,n){var r=n(43082),i=n(69793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),o=n(43581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},90529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},24842:function(e,t,n){var r=n(2045),i=n(50505),o=n(77167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},89931:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Date]"==r(e)}},71848:function(e,t,n){var r=n(93355),i=n(43141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},93355:function(e,t,n){var r=n(22854),i=n(15305),o=n(92206),a=n(88078),s=n(88383),u=n(93629),l=n(5174),c=n(19102),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=u(e),b=u(t),x=y?f:s(e),w=b?f:s(t),E=(x=x==d?h:x)==h,k=(w=w==d?h:w)==h,_=x==w;if(_&&l(e)){if(!l(t))return!1;y=!0,E=!1}if(_&&!E)return m||(m=new r),y||c(e)?i(e,t,n,g,v,m):o(e,t,x,n,g,v,m);if(!(1&n)){var S=E&&p.call(e,"__wrapped__"),T=k&&p.call(t,"__wrapped__");if(S||T){var C=S?e.value():e,M=T?t.value():t;return m||(m=new r),v(C,M,n,g,m)}}return!!_&&(m||(m=new r),a(e,t,n,g,v,m))}},53085:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},8856:function(e,t,n){var r=n(22854),i=n(71848);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=n[a])[0],d=e[c],f=l[1];if(u&&l[2]){if(void 0===d&&!(c in e))return!1}else{var h=new r;if(o)var p=o(d,f,c,e,t,h);if(!(void 0===p?i(f,d,3,o,h):p))return!1}}return!0}},50505:function(e){e.exports=function(e){return e!==e}},26703:function(e,t,n){var r=n(74786),i=n(257),o=n(8092),a=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},48680:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},68150:function(e,t,n){var r=n(39066),i=n(24635),o=n(43141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},56025:function(e,t,n){var r=n(97080),i=n(24322),o=n(2100),a=n(93629),s=n(10038);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},43654:function(e,t,n){var r=n(62936),i=n(75964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(62936),o=n(4221),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},53849:function(e,t,n){var r=n(87927),i=n(21473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},97080:function(e,t,n){var r=n(8856),i=n(79091),o=n(50284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},24322:function(e,t,n){var r=n(71848),i=n(26181),o=n(75658),a=n(25823),s=n(25072),u=n(50284),l=n(69793);e.exports=function(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},64173:function(e,t,n){var r=n(22854),i=n(28002),o=n(85099),a=n(49216),s=n(8092),u=n(73961),l=n(85906);e.exports=function e(t,n,c,d,f){t!==n&&o(n,(function(o,u){if(f||(f=new r),s(o))a(t,n,u,c,e,d,f);else{var h=d?d(l(t,u),o,u+"",t,n,f):void 0;void 0===h&&(h=o),i(t,u,h)}}),u)}},49216:function(e,t,n){var r=n(28002),i=n(94523),o=n(40613),a=n(10291),s=n(40548),u=n(34963),l=n(93629),c=n(56279),d=n(5174),f=n(74786),h=n(8092),p=n(93977),g=n(19102),v=n(85906),m=n(6576);e.exports=function(e,t,n,y,b,x,w){var E=v(e,n),k=v(t,n),_=w.get(k);if(_)r(e,n,_);else{var S=x?x(E,k,n+"",e,t,w):void 0,T=void 0===S;if(T){var C=l(k),M=!C&&d(k),A=!C&&!M&&g(k);S=k,C||M||A?l(E)?S=E:c(E)?S=a(E):M?(T=!1,S=i(k,!0)):A?(T=!1,S=o(k,!0)):S=[]:p(k)||u(k)?(S=E,u(E)?S=m(E):h(E)&&!f(E)||(S=s(k))):T=!1}T&&(w.set(k,S),b(S,k,y,x,w),w.delete(k)),r(e,n,S)}}},93226:function(e,t,n){var r=n(68950),i=n(98667),o=n(56025),a=n(53849),s=n(19179),u=n(16194),l=n(94480),c=n(2100),d=n(93629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var f=-1;t=r(t,u(o));var h=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return l(e,t,n)}))}},14980:function(e,t,n){var r=n(2591),i=n(75658);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2591:function(e,t,n){var r=n(98667),i=n(40379),o=n(43082);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var l=t[a],c=r(e,l);n(c,l)&&i(u,o(l,e),c)}return u}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(98667);e.exports=function(e){return function(t){return r(t,e)}}},58794:function(e,t,n){var r=n(2100),i=n(64262),o=n(79156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},40379:function(e,t,n){var r=n(18463),i=n(43082),o=n(26800),a=n(8092),s=n(69793);e.exports=function(e,t,n,u){if(!a(e))return e;for(var l=-1,c=(t=i(t,e)).length,d=c-1,f=e;null!=f&&++l<c;){var h=s(t[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=d){var g=f[h];void 0===(p=u?u(g,h,f):void 0)&&(p=a(g)?g:o(t[l+1])?[]:{})}r(f,h,p),f=f[h]}return e}},7532:function(e,t,n){var r=n(71547),i=n(48528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},19179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(87197),i=n(68950),o=n(93629),a=n(70152),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},39602:function(e,t,n){var r=n(20692),i=n(59055),o=n(32683),a=n(60075),s=n(77730),u=n(22230);e.exports=function(e,t,n){var l=-1,c=i,d=e.length,f=!0,h=[],p=h;if(n)f=!1,c=o;else if(d>=200){var g=t?null:s(e);if(g)return u(g);f=!1,c=a,p=new r}else p=t?[]:h;e:for(;++l<d;){var v=e[l],m=t?t(v):v;if(v=n||0!==v?v:0,f&&m===m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),h.push(v)}else c(p,m,n)||(p!==h&&p.push(m),h.push(v))}return h}},86555:function(e,t,n){var r=n(43082),i=n(15727),o=n(68978),a=n(69793);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},60075:function(e){e.exports=function(e,t){return e.has(t)}},43082:function(e,t,n){var r=n(93629),i=n(25823),o=n(10170),a=n(63518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},7010:function(e,t,n){var r=n(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},94523:function(e,t,n){e=n.nmd(e);var r=n(97009),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},61022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},64720:function(e,t,n){var r=n(87197),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},40613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},88558:function(e,t,n){var r=n(70152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,u=null===t,l=t===t,c=r(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}},94480:function(e,t,n){var r=n(88558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=u?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},10291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},64503:function(e,t,n){var r=n(18463),i=n(32526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?i(n,l,c):r(n,l,c)}return n}},52455:function(e,t,n){var r=n(64503),i=n(65918);e.exports=function(e,t){return r(e,i(e),t)}},57636:function(e,t,n){var r=n(64503),i=n(38487);e.exports=function(e,t){return r(e,i(e),t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},39934:function(e,t,n){var r=n(58794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},67056:function(e,t,n){var r=n(21473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},30372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},77730:function(e,t,n){var r=n(23924),i=n(19694),o=n(22230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},26013:function(e,t,n){var r=n(93977);e.exports=function(e){return r(e)?void 0:e}},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},15305:function(e,t,n){var r=n(20692),i=n(47897),o=n(60075);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var f=u.get(e),h=u.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var m=e[p],y=t[p];if(a)var b=l?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},92206:function(e,t,n){var r=n(87197),i=n(46219),o=n(29231),a=n(15305),s=n(90234),u=n(22230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var v=a(h(e),h(t),r,l,d,f);return f.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},88078:function(e,t,n){var r=n(38248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var d=c;d--;){var f=l[d];if(!(u?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++d<c;){var m=e[f=l[d]],y=t[f];if(o)var b=u?o(y,m,f,t,e,s):o(m,y,f,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},27038:function(e,t,n){var r=n(25506),i=n(64262),o=n(79156);e.exports=function(e){return o(i(e,void 0,r),e+"")}},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),o=n(12742);e.exports=function(e){return r(e,o,i)}},55341:function(e,t,n){var r=n(61986),i=n(38487),o=n(73961);e.exports=function(e){return r(e,o,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},79091:function(e,t,n){var r=n(25072),i=n(12742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},31137:function(e,t,n){var r=n(12709)(Object.getPrototypeOf,Object);e.exports=r},81587:function(e,t,n){var r=n(87197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},38487:function(e,t,n){var r=n(41705),i=n(31137),o=n(65918),a=n(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),o=n(78319),a=n(23924),s=n(7091),u=n(39066),l=n(27907),c="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),v=l(i),m=l(o),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||o&&x(o.resolve())!=d||a&&x(new a)!=f||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case v:return c;case m:return d;case y:return f;case b:return h}return t}),e.exports=x},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},86417:function(e,t,n){var r=n(43082),i=n(34963),o=n(93629),a=n(26800),s=n(24635),u=n(69793);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,d=!1;++l<c;){var f=u(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(f,c)&&(o(e)||i(e))}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},39759:function(e,t,n){var r=n(7010),i=n(61022),o=n(18503),a=n(64720),s=n(40613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},40548:function(e,t,n){var r=n(65763),i=n(31137),o=n(62936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},73529:function(e,t,n){var r=n(87197),i=n(34963),o=n(93629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(29231),i=n(21473),o=n(26800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},25823:function(e,t,n){var r=n(93629),i=n(70152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},25072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),o=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},90234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},50284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},14634:function(e,t,n){var r=n(49151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},64262:function(e,t,n){var r=n(13665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(u),r(e,this,l)}}},68978:function(e,t,n){var r=n(98667),i=n(2646);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},85906:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},35774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},41596:function(e){e.exports=function(e){return this.__data__.has(e)}},22230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},79156:function(e,t,n){var r=n(7532),i=n(83197)(r);e.exports=i},83197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),o=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},77167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},10170:function(e,t,n){var r=n(14634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},69793:function(e,t,n){var r=n(70152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},58121:function(e,t,n){var r=n(31905);e.exports=function(e){return r(e,5)}},71547:function(e){e.exports=function(e){return function(){return e}}},48573:function(e,t,n){var r=n(8092),i=n(50072),o=n(42582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,d,f,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,d=e.apply(r,n)}function b(e){return p=e,f=setTimeout(w,t),g?y(e):d}function x(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=c}function w(){var e=i();if(x(e))return E(e);f=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-p)):n}(e))}function E(e){return f=void 0,m&&u?y(e):(u=l=void 0,d)}function k(){var e=i(),n=x(e);if(u=arguments,l=this,h=e,n){if(void 0===f)return b(h);if(v)return clearTimeout(f),f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=h=l=f=void 0},k.flush=function(){return void 0===f?d:E(i())},k}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},80086:function(e,t,n){var r=n(84903),i=n(57523),o=n(56025),a=n(93629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},25506:function(e,t,n){var r=n(55182);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},26181:function(e,t,n){var r=n(98667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},75658:function(e,t,n){var r=n(90529),i=n(86417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},34963:function(e,t,n){var r=n(4906),i=n(43141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},56279:function(e,t,n){var r=n(21473),i=n(43141);e.exports=function(e){return i(e)&&r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},36609:function(e,t,n){var r=n(89931),i=n(16194),o=n(49494),a=o&&o.isDate,s=a?i(a):r;e.exports=s},18111:function(e,t,n){var r=n(71848);e.exports=function(e,t){return r(e,t)}},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,n){var r=n(53085),i=n(16194),o=n(49494),a=o&&o.isMap,s=a?i(a):r;e.exports=s},30298:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},93977:function(e,t,n){var r=n(39066),i=n(31137),o=n(43141),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},36995:function(e,t,n){var r=n(48680),i=n(16194),o=n(49494),a=o&&o.isSet,s=a?i(a):r;e.exports=s},26769:function(e,t,n){var r=n(39066),i=n(93629),o=n(43141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),o=n(49494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),o=n(21473);e.exports=function(e){return o(e)?r(e):i(e)}},73961:function(e,t,n){var r=n(47538),i=n(8664),o=n(21473);e.exports=function(e){return o(e)?r(e,!0):i(e)}},15727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,v=4294967295,m=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",E="[object Error]",k="[object Function]",_="[object GeneratorFunction]",S="[object Map]",T="[object Number]",C="[object Object]",M="[object Promise]",A="[object RegExp]",I="[object Set]",O="[object String]",N="[object Symbol]",P="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",Y="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",U=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,K=RegExp(q.source),J=RegExp(X.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['\u2019]",Oe="[\\ud800-\\udfff]",Ne="["+Ae+"]",Pe="["+_e+"]",De="\\d+",Re="[\\u2700-\\u27bf]",Le="["+Te+"]",je="[^\\ud800-\\udfff"+Ae+De+Se+Te+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Ce+"]",Ve="(?:"+Le+"|"+je+")",We="(?:"+Ge+"|"+je+")",Ue="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Pe+"|"+Fe+")"+"?",qe="[\\ufe0e\\ufe0f]?",Xe=qe+He+("(?:\\u200d(?:"+[Be,ze,Ye].join("|")+")"+qe+He+")*"),Ke="(?:"+[Re,ze,Ye].join("|")+")"+Xe,Je="(?:"+[Be+Pe+"?",Pe,ze,Ye,Oe].join("|")+")",$e=RegExp(Ie,"g"),Qe=RegExp(Pe,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Je+Xe,"g"),tt=RegExp([Ge+"?"+Le+"+"+Ue+"(?="+[Ne,Ge,"$"].join("|")+")",We+"+"+Ze+"(?="+[Ne,Ge+Ve,"$"].join("|")+")",Ge+"?"+Ve+"+"+Ue,Ge+"+"+Ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ke].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+_e+Me+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[L]=at[j]=at[F]=at[B]=at[z]=at[Y]=at[G]=at[V]=at[W]=!0,at[y]=at[b]=at[D]=at[x]=at[R]=at[w]=at[E]=at[k]=at[S]=at[T]=at[C]=at[A]=at[I]=at[O]=at[P]=!1;var st={};st[y]=st[b]=st[D]=st[R]=st[x]=st[w]=st[L]=st[j]=st[F]=st[B]=st[z]=st[S]=st[T]=st[C]=st[A]=st[I]=st[O]=st[N]=st[Y]=st[G]=st[V]=st[W]=!0,st[E]=st[k]=st[P]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=dt||ft||Function("return this")(),pt=t&&!t.nodeType&&t,gt=pt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===pt,mt=vt&&dt.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,Et=yt&&yt.isRegExp,kt=yt&&yt.isSet,_t=yt&&yt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Yt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Ut("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Yt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Vt,n)}function Gt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:g}function Ut(e){return function(t){return null==t?i:t[e]}}function Zt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function $t(e,t){return Pt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Yt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Yt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Zt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ht:mn.defaults(ht.Object(),t,mn.pick(ht,it))).Array,r=t.Date,se=t.Error,_e=t.Function,Se=t.Math,Te=t.Object,Ce=t.RegExp,Me=t.String,Ae=t.TypeError,Ie=n.prototype,Oe=_e.prototype,Ne=Te.prototype,Pe=t["__core-js_shared__"],De=Oe.toString,Re=Ne.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Ne.toString,Be=De.call(Te),ze=ht._,Ye=Ce("^"+De.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=vt?t.Buffer:i,Ve=t.Symbol,We=t.Uint8Array,Ue=Ge?Ge.allocUnsafe:i,Ze=ln(Te.getPrototypeOf,Te),He=Te.create,qe=Ne.propertyIsEnumerable,Xe=Ie.splice,Ke=Ve?Ve.isConcatSpreadable:i,Je=Ve?Ve.iterator:i,et=Ve?Ve.toStringTag:i,nt=function(){try{var e=ho(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,dt=r&&r.now!==ht.Date.now&&r.now,ft=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Se.ceil,gt=Se.floor,mt=Te.getOwnPropertySymbols,yt=Ge?Ge.isBuffer:i,Ft=t.isFinite,Zt=Ie.join,yn=ln(Te.keys,Te),bn=Se.max,xn=Se.min,wn=r.now,En=t.parseInt,kn=Se.random,_n=Ie.reverse,Sn=ho(t,"DataView"),Tn=ho(t,"Map"),Cn=ho(t,"Promise"),Mn=ho(t,"Set"),An=ho(t,"WeakMap"),In=ho(Te,"create"),On=An&&new An,Nn={},Pn=zo(Sn),Dn=zo(Tn),Rn=zo(Cn),Ln=zo(Mn),jn=zo(An),Fn=Ve?Ve.prototype:i,Bn=Fn?Fn.valueOf:i,zn=Fn?Fn.toString:i;function Yn(e){if(rs(e)&&!Za(e)&&!(e instanceof Un)){if(e instanceof Wn)return e;if(Re.call(e,"__wrapped__"))return Yo(e)}return new Wn(e)}var Gn=function(){function e(){}return function(t){if(!ns(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Un(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Jn(e,t){var n=Za(e),r=!n&&Ua(e),i=!n&&!r&&Ka(e),o=!n&&!r&&!i&&ds(e),a=n||r||i||o,s=a?Xt(e.length,Me):[],u=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,u))||s.push(l);return s}function $n(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function Qn(e,t){return jo(Ii(e),ur(t,0,e.length))}function er(e){return jo(Ii(e))}function tr(e,t,n){(n!==i&&!Ga(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Re.call(e,t)&&Ga(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Oi(t,Ps(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Ms(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var d=Za(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ii(e,s)}else{var f=vo(e),h=f==k||f==_;if(Ka(e))return _i(e,u);if(f==C||f==y||h&&!o){if(s=l||h?{}:yo(e),!u)return l?function(e,t){return Oi(e,go(e),t)}(e,function(e,t){return e&&Oi(t,Ds(t),e)}(s,e)):function(e,t){return Oi(e,po(e),t)}(e,or(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return Si(e);case x:case w:return new r(+e);case R:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case F:case B:case z:case Y:case G:case V:case W:return Ti(e,n);case S:return new r;case T:case O:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case N:return i=e,Bn?Te(Bn.call(i)):{}}var i}(e,f,u)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var g=d?i:(c?l?oo:io:l?Ds:Ps)(e);return Ct(g||e,(function(r,i){g&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Po((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=Ot,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Pt(t,Jt(n))),r?(o=Nt,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Xn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d===d){for(var f=l;f--;)if(t[f]===d)continue e;u.push(c)}else o(t,d,r)||u.push(c)}return u}Yn.templateSettings={escape:$,evaluate:Q,interpolate:ee,variable:"",imports:{_:Yn}},Yn.prototype=Vn.prototype,Yn.prototype.constructor=Yn,Wn.prototype=Gn(Vn.prototype),Wn.prototype.constructor=Wn,Un.prototype=Gn(Vn.prototype),Un.prototype.constructor=Un,Zn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?i:n}return Re.call(t,e)?t[e]:i},Zn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Re.call(t,e)},Zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Tn||Hn),string:new Zn}},qn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return co(this,e).get(e)},qn.prototype.has=function(e){return co(this,e).has(e)},qn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var hr=Di(wr),pr=Di(Er,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var br=Ri(),xr=Ri(!0);function wr(e,t){return e&&br(e,t,Ps)}function Er(e,t){return e&&xr(e,t,Ps)}function kr(e,t){return It(t,(function(t){return Qa(e[t])}))}function _r(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Bo(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Za(e)?r:Dt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Te(e)?function(e){var t=Re.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Fe.call(e)}(e)}function Cr(e,t){return e>t}function Mr(e,t){return null!=e&&Re.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Ir(e,t,r){for(var o=r?Nt:Ot,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,d=[];u--;){var f=e[u];u&&t&&(f=Pt(f,Jt(t))),c=xn(f.length,c),l[u]=!r&&(t||a>=120&&f.length>=120)?new Xn(u&&f):i}f=e[0];var h=-1,p=l[0];e:for(;++h<a&&d.length<c;){var g=f[h],v=t?t(g):g;if(g=r||0!==g?g:0,!(p?Qt(p,v):o(d,v,r))){for(u=s;--u;){var m=l[u];if(!(m?Qt(m,v):o(e[u],v,r)))continue e}p&&p.push(v),d.push(g)}}return d}function Or(e,t,n){var r=null==(e=Ao(e,t=xi(t,e)))?e:e[Bo($o(t))];return null==r?i:St(r,e,n)}function Nr(e){return rs(e)&&Tr(e)==y}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Za(e),u=Za(t),l=s?b:vo(e),c=u?b:vo(t),d=(l=l==y?C:l)==C,f=(c=c==y?C:c)==C,h=l==c;if(h&&Ka(e)){if(!Ka(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Kn),s||ds(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case x:case w:case T:return Ga(+e,+t);case E:return e.name==t.name&&e.message==t.message;case A:case O:return e==t+"";case S:var s=un;case I:var u=1&r;if(s||(s=dn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case N:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=d&&Re.call(e,"__wrapped__"),g=f&&Re.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,m=g?t.value():t;return a||(a=new Kn),o(v,m,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,r,o,a){var s=1&n,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!s)return!1;var d=l;for(;d--;){var f=u[d];if(!(s?f in t:Re.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++d<l;){var m=e[f=u[d]],y=t[f];if(r)var b=s?r(y,m,f,t,e,a):r(m,y,f,e,t,a);if(!(b===i?m===y||o(m,y,n,r,a):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Pr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Te(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],d=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Kn;if(r)var h=r(c,d,l,e,t,f);if(!(h===i?Pr(d,c,3,r,f):h))return!1}}return!0}function Rr(e){return!(!ns(e)||(t=e,je&&je in t))&&(Qa(e)?Ye:ye).test(zo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Za(e)?Gr(e[0],e[1]):Yr(e):pu(e)}function jr(e){if(!So(e))return yn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function zr(e,t){var r=-1,i=qa(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Yr(e){var t=fo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Gr(e,t){return Eo(e)&&To(t)?Co(Bo(e),t):function(n){var r=Ms(n,e);return r===i&&r===t?As(n,e):Pr(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new Kn),ns(a))!function(e,t,n,r,o,a,s){var u=Oo(e,n),l=Oo(t,n),c=s.get(l);if(c)return void tr(e,n,c);var d=a?a(u,l,n+"",e,t,s):i,f=d===i;if(f){var h=Za(l),p=!h&&Ka(l),g=!h&&!p&&ds(l);d=l,h||p||g?Za(u)?d=u:Xa(u)?d=Ii(u):p?(f=!1,d=_i(l,!0)):g?(f=!1,d=Ti(l,!0)):d=[]:as(l)||Ua(l)?(d=u,Ua(u)?d=bs(u):ns(u)&&!Qa(u)||(d=yo(l))):f=!1}f&&(s.set(l,d),o(d,l,r,a,s),s.delete(l));tr(e,n,d)}(e,t,s,n,Vr,r,o);else{var u=r?r(Oo(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Ds)}function Wr(e,t){var n=e.length;if(n)return xo(t+=t<0?n:0,n)?e[t]:i}function Ur(e,t,n){t=t.length?Pt(t,(function(e){return Za(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Pt(t,Jt(lo()));var i=zr(e,(function(e,n,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ci(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&ei(o,xi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Gt:Yt,o=-1,a=t.length,s=e;for(e===t&&(t=Ii(t)),n&&(s=Pt(e,Jt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xo(i)?Xe.call(e,i,1):fi(e,i)}}return e}function Xr(e,t){return e+gt(kn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Do(Mo(e,t,ou),e+"")}function $r(e){return $n(Gs(e))}function Qr(e,t){var n=Gs(e);return jo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=xi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Bo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var d=u[l];(c=r?r(d,l,u):i)===i&&(c=ns(d)?d:xo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=On?function(e,t){return On.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return jo(Gs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;o<a;){var d=gt((o+a)/2),f=n(e[d]),h=f!==i,p=null===f,g=f===f,v=cs(f);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!v):!p&&!v&&(r?f<=t:f<t);m?o=d+1:a=d}return xn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:cs(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Za(e))return Pt(e,ci)+"";if(cs(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Ot,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Nt;else if(o>=200){var l=t?null:Ki(e);if(l)return dn(l);a=!1,i=Qt,u=new Xn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function fi(e,t){return null==(e=Ao(e,t=xi(t,e)))||delete e[Bo($o(t))]}function hi(e,t,n,r){return ei(e,t,n(_r(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Un&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,e[u],t,r));return di(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Xa(e)?e:[]}function bi(e){return"function"==typeof e?e:ou}function xi(e,t){return Za(e)?e:Eo(e,t)?[e]:Fo(xs(e))}var wi=Jr;function Ei(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var ki=ut||function(e){return ht.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=Ue?Ue(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Mi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=bn(a-s,0),d=n(l+c),f=!i;++u<l;)d[u]=t[u];for(;++o<s;)(f||o<a)&&(d[r[o]]=e[o]);for(;c--;)d[u++]=e[o++];return d}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,d=bn(a-u,0),f=n(d+c),h=!i;++o<d;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++s<u;)(h||o<a)&&(f[p+r[s]]=e[o++]);return f}function Ii(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?ar(n,u,l):nr(n,u,l)}return n}function Ni(e,t){return function(n,r){var i=Za(n)?Tt:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function Pi(e){return Jr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Te(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Te(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Te(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=sn(t=xs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?Ei(n,1).join(""):t.slice(1);return r[e]()+o}}function ji(e){return function(t){return Rt(Qs(Us(t).replace($e,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Bi(e){return function(t,n,r){var o=Te(t);if(!qa(t)){var a=lo(n,3);t=Ps(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function zi(e){return ro((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(o);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=t[r]),c="wrapper"==l?ao(s):i;u=c&&ko(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&ko(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Za(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Yi(e,t,r,o,a,s,u,l,c,f){var h=t&d,p=1&t,g=2&t,v=24&t,m=512&t,y=g?i:Fi(e);return function i(){for(var d=arguments.length,b=n(d),x=d;x--;)b[x]=arguments[x];if(v)var w=uo(i),E=nn(b,w);if(o&&(b=Mi(b,o,a,v)),s&&(b=Ai(b,s,u,v)),d-=E,v&&d<f){var k=cn(b,w);return qi(e,t,Yi,i.placeholder,r,b,k,l,c,f-d)}var _=p?r:this,S=g?_[e]:e;return d=b.length,l?b=Io(b,l):m&&d>1&&b.reverse(),h&&c<d&&(b.length=c),this&&this!==ht&&this instanceof i&&(S=y||Fi(S)),S.apply(_,b)}}function Gi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Wi(e){return ro((function(t){return t=Pt(t,Jt(lo())),Jr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Ui(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,pt(e/hn(t)));return sn(t)?Ei(pn(r),0,e).join(""):r.slice(0,e)}function Zi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=gs(t),r===i?(r=t,t=0):r=gs(r),function(e,t,r,i){for(var o=-1,a=bn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:gs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function qi(e,t,n,r,o,a,s,u,d,f){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,d,f],g=n.apply(i,p);return ko(e)&&No(g,p),g.placeholder=r,Ro(g,e,t)}function Xi(e){var t=Se[e];return function(e,n){if(e=ys(e),(n=null==n?0:xn(vs(n),292))&&Ft(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Mn&&1/dn(new Mn([,-0]))[1]==h?function(e){return new Mn(e)}:cu;function Ji(e){return function(t){var n=vo(t);return n==S?un(t):n==I?fn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,a,h,p,g,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Ae(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),g=g===i?g:bn(vs(g),0),v=v===i?v:vs(v),y-=h?h.length:0,t&c){var b=a,x=h;a=h=i}var w=m?i:ao(e),E=[e,t,r,a,h,b,x,p,g,v];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Mi(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ai(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&d&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,w),e=E[0],t=E[1],r=E[2],a=E[3],h=E[4],!(v=E[9]=E[9]===i?m?0:e.length:bn(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==u?function(e,t,r){var o=Fi(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var d=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=d.length)<r?qi(e,t,Yi,a.placeholder,i,u,d,i,i,r-s):St(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,v):t!=l&&33!=t||h.length?Yi.apply(i,E):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,d=n(c+u),f=this&&this!==ht&&this instanceof t?a:e;++l<c;)d[l]=i[l];for(;u--;)d[l++]=arguments[++s];return St(f,o?r:this,d)}}(e,t,r,a);else var k=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ro((w?ti:No)(k,E),e,t)}function Qi(e,t,n,r){return e===i||Ga(e,Ne[n])&&!Re.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Vr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&n?new Xn:i;for(a.set(e,t),a.set(t,e);++f<u;){var g=e[f],v=t[f];if(r)var m=s?r(v,g,f,t,e,a):r(g,v,f,e,t,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!jt(t,(function(e,t){if(!Qt(p,t)&&(g===e||o(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Do(Mo(e,i,Ho),e+"")}function io(e){return Sr(e,Ps,po)}function oo(e){return Sr(e,Ds,go)}var ao=On?function(e){return On.get(e)}:cu;function so(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Re.call(Yn,"placeholder")?Yn:e).placeholder}function lo(){var e=Yn.iteratee||au;return e=e===au?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Ps(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,To(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=Te(e),It(mt(e),(function(t){return qe.call(e,t)})))}:mu,go=mt?function(e){for(var t=[];e;)Dt(t,po(e)),e=Ze(e);return t}:mu,vo=Tr;function mo(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,o=!1;++r<i;){var a=Bo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&xo(a,i)&&(Za(e)||Ua(e))}function yo(e){return"function"!=typeof e.constructor||So(e)?{}:Gn(Ze(e))}function bo(e){return Za(e)||Ua(e)||!!(Ke&&e&&e[Ke])}function xo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&xo(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function Eo(e,t){if(Za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function ko(e){var t=so(e),n=Yn[t];if("function"!=typeof n||!(t in Un.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Sn&&vo(new Sn(new ArrayBuffer(1)))!=R||Tn&&vo(new Tn)!=S||Cn&&vo(Cn.resolve())!=M||Mn&&vo(new Mn)!=I||An&&vo(new An)!=P)&&(vo=function(e){var t=Tr(e),n=t==C?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case Pn:return R;case Dn:return S;case Rn:return M;case Ln:return I;case jn:return P}return t});var _o=Pe?Qa:yu;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function To(e){return e===e&&!ns(e)}function Co(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Mo(e,t,r){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),St(e,this,u)}}function Ao(e,t){return t.length<2?e:_r(e,ii(t,0,-1))}function Io(e,t){for(var n=e.length,r=xn(t.length,n),o=Ii(e);r--;){var a=t[r];e[r]=xo(a,n)?o[a]:i}return e}function Oo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var No=Lo(ti),Po=ft||function(e,t){return ht.setTimeout(e,t)},Do=Lo(ni);function Ro(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(m,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Xr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Bo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Yo(e){if(e instanceof Un)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Jr((function(e,t){return Xa(e)?fr(e,yr(t,1,Xa,!0)):[]})),Vo=Jr((function(e,t){var n=$o(t);return Xa(n)&&(n=i),Xa(e)?fr(e,yr(t,1,Xa,!0),lo(n,2)):[]})),Wo=Jr((function(e,t){var n=$o(t);return Xa(n)&&(n=i),Xa(e)?fr(e,yr(t,1,Xa,!0),i,n):[]}));function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),zt(e,lo(t,3),i)}function Zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?bn(r+o,0):xn(o,r-1)),zt(e,lo(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?yr(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Xo=Jr((function(e){var t=Pt(e,yi);return t.length&&t[0]===e[0]?Ir(t):[]})),Ko=Jr((function(e){var t=$o(e),n=Pt(e,yi);return t===$o(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,lo(t,2)):[]})),Jo=Jr((function(e){var t=$o(e),n=Pt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function $o(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=Jr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return qr(e,Pt(t,(function(e){return xo(e,n)?+e:e})).sort(Ci)),r}));function na(e){return null==e?e:_n.call(e)}var ra=Jr((function(e){return di(yr(e,1,Xa,!0))})),ia=Jr((function(e){var t=$o(e);return Xa(t)&&(t=i),di(yr(e,1,Xa,!0),lo(t,2))})),oa=Jr((function(e){var t=$o(e);return t="function"==typeof t?t:i,di(yr(e,1,Xa,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Xa(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return Pt(e,Ut(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Pt(n,(function(e){return St(t,i,e)}))}var ua=Jr((function(e,t){return Xa(e)?fr(e,t):[]})),la=Jr((function(e){return vi(It(e,Xa))})),ca=Jr((function(e){var t=$o(e);return Xa(t)&&(t=i),vi(It(e,Xa),lo(t,2))})),da=Jr((function(e){var t=$o(e);return t="function"==typeof t?t:i,vi(It(e,Xa),i,t)})),fa=Jr(aa);var ha=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Yn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Un&&xo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Ni((function(e,t,n){Re.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Bi(Uo),ba=Bi(Zo);function xa(e,t){return(Za(e)?Ct:hr)(e,lo(t,3))}function wa(e,t){return(Za(e)?Mt:pr)(e,lo(t,3))}var Ea=Ni((function(e,t,n){Re.call(e,n)?e[n].push(t):ar(e,n,[t])}));var ka=Jr((function(e,t,r){var i=-1,o="function"==typeof t,a=qa(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?St(t,e,r):Or(e,t,r)})),a})),_a=Ni((function(e,t,n){ar(e,n,t)}));function Sa(e,t){return(Za(e)?Pt:zr)(e,lo(t,3))}var Ta=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,yr(t,1),[])})),Ma=dt||function(){return ht.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,d,i,i,i,i,t)}function Ia(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oa=Jr((function(e,t,n){var r=1;if(n.length){var i=cn(n,uo(Oa));r|=l}return $i(e,r,t,n,i)})),Na=Jr((function(e,t,n){var r=3;if(n.length){var i=cn(n,uo(Na));r|=l}return $i(t,r,e,n,i)}));function Pa(e,t,n){var r,a,s,u,l,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ae(o);function g(t){var n=r,o=a;return r=a=i,d=t,u=e.apply(o,n)}function v(e){return d=e,l=Po(y,t),f?g(e):u}function m(e){var n=e-c;return c===i||n>=t||n<0||h&&e-d>=s}function y(){var e=Ma();if(m(e))return b(e);l=Po(y,function(e){var n=t-(e-c);return h?xn(n,s-(e-d)):n}(e))}function b(e){return l=i,p&&r?g(e):(r=a=i,u)}function x(){var e=Ma(),n=m(e);if(r=arguments,a=this,c=e,n){if(l===i)return v(c);if(h)return ki(l),l=Po(y,t),g(c)}return l===i&&(l=Po(y,t)),u}return t=ys(t)||0,ns(n)&&(f=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==i&&ki(l),d=0,r=c=a=l=i},x.flush=function(){return l===i?u:b(Ma())},x}var Da=Jr((function(e,t){return dr(e,1,t)})),Ra=Jr((function(e,t,n){return dr(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||qn),n}function ja(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=qn;var Fa=wi((function(e,t){var n=(t=1==t.length&&Za(t[0])?Pt(t[0],Jt(lo())):Pt(yr(t,1),Jt(lo()))).length;return Jr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),Ba=Jr((function(e,t){var n=cn(t,uo(Ba));return $i(e,l,i,t,n)})),za=Jr((function(e,t){var n=cn(t,uo(za));return $i(e,c,i,t,n)})),Ya=ro((function(e,t){return $i(e,f,i,i,i,t)}));function Ga(e,t){return e===t||e!==e&&t!==t}var Va=Hi(Cr),Wa=Hi((function(e,t){return e>=t})),Ua=Nr(function(){return arguments}())?Nr:function(e){return rs(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Za=n.isArray,Ha=bt?Jt(bt):function(e){return rs(e)&&Tr(e)==D};function qa(e){return null!=e&&ts(e.length)&&!Qa(e)}function Xa(e){return rs(e)&&qa(e)}var Ka=yt||yu,Ja=xt?Jt(xt):function(e){return rs(e)&&Tr(e)==w};function $a(e){if(!rs(e))return!1;var t=Tr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Qa(e){if(!ns(e))return!1;var t=Tr(e);return t==k||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==vs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?Jt(wt):function(e){return rs(e)&&vo(e)==S};function os(e){return"number"==typeof e||rs(e)&&Tr(e)==T}function as(e){if(!rs(e)||Tr(e)!=C)return!1;var t=Ze(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Be}var ss=Et?Jt(Et):function(e){return rs(e)&&Tr(e)==A};var us=kt?Jt(kt):function(e){return rs(e)&&vo(e)==I};function ls(e){return"string"==typeof e||!Za(e)&&rs(e)&&Tr(e)==O}function cs(e){return"symbol"==typeof e||rs(e)&&Tr(e)==N}var ds=_t?Jt(_t):function(e){return rs(e)&&ts(e.length)&&!!at[Tr(e)]};var fs=Hi(Br),hs=Hi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(qa(e))return ls(e)?pn(e):Ii(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vo(e);return(t==S?un:t==I?dn:Gs)(e)}function gs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(vs(e),0,v):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return g;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=me.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):ve.test(e)?g:+e}function bs(e){return Oi(e,Ds(e))}function xs(e){return null==e?"":ci(e)}var ws=Pi((function(e,t){if(So(t)||qa(t))Oi(t,Ps(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),Es=Pi((function(e,t){Oi(t,Ds(t),e)})),ks=Pi((function(e,t,n,r){Oi(t,Ds(t),e,r)})),_s=Pi((function(e,t,n,r){Oi(t,Ps(t),e,r)})),Ss=ro(sr);var Ts=Jr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,l=s.length;++u<l;){var c=s[u],d=e[c];(d===i||Ga(d,Ne[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e})),Cs=Jr((function(e){return e.push(i,eo),St(Ls,i,e)}));function Ms(e,t,n){var r=null==e?i:_r(e,t);return r===i?n:r}function As(e,t){return null!=e&&mo(e,t,Ar)}var Is=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nu(ou)),Os=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ns=Jr(Or);function Ps(e){return qa(e)?Jn(e):jr(e)}function Ds(e){return qa(e)?Jn(e,!0):Fr(e)}var Rs=Pi((function(e,t,n){Vr(e,t,n)})),Ls=Pi((function(e,t,n,r){Vr(e,t,n,r)})),js=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Oi(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Fs=ro((function(e,t){return null==e?{}:function(e,t){return Zr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=Pt(oo(e),(function(e){return[e]}));return t=lo(t),Zr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Ji(Ps),Ys=Ji(Ds);function Gs(e){return null==e?[]:$t(e,Ps(e))}var Vs=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return $s(xs(e).toLowerCase())}function Us(e){return(e=xs(e))&&e.replace(we,rn).replace(Qe,"")}var Zs=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Li("toLowerCase");var Xs=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ks=ji((function(e,t,n){return e+(n?" ":"")+$s(t)}));var Js=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$s=Li("toUpperCase");function Qs(e,t,n){return e=xs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var eu=Jr((function(e,t){try{return St(e,i,t)}catch(n){return $a(n)?n:new se(n)}})),tu=ro((function(e,t){return Ct(t,(function(t){t=Bo(t),ar(e,t,Oa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=zi(),iu=zi(!0);function ou(e){return e}function au(e){return Lr("function"==typeof e?e:lr(e,1))}var su=Jr((function(e,t){return function(n){return Or(n,e,t)}})),uu=Jr((function(e,t){return function(n){return Or(e,n,t)}}));function lu(e,t,n){var r=Ps(t),i=kr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=kr(t,Ps(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Qa(e);return Ct(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function cu(){}var du=Wi(Pt),fu=Wi(At),hu=Wi(jt);function pu(e){return Eo(e)?Ut(Bo(e)):function(e){return function(t){return _r(t,e)}}(e)}var gu=Zi(),vu=Zi(!0);function mu(){return[]}function yu(){return!1}var bu=Vi((function(e,t){return e+t}),0),xu=Xi("ceil"),wu=Vi((function(e,t){return e/t}),1),Eu=Xi("floor");var ku=Vi((function(e,t){return e*t}),1),_u=Xi("round"),Su=Vi((function(e,t){return e-t}),0);return Yn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Yn.ary=Aa,Yn.assign=ws,Yn.assignIn=Es,Yn.assignInWith=ks,Yn.assignWith=_s,Yn.at=Ss,Yn.before=Ia,Yn.bind=Oa,Yn.bindAll=tu,Yn.bindKey=Na,Yn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Za(e)?e:[e]},Yn.chain=pa,Yn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:bn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Yn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Yn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Za(r)?Ii(r):[r],yr(t,1))},Yn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Yn.conforms=function(e){return function(e){var t=Ps(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Yn.constant=nu,Yn.countBy=ma,Yn.create=function(e,t){var n=Gn(e);return null==t?n:or(n,t)},Yn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Yn.curryRight=function e(t,n,r){var o=$i(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Yn.debounce=Pa,Yn.defaults=Ts,Yn.defaultsDeep=Cs,Yn.defer=Da,Yn.delay=Ra,Yn.difference=Go,Yn.differenceBy=Vo,Yn.differenceWith=Wo,Yn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Yn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Yn.dropRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0,!0):[]},Yn.dropWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0):[]},Yn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Yn.filter=function(e,t){return(Za(e)?It:mr)(e,lo(t,3))},Yn.flatMap=function(e,t){return yr(Sa(e,t),1)},Yn.flatMapDeep=function(e,t){return yr(Sa(e,t),h)},Yn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),yr(Sa(e,t),n)},Yn.flatten=Ho,Yn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Yn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:vs(t)):[]},Yn.flip=function(e){return $i(e,512)},Yn.flow=ru,Yn.flowRight=iu,Yn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Yn.functions=function(e){return null==e?[]:kr(e,Ps(e))},Yn.functionsIn=function(e){return null==e?[]:kr(e,Ds(e))},Yn.groupBy=Ea,Yn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Yn.intersection=Xo,Yn.intersectionBy=Ko,Yn.intersectionWith=Jo,Yn.invert=Is,Yn.invertBy=Os,Yn.invokeMap=ka,Yn.iteratee=au,Yn.keyBy=_a,Yn.keys=Ps,Yn.keysIn=Ds,Yn.map=Sa,Yn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Yn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Yn.matches=function(e){return Yr(lr(e,1))},Yn.matchesProperty=function(e,t){return Gr(e,lr(t,1))},Yn.memoize=La,Yn.merge=Rs,Yn.mergeWith=Ls,Yn.method=su,Yn.methodOf=uu,Yn.mixin=lu,Yn.negate=ja,Yn.nthArg=function(e){return e=vs(e),Jr((function(t){return Wr(t,e)}))},Yn.omit=js,Yn.omitBy=function(e,t){return Bs(e,ja(lo(t)))},Yn.once=function(e){return Ia(2,e)},Yn.orderBy=function(e,t,n,r){return null==e?[]:(Za(t)||(t=null==t?[]:[t]),Za(n=r?i:n)||(n=null==n?[]:[n]),Ur(e,t,n))},Yn.over=du,Yn.overArgs=Fa,Yn.overEvery=fu,Yn.overSome=hu,Yn.partial=Ba,Yn.partialRight=za,Yn.partition=Ta,Yn.pick=Fs,Yn.pickBy=Bs,Yn.property=pu,Yn.propertyOf=function(e){return function(t){return null==e?i:_r(e,t)}},Yn.pull=Qo,Yn.pullAll=ea,Yn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,lo(n,2)):e},Yn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Yn.pullAt=ta,Yn.range=gu,Yn.rangeRight=vu,Yn.rearg=Ya,Yn.reject=function(e,t){return(Za(e)?It:mr)(e,ja(lo(t,3)))},Yn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return qr(e,i),n},Yn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Jr(e,t=t===i?t:vs(t))},Yn.reverse=na,Yn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),(Za(e)?Qn:Qr)(e,t)},Yn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Yn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Yn.shuffle=function(e){return(Za(e)?er:ri)(e)},Yn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ii(e,t,n)):[]},Yn.sortBy=Ca,Yn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Yn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Yn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?v:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?Ei(pn(e),0,n):e.split(t,n):[]},Yn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:bn(vs(t),0),Jr((function(n){var r=n[t],i=Ei(n,0,t);return r&&Dt(i,r),St(e,this,i)}))},Yn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Yn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Yn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Yn.takeRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!1,!0):[]},Yn.takeWhile=function(e,t){return e&&e.length?pi(e,lo(t,3)):[]},Yn.tap=function(e,t){return t(e),e},Yn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(e,t,{leading:r,maxWait:t,trailing:i})},Yn.thru=ga,Yn.toArray=ps,Yn.toPairs=zs,Yn.toPairsIn=Ys,Yn.toPath=function(e){return Za(e)?Pt(e,Bo):cs(e)?[e]:Ii(Fo(xs(e)))},Yn.toPlainObject=bs,Yn.transform=function(e,t,n){var r=Za(e),i=r||Ka(e)||ds(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Qa(o)?Gn(Ze(e)):{}}return(i?Ct:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Yn.unary=function(e){return Aa(e,1)},Yn.union=ra,Yn.unionBy=ia,Yn.unionWith=oa,Yn.uniq=function(e){return e&&e.length?di(e):[]},Yn.uniqBy=function(e,t){return e&&e.length?di(e,lo(t,2)):[]},Yn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Yn.unset=function(e,t){return null==e||fi(e,t)},Yn.unzip=aa,Yn.unzipWith=sa,Yn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Yn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Yn.values=Gs,Yn.valuesIn=function(e){return null==e?[]:$t(e,Ds(e))},Yn.without=ua,Yn.words=Qs,Yn.wrap=function(e,t){return Ba(bi(t),e)},Yn.xor=la,Yn.xorBy=ca,Yn.xorWith=da,Yn.zip=fa,Yn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Yn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Yn.zipWith=ha,Yn.entries=zs,Yn.entriesIn=Ys,Yn.extend=Es,Yn.extendWith=ks,lu(Yn,Yn),Yn.add=bu,Yn.attempt=eu,Yn.camelCase=Vs,Yn.capitalize=Ws,Yn.ceil=xu,Yn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Yn.clone=function(e){return lr(e,4)},Yn.cloneDeep=function(e){return lr(e,5)},Yn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Yn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Yn.conformsTo=function(e,t){return null==t||cr(e,t,Ps(t))},Yn.deburr=Us,Yn.defaultTo=function(e,t){return null==e||e!==e?t:e},Yn.divide=wu,Yn.endsWith=function(e,t,n){e=xs(e),t=ci(t);var r=e.length,o=n=n===i?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Yn.eq=Ga,Yn.escape=function(e){return(e=xs(e))&&J.test(e)?e.replace(X,on):e},Yn.escapeRegExp=function(e){return(e=xs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Yn.every=function(e,t,n){var r=Za(e)?At:gr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Yn.find=ya,Yn.findIndex=Uo,Yn.findKey=function(e,t){return Bt(e,lo(t,3),wr)},Yn.findLast=ba,Yn.findLastIndex=Zo,Yn.findLastKey=function(e,t){return Bt(e,lo(t,3),Er)},Yn.floor=Eu,Yn.forEach=xa,Yn.forEachRight=wa,Yn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Ds)},Yn.forInRight=function(e,t){return null==e?e:xr(e,lo(t,3),Ds)},Yn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Yn.forOwnRight=function(e,t){return e&&Er(e,lo(t,3))},Yn.get=Ms,Yn.gt=Va,Yn.gte=Wa,Yn.has=function(e,t){return null!=e&&mo(e,t,Mr)},Yn.hasIn=As,Yn.head=qo,Yn.identity=ou,Yn.includes=function(e,t,n,r){e=qa(e)?e:Gs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Yt(e,t,n)>-1},Yn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),Yt(e,t,i)},Yn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Yn.invoke=Ns,Yn.isArguments=Ua,Yn.isArray=Za,Yn.isArrayBuffer=Ha,Yn.isArrayLike=qa,Yn.isArrayLikeObject=Xa,Yn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Tr(e)==x},Yn.isBuffer=Ka,Yn.isDate=Ja,Yn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Yn.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Za(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||ds(e)||Ua(e)))return!e.length;var t=vo(e);if(t==S||t==I)return!e.size;if(So(e))return!jr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Yn.isEqual=function(e,t){return Pr(e,t)},Yn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Yn.isError=$a,Yn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Yn.isFunction=Qa,Yn.isInteger=es,Yn.isLength=ts,Yn.isMap=is,Yn.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},Yn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fo(t),n)},Yn.isNaN=function(e){return os(e)&&e!=+e},Yn.isNative=function(e){if(_o(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Yn.isNil=function(e){return null==e},Yn.isNull=function(e){return null===e},Yn.isNumber=os,Yn.isObject=ns,Yn.isObjectLike=rs,Yn.isPlainObject=as,Yn.isRegExp=ss,Yn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Yn.isSet=us,Yn.isString=ls,Yn.isSymbol=cs,Yn.isTypedArray=ds,Yn.isUndefined=function(e){return e===i},Yn.isWeakMap=function(e){return rs(e)&&vo(e)==P},Yn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Tr(e)},Yn.join=function(e,t){return null==e?"":Zt.call(e,t)},Yn.kebabCase=Zs,Yn.last=$o,Yn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?bn(r+o,0):xn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Vt,o,!0)},Yn.lowerCase=Hs,Yn.lowerFirst=qs,Yn.lt=fs,Yn.lte=hs,Yn.max=function(e){return e&&e.length?vr(e,ou,Cr):i},Yn.maxBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Cr):i},Yn.mean=function(e){return Wt(e,ou)},Yn.meanBy=function(e,t){return Wt(e,lo(t,2))},Yn.min=function(e){return e&&e.length?vr(e,ou,Br):i},Yn.minBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Br):i},Yn.stubArray=mu,Yn.stubFalse=yu,Yn.stubObject=function(){return{}},Yn.stubString=function(){return""},Yn.stubTrue=function(){return!0},Yn.multiply=ku,Yn.nth=function(e,t){return e&&e.length?Wr(e,vs(t)):i},Yn.noConflict=function(){return ht._===this&&(ht._=ze),this},Yn.noop=cu,Yn.now=Ma,Yn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ui(gt(i),n)+e+Ui(pt(i),n)},Yn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?e+Ui(t-r,n):e},Yn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?Ui(t-r,n)+e:e},Yn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(xs(e).replace(ae,""),t||0)},Yn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=kn();return xn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Xr(e,t)},Yn.reduce=function(e,t,n){var r=Za(e)?Rt:Ht,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Yn.reduceRight=function(e,t,n){var r=Za(e)?Lt:Ht,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Yn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),Kr(xs(e),t)},Yn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Yn.result=function(e,t,n){var r=-1,o=(t=xi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Bo(t[r])];a===i&&(r=o,a=n),e=Qa(a)?a.call(e):a}return e},Yn.round=_u,Yn.runInContext=e,Yn.sample=function(e){return(Za(e)?$n:$r)(e)},Yn.size=function(e){if(null==e)return 0;if(qa(e))return ls(e)?hn(e):e.length;var t=vo(e);return t==S||t==I?e.size:jr(e).length},Yn.snakeCase=Xs,Yn.some=function(e,t,n){var r=Za(e)?jt:oi;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Yn.sortedIndex=function(e,t){return ai(e,t)},Yn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Yn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ga(e[r],t))return r}return-1},Yn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Yn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Yn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Yn.startCase=Ks,Yn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:ur(vs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Yn.subtract=Su,Yn.sum=function(e){return e&&e.length?qt(e,ou):0},Yn.sumBy=function(e,t){return e&&e.length?qt(e,lo(t,2)):0},Yn.template=function(e,t,n){var r=Yn.templateSettings;n&&wo(e,t,n)&&(t=i),e=xs(e),t=ks({},t,r,Qi);var o,a,s=ks({},t.imports,r.imports,Qi),u=Ps(s),l=$t(s,u),c=0,d=t.interpolate||Ee,f="__p += '",h=Ce((t.escape||Ee).source+"|"+d.source+"|"+(d===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(ke,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(U,""):f).replace(Z,"$1").replace(H,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=eu((function(){return _e(u,p+"return "+f).apply(i,l)}));if(v.source=f,$a(v))throw v;return v},Yn.times=function(e,t){if((e=vs(e))<1||e>p)return[];var n=v,r=xn(e,v);t=lo(t),e-=v;for(var i=Xt(r,t);++n<e;)t(n);return i},Yn.toFinite=gs,Yn.toInteger=vs,Yn.toLength=ms,Yn.toLower=function(e){return xs(e).toLowerCase()},Yn.toNumber=ys,Yn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,p):0===e?e:0},Yn.toString=xs,Yn.toUpper=function(e){return xs(e).toUpperCase()},Yn.trim=function(e,t,n){if((e=xs(e))&&(n||t===i))return Kt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),o=pn(t);return Ei(r,en(r,o),tn(r,o)+1).join("")},Yn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return Ei(r,0,tn(r,pn(t))+1).join("")},Yn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return Ei(r,en(r,pn(t))).join("")},Yn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var l=s?Ei(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),ss(o)){if(e.slice(u).search(o)){var c,d=l;for(o.global||(o=Ce(o.source,xs(ge.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ci(o),u)!=u){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Yn.unescape=function(e){return(e=xs(e))&&K.test(e)?e.replace(q,vn):e},Yn.uniqueId=function(e){var t=++Le;return xs(e)+t},Yn.upperCase=Js,Yn.upperFirst=$s,Yn.each=xa,Yn.eachRight=wa,Yn.first=qo,lu(Yn,function(){var e={};return wr(Yn,(function(t,n){Re.call(Yn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Yn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Yn[e].placeholder=Yn})),Ct(["drop","take"],(function(e,t){Un.prototype[e]=function(n){n=n===i?1:bn(vs(n),0);var r=this.__filtered__&&!t?new Un(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Un.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Un.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Un.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Un.prototype[e]=function(){return this.__filtered__?new Un(this):this[n](1)}})),Un.prototype.compact=function(){return this.filter(ou)},Un.prototype.find=function(e){return this.filter(e).head()},Un.prototype.findLast=function(e){return this.reverse().find(e)},Un.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Un(this):this.map((function(n){return Or(n,e,t)}))})),Un.prototype.reject=function(e){return this.filter(ja(lo(e)))},Un.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Un(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Un.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Un.prototype.toArray=function(){return this.take(v)},wr(Un.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Yn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Yn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Un,l=s[0],c=u||Za(t),d=function(e){var t=o.apply(Yn,Dt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=u&&!h;if(!a&&c){t=g?t:new Un(this);var v=e.apply(t,s);return v.__actions__.push({func:ga,args:[d],thisArg:i}),new Wn(v,f)}return p&&g?e.apply(this,s):(v=this.thru(d),p?r?v.value()[0]:v.value():v)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Yn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Za(i)?i:[],e)}return this[n]((function(n){return t.apply(Za(n)?n:[],e)}))}})),wr(Un.prototype,(function(e,t){var n=Yn[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Yi(i,2).name]=[{name:"wrapper",func:i}],Un.prototype.clone=function(){var e=new Un(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Un.prototype.reverse=function(){if(this.__filtered__){var e=new Un(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Un.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Za(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=xn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return gi(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var g=-1,v=e[l+=t];++g<d;){var m=c[g],y=m.iteratee,b=m.type,x=y(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}p[f++]=v}return p},Yn.prototype.at=va,Yn.prototype.chain=function(){return pa(this)},Yn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Yn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Yn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Yo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Yn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Un){var t=e;return this.__actions__.length&&(t=new Un(this)),(t=t.reverse()).__actions__.push({func:ga,args:[na],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(na)},Yn.prototype.toJSON=Yn.prototype.valueOf=Yn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Yn.prototype.first=Yn.prototype.head,Je&&(Yn.prototype[Je]=function(){return this}),Yn}();ht._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},79286:function(e,t,n){var r=n(64173),i=n(39934)((function(e,t,n){r(e,t,n)}));e.exports=i},19694:function(e){e.exports=function(){}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},24242:function(e,t,n){var r=n(68950),i=n(31905),o=n(86555),a=n(43082),s=n(64503),u=n(26013),l=n(27038),c=n(55341),d=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,(function(t){return t=a(t,e),l||(l=t.length>1),t})),s(e,c(e),n),l&&(n=i(n,7,u));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},36460:function(e,t,n){var r=n(14980),i=n(27038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},10038:function(e,t,n){var r=n(9586),i=n(4084),o=n(25823),a=n(69793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},74485:function(e,t,n){var r=n(40379);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},64286:function(e,t,n){var r=n(55182),i=n(93226),o=n(58794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),o=n(70152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6576:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e){return r(e,i(e))}},63518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},72064:function(e,t,n){var r=n(39602);e.exports=function(e){return e&&e.length?r(e):[]}},66339:function(e,t,n){var r=n(56025),i=n(39602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},41761:function(e,t,n){var r=n(21468),i=n(58794),o=n(56279),a=i((function(e,t){return o(e)?r(e,t):[]}));e.exports=a},71132:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractMatrix:function(){return z},CHO:function(){return we},CholeskyDecomposition:function(){return we},EVD:function(){return ge},EigenvalueDecomposition:function(){return ge},LU:function(){return ne},LuDecomposition:function(){return ne},Matrix:function(){return G},MatrixColumnSelectionView:function(){return U},MatrixColumnView:function(){return W},MatrixFlipColumnView:function(){return Z},MatrixFlipRowView:function(){return H},MatrixRowSelectionView:function(){return X},MatrixRowView:function(){return q},MatrixSelectionView:function(){return K},MatrixSubView:function(){return J},MatrixTransposeView:function(){return $},NIPALS:function(){return Ee},Nipals:function(){return Ee},QR:function(){return ie},QrDecomposition:function(){return ie},SVD:function(){return oe},SingularValueDecomposition:function(){return oe},WrapperMatrix1D:function(){return Q},WrapperMatrix2D:function(){return ee},correlation:function(){return pe},covariance:function(){return he},default:function(){return G},determinant:function(){return ue},inverse:function(){return ae},linearDependencies:function(){return de},pseudoInverse:function(){return fe},solve:function(){return se},wrap:function(){return te}});var r=n(82963),i=n(60136),o=n(29388),a=n(15671),s=n(43144),u=Object.prototype.toString;function l(e){return u.call(e).endsWith("Array]")}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!l(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=d(e),i=c(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var f=(u-a)/(i-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*f+a;return t}var h=" ".repeat(2),p=" ".repeat(4);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(h,"[\n").concat(p).concat(v(e,r,o,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(e.rows,"\n").concat(h,"columns: ").concat(e.columns,"\n}")}function v(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],l=0;l<a;l++){for(var c=[],d=0;d<s;d++)c.push(m(e.get(l,d),r));u.push("".concat(c.join(" ")))}return s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns")),a!==i&&u.push("... ".concat(i-t," more rows")),u.join("\n".concat(p))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function y(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function b(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function x(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function w(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function E(e,t){if(!l(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function k(e,t){if(!l(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function _(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(T("startRow",t),T("endRow",n),T("startColumn",r),T("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function S(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function T(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function C(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function M(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,l=0,c=0;c<i;c++)s+=l=e.get(a,c)-n[a],u+=l*l;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}function A(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,l=0,c=0;c<r;c++)s+=l=e.get(c,a)-n[a],u+=l*l;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}function I(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,l=0;l<r;l++)for(var c=0;c<i;c++)a+=u=e.get(l,c)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}function O(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function N(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function P(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function D(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function R(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function L(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function j(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function F(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function B(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var z=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var l=n+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(t,l)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var l=e.get(a,u)-s*e.get(r,u);e.set(a,u,l)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new G(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){y(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return G.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){y(this,e),t=x(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){y(this,e),y(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){b(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return G.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){b(this,e),t=w(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){b(this,e),b(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){y(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){b(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new G(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var l=0,c=0;c<n;c++)l+=this.get(u,c)*o[c];i.set(u,a,l)}}return i}},{key:"strassen2x2",value:function(e){e=G.checkMatrix(e);var t=new G(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),l=e.get(1,1),c=(n+u)*(r+l),d=(a+u)*r,f=n*(o-l),h=u*(s-r),p=(n+i)*l,g=c+h-p+(i-u)*(s+l),v=f+p,m=d+h,y=c-d+f+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=G.checkMatrix(e);var t=new G(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),d=e.get(0,0),f=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-o)*(-f+g),w=(-n+o+a)*(d-f+g),E=(o+a)*(-d+f),k=n*d,_=(-n+u+l)*(d-h+v),S=(-n+u)*(h-v),T=(u+l)*(-d+h),C=(-i+l+c)*(g+m-y),M=(i-c)*(g-y),A=i*m,I=(l+c)*(-m+y),O=(-i+a+s)*(v+m-b),N=(i-s)*(v-b),P=(a+s)*(-m+b),D=k+A+r*p,R=(n+r+i-o-a-l-c)*g+w+E+k+C+A+I,L=k+_+T+(n+r+i-a-s-u-l)*v+A+O+P,j=x+a*(-d+f+p-g-v-m+b)+w+k+A+O+N,F=x+w+E+k+s*y,B=A+O+N+P+o*h,z=k+_+S+l*(-d+h+p-g-v-m+y)+C+M+A,Y=C+M+A+I+u*f,V=k+_+S+T+c*b;return t.set(0,0,D),t.set(0,1,R),t.set(0,2,L),t.set(1,0,j),t.set(1,1,F),t.set(1,2,B),t.set(2,0,z),t.set(2,1,Y),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=G.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,o),l=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),l=n.subMatrix(0,a-1,0,u-1),c=r.subMatrix(0,a-1,0,u-1),d=n.subMatrix(0,a-1,u,n.columns-1),f=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),g=n.subMatrix(a,n.rows-1,u,n.columns-1),v=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(l,g),e.add(c,v),a,u),y=t(e.add(h,g),c,a,u),b=t(l,e.sub(f,v),a,u),x=t(g,e.sub(p,c),a,u),w=t(e.add(l,d),v,a,u),E=t(e.sub(h,l),e.add(c,f),a,u),k=t(e.sub(d,g),e.add(p,v),a,u),_=e.add(m,x);_.sub(w),_.add(k);var S=e.add(b,w),T=e.add(y,x),C=e.sub(m,y);C.add(b),C.add(E);var M=e.zeros(2*_.rows,2*_.columns);return(M=(M=(M=(M=M.setSubMatrix(_,0,0)).setSubMatrix(S,_.rows,0)).setSubMatrix(T,0,_.columns)).setSubMatrix(C,_.rows,_.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,l),t=s(t,u,l),u,l)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&f(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&f(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new G(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var l=0;l<i;l++)o.set(r*a+u,i*s+l,this.get(a,s)*e.get(u,l));return o}},{key:"kroneckerSum",value:function(e){if(e=G.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(G.eye(n,n)),i=G.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new G(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){_(this,e,t,n,r);for(var i=new G(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new G(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new G(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=G.checkMatrix(e)).isEmpty())return this;_(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){E(this,e),k(this,t);for(var n=new G(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new G(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=S(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=S(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=S(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=S(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!l(a))throw new TypeError("mean must be an array");return M(this,i,a);case"column":if(!l(a))throw new TypeError("mean must be an array");return A(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return I(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!l(i))throw new TypeError("center must be an array");return O(this,i),this;case"column":if(!l(i))throw new TypeError("center must be an array");return N(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return P(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=D(this);else if(!l(n))throw new TypeError("scale must be an array");return R(this,n),this;case"column":if(void 0===n)n=L(this);else if(!l(n))throw new TypeError("scale must be an array");return j(this,n),this;case void 0:if(void 0===n)n=F(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return B(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return g(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new G(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new G(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new G(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new G(e,t)}},{key:"ones",value:function(e,t){return new G(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new G(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var l=a-i,c=new G(e,t),d=0;d<e;d++)for(var f=0;f<t;f++){var h=i+Math.round(u()*l);c.set(d,f,h)}return c}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new G(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new G(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function Y(e,t){return e-t}z.prototype.klass="Matrix","undefined"!==typeof Symbol&&(z.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return g(this)}),z.random=z.rand,z.randomInt=z.randInt,z.diagonal=z.diag,z.prototype.diagonal=z.prototype.diag,z.identity=z.eye,z.prototype.negate=z.prototype.neg,z.prototype.tensorProduct=z.prototype.kroneckerProduct;var G=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;if((0,a.Z)(this,n),o=t.call(this),n.isMatrix(e))return(0,r.Z)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)o.data.push(new Float64Array(i))}else{if(!l(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(i=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var c=0;c<e;c++){if(u[c].length!==i)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(u[c]))}}return o.rows=e,o.columns=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return y(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),y(this,e,!0),t=Float64Array.from(x(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){b(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),b(this,e,!0),t=w(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(z);!function(e,t){e.prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e.get(n,r));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e.get(n,r));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e.get(n,r));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e.get(n,r));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%e.get(n,r));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&e.get(n,r));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|e.get(n,r));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^e.get(n,r));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<e.get(n,r));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>e.get(n,r));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>e.get(n,r));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),e.get(n,r)));return this}}(z,G);var V=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this)).matrix=e,o.rows=r,o.columns=i,o}return(0,s.Z)(n)}(z),W=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),b(e,r),(i=t.call(this,e,e.rows,1)).column=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(V),U=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),k(e,r),(i=t.call(this,e,e.rows,r.length)).columnIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(V),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(V),H=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(V),q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),y(e,r),(i=t.call(this,e,1,e.columns)).row=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(V),X=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),E(e,r),(i=t.call(this,e,r.length,e.columns)).rowIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(V),K=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),E(e,r),k(e,i),(o=t.call(this,e,r.length,i.length)).rowIndices=r,o.columnIndices=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(V),J=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,o,s){var u;return(0,a.Z)(this,n),_(e,r,i,o,s),(u=t.call(this,e,i-r+1,s-o+1)).startRow=r,u.startColumn=o,u}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(V),$=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.columns,e.rows)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(V),Q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var o=i.rows,s=void 0===o?1:o;if(e.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=s,r.columns=e.length/s,r.data=e,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(z),ee=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).data=e,r.rows=e.length,r.columns=e[0].length,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(z);function te(e,t){if(l(e))return e[0]&&l(e[0])?new ee(e):new Q(e,t);throw new Error("the argument is not an array")}var ne=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s,u,l,c,d,f=(t=ee.checkMatrix(t)).clone(),h=f.rows,p=f.columns,g=new Float64Array(h),v=1;for(n=0;n<h;n++)g[n]=n;for(c=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)c[n]=f.get(n,r);for(n=0;n<h;n++){for(d=Math.min(n,r),s=0,i=0;i<d;i++)s+=f.get(n,i)*c[i];c[n]-=s,f.set(n,r,c[n])}for(o=r,n=r+1;n<h;n++)Math.abs(c[n])>Math.abs(c[o])&&(o=n);if(o!==r){for(i=0;i<p;i++)u=f.get(o,i),f.set(o,i,f.get(r,i)),f.set(r,i,u);l=g[o],g[o]=g[r],g[r]=l,v=-v}if(r<h&&0!==f.get(r,r))for(n=r+1;n<h;n++)f.set(n,r,f.get(n,r)/f.get(r,r))}this.LU=f,this.pivotVector=g,this.pivotSign=v}return(0,s.Z)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i>o?r.set(i,o,e.get(i,o)):i===o?r.set(i,o,1):r.set(i,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i<=o?r.set(i,o,e.get(i,o)):r.set(i,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function re(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var ie=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s=(t=ee.checkMatrix(t)).clone(),u=t.rows,l=t.columns,c=new Float64Array(l);for(i=0;i<l;i++){var d=0;for(n=i;n<u;n++)d=re(d,s.get(n,i));if(0!==d){for(s.get(i,i)<0&&(d=-d),n=i;n<u;n++)s.set(n,i,s.get(n,i)/d);for(s.set(i,i,s.get(i,i)+1),r=i+1;r<l;r++){for(o=0,n=i;n<u;n++)o+=s.get(n,i)*s.get(n,r);for(o=-o/s.get(i,i),n=i;n<u;n++)s.set(n,r,s.get(n,r)+o*s.get(n,i))}}c[i]=-d}this.QR=s,this.Rdiag=c}return(0,s.Z)(e,[{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,i,o,a,s=e.columns,u=e.clone(),l=t.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*u.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*t.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*t.get(r,o))}return u.subMatrix(0,l-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,i=new G(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new G(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}]),e}(),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),(t=ee.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,i=t.rows,o=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,l=n.computeRightSingularVectors,c=void 0===l||l,d=n.autoTranspose,f=void 0!==d&&d,h=Boolean(u),p=Boolean(c),g=!1;if(i<o)if(f){i=(r=t.transpose()).rows,o=r.columns,g=!0;var v=h;h=p,p=v}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(i,o),y=Math.min(i+1,o),b=new Float64Array(y),x=new G(i,m),w=new G(o,o),E=new Float64Array(o),k=new Float64Array(i),_=new Float64Array(y),S=0;S<y;S++)_[S]=S;for(var T=Math.min(i-1,o),C=Math.max(0,Math.min(o-2,i)),M=Math.max(T,C),A=0;A<M;A++){if(A<T){b[A]=0;for(var I=A;I<i;I++)b[A]=re(b[A],r.get(I,A));if(0!==b[A]){r.get(A,A)<0&&(b[A]=-b[A]);for(var O=A;O<i;O++)r.set(O,A,r.get(O,A)/b[A]);r.set(A,A,r.get(A,A)+1)}b[A]=-b[A]}for(var N=A+1;N<o;N++){if(A<T&&0!==b[A]){for(var P=0,D=A;D<i;D++)P+=r.get(D,A)*r.get(D,N);P=-P/r.get(A,A);for(var R=A;R<i;R++)r.set(R,N,r.get(R,N)+P*r.get(R,A))}E[N]=r.get(A,N)}if(h&&A<T)for(var L=A;L<i;L++)x.set(L,A,r.get(L,A));if(A<C){E[A]=0;for(var j=A+1;j<o;j++)E[A]=re(E[A],E[j]);if(0!==E[A]){E[A+1]<0&&(E[A]=0-E[A]);for(var F=A+1;F<o;F++)E[F]/=E[A];E[A+1]+=1}if(E[A]=-E[A],A+1<i&&0!==E[A]){for(var B=A+1;B<i;B++)k[B]=0;for(var z=A+1;z<i;z++)for(var Y=A+1;Y<o;Y++)k[z]+=E[Y]*r.get(z,Y);for(var V=A+1;V<o;V++)for(var W=-E[V]/E[A+1],U=A+1;U<i;U++)r.set(U,V,r.get(U,V)+W*k[U])}if(p)for(var Z=A+1;Z<o;Z++)w.set(Z,A,E[Z])}}var H=Math.min(o,i+1);if(T<o&&(b[T]=r.get(T,T)),i<H&&(b[H-1]=0),C+1<H&&(E[C]=r.get(C,H-1)),E[H-1]=0,h){for(var q=T;q<m;q++){for(var X=0;X<i;X++)x.set(X,q,0);x.set(q,q,1)}for(var K=T-1;K>=0;K--)if(0!==b[K]){for(var J=K+1;J<m;J++){for(var $=0,Q=K;Q<i;Q++)$+=x.get(Q,K)*x.get(Q,J);$=-$/x.get(K,K);for(var te=K;te<i;te++)x.set(te,J,x.get(te,J)+$*x.get(te,K))}for(var ne=K;ne<i;ne++)x.set(ne,K,-x.get(ne,K));x.set(K,K,1+x.get(K,K));for(var ie=0;ie<K-1;ie++)x.set(ie,K,0)}else{for(var oe=0;oe<i;oe++)x.set(oe,K,0);x.set(K,K,1)}}if(p)for(var ae=o-1;ae>=0;ae--){if(ae<C&&0!==E[ae])for(var se=ae+1;se<o;se++){for(var ue=0,le=ae+1;le<o;le++)ue+=w.get(le,ae)*w.get(le,se);ue=-ue/w.get(ae+1,ae);for(var ce=ae+1;ce<o;ce++)w.set(ce,se,w.get(ce,se)+ue*w.get(ce,ae))}for(var de=0;de<o;de++)w.set(de,ae,0);w.set(ae,ae,1)}for(var fe=H-1,he=Number.EPSILON;H>0;){var pe=void 0,ge=void 0;for(pe=H-2;pe>=-1&&-1!==pe;pe--){var ve=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(E[pe])<=ve||Number.isNaN(E[pe])){E[pe]=0;break}}if(pe===H-2)ge=4;else{var me=void 0;for(me=H-1;me>=pe&&me!==pe;me--){var ye=(me!==H?Math.abs(E[me]):0)+(me!==pe+1?Math.abs(E[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ge=3:me===H-1?ge=1:(ge=2,pe=me)}switch(pe++,ge){case 1:var be=E[H-2];E[H-2]=0;for(var xe=H-2;xe>=pe;xe--){var we=re(b[xe],be),Ee=b[xe]/we,ke=be/we;if(b[xe]=we,xe!==pe&&(be=-ke*E[xe-1],E[xe-1]=Ee*E[xe-1]),p)for(var _e=0;_e<o;_e++)we=Ee*w.get(_e,xe)+ke*w.get(_e,H-1),w.set(_e,H-1,-ke*w.get(_e,xe)+Ee*w.get(_e,H-1)),w.set(_e,xe,we)}break;case 2:var Se=E[pe-1];E[pe-1]=0;for(var Te=pe;Te<H;Te++){var Ce=re(b[Te],Se),Me=b[Te]/Ce,Ae=Se/Ce;if(b[Te]=Ce,Se=-Ae*E[Te],E[Te]=Me*E[Te],h)for(var Ie=0;Ie<i;Ie++)Ce=Me*x.get(Ie,Te)+Ae*x.get(Ie,pe-1),x.set(Ie,pe-1,-Ae*x.get(Ie,Te)+Me*x.get(Ie,pe-1)),x.set(Ie,Te,Ce)}break;case 3:var Oe=Math.max(Math.abs(b[H-1]),Math.abs(b[H-2]),Math.abs(E[H-2]),Math.abs(b[pe]),Math.abs(E[pe])),Ne=b[H-1]/Oe,Pe=b[H-2]/Oe,De=E[H-2]/Oe,Re=b[pe]/Oe,Le=E[pe]/Oe,je=((Pe+Ne)*(Pe-Ne)+De*De)/2,Fe=Ne*De*(Ne*De),Be=0;0===je&&0===Fe||(Be=Fe/(je+(Be=je<0?0-Math.sqrt(je*je+Fe):Math.sqrt(je*je+Fe))));for(var ze=(Re+Ne)*(Re-Ne)+Be,Ye=Re*Le,Ge=pe;Ge<H-1;Ge++){var Ve=re(ze,Ye);0===Ve&&(Ve=Number.MIN_VALUE);var We=ze/Ve,Ue=Ye/Ve;if(Ge!==pe&&(E[Ge-1]=Ve),ze=We*b[Ge]+Ue*E[Ge],E[Ge]=We*E[Ge]-Ue*b[Ge],Ye=Ue*b[Ge+1],b[Ge+1]=We*b[Ge+1],p)for(var Ze=0;Ze<o;Ze++)Ve=We*w.get(Ze,Ge)+Ue*w.get(Ze,Ge+1),w.set(Ze,Ge+1,-Ue*w.get(Ze,Ge)+We*w.get(Ze,Ge+1)),w.set(Ze,Ge,Ve);if(0===(Ve=re(ze,Ye))&&(Ve=Number.MIN_VALUE),We=ze/Ve,Ue=Ye/Ve,b[Ge]=Ve,ze=We*E[Ge]+Ue*b[Ge+1],b[Ge+1]=-Ue*E[Ge]+We*b[Ge+1],Ye=Ue*E[Ge+1],E[Ge+1]=We*E[Ge+1],h&&Ge<i-1)for(var He=0;He<i;He++)Ve=We*x.get(He,Ge)+Ue*x.get(He,Ge+1),x.set(He,Ge+1,-Ue*x.get(He,Ge)+We*x.get(He,Ge+1)),x.set(He,Ge,Ve)}E[H-2]=ze,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var qe=0;qe<=fe;qe++)w.set(qe,pe,-w.get(qe,pe));for(;pe<fe&&!(b[pe]>=b[pe+1]);){var Xe=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Xe,p&&pe<o-1)for(var Ke=0;Ke<o;Ke++)Xe=w.get(Ke,pe+1),w.set(Ke,pe+1,w.get(Ke,pe)),w.set(Ke,pe,Xe);if(h&&pe<i-1)for(var Je=0;Je<i;Je++)Xe=x.get(Je,pe+1),x.set(Je,pe+1,x.get(Je,pe)),x.set(Je,pe,Xe);pe++}0,H--}}if(g){var $e=w;w=x,x=$e}this.m=i,this.n=o,this.s=b,this.U=x,this.V=w}return(0,s.Z)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,i=G.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),l=s.rows,c=a.rows,d=G.zeros(l,c),f=0;f<l;f++)for(var h=0;h<c;h++){for(var p=0,g=0;g<r;g++)p+=u.get(f,g)*a.get(h,g);d.set(f,h,p)}return d.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(G.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new G(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&i.set(o,a,e.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,l=s.columns,c=new G(n,u),d=0;d<n;d++)for(var f=0;f<u;f++){for(var h=0,p=0;p<l;p++)h+=i.get(d,p)*s.get(f,p);c.set(d,f,h)}return c}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return G.diag(this.s)}}]),e}();function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=ee.checkMatrix(e),t?new oe(e).inverse():se(e,G.eye(e.rows))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=ee.checkMatrix(e),t=ee.checkMatrix(t),n?new oe(e).solve(t):e.isSquare()?new ne(e).solve(t):new ie(e).solve(t)}function ue(e){var t,n,r,i,o,a;if((e=G.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(i=new K(e,[1,2],[1,2]),o=new K(e,[1,2],[0,2]),a=new K(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*ue(i)-n*ue(o)+r*ue(a)):new ne(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function le(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function ce(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>i)return new Array(t.rows+1).fill(0);for(var o=t.addRow(n,[0]),a=0;a<o.rows;a++)Math.abs(o.get(a,0))<r&&o.set(a,0,0);return o.to1DArray()}function de(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,a=(e=G.checkMatrix(e)).rows,s=new G(a,a),u=0;u<a;u++){var l=G.columnVector(e.getRow(u)),c=e.subMatrixRow(le(a,u)).transpose(),d=new oe(c),f=d.solve(l),h=G.sub(l,c.mmul(f)).abs().max();s.setRow(u,ce(h,f,u,r,o))}return s}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=G.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new oe(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,a=0;a<o.length;a++)Math.abs(o[a])>t?o[a]=1/o[a]:o[a]=0;return i.mmul(G.diag(o).mmul(r.transpose()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||l(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o;a&&(e=e.center("column"),r||(t=t.center("column")));for(var s=e.transpose().mmul(t),u=0;u<s.rows;u++)for(var c=0;c<s.columns;c++)s.set(u,c,s.get(u,c)*(1/(e.rows-1)));return s}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||l(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o,s=i.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var c=e.standardDeviation("column",{unbiased:!0}),d=r?c:t.standardDeviation("column",{unbiased:!0}),f=e.transpose().mmul(t),h=0;h<f.rows;h++)for(var p=0;p<f.columns;p++)f.set(h,p,f.get(h,p)*(1/(c[h]*d[p]))*(1/(e.rows-1)));return f}var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e);var r=n.assumeSymmetric,i=void 0!==r&&r;if(!(t=ee.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var o,s,u=t.columns,l=new G(u,u),c=new Float64Array(u),d=new Float64Array(u),f=t;if(!!i||t.isSymmetric()){for(o=0;o<u;o++)for(s=0;s<u;s++)l.set(o,s,f.get(o,s));ve(u,d,c,l),me(u,d,c,l)}else{var h=new G(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(o=0;o<u;o++)h.set(o,s,f.get(o,s));ye(u,h,p,l),be(u,d,c,l,h)}this.n=u,this.e=d,this.d=c,this.V=l}return(0,s.Z)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,i=this.d,o=new G(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}]),e}();function ve(e,t,n,r){var i,o,a,s,u,l,c,d;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(d=0,a=0,l=0;l<s;l++)d+=Math.abs(n[l]);if(0===d)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(l=0;l<s;l++)n[l]/=d,a+=n[l]*n[l];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=d*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=t[u]+r.get(u,u)*i,l=u+1;l<=s-1;l++)o+=r.get(l,u)*n[l],t[l]+=r.get(l,u)*i;t[u]=o}for(i=0,u=0;u<s;u++)t[u]/=a,i+=t[u]*n[u];for(c=i/(a+a),u=0;u<s;u++)t[u]-=c*n[u];for(u=0;u<s;u++){for(i=n[u],o=t[u],l=u;l<=s-1;l++)r.set(l,u,r.get(l,u)-(i*t[l]+o*n[l]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(l=0;l<=s;l++)n[l]=r.get(l,s+1)/a;for(u=0;u<=s;u++){for(o=0,l=0;l<=s;l++)o+=r.get(l,s+1)*r.get(l,u);for(l=0;l<=s;l++)r.set(l,u,r.get(l,u)-o*n[l])}}for(l=0;l<=s;l++)r.set(l,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}function me(e,t,n,r){var i,o,a,s,u,l,c,d,f,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,w=0,E=Number.EPSILON;for(l=0;l<e;l++){for(w=Math.max(w,Math.abs(n[l])+Math.abs(t[l])),c=l;c<e&&!(Math.abs(t[c])<=E*w);)c++;if(c>l){0;do{for(1,i=n[l],f=re(d=(n[l+1]-i)/(2*t[l]),1),d<0&&(f=-f),n[l]=t[l]/(d+f),n[l+1]=t[l]*(d+f),h=n[l+1],o=i-n[l],a=l+2;a<e;a++)n[a]-=o;for(x+=o,d=n[c],g=p=1,v=p,m=t[l+1],y=0,b=0,a=c-1;a>=l;a--)for(v=g,g=p,b=y,i=p*t[a],o=p*d,f=re(d,t[a]),t[a+1]=y*f,y=t[a]/f,d=(p=d/f)*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<e;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);d=-y*b*v*m*t[l]/h,t[l]=y*d,n[l]=p*d}while(Math.abs(t[l])>E*w)}n[l]=n[l]+x,t[l]=0}for(a=0;a<e-1;a++){for(u=a,d=n[a],s=a+1;s<e;s++)n[s]<d&&(u=s,d=n[s]);if(u!==a)for(n[u]=n[a],n[a]=d,s=0;s<e;s++)d=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,d)}}function ye(e,t,n,r){var i,o,a,s,u,l,c,d=e-1;for(l=1;l<=d-1;l++){for(c=0,s=l;s<=d;s++)c+=Math.abs(t.get(s,l-1));if(0!==c){for(a=0,s=d;s>=l;s--)n[s]=t.get(s,l-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[l]>0&&(o=-o),a-=n[l]*o,n[l]=n[l]-o,u=l;u<e;u++){for(i=0,s=d;s>=l;s--)i+=n[s]*t.get(s,u);for(i/=a,s=l;s<=d;s++)t.set(s,u,t.get(s,u)-i*n[s])}for(s=0;s<=d;s++){for(i=0,u=d;u>=l;u--)i+=n[u]*t.get(s,u);for(i/=a,u=l;u<=d;u++)t.set(s,u,t.get(s,u)-i*n[u])}n[l]=c*n[l],t.set(l,l-1,c*o)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(l=d-1;l>=1;l--)if(0!==t.get(l,l-1)){for(s=l+1;s<=d;s++)n[s]=t.get(s,l-1);for(u=l;u<=d;u++){for(o=0,s=l;s<=d;s++)o+=n[s]*r.get(s,u);for(o=o/n[l]/t.get(l,l-1),s=l;s<=d;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}function be(e,t,n,r,i){var o,a,s,u,l,c,d,f,h,p,g,v,m,y,b,x=e-1,w=e-1,E=Number.EPSILON,k=0,_=0,S=0,T=0,C=0,M=0,A=0,I=0;for(o=0;o<e;o++)for((o<0||o>w)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)_+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(M=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(M=_),!(Math.abs(i.get(u,u-1))<E*M));)u--;if(u===x)i.set(x,x,i.get(x,x)+k),n[x]=i.get(x,x),t[x]=0,x--,I=0;else if(u===x-1){if(d=i.get(x,x-1)*i.get(x-1,x),T=(S=(i.get(x-1,x-1)-i.get(x,x))/2)*S+d,A=Math.sqrt(Math.abs(T)),i.set(x,x,i.get(x,x)+k),i.set(x-1,x-1,i.get(x-1,x-1)+k),f=i.get(x,x),T>=0){for(A=S>=0?S+A:S-A,n[x-1]=f+A,n[x]=n[x-1],0!==A&&(n[x]=f-d/A),t[x-1]=0,t[x]=0,S=(f=i.get(x,x-1))/(M=Math.abs(f)+Math.abs(A)),T=A/M,S/=C=Math.sqrt(S*S+T*T),T/=C,a=x-1;a<e;a++)A=i.get(x-1,a),i.set(x-1,a,T*A+S*i.get(x,a)),i.set(x,a,T*i.get(x,a)-S*A);for(o=0;o<=x;o++)A=i.get(o,x-1),i.set(o,x-1,T*A+S*i.get(o,x)),i.set(o,x,T*i.get(o,x)-S*A);for(o=0;o<=w;o++)A=r.get(o,x-1),r.set(o,x-1,T*A+S*r.get(o,x)),r.set(o,x,T*r.get(o,x)-S*A)}else n[x-1]=f+S,n[x]=f+S,t[x-1]=A,t[x]=-A;x-=2,I=0}else{if(f=i.get(x,x),h=0,d=0,u<x&&(h=i.get(x-1,x-1),d=i.get(x,x-1)*i.get(x-1,x)),10===I){for(k+=f,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-f);f=h=.75*(M=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2))),d=-.4375*M*M}if(30===I&&(M=(M=(h-f)/2)*M+d)>0){for(M=Math.sqrt(M),h<f&&(M=-M),M=f-d/((h-f)/2+M),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-M);k+=M,f=h=d=.964}for(I+=1,l=x-2;l>=u&&(S=((C=f-(A=i.get(l,l)))*(M=h-A)-d)/i.get(l+1,l)+i.get(l,l+1),T=i.get(l+1,l+1)-A-C-M,C=i.get(l+2,l+1),S/=M=Math.abs(S)+Math.abs(T)+Math.abs(C),T/=M,C/=M,l!==u)&&!(Math.abs(i.get(l,l-1))*(Math.abs(T)+Math.abs(C))<E*(Math.abs(S)*(Math.abs(i.get(l-1,l-1))+Math.abs(A)+Math.abs(i.get(l+1,l+1)))));)l--;for(o=l+2;o<=x;o++)i.set(o,o-2,0),o>l+2&&i.set(o,o-3,0);for(s=l;s<=x-1&&(y=s!==x-1,s!==l&&(S=i.get(s,s-1),T=i.get(s+1,s-1),C=y?i.get(s+2,s-1):0,0!==(f=Math.abs(S)+Math.abs(T)+Math.abs(C))&&(S/=f,T/=f,C/=f)),0!==f);s++)if(M=Math.sqrt(S*S+T*T+C*C),S<0&&(M=-M),0!==M){for(s!==l?i.set(s,s-1,-M*f):u!==l&&i.set(s,s-1,-i.get(s,s-1)),f=(S+=M)/M,h=T/M,A=C/M,T/=S,C/=S,a=s;a<e;a++)S=i.get(s,a)+T*i.get(s+1,a),y&&(S+=C*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-S*A)),i.set(s,a,i.get(s,a)-S*f),i.set(s+1,a,i.get(s+1,a)-S*h);for(o=0;o<=Math.min(x,s+3);o++)S=f*i.get(o,s)+h*i.get(o,s+1),y&&(S+=A*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-S*C)),i.set(o,s,i.get(o,s)-S),i.set(o,s+1,i.get(o,s+1)-S*T);for(o=0;o<=w;o++)S=f*r.get(o,s)+h*r.get(o,s+1),y&&(S+=A*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-S*C)),r.set(o,s,r.get(o,s)-S),r.set(o,s+1,r.get(o,s+1)-S*T)}}}if(0!==_){for(x=e-1;x>=0;x--)if(S=n[x],0===(T=t[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(d=i.get(o,o)-S,C=0,a=u;a<=x;a++)C+=i.get(o,a)*i.get(a,x);if(t[o]<0)A=d,M=C;else if(u=o,0===t[o]?i.set(o,x,0!==d?-C/d:-C/(E*_)):(f=i.get(o,o+1),h=i.get(o+1,o),c=(f*M-A*C)/(T=(n[o]-S)*(n[o]-S)+t[o]*t[o]),i.set(o,x,c),i.set(o+1,x,Math.abs(f)>Math.abs(A)?(-C-d*c)/f:(-M-h*c)/A)),E*(c=Math.abs(i.get(o,x)))*c>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/c)}else if(T<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,T/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-S)/i.get(x,x-1))):(b=xe(0,-i.get(x-1,x),i.get(x-1,x-1)-S,T),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(d=i.get(o,o)-S,t[o]<0)A=d,C=p,M=g;else if(u=o,0===t[o]?(b=xe(-p,-g,d,T),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(f=i.get(o,o+1),h=i.get(o+1,o),v=(n[o]-S)*(n[o]-S)+t[o]*t[o]-T*T,m=2*(n[o]-S)*T,0===v&&0===m&&(v=E*_*(Math.abs(d)+Math.abs(T)+Math.abs(f)+Math.abs(h)+Math.abs(A))),b=xe(f*C-A*p+T*g,f*M-A*g-T*p,v,m),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(f)>Math.abs(A)+Math.abs(T)?(i.set(o+1,x-1,(-p-d*i.get(o,x-1)+T*i.get(o,x))/f),i.set(o+1,x,(-g-d*i.get(o,x)-T*i.get(o,x-1))/f)):(b=xe(-C-h*i.get(o,x-1),-M-h*i.get(o,x),A,T),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),E*(c=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))))*c>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/c),i.set(a,x,i.get(a,x)/c)}for(o=0;o<e;o++)if(o<0||o>w)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=0;a--)for(o=0;o<=w;o++){for(A=0,s=0;s<=Math.min(a,w);s++)A+=r.get(o,s)*i.get(s,a);r.set(o,a,A)}}}function xe(e,t,n,r){var i,o;return Math.abs(n)>Math.abs(r)?[(e+(i=r/n)*t)/(o=n+i*r),(t-i*e)/o]:[((i=n/r)*e+t)/(o=r+i*n),(i*t-e)/o]}var we=function(){function e(t){if((0,a.Z)(this,e),!(t=ee.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,i,o=t,s=o.rows,u=new G(s,s),l=!0;for(r=0;r<s;r++){var c=0;for(i=0;i<r;i++){var d=0;for(n=0;n<i;n++)d+=u.get(i,n)*u.get(r,n);d=(o.get(r,i)-d)/u.get(i,i),u.set(r,i,d),c+=d*d}for(l&=(c=o.get(r,r)-c)>0,u.set(r,r,Math.sqrt(Math.max(c,0))),i=r+1;i<s;i++)u.set(r,i,0)}this.L=u,this.positiveDefinite=Boolean(l)}return(0,s.Z)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=ee.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),Ee=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),t=ee.checkMatrix(t);var r,i=n.Y,o=n.scaleScores,s=void 0!==o&&o,u=n.maxIterations,c=void 0===u?1e3:u,d=n.terminationCriteria,f=void 0===d?1e-10:d;if(i){if((i=l(i)&&"number"===typeof i[0]?G.columnVector(i):ee.checkMatrix(i)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=i.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,g,v,m=1,y=0;y<c&&m>f;y++)g=(g=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(g.norm()),h=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),y>0&&(m=h.clone().sub(v).pow(2).sum()),v=h.clone(),i?(p=(p=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=i.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(i){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),w=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),E=i.clone().sub(h.clone().mulS(w.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=g.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=E,this.betas=w}else this.w=g.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(g.transpose()))}))},72426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return qn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function m(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,i,o=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)l(i=t[r=b[n]])||(e[r]=i);return e}function E(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function k(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function _(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[],l=arguments.length;for(o=0;o<l;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}_(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,C={};function M(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(_(t),C[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,n;for(n in e)s(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function N(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=A(r[i])?r[i].call(t,e):r[i];return o}}function V(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||G(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function q(){return this._invalidDate}var X="%d",K=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function de(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ge(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var ve,me=/\d/,ye=/\d\d/,be=/\d{3}/,xe=/\d{4}/,we=/[+-]?\d{6}/,Ee=/\d\d?/,ke=/\d\d\d\d?/,_e=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Te=/\d{1,4}/,Ce=/[+-]?\d{1,6}/,Me=/\d+/,Ae=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,Ne=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ve[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Fe={};function Be(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function ze(e,t){Be(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ye(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var Ge,Ve=0,We=1,Ue=2,Ze=3,He=4,qe=5,Xe=6,Ke=7,Je=8;function $e(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$e(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),De("M",Ee),De("MM",Ee,ye),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Be(["M","MM"],(function(e,t){t[We]=ce(e)-1})),Be(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))||-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))||-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):fe(this,"Month")}function dt(){return Qe(this.year(),this.month())}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)o[t]=je(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return ue(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),De("Y",Ae),De("YY",Ee,ye),De("YYYY",Te,xe),De("YYYYY",Ce,we),De("YYYYYY",Ce,we),Be(["YYYYY","YYYYYY"],Ve),Be("YYYY",(function(e,t){t[Ve]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Be("YY",(function(e,t){t[Ve]=r.parseTwoDigitYear(e)})),Be("Y",(function(e,t){t[Ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var vt=de("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?a=gt(o=e-1)+s:s>gt(e)?(o=e+1,a=s-gt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Et(e,t,n){var r,i,o=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+kt(i=e.year()-1,t,n):a>kt(e.year(),t,n)?(r=a-kt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function kt(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(gt(e)-r+i)/7}function _t(e){return Et(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),De("w",Ee),De("ww",Ee,ye),De("W",Ee),De("WW",Ee,ye),ze(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var St={dow:0,doy:6};function Tt(){return this._week.dow}function Ct(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Nt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),De("d",Ee),De("e",Ee),De("E",Ee),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),ze(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),ze(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,jt=Pe,Ft=Pe;function Bt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Nt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Nt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Yt(e){return!0===e?Nt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Gt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null}function Vt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Gt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),o=je(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Qt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Jt),z("k",["kk",2],0,$t),z("hmm",0,0,(function(){return""+Jt.apply(this)+R(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Jt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),ae("hour",13),De("a",en),De("A",en),De("H",Ee),De("h",Ee),De("k",Ee),De("HH",Ee,ye),De("hh",Ee,ye),De("kk",Ee,ye),De("hmm",ke),De("hmmss",_e),De("Hmm",ke),De("Hmmss",_e),Be(["H","HH"],Ze),Be(["k","kk"],(function(e,t,n){var r=ce(e);t[Ze]=24===r?0:r})),Be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Be(["h","hh"],(function(e,t,n){t[Ze]=ce(e),v(n).bigHour=!0})),Be("hmm",(function(e,t,n){var r=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r)),v(n).bigHour=!0})),Be("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r,2)),t[qe]=ce(e.substr(i)),v(n).bigHour=!0})),Be("Hmm",(function(e,t,n){var r=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r))})),Be("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r,2)),t[qe]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:P,longDateFormat:U,invalidDate:H,ordinal:X,dayOfMonthOrdinalParse:K,relativeTime:$,months:et,monthsShort:tt,week:St,weekdays:Pt,weekdaysMin:Rt,weekdaysShort:Dt,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}o++}return an}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&hn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),gn(n)}catch(r){un[t]=null}return un[t]}function gn(e,t){var n;return e&&((n=l(t)?yn(e):vn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new N(O(r,t)),ln[e]&&ln[e].forEach((function(e){vn(e.name,e.config)})),gn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(O(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new N(t)).parentLocale=un[e],un[e]=n),gn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===gn()&&gn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function bn(){return T(un)}function xn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ue]<1||n[Ue]>Qe(n[Ve],n[We])?Ue:n[Ze]<0||n[Ze]>24||24===n[Ze]&&(0!==n[He]||0!==n[qe]||0!==n[Xe])?Ze:n[He]<0||n[He]>59?He:n[qe]<0||n[qe]>59?qe:n[Xe]<0||n[Xe]>999?Xe:-1,v(e)._overflowDayOfYear&&(t<Ve||t>Ue)&&(t=Ue),v(e)._overflowWeeks&&-1===t&&(t=Ke),v(e)._overflowWeekday&&-1===t&&(t=Je),v(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/Z|[+-]\d\d(?::?\d\d)?/,_n=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,o,a,s=e._i,u=wn.exec(s)||En.exec(s),l=_n.length,c=Sn.length;if(u){for(v(e).iso=!0,t=0,n=l;t<n;t++)if(_n[t][1].exec(u[1])){i=_n[t][0],r=!1!==_n[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[3])){o=(u[2]||" ")+Sn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!kn.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Yn(e)}else e._isValid=!1}function In(e,t,n,r,i,o){var a=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Nn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return Mn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=Cn.exec(Nn(e._i));if(n){if(t=In(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Tn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Ue]&&null==e._a[We]&&zn(e),null!=e._dayOfYear&&(o=jn(e._a[Ve],r[Ve]),(e._dayOfYear>gt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ue]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ze]&&0===e._a[He]&&0===e._a[qe]&&0===e._a[Xe]&&(e._nextDay=!0,e._a[Ze]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,i,o,a,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=jn(t.GG,e._a[Ve],Et(Xn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=Et(Xn(),o,a),n=jn(t.gg,e._a[Ve],l.year),r=jn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>kt(n,o,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function Yn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,a,s,u,l=""+e._i,c=l.length,d=0;for(u=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)o=i[t],(n=(l.match(Re(o,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&v(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),d+=n.length),B[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),Ye(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=c-d,l.length>0&&v(e).unusedInput.push(l),e._a[Ze]<=12&&!0===v(e).bigHour&&e._a[Ze]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Ze]=Gn(e._locale,e._a[Ze],e._meridiem),null!==(s=v(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(s,e._a[Ve])),Bn(e),xn(e)}else Rn(e);else An(e)}function Gn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,i,o,a,s=!1,u=e._f.length;if(0===u)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Yn(t),m(t)&&(a=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));h(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Un(e){var t=new E(xn(Zn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Zn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new E(xn(t)):(d(t)?e._d=t:o(n)?Vn(e):n?Yn(e):Hn(e),m(e)||(e._d=null),e))}function Hn(e){var t=e._i;l(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):o(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?Wn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Un(s)}function Xn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Jn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function $n(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return $n("isBefore",[].slice.call(arguments,0))}function er(){return $n("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Ge.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Mr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&a++;return a+o}function cr(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),De("Z",Oe),De("ZZ",Oe),Be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Oe,e)}));var dr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||d(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function gr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Pr(this,Mr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Er(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Zn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kr(){return!!this.isValid()&&!this._isUTC}function _r(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(e,t){var n,r,i,o=e,a=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ce(a[Ue])*n,h:ce(a[Ze])*n,m:ce(a[He])*n,s:ce(a[qe])*n,ms:ce(ur(1e3*a[Xe]))*n}):(a=Cr.exec(e))?(n="-"===a[1]?-1:1,o={y:Ar(a[2],n),M:Ar(a[3],n),w:Ar(a[4],n),d:Ar(a[5],n),h:Ar(a[6],n),m:Ar(a[7],n),s:Ar(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Or(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ar(o),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ir(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Ir(e,t):((n=Ir(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Nr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Mr(n,r),e),this}}function Pr(e,t,n,i){var o=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,fe(e,"Month")+s*n),a&&he(e,"Date",fe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Mr.fn=ar.prototype,Mr.invalid=or;var Dr=Nr(1,"add"),Rr=Nr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function jr(e){return k(e)||d(e)||Lr(e)||c(e)||Br(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=o.length;for(t=0;t<l;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Br(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Lr(e)})).length),t&&n}function zr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Yr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Gr(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=hr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Vr(){return new E(this)}function Wr(e,t){var n=k(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Ur(e,t){var n=k(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zr(e,t,n,r){var i=k(e)?e:Xn(e),o=k(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Hr(e,t){var n,r=k(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Jr(this,r)/12;break;case"month":o=Jr(this,r);break;case"quarter":o=Jr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:le(o)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(k(e)&&e.isValid()||Xn(e).isValid())?Mr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Xn(),e)}function ii(e,t){return this.isValid()&&(k(e)&&e.isValid()||Xn(e).isValid())?Mr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Xn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var li=1e3,ci=60*li,di=60*ci,fi=3506328*di;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function gi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),di);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-hi(t+(this._isUTC?0:this.utcOffset()*ci),di)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=li-hi(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ki(){return this.isValid()?this.toISOString():null}function _i(){return m(this)}function Si(){return h({},v(this))}function Ti(){return v(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mi(e,t){var n,i,o,a=this._eras||yn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Ai(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Ii(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Ri(e){return s(this,"_erasNameRegex")||Gi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||Gi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return s(this,"_erasNarrowRegex")||Gi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Bi(e,t){return t.erasNameRegex(e)}function zi(e,t){return t.erasNarrowRegex(e)}function Yi(e,t){return t._eraYearOrdinalRegex||Me}function Gi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(je(a[e].name)),n.push(je(a[e].abbr)),i.push(je(a[e].narrow)),o.push(je(a[e].name)),o.push(je(a[e].abbr)),o.push(je(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Vi(e,t){z(0,[e,e.length],0,t)}function Wi(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ui(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Zi(){return kt(this.year(),1,4)}function Hi(){return kt(this.isoWeekYear(),1,4)}function qi(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return kt(this.weekYear(),e.dow,e.doy)}function Ki(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=kt(e,r,i))&&(t=o),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var o=wt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $i(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),De("N",Fi),De("NN",Fi),De("NNN",Fi),De("NNNN",Bi),De("NNNNN",zi),Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),De("y",Me),De("yy",Me),De("yyy",Me),De("yyyy",Me),De("yo",Yi),Be(["y","yy","yyy","yyyy"],Ve),Be(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ve]=n._locale.eraYearOrdinalParse(e,i):t[Ve]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),De("G",Ae),De("g",Ae),De("GG",Ee,ye),De("gg",Ee,ye),De("GGGG",Te,xe),De("gggg",Te,xe),De("GGGGG",Ce,we),De("ggggg",Ce,we),ze(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),ze(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),De("Q",me),Be("Q",(function(e,t){t[We]=3*(ce(e)-1)})),z("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),De("D",Ee),De("DD",Ee,ye),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Be(["D","DD"],Ue),Be("Do",(function(e,t){t[Ue]=ce(e.match(Ee)[0])}));var Qi=de("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),De("DDD",Se),De("DDDD",be),Be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),z("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),De("m",Ee),De("mm",Ee,ye),Be(["m","mm"],He);var to=de("Minutes",!1);z("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),De("s",Ee),De("ss",Ee,ye),Be(["s","ss"],qe);var no,ro,io=de("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),De("S",Se,me),De("SS",Se,ye),De("SSS",Se,be),no="SSSS";no.length<=9;no+="S")De(no,Me);function oo(e,t){t[Xe]=ce(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Be(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}ro=de("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var uo=E.prototype;function lo(e){return Xn(1e3*e)}function co(){return Xn.apply(null,arguments).parseZone()}function fo(e){return e}uo.add=Dr,uo.calendar=Gr,uo.clone=Vr,uo.diff=Kr,uo.endOf=mi,uo.format=ti,uo.from=ni,uo.fromNow=ri,uo.to=ii,uo.toNow=oi,uo.get=pe,uo.invalidAt=Ti,uo.isAfter=Wr,uo.isBefore=Ur,uo.isBetween=Zr,uo.isSame=Hr,uo.isSameOrAfter=qr,uo.isSameOrBefore=Xr,uo.isValid=_i,uo.lang=si,uo.locale=ai,uo.localeData=ui,uo.max=Jn,uo.min=Kn,uo.parsingFlags=Si,uo.set=ge,uo.startOf=vi,uo.subtract=Rr,uo.toArray=wi,uo.toObject=Ei,uo.toDate=xi,uo.toISOString=Qr,uo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=ki,uo.toString=$r,uo.unix=bi,uo.valueOf=yi,uo.creationData=Ci,uo.eraName=Oi,uo.eraNarrow=Ni,uo.eraAbbr=Pi,uo.eraYear=Di,uo.year=vt,uo.isLeapYear=mt,uo.weekYear=Wi,uo.isoWeekYear=Ui,uo.quarter=uo.quarters=$i,uo.month=ct,uo.daysInMonth=dt,uo.week=uo.weeks=Mt,uo.isoWeek=uo.isoWeeks=At,uo.weeksInYear=qi,uo.weeksInWeekYear=Xi,uo.isoWeeksInYear=Zi,uo.isoWeeksInISOWeekYear=Hi,uo.date=Qi,uo.day=uo.days=Wt,uo.weekday=Ut,uo.isoWeekday=Zt,uo.dayOfYear=eo,uo.hour=uo.hours=rn,uo.minute=uo.minutes=to,uo.second=uo.seconds=io,uo.millisecond=uo.milliseconds=ro,uo.utcOffset=gr,uo.utc=mr,uo.local=yr,uo.parseZone=br,uo.hasAlignedHourOffset=xr,uo.isDST=wr,uo.isLocal=kr,uo.isUtcOffset=_r,uo.isUtc=Sr,uo.isUTC=Sr,uo.zoneAbbr=ao,uo.zoneName=so,uo.dates=S("dates accessor is deprecated. Use date instead.",Qi),uo.months=S("months accessor is deprecated. Use month instead",ct),uo.years=S("years accessor is deprecated. Use year instead",vt),uo.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),uo.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Er);var ho=N.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function go(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function vo(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),a=e?o._week.dow:0,s=[];if(null!=n)return po(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=po(t,(i+a)%7,r,"day");return s}function mo(e,t){return go(e,t,"months")}function yo(e,t){return go(e,t,"monthsShort")}function bo(e,t,n){return vo(e,t,n,"weekdays")}function xo(e,t,n){return vo(e,t,n,"weekdaysShort")}function wo(e,t,n){return vo(e,t,n,"weekdaysMin")}ho.calendar=D,ho.longDateFormat=Z,ho.invalidDate=q,ho.ordinal=J,ho.preparse=fo,ho.postformat=fo,ho.relativeTime=Q,ho.pastFuture=ee,ho.set=I,ho.eras=Mi,ho.erasParse=Ai,ho.erasConvertYear=Ii,ho.erasAbbrRegex=Li,ho.erasNameRegex=Ri,ho.erasNarrowRegex=ji,ho.months=ot,ho.monthsShort=at,ho.monthsParse=ut,ho.monthsRegex=ht,ho.monthsShortRegex=ft,ho.week=_t,ho.firstDayOfYear=Ct,ho.firstDayOfWeek=Tt,ho.weekdays=Bt,ho.weekdaysMin=Yt,ho.weekdaysShort=zt,ho.weekdaysParse=Vt,ho.weekdaysRegex=Ht,ho.weekdaysShortRegex=qt,ho.weekdaysMinRegex=Xt,ho.isPM=tn,ho.meridiem=on,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",gn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var Eo=Math.abs;function ko(){var e=this._data;return this._milliseconds=Eo(this._milliseconds),this._days=Eo(this._days),this._months=Eo(this._months),e.milliseconds=Eo(e.milliseconds),e.seconds=Eo(e.seconds),e.minutes=Eo(e.minutes),e.hours=Eo(e.hours),e.months=Eo(e.months),e.years=Eo(e.years),this}function _o(e,t,n,r){var i=Mr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function So(e,t){return _o(this,e,t,1)}function To(e,t){return _o(this,e,t,-1)}function Co(e){return e<0?Math.floor(e):Math.ceil(e)}function Mo(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Co(Io(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=le(o/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,a+=le(n/24),s+=i=le(Ao(a)),a-=Co(Io(i)),r=le(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ao(e){return 4800*e/146097}function Io(e){return 146097*e/4800}function Oo(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ao(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Io(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function No(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Po(e){return function(){return this.as(e)}}var Do=Po("ms"),Ro=Po("s"),Lo=Po("m"),jo=Po("h"),Fo=Po("d"),Bo=Po("w"),zo=Po("M"),Yo=Po("Q"),Go=Po("y");function Vo(){return Mr(this)}function Wo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Uo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zo=Uo("milliseconds"),Ho=Uo("seconds"),qo=Uo("minutes"),Xo=Uo("hours"),Ko=Uo("days"),Jo=Uo("months"),$o=Uo("years");function Qo(){return le(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var i=Mr(e).abs(),o=ea(i.as("s")),a=ea(i.as("m")),s=ea(i.as("h")),u=ea(i.as("d")),l=ea(i.as("M")),c=ea(i.as("w")),d=ea(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,na.apply(null,f)}function ia(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ra(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=sa(this._milliseconds)/1e3,l=sa(this._days),c=sa(this._months),d=this.asSeconds();return d?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=ua(this._months)!==ua(d)?"-":"",a=ua(this._days)!==ua(d)?"-":"",s=ua(this._milliseconds)!==ua(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var ca=ar.prototype;return ca.isValid=ir,ca.abs=ko,ca.add=So,ca.subtract=To,ca.as=Oo,ca.asMilliseconds=Do,ca.asSeconds=Ro,ca.asMinutes=Lo,ca.asHours=jo,ca.asDays=Fo,ca.asWeeks=Bo,ca.asMonths=zo,ca.asQuarters=Yo,ca.asYears=Go,ca.valueOf=No,ca._bubble=Mo,ca.clone=Vo,ca.get=Wo,ca.milliseconds=Zo,ca.seconds=Ho,ca.minutes=qo,ca.hours=Xo,ca.days=Ko,ca.weeks=Qo,ca.months=Jo,ca.years=$o,ca.humanize=aa,ca.toISOString=la,ca.toString=la,ca.toJSON=la,ca.locale=ai,ca.localeData=ui,ca.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),ca.lang=si,z("X",0,0,"unix"),z("x",0,0,"valueOf"),De("x",Ae),De("X",Ne),Be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Be("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.2",i(Xn),r.fn=uo,r.min=Qn,r.max=er,r.now=tr,r.utc=p,r.unix=lo,r.months=mo,r.isDate=d,r.locale=gn,r.invalid=y,r.duration=Mr,r.isMoment=k,r.weekdays=bo,r.parseZone=co,r.localeData=yn,r.isDuration=sr,r.monthsShort=yo,r.weekdaysMin=wo,r.defineLocale=vn,r.updateLocale=mn,r.locales=bn,r.weekdaysShort=xo,r.normalizeUnits=re,r.relativeTimeRounding=ia,r.relativeTimeThreshold=oa,r.calendarFormat=Yr,r.prototype=uo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},45687:function(e,t,n){var r=n(91989),i=n(45713),o=n(97249),a=n(88828),s=n(847),u=[0,0];e.exports.x7=function(e,t,n,a,l){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),l/s(t,u)},e.exports.mJ=function(e,t){return i(e,-t[1],t[0]),e},e.exports.o7=function(e,t,n){return a(e,t,n),o(e,e),e}},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),o=n(45296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(f.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,_=60107,S=60108,T=60114,C=60109,M=60110,A=60112,I=60113,O=60120,N=60115,P=60116,D=60121,R=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;E=B("react.element"),k=B("react.portal"),_=B("react.fragment"),S=B("react.strict_mode"),T=B("react.profiler"),C=B("react.provider"),M=B("react.context"),A=B("react.forward_ref"),I=B("react.suspense"),O=B("react.suspense_list"),N=B("react.memo"),P=B("react.lazy"),D=B("react.block"),B("react.scope"),R=B("react.opaque.id"),L=B("react.debug_trace_mode"),j=B("react.offscreen"),F=B("react.legacy_hidden")}var z,Y="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function V(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function U(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function Z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 22:return e=U(e.type._render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return H(e.type);case D:return H(e._render);case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function le(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Me=null;function Ae(e){if(e=Qr(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function Ie(e){Ce?Me?Me.push(e):Me=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Me;if(Me=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ne(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Re=Ne,Le=!1,je=!1;function Fe(){null===Ce&&null===Me||(De(),Oe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(d)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(ul){ze=!1}function Ge(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ve=!1,We=null,Ue=!1,Ze=null,He={onError:function(e){Ve=!0,We=e}};function qe(e,t,n,r,i,o,a,s,u){Ve=!1,We=null,Ge.apply(He,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,lt=new Map,ct=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=Qr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=$r(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Qr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Qr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function wt(e){function t(t){return xt(t,e)}if(0<ot.length){xt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&xt(at,e),null!==st&&xt(st,e),null!==ut&&xt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},_t={},St={};function Tt(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return _t[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ct=Tt("animationend"),Mt=Tt("animationiteration"),At=Tt("animationstart"),It=Tt("transitionend"),Ot=new Map,Nt=new Map,Pt=["abort","abort",Ct,"animationEnd",Mt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Ot.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Rt=8;function Lt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Lt(u),i=Rt):0!==(s&=o)&&(r=Lt(s),i=Rt)}else 0!==(o=n&~a)?(r=Lt(o),i=Rt):0!==s&&(r=Lt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Bt(10,t):e;case 10:return 0===(e=zt(192&~t))?Bt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ut|0)|0},Wt=Math.log,Ut=Math.LN2;var Zt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,qt=!0;function Xt(e,t,n,r){Le||De();var i=Jt,o=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=o)||Fe()}}function Kt(e,t,n,r){Ht(Zt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),ot.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=ht(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return st=gt(st,e,t,n,r,i),!0;case"mouseover":return ut=gt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,gt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Se(r);if(null!==(i=$r(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ke(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(dn),hn=i({},dn,{view:0,detail:0}),pn=sn(hn),gn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=sn(gn),mn=sn(i({},gn,{dataTransfer:0})),yn=sn(i({},hn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=sn(i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return Sn}var Cn=sn(i({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Mn=sn(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=sn(i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],Pn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Rn=d&&"TextEvent"in window&&!Dn,Ln=d&&(!Pn||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Pr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Zn=null;function Hn(e){Sr(e,0)}function qn(e){if(J(ei(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(d){var Jn;if(d){var $n="oninput"in document;if(!$n){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),$n="function"===typeof Qn.oninput}Jn=$n}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Un&&(Un.detachEvent("onpropertychange",tr),Zn=Un=null)}function tr(e){if("value"===e.propertyName&&qn(Zn)){var t=[];if(Wn(t,Zn,e,Se(e)),e=Hn,Le)e(t);else{Le=!0;try{Ne(e,t)}finally{Le=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Zn=n,(Un=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Zn)}function ir(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,mr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Pr(vr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<xr.length;wr++)Nt.set(xr[wr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(qe.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var c=We;Ve=!1,We=null,Ue||(Ue=!0,Ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,l),o=u}}}if(Ue)throw e=Ze,Ue=!1,Ze=null,e}function Tr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){kr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ir(o,e,i,t),a.add(s))}function Ir(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Kt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=$r(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Re(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var u=fn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ct:case Mt:case At:u=bn;break;case It:u=In;break;case"scroll":u=pn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Be(p,f))&&c.push(Nr(p,g,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!$r(l)&&!l[Kr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?$r(l):null)&&(l!==(d=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:ei(u),h=null==l?s:ei(l),(s=new c(g,p+"leave",u,n,i)).target=d,s.relatedTarget=h,g=null,$r(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,g=c),d=g,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Dr(h))p++;for(h=0,g=f;g;g=Dr(g))h++;for(;0<p-h;)c=Dr(c),p--;for(;0<h-p;)f=Dr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Dr(c),f=Dr(f)}c=null}else c=null;null!==u&&Rr(a,s,u,c,!1),null!==l&&null!==d&&Rr(a,d,l,c,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Xn;else if(Vn(s))if(Kn)v=or;else{v=rr;var m=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ei(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,vr=r,mr=null);break;case"focusout":mr=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yn&&(y=nn()):(en="value"in(Qt=i)?Qt.value:Qt.textContent,Yn=!0)),0<(m=Pr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=nn(),tn=en=Qt=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Pr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Sr(a,t)}))}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Nr(e,o,i)),null!=(o=Be(e,t))&&r.push(Nr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Be(n,o))&&a.unshift(Nr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Nr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Lr(){}var jr=null,Fr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var Hr=Math.random().toString(36).slice(2),qr="__reactFiber$"+Hr,Xr="__reactProps$"+Hr,Kr="__reactContainer$"+Hr,Jr="__reactEvents$"+Hr;function $r(e){var t=e[qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ur(e);null!==e;){if(n=e[qr])return n;e=Ur(e)}return t}n=(e=n).parentNode}return null}function Qr(e){return!(e=e[qr]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[Xr]||null}function ni(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},li=oi(ui),ci=oi(!1),di=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pi(){ai(ci),ai(li)}function gi(e,t,n){if(li.current!==ui)throw Error(a(168));si(li,t),si(ci,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=li.current,si(li,e),si(ci,ci.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ai(ci),ai(li),si(li,e)):ai(ci),si(ci,n)}var bi=null,xi=null,wi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,_i=o.unstable_shouldYield,Si=o.unstable_requestPaint,Ti=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,Ni=o.unstable_IdlePriority,Pi={},Di=void 0!==Si?Si:function(){},Ri=null,Li=null,ji=!1,Fi=Ti(),Bi=1e4>Fi?Ti:function(){return Ti()-Fi};function zi(){switch(Ci()){case Mi:return 99;case Ai:return 98;case Ii:return 97;case Oi:return 96;case Ni:return 95;default:throw Error(a(332))}}function Yi(e){switch(e){case 99:return Mi;case 98:return Ai;case 97:return Ii;case 96:return Oi;case 95:return Ni;default:throw Error(a(332))}}function Gi(e,t){return e=Yi(e),wi(e,t)}function Vi(e,t,n){return e=Yi(e),Ei(e,t,n)}function Wi(){if(null!==Li){var e=Li;Li=null,ki(e)}Ui()}function Ui(){if(!ji&&null!==Ri){ji=!0;var e=0;try{var t=Ri;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),Ei(Mi,Wi),n}finally{ji=!1}}}var Zi=w.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=oi(null),Xi=null,Ki=null,Ji=null;function $i(){Ji=Ki=Xi=null}function Qi(e){var t=qi.current;ai(qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){Xi=e,Ji=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Pa=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===Xi)throw Error(a(308));Ki=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,d=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){f=p.call(h,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(h,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,l=f):d=d.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,js|=s,e.lanes=s,e.memoizedState=f}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uu(),i=lu(e),o=ao(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),so(e,o),cu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uu(),i=lu(e),o=ao(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),so(e,o),cu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uu(),r=lu(e),i=ao(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),so(e,i),cu(e,r,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function vo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"===typeof o&&null!==o?o=no(o):(i=hi(t)?di:li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,io(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=no(o):(o=hi(t)?di:li.current,i.context=fi(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Vu(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Wu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vu(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case k:return(t=Hu(t,e.mode,n)).return=e,t}if(bo(t)||G(t))return(t=Wu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===_?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(bo(n)||G(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===_?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||G(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,d=a,g=a=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(i,d,s[g],u);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m,d=v}if(g===s.length)return n(i,d),l;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],u))&&(a=o(d,a,g),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(i,d);g<s.length;g++)null!==(v=p(d,i,g,s[g],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=G(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===d?c=b:d.sibling=b,d=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===_&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case E:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===_){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=xo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===_?((r=Wu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Vu(o.type,o.key,o.props,null,e.mode,u)).ref=xo(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return g(e,r,o,u);if(G(o))return v(e,r,o,u);if(c&&wo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var ko=Eo(!0),_o=Eo(!1),So={},To=oi(So),Co=oi(So),Mo=oi(So);function Ao(e){if(e===So)throw Error(a(174));return e}function Io(e,t){switch(si(Mo,t),si(Co,e),si(To,So),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(To),si(To,t)}function Oo(){ai(To),ai(Co),ai(Mo)}function No(e){Ao(Mo.current);var t=Ao(To.current),n=pe(t,e.type);t!==n&&(si(Co,e),si(To,n))}function Po(e){Co.current===e&&(ai(To),ai(Co))}var Do=oi(0);function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=null,jo=null,Fo=!1;function Bo(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Yo(e){if(Fo){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Lo=e);Bo(Lo,n)}Lo=e,jo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Lo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Vo(e){if(e!==Lo)return!1;if(!Fo)return Go(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Bo(e,t),t=Wr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Lo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){jo=Lo=null,Fo=!1}var Uo=[];function Zo(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var Ho=w.ReactCurrentDispatcher,qo=w.ReactCurrentBatchConfig,Xo=0,Ko=null,Jo=null,$o=null,Qo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if(Xo=o,Ko=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?Aa:Ia,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,$o=Jo=null,t.updateQueue=null,Ho.current=Oa,e=n(r,i)}while(ea)}if(Ho.current=Ma,t=null!==Jo&&null!==Jo.next,Xo=0,$o=Jo=Ko=null,Qo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Ko.memoizedState=$o=e:$o=$o.next=e,$o}function oa(){if(null===Jo){var e=Ko.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===$o?Ko.memoizedState:$o.next;if(null!==t)$o=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===$o?Ko.memoizedState=$o=e:$o=$o.next=e}return $o}function aa(e,t){return"function"===typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Xo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,Ko.lanes|=c,js|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Pa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Uo.push(t))),e)return n(t._source);throw Uo.push(t),Error(a(350))}function ca(e,t,n,r){var i=As;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ho.current,l=u.useState((function(){return la(i,t,n)})),c=l[1],d=l[0];l=$o;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,g=f.source;f=f.subscribe;var v=Ko;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(d,e)||(c(e),e=lu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Vt(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=lu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ar(p,n)&&ar(g,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:d}).dispatch=c=Ca.bind(null,Ko,e),l.queue=e,l.baseQueue=null,d=la(i,t,n),l.memoizedState=l.baseState=d),d}function da(e,t,n){return ca(oa(),e,t,n)}function fa(e){var t=ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ca.bind(null,Ko,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ko.updateQueue)?(t={lastEffect:null},Ko.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ga(){return oa().memoizedState}function va(e,t,n,r){var i=ia();Ko.flags|=e,i.memoizedState=ha(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void ha(t,n,o,r)}Ko.flags|=e,i.memoizedState=ha(1|t,n,o,r)}function ya(e,t){return va(516,4,e,t)}function ba(e,t){return ma(516,4,e,t)}function xa(e,t){return ma(4,2,e,t)}function wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,wa.bind(null,t,e),n)}function ka(){}function _a(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=zi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=qo.transition;qo.transition=1;try{e(!1),t()}finally{qo.transition=n}}))}function Ca(e,t,n){var r=uu(),i=lu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ko||null!==a&&a===Ko)ea=Qo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(l){}cu(e,i,r)}}var Ma={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,va(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Ko,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:ka,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ca(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0===(2&Ko.mode)&&(Ko.flags|=516,ha(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Ia={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:xa,useMemo:Sa,useReducer:sa,useRef:ga,useState:function(){return sa(aa)},useDebugValue:ka,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ga().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Oa={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:xa,useMemo:Sa,useReducer:ua,useRef:ga,useState:function(){return ua(aa)},useDebugValue:ka,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=qo.transition;qo.transition=1;try{r(e)}finally{qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ga().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Na=w.ReactCurrentOwner,Pa=!1;function Da(e,t,n,r){t.child=null===e?_o(t,null,n,r):ko(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Pa?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ts(e,t,i))}function La(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Yu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ts(e,t,o):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Pa=!1,0===(o&i))return t.lanes=e.lanes,ts(e,t,o);0!==(16384&e.flags)&&(Pa=!0)}return za(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},yu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yu(t,e),null;t.memoizedState={baseLanes:0},yu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yu(t,r);return Da(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=hi(n)?di:li.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Pa?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ts(e,t,i))}function Ya(e,t,n,r,i){if(hi(n)){var o=!0;mi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=no(l):l=fi(t,l=hi(n)?di:li.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&mo(t,a,r,l),ro=!1;var f=t.memoizedState;a.state=f,lo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||ci.current||ro?("function"===typeof c&&(ho(t,n,c,r),u=t.memoizedState),(s=ro||go(t,n,s,r,f,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Hi(t.type,s),a.props=l,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=no(u):u=fi(t,u=hi(n)?di:li.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&mo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,lo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||ci.current||ro?("function"===typeof h&&(ho(t,n,h,r),p=t.memoizedState),(l=ro||go(t,n,l,r,f,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),ts(e,t,o);r=t.stateNode,Na.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Io(e,t.containerInfo)}var Wa,Ua,Za,Ha={dehydrated:null,retryLane:0};function qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&Yo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=Uu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Ja(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i):(n=Ka(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Uu(t,i,0,null),n=Wu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ka(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Wu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ro(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,o,t.lastEffect);break;case"together":Qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ns(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return hi(t.type)&&pi(),null;case 3:return Oo(),ai(ci),ai(li),Zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Po(t);var o=Ao(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ao(To.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qr]=t,r[Xr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[qr]=t,e[Xr]=r,Wa(e,t),t.stateNode=e,l=_e(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Tr("scroll",e):null!=d&&x(e,s,d,l))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Lr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Za(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ao(Mo.current),Ao(To.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[qr]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===As||0===(134217727&js)&&0===(134217727&Fs)||pu(As,Os))),(r||n)&&(t.flags|=4),null);case 4:return Oo(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return Qi(t),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)ns(r,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Ro(e))){for(t.flags|=64,ns(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Gs&&(t.flags|=64,s=!0,ns(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ro(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,ns(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return bu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function is(e){switch(e.tag){case 1:hi(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oo(),ai(ci),ai(li),Zo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Po(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Oo(),null;case 10:return Qi(e),null;case 23:case 24:return bu(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function as(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ao(To.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Lr)}for(d in ke(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Tr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===R?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Za=function(e,t,n,r){n!==r&&(t.flags|=4)};var ss="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Hs=r),as(0,t)},n}function ls(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return as(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lu(e,n)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo))}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Pu(n,e),Nu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&co(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}co(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ps(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(bi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Pu(t,n);else{r=t;try{i()}catch(o){Lu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Lu(t,o)}break;case 5:ds(t);break;case 4:ws(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):xs(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function ws(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(gs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?me(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ys=Bi(),ps(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void ps(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _s(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ss=Math.ceil,Ts=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Ms=0,As=null,Is=null,Os=0,Ns=0,Ps=oi(0),Ds=0,Rs=null,Ls=0,js=0,Fs=0,Bs=0,zs=null,Ys=0,Gs=1/0;function Vs(){Gs=Bi()+500}var Ws,Us=null,Zs=!1,Hs=null,qs=null,Xs=!1,Ks=null,Js=90,$s=[],Qs=[],eu=null,tu=0,nu=null,ru=-1,iu=0,ou=0,au=null,su=!1;function uu(){return 0!==(48&Ms)?Bi():-1!==ru?ru:ru=Bi()}function lu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===iu&&(iu=Ls),0!==Zi.transition){0!==ou&&(ou=null!==zs?zs.pendingLanes:0),e=iu;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Ms)&&98===e?e=Bt(12,iu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),iu),e}function cu(e,t,n){if(50<tu)throw tu=0,nu=null,Error(a(185));if(null===(e=du(e,t)))return null;Gt(e,t,n),e===As&&(Fs|=t,4===Ds&&pu(e,Os));var r=zi();1===t?0!==(8&Ms)&&0===(48&Ms)?gu(e):(fu(e,n),0===Ms&&(Vs(),Wi())):(0===(4&Ms)||98!==r&&99!==r||(null===eu?eu=new Set([e]):eu.add(e)),fu(e,n)),zs=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Lt(l);var d=Rt;o[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=jt(e,e===As?Os:0),t=Rt,0===r)null!==n&&(n!==Pi&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Pi&&ki(n)}15===t?(n=gu.bind(null,e),null===Ri?(Ri=[n],Li=Ei(Mi,Ui)):Ri.push(n),n=Pi):14===t?n=Vi(99,gu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Vi(n,hu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(ru=-1,ou=iu=0,0!==(48&Ms))throw Error(a(327));var t=e.callbackNode;if(Ou()&&e.callbackNode!==t)return null;var n=jt(e,e===As?Os:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=Eu();for(As===e&&Os===r||(Vs(),xu(e,r));;)try{Su();break}catch(u){wu(e,u)}if($i(),Ts.current=o,Ms=i,null!==Is?r=0:(As=null,Os=0,r=Ds),0!==(Ls&Fs))xu(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=ku(e,n))),1===r)throw t=Rs,xu(e,0),pu(e,n),fu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Mu(e);break;case 3:if(pu(e,n),(62914560&n)===n&&10<(r=Ys+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yr(Mu.bind(null,e),r);break}Mu(e);break;case 4:if(pu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){e.timeoutHandle=Yr(Mu.bind(null,e),n);break}Mu(e);break;default:throw Error(a(329))}}return fu(e,Bi()),e.callbackNode===t?hu.bind(null,e):null}function pu(e,t){for(t&=~Bs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!==(48&Ms))throw Error(a(327));if(Ou(),e===As&&0!==(e.expiredLanes&Os)){var t=Os,n=ku(e,t);0!==(Ls&Fs)&&(n=ku(e,t=jt(e,t)))}else n=ku(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=ku(e,t))),1===n)throw n=Rs,xu(e,0),pu(e,t),fu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mu(e),fu(e,Bi()),null}function vu(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Vs(),Wi())}}function mu(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Vs(),Wi())}}function yu(e,t){si(Ps,Ns),Ns|=t,Ls|=t}function bu(){Ns=Ps.current,ai(Ps)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pi();break;case 3:Oo(),ai(ci),ai(li),Zo();break;case 5:Po(r);break;case 4:Oo();break;case 13:case 19:ai(Do);break;case 10:Qi(r);break;case 23:case 24:bu()}n=n.return}As=e,Is=Gu(e.current,null),Os=Ns=Ls=t,Ds=0,Rs=null,Bs=Fs=js=0}function wu(e,t){for(;;){var n=Is;try{if($i(),Ho.current=Ma,Qo){for(var r=Ko.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Qo=!1}if(Xo=0,$o=Jo=Ko=null,ea=!1,Cs.current=null,null===n||null===n.return){Ds=1,Rs=t,Is=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Do.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=f.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(l),f.updateQueue=m}else v.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ss,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=ju.bind(null,o,l,s);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=os(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,us(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===qs||!qs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ls(f,o,t));break e}}f=f.return}while(null!==f)}Cu(n)}catch(k){t=k,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function Eu(){var e=Ts.current;return Ts.current=Ma,null===e?Ma:e}function ku(e,t){var n=Ms;Ms|=16;var r=Eu();for(As===e&&Os===t||xu(e,t);;)try{_u();break}catch(i){wu(e,i)}if($i(),Ms=n,Ts.current=r,null!==Is)throw Error(a(261));return As=null,Os=0,Ds}function _u(){for(;null!==Is;)Tu(Is)}function Su(){for(;null!==Is&&!_i();)Tu(Is)}function Tu(e){var t=Ws(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Cu(e):Is=t,Cs.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=rs(n,t,Ns)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=is(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ds&&(Ds=5)}function Mu(e){var t=zi();return Gi(99,Au.bind(null,e,t)),null}function Au(e,t){do{Ou()}while(null!==Ks);if(0!==(48&Ms))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Vt(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==eu&&0===(24&r)&&eu.has(e)&&eu.delete(e),e===As&&(Is=As=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Cs.current=null,jr=qt,hr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(T){u=null;break e}var d=0,f=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(f=d+o),v!==l||0!==c&&3!==v.nodeType||(h=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++p===o&&(f=d),m===l&&++g===c&&(h=d),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===f||-1===h?null:{start:f,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},qt=!1,au=null,su=!1,Us=r;do{try{Iu()}catch(T){if(null===Us)throw Error(a(330));Lu(Us,T),Us=Us.nextEffect}}while(null!==Us);au=null,Us=r;do{try{for(s=e;null!==Us;){var b=Us.flags;if(16&b&&me(Us.stateNode,""),128&b){var x=Us.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ys(Us),Us.flags&=-3;break;case 6:ys(Us),Us.flags&=-3,Es(Us.alternate,Us);break;case 1024:Us.flags&=-1025;break;case 1028:Us.flags&=-1025,Es(Us.alternate,Us);break;case 4:Es(Us.alternate,Us);break;case 8:ws(s,u=Us);var E=u.alternate;vs(u),null!==E&&vs(E)}Us=Us.nextEffect}}catch(T){if(null===Us)throw Error(a(330));Lu(Us,T),Us=Us.nextEffect}}while(null!==Us);if(w=Fr,x=fr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&hr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=cr(b,E),o=cr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!jr,Fr=jr=null,e.current=n,Us=r;do{try{for(b=e;null!==Us;){var k=Us.flags;if(36&k&&hs(b,Us.alternate,Us),128&k){x=void 0;var _=Us.ref;if(null!==_){var S=Us.stateNode;Us.tag,x=S,"function"===typeof _?_(x):_.current=x}}Us=Us.nextEffect}}catch(T){if(null===Us)throw Error(a(330));Lu(Us,T),Us=Us.nextEffect}}while(null!==Us);Us=null,Di(),Ms=i}else e.current=n;if(Xs)Xs=!1,Ks=e,Js=t;else for(Us=r;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,8&Us.flags&&((k=Us).sibling=null,k.stateNode=null),Us=t;if(0===(r=e.pendingLanes)&&(qs=null),1===r?e===nu?tu++:(tu=0,nu=e):tu=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(T){}if(fu(e,Bi()),Zs)throw Zs=!1,e=Hs,Hs=null,e;return 0!==(8&Ms)||Wi(),null}function Iu(){for(;null!==Us;){var e=Us.alternate;su||null===au||(0!==(8&Us.flags)?Qe(Us,au)&&(su=!0):13===Us.tag&&_s(e,Us)&&Qe(Us,au)&&(su=!0));var t=Us.flags;0!==(256&t)&&fs(e,Us),0===(512&t)||Xs||(Xs=!0,Vi(97,(function(){return Ou(),null}))),Us=Us.nextEffect}}function Ou(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Gi(e,Du)}return!1}function Nu(e,t){$s.push(t,e),Xs||(Xs=!0,Vi(97,(function(){return Ou(),null})))}function Pu(e,t){Qs.push(t,e),Xs||(Xs=!0,Vi(97,(function(){return Ou(),null})))}function Du(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&Ms))throw Error(a(331));var t=Ms;Ms|=32;var n=Qs;Qs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Lu(o,l)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));Lu(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ms=t,Wi(),!0}function Ru(e,t,n){so(e,t=us(0,t=os(n,t),1)),t=uu(),null!==(e=du(e,1))&&(Gt(e,1,t),fu(e,t))}function Lu(e,t){if(3===e.tag)Ru(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ru(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){var i=ls(n,e=os(t,e),1);if(so(n,i),i=uu(),null!==(n=du(n,1)))Gt(n,1,i),fu(n,i);else if("function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uu(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ds||3===Ds&&(62914560&Os)===Os&&500>Bi()-Ys?xu(e,0):Bs|=n),fu(e,t)}function Fu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===iu&&(iu=Ls),0===(t=zt(62914560&~iu))&&(t=4194304))),n=uu(),null!==(e=du(e,t))&&(Gt(e,t,n),fu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Bu(e,t,n,r)}function Yu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Yu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Wu(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=zu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case I:return(e=zu(13,n,t,i)).type=I,e.elementType=I,e.lanes=o,e;case O:return(e=zu(19,n,t,i)).elementType=O,e.lanes=o,e;case j:return Uu(n,i,o,t);case F:return(e=zu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case A:s=11;break e;case N:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Wu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=zu(23,e,r,t)).elementType=j,e.lanes=n,e}function Zu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e,t,n,r){var i=t.current,o=uu(),s=lu(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(hi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(hi(l)){n=vi(n,l,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),cu(i,s,o),s}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function el(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new qu(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Kr]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(a);s.call(e)}}Ku(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new el(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(a);u.call(e)}}mu((function(){Ku(t,a,e,i)}))}return Ju(a)}function rl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tl(t))throw Error(a(200));return Xu(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Pa=!0;else{if(0===(n&r)){switch(Pa=!1,t.tag){case 3:Va(t),Wo();break;case 5:No(t);break;case 1:hi(t.type)&&mi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?qa(e,t,n):(si(Do,1&Do.current),null!==(t=ts(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return es(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return ts(e,t,n)}Pa=0!==(16384&e.flags)}else Pa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,li.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ho(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Yu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(i),e=Hi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ya(null,t,i,e,n);break e;case 11:t=Ra(null,t,i,e,n);break e;case 14:t=La(null,t,i,Hi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ya(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=ts(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Wr(t.stateNode.containerInfo.firstChild),Lo=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Uo.push(o);for(n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Wo();t=t.child}return t;case 5:return No(t),null===e&&Yo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Yo(t),null;case 13:return qa(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=ar(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!ci.current){t=ts(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=ao(-1,n&-n)).tag=2,so(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),eo(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Hi(i=t.type,t.pendingProps),La(e,t,i,o=Hi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,hi(r)?(e=!0,mi(t)):e=!1,to(t,n),vo(t,r,i),yo(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return es(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},el.prototype.render=function(e){Ku(e,this._internalRoot,null,null)},el.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ku(null,e,null,(function(){t[Kr]=null}))},et=function(e){13===e.tag&&(cu(e,4,uu()),Qu(e,4))},tt=function(e){13===e.tag&&(cu(e,67108864,uu()),Qu(e,67108864))},nt=function(e){if(13===e.tag){var t=uu(),n=lu(e);cu(e,n,t),Qu(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=vu,Pe=function(e,t,n,r,i){var o=Ms;Ms|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=o)&&(Vs(),Wi())}},De=function(){0===(49&Ms)&&(function(){if(null!==eu){var e=eu;eu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fu(e,Bi())}))}Wi()}(),Ou())},Re=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Vs(),Wi())}};var il={Events:[Qr,ei,ti,Ie,Oe,Ou,{current:!1}]},ol={findFiberByHostInstance:$r,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{bi=sl.inject(al),xi=sl}catch(ul){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=il,t.createPortal=rl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Ms=n,Wi()}},t.hydrate=function(e,t,n){if(!tl(t))throw Error(a(200));return nl(null,e,t,!0,n)},t.render=function(e,t,n){if(!tl(t))throw Error(a(200));return nl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tl(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=vu,t.unstable_createPortal=function(e,t){return rl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return nl(e,t,n,!1,r)},t.version="17.0.2"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},57441:function(e,t,n){"use strict";e.exports=n(11372)},98459:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,d=60120,f=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case f:case s:return e;default:return t}}case r:return t}}}},36900:function(e,t,n){"use strict";n(98459)},66374:function(e,t,n){"use strict";n(31725);var r=n(72791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},59117:function(e,t,n){"use strict";var r=n(31725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+T(s=e[l],l);u+=C(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,c=r+T(s,l++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function O(){var e=I.current;if(null===e)throw Error(h(321));return e}var N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},66121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),c="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/xai-papers",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/xai-papers",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,d=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,f=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,h=new(c||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(R(n)){if(!W(e))throw new TypeError;if(!Z(t))throw new TypeError;return _(e,t)}if(!W(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!R(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),S(e,t,n=V(n),r)}function g(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!R(r)&&!H(r))throw new TypeError;O(e,t,n,r)}return n}function v(e,t,n,r){if(!F(n))throw new TypeError;return R(r)||(r=V(r)),O(e,t,n,r)}function m(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),C(e,t,n)}function y(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),M(e,t,n)}function b(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),A(e,t,n)}function x(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=V(n)),I(e,t,n)}function w(e,t){if(!F(e))throw new TypeError;return R(t)||(t=V(t)),N(e,t)}function E(e,t){if(!F(e))throw new TypeError;return R(t)||(t=V(t)),P(e,t)}function k(e,t,n){if(!F(t))throw new TypeError;R(n)||(n=V(n));var r=T(t,n,!1);if(R(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}function _(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!R(r)&&!L(r)){if(!Z(r))throw new TypeError;t=r}}return t}function S(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!R(o)&&!L(o)){if(!F(o))throw new TypeError;r=o}}return r}function T(e,t,n){var r=h.get(e);if(R(r)){if(!n)return;r=new d,h.set(e,r)}var i=r.get(t);if(R(i)){if(!n)return;i=new d,r.set(t,i)}return i}function C(e,t,n){if(M(e,t,n))return!0;var r=Q(t);return!L(r)&&C(e,r,n)}function M(e,t,n){var r=T(t,n,!1);return!R(r)&&Y(r.has(e))}function A(e,t,n){if(M(e,t,n))return I(e,t,n);var r=Q(t);return L(r)?void 0:A(e,r,n)}function I(e,t,n){var r=T(t,n,!1);if(!R(r))return r.get(e)}function O(e,t,n,r){T(n,r,!0).set(e,t)}function N(e,t){var n=P(e,t),r=Q(e);if(null===r)return n;var i=N(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new f,a=[],s=0,u=n;s<u.length;s++){var l=u[s];o.has(l)||(o.add(l),a.push(l))}for(var c=0,d=i;c<d.length;c++){l=d[c];o.has(l)||(o.add(l),a.push(l))}return a}function P(e,t){var n=[],r=T(e,t,!1);if(R(r))return n;for(var i=X(r.keys()),o=0;;){var a=J(i);if(!a)return n.length=o,n;var s=K(a);try{n[o]=s}catch(u){try{$(i)}finally{throw u}}o++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function B(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=q(e,r);if(void 0!==i){var o=i.call(e,n);if(F(o))throw new TypeError;return o}return z(e,"default"===n?"number":n)}function z(e,t){if("string"===t){var n=e.toString;if(U(n))if(!F(i=n.call(e)))return i;if(U(r=e.valueOf))if(!F(i=r.call(e)))return i}else{var r;if(U(r=e.valueOf))if(!F(i=r.call(e)))return i;var i,o=e.toString;if(U(o))if(!F(i=o.call(e)))return i}throw new TypeError}function Y(e){return!!e}function G(e){return""+e}function V(e){var t=B(e,3);return j(t)?t:G(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function U(e){return"function"===typeof e}function Z(e){return"function"===typeof e}function H(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!U(n))throw new TypeError;return n}}function X(e){var t=q(e,i);if(!U(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function K(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function Q(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+l()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function l(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",b),e("getOwnMetadata",x),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",k)}(i)}()}(r||(r={}))},19727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(A([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=y.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=y,u(E,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},39084:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||i(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,n){l(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function d(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function f(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function g(e,t){for(e+="";e.length<t;)e=" "+e;return e}function v(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,o=0,a={unknown:new v,0:new v};a.unknown.name=a[0].name=t||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(i=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new v)));break;case"define":var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);d&&(a[o].name=d[1]?r(d[2]):d[2])}a[o].lines.push(new m(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function E(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function k(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function _(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";O(r,"string",u+" shader source must be a string",a);var l=w(r,a),c=E(s);k(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(g(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(g("| ",6)),o(g("^^^",t+3)+n,"font-weight:bold"),o(g("| ",6)),o(i+n,"font-weight:bold")})),o(g("| ",6)+n)}else o(g(e.number,4)+"|  "),o(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+l[0].name)}}function S(e,t,r,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(r,a),l='Error linking program with vertex shader, "'+w(i,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+s),o.raise(l)}}function T(e){e._commandRef=b()}function C(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}T(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function M(e,t){var n=x();i(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function A(e,t,n){e||M(t,n||b())}function I(e,t,n,r){e in t||M("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||b())}function O(e,t,n,r){l(e,t)||M("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||b())}function N(e){e()}function P(e,t,n){e.texture?f(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):f(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var D=33071,R=9728,L=9984,j=9985,F=9986,B=9987,z=5121,Y=5122,G=5123,V=5124,W=5125,U=5126,Z=32819,H=32820,q=33635,X=34042,K=36193,J={};function $(e,t){return e===H||e===Z||e===q?2:e===X?4:J[e]*t}function Q(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===D&&e.wrapT===D||o(Q(i)&&Q(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==L&&e.minFilter!==F&&e.minFilter!==j&&e.minFilter!==B,"min filter requires mipmap"):(o(Q(i)&&Q(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===U&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===R&&e.magFilter===R,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var l=i>>r,c=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var d=u[r];if(o(d.width===l&&d.height===c,"invalid shape for mip images"),o(d.format===t.format&&d.internalformat===t.internalformat&&d.type===t.type,"incompatible type for mip image"),d.compressed);else if(d.data){var f=Math.ceil($(d.type,s)*l/d.unpackAlignment)*d.unpackAlignment;o(d.data.byteLength===f*c,"invalid data for image, buffer size is inconsistent with image format")}else d.element||d.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===D&&t.wrapT===D,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];o(l.width===i&&l.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!l.compressed,"can not generate mipmap for compressed textures"),o(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,d=0;d<16;++d){var f=c[d];if(f){var h=i>>d,p=a>>d;o(l.mipmask&1<<d,"missing mipmap data"),o(f.width===h&&f.height===p,"invalid shape for mip images"),o(f.format===e.format&&f.internalformat===e.internalformat&&f.type===e.type,"incompatible type for mip image"),f.compressed||(f.data?o(f.data.byteLength===h*p*Math.max($(f.type,s),f.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):f.element||f.copy)}}}}J[5120]=J[z]=1,J[Y]=J[G]=J[K]=J[q]=J[Z]=J[H]=2,J[V]=J[W]=J[U]=J[X]=4;var ne=t(o,{optional:N,raise:i,commandRaise:M,command:A,parameter:s,commandParameter:I,constructor:p,type:c,commandType:O,isTypedArray:u,nni:d,oneOf:f,shaderError:_,linkError:S,callSite:x,saveCommandRef:T,saveDrawInfo:C,framebufferFormat:P,guessCommand:b,texture2D:ee,textureCube:te}),re=0,ie=0,oe=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function le(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return le(e.substr(0,r.index)).concat(le(r[1])).concat(le(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(le(i[a]));return o}function ce(e){return"["+le(e).join("][")+"]"}function de(e,t){return new se(e,ce(t+""))}function fe(e){return"function"===typeof e&&!e._reglType||e instanceof se}function he(e,t){return"function"===typeof e?new se(ie,e):"number"===typeof e||"boolean"===typeof e?new se(oe,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:de,isDynamic:fe,unbox:he,accessor:ce},ge={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ve="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function me(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Ee(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function _e(e){var t,n,r,i,o=e||{},a={},s=[],u=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,d=function(e){e&&ne.raise(e)},f=function(){};if("string"===typeof o?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),ne(t,"invalid query string for element")):"object"===typeof o?xe(o)?t=o:we(o)?r=(i=o).canvas:(ne.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=ke(o.canvas):"container"in o&&(n=ke(o.container)),"attributes"in o&&(a=o.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in o&&(s=Ee(o.extensions)),"optionalExtensions"in o&&(u=Ee(o.optionalExtensions)),"onDone"in o&&(ne.type(o.onDone,"function","invalid or missing onDone callback"),d=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(l=+o.pixelRatio,ne(l>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=ye(n||document.body,d,l);if(!h)return null;r=h.canvas,f=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=be(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:l,profile:c,onDone:d,onDestroy:f}:(f(),d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Se(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Te(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ce=5120,Me=5121,Ae=5122,Ie=5123,Oe=5124,Ne=5125,Pe=5126;function De(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Re(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Le(){var e=Te(8,(function(){return[]}));function t(t){var n=De(t),r=e[Re(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Re(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ce:r=new Int8Array(t(n),0,n);break;case Me:r=new Uint8Array(t(n),0,n);break;case Ae:r=new Int16Array(t(2*n),0,n);break;case Ie:r=new Uint16Array(t(2*n),0,n);break;case Oe:r=new Int32Array(t(4*n),0,n);break;case Ne:r=new Uint32Array(t(4*n),0,n);break;case Pe:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var je=Le();je.zero=Le();var Fe=3408,Be=3410,ze=3411,Ye=3412,Ge=3413,Ve=3414,We=3415,Ue=33901,Ze=33902,He=3379,qe=3386,Xe=34921,Ke=36347,Je=36348,$e=35661,Qe=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,ot=7937,at=7938,st=35724,ut=34047,lt=36063,ct=34852,dt=3553,ft=34067,ht=34069,pt=33984,gt=6408,vt=5126,mt=5121,yt=36160,bt=36053,xt=36064,wt=16384,Et=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ct),i=e.getParameter(lt));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(dt,a),e.texImage2D(dt,0,gt,1,1,0,gt,vt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,xt,dt,a,0),e.bindTexture(dt,null),e.checkFramebufferStatus(yt)!==bt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=je.allocType(vt,4);e.readPixels(0,0,1,1,gt,vt,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),je.freeType(u)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),d=je.allocType(mt,36);e.activeTexture(pt),e.bindTexture(ft,c),e.texImage2D(ht,0,gt,3,3,0,gt,mt,d),je.freeType(d),e.bindTexture(ft,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(Be),e.getParameter(ze),e.getParameter(Ye),e.getParameter(Ge)],depthBits:e.getParameter(Ve),stencilBits:e.getParameter(We),subpixelBits:e.getParameter(Fe),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Ue),lineWidthDims:e.getParameter(Ze),maxViewportDims:e.getParameter(qe),maxCombinedTextureUnits:e.getParameter($e),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(He),maxAttributes:e.getParameter(Xe),maxVertexUniforms:e.getParameter(Ke),maxVertexTextureUnits:e.getParameter(Qe),maxVaryingVectors:e.getParameter(Je),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(ot),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:o,npotTextureCube:l}};function kt(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var _t=function(e){return Object.keys(e).map((function(t){return e[t]}))},St={shape:Ot,flatten:It};function Tt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Ct(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Mt(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],l=0;l<n;++l)for(var c=u[l],d=0;d<r;++d)i[a++]=c[d]}function At(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],l=t[n+2],c=t[n+3];for(a=0;a<s;++a)Mt(e[a],u,l,c,r,i),i+=o}else for(a=0;a<s;++a)At(e[a],t,n+1,r,i),i+=o}function It(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||je.allocType(n,i);switch(t.length){case 0:break;case 1:Tt(e,t[0],a);break;case 2:Ct(e,t[0],t[1],a);break;case 3:Mt(e,t[0],t[1],t[2],a,0);break;default:At(e,t,0,a,0)}return a}function Ot(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Nt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Dt={dynamic:35048,stream:35040,static:35044},Rt=St.flatten,Lt=St.shape,jt=35044,Ft=35040,Bt=5121,zt=5126,Yt=[];function Gt(e){return 0|Nt[Object.prototype.toString.call(e)]}function Vt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Wt(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)e[s++]=t[i*u+o*l+a]}function Ut(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=jt,this.byteLength=0,this.dimension=1,this.dtype=Bt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function l(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),f(n,t,Ft,0,1,!1),n}function c(e){u.push(e)}function d(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function f(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||zt,n.length>0)if(Array.isArray(n[0])){s=Lt(n);for(var l=1,c=1;c<s.length;++c)l*=s[c];t.dimension=l,d(t,u=Rt(n,s,t.dtype),r),a?t.persistentData=u:je.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var f=je.allocType(t.dtype,n.length);Vt(f,n),d(t,f,r),a?t.persistentData=f:je.freeType(f)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Gt(n[0])||zt,d(t,u=Rt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:je.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Gt(n),t.dimension=o,d(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){s=n.shape;var h=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=h[0],y=0):2===s.length?(g=s[0],v=s[1],m=h[0],y=h[1]):ne.raise("invalid shape"),t.dtype=i||Gt(n.data)||zt,t.dimension=v;var b=je.allocType(t.dtype,g*v);Wt(b,n.data,g,v,m,y,p),d(t,b,r),a?t.persistentData=b:je.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Bt,t.dimension=o,d(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(i,o,u,l){n.bufferCount++;var c=new s(o);function d(n){var i=jt,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||kt(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===o||Array.isArray(o)||e(o)||kt(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ne.parameter(n.usage,Dt,"invalid buffer usage"),i=Dt[n.usage]),"type"in n&&(ne.parameter(n.type,Pt,"invalid buffer type"),s=Pt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?f(c,o,i,s,u,l):(a&&t.bufferData(c.type,a,i),c.dtype=s||Bt,c.usage=i,c.dimension=u,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*Yt[c.dtype]),d}function p(e,n){ne(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function g(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=je.allocType(c.dtype,t.length);Vt(o,t),p(o,i),je.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=Lt(t);var a=Rt(t,r,c.dtype);p(a,i),je.freeType(a)}else ne.raise("invalid buffer data")}else if(kt(t)){r=t.shape;var s=t.stride,u=0,l=0,f=0,h=0;1===r.length?(u=r[0],l=1,f=s[0],h=0):2===r.length?(u=r[0],l=r[1],f=s[0],h=s[1]):ne.raise("invalid shape");var g=Array.isArray(t.data)?c.dtype:Gt(t.data),v=je.allocType(g,u*l);Wt(v,t.data,u,l,f,h,t.offset),p(v,i),je.freeType(v)}else ne.raise("invalid data for buffer subdata");return d}return a[c.id]=c,u||d(i),d._reglType="buffer",d._buffer=c,d.subdata=g,r.profile&&(d.stats=c.stats),d.destroy=function(){h(c)},d}function g(){_t(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:l,destroyStream:c,clear:function(){_t(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:g,_initBuffer:f}}Yt[5120]=1,Yt[5122]=2,Yt[5124]=4,Yt[5121]=1,Yt[5123]=2,Yt[5125]=4,Yt[5126]=4;var Zt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ht=0,qt=1,Xt=4,Kt=5120,Jt=5121,$t=5122,Qt=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,i){var o={},a=0,s={uint8:Jt,uint16:Qt};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Xt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),f(t,e,rn,-1,-1,0,0),t}function d(e){l.push(e)}function f(i,o,a,s,u,l,c){var d;if(i.buffer.bind(),o){var f=c;c||e(o)&&(!kt(o)||e(o.data))||(f=n.oes_element_index_uint?tn:Qt),r._initBuffer(i.buffer,o,a,f,3)}else t.bufferData(nn,l,a),i.buffer.dtype=d||Jt,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=l;if(d=c,!c){switch(i.buffer.dtype){case Jt:case Kt:d=Jt;break;case Qt:case $t:d=Qt;break;case tn:case en:d=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=d}i.type=d,ne(d!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,d===Qt?h>>=1:d===tn&&(h>>=2)),i.vertCount=h;var p=s;if(s<0){p=Xt;var g=i.buffer.dimension;1===g&&(p=Ht),2===g&&(p=qt),3===g&&(p=Xt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var o=r.create(null,nn,!0),a=new u(o._buffer);function l(t){if(t)if("number"===typeof t)o(t),a.primType=Xt,a.vertCount=0|t,a.type=Jt;else{var n=null,r=on,i=-1,u=-1,c=0,d=0;Array.isArray(t)||e(t)||kt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||kt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Dt,"invalid element buffer usage"),r=Dt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Zt,"invalid element buffer primitive"),i=Zt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),d=s[t.type]),"length"in t?c=0|t.length:(c=u,d===Qt||d===$t?c*=2:d!==tn&&d!==en||(c*=4))),f(a,n,r,i,u,c,d)}else o(),a.primType=Xt,a.vertCount=0,a.type=Jt;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=a,l.subdata=function(e,t){return o.subdata(e,t),l},l.destroy=function(){h(a)},l}return{create:p,createStream:c,destroyStream:d,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){_t(o).forEach(h)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),ln=5123;function cn(e){for(var t=je.allocType(ln,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function dn(t){return Array.isArray(t)||e(t)}var fn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,gn=34067,vn=34069,mn=6408,yn=6406,bn=6407,xn=6409,wn=6410,En=32854,kn=32855,_n=36194,Sn=32819,Tn=32820,Cn=33635,Mn=34042,An=6402,In=34041,On=35904,Nn=35906,Pn=36193,Dn=33776,Rn=33777,Ln=33778,jn=33779,Fn=35986,Bn=35987,zn=34798,Yn=35840,Gn=35841,Vn=35842,Wn=35843,Un=36196,Zn=5121,Hn=5123,qn=5125,Xn=5126,Kn=10242,Jn=10243,$n=10497,Qn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,ur=9987,lr=33170,cr=4352,dr=4353,fr=4354,hr=34046,pr=3317,gr=37440,vr=37441,mr=37443,yr=37444,br=33984,xr=[or,sr,ar,ur],wr=[0,xn,wn,bn,mn],Er={};function kr(e){return"[object "+e+"]"}Er[xn]=Er[yn]=Er[An]=1,Er[In]=Er[wn]=2,Er[bn]=Er[On]=3,Er[mn]=Er[Nn]=4;var _r=kr("HTMLCanvasElement"),Sr=kr("OffscreenCanvas"),Tr=kr("CanvasRenderingContext2D"),Cr=kr("ImageBitmap"),Mr=kr("HTMLImageElement"),Ar=kr("HTMLVideoElement"),Ir=Object.keys(Nt).concat([_r,Sr,Tr,Cr,Mr,Ar]),Or=[];Or[Zn]=1,Or[Xn]=4,Or[Pn]=2,Or[Hn]=2,Or[qn]=4;var Nr=[];function Pr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Dr(e){return!!Array.isArray(e)&&!(0===e.length||!dn(e[0]))}function Rr(e){return Object.prototype.toString.call(e)}function Lr(e){return Rr(e)===_r}function jr(e){return Rr(e)===Sr}function Fr(e){return Rr(e)===Tr}function Br(e){return Rr(e)===Cr}function zr(e){return Rr(e)===Mr}function Yr(e){return Rr(e)===Ar}function Gr(e){if(!e)return!1;var t=Rr(e);return Ir.indexOf(t)>=0||Pr(e)||Dr(e)||kt(e)}function Vr(e){return 0|Nt[Object.prototype.toString.call(e)]}function Wr(e,t){var n=t.length;switch(e.type){case Zn:case Hn:case qn:case Xn:var r=je.allocType(e.type,n);r.set(t),e.data=r;break;case Pn:e.data=cn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Ur(e,t){return je.allocType(e.type===Pn?Xn:e.type,t)}function Zr(e,t){e.type===Pn?(e.data=cn(t),je.freeType(t)):e.data=t}function Hr(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,l=Ur(e,a*s*u),c=0,d=0;d<s;++d)for(var f=0;f<a;++f)for(var h=0;h<u;++h)l[c++]=t[n*f+r*d+i*h+o];Zr(e,l)}function qr(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Nr[e]?Nr[e]:Er[e]*Or[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Xr(n,r,i,o,a,s,u){var l={"don't care":cr,"dont care":cr,nice:fr,fast:dr},c={repeat:$n,clamp:Qn,mirror:er},d={nearest:rr,linear:ir},f=t({mipmap:ur,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},d),h={none:0,browser:yr},p={uint8:Zn,rgba4:Sn,rgb565:Cn,"rgb5 a1":Tn},g={alpha:yn,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:En,"rgb5 a1":kn,rgb565:_n},v={};r.ext_srgb&&(g.srgb=On,g.srgba=Nn),r.oes_texture_float&&(p.float32=p.float=Xn),r.oes_texture_half_float&&(p.float16=p["half float"]=Pn),r.webgl_depth_texture&&(t(g,{depth:An,"depth stencil":In}),t(p,{uint16:Hn,uint32:qn,"depth stencil":Mn})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":Dn,"rgba s3tc dxt1":Rn,"rgba s3tc dxt3":Ln,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":Fn,"rgba atc explicit alpha":Bn,"rgba atc interpolated alpha":zn}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":Yn,"rgb pvrtc 2bppv1":Gn,"rgba pvrtc 4bppv1":Vn,"rgba pvrtc 2bppv1":Wn}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Un);var m=Array.prototype.slice.call(n.getParameter(hn));Object.keys(v).forEach((function(e){var t=v[e];m.indexOf(t)>=0&&(g[e]=t)}));var y=Object.keys(g);i.textureFormats=y;var b=[];Object.keys(g).forEach((function(e){var t=g[e];b[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(d).forEach((function(e){var t=d[e];w[t]=e}));var E=[];Object.keys(f).forEach((function(e){var t=f[e];E[t]=e}));var k=[];Object.keys(c).forEach((function(e){var t=c[e];k[t]=e}));var _=y.reduce((function(e,t){var n=g[t];return n===xn||n===yn||n===xn||n===wn||n===An||n===In||r.ext_srgb&&(n===On||n===Nn)?e[n]=n:n===kn||t.indexOf("rgba")>=0?e[n]=mn:e[n]=bn,e}),{});function S(){this.internalformat=mn,this.format=mn,this.type=Zn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function T(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function C(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(o>=0&&o<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ne(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ne(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var l=!1;if("format"in t){var c=t.format;ne(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(c,g,"invalid texture format");var d=e.internalformat=g[c];e.format=_[d],c in p&&("type"in t||(e.type=p[c])),c in v&&(e.compressed=!0),l=!0}!u&&l?e.channels=Er[e.format]:u&&!l?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):l&&u&&ne(e.channels===Er[e.format],"number of channels inconsistent with specified format")}}function M(e){n.pixelStorei(gr,e.flipY),n.pixelStorei(vr,e.premultiplyAlpha),n.pixelStorei(mr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function A(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function I(t,n){var r=null;if(Gr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),C(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Gr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Zn||(t.type=Vr(r));else if(Pr(r))t.channels=t.channels||4,Wr(t,r),t.alignment=1,t.needsFree=!0;else if(kt(r)){var u=r.data;Array.isArray(u)||t.type!==Zn||(t.type=Vr(u));var l,c,d,f,h,p,g=r.shape,v=r.stride;3===g.length?(d=g[2],p=v[2]):(ne(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),d=1,p=1),l=g[0],c=g[1],f=v[0],h=v[1],t.alignment=1,t.width=l,t.height=c,t.channels=d,t.format=t.internalformat=wr[d],t.needsFree=!0,Hr(t,u,f,h,p,r.offset)}else if(Lr(r)||jr(r)||Fr(r))Lr(r)||jr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Br(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(zr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Yr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Dr(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=dn(r[0][0])?b||r[0][0].length:b||1;for(var x=St.shape(r),w=1,E=0;E<x.length;++E)w*=x[E];var k=Ur(t,w);St.flatten(r,x,"",k),Zr(t,k),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Xn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Pn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function O(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,l=e.type,c=e.width,d=e.height;M(e),i?n.texImage2D(t,r,u,u,l,i):e.compressed?n.compressedTexImage2D(t,r,s,c,d,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,c,d,0)):n.texImage2D(t,r,u,c,d,0,u,l,a||null)}function N(e,t,r,i,a){var s=e.element,u=e.data,l=e.internalformat,c=e.format,d=e.type,f=e.width,h=e.height;M(e),s?n.texSubImage2D(t,a,r,i,c,d,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,l,f,h,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,f,h)):n.texSubImage2D(t,a,r,i,f,h,c,d,u)}var P=[];function D(){return P.pop()||new A}function R(e){e.needsFree&&je.freeType(e.data),A.call(e),P.push(e)}function L(){S.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function j(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(Gr(t))T(n=e.images[0]=D(),e),I(n,t),e.mipmask=1;else if(C(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)T(n=e.images[i]=D(),e),n.width>>=i,n.height>>=i,I(n,r[i]),e.mipmask|=1<<i;else T(n=e.images[0]=D(),e),I(n,t),e.mipmask=1;T(e,e.images[0]),!e.compressed||e.internalformat!==Dn&&e.internalformat!==Rn&&e.internalformat!==Ln&&e.internalformat!==jn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;O(n[r],t,r)}}var z=[];function Y(){var e=z.pop()||new L;S.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function G(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;z.push(e)}function V(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Qn,this.wrapT=Qn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function W(e,t){if("min"in t){var n=t.min;ne.parameter(n,f),e.minFilter=f[n],xr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,d),e.magFilter=d[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(ne.parameter(s[0],c),ne.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,c),o=c[u]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,c),a=c[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:ne.raise("invalid mipmap type")}g&&!("min"in t)&&(e.minFilter=or)}}function U(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Kn,e.wrapS),n.texParameteri(t,Jn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(lr,e.mipmapHint),n.generateMipmap(t))}var Z=0,H={},q=i.maxTextureUnits,X=Array(q).map((function(){return null}));function K(e){S.call(this),this.mipmask=0,this.internalformat=mn,this.id=Z++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new V,u.profile&&(this.stats={size:0})}function J(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function $(){var e=X[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function Q(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),X[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete H[e.id],s.textureCount--}function ee(e,t){var r=new K(pn);function o(e,t){var n=r.texInfo;V.call(n);var a=Y();return"number"===typeof e?j(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),W(n,e),F(a,e)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,T(r,a),ne.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,J(r),B(a,pn),U(n,pn),$(),G(a),u.profile&&(r.stats.size=qr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=w[n.magFilter],o.min=E[n.minFilter],o.wrapS=k[n.wrapS],o.wrapT=k[n.wrapT],o}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,l=D();return T(l,r),l.width=0,l.height=0,I(l,e),l.width=l.width||(r.width>>u)-a,l.height=l.height||(r.height>>u)-s,ne(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(l.data||l.element||l.needsCopy,"missing image data"),J(r),N(l,pn,a,s,u),$(),R(l),o}function l(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,J(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=a>>s;if(!l||!c)break;n.texImage2D(pn,s,r.format,l,c,0,r.format,r.type,null)}return $(),u.profile&&(r.stats.size=qr(r.internalformat,r.type,i,a,!1,!1)),o}return H[r.id]=r,s.textureCount++,o(e,t),o.subimage=a,o.resize=l,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(e,t,r,o,a,l){var c=new K(gn);H[c.id]=c,s.cubeCount++;var d=new Array(6);function f(e,t,n,r,o,a){var s,l=c.texInfo;for(V.call(l),s=0;s<6;++s)d[s]=Y();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(d[0],e),F(d[1],t),F(d[2],n),F(d[3],r),F(d[4],o),F(d[5],a);else if(W(l,e),C(c,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),T(d[s],c),F(d[s],h[s])}else for(s=0;s<6;++s)F(d[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)j(d[s],p,p)}for(T(c,d[0]),i.npotTextureCube||ne(fn(c.width)&&fn(c.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?c.mipmask=(d[0].width<<1)-1:c.mipmask=d[0].mipmask,ne.textureCube(c,l,d,i),c.internalformat=d[0].internalformat,f.width=d[0].width,f.height=d[0].height,J(c),s=0;s<6;++s)B(d[s],vn+s);for(U(l,gn),$(),u.profile&&(c.stats.size=qr(c.internalformat,c.type,f.width,f.height,l.genMipmaps,!0)),f.format=b[c.internalformat],f.type=x[c.type],f.mag=w[l.magFilter],f.min=E[l.minFilter],f.wrapS=k[l.wrapS],f.wrapT=k[l.wrapT],s=0;s<6;++s)G(d[s]);return f}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=D();return T(u,c),u.width=0,u.height=0,I(u,t),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,ne(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),ne(c.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),J(c),N(u,vn+e,o,a,s),$(),R(u),f}function p(e){var t=0|e;if(t!==c.width){f.width=c.width=t,f.height=c.height=t,J(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(vn+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return $(),u.profile&&(c.stats.size=qr(c.internalformat,c.type,f.width,f.height,!1,!0)),f}}return f(e,t,r,o,a,l),f.subimage=h,f.resize=p,f._reglType="textureCube",f._texture=c,u.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function re(){for(var e=0;e<q;++e)n.activeTexture(br+e),n.bindTexture(pn,null),X[e]=null;_t(H).forEach(Q),s.cubeCount=0,s.textureCount=0}function ie(){for(var e=0;e<q;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null)}_t(H).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(vn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);U(e.texInfo,e.target)}))}function oe(){for(var e=0;e<q;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(gn,null)}}return t(K.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<q;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=e,t=r;break}t>=q&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Q(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(H).forEach((function(t){e+=H[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:oe}}Nr[En]=2,Nr[kn]=2,Nr[_n]=2,Nr[In]=4,Nr[Dn]=.5,Nr[Rn]=.5,Nr[Ln]=1,Nr[jn]=1,Nr[Fn]=.5,Nr[Bn]=1,Nr[zn]=1,Nr[Yn]=.5,Nr[Gn]=.25,Nr[Vn]=.5,Nr[Wn]=.25,Nr[Un]=.5;var Kr=36161,Jr=32854,$r=32855,Qr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function ui(e,t,n){return si[e]*t*n}si[Jr]=2,si[$r]=2,si[Qr]=2,si[ei]=2,si[ti]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var li=function(e,t,n,r,i){var o={rgba4:Jr,rgb565:Qr,"rgb5 a1":$r,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(o.srgba=ri),t.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),t.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function l(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=Jr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Kr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function d(t,s){var c=new l(e.createRenderbuffer());function d(t,r){var s=0,u=0,l=Jr;if("object"===typeof t&&t){var f=t;if("shape"in f){var h=f.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in f&&(s=u=0|f.radius),"width"in f&&(s=0|f.width),"height"in f&&(u=0|f.height);"format"in f&&(ne.parameter(f.format,o,"invalid renderbuffer format"),l=o[f.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return d.width=c.width=s,d.height=c.height=u,c.format=l,e.bindRenderbuffer(Kr,c.renderbuffer),e.renderbufferStorage(Kr,l,s,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height)),d.format=a[c.format],d}function f(t,r){var o=0|t,a=0|r||o;return o===c.width&&a===c.height||(ne(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),d.width=c.width=o,d.height=c.height=a,e.bindRenderbuffer(Kr,c.renderbuffer),e.renderbufferStorage(Kr,c.format,o,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height))),d}return u[c.id]=c,r.renderbufferCount++,d(t,s),d.resize=f,d._reglType="renderbuffer",d._renderbuffer=c,i.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function f(){_t(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Kr,t.renderbuffer),e.renderbufferStorage(Kr,t.format,t.width,t.height)})),e.bindRenderbuffer(Kr,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:d,clear:function(){_t(u).forEach(c)},restore:f}},ci=36160,di=36161,fi=3553,hi=34069,pi=36064,gi=36096,vi=36128,mi=33306,yi=36053,bi=36054,xi=36055,wi=36057,Ei=36061,ki=36193,_i=5121,Si=5126,Ti=6407,Ci=6408,Mi=6402,Ai=[Ti,Ci],Ii=[];Ii[Ci]=4,Ii[Ti]=3;var Oi=[];Oi[_i]=1,Oi[Si]=4,Oi[ki]=2;var Ni=33189,Pi=36168,Di=34041,Ri=[32854,32855,36194,35907,34842,34843,34836],Li={};function ji(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function d(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function f(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ne(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(ci,t,di,n.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=fi,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ne(t===fi)):"textureCube"===o?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=di):ne.raise("invalid regl object for attachment"),new d(t,n,r)}function v(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new d(fi,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new d(di,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function E(e){e.colorAttachments.forEach(f),f(e.depthAttachment),f(e.stencilAttachment),f(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function _(t){var n;e.bindFramebuffer(ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(ci,pi+n,fi,null,0);e.framebufferTexture2D(ci,mi,fi,null,0),e.framebufferTexture2D(ci,gi,fi,null,0),e.framebufferTexture2D(ci,vi,fi,null,0),p(gi,t.depthAttachment),p(vi,t.stencilAttachment),p(mi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(ci);e.isContextLost()||o===yi||ne.raise("framebuffer configuration not supported, status = "+Li[o]),e.bindFramebuffer(ci,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function S(e,i){var o=new w;function d(e,t){var i;ne(s.next!==o,"can not update framebuffer which is currently in use");var a=0,f=0,p=!0,y=!0,b=null,x=!0,w="rgba",k="uint8",S=1,T=null,C=null,M=null,A=!1;if("number"===typeof e)a=0|e,f=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var I=e;if("shape"in I){var O=I.shape;ne(Array.isArray(O)&&O.length>=2,"invalid shape for framebuffer"),a=O[0],f=O[1]}else"radius"in I&&(a=f=I.radius),"width"in I&&(a=I.width),"height"in I&&(f=I.height);("color"in I||"colors"in I)&&(b=I.color||I.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in I&&(S=0|I.colorCount,ne(S>0,"invalid color buffer count")),"colorTexture"in I&&(x=!!I.colorTexture,w="rgba4"),"colorType"in I&&(k=I.colorType,x?(ne(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==k&&"float32"!==k||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(k,c,"invalid color type")),"colorFormat"in I&&(w=I.colorFormat,u.indexOf(w)>=0?x=!0:l.indexOf(w)>=0?x=!1:x?ne.oneOf(I.colorFormat,u,"invalid color format for texture"):ne.oneOf(I.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in I||"depthStencilTexture"in I)&&(A=!(!I.depthTexture&&!I.depthStencilTexture),ne(!A||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in I&&("boolean"===typeof I.depth?p=I.depth:(T=I.depth,y=!1)),"stencil"in I&&("boolean"===typeof I.stencil?y=I.stencil:(C=I.stencil,p=!1)),"depthStencil"in I&&("boolean"===typeof I.depthStencil?p=y=I.depthStencil:(M=I.depthStencil,p=!1,y=!1))}else a=f=1;var N=null,P=null,D=null,R=null;if(Array.isArray(b))N=b.map(g);else if(b)N=[g(b)];else for(N=new Array(S),i=0;i<S;++i)N[i]=v(a,f,x,w,k);ne(n.webgl_draw_buffers||N.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(N.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||N[0].width,f=f||N[0].height,T?P=g(T):p&&!y&&(P=v(a,f,A,"depth","uint32")),C?D=g(C):y&&!p&&(D=v(a,f,!1,"stencil","uint8")),M?R=g(M):!T&&!C&&y&&p&&(R=v(a,f,A,"depth stencil","depth stencil")),ne(!!T+!!C+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(i=0;i<N.length;++i)if(h(N[i],a,f),ne(!N[i]||N[i].texture&&Ai.indexOf(N[i].texture._texture.format)>=0||N[i].renderbuffer&&Ri.indexOf(N[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),N[i]&&N[i].texture){var j=Ii[N[i].texture._texture.format]*Oi[N[i].texture._texture.type];null===L?L=j:ne(L===j,"all color attachments much have the same number of bits per pixel.")}return h(P,a,f),ne(!P||P.texture&&P.texture._texture.format===Mi||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Ni,"invalid depth attachment for framebuffer object"),h(D,a,f),ne(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Pi,"invalid stencil attachment for framebuffer object"),h(R,a,f),ne(!R||R.texture&&R.texture._texture.format===Di||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Di,"invalid depth-stencil attachment for framebuffer object"),E(o),o.width=a,o.height=f,o.colorAttachments=N,o.depthAttachment=P,o.stencilAttachment=D,o.depthStencilAttachment=R,d.color=N.map(m),d.depth=m(P),d.stencil=m(D),d.depthStencil=m(R),d.width=o.width,d.height=o.height,_(o),d}function f(e,t){ne(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return d;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=d.width=n,o.height=d.height=r,_(o),d}return a.framebufferCount++,d(e,i),t(d,{resize:f,_reglType:"framebuffer",_framebuffer:o,destroy:function(){k(o),E(o)},use:function(e){s.setFBO({framebuffer:d},e)}})}function T(e){var o=Array(6);function a(e){var r;ne(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,d={color:null},f=0,h=null,p="rgba",g="uint8",v=1;if("number"===typeof e)f=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),f=y[0]}else"radius"in m&&(f=0|m.radius),"width"in m?(f=0|m.width,"height"in m&&ne(m.height===f,"must be square")):"height"in m&&(f=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(v=0|m.colorCount,ne(v>0,"invalid color buffer count")),"colorType"in m&&(ne.oneOf(m.colorType,c,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,ne.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(d.depth=m.depth),"stencil"in m&&(d.stencil=m.stencil),"depthStencil"in m&&(d.depthStencil=m.depthStencil)}else f=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(v);var b={radius:f,format:p,type:g};for(r=0;r<v;++r)l[r]=i.createCube(b)}for(d.color=Array(l.length),r=0;r<l.length;++r){var x=l[r];ne("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),f=f||x.width,ne(x.width===f&&x.height===f,"invalid cube map shape"),d.color[r]={target:hi,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)d.color[w].target=hi+r;r>0&&(d.depth=o[0].depth,d.stencil=o[0].stencil,d.depthStencil=o[0].depthStencil),o[r]?o[r](d):o[r]=S(d)}return t(a,{width:f,height:f,color:l})}function l(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:o,resize:l,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function C(){s.cur=null,s.next=null,s.dirty=!0,_t(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),_(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:S,createCube:T,clear:function(){_t(x).forEach(k)},restore:C})}Li[yi]="complete",Li[bi]="incomplete attachment",Li[wi]="incomplete dimensions",Li[xi]="incomplete, missing attachment",Li[Ei]="unsupported";var Fi=5126,Bi=34962;function zi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Fi,this.offset=0,this.stride=0,this.divisor=0}function Yi(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new zi;var l=0,c={},d={Record:zi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:h()?x:function(){},createVAO:w,getVAO:g,destroyBuffer:f,setVAO:h()?v:m,clear:h()?y:function(){}};function f(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(e){return"function"===typeof e&&e._vao?e._vao:null}function v(e){if(e!==d.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),d.currentVAO=e}}function m(e){if(e!==d.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}d.currentVAO=e}}function y(){_t(c).forEach((function(e){e.destroy()}))}function b(){this.id=++l,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}function x(){h()&&_t(c).forEach((function(e){e.refresh()}))}function w(t){var r=new b;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var l=0;l<t.length;++l){var c,d=t[l],f=u[l]=new zi,h=d.data||d;Array.isArray(h)||e(h)||kt(h)?(r.buffers[l]&&(c=r.buffers[l],e(h)&&c._buffer.byteLength>=h.byteLength?c.subdata(h):(c.destroy(),r.buffers[l]=null)),r.buffers[l]||(c=r.buffers[l]=o.create(d,Bi,!1,!0)),f.buffer=o.getBuffer(c),f.size=0|f.buffer.dimension,f.normalized=!1,f.type=f.buffer.dtype,f.offset=0,f.stride=0,f.divisor=0,f.state=1,i[l]=1):o.getBuffer(d)?(f.buffer=o.getBuffer(d),f.size=0|f.buffer.dimension,f.normalized=!1,f.type=f.buffer.dtype,f.offset=0,f.stride=0,f.divisor=0,f.state=1):o.getBuffer(d.buffer)?(f.buffer=o.getBuffer(d.buffer),f.size=0|(+d.size||f.buffer.dimension),f.normalized=!!d.normalized||!1,"type"in d?(ne.parameter(d.type,Pt,"invalid buffer type"),f.type=Pt[d.type]):f.type=f.buffer.dtype,f.offset=0|(d.offset||0),f.stride=0|(d.stride||0),f.divisor=0|(d.divisor||0),f.state=1,ne(f.size>=1&&f.size<=4,"size must be between 1 and 4"),ne(f.offset>=0,"invalid offset"),ne(f.stride>=0&&f.stride<=255,"stride must be between 0 and 255"),ne(f.divisor>=0,"divisor must be positive"),ne(!f.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in d?(ne(l>0,"first attribute must not be a constant"),f.x=+d.x||0,f.y=+d.y||0,f.z=+d.z||0,f.w=+d.w||0,f.state=2):ne(!1,"invalid attribute spec for location "+l)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return b.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Bi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},b.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),d.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=h();this===d.currentVAO&&(d.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],i.vaoCount-=1)},d}var Gi=35632,Vi=35633,Wi=35718,Ui=35721;function Zi(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(t,r,i){var s=t===Gi?o:a,u=s[r];if(!u){var l=n.str(r);u=e.createShader(t),e.shaderSource(u,l),e.compileShader(u),ne.shaderError(e,u,l,t,i),s[r]=u}return u}var c={},d=[],f=0;function h(e,t){this.id=f++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,c,d=l(Gi,t.fragId),f=l(Vi,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,d),e.attachShader(h,f),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var g=e.getProgramParameter(h,Wi);i.profile&&(t.stats.uniformsCount=g);var v=t.uniforms;for(a=0;a<g;++a)if(c=e.getActiveUniform(h,a))if(c.size>1)for(var m=0;m<c.size;++m){var y=c.name.replace("[0]","["+m+"]");u(v,new s(y,n.id(y),e.getUniformLocation(h,y),c))}else u(v,new s(c.name,n.id(c.name),e.getUniformLocation(h,c.name),c));var b=e.getProgramParameter(h,Ui);i.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(c=e.getActiveAttrib(h,a))&&u(x,new s(c.name,n.id(c.name),e.getAttribLocation(h,c.name),c))}function g(){o={},a={};for(var e=0;e<d.length;++e)p(d[e],null,d[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return d.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return d.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);_t(o).forEach(t),o={},_t(a).forEach(t),a={},d.forEach((function(t){e.deleteProgram(t.program)})),d.length=0,c={},r.shaderCount=0},program:function(n,i,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(i>=0,"missing fragment shader",s);var l=c[i];l||(l=c[i]={});var f=l[n];if(f&&(f.refCount++,!u))return f;var g=new h(i,n);return r.shaderCount++,p(g,s,u),f||(l[n]=g),d.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=d.indexOf(g);d.splice(t,1),r.shaderCount--}l[g.vertId].refCount<=0&&(e.deleteShader(a[g.vertId]),delete a[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(e.deleteShader(o[g.fragId]),delete o[g.fragId],delete c[g.fragId])}})},restore:g,shader:l,frag:-1,vert:-1}}var Hi=6408,qi=5121,Xi=3333,Ki=5126;function Ji(t,n,r,i,o,a,s){function u(u){var l;null===n.next?(ne(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=qi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(l===qi||l===Ki,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===Ki&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(l===qi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,d=0,f=i.framebufferWidth,h=i.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,d=0|u.y,ne(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ne(d>=0&&d<i.framebufferHeight,"invalid y offset for regl.read"),f=0|(u.width||i.framebufferWidth-c),h=0|(u.height||i.framebufferHeight-d),p=u.data||null),p&&(l===qi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===Ki&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(f>0&&f+c<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+d<=i.framebufferHeight,"invalid height for read pixels"),r();var g=f*h*4;return p||(l===qi?p=new Uint8Array(g):l===Ki&&(p=p||new Float32Array(g))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(Xi,4),t.readPixels(c,d,f,h,Hi,l,p),p}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):u(e)}return c}function $i(e){return Array.prototype.slice.call(e)}function Qi(e){return $i(e).join("")}function eo(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o}function o(){var n=[];function r(){n.push.apply(n,$i(arguments))}var i=[];function o(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,$i(arguments)),n.push(";")),t}return t(r,{def:o,toString:function(){return Qi([i.length>0?"var "+i.join(",")+";":"",Qi(n)])}})}function a(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,$i(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var e=Qi(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,$i(arguments)),this},else:function(){return r.apply(r,$i(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Qi(["if(",e,"){",i(),"}",t])}})}var u=o(),l={};function c(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),u=s.toString;return l[e]=t(s,{arg:i,toString:function(){return Qi(["function(",r.join(),"){",u(),"}"])}})}function d(){var e=['"use strict";',u,"return {"];Object.keys(l).forEach((function(t){e.push('"',t,'":',l[t].toString(),",")})),e.push("}");var t=Qi(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:i,block:o,proc:c,scope:a,cond:s,compile:d}}var to="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,uo=3,lo=4,co=5,fo=6,ho="dither",po="blend.enable",go="blend.color",vo="blend.equation",mo="blend.func",yo="depth.enable",bo="depth.func",xo="depth.range",wo="depth.mask",Eo="colorMask",ko="cull.enable",_o="cull.face",So="frontFace",To="lineWidth",Co="polygonOffset.enable",Mo="polygonOffset.offset",Ao="sample.alpha",Io="sample.enable",Oo="sample.coverage",No="stencil.enable",Po="stencil.mask",Do="stencil.func",Ro="stencil.opFront",Lo="stencil.opBack",jo="scissor.enable",Fo="scissor.box",Bo="viewport",zo="profile",Yo="framebuffer",Go="vert",Vo="frag",Wo="elements",Uo="primitive",Zo="count",Ho="offset",qo="instances",Xo="vao",Ko="Width",Jo="Height",$o=Yo+Ko,Qo=Yo+Jo,ea=Bo+Ko,ta=Bo+Jo,na="drawingBuffer",ra=na+Ko,ia=na+Jo,oa=[mo,vo,Do,Ro,Lo,Oo,Bo,Fo,Mo],aa=34962,sa=34963,ua=3553,la=34067,ca=2884,da=3042,fa=3024,ha=2960,pa=2929,ga=3089,va=32823,ma=32926,ya=32928,ba=5126,xa=35664,wa=35665,Ea=35666,ka=5124,_a=35667,Sa=35668,Ta=35669,Ca=35670,Ma=35671,Aa=35672,Ia=35673,Oa=35674,Na=35675,Pa=35676,Da=35678,Ra=35680,La=4,ja=1028,Fa=1029,Ba=2304,za=2305,Ya=32775,Ga=32776,Va=519,Wa=7680,Ua=0,Za=1,Ha=32774,qa=513,Xa=36160,Ka=36064,Ja={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$a=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Ba,ccw:za};function rs(t){return Array.isArray(t)||e(t)||kt(t)}function is(e){return e.sort((function(e,t){return e===Bo?-1:t===Bo?1:e<t?-1:1}))}function os(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new os(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===oo){var r=e.data.length;return new os(!0,r>=1,r>=2,t)}if(n===lo){var i=e.data;return new os(i.thisDep,i.contextDep,i.propDep,t)}if(n===co)return new os(!1,!1,!1,t);if(n===fo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var l=e.data[u];if(l.type===ao)s=!0;else if(l.type===so)a=!0;else if(l.type===uo)o=!0;else if(l.type===oo){o=!0;var c=l.data;c>=1&&(a=!0),c>=2&&(s=!0)}else l.type===lo&&(o=o||l.data.thisDep,a=a||l.data.contextDep,s=s||l.data.propDep)}return new os(o,a,s,t)}return new os(n===uo,n===so,n===ao,t)}var ls=new os(!1,!1,!1,(function(){}));function cs(e,n,r,i,o,a,s,u,l,c,d,f,h,p,g){var v=c.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Ya,m.max=Ga);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},w={},E=[],k={},_={};function S(e){return e.replace(".","_")}function T(e,t,n){var r=S(e);E.push(e),w[r]=x[r]=!!n,k[r]=t}function C(e,t,n){var r=S(e);E.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,_[r]=t}T(ho,fa),T(po,da),C(go,"blendColor",[0,0,0,0]),C(vo,"blendEquationSeparate",[Ha,Ha]),C(mo,"blendFuncSeparate",[Za,Ua,Za,Ua]),T(yo,pa,!0),C(bo,"depthFunc",qa),C(xo,"depthRange",[0,1]),C(wo,"depthMask",!0),C(Eo,Eo,[!0,!0,!0,!0]),T(ko,ca),C(_o,"cullFace",Fa),C(So,So,za),C(To,To,1),T(Co,va),C(Mo,"polygonOffset",[0,0]),T(Ao,ma),T(Io,ya),C(Oo,"sampleCoverage",[1,!1]),T(No,ha),C(Po,"stencilMask",-1),C(Do,"stencilFunc",[Va,0,-1]),C(Ro,"stencilOpSeparate",[ja,Wa,Wa,Wa]),C(Lo,"stencilOpSeparate",[Fa,Wa,Wa,Wa]),T(jo,ga),C(Fo,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(Bo,Bo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var M={gl:e,context:h,strings:n,next:w,current:x,draw:f,elements:a,buffer:o,shader:d,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},A={primTypes:Zt,compareFuncs:Qa,blendFuncs:Ja,blendEquations:m,stencilOps:es,glTypes:Pt,orientationType:ns};ne.optional((function(){M.isArrayLike=dn})),b&&(A.backBuffer=[Fa],A.drawBuffer=Te(i.maxDrawbuffers,(function(e){return 0===e?[0]:Te(e,(function(e){return Ka+e}))})));var I=0;function O(){var e=eo(),t=e.link,r=e.global;e.id=I++,e.batchId="0";var i=t(M),o=e.shared={props:"a0"};Object.keys(M).forEach((function(e){o[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},A.invalidBlendCombinations=$a}));var a=e.next={},s=e.current={};Object.keys(_).forEach((function(e){Array.isArray(x[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(A).forEach((function(e){u[e]=r.def(JSON.stringify(A[e]))})),e.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case uo:return n.def("this",r.data);case lo:return r.data.append(e,n),r.data.ref;case co:return r.data.toString();case fo:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new v),l[r]=t(i)},e}function N(e){var t,n=e.static,r=e.dynamic;if(zo in n){var i=!!n[zo];(t=ss((function(e,t){return i}))).enable=i}else if(zo in r){var o=r[zo];t=us(o,(function(e,t){return e.invoke(t,o)}))}return t}function P(e,t){var n=e.static,r=e.dynamic;if(Yo in n){var i=n[Yo];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ss((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+$o,n+".width"),t.set(o,"."+Qo,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+$o,r+"."+ra),t.set(r,"."+Qo,r+"."+ia),"null"}))}if(Yo in r){var o=r[Yo];return us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+$o,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+Qo,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function D(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];ne.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,l=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new os(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",$o,"-",l));var i=s;return"height"in o||(i=t.def(n,".",Qo,"-",c)),[l,c,r,i]}))}if(e in i){var d=i[e],f=us(d,(function(t,n){var r=t.invoke(n,d);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",$o,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Qo,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(f.thisDep=f.thisDep||t.thisDep,f.contextDep=f.contextDep||t.contextDep,f.propDep=f.propDep||t.propDep),f}return t?new os(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",$o),t.def(n,".",Qo)]})):null}var a=o(Bo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:o(Fo)}}function R(e,t){var n=e.static;if("string"===typeof n[Vo]&&"string"===typeof n[Go]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)ne("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function L(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){d.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in o){var a=o[e];return us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(Vo),l=a(Go),c=null;return as(u)&&as(l)?(c=d.program(l.id,u.id,null,r),s=ss((function(e,t){return e.link(c)}))):s=new os(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Vo);var i=r+".program("+(l?l.append(e,t):t.def(r,".",Go))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:l,progVar:s,program:c}}function j(e,t){var n=e.static,r=e.dynamic;function i(){if(Wo in n){var e=n[Wo];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var i=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return i.value=e,i}if(Wo in r){var o=r[Wo];return us(o,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),l=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(l.else,"!"+a+"||"+s,"invalid elements")})),t.entry(l),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Uo in n){var e=n[Uo];return ne.commandParameter(e,Zt,"invalid primitve",t.commandStr),ss((function(t,n){return Zt[e]}))}if(Uo in r){var i=r[Uo];return us(i,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Zt))})),t.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return La})):new os(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",La)})):null}function u(e,i){if(e in n){var a=0|n[e];return ne.command(!i||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return i&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return i&&o?ss((function(e,t){return e.OFFSET="0",0})):null}var l=u(Ho,!0);function c(){if(Zo in n){var e=0|n[Zo];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Zo in r){var i=r[Zo];return us(i,(function(e,t){var n=e.invoke(t,i);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return l?new os(l.thisDep,l.contextDep,l.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||l.thisDep,o.contextDep||l.contextDep,o.propDep||l.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:c(),instances:u(qo,!1),offset:l}}function F(e,t){var n=e.static,r=e.dynamic,o={};return E.forEach((function(e){var a=S(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=ss((function(){return s}))}else if(e in r){var u=r[e];o[a]=us(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case ko:case po:case ho:case No:case yo:case jo:case Co:case Ao:case Io:case wo:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case bo:return s((function(n){return ne.commandParameter(n,Qa,"invalid "+e,t.commandStr),Qa[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Qa))})),n.def(i,"[",r,"]")}));case xo:return s((function(e){return ne.command(dn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case mo:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Ja,a+".srcRGB",t.commandStr),ne.commandParameter(r,Ja,a+".srcAlpha",t.commandStr),ne.commandParameter(i,Ja,a+".dstRGB",t.commandStr),ne.commandParameter(o,Ja,a+".dstAlpha",t.commandStr),ne.command(-1===$a.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Ja[n],Ja[i],Ja[r],Ja[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ne.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(Ja))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),l=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),l,n.def(i,"[",o("dst","Alpha"),"]")]}));case vo:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,m,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case go:return s((function(e){return ne.command(dn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Te(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Te(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Po:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Do:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ne.commandParameter(r,Qa,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(o,"number",e+".mask",t.commandStr),[Qa[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Wa),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Ro:case Lo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(i,es,e+".zfail",t.commandStr),ne.commandParameter(o,es,e+".zpass",t.commandStr),[e===Lo?Fa:ja,es[r],es[i],es[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ne.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(es))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Wa)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Lo?Fa:ja,o("fail"),o("zfail"),o("zpass")]}));case Mo:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case _o:return s((function(e){var n=0;return"front"===e?n=ja:"back"===e&&(n=Fa),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ja,":",Fa)}));case To:return s((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case So:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Ba+":"+za)}));case Eo:return s((function(e){return ne.command(dn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Te(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Oo:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),o}function B(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=ss((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(o.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else dn(o)?r=ss((function(t){return t.global.def("[",Te(o.length,(function(n){return ne.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),i}function z(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=n.id(e),u=new v;if(rs(i))u.state=ro,u.buffer=o.getBuffer(o.create(i,aa,!1,!0)),u.type=0;else{var l=o.getBuffer(i);if(l)u.state=ro,u.buffer=l,u.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=io,"number"===typeof c?u.x=c:(ne.command(dn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),to.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{l=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),ne.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var d=0|i.offset;ne.command(d>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var f=0|i.stride;ne.command(f>=0&&f<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,g=0;"type"in i&&(ne.commandParameter(i.type,Pt,"invalid type for attribute "+e,t.commandStr),g=Pt[i.type]);var m=0|i.divisor;"divisor"in i&&(ne.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=l,u.state=ro,u.size=h,u.normalized=p,u.type=g||l.dtype,u.offset=d,u.stride=f,u.divisor=m}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new v;c.state=ro,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var d=l.buffer,f=l.type;function h(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",d,"=",u,".createStream(",aa,",",i,");",f,"=",d,".dtype;","}else{",d,"=",u,".getBuffer(",i,");","if(",d,"){",f,"=",d,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",io,";","if(typeof "+i+'.constant === "number"){',l[to[0]],"=",i,".constant;",to.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",to.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",d,"=",u,".createStream(",aa,",",i,".buffer);","}else{",d,"=",u,".getBuffer(",i,".buffer);","}",f,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",d,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",d,");","}"),l}a[e]=us(t,n)})),a}function Y(e,t){var n=e.static,r=e.dynamic;if(Xo in n){var i=n[Xo];return null!==i&&null===c.getVAO(i)&&(i=c.createVAO(i)),ss((function(e){return e.link(c.getVAO(i))}))}if(Xo in r){var o=r[Xo];return us(o,(function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function G(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function V(e,t,n,i,o){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Yo,Go,Vo,Wo,Uo,Ho,Zo,qo,zo,Xo].concat(E);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=R(e,t),l=P(e,o),d=D(e,l,o),f=j(e,o),h=F(e,o),p=L(e,o,u);function g(e){var t=d[e];t&&(h[e]=t)}g(Bo),g(S(Fo));var v=Object.keys(h).length>0,m={framebuffer:l,draw:f,shader:p,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(m.profile=N(e,o),m.uniforms=B(n,o),m.drawVAO=m.scopeVAO=Y(e,o),!m.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&b.length>0){var x=c.getVAO(c.createVAO(b));m.drawVAO=new os(null,null,null,(function(e,t){return e.link(x)})),m.useVAO=!0}}return u?m.useVAO=!0:m.attributes=z(t,o),m.context=G(i,o),m}function W(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(o){t.save(r,"."+o);var a=n[o].append(e,t);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),t(i)}function U(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,l=e.constants,c=l.drawBuffer,d=l.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Xa,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Xa,",null);"),b&&t(i,".drawBuffersWEBGL(",d,");"),t("}",s,".cur=",u,";"),r||t("}")}function Z(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,l=e.cond(s,".dirty");E.forEach((function(t){var r,c,d=S(t);if(!(d in n.state))if(d in a){r=a[d],c=o[d];var f=Te(x[d].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(f.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",_[d],"(",f,");",f.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(u,".",d);var h=e.cond(r,"!==",s,".",d);l(h),d in k?h(e.cond(r).then(i,".enable(",k[d],");").else(i,".disable(",k[d],");"),s,".",d,"=",r,";"):h(i,".",_[d],"(",r,");",s,".",d,"=",r,";")}})),0===Object.keys(n.state).length&&l(s,".dirty=false;"),t(l)}function H(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var l=u.append(e,t);if(k[i]){var c=k[i];as(u)?t(s,l?".enable(":".disable(",c,");"):t(e.cond(l).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(a,".",i,"=",l,";")}else if(dn(l)){var d=o[i];t(s,".",_[i],"(",l,");",l.map((function(e,t){return d+"["+t+"]="+e})).join(";"),";")}else t(s,".",_[i],"(",l,");",a,".",i,"=",l,";")}}))}function q(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,i){var o,a,s,u=e.shared,l=e.stats,c=u.current,d=u.timer,f=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(e){e(o=t.def(),"=",h(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),p&&(r?e(a=t.def(),"=",d,".getNumPendingQueries();"):e(d,".beginQuery(",l,");"))}function v(e){e(l,".cpuTime+=",h(),"-",o,";"),p&&(r?e(d,".pushScopeStats(",a,",",d,".getNumPendingQueries(),",l,");"):e(d,".endQuery();"))}function m(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(f){if(as(f))return void(f.enable?(g(t),v(t.exit),m("true")):m("false"));m(s=f.append(e,t))}else s=t.def(c,".profile");var y=e.block();g(y),t("if(",s,"){",y,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function K(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case xa:case _a:case Ma:return 2;case wa:case Sa:case Aa:return 3;case Ea:case Ta:case Ia:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),l=i.state,c=i.buffer,d=[i.x,i.y,i.z,i.w],f=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",f.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",aa,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",f.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),y){var l=i.divisor;t("if(",u,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",to.map((function(e,t){return u+"."+e+"!=="+d[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",d,");",to.map((function(e,t){return u+"."+e+"="+d[t]+";"})).join(""),"}")}l===ro?h():l===io?p():(t("if(",l,"===",ro,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var o,u=r.name,l=n.attributes[u];if(l){if(!i(l))return;o=l.append(e,t)}else{if(!i(ls))return;var c=e.scopeAttrib(u);ne.optional((function(){e.assert(t,c+".state","missing attribute "+u)})),o={},Object.keys(new v).forEach((function(e){o[e]=t.def(c,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function J(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,l=0;l<i.length;++l){var c,d=i[l],f=d.name,h=d.info.type,p=r.uniforms[f],g=e.link(d)+".location";if(p){if(!o(p))continue;if(as(p)){var v=p.value;if(ne.command(null!==v&&"undefined"!==typeof v,'missing uniform "'+f+'"',e.commandStr),h===Da||h===Ra){ne.command("function"===typeof v&&(h===Da&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||h===Ra&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+f,e.commandStr);var m=e.link(v._texture||v.color[0]._texture);t(u,".uniform1i(",g,",",m+".bind());"),t.exit(m,".unbind();")}else if(h===Oa||h===Na||h===Pa){ne.optional((function(){ne.command(dn(v),"invalid matrix for uniform "+f,e.commandStr),ne.command(h===Oa&&4===v.length||h===Na&&9===v.length||h===Pa&&16===v.length,"invalid length for matrix uniform "+f,e.commandStr)}));var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;h===Na?b=3:h===Pa&&(b=4),t(u,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(h){case ba:ne.commandType(v,"number","uniform "+f,e.commandStr),a="1f";break;case xa:ne.command(dn(v)&&2===v.length,"uniform "+f,e.commandStr),a="2f";break;case wa:ne.command(dn(v)&&3===v.length,"uniform "+f,e.commandStr),a="3f";break;case Ea:ne.command(dn(v)&&4===v.length,"uniform "+f,e.commandStr),a="4f";break;case Ca:ne.commandType(v,"boolean","uniform "+f,e.commandStr),a="1i";break;case ka:ne.commandType(v,"number","uniform "+f,e.commandStr),a="1i";break;case Ma:case _a:ne.command(dn(v)&&2===v.length,"uniform "+f,e.commandStr),a="2i";break;case Aa:case Sa:ne.command(dn(v)&&3===v.length,"uniform "+f,e.commandStr),a="3i";break;case Ia:case Ta:ne.command(dn(v)&&4===v.length,"uniform "+f,e.commandStr),a="4i"}t(u,".uniform",a,"(",g,",",dn(v)?Array.prototype.slice.call(v):v,");")}continue}c=p.append(e,t)}else{if(!o(ls))continue;c=t.def(s.uniforms,"[",n.id(f),"]")}h===Da?(ne(!Array.isArray(c),"must specify a scalar prop for textures"),t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):h===Ra&&(ne(!Array.isArray(c),"must specify a scalar prop for cube maps"),t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+f+'".  '+r)}function r(e){ne(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(c)?ne(c.length===t,"must have length "+t):n(s.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){ne(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case ka:r("number");break;case _a:i(2,"number");break;case Sa:i(3,"number");break;case Ta:i(4,"number");break;case ba:r("number");break;case xa:i(2,"number");break;case wa:i(3,"number");break;case Ea:i(4,"number");break;case Ca:r("boolean");break;case Ma:i(2,"boolean");break;case Aa:i(3,"boolean");break;case Ia:i(4,"boolean");break;case Oa:i(4,"number");break;case Na:i(9,"number");break;case Pa:i(16,"number");break;case Da:o(ua);break;case Ra:o(la)}}));var x=1;switch(h){case Da:case Ra:var w=t.def(c,"._texture");t(u,".uniform1i(",g,",",w,".bind());"),t.exit(w,".unbind();");continue;case ka:case Ca:a="1i";break;case _a:case Ma:a="2i",x=2;break;case Sa:case Aa:a="3i",x=3;break;case Ta:case Ia:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case wa:a="3f",x=3;break;case Ea:a="4f",x=4;break;case Oa:a="Matrix2fv";break;case Na:a="Matrix3fv";break;case Pa:a="Matrix4fv"}if(t(u,".uniform",a,"(",g,","),"M"===a.charAt(0)){var E=Math.pow(h-Oa+2,2),k=e.global.def("new Float32Array(",E,")");Array.isArray(c)?t("false,(",Te(E,(function(e){return k+"["+e+"]="+c[e]})),",",k,")"):t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",Te(E,(function(e){return k+"["+e+"]="+c+"["+e+"]"})),",",k,")")}else x>1?t(Te(x,(function(e){return Array.isArray(c)?c[e]:c+"["+e+"]"}))):(ne(!Array.isArray(c),"uniform value must not be an array"),t(c));t(");")}}function $(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var i,u=s.elements,l=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(l=n),i=u.append(e,l)):i=l.def(a,".",Wo),i&&l("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function l(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ne.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Zo),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var c=u();function d(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var f,h,p=d(Uo),g=d(Ho),v=l();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");y&&(f=d(qo),h=e.instancing);var m=c+".type",b=s.elements&&as(s.elements);function x(){function e(){n(h,".drawElementsInstancedANGLE(",[p,v,m,g+"<<(("+m+"-"+no+")>>1)",f],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,g,v,f],");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(o+".drawElements("+[p,v,m,g+"<<(("+m+"-"+no+")>>1)"]+");")}function t(){n(o+".drawArrays("+[p,g,v]+");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof f||f>=0)?"string"===typeof f?(n("if(",f,">0){"),x(),n("}else if(",f,"<0){"),w(),n("}")):x():w()}function Q(e,t,n,r,i){var o=O(),a=o.proc("body",i);return ne.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){q(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0})),$(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);q(e,n),W(e,n,t.context),U(e,n,t.framebuffer),Z(e,n,t),H(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link((function(n){return Q(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",q(e,t),K(e,t,n,r.attributes,i),J(e,t,n,r.uniforms,i),$(e,t,t,n)}function ie(e,t,n,r){q(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var l=e.scope(),c=e.scope();function d(e){return e.contextDep&&i||e.propDep}function f(e){return!d(e)}if(t(l.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",c,"}",l.exit),n.needsContext&&W(e,c,n.context),n.needsFramebuffer&&U(e,c,n.framebuffer),H(e,c,n.state,d),n.profile&&d(n.profile)&&X(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?d(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),K(e,l,n,r.attributes,f),K(e,c,n,r.attributes,d)),J(e,l,n,r.uniforms,f),J(e,c,n,r.uniforms,d),$(e,l,c,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,c),g=c.def(p,".id"),v=c.def(h,"[",g,"]");c(e.shared.gl,".useProgram(",p,".program);","if(!",v,"){",v,"=",h,"[",g,"]=",e.link((function(t){return Q(re,e,n,t,2)})),"(",p,");}",v,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",q(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||U(e,n,o)):U(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Z(e,n,t),H(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)ie(e,n,t,null);else{var l=u.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),d=n.def(l,".id"),f=n.def(c,"[",d,"]");n(e.cond(f).then(f,".call(this,a0,a1);").else(f,"=",c,"[",d,"]=",e.link((function(n){return Q(ie,e,t,n,2)})),"(",l,");",f,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}W(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),is(Object.keys(t.state)).forEach((function(n){var o=t.state[n].append(e,r);dn(o)?o.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,o)})),X(e,r,t,!0,!0),[Wo,Ho,Zo,qo,Uo].forEach((function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))})),Object.keys(t.uniforms).forEach((function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new v).forEach((function(e){r.set(o,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Go),a(Vo),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!dn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,l=e.global.def("{}");o.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var o=us(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(lo,{thisDep:a,contextDep:s,propDep:u,ref:l,append:c}),delete t.static[n]}function c(e,t){o.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var o=e.invoke(t,i);t(l,".",n,"=",o,";")}}))}}function le(e,n,r,i,o){var a=O();a.stats=a.link(o),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),oa.forEach((function(t){ue(a,e,t)}));var s=V(e,n,r,i,a);return te(a,s),ae(a,s),oe(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=O(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),U(e,t),U(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var d=0;d<i.maxAttributes;++d){var f=n.def(s.attributes,"[",d,"]"),h=e.cond(f,".buffer");h.then(u,".enableVertexAttribArray(",d,");",u,".bindBuffer(",aa,",",f,".buffer.buffer);",u,".vertexAttribPointer(",d,",",f,".size,",f,".type,",f,".normalized,",f,".stride,",f,".offset);").else(u,".disableVertexAttribArray(",d,");",u,".vertexAttrib4f(",d,",",f,".x,",f,".y,",f,".z,",f,".w);",f,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",d,",",f,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(k).forEach((function(r){var i=k[r],a=o.def(l,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",a,";"),n(s),t("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(_).forEach((function(r){var i,a,s=_[r],d=x[r],f=e.block();if(f(u,".",s,"("),dn(d)){var h=d.length;i=e.global.def(l,".",r),a=e.global.def(c,".",r),f(Te(h,(function(e){return i+"["+e+"]"})),");",Te(h,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Te(h,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",f,"}")}else i=o.def(l,".",r),a=o.def(c,".",r),f(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",a,"){",f,"}");n(f)})),e.compile()}(),compile:le}}function ds(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var fs=34918,hs=34919,ps=35007,gs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),h(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new u}function d(e){l.push(e)}var f=[];function h(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,f.push(r)}var p=[],g=[];function v(){var e,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,fs),i(s)):o[e++]=s,p[n+1]=a,g[n+1]=e}for(o.length=e,e=0,n=0;n<f.length;++n){var u=f[n],l=u.startQueryIndex,c=u.endQueryIndex;u.sum+=p[c]-p[l];var h=g[l],v=g[c];v===h?(u.stats.gpuTime+=u.sum/1e6,d(u)):(u.startQueryIndex=h,u.endQueryIndex=v,f[e++]=u)}f.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},vs=16384,ms=256,ys=1024,bs=34962,xs="webglcontextlost",ws="webglcontextrestored",Es=1,ks=2,_s=3;function Ss(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Ts(e){var n=_e(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Se(r,n);if(!a)return null;var s=me(),u=ds(),l=a.extensions,c=gs(r,l),d=ve(),f=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:f,viewportHeight:h,framebufferWidth:f,framebufferHeight:h,drawingBufferWidth:f,drawingBufferHeight:h,pixelRatio:n.pixelRatio},g={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},m=Et(r,l),y=Ut(r,u,n,x),b=Yi(r,l,m,u,y);function x(e){return b.destroyBuffer(e)}var w=an(r,l,y,u),E=Zi(r,s,u,n),k=Xr(r,l,m,(function(){T.procs.poll()}),p,u,n),_=li(r,l,m,u,n),S=ji(r,l,m,k,_,u),T=cs(r,s,l,m,y,w,k,S,g,b,E,v,p,c,n),C=Ji(r,S,T.procs.poll,p,i,l,m),M=T.next,A=r.canvas,I=[],O=[],N=[],P=[n.onDestroy],D=null;function R(){if(0===I.length)return c&&c.update(),void(D=null);D=ge.next(R),H();for(var e=I.length-1;e>=0;--e){var t=I[e];t&&t(p,null,0)}r.flush(),c&&c.update()}function L(){!D&&I.length>0&&(D=ge.next(R))}function j(){D&&(ge.cancel(R),D=null)}function F(e){e.preventDefault(),o=!0,j(),O.forEach((function(e){e()}))}function B(e){r.getError(),o=!1,a.restore(),E.restore(),y.restore(),k.restore(),_.restore(),S.restore(),b.restore(),c&&c.restore(),T.procs.refresh(),L(),N.forEach((function(e){e()}))}function z(){I.length=0,j(),A&&(A.removeEventListener(xs,F),A.removeEventListener(ws,B)),E.clear(),S.clear(),_.clear(),k.clear(),w.clear(),y.clear(),b.clear(),c&&c.clear(),P.forEach((function(e){e()}))}function Y(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(pe.isDynamic(o))r[i]=pe.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pe.isDynamic(o[a]))return void(r[i]=pe.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=T.compile(u,s,a,i,l),d=c.draw,f=c.batch,h=c.scope,p=[];function g(e){for(;p.length<e;)p.push(null);return p}function v(e,t){var n;if(o&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return f.call(this,g(0|e),0|e)}else{if(!Array.isArray(e))return d.call(this,e);if(e.length)return f.call(this,e,e.length)}}return t(v,{stats:l,destroy:function(){c.destroy()}})}A&&(A.addEventListener(xs,F,!1),A.addEventListener(ws,B,!1));var G=S.setFBO=Y({framebuffer:pe.define.call(null,Es,"framebuffer")});function V(e,t){var n=0;T.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=vs),"depth"in t&&(r.clearDepth(+t.depth),n|=ms),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=ys),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function W(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)G(t({framebuffer:e.framebuffer.faces[n]},e),V);else G(e,V);else V(null,e)}function U(e){function t(){var t=Ss(I,e);function n(){var e=Ss(I,n);I[e]=I[I.length-1],I.length-=1,I.length<=0&&j()}ne(t>=0,"cannot cancel a frame twice"),I[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),I.push(e),L(),{cancel:t}}function Z(){var e=M.viewport,t=M.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function H(){p.tick+=1,p.time=X(),Z(),T.procs.poll()}function q(){k.refresh(),Z(),T.procs.refresh(),c&&c.update()}function X(){return(ve()-d)/1e3}function K(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return U(t);case"lost":n=O;break;case"restore":n=N;break;case"destroy":n=P;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}q();var J=t(Y,{clear:W,prop:pe.define.bind(null,Es),context:pe.define.bind(null,ks),this:pe.define.bind(null,_s),draw:Y({}),buffer:function(e){return y.create(e,bs,!1,!1)},elements:function(e){return w.create(e,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:_.create,framebuffer:S.create,framebufferCube:S.createCube,vao:b.createVAO,attributes:i,frame:U,on:K,limits:m,hasExtension:function(e){return m.extensions.indexOf(e.toLowerCase())>=0},read:C,destroy:z,_gl:r,_refresh:q,poll:function(){H(),c&&c.update()},now:X,stats:u});return n.onDone(null,J),J}return Ts}()},36813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?w.postMessage(null):(g=!1,v=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,w.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],M=1,A=null,I=3,O=!1,N=!1,P=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,E(T,t)}t=k(C)}}function R(e){if(P=!1,D(e),!N)if(null!==k(T))N=!0,n(L);else{var t=k(C);null!==t&&r(R,t.startTime-e)}}function L(e,n){N=!1,P&&(P=!1,i()),O=!0;var o=I;try{for(D(n),A=k(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,I=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===k(T)&&_(T),D(n)}else _(T);A=k(T)}if(null!==A)var u=!0;else{var l=k(C);null!==l&&r(R,l.startTime-n),u=!1}return u}finally{A=null,I=o,O=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||O||(N=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:M++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===k(T)&&e===k(C)&&(P?i():P=!0,r(R,a-s))):(e.sortIndex=u,E(T,e),N||O||(N=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],d=t[l];if(!1===(i=n?n.call(r,c,d,l):void 0)||void 0===i&&c!==d)return!1}return!0}},65114:function(e,t,n){"use strict";var r=n(20423),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},20423:function(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},47045:function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,d=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(I[e])e=I[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(Y(e.r)&&Y(e.g)&&Y(e.b)?(t=function(e,t,n){return{r:255*P(e,255),g:255*P(t,255),b:255*P(n,255)}}(e.r,e.g,e.b),d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):Y(e.h)&&Y(e.s)&&Y(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),d=!0,f="hsv"):Y(e.h)&&Y(e.s)&&Y(e.l)&&(r=j(e.s),u=j(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),d=!0,f="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=N(n),{ok:d,format:e.format||f,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[L(F(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=D(n.s),f(n)}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=D(n.s),f(n)}function b(e){return f(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=D(n.l),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),f(n)}function E(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=D(n.l),f(n)}function k(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function _(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function S(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function M(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,o=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(f(r));return o}function A(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=N(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(F(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*P(this._r,255))+"%",g:u(100*P(this._g,255))+"%",b:u(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%)":"rgba("+u(100*P(this._r,255))+"%, "+u(100*P(this._g,255))+"%, "+u(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,i,o=f.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=f.readability(e,t[l]))>u&&(u=r,s=f(t[l]));return f.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var I=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(I);function N(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return l(1,c(0,e))}function R(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return R(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},42458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},3431:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return x},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return c},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return M},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return T},__importStar:function(){return S},__makeTemplateObject:function(){return k},__metadata:function(){return l},__param:function(){return u},__read:function(){return g},__rest:function(){return a},__spread:function(){return v},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,l):c(o[0][2],e)}(i[e](t))}catch(n){c(o[0][3],n)}}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return _(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},29388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(61120),i=n(78814),o=n(82963);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},82963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(71002),i=n(97326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(83878);var i=n(40181),o=n(25267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(30907);var i=n(59199),o=n(40181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{GADDI:function(){return RZ},Stack:function(){return jZ},breadthFirstSearch:function(){return TU},connectedComponent:function(){return MU},cosineSimilarity:function(){return oZ},default:function(){return BZ},depthFirstSearch:function(){return DU},detectAllCycles:function(){return jU},detectAllDirectedCycle:function(){return LU},detectAllUndirectedCycle:function(){return RU},detectCycle:function(){return FU},detectDirectedCycle:function(){return FZ},dijkstra:function(){return BU},findAllPath:function(){return VU},findShortestPath:function(){return GU},floydWarshall:function(){return WU},getAdjMatrix:function(){return vU},getDegree:function(){return IU},getInDegree:function(){return OU},getNeighbors:function(){return kU},getOutDegree:function(){return NU},iLouvain:function(){return tZ},kCore:function(){return nZ},kMeans:function(){return iZ},labelPropagation:function(){return UU},louvain:function(){return eZ},minimumSpanningTree:function(){return pZ},nodesCosineSimilarity:function(){return aZ},pageRank:function(){return gZ}});var t={};n.r(t),n.d(t,{Line:function(){return xH},applyMatrix:function(){return iH},compare:function(){return $Z},distance:function(){return sH},floydWarshall:function(){return lH},fractionToLine:function(){return _H},getAdjMatrix:function(){return cH},getBBoxBoundLine:function(){return wH},getCircleCenterByPoints:function(){return aH},getCircleIntersectByPoint:function(){return nH},getDegree:function(){return gH},getEllipseIntersectByPoint:function(){return rH},getLineIntersect:function(){return eH},getPointsCenter:function(){return SH},getRectIntersectByPoint:function(){return tH},intersectBBox:function(){return yH},invertMatrix:function(){return oH},isPointInPolygon:function(){return mH},isPointsOverlap:function(){return MH},isPolygonsIntersect:function(){return bH},itemIntersectByLine:function(){return kH},lerp:function(){return OH},move:function(){return fH},pointLineDistance:function(){return IH},pointLineSquareDist:function(){return CH},pointRectSquareDist:function(){return AH},rotate:function(){return pH},scale:function(){return hH},scaleMatrix:function(){return uH},squareDist:function(){return TH},translate:function(){return dH}});var r={};n.r(r),n.d(r,{cloneBesidesImg:function(){return sq},getBBox:function(){return qH},getComboBBox:function(){return oq},getLabelPosition:function(){return KH},getLetterWidth:function(){return tq},getLoopCfgs:function(){return XH},getTextSize:function(){return nq},plainCombosToTrees:function(){return rq},reconstructTree:function(){return iq},shouldRefreshEdge:function(){return aq},traverseTree:function(){return QH},traverseTreeUp:function(){return eq}});var i={};n.r(i),n.d(i,{catmullRomToBezier:function(){return gq},fillPath:function(){return jq},fillPathByDiff:function(){return zq},formatPath:function(){return Vq},intersection:function(){return Dq},parsePathArray:function(){return kq},parsePathString:function(){return pq},pathToAbsolute:function(){return mq},pathToCurve:function(){return wq},rectPath:function(){return Aq}});var o={};n.r(o),n.d(o,{easeBack:function(){return rK},easeBackIn:function(){return tK},easeBackInOut:function(){return rK},easeBackOut:function(){return nK},easeBounce:function(){return $X},easeBounceIn:function(){return JX},easeBounceInOut:function(){return QX},easeBounceOut:function(){return $X},easeCircle:function(){return qX},easeCircleIn:function(){return ZX},easeCircleInOut:function(){return qX},easeCircleOut:function(){return HX},easeCubic:function(){return PX},easeCubicIn:function(){return OX},easeCubicInOut:function(){return PX},easeCubicOut:function(){return NX},easeElastic:function(){return aK},easeElasticIn:function(){return oK},easeElasticInOut:function(){return sK},easeElasticOut:function(){return aK},easeExp:function(){return UX},easeExpIn:function(){return VX},easeExpInOut:function(){return UX},easeExpOut:function(){return WX},easeLinear:function(){return CX},easePoly:function(){return LX},easePolyIn:function(){return DX},easePolyInOut:function(){return LX},easePolyOut:function(){return RX},easeQuad:function(){return IX},easeQuadIn:function(){return MX},easeQuadInOut:function(){return IX},easeQuadOut:function(){return AX},easeSin:function(){return YX},easeSinIn:function(){return BX},easeSinInOut:function(){return YX},easeSinOut:function(){return zX}});var a={};n.r(a),n.d(a,{calculationItemsBBox:function(){return OJ},cloneEvent:function(){return MJ},formatPadding:function(){return CJ},isNaN:function(){return IJ},isViewportChanged:function(){return AJ},processParallelEdges:function(){return NJ},uniqueId:function(){return TJ}});var s={};n.r(s),n.d(s,{getClosedSpline:function(){return C$},getControlPoint:function(){return _$},getSpline:function(){return k$},paddedHull:function(){return N$},pathToPoints:function(){return T$},pointsToPolygon:function(){return S$},roundedHull:function(){return O$}});var u={};n.r(u),n.d(u,{defaultSubjectColors:function(){return hQ}});var l={};n.r(l),n.d(l,{Base:function(){return l0},Circle:function(){return d0},Ellipse:function(){return p0},Image:function(){return m0},Line:function(){return x0},Marker:function(){return k0},Path:function(){return P0},Polygon:function(){return L0},Polyline:function(){return F0},Rect:function(){return z0},Text:function(){return G0}});var c={};n.r(c),n.d(c,{Base:function(){return a1},Circle:function(){return u1},Dom:function(){return c1},Ellipse:function(){return f1},Image:function(){return p1},Line:function(){return v1},Marker:function(){return x1},Path:function(){return E1},Polygon:function(){return _1},Polyline:function(){return T1},Rect:function(){return M1},Text:function(){return P1}});var d={};n.r(d),n.d(d,{getColorSetsBySubjectColors:function(){return p2},getColorsWithSubjectColor:function(){return h2},mixColor:function(){return f2}});var f={};n.r(f),n.d(f,{arrayToTextureData:function(){return N2},attributesToTextureData:function(){return O2},buildTextureData:function(){return M2},buildTextureDataWithOneEdgeAttr:function(){return A2},buildTextureDataWithTwoEdgeAttr:function(){return I2},proccessToFunc:function(){return C2},radialLayout:function(){return P2}});var h={};n.r(h),n.d(h,{gpuDetector:function(){return D2}});var p={};n.r(p),n.d(p,{assign:function(){return u4},default:function(){return M4},defaultI18n:function(){return f4},format:function(){return T4},parse:function(){return C4},setGlobalDateI18n:function(){return p4},setGlobalDateMasks:function(){return S4}});var g={};n.r(g),n.d(g,{handleAutoZoom:function(){return j9},handleChangeZoom:function(){return R9},handleRealZoom:function(){return L9},handleZoomIn:function(){return D9},handleZoomOut:function(){return P9}});var v={};n.r(v),n.d(v,{focusNodeById:function(){return B9},highlightNodeById:function(){return F9}});var m=n(29439),y=n(72791),b=n(54164);function x(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function w(e){return!!e&&!!e[le]}function E(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ce}(e)||Array.isArray(e)||!!e[ue]||!!e.constructor[ue]||A(e)||I(e))}function k(e,t,n){void 0===n&&(n=!1),0===_(e)?(n?Object.keys:de)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function _(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:A(e)?2:I(e)?3:0}function S(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){return 2===_(e)?e.get(t):e[t]}function C(e,t,n){var r=_(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function M(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function A(e){return ie&&e instanceof Map}function I(e){return oe&&e instanceof Set}function O(e){return e.o||e.t}function N(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=fe(e);delete t[le];for(var n=de(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function P(e,t){return void 0===t&&(t=!1),R(e)||w(e)||!E(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&k(e,(function(e,t){return P(t,!0)}),!0)),e}function D(){x(2)}function R(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function L(e){var t=he[e];return t||x(18,e),t}function j(e,t){he[e]||(he[e]=t)}function F(){return ne}function B(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function z(e){Y(e),e.p.forEach(V),e.p=null}function Y(e){e===ne&&(ne=e.l)}function G(e){return ne={p:[],l:ne,h:e,m:!0,_:0}}function V(e){var t=e[le];0===t.i||1===t.i?t.j():t.O=!0}function W(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||L("ES5").S(t,e,r),r?(n[le].P&&(z(t),x(4)),E(e)&&(e=U(t,e),t.l||H(t,e)),t.u&&L("Patches").M(n[le].t,e,t.u,t.s)):e=U(t,n,[]),z(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function U(e,t,n){if(R(t))return t;var r=t[le];if(!r)return k(t,(function(i,o){return Z(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return H(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=N(r.k):r.o;k(3===r.i?new Set(i):i,(function(t,o){return Z(e,r,i,t,o,n)})),H(e,i,!1),n&&e.u&&L("Patches").R(r,n,e.u,e.s)}return r.o}function Z(e,t,n,r,i,o){if(w(i)){var a=U(e,i,o&&t&&3!==t.i&&!S(t.D,r)?o.concat(r):void 0);if(C(n,r,a),!w(a))return;e.m=!1}if(E(i)&&!R(i)){if(!e.h.F&&e._<1)return;U(e,i),t&&t.A.l||H(e,i)}}function H(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&P(t,n)}function q(e,t){var n=e[le];return(n?O(n):e)[t]}function X(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function J(e){e.o||(e.o=N(e.t))}function $(e,t,n){var r=A(t)?L("MapSet").N(t,n):I(t)?L("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=pe;n&&(i=[r],o=ge);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):L("ES5").J(t,n);return(n?n.A:F()).p.push(r),r}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return N(e)}function ee(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[le];return pe.get(t,e)},set:function(t){var n=this[le];pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][le];if(!i.P)switch(i.i){case 5:r(i)&&K(i);break;case 4:n(i)&&K(i)}}}function n(e){for(var t=e.t,n=e.k,r=de(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==le){var a=t[o];if(void 0===a&&!S(t,o))return!0;var s=n[o],u=s&&s[le];if(u?u.t!==a:!M(s,a))return!0}}var l=!!t[le];return r.length!==de(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};j("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=fe(n);delete o[le];for(var a=de(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:F(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,le,{value:o,writable:!0}),i},S:function(e,n,i){i?w(n)&&n[le].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[le];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)k(o,(function(t){t!==le&&(void 0!==i[t]||S(i,t)?a[t]||e(o[t]):(a[t]=!0,K(n)))})),k(i,(function(e){void 0!==o[e]||S(o,e)||(a[e]=!1,K(n))}));else if(5===s){if(r(n)&&(K(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var l=i.length;l<o.length;l++)a[l]=!0;for(var c=Math.min(o.length,i.length),d=0;d<c;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var te,ne,re="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ie="undefined"!=typeof Map,oe="undefined"!=typeof Set,ae="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=re?Symbol.for("immer-nothing"):((te={})["immer-nothing"]=!0,te),ue=re?Symbol.for("immer-draftable"):"__$immer_draftable",le=re?Symbol.for("immer-state"):"__$immer_state",ce=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),de="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,fe=Object.getOwnPropertyDescriptors||function(e){var t={};return de(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},he={},pe={get:function(e,t){if(t===le)return e;var n=O(e);if(!S(n,t))return function(e,t,n){var r,i=X(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!E(r)?r:r===q(e.t,t)?(J(e),e.o[t]=$(e.A.h,r,e)):r},has:function(e,t){return t in O(e)},ownKeys:function(e){return Reflect.ownKeys(O(e))},set:function(e,t,n){var r=X(O(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=q(O(e),t),o=null==i?void 0:i[le];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(M(n,i)&&(void 0!==n||S(e.t,t)))return!0;J(e),K(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.D[t]=!1,J(e),K(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=O(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){x(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){x(12)}},ge={};k(pe,(function(e,t){ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ge.deleteProperty=function(e,t){return ge.set.call(this,e,t,void 0)},ge.set=function(e,t,n){return pe.set.call(this,e[0],t,n,e[0])};var ve=function(){function e(e){var t=this;this.g=ae,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&x(6),void 0!==r&&"function"!=typeof r&&x(7),E(e)){var s=G(t),u=$(t,e,void 0),l=!0;try{a=n(u),l=!1}finally{l?z(s):Y(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return B(s,r),W(e,s)}),(function(e){throw z(s),e})):(B(s,r),W(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===se&&(a=void 0),t.F&&P(a,!0),r){var c=[],d=[];L("Patches").M(e,a,c,d),r(c,d)}return a}x(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){E(e)||x(8),w(e)&&(e=function(e){return w(e)||x(22,e),function e(t){if(!E(t))return t;var n,r=t[le],i=_(t);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=Q(t,i),r.I=!1}else n=Q(t,i);return k(n,(function(t,i){r&&T(r.t,t)===i||C(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=G(this),n=$(this,e,void 0);return n[le].C=!0,Y(t),n},t.finishDraft=function(e,t){var n=(e&&e[le]).A;return B(n,t),W(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ae&&x(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=L("Patches").$;return w(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),me=new ve,ye=me.produce,be=(me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),ye),xe=n(4942);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _e="function"===typeof Symbol&&Symbol.observable||"@@observable",Se=function(){return Math.random().toString(36).substring(7).split("").join(".")},Te={INIT:"@@redux/INIT"+Se(),REPLACE:"@@redux/REPLACE"+Se(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Se()}};function Ce(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Me(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ke(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ke(1));return n(Me)(e,t)}if("function"!==typeof e)throw new Error(ke(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(ke(3));return o}function d(e){if("function"!==typeof e)throw new Error(ke(4));if(u)throw new Error(ke(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(ke(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!Ce(e))throw new Error(ke(7));if("undefined"===typeof e.type)throw new Error(ke(8));if(u)throw new Error(ke(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(ke(10));i=e,f({type:Te.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ke(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[_e]=function(){return this},e}return f({type:Te.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[_e]=p,r}function Ae(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Te.INIT}))throw new Error(ke(12));if("undefined"===typeof n(void 0,{type:Te.PROBE_UNKNOWN_ACTION()}))throw new Error(ke(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(ke(14))}i[u]=d,r=r||d!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ke(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Ie.apply(void 0,o)(n.dispatch),Ee(Ee({},n),{},{dispatch:r})}}}function Ne(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Pe=Ne();Pe.withExtraArgument=Ne;var De=Pe,Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},je=Object.defineProperty,Fe=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Be=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Ye=function(e,t,n){return t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ge=function(e,t){for(var n in t||(t={}))Be.call(t,n)&&Ye(e,n,t[n]);if(Fe)for(var r=0,i=Fe(t);r<i.length;r++){n=i[r];ze.call(t,n)&&Ye(e,n,t[n])}return e},Ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ie:Ie.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function We(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ue=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Re(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Le([void 0],e[0].concat(this)))):new(t.bind.apply(t,Le([void 0],e.concat(this))))},t}(Array);function Ze(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ue);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(De.withExtraArgument(n.extraArgument)):r.push(De));0;return r}(e)}}function He(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ge(Ge({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function qe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Xe(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:be(e.initialState,(function(){})),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function l(){var t="function"===typeof e.extraReducers?qe(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],l=void 0===u?void 0:u,c=Ge(Ge({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?qe(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return be(e(),(function(){}))};else{var l=be(e,(function(){}));i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Le([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(w(e))return"undefined"===typeof(r=n(e,t))?e:r;if(E(e))return be(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,a,l)}return o.forEach((function(e){var n,r,o=i[e],l=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[l]=n,u[e]=r?He(l,r):He(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}Object.assign;var Ke="listenerMiddleware";He(Ke+"/add"),He(Ke+"/removeAll"),He(Ke+"/remove");ee();var Je,$e,Qe,et,tt,nt,rt,it=JSON.parse('{"e":{"aK":{"Title":{"type":"string"},"url":{"type":"string"},"Year":{"type":"string"},"Venue":{"type":"object","properties":{"isOld":{"type":"boolean"},"value":{"type":"string"}}},"Authors":{"type":"array","items":{"type":"string"}},"Type of Data":{"type":"array","items":{"type":"string","enum":["User-item matrix","Time series","Any","Text","Tabular / structured","Images","Video","Other","Graph data"]}},"Type of Problem":{"type":"array","items":{"type":"string","enum":["Model Explanation","Transparent Box Design","Model Inspection","Outcome Explanation"]}},"Type of Model to be Explained":{"type":"array","items":{"type":"string","enum":["Logistic Regression","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","(Deep) Neural Network","Other","Bayesian or Hierarchical Network"]}},"Type of Task":{"type":"array","items":{"type":"string","enum":["Classification","Policy learning","Generation","Question Answering","Representation learning","Regression","Retrieval","Anomaly detection","Recommendation","Other","Clustering"]}},"Type of Explanation":{"type":"array","items":{"type":"string","enum":["Disentanglement","Feature plot","Prototypes","Decision Rules","Feature Importance","Text","Decision Tree","Representation Visualization","Localization","White-box model","Heatmap","Other","Representation Synthesis","Graph"]}},"Method used to explain":{"type":"array","items":{"type":"string","enum":["Interpretability built into the predictive model","Supervised explanation training","Post-hoc explanation method"]}},"Abstract":{"type":"string"},"Comment":{"type":"string"},"Date":{"type":"string","format":"date-time"},"IsOld":{"type":"boolean"}}}}').e.aK;!function(e){it["Type of Data"].items.enum.forEach((function(t){e[t]=t}))}(Je||(Je={})),function(e){it["Type of Explanation"].items.enum.forEach((function(t){e[t]=t}))}($e||($e={})),function(e){it["Type of Problem"].items.enum.forEach((function(t){e[t]=t}))}(Qe||(Qe={})),function(e){it["Type of Model to be Explained"].items.enum.forEach((function(t){e[t]=t}))}(et||(et={})),function(e){it["Type of Task"].items.enum.forEach((function(t){e[t]=t}))}(tt||(tt={})),function(e){it["Method used to explain"].items.enum.forEach((function(t){e[t]=t}))}(nt||(nt={})),function(e){e.ACL="ACL",e.ICDM="ICDM",e.KDD="KDD",e.SIGIR="SIGIR",e.AAAI="AAAI",e.NeurIPS="NeurIPS",e.ICCV="ICCV",e.ICLR="ICLR",e.WWW="WWW",e.IJCAI="IJCAI",e.ICML="ICML",e.CVPR="CVPR",e.Other="Other"}(rt||(rt={}));var ot=function(e){return function(t){var n=!0;return t.forEach((function(t){at(e)(t)||(console.log("".concat(t," is not part of given enum")),n=!1)})),n}},at=function(e){return function(t){return Object.values(e).includes(t)}};function st(e){var t="";return e.forEach((function(n){t+=e.indexOf(n)!==e.length-1?n+", ":n})),t}var ut,lt=["Type of Data","Type of Problem","Type of Model to be Explained","Type of Task","Type of Explanation","Method used to explain"],ct={data:"Type of Data",problem:"Type of Problem",model:"Type of Model to be Explained",task:"Type of Task",explanation:"Type of Explanation",method:"Method used to explain",venue:"Venue"},dt=function(e){switch(e){case"Type of Data":return"magenta";case"Type of Problem":return"green";case"Type of Model to be Explained":return"geekblue";case"Type of Task":return"orange";case"Type of Explanation":return"red";case"Method used to explain":return"purple";case"Venue":return"cyan";default:return"gold"}};function ft(e){return e.map((function(e){return e.label}))}var ht="https://www.github.com/utwente-dmb/xai-papers",pt=(ut={},(0,xe.Z)(ut,"/","landing"),(0,xe.Z)(ut,"/papers","papers"),(0,xe.Z)(ut,"/charts","charts"),(0,xe.Z)(ut,"/add-paper","add-paper"),ut),gt=function(e){return e in pt?pt[e]:"landing"},vt=function(e){for(var t=0,n=Object.entries(pt);t<n.length;t++){var r=n[t];if(r[1]===e)return r[0]}return"/"},mt=JSON.parse('[{"Paper-ID":"ijcai/PanLLZ20","Title":"Explainable Recommendation via Interpretable Feature Mapping and Evaluation of Explainability.","url":"https://doi.org/10.24963/ijcai.2020/373","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Deng Pan","Xiangrui Li","Xin Li","Dongxiao Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Latent factor collaborative filtering (CF) has been a widely used technique for recommender system by learning the semantic representations of users and items. Recently, explainable recommendation has attracted much attention from research community. However, trade-off exists between explainability and performance of the recommendation where metadata is often needed to alleviate the dilemma. We present a novel feature mapping approach that maps the uninterpretable general features onto the interpretable aspect features, achieving both satisfactory accuracy and explainability in the recommendations by simultaneous minimization of rating prediction loss and interpretation loss. To evaluate the explainability, we propose two new evaluation metrics specifically designed for aspect-level explanation using surrogate ground truth. Experimental results demonstrate a strong performance in both recommendation and explaining explanation, eliminating the need for metadata. Code is available from this https URL.","IsOld":true},{"Paper-ID":"aaai/TuHW0HZ20","Title":"Select, Answer and Explain - Interpretable Multi-Hop Reading Comprehension over Multiple Documents.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6441","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Ming Tu","Kevin Huang","Guangtao Wang","Jing Huang","Xiaodong He","Bowen Zhou"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"cvpr/EsserRO20","Title":"A Disentangling Invertible Interpretation Network for Explaining Latent Representations.","url":"https://doi.org/10.1109/CVPR42600.2020.00924","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Patrick Esser","Robin Rombach","Bj\xf6rn Ommer"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Neural networks have greatly boosted performance in computer vision by learning powerful representations of input data. The drawback of end-to-end training for maximal overall performance are black-box models whose hidden representations are lacking interpretability: Since distributed coding is optimal for latent layers to improve their robustness, attributing meaning to parts of a hidden feature vector or to individual neurons is hindered. We formulate interpretation as a translation of hidden representations onto semantic concepts that are comprehensible to the user. The mapping between both domains has to be bijective so that semantic modifications in the target domain correctly alter the original representation. The proposed invertible interpretation network can be transparently applied on top of existing architectures with no need to modify or retrain them. Consequently, we translate an original representation to an equivalent yet interpretable one and backwards without affecting the expressiveness and performance of the original. The invertible interpretation network disentangles the hidden representation into separate, semantically meaningful concepts. Moreover, we present an efficient approach to define semantic concepts by only sketching two images and also an unsupervised strategy. Experimental evaluation demonstrates the wide applicability to interpretation of existing classification and image generation networks as well as to semantically guided image manipulation.","IsOld":true},{"Paper-ID":"icdm/LiuMWH0G20","Title":"LP-Explain - Local Pictorial Explanation for Outliers.","url":"https://doi.org/10.1109/ICDM50108.2020.00046","Year":"2020","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Haoyu Liu","Fenglong Ma","Yaqing Wang","Shibo He","Jiming Chen","Jing Gao"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Outlier detection is of vital importance for various fields and applications. Existing works mainly focus on identifying outliers from underlying datasets, while how to provide sense-making explanations is largely ignored. In this paper, we propose to visualize data points in a set of scatter plots on two-dimensional (2-D) feature spaces that can provide meaningful explanations about the outlying behavior of outliers. Data are typically multidimensional and the number of 2-D combinations could be huge. Also, outliers may have diverse characteristics, and thus the global scatter plots containing all of outliers may degrade the explanation effectiveness for those outliers having idiosyncratic abnormal 2-D spaces. To address this problem, we propose a new outlier explanation approach, called LP-Explain, which tries to identify the set of best Local Pictorial explanations (defined as the scatter plots in the 2-D space of the feature pairs) that can Explain the behavior for cluster of outliers. We first define an effective measure to quantify the similarity between outliers, and then cluster outliers into different groups based on their abnormal feature pairs. We then propose to weigh the importance of feature pairs within each cluster through a multi-task learning framework to select the set of top feature pairs that best explain various outlier clusters. By adjusting a user-defined parameter indicating the \u201clocalization level\u201d, the proposed method can attain both global and local results for the explanation of the outliers. 2-D visual explanations can be plotted for the top-weighted feature pairs of each cluster. We conduct experiments on various public datasets, which show that the proposed approach can provide more meaningful explanations about the outlying behavior in a dataset.","IsOld":true},{"Paper-ID":"iclr/TsangCLFZL20","Title":"Feature Interaction Interpretability - A Case for Explaining Ad-Recommendation Systems via Neural Interaction Detection.","url":"https://openreview.net/forum?id=BkgnhTEtDS","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Michael Tsang","Dehua Cheng","Hanpeng Liu","Xue Feng","Eric Zhou","Yan Liu"],"Type of Data":["Images","Text","Graph data","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/RiegerSMY20","Title":"Interpretations are Useful - Penalizing Explanations to Align Neural Networks with Prior Knowledge.","url":"http://proceedings.mlr.press/v119/rieger20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Laura Rieger","Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/PanHLZL20","Title":"xGAIL - Explainable Generative Adversarial Imitation Learning for Explainable Human Decision Analysis.","url":"https://doi.org/10.1145/3394486.3403186","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Menghai Pan","Weixiao Huang","Yanhua Li","Xun Zhou","Jun Luo"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"To make daily decisions, human agents devise their own \\"strategies\\" governing their mobility dynamics (e.g., taxi drivers have preferred working regions and times, and urban commuters have preferred routes and transit modes). Recent research such as generative adversarial imitation learning (GAIL) demonstrates successes in learning human decision-making strategies from their behavior data using deep neural networks (DNNs), which can accurately mimic how humans behave in various scenarios, e.g., playing video games, etc. However, such DNN-based models are \\"black box\\" models in nature, making it hard to explain what knowledge the models have learned from human, and how the models make such decisions, which was not addressed in the literature of imitation learning. This paper addresses this research gap by proposing xGAIL, the first explainable generative adversarial imitation learning framework. The proposed xGAIL framework consists of two novel components, including Spatial Activation Maximization (SpatialAM) and Spatial Randomized Input Sampling Explanation (SpatialRISE), to extract both global and local knowledge from a well-trained GAIL model that explains how a human agent makes decisions. Especially, we take taxi drivers\' passenger-seeking strategy as an example to validate the effectiveness of the proposed xGAIL framework. Our analysis on a large-scale real-world taxi trajectory data shows promising results from two aspects: i) global explainable knowledge of what nearby traffic condition impels a taxi driver to choose a particular direction to find the next passenger, and ii) local explainable knowledge of what key (sometimes hidden) factors a taxi driver considers when making a particular decision.","IsOld":true},{"Paper-ID":"nips/PalejaSCG20","Title":"Interpretable and Personalized Apprenticeship Scheduling - Learning Interpretable Scheduling Policies from Heterogeneous User Demonstrations.","url":"https://proceedings.neurips.cc/paper/2020/hash/477bdb55b231264bb53a7942fd84254d-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Rohan R. Paleja","Andrew Silva","Letian Chen","Matthew C. Gombolay"],"Type of Data":["Graph data","Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/VuT20","Title":"PGM-Explainer - Probabilistic Graphical Model Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/8fb134f258b1f7865a6ab2d935a897c9-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Minh N. Vu","My T. Thai"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ZhouHZLSXT20","Title":"Towards Interpretable Natural Language Understanding with Explanations as Latent Variables.","url":"https://proceedings.neurips.cc/paper/2020/hash/4be2c8f27b8a420492f2d44463933eb6-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Wangchunshu Zhou","Jinyi Hu","Hanlin Zhang","Xiaodan Liang","Maosong Sun","Chenyan Xiong","Jian Tang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/SenGVJ20","Title":"The Curious Case of IR Explainability - Explaining Document Scores within and across Ranking Models.","url":"https://doi.org/10.1145/3397271.3401286","Year":"2020","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Procheta Sen","Debasis Ganguly","Manisha Verma","Gareth J. F. Jones"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"It is often useful for an IR practitioner to analyze the similarity function of an IR model, or for a non-technical search engine user to understand why a document was shown at a certain rank, in terms of the three fundamental aspects of a similarity function, namely the a) frequency of a term in a document, b) frequency of a term in a collection and c) the length of a document. We propose a general methodology of approximating an IR model as the coefficients of a linear function of these three fundamental aspects (and an additional aspect of semantic similarity between terms for neural models), which potentially can help IR practitioners to optimize the relative importance of each aspect on specific document collection and types of queries. Our analysis shows that the coefficients, which represent the relative importance of the three fundamental aspects, are useful to compare a model\'s different parametric instantiations or compare across different models.","IsOld":true},{"Paper-ID":"acl/LiuYW19","Title":"Towards Explainable NLP - A Generative Explanation Framework for Text Classification.","url":"https://doi.org/10.18653/v1/p19-1560","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Hui Liu","Qingyu Yin","William Yang Wang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Text","Other"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Building explainable systems is a critical problem in the field of Natural Language Processing (NLP), since most machine learning models provide no explanations for the predictions. Existing approaches for explainable machine learning systems tend to focus on interpreting the outputs or the connections between inputs and outputs. However, the fine-grained information (e.g. textual explanations for the labels) is often ignored, and the systems do not explicitly generate the human-readable explanations. To solve this problem, we propose a novel generative explanation framework that learns to make classification decisions and generate fine-grained explanations at the same time. More specifically, we introduce the explainable factor and the minimum risk training approach that learn to generate more reasonable explanations. We construct two new datasets that contain summaries, rating scores, and fine-grained reasons. We conduct experiments on both datasets, comparing with several strong neural network baseline systems. Experimental results show that our method surpasses all baselines on both datasets, and is able to generate concise explanations at the same time.","IsOld":true},{"Paper-ID":"cvpr/WagnerKGHWB19","Title":"Interpretable and Fine-Grained Visual Explanations for Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Wagner_Interpretable_and_Fine-Grained_Visual_Explanations_for_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["J\xf6rg Wagner","Jan Mathias K\xf6hler","Tobias Gindele","Leon Hetzel","Jakob Thadd\xe4us Wiedemer","Sven Behnke"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"To verify and validate networks, it is essential to gain insight into their decisions, limitations as well as possible shortcomings of training data. In this work, we propose a post-hoc, optimization based visual explanation method, which highlights the evidence in the input image for a specific prediction. Our approach is based on a novel technique to defend against adversarial evidence (i.e. faulty evidence due to artefacts) by filtering gradients during optimization. The defense does not depend on human-tuned parameters. It enables explanations which are both fine-grained and preserve the characteristics of images, such as edges and colors. The explanations are interpretable, suited for visualizing detailed evidence and can be tested as they are valid model inputs. We qualitatively and quantitatively evaluate our approach on a multitude of models and datasets.","IsOld":true},{"Paper-ID":"iclr/MWT19","Title":"Visual Explanation by Interpretation - Improving Visual Feedback Capabilities of Deep Neural Networks.","url":"https://openreview.net/forum?id=H1ziPjC5Fm","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Jos\xe9 Oramas M.","Kaili Wang","Tinne Tuytelaars"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/Wang19","Title":"Gaining Free or Low-Cost Interpretability with Interpretable Partial Substitute.","url":"http://proceedings.mlr.press/v97/wang19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Tong Wang"],"Type of Data":["Tabular / structured","Text","Time series"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/SchwabK19","Title":"CXPlain - Causal Explanations for Model Interpretation under Uncertainty.","url":"https://proceedings.neurips.cc/paper/2019/hash/3ab6be46e1d6b21d59a3c3a0b9d0f6ef-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Patrick Schwab","Walter Karlen"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/ChenCXZ0QZ19","Title":"Personalized Fashion Recommendation with Visual Explanations based on Multimodal Attention Network - Towards Visually Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331254","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Xu Chen","Hanxiong Chen","Hongteng Xu","Yongfeng Zhang","Yixin Cao","Zheng Qin","Hongyuan Zha"],"Type of Data":["Images","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Fashion recommendation has attracted increasing attention from both industry and academic communities. This paper proposes a novel neural architecture for fashion recommendation based on both image region-level features and user review information. Our basic intuition is that: for a fashion image, not all the regions are equally important for the users, i.e., people usually care about a few parts of the fashion image. To model such human sense, we learn an attention model over many pre-segmented image regions, based on which we can understand where a user is really interested in on the image, and correspondingly, represent the image in a more accurate manner. In addition, by discovering such fine-grained visual preference, we can visually explain a recommendation by highlighting some regions of its image. For better learning the attention model, we also introduce user review information as a weak supervision signal to collect more comprehensive user preference. In our final framework, the visual and textual features are seamlessly coupled by a multimodal attention network. Based on this architecture, we can not only provide accurate recommendation, but also can accompany each recommended item with novel visual explanations. We conduct extensive experiments to demonstrate the superiority of our proposed model in terms of Top-N recommendation, and also we build a collectively labeled dataset for evaluating our provided visual explanations in a quantitative manner.","IsOld":true},{"Paper-ID":"sigir/VermaG19","Title":"LIRME - Locally Interpretable Ranking Model Explanation.","url":"https://doi.org/10.1145/3331184.3331377","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Manisha Verma","Debasis Ganguly"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/ZhangCSWZ18","Title":"Interpreting CNN Knowledge via an Explanatory Graph.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17354","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Quanshi Zhang","Ruiming Cao","Feng Shi","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Graph","Prototypes","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icdm/YangLWH18","Title":"Towards Interpretation of Recommender Systems with Sorted Explanation Paths.","url":"https://doi.org/10.1109/ICDM.2018.00082","Year":"2018","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Fan Yang","Ninghao Liu","Suhang Wang","Xia Hu"],"Type of Data":["Tabular / structured","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite the wide application in recent years, most recommender systems are not capable of providing interpretations together with recommendation results, which impedes both deployers and customers from understanding or trusting the results. Recent advances in recommendation models, such as deep learning models, usually involve extracting latent representations of users and items. However, the representation space is not directly comprehensible since each dimension usually does not have any specific meaning. In addition, recommender systems incorporate various sources of information, such as user behaviors, item information, and other side content information. Properly organizing different types of information, as well as effectively selecting important information for interpretation, is challenging and has not been fully tackled by conventional interpretation methods. In this paper, we propose a post-hoc method called Sorted Explanation Paths (SEP) to interpret recommendation results. Specifically, we first build a unified heterogeneous information network to incorporate multiple types of objects and relations based on representations from the recommender system and information from the dataset. Then, we search for explanation paths between given recommendation pairs, and use the set of simple paths to construct semantic explanations. Next, three heuristic metrics, i.e., credibility, readability and diversity, are designed to measure the validity of each explanation path, and to sort all the paths comprehensively. The top-ranked explanation paths are selected as the final interpretation. After that, practical issues on computation and efficiency of the proposed SEP method are also handled by corresponding approaches. Finally, we conduct experiments on three real-world benchmark datasets, and demonstrate the applicability and effectiveness of the proposed SEP method.","IsOld":true},{"Paper-ID":"icml/ChenSWJ18","Title":"Learning to Explain - An Information-Theoretic Perspective on Model Interpretation.","url":"http://proceedings.mlr.press/v80/chen18j.html","Year":"2018","Venue":{"isOld":true,"value":"ICML"},"Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/PeakeW18","Title":"Explanation Mining - Post Hoc Interpretability of Latent Factor Models for Recommendation Systems.","url":"https://doi.org/10.1145/3219819.3220072","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Georgina Peake","Jun Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The widescale use of machine learning algorithms to drive decision-making has highlighted the critical importance of ensuring the interpretability of such models in order to engender trust in their output. The state-of-the-art recommendation systems use black-box latent factor models that provide no explanation of why a recommendation has been made, as they abstract their decision processes to a high-dimensional latent space which is beyond the direct comprehension of humans. We propose a novel approach for extracting explanations from latent factor recommendation systems by training association rules on the output of a matrix factorisation black-box model. By taking advantage of the interpretable structure of association rules, we demonstrate that predictive accuracy of the recommendation model can be maintained whilst yielding explanations with high fidelity to the black-box model on a unique industry dataset. Our approach mitigates the accuracy-interpretability trade-off whilst avoiding the need to sacrifice flexibility or use external data sources. We also contribute to the ill-defined problem of evaluating interpretability.","IsOld":true},{"Paper-ID":"nips/Alvarez-MelisJ18","Title":"Towards Robust Interpretability with Self-Explaining Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/3e9f0fc9b2f89e043bc6233994dfcf76-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["David Alvarez-Melis","Tommi S. Jaakkola"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/DhurandharCLTTS18","Title":"Explanations based on the Missing - Towards Contrastive Explanations with Pertinent Negatives.","url":"https://proceedings.neurips.cc/paper/2018/hash/c5ff2543b53f4cc0ad3819a36752467b-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Amit Dhurandhar","Pin-Yu Chen","Ronny Luss","Chun-Chen Tu","Pai-Shun Ting","Karthikeyan Shanmugam","Payel Das"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iccv/FongV17","Title":"Interpretable Explanations of Black Boxes by Meaningful Perturbation.","url":"https://doi.org/10.1109/ICCV.2017.371","Year":"2017","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Ruth C. Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"As machine learning algorithms are increasingly applied to high impact yet high risk tasks, such as medical diagnosis or autonomous driving, it is critical that researchers can explain how such algorithms arrived at their predictions. In recent years, a number of image saliency methods have been developed to summarize where highly complex neural networks \u201clook\u201d in an image for evidence for their predictions. However, these techniques are limited by their heuristic nature and architectural constraints. In this paper, we make two main contributions: First, we propose a general framework for learning different kinds of explanations for any black box algorithm. Second, we specialise the framework to find the part of an image most responsible for a classifier decision. Unlike previous works, our method is model-agnostic and testable because it is grounded in explicit and interpretable image perturbations.","IsOld":true},{"Paper-ID":"aaai/AkulaWZ20","Title":"CoCoX - Generating Conceptual and Counterfactual Explanations via Fault-Lines.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5643","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Arjun R. Akula","Shuai Wang","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/ChenJ20","Title":"LS-Tree - Model Interpretation When the Data Are Linguistic.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5749","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Jianbo Chen","Michael I. Jordan"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/CiravegnaGMMG20","Title":"A Constraint-Based Approach to Learning and Explanation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5774","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Gabriele Ciravegna","Francesco Giannini","Stefano Melacci","Marco Maggini","Marco Gori"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/DalleigerV20","Title":"Explainable Data Decompositions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5780","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Sebastian Dalleiger","Jilles Vreeken"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model","Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/DongNCCZSLCM20","Title":"Asymmetrical Hierarchical Networks with Attentive Interactions for Interpretable Review-Based Recommendation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6268","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Xin Dong","Jingchao Ni","Wei Cheng","Zhengzhang Chen","Bo Zong","Dongjin Song","Yanchi Liu","Haifeng Chen","Gerard de Melo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/HarderBP20","Title":"Interpretable and Differentially Private Predictions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5827","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Frederik Harder","Matthias Bauer","Mijung Park"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/HuaiWMZ20","Title":"Towards Interpretation of Pairwise Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5837","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Mengdi Huai","Di Wang","Chenglin Miao","Aidong Zhang"],"Type of Data":["Tabular / structured","Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/ItoTSYI20","Title":"Word-Level Contextual Sentiment Analysis with Interpretability.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5845","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Tomoki Ito","Kota Tsubouchi","Hiroki Sakaji","Tatsuo Yamashita","Kiyoshi Izumi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/LiFANZ20","Title":"MRI Reconstruction with Interpretable Pixel-Wise Operations Using Reinforcement Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5423","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Wentian Li","Xidong Feng","Haotian An","Xiang Yao Ng","Yu-Jin Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/Madumal0SV20","Title":"Explainable Reinforcement Learning through a Causal Lens.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5631","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Prashan Madumal","Tim Miller","Liz Sonenberg","Frank Vetere"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/NamGCWL20","Title":"Relative Attributing Propagation - Interpreting the Comparative Contributions of Individual Units in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5632","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Woo-Jeoung Nam","Shir Gur","Jaesik Choi","Lior Wolf","Seong-Whan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/PathakLMP20","Title":"Chemically Interpretable Graph Interaction Network for Prediction of Pharmacokinetic Properties of Drug-Like Molecules.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5433","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Yashaswi Pathak","Siddhartha Laghuvarapu","Sarvesh Mehta","U. Deva Priyakumar"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/PatroAN20","Title":"Explanation vs Attention - A Two-Player Game to Obtain Attention for VQA.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6858","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Badri N. Patro","Anupriy","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/WangZHZS20","Title":"Dynamic Network Pruning with Interpretable Layerwise Channel Selection.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6098","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Yulong Wang","Xiaolu Zhang","Xiaolin Hu","Bo Zhang","Hang Su"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Visualization","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/WuPHKCZ0D20","Title":"Regional Tree Regularization for Interpretability in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6112","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Mike Wu","Sonali Parbhoo","Michael C. Hughes","Ryan Kindle","Leo A. Celi","Maurizio Zazzi","Volker Roth","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/ZhongWTZ0S20","Title":"Iteratively Questioning and Answering for Interpretable Legal Judgment Prediction.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5479","Year":"2020","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Haoxi Zhong","Yuzhong Wang","Cunchao Tu","Tianyang Zhang","Zhiyuan Liu","Maosong Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"acl/AtanasovaSLA20","Title":"Generating Fact Checking Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.656","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Pepa Atanasova","Jakob Grue Simonsen","Christina Lioma","Isabelle Augenstein"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Most existing work on automated fact checking is concerned with predicting the veracity of claims based on metadata, social network spread, language used in claims, and, more recently, evidence supporting or denying claims. A crucial piece of the puzzle that is still missing is to understand how to automate the most elaborate part of the process \u2013 generating justifications for verdicts on claims. This paper provides the first study of how these explanations can be generated automatically based on available claim context, and how this task can be modelled jointly with veracity prediction. Our results indicate that optimising both objectives at the same time, rather than training them separately, improves the performance of a fact checking system. The results of a manual evaluation further suggest that the informativeness, coverage and overall quality of the generated explanations are also improved in the multi-task model.","IsOld":true},{"Paper-ID":"acl/ChenZJ20","Title":"Generating Hierarchical Explanations on Text Classification via Feature Interaction Detection.","url":"https://doi.org/10.18653/v1/2020.acl-main.494","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Hanjie Chen","Guangtao Zheng","Yangfeng Ji"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Generating explanations for neural networks has become crucial for their applications in real-world with respect to reliability and trustworthiness. In natural language processing, existing methods usually provide important features which are words or phrases selected from an input text as an explanation, but ignore the interactions between them. It poses challenges for humans to interpret an explanation and connect it to model prediction. In this work, we build hierarchical explanations by detecting feature interactions. Such explanations visualize how words and phrases are combined at different levels of the hierarchy, which can help users understand the decision-making of black-box models. The proposed method is evaluated with three neural text classifiers (LSTM, CNN, and BERT) on two benchmark datasets, via both automatic and human evaluations. Experiments show the effectiveness of the proposed method in providing explanations that are both faithful to models and interpretable to humans.","IsOld":true},{"Paper-ID":"acl/GonenJSG20","Title":"Simple, Interpretable and Stable Method for Detecting Words with Usage Change across Corpora.","url":"https://doi.org/10.18653/v1/2020.acl-main.51","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Hila Gonen","Ganesh Jawahar","Djam\xe9 Seddah","Yoav Goldberg"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The problem of comparing two bodies of text and searching for words that differ in their usage between them arises often in digital humanities and computational social science. This is commonly approached by training word embeddings on each corpus, aligning the vector spaces, and looking for words whose cosine distance in the aligned space is large. However, these methods often require extensive filtering of the vocabulary to perform well, and - as we show in this work - result in unstable, and hence less reliable, results. We propose an alternative approach that does not use vector space alignment, and instead considers the neighbors of each word. The method is simple, interpretable and stable. We demonstrate its effectiveness in 9 different setups, considering different corpus splitting criteria (age, gender and profession of tweet authors, time of tweet) and different languages (English, French and Hebrew).","IsOld":true},{"Paper-ID":"acl/HanWT20","Title":"Explaining Black Box Predictions and Unveiling Data Artifacts through Influence Functions.","url":"https://doi.org/10.18653/v1/2020.acl-main.492","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Xiaochuang Han","Byron C. Wallace","Yulia Tsvetkov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Modern deep learning models for NLP are notoriously opaque. This has motivated the development of methods for interpreting such models, e.g., via gradient-based saliency maps or the visualization of attention weights. Such approaches aim to provide explanations for a particular model prediction by highlighting important words in the corresponding input text. While this might be useful for tasks where decisions are explicitly influenced by individual tokens in the input, we suspect that such highlighting is not suitable for tasks where model decisions should be driven by more complex reasoning. In this work, we investigate the use of influence functions for NLP, providing an alternative approach to interpreting neural text classifiers. Influence functions explain the decisions of a model by identifying influential training examples. Despite the promise of this approach, influence functions have not yet been extensively evaluated in the context of NLP, a gap addressed by this work. We conduct a comparison between influence functions and common word-saliency methods on representative tasks. As suspected, we find that influence functions are particularly useful for natural language inference, a task in which \u2018saliency maps\u2019 may not have clear interpretation. Furthermore, we develop a new quantitative measure based on influence functions that can reveal artifacts in training data.","IsOld":true},{"Paper-ID":"acl/KumarT20","Title":"NILE - Natural Language Inference with Faithful Natural Language Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.771","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Sawan Kumar","Partha P. Talukdar"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text","Localization"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The recent growth in the popularity and success of deep learning models on NLP classification tasks has accompanied the need for generating some form of natural language explanation of the predicted labels. Such generated natural language (NL) explanations are expected to be faithful, i.e., they should correlate well with the model\u2019s internal decision making. In this work, we focus on the task of natural language inference (NLI) and address the following question: can we build NLI systems which produce labels with high accuracy, while also generating faithful explanations of its decisions? We propose Natural-language Inference over Label-specific Explanations (NILE), a novel NLI method which utilizes auto-generated label-specific NL explanations to produce labels along with its faithful explanation. We demonstrate NILE\u2019s effectiveness over previously reported methods through automated and human evaluation of the produced labels and explanations. Our evaluation of NILE also supports the claim that accurate systems capable of providing testable explanations of their decisions can be designed. We discuss the faithfulness of NILE\u2019s explanations in terms of sensitivity of the decisions to the corresponding explanations. We argue that explicit evaluation of faithfulness, in addition to label and explanation accuracy, is an important step in evaluating model\u2019s explanations. Further, we demonstrate that task-specific probes are necessary to establish such sensitivity.","IsOld":true},{"Paper-ID":"acl/LuL20","Title":"GCAN - Graph-aware Co-Attention Networks for Explainable Fake News Detection on Social Media.","url":"https://doi.org/10.18653/v1/2020.acl-main.48","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Yi-Ju Lu","Cheng-Te Li"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper solves the fake news detection problem under a more realistic scenario on social media. Given the source short-text tweet and the corresponding sequence of retweet users without text comments, we aim at predicting whether the source tweet is fake or not, and generating explanation by highlighting the evidences on suspicious retweeters and the words they concern. We develop a novel neural network-based model, Graph-aware Co-Attention Networks (GCAN), to achieve the goal. Extensive experiments conducted on real tweet datasets exhibit that GCAN can significantly outperform state-of-the-art methods by 16% in accuracy on average. In addition, the case studies also show that GCAN can produce reasonable explanations.","IsOld":true},{"Paper-ID":"acl/MohankumarNNKSR20","Title":"Towards Transparent and Explainable Attention Models.","url":"https://doi.org/10.18653/v1/2020.acl-main.387","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Akash Kumar Mohankumar","Preksha Nema","Sharan Narasimhan","Mitesh M. Khapra","Balaji Vasan Srinivasan","Balaraman Ravindran"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent studies on interpretability of attention distributions have led to notions of faithful and plausible explanations for a model\u2019s predictions. Attention distributions can be considered a faithful explanation if a higher attention weight implies a greater impact on the model\u2019s prediction. They can be considered a plausible explanation if they provide a human-understandable justification for the model\u2019s predictions. In this work, we first explain why current attention mechanisms in LSTM based encoders can neither provide a faithful nor a plausible explanation of the model\u2019s predictions. We observe that in LSTM based encoders the hidden representations at different time-steps are very similar to each other (high conicity) and attention weights in these situations do not carry much meaning because even a random permutation of the attention weights does not affect the model\u2019s predictions. Based on experiments on a wide variety of tasks and datasets, we observe attention distributions often attribute the model\u2019s predictions to unimportant words such as punctuation and fail to offer a plausible explanation for the predictions. To make attention mechanisms more faithful and plausible, we propose a modified LSTM cell with a diversity-driven training objective that ensures that the hidden representations learned at different time steps are diverse. We show that the resulting attention distributions offer more transparency as they (i) provide a more precise importance ranking of the hidden states (ii) are better indicative of words important for the model\u2019s predictions (iii) correlate better with gradient-based attribution methods. Human evaluations indicate that the attention distributions learned by our model offer a plausible explanation of the model\u2019s predictions. Our code has been made publicly available at https://github.com/akashkm99/Interpretable-Attention","IsOld":true},{"Paper-ID":"acl/ShahbaziFGT20","Title":"Relation Extraction with Explanation.","url":"https://doi.org/10.18653/v1/2020.acl-main.579","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Hamed Shahbazi","Xiaoli Z. Fern","Reza Ghaeini","Prasad Tadepalli"],"Type of Data":["Text","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent neural models for relation extraction with distant supervision alleviate the impact of irrelevant sentences in a bag by learning importance weights for the sentences. Efforts thus far have focused on improving extraction accuracy but little is known about their explanability. In this work we annotate a test set with ground-truth sentence-level explanations to evaluate the quality of explanations afforded by the relation extraction models. We demonstrate that replacing the entity mentions in the sentences with their fine-grained entity types not only enhances extraction accuracy but also improves explanation. We also propose to automatically generate \u201cdistractor\u201d sentences to augment the bags and train the model to ignore the distractors. Evaluations on the widely used FB-NYT dataset show that our methods achieve new state-of-the-art accuracy while improving model explanability.","IsOld":true},{"Paper-ID":"acl/SubramanianBGWS20","Title":"Obtaining Faithful Interpretations from Compositional Neural Networks.","url":"https://doi.org/10.18653/v1/2020.acl-main.495","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Sanjay Subramanian","Ben Bogin","Nitish Gupta","Tomer Wolfson","Sameer Singh","Jonathan Berant","Matt Gardner"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Localization","Other"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Neural module networks (NMNs) are a popular approach for modeling compositionality: they achieve high accuracy when applied to problems in language and vision, while reflecting the compositional structure of the problem in the network architecture. However, prior work implicitly assumed that the structure of the network modules, describing the abstract reasoning process, provides a faithful explanation of the model\u2019s reasoning; that is, that all modules perform their intended behaviour. In this work, we propose and conduct a systematic evaluation of the intermediate outputs of NMNs on NLVR2 and DROP, two datasets which require composing multiple reasoning steps. We find that the intermediate outputs differ from the expected output, illustrating that the network structure does not provide a faithful explanation of model behaviour. To remedy that, we train the model with auxiliary supervision and propose particular choices for module architecture that yield much better faithfulness, at a minimal cost to accuracy.","IsOld":true},{"Paper-ID":"acl/WuCKL20","Title":"Perturbed Masking - Parameter-free Probing for Analyzing and Interpreting BERT.","url":"https://doi.org/10.18653/v1/2020.acl-main.383","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Zhiyong Wu","Yun Chen","Ben Kao","Qun Liu"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Heatmap","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"By introducing a small set of additional parameters, a probe learns to solve specific linguistic tasks (e.g., dependency parsing) in a supervised manner using feature representations (e.g., contextualized embeddings). The effectiveness of such probing tasks is taken as evidence that the pre-trained model encodes linguistic knowledge. However, this approach of evaluating a language model is undermined by the uncertainty of the amount of knowledge that is learned by the probe itself. Complementary to those works, we propose a parameter-free probing technique for analyzing pre-trained language models (e.g., BERT). Our method does not require direct supervision from the probing tasks, nor do we introduce additional parameters to the probing process. Our experiments on BERT show that syntactic trees recovered from BERT using our method are significantly better than linguistically-uninformed baselines. We further feed the empirically induced dependency structures into a downstream sentiment classification task and find its improvement compatible with or even superior to a human-designed dependency schema.","IsOld":true},{"Paper-ID":"acl/WuRZLN20","Title":"DTCA - Decision Tree-based Co-Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.18653/v1/2020.acl-main.97","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Lianwei Wu","Yuan Rao","Yongqiang Zhao","Hao Liang","Ambreen Nazir"],"Type of Data":["Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recently, many methods discover effective evidence from reliable sources by appropriate neural networks for explainable claim verification, which has been widely recognized. However, in these methods, the discovery process of evidence is nontransparent and unexplained. Simultaneously, the discovered evidence is aimed at the interpretability of the whole sequence of claims but insufficient to focus on the false parts of claims. In this paper, we propose a Decision Tree-based Co-Attention model (DTCA) to discover evidence for explainable claim verification. Specifically, we first construct Decision Tree-based Evidence model (DTE) to select comments with high credibility as evidence in a transparent and interpretable way. Then we design Co-attention Self-attention networks (CaSa) to make the selected evidence interact with claims, which is for 1) training DTE to determine the optimal decision thresholds and obtain more powerful evidence; and 2) utilizing the evidence to find the false parts in the claim. Experiments on two public datasets, RumourEval and PHEME, demonstrate that DTCA not only provides explanations for the results of claim verification but also achieves the state-of-the-art performance, boosting the F1-score by more than 3.11%, 2.41%, respectively.","IsOld":true},{"Paper-ID":"acl/ZhangSFL20","Title":"Learning Interpretable Relationships between Entities, Relations and Concepts via Bayesian Structure Learning on Open Domain Facts.","url":"https://doi.org/10.18653/v1/2020.acl-main.717","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Jingyuan Zhang","Mingming Sun","Yue Feng","Ping Li"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Concept graphs are created as universal taxonomies for text understanding in the open-domain knowledge. The nodes in concept graphs include both entities and concepts. The edges are from entities to concepts, showing that an entity is an instance of a concept. In this paper, we propose the task of learning interpretable relationships from open-domain facts to enrich and refine concept graphs. The Bayesian network structures are learned from open-domain facts as the interpretable relationships between relations of facts and concepts of entities. We conduct extensive experiments on public English and Chinese datasets. Compared to the state-of-the-art methods, the learned network structures help improving the identification of concepts for entities based on the relations of entities on both datasets.","IsOld":true},{"Paper-ID":"acl/ZhouZY20","Title":"Interpretable Operational Risk Classification with Semi-Supervised Variational Autoencoder.","url":"https://doi.org/10.18653/v1/2020.acl-main.78","Year":"2020","Venue":{"isOld":true,"value":"ACL"},"Authors":["Fan Zhou","Shengming Zhang","Yi Yang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Operational risk management is one of the biggest challenges nowadays faced by financial institutions. There are several major challenges of building a text classification system for automatic operational risk prediction, including imbalanced labeled/unlabeled data and lacking interpretability. To tackle these challenges, we present a semi-supervised text classification framework that integrates multi-head attention mechanism with Semi-supervised variational inference for Operational Risk Classification (SemiORC). We empirically evaluate the framework on a real-world dataset. The results demonstrate that our method can better utilize unlabeled data and learn visually interpretable document representations. SemiORC also outperforms other baseline methods on operational risk classification.","IsOld":true},{"Paper-ID":"cvpr/ChengRCZ20","Title":"Explaining Knowledge Distillation by Quantifying the Knowledge.","url":"https://doi.org/10.1109/CVPR42600.2020.01294","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Xu Cheng","Zhefan Rao","Yilan Chen","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper presents a method to interpret the success of knowledge distillation by quantifying and analyzing task-relevant and task-irrelevant visual concepts that are encoded in intermediate layers of a deep neural network (DNN). More specifically, three hypotheses are proposed as follows. 1. Knowledge distillation makes the DNN learn more visual concepts than learning from raw data. 2. Knowledge distillation ensures that the DNN is prone to learning various visual concepts simultaneously. Whereas, in the scenario of learning from raw data, the DNN learns visual concepts sequentially. 3. Knowledge distillation yields more stable optimization directions than learning from raw data. Accordingly, we design three types of mathematical metrics to evaluate feature representations of the DNN. In experiments, we diagnosed various DNNs, and above hypotheses were verified.","IsOld":true},{"Paper-ID":"cvpr/HuangL20","Title":"Interpretable and Accurate Fine-grained Recognition via Region Grouping.","url":"https://doi.org/10.1109/CVPR42600.2020.00869","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Zixuan Huang","Yin Li"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We present an interpretable deep model for fine-grained visual recognition. At the core of our method lies the integration of region-based part discovery and attribution within a deep neural network. Our model is trained using image-level object labels, and provides an interpretation of its results via the segmentation of object parts and the identification of their contributions towards classification. To facilitate the learning of object parts without direct supervision, we explore a simple prior of the occurrence of object parts. We demonstrate that this prior, when combined with our region-based part discovery and attribution, leads to an interpretable model that remains highly accurate. Our model is evaluated on major fine-grained recognition datasets, including CUB-200, CelebA and iNaturalist. Our results compares favourably to state-of-the-art methods on classification tasks, and outperforms previous approaches on the localization of object parts.","IsOld":true},{"Paper-ID":"cvpr/JakabGBV20","Title":"Self-Supervised Learning of Interpretable Keypoints From Unlabelled Videos.","url":"https://doi.org/10.1109/CVPR42600.2020.00881","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Tomas Jakab","Ankush Gupta","Hakan Bilen","Andrea Vedaldi"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Disentanglement","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We propose a new method for recognizing the pose of objects from a single image that for learning uses only unlabelled videos and a weak empirical prior on the object poses. Video frames differ primarily in the pose of the objects they contain, so our method distils the pose information by analyzing the differences between frames. The distillation uses a new dual representation of the geometry of objects as a set of 2D keypoints, and as a pictorial representation, i.e. a skeleton image. This has three benefits: (1) it provides a tight \'geometric bottleneck\' which disentangles pose from appearance, (2) it can leverage powerful image-to-image translation networks to map between photometry and geometry, and (3) it allows to incorporate empirical pose priors in the learning process. The pose priors are obtained from unpaired data, such as from a different dataset or modality such as mocap, such that no annotated image is ever used in learning the pose recognition network. In standard benchmarks for pose recognition for humans and faces, our method achieves state-of-the-art performance among methods that do not require any labelled images for training. Project page: http://www.robots.ox.ac.uk/~vgg/research/unsupervised_pose/","IsOld":true},{"Paper-ID":"cvpr/JalwanaABM20","Title":"Attack to Explain Deep Representation.","url":"https://doi.org/10.1109/CVPR42600.2020.00956","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Mohammad A. A. K. Jalwana","Naveed Akhtar","Mohammed Bennamoun","Ajmal Mian"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep visual models are susceptible to extremely low magnitude perturbations to input images. Though carefully crafted, the perturbation patterns generally appear noisy, yet they are able to perform controlled manipulation of model predictions. This observation is used to argue that deep representation is misaligned with human perception. This paper counter-argues and proposes the first attack on deep learning that aims at explaining the learned representation instead of fooling it. By extending the input domain of the manipulative signal and employing a model faithful channelling, we iteratively accumulate adversarial perturbations for a deep model. The accumulated signal gradually manifests itself as a collection of visually salient features of the target label (in model fooling), casting adversarial perturbations as primitive features of the target label. Our attack provides the first demonstration of systematically computing perturbations for adversarially non-robust classifiers that comprise salient visual features of objects. We leverage the model explaining character of our algorithm to perform image generation, inpainting and interactive image manipulation by attacking adversarially robust classifiers. The visually appealing results across these applications demonstrate the utility of our attack (and perturbations in general) beyond model fooling.","IsOld":true},{"Paper-ID":"cvpr/KimGPS20","Title":"A Programmatic and Semantic Approach to Explaining and Debugging Neural Network Based Object Detectors.","url":"https://doi.org/10.1109/CVPR42600.2020.01114","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Edward Kim","Divya Gopinath","Corina S. Pasareanu","Sanjit A. Seshia"],"Type of Data":["Images"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Even as deep neural networks have become very effective for tasks in vision and perception, it remains difficult to explain and debug their behavior. In this paper, we present a programmatic and semantic approach to explaining, understanding, and debugging the correct and incorrect behaviors of a neural network based perception system. Our approach is semantic in that it employs a high-level representation of the distribution of environment scenarios that the detector is intended to work on. It is programmatic in that the representation is a program in a domain-specific probabilistic programming language using which synthetic data can be generated to train and test the neural network. We present a framework that assesses the performance of the neural network to identify correct and incorrect detections, extracts rules from those results that semantically characterizes the correct and incorrect scenarios, and then specializes the probabilistic program with those rules in order to more precisely characterize the scenarios in which the neural network operates correctly or not, without human intervention. We demonstrate our results using the Scenic probabilistic programming language and a neural network-based object detector. Our experiments show that it is possible to automatically generate compact rules that significantly increase the correct detection rate (or conversely the incorrect detection rate) of the network and can thus help with debugging and understanding its behavior.","IsOld":true},{"Paper-ID":"cvpr/LiuLZKWBRC20","Title":"Towards Visually Explaining Variational Autoencoders.","url":"https://doi.org/10.1109/CVPR42600.2020.00867","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["WenQian Liu","Runze Li","Meng Zheng","Srikrishna Karanam","Ziyan Wu","Bir Bhanu","Richard J. Radke","Octavia I. Camps"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent advances in Convolutional Neural Network (CNN) model interpretability have led to impressive progress in visualizing and understanding model predictions. In particular, gradient-based visual attention methods have driven much recent effort in using visual attention maps as a means for visual explanations. A key problem, however, is these methods are designed for classification and categorization tasks, and their extension to explaining generative models, e.g., variational autoencoders (VAE) is not trivial. In this work, we take a step towards bridging this crucial gap, proposing the first technique to visually explain VAEs by means of gradient-based attention. We present methods to generate visual attention from the learned latent space, and also demonstrate such attention explanations serve more than just explaining VAE predictions. We show how these attention maps can be used to localize anomalies in images, demonstrating state-of-the-art performance on the MVTec-AD dataset. We also show how they can be infused into model training, helping bootstrap the VAE into learning improved latent space disentanglement, demonstrated on the Dsprites dataset.","IsOld":true},{"Paper-ID":"cvpr/ShenGTZ20","Title":"Interpreting the Latent Space of GANs for Semantic Face Editing.","url":"https://doi.org/10.1109/CVPR42600.2020.00926","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Yujun Shen","Jinjin Gu","Xiaoou Tang","Bolei Zhou"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite the recent advance of Generative Adversarial Networks (GANs) in high-fidelity image synthesis, there lacks enough understanding of how GANs are able to map a latent code sampled from a random distribution to a photo-realistic image. Previous work assumes the latent space learned by GANs follows a distributed representation but observes the vector arithmetic phenomenon. In this work, we propose a novel framework, called InterFaceGAN, for semantic face editing by interpreting the latent semantics learned by GANs. In this framework, we conduct a detailed study on how different semantics are encoded in the latent space of GANs for face synthesis. We find that the latent code of well-trained generative models actually learns a disentangled representation after linear transformations. We explore the disentanglement between various semantics and manage to decouple some entangled semantics with subspace projection, leading to more precise control of facial attributes. Besides manipulating gender, age, expression, and the presence of eyeglasses, we can even vary the face pose as well as fix the artifacts accidentally generated by GAN models. The proposed method is further applied to achieve real image manipulation when combined with GAN inversion methods or some encoder-involved models. Extensive results suggest that learning to synthesize faces spontaneously brings a disentangled and controllable facial attribute representation.","IsOld":true},{"Paper-ID":"cvpr/WangV20","Title":"SCOUT - Self-Aware Discriminant Counterfactual Explanations.","url":"https://doi.org/10.1109/CVPR42600.2020.00900","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The problem of counterfactual visual explanations is considered. A new family of discriminant explanations is introduced. These produce heatmaps that attribute high scores to image regions informative of a classifier prediction but not of a counter class. They connect attributive explanations, which are based on a single heat map, to counterfactual explanations, which account for both predicted class and counter class. The latter are shown to be computable by combination of two discriminant explanations, with reversed class pairs. It is argued that self-awareness, namely the ability to produce classification confidence scores, is important for the computation of discriminant explanations, which seek to identify regions where it is easy to discriminate between prediction and counter class. This suggests the computation of discriminant explanations by the combination of three attribution maps. The resulting counterfactual explanations are optimization free and thus much faster than previous methods. To address the difficulty of their evaluation, a proxy task and set of quantitative metrics are also proposed. Experiments under this protocol show that the proposed counterfactual explanations outperform the state of the art while achieving speeds much faster, for popular networks. In a human-learning machine teaching experiment, they are also shown to improve mean student accuracy from chance level to 95%.","IsOld":true},{"Paper-ID":"cvpr/WuSCZKLT20a","Title":"Towards Global Explanations of Convolutional Neural Networks With Concept Attribution.","url":"https://doi.org/10.1109/CVPR42600.2020.00868","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Weibin Wu","Yuxin Su","Xixian Chen","Shenglin Zhao","Irwin King","Michael R. Lyu","Yu-Wing Tai"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"With the growing prevalence of convolutional neural networks (CNNs), there is an urgent demand to explain their behaviors. Global explanations contribute to understanding model predictions on a whole category of samples, and thus have attracted increasing interest recently. However, existing methods overwhelmingly conduct separate input attribution or rely on local approximations of models, making them fail to offer faithful global explanations of CNNs. To overcome such drawbacks, we propose a novel two-stage framework, Attacking for Interpretability (AfI), which explains model decisions in terms of the importance of user-defined concepts. AfI first conducts a feature occlusion analysis, which resembles a process of attacking models to derive the category-wide importance of different features. We then map the feature importance to concept importance through ad-hoc semantic tasks. Experimental results confirm the effectiveness of AfI and its superiority in providing more accurate estimations of concept importance than existing proposals.","IsOld":true},{"Paper-ID":"cvpr/XuYGLWLV20","Title":"Explainable Object-Induced Action Decision for Autonomous Vehicles.","url":"https://doi.org/10.1109/CVPR42600.2020.00954","Year":"2020","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Yiran Xu","Xiaoyin Yang","Lihang Gong","Hsuan-Chu Lin","Tz-Ying Wu","Yunsheng Li","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"A new paradigm is proposed for autonomous driving. The new paradigm lies between the end-to-end and pipelined approaches, and is inspired by how humans solve the problem. While it relies on scene understanding, the latter only considers objects that could originate hazard. These are denoted as action inducing, since changes in their state should trigger vehicle actions. They also define a set of explanations for these actions, which should be produced jointly with the latter. An extension of the BDD100K dataset, annotated for a set of 4 actions and 21 explanations, is proposed. A new multi-task formulation of the problem, which optimizes the accuracy of both action commands and explanations, is then introduced. A CNN architecture is finally proposed to solve this problem, by combining reasoning about action inducing objects and global scene context. Experimental results show that the requirement of explanations improves the recognition of action-inducing objects, which in turn leads to better action predictions.","IsOld":true},{"Paper-ID":"icdm/JiWJMZ20","Title":"Interpretable Spatiotemporal Deep Learning Model for Traffic Flow Prediction based on Potential Energy Fields.","url":"https://doi.org/10.1109/ICDM50108.2020.00128","Year":"2020","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Jiahao Ji","Jingyuan Wang","Zhe Jiang","Jingtian Ma","Hu Zhang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Traffic flow prediction is of great importance in traffic management and public safety, but is challenging due to the complex spatial-temporal dependencies as well as temporal dynamics. Existing work either focuses on traditional statistical models, which have limited prediction accuracy, or relies on black-box deep learning models, which have superior prediction accuracy but are hard to interpret. In contrast, we propose a novel interpretable spatiotemporal deep learning model for traffic flow prediction. Our main idea is to model the physics of traffic flow through a number of latent Spatio-Temporal Potential Energy Fields (ST-PEFs), similar to water flow driven by the gravity field. We develop a Wind field Decomposition (WD) algorithm to decompose traffic flow into poly-tree components so that ST-PEFs can be established. We then design a spatiotemporal deep learning model for the ST-PEFs, which consists of a temporal component (modeling the temporal correlation) and a spatial component (modeling the spatial dependencies). To the best of our knowledge, this is the first work that make traffic flow prediction based on ST-PEFs. Experimental results on real-world traffic datasets show the effectiveness of our model compared to the existing methods. A case study confirms our model interpretability.","IsOld":true},{"Paper-ID":"iclr/JinWDXR20","Title":"Towards Hierarchical Importance Attribution - Explaining Compositional Semantics for Neural Sequence Models.","url":"https://openreview.net/forum?id=BkxRRkSKwr","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Xisen Jin","Zhongyu Wei","Junyi Du","Xiangyang Xue","Xiang Ren"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/MohanKSF20","Title":"Robust And Interpretable Blind Image Denoising Via Bias-Free Convolutional Neural Networks.","url":"https://openreview.net/forum?id=HJlSmC4FPS","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Sreyas Mohan","Zahra Kadkhodaie","Eero P. Simoncelli","Carlos Fernandez-Granda"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Synthesis","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/OreshkinCCB20","Title":"N-BEATS - Neural basis expansion analysis for interpretable time series forecasting.","url":"https://openreview.net/forum?id=r1ecqn4YwB","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Boris N. Oreshkin","Dmitri Carpov","Nicolas Chapados","Yoshua Bengio"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/PuriVGKDK020","Title":"Explain Your Move - Understanding Agent Actions Using Specific and Relevant Feature Attribution.","url":"https://openreview.net/forum?id=SJgzLkBKPB","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Nikaash Puri","Sukriti Verma","Piyush Gupta","Dhruv Kayastha","Shripad Deshmukh","Balaji Krishnamurthy","Sameer Singh"],"Type of Data":["Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/SinglaPCB20","Title":"Explanation by Progressive Exaggeration.","url":"https://openreview.net/forum?id=H1xFWgrFPS","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Sumedha Singla","Brian Pollack","Junxiang Chen","Kayhan Batmanghelich"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis","Representation Visualization","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/YangS20","Title":"Learn to Explain Efficiently via Neural Logic Inductive Learning.","url":"https://openreview.net/forum?id=SJlh8CEYDB","Year":"2020","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Yuan Yang","Le Song"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/AndersPDMK20","Title":"Fairwashing explanations with off-manifold detergent.","url":"http://proceedings.mlr.press/v119/anders20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Christopher J. Anders","Plamen Pasliev","Ann-Kathrin Dombrowski","Klaus-Robert M\xfcller","Pan Kessel"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/ChalasaniC00J20","Title":"Concise Explanations of Neural Networks using Adversarial Training.","url":"http://proceedings.mlr.press/v119/chalasani20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Prasad Chalasani","Jiefeng Chen","Amrita Roy Chowdhury","Xi Wu","Somesh Jha"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/ChaudharySG20","Title":"Explainable and Discourse Topic-aware Neural Language Understanding.","url":"http://proceedings.mlr.press/v119/chaudhary20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Yatin Chaudhary","Hinrich Sch\xfctze","Pankaj Gupta"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Retrieval"],"Type of Explanation":["Other"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/JinBJ20a","Title":"Multi-Objective Molecule Generation using Interpretable Substructures.","url":"http://proceedings.mlr.press/v119/jin20b.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Wengong Jin","Regina Barzilay","Tommi S. Jaakkola"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/LakkarajuAB20","Title":"Robust and Stable Black Box Explanations.","url":"http://proceedings.mlr.press/v119/lakkaraju20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Himabindu Lakkaraju","Nino Arsov","Osbert Bastani"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/MoshkovitzDRF20","Title":"Explainable k-Means and k-Medians Clustering.","url":"http://proceedings.mlr.press/v119/moshkovitz20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Michal Moshkovitz","Sanjoy Dasgupta","Cyrus Rashtchian","Nave Frost"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/ParkCZYY20","Title":"Multiresolution Tensor Learning for Efficient and Interpretable Spatial Analysis.","url":"http://proceedings.mlr.press/v119/park20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Jung Yeon Park","Kenneth Theo Carr","Stephan Zheng","Yisong Yue","Rose Yu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/PlumbTST20","Title":"Explaining Groups of Points in Low-Dimensional Representations.","url":"http://proceedings.mlr.press/v119/plumb20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Gregory Plumb","Jonathan Terhorst","Sriram Sankararaman","Ameet Talwalkar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/QuinnNR0V20","Title":"DeepCoDA - personalized interpretability for compositional health data.","url":"http://proceedings.mlr.press/v119/quinn20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Thomas P. Quinn","Dang Nguyen","Santu Rana","Sunil Gupta","Svetha Venkatesh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/ShiZM020","Title":"Dispersed Exponential Family Mixture VAEs for Interpretable Text Generation.","url":"http://proceedings.mlr.press/v119/shi20f.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Wenxian Shi","Hao Zhou","Ning Miao","Lei Li"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/VoynovB20","Title":"Unsupervised Discovery of Interpretable Directions in the GAN Latent Space.","url":"http://proceedings.mlr.press/v119/voynov20a.html","Year":"2020","Venue":{"isOld":true,"value":"ICML"},"Authors":["Andrey Voynov","Artem Babenko"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"ijcai/AlbiniRBT20","Title":"Relation-Based Counterfactual Explanations for Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2020/63","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Emanuele Albini","Antonio Rago","Pietro Baroni","Francesca Toni"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We propose a general method for generating counterfactual explanations (CFXs) for a range of Bayesian Network Classifiers (BCs), e.g. singleor multi-label, binary or multidimensional. We focus on explanations built from relations of (critical and potential) influence between variables, indicating the reasons for classifications, rather than any probabilistic information. We show by means of a theoretical analysis of CFXs\u2019 properties that they serve the purpose of indicating (potentially) pivotal factors in the classification process, whose absence would give rise to different classifications. We then prove empirically for various BCs that CFXs provide useful information in real world settings, e.g. when race plays a part in parole violation prediction, and show that they have inherent advantages over existing explanation methods in the literature.","IsOld":true},{"Paper-ID":"ijcai/BeyazitTYT020","Title":"Learning Interpretable Representations with Informative Entanglements.","url":"https://doi.org/10.24963/ijcai.2020/273","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Ege Beyazit","Doruk Tuncel","Xu Yuan","Nian-Feng Tzeng","Xindong Wu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning","Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Learning interpretable representations in an unsupervised setting is an important yet a challenging task. Existing unsupervised interpretable methods focus on extracting independent salient features from data. However they miss out the fact that the entanglement of salient features may also be informative. Acknowledging these entanglements can improve the interpretability, resulting in extraction of higher quality and a wider variety of salient features. In this paper, we propose a new method to enable Generative Adversarial Networks (GANs) to discover salient features that may be entangled in an informative manner, instead of extracting only disentangled features. Specifically, we propose a regularizer to punish the disagreement between the extracted feature interactions and a given dependency structure while training. We model these interactions using a Bayesian network, estimate the maximum likelihood parameters and calculate a negative likelihood score to measure the disagreement. Upon qualitatively and quantitatively evaluating the proposed method using both synthetic and real-world datasets, we show that our proposed regularizer guides GANs to learn representations with disentanglement scores competing with the state-of-the-art, while extracting a wider variety of salient features.","IsOld":true},{"Paper-ID":"ijcai/ChenW0PSAC20","Title":"Towards Explainable Conversational Recommendation.","url":"https://doi.org/10.24963/ijcai.2020/414","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Zhongxia Chen","Xiting Wang","Xing Xie","Mehul Parsana","Akshay Soni","Xiang Ao","Enhong Chen"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent studies have shown that both accuracy and explainability are important for recommendation. In this paper, we introduce explainable conversational recommendation, which enables incremental improvement of both recommendation accuracy and explanation quality through multi-turn user model conversation. We show how the problem can be formulated, and design an incremental multitask learning framework that enables tight collaboration between recommendation prediction, explanation generation, and user feedback integration. We also propose a multi-view feedback integration method to enable effective incremental model update. Empirical results demonstrate that our model not only consistently improves the recommendation accuracy but also generates explanations that fit user interests reflected in the feedbacks.","IsOld":true},{"Paper-ID":"ijcai/CiravegnaGGMM20","Title":"Human-Driven FOL Explanations of Deep Learning.","url":"https://doi.org/10.24963/ijcai.2020/309","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Gabriele Ciravegna","Francesco Giannini","Marco Gori","Marco Maggini","Stefano Melacci"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep neural networks are usually considered blackboxes due to their complex internal architecture, that cannot straightforwardly provide humanunderstandable explanations on how they behave. Indeed, Deep Learning is still viewed with skepticism in those real-world domains in which incorrect predictions may produce critical effects. This is one of the reasons why in the last few years Explainable Artificial Intelligence (XAI) techniques have gained a lot of attention in the scientific community. In this paper, we focus on the case of multilabel classification, proposing a neural network that learns the relationships among the predictors associated to each class, yielding First-Order Logic (FOL)-based descriptions. Both the explanationrelated network and the classification-related network are jointly learned, thus implicitly introducing a latent dependency between the development of the explanation mechanism and the development of the classifiers. Our model can integrate human-driven preferences that guide the learningto-explain process, and it is presented in a unified framework. Different typologies of explanations are evaluated in distinct experiments, showing that the proposed approach discovers new knowledge and can improve the classifier performance.","IsOld":true},{"Paper-ID":"ijcai/KanamoriTKA20","Title":"DACE - Distribution-Aware Counterfactual Explanation by Mixed-Integer Linear Optimization.","url":"https://doi.org/10.24963/ijcai.2020/395","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Kentaro Kanamori","Takuya Takagi","Ken Kobayashi","Hiroki Arimura"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Support Vector Machine","Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Counterfactual Explanation (CE) is one of the posthoc explanation methods that provides a perturbation vector so as to alter the prediction result obtained from a classifier. Users can directly interpret the perturbation as an \u201daction\u201d for obtaining their desired decision results. However, an action extracted by existing methods often becomes unrealistic for users because they do not adequately care about the characteristics corresponding to the empirical data distribution such as feature-correlations and outlier risk. To suggest an executable action for users, we propose a new framework of CE for extracting an action by evaluating its reality on the empirical data distribution. The key idea of our proposed method is to define a new cost function based on the Mahalanobis\u2019 distance and the local outlier factor. Then, we propose a mixed-integer linear optimization approach to extracting an optimal action by minimizing our cost function. By experiments on real datasets, we confirm the effectiveness of our method in comparison with existing methods for CE.","IsOld":true},{"Paper-ID":"ijcai/LeL20","Title":"Synthesizing Aspect-Driven Recommendation Explanations from Reviews.","url":"https://doi.org/10.24963/ijcai.2020/336","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Trung-Hoang Le","Hady W. Lauw"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Explanations help to make sense of recommendations, increasing the likelihood of adoption. However, existing approaches to explainable recommendations tend to rely on rigid, standardized templates, customized only via fill-in-the-blank aspect sentiments. For more flexible, literate, and varied explanations covering various aspects of interest, we synthesize an explanation by selecting snippets from reviews, while optimizing for representativeness and coherence. To fit target users\u2019 aspect preferences, we contextualize the opinions based on a compatible explainable recommendation model. Experiments on datasets of several product categories showcase the efficacies of our method as compared to baselines based on templates, review summarization, selection, and text generation.","IsOld":true},{"Paper-ID":"ijcai/LiFCLYS20","Title":"Recurrent Dirichlet Belief Networks for interpretable Dynamic Relational Data Modelling.","url":"https://doi.org/10.24963/ijcai.2020/342","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Yaqiong Li","Xuhui Fan","Ling Chen","Bin Li","Zheng Yu","Scott A. Sisson"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The Dirichlet Belief Network~(DirBN) has been recently proposed as a promising approach in learning interpretable deep latent representations for objects. \\n\\nIn this work, we leverage its interpretable modelling architecture and propose a deep dynamic probabilistic framework -- the Recurrent Dirichlet Belief Network~(Recurrent-DBN) -- to study interpretable hidden structures from dynamic relational data. The proposed Recurrent-DBN has the following merits: (1) it infers interpretable and organised hierarchical latent structures for objects within and across time steps; (2) it enables recurrent long-term temporal dependence modelling, which outperforms the one-order Markov descriptions in most of the dynamic probabilistic frameworks; (3) the computational cost scales to the number of positive links only. In addition, we develop a new inference strategy, which first upward-and-backward propagates latent counts and then downward-and-forward samples variables, to enable efficient Gibbs sampling for the Recurrent-DBN. We apply the Recurrent-DBN to dynamic relational data problems. The extensive experiment results on real-world data validate the advantages of the Recurrent-DBN over the state-of-the-art models in interpretable latent structure discovery and improved link prediction performance.","IsOld":true},{"Paper-ID":"ijcai/RosaCN20","Title":"Explainable Inference on Sequential Data via Memory-Tracking.","url":"https://doi.org/10.24963/ijcai.2020/278","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Biagio La Rosa","Roberto Capobianco","Daniele Nardi"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In this paper we present a novel mechanism to\\n\\nget explanations that allow to better understand\\n\\nnetwork predictions when dealing with sequential\\n\\ndata. Specifically, we adopt memory-based networks\\n\\n\u2014 Differential Neural Computers \u2014 to exploit \\n\\ntheir capability of storing data in memory and\\n\\nreusing it for inference. By tracking both the memory \\n\\naccess at prediction time, and the information\\n\\nstored by the network at each step of the input\\n\\nsequence, we can retrieve the most relevant input\\n\\nsteps associated to each prediction. We validate\\n\\nour approach (1) on a modified T-maze, which is a\\n\\nnon-Markovian discrete control task evaluating an\\n\\nalgorithm\u2019s ability to correlate events far apart in\\n\\nhistory, and (2) on the Story Cloze Test, which is\\n\\na commonsense reasoning framework for evaluating \\n\\nstory understanding that requires a system to\\n\\nchoose the correct ending to a four-sentence story.\\n\\nOur results show that we are able to explain agent\u2019s\\n\\ndecisions in (1) and to reconstruct the most relevant\\n\\nsentences used by the network to select the story\\n\\nending in (2). Additionally, we show not only that\\n\\nby removing those sentences the network prediction\\n\\nchanges, but also that the same are sufficient to\\n\\nreproduce the inference.","IsOld":true},{"Paper-ID":"ijcai/WangZ20a","Title":"Interpretable Multimodal Learning for Intelligent Regulation in Online Payment Systems.","url":"https://doi.org/10.24963/ijcai.2020/645","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Shuoyao Wang","Diwei Zhu"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"With the explosive growth of transaction activities in online payment systems, effective and real-time regulation becomes a critical problem for payment service providers. Thanks to the rapid development of artificial intelligence (AI), AI-enable regulation emerges as a promising solution. \\n\\nOne main challenge of the AI-enabled regulation is how to utilize multimedia information, i.e., multimodal signals, in Financial Technology (FinTech).\\n\\nInspired by the attention mechanism in nature language processing, we propose a novel cross-modal and intra-modal attention network (CIAN) to investigate the relation between the text and transaction.\\n\\nMore specifically, we integrate the text and transaction information to enhance the text-trade joint-embedding learning, which clusters positive pairs and push negative pairs away from each other.\\n\\nAnother challenge of intelligent regulation is the interpretability of complicated machine learning models. To sustain the requirements of financial regulation, we design a CIAN-Explainer to interpret how the attention mechanism interacts the original features, which is formulated as a low-rank matrix approximation problem.\\n\\nWith the real datasets from the largest online payment system, WeChat Pay of Tencent, we conduct experiments to validate the practical application value of CIAN, where our method outperforms the state-of-the-art methods.","IsOld":true},{"Paper-ID":"ijcai/WuRYWN20","Title":"Evidence-Aware Hierarchical Interactive Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.24963/ijcai.2020/193","Year":"2020","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Lianwei Wu","Yuan Rao","Xiong Yang","Wanzhen Wang","Ambreen Nazir"],"Type of Data":["Text","Graph data","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Exploring evidence from relevant articles to confirm the veracity of claims is a trend towards explainable claim verification. However, most strategies capture the top-k check-worthy articles or salient words as evidence, but this evidence is difficult to focus on the questionable parts of unverified claims. Besides, they utilize relevant articles indiscriminately, ignoring the source credibility of these articles, which may cause quiet a few unreliable articles to interfere with the assessment results. In this paper, we propose Evidence-aware Hierarchical Interactive Attention Networks (EHIAN) by considering the capture of evidence fragments and the fusion of source credibility to explore more credible evidence semantics discussing the questionable parts of claims for explainable claim verification. EHIAN first designs internal interaction layer (IIL) to strengthen deep interaction and matching between claims and relevant articles for obtaining key evidence fragments, and then proposes global inference layer (GIL) that fuses source features of articles and interacts globally with the average semantics of all articles and finally earns the more credible evidence semantics discussing the questionable parts of claims. Experiments on two datasets demonstrate that EHIAN not only achieves the state-of-the-art performance but also secures effective evidence to explain the results.","IsOld":true},{"Paper-ID":"kdd/GuoZQWSY20","Title":"Interpretable Deep Graph Generation with Node-edge Co-disentanglement.","url":"https://doi.org/10.1145/3394486.3403221","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Xiaojie Guo","Liang Zhao","Zhao Qin","Lingfei Wu","Amarda Shehu","Yanfang Ye"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Disentangled representation learning has recently attracted a significant amount of attention, particularly in the field of image representation learning. However, learning the disentangled representations behind a graph remains largely unexplored, especially for the attributed graph with both node and edge features. Disentanglement learning for graph generation has substantial new challenges including 1) the lack of graph deconvolution operations to jointly decode node and edge attributes; and 2) the difficulty in enforcing the disentanglement among latent factors that respectively influence: i) only nodes, ii) only edges, and iii) joint patterns between them. To address these challenges, we propose a new disentanglement enhancement framework for deep generative models for attributed graphs. In particular, a novel variational objective is proposed to disentangle the above three types of latent factors, with novel architecture for node and edge deconvolutions. Qualitative and quantitative experiments on both synthetic and real-world datasets demonstrate the effectiveness of the proposed model and its extensions.","IsOld":true},{"Paper-ID":"kdd/LancianoBG20","Title":"Explainable Classification of Brain Networks via Contrast Subgraphs.","url":"https://doi.org/10.1145/3394486.3403383","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Tommaso Lanciano","Francesco Bonchi","Aristides Gionis"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot","Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Mining human-brain networks to discover patterns that can be used to discriminate between healthy individuals and patients affected by some neurological disorder, is a fundamental task in neuro-science. Learning simple and interpretable models is as important as mere classification accuracy. In this paper we introduce a novel approach for classifying brain networks based on extracting contrast subgraphs, i.e., a set of vertices whose induced subgraphs are dense in one class of graphs and sparse in the other. We formally define the problem and present an algorithmic solution for extracting contrast subgraphs. We then apply our method to a brain-network dataset consisting of children affected by Autism Spectrum Disorder and children Typically Developed. Our analysis confirms the interestingness of the discovered patterns, which match background knowledge in the neuro-science literature. Further analysis on other classification tasks confirm the simplicity, soundness, and high explainability of our proposal, which also exhibits superior classification accuracy, to more complex state-of-the-art methods.","IsOld":true},{"Paper-ID":"kdd/LeW020","Title":"GRACE - Generating Concise and Informative Contrastive Sample to Explain Neural Network Model\'s Prediction.","url":"https://doi.org/10.1145/3394486.3403066","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Thai Le","Suhang Wang","Dongwon Lee"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite the recent development in the topic of explainable AI/ML for image and text data, the majority of current solutions are not suitable to explain the prediction of neural network models when the datasets are tabular and their features are in high-dimensional vectorized formats. To mitigate this limitation, therefore, we borrow two notable ideas (i.e., \\"explanation by intervention\\" from causality and \\"explanation are contrastive\\" from philosophy) and propose a novel solution, named as GRACE, that better explains neural network models\' predictions for tabular datasets. In particular, given a model\'s prediction as label X, GRACE intervenes and generates a minimally-modified contrastive sample to be classified as Y, with an intuitive textual explanation, answering the question of \\"Why X rather than Y?\\" We carry out comprehensive experiments using eleven public datasets of different scales and domains (e.g., # of features ranges from 5 to 216) and compare GRACE with competing baselines on different measures: fidelity, conciseness, info-gain, and influence. The user-studies show that our generated explanation is not only more intuitive and easy-to-understand but also facilitates end-users to make as much as 60% more accurate post-explanation decisions than that of Lime.","IsOld":true},{"Paper-ID":"kdd/LiangBCBW20","Title":"Adversarial Infidelity Learning for Model Interpretation.","url":"https://doi.org/10.1145/3394486.3403071","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Jian Liang","Bing Bai","Yuren Cao","Kun Bai","Fei Wang"],"Type of Data":["Images","Text","Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Model interpretation is essential in data mining and knowledge discovery. It can help understand the intrinsic model working mechanism and check if the model has undesired characteristics. A popular way of performing model interpretation is Instance-wise Feature Selection (IFS), which provides an importance score of each feature representing the data samples to explain how the model generates the specific output. In this paper, we propose a Model-agnostic Effective Efficient Direct (MEED) IFS framework for model interpretation, mitigating concerns about sanity, combinatorial shortcuts, model identifiability, and information transmission. Also, we focus on the following setting: using selected features to directly predict the output of the given model, which serves as a primary evaluation metric for model-interpretation methods. Apart from the features, we involve the output of the given model as an additional input to learn an explainer based on more accurate information. To learn the explainer, besides fidelity, we propose an Adversarial Infidelity Learning (AIL) mechanism to boost the explanation learning by screening relatively unimportant features. Through theoretical and experimental analysis, we show that our AIL mechanism can help learn the desired conditional distribution between selected features and targets. Moreover, we extend our framework by integrating efficient interpretation methods as proper priors to provide a warm start. Comprehensive empirical evaluation results are provided by quantitative metrics and human evaluation to demonstrate the effectiveness and superiority of our proposed method. Our code is publicly available online at https://github.com/langlrsw/MEED.","IsOld":true},{"Paper-ID":"kdd/TangLSSMW20","Title":"Knowing your FATE - Friendship, Action and Temporal Explanations for User Engagement Prediction on Social Apps.","url":"https://doi.org/10.1145/3394486.3403276","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Xianfeng Tang","Yozen Liu","Neil Shah","Xiaolin Shi","Prasenjit Mitra","Suhang Wang"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"With the rapid growth and prevalence of social network applications (Apps) in recent years, understanding user engagement has become increasingly important, to provide useful insights for future App design and development. While several promising neural modeling approaches were recently pioneered for accurate user engagement prediction, their black-box designs are unfortunately limited in model explainability. In this paper, we study a novel problem of explainable user engagement prediction for social network Apps. First, we propose a flexible definition of user engagement for various business scenarios, based on future metric expectations. Next, we design an end-to-end neural framework, FATE, which incorporates three key factors that we identify to influence user engagement, namely friendships, user actions, and temporal dynamics to achieve explainable engagement predictions. FATE is based on a tensor-based graph neural network (GNN), LSTM and a mixture attention mechanism, which allows for (a) predictive explanations based on learned weights across different feature categories, (b) reduced network complexity, and (c) improved performance in both prediction accuracy and training/inference time. We conduct extensive experiments on two large-scale datasets from Snapchat, where FATE outperforms state-of-the-art approaches by 10% error and 20% runtime reduction. We also evaluate explanations from FATE, showing strong quantitative and qualitative performance.","IsOld":true},{"Paper-ID":"kdd/YuanTHJ20","Title":"XGNN - Towards Model-Level Explanations of Graph Neural Networks.","url":"https://doi.org/10.1145/3394486.3403085","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Hao Yuan","Jiliang Tang","Xia Hu","Shuiwang Ji"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Graphs neural networks (GNNs) learn node features by aggregating and combining neighbor information, which have achieved promising performance on many graph tasks. However, GNNs are mostly treated as black-boxes and lack human intelligible explanations. Thus, they cannot be fully trusted and used in certain application domains if GNN models cannot be explained. In this work, we propose a novel approach, known as XGNN, to interpret GNNs at the model-level. Our approach can provide high-level insights and generic understanding of how GNNs work. In particular, we propose to explain GNNs by training a graph generator so that the generated graph patterns maximize a certain prediction of the model. We formulate the graph generation as a reinforcement learning task, where for each step, the graph generator predicts how to add an edge into the current graph. The graph generator is trained via a policy gradient method based on information from the trained GNNs. In addition, we incorporate several graph rules to encourage the generated graphs to be valid. Experimental results on both synthetic and real-world datasets show that our proposed methods help understand and verify the trained GNNs. Furthermore, our experimental results indicate that the generated graphs can provide guidance on how to improve the trained GNNs.","IsOld":true},{"Paper-ID":"kdd/ZhangQ0LCZD20","Title":"INPREM - An Interpretable and Trustworthy Predictive Model for Healthcare.","url":"https://doi.org/10.1145/3394486.3403087","Year":"2020","Venue":{"isOld":true,"value":"KDD"},"Authors":["Xianli Zhang","Buyue Qian","Shilei Cao","Yang Li","Hang Chen","Yefeng Zheng","Ian Davidson"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Building a predictive model based on historical Electronic Health Records (EHRs) for personalized healthcare has become an active research area. Benefiting from the powerful ability of feature extraction, deep learning (DL) approaches have achieved promising performance in many clinical prediction tasks. However, due to the lack of interpretability and trustworthiness, it is difficult to apply DL in real clinical cases of decision making. To address this, in this paper, we propose an interpretable and trustworthy predictive model~(INPREM) for healthcare. Firstly, INPREM is designed as a linear model for interpretability while encoding non-linear relationships into the learning weights for modeling the dependencies between and within each visit. This enables us to obtain the contribution matrix of the input variables, which is served as the evidence of the prediction result(s), and help physicians understand why the model gives such a prediction, thereby making the model more interpretable. Secondly, for trustworthiness, we place a random gate (which follows a Bernoulli distribution to turn on or off) over each weight of the model, as well as an additional branch to estimate data noises. With the help of the Monto Carlo sampling and an objective function accounting for data noises, the model can capture the uncertainty of each prediction. The captured uncertainty, in turn, allows physicians to know how confident the model is, thus making the model more trustworthy. We empirically demonstrate that the proposed INPREM outperforms existing approaches with a significant margin. A case study is also presented to show how the contribution matrix and the captured uncertainty are used to assist physicians in making robust decisions.","IsOld":true},{"Paper-ID":"nips/0001GCIN20","Title":"Explaining Naive Bayes and Other Linear Classifiers with Polynomial Time and Delay.","url":"https://proceedings.neurips.cc/paper/2020/hash/eccd2a86bae4728b38627162ba297828-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Jo\xe3o Marques-Silva","Thomas Gerspacher","Martin C. Cooper","Alexey Ignatiev","Nina Narodytska"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ArikLYSELM0ZNSN20","Title":"Interpretable Sequence Learning for Covid-19 Forecasting.","url":"https://proceedings.neurips.cc/paper/2020/hash/d9dbc51dc534921589adf460c85cd824-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Sercan \xd6mer Arik","Chun-Liang Li","Jinsung Yoon","Rajarishi Sinha","Arkady Epshteyn","Long T. Le","Vikas Menon","Shashank Singh","Leyou Zhang","Martin Nikoltchev","Yash Sonthalia","Hootan Nakhost","Elli Kanal","Tomas Pfister"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/BassSSTSR20","Title":"ICAM - Interpretable Classification via Disentangled Representations and Feature Attribution Mapping.","url":"https://proceedings.neurips.cc/paper/2020/hash/56f9f88906aebf4ad985aaec7fa01313-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Cher Bass","Mariana da Silva","Carole H. Sudre","Petru-Daniel Tudosiu","Stephen M. Smith","Emma C. Robinson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/CrabbeZZS20","Title":"Learning outside the Black-Box - The pursuit of interpretable models.","url":"https://proceedings.neurips.cc/paper/2020/hash/ce758408f6ef98d7c7a7b786eca7b3a8-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Jonathan Crabb\xe9","Yao Zhang","William R. Zame","Mihaela van der Schaar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/FryeRF20","Title":"Asymmetric Shapley values - incorporating causal knowledge into model-agnostic explainability.","url":"https://proceedings.neurips.cc/paper/2020/hash/0d770c496aa3da6d2c3f2bd19e7b9d6b-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Christopher Frye","Colin Rowat","Ilya Feige"],"Type of Data":["Tabular / structured","Time series","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/HarkonenHLP20","Title":"GANSpace - Discovering Interpretable GAN Controls.","url":"https://proceedings.neurips.cc/paper/2020/hash/6fe43269967adbb64ec6149852b5cc3e-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Erik H\xe4rk\xf6nen","Aaron Hertzmann","Jaakko Lehtinen","Sylvain Paris"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/HeskesSBC20","Title":"Causal Shapley Values - Exploiting Causal Knowledge to Explain Individual Predictions of Complex Models.","url":"https://proceedings.neurips.cc/paper/2020/hash/32e54441e6382a7fbacbbbaf3c450059-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Tom Heskes","Evi Sijben","Ioan Gabriel Bucur","Tom Claassen"],"Type of Data":["Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/JainVMLTH20","Title":"Interpretable multi-timescale models for predicting fMRI responses to continuous natural speech.","url":"https://proceedings.neurips.cc/paper/2020/hash/9e9a30b74c49d07d8150c8c83b1ccf07-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Shailee Jain","Vy A. Vo","Shivangi Mahto","Amanda LeBel","Javier S. Turek","Alexander Huth"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/LuoCXYZC020","Title":"Parameterized Explainer for Graph Neural Network.","url":"https://proceedings.neurips.cc/paper/2020/hash/e37b08dd3015330dcbb5d6663667b8b8-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Dongsheng Luo","Wei Cheng","Dongkuan Xu","Wenchao Yu","Bo Zong","Haifeng Chen","Xiang Zhang"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/MuA20","Title":"Compositional Explanations of Neurons.","url":"https://proceedings.neurips.cc/paper/2020/hash/c74956ffb38ba48ed6ce977af6727275-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Jesse Mu","Jacob Andreas"],"Type of Data":["Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/OShaughnessyCCR20","Title":"Generative causal explanations of black-box classifiers.","url":"https://proceedings.neurips.cc/paper/2020/hash/3a93a609b97ec0ab0ff5539eb79ef33a-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["\\"Matthew R. OShaughnessy\\"","Gregory Canal","Marissa Connor","Christopher Rozell","Mark A. Davenport"],"Type of Data":["Images","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Graph","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/PedapatiBSD20","Title":"Learning Global Transparent Models consistent with Local Contrastive Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/24aef8cb3281a2422a59b51659f1ad2e-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Tejaswini Pedapati","Avinash Balakrishnan","Karthikeyan Shanmugam","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/RamamurthyVZD20","Title":"Model Agnostic Multilevel Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/426f990b332ef8193a61cc90516c1245-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Karthikeyan Natesan Ramamurthy","Bhanukiran Vinzamuri","Yunfeng Zhang","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/RawalL20","Title":"Beyond Individualized Recourse - Interpretable and Interactive Summaries of Actionable Recourses.","url":"https://proceedings.neurips.cc/paper/2020/hash/8ee7730e97c67473a424ccfeff49ab20-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Kaivalya Rawal","Himabindu Lakkaraju"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/TsangR020","Title":"How does This Interaction Affect Me? Interpretable Attribution for Feature Interactions.","url":"https://proceedings.neurips.cc/paper/2020/hash/443dec3062d0286986e21dc0631734c9-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Michael Tsang","Sirisha Rambhatla","Yan Liu"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/TsengSK20","Title":"Fourier-transform-based attribution priors improve the interpretability and stability of deep learning models for genomics.","url":"https://proceedings.neurips.cc/paper/2020/hash/1487987e862c44b91a0296cf3866387e-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Alex Tseng","Avanti Shrikumar","Anshul Kundaje"],"Type of Data":["Any","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/Yau0H20","Title":"What Did You Think Would Happen? Explaining Agent Behaviour through Intended Outcomes.","url":"https://proceedings.neurips.cc/paper/2020/hash/d5ab8dc7ef67ca92e41d730982c5c602-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Herman Yau","Chris Russell","Simon Hadfield"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/YehKALPR20","Title":"On Completeness-aware Concept-Based Explanations in Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/ecb287ff763c169694f682af52c1f309-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Chih-Kuan Yeh","Been Kim","Sercan \xd6mer Arik","Chun-Liang Li","Tomas Pfister","Pradeep Ravikumar"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ZhouW20","Title":"Learning identifiable and interpretable latent models of high-dimensional neural activity using pi-VAE.","url":"https://proceedings.neurips.cc/paper/2020/hash/510f2318f324cf07fce24c3a4b89c771-Abstract.html","Year":"2020","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Ding Zhou","Xue-Xin Wei"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/ChenYYH0020","Title":"Try This Instead - Personalized and Interpretable Substitute Recommendation.","url":"https://doi.org/10.1145/3397271.3401042","Year":"2020","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Tong Chen","Hongzhi Yin","Guanhua Ye","Zi Huang","Yang Wang","Meng Wang"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"As a fundamental yet significant process in personalized recommendation, candidate generation and suggestion effectively help users spot the most suitable items for them. Consequently, identifying substitutable items that are interchangeable opens up new opportunities to refine the quality of generated candidates. When a user is browsing a specific type of product (e.g., a laptop) to buy, the accurate recommendation of substitutes (e.g., better equipped laptops) can offer the user more suitable options to choose from, thus substantially increasing the chance of a successful purchase. However, existing methods merely treat this problem as mining pairwise item relationships without the consideration of users\' personal preferences. Moreover, the substitutable relationships are implicitly identified through the learned latent representations of items, leading to uninterpretable recommendation results. In this paper, we propose attribute-aware collaborative filtering (A2CF) to perform substitute recommendation by addressing issues from both personalization and interpretability perspectives. In A2CF, instead of directly modelling user-item interactions, we extract explicit and polarized item attributes from user reviews with sentiment analysis, whereafter the representations of attributes, users, and items are simultaneously learned. Then, by treating attributes as the bridge between users and items, we can thoroughly model the user-item preferences (i.e., personalization) and item-item relationships (i.e., substitution) for recommendation. In addition, A2CF is capable of generating intuitive interpretations by analyzing which attributes a user currently cares the most and comparing the recommended substitutes with her/his currently browsed items at an attribute level. The recommendation effectiveness and interpretation quality of A2CF are further demonstrated via extensive experiments on three real-life datasets.","IsOld":true},{"Paper-ID":"sigir/QuAW20","Title":"Towards Explainable Retrieval Models for Precision Medicine Literature Search.","url":"https://doi.org/10.1145/3397271.3401277","Year":"2020","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Jiaming Qu","Jaime Arguello","Yue Wang"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In professional search tasks such as precision medicine literature search, queries often involve multiple aspects. To assess the relevance of a document, a searcher often painstakingly validates each aspect in the query and follows a task-specific logic to make a relevance decision. In such scenarios, we say the searcher makes a structured relevance judgment, as opposed to the traditional univariate (binary or graded) relevance judgment. Ideally, a search engine can support searcher\'s workflow and follow the same steps to predict document relevance. This approach may not only yield highly effective retrieval models, but also open up opportunities for the model to explain its decision in the same \\"lingo\\" as the searcher. Using structured relevance judgment data from the TREC Precision Medicine track, we propose novel retrieval models that emulate how medical experts make structured relevance judgments. Our experiments demonstrate that these simple, explainable models can outperform complex, black-box learning-to-rank models.","IsOld":true},{"Paper-ID":"sigir/YangZWL020","Title":"Neural Concept Map Generation for Effective Document Classification with Interpretable Structured Summarization.","url":"https://doi.org/10.1145/3397271.3401312","Year":"2020","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Carl Yang","Jieyu Zhang","Haonan Wang","Bangzheng Li","Jiawei Han"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Concept maps provide concise structured representations for documents regarding their important concepts and interaction links, which have been widely used for document summarization and downstream tasks. However, the construction of concept maps often relies heavily on heuristic design and auxiliary tools. Recent popular neural network models, on the other hand, are shown effective in tasks across various domains, but are short in interpretability and prone to overfitting. In this work, we bridge the gap between concept map construction and neural network models, by designing doc2graph, a novel weakly-supervised text-to-graph neural network, which generates concept maps in the middle and is trained towards document-level tasks like document classification. In our experiments, doc2graph outperforms both its traditional baselines and neural counterparts by significant margins in document classification, while producing high-quality interpretable concept maps as document structured summarization.","IsOld":true},{"Paper-ID":"www/LiJC0WL20","Title":"Directional and Explainable Serendipity Recommendation.","url":"https://doi.org/10.1145/3366423.3380100","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Xueqi Li","Wenjun Jiang","Weiguang Chen","Jie Wu","Guojun Wang","Kenli Li"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Serendipity recommendation has attracted more and more attention in recent years; it is committed to providing recommendations which could not only cater to users\u2019 demands but also broaden their horizons. However, existing approaches usually measure user-item relevance with a scalar instead of a vector, ignoring user preference direction, which increases the risk of unrelated recommendations. In addition, reasonable explanations increase users\u2019 trust and acceptance, but there is no work to provide explanations for serendipitous recommendations. To address these limitations, we propose a Directional and Explainable Serendipity Recommendation method named DESR. Specifically, we extract users\u2019 long-term preferences with an unsupervised method based on GMM (Gaussian Mixture Model) and capture their short-term demands with the capsule network at first. Then, we propose the serendipity vector to combine long-term preferences with short-term demands and generate directionally serendipitous recommendations with it. Finally, a back-routing scheme is exploited to offer explanations. Extensive experiments on real-world datasets show that DESR could effectively improve the serendipity and explainability, and give impetus to the diversity, compared with existing serendipity-based methods.","IsOld":true},{"Paper-ID":"www/MathewSLS20","Title":"The POLAR Framework - Polar Opposites Enable Interpretability of Pre-Trained Word Embeddings.","url":"https://doi.org/10.1145/3366423.3380227","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Binny Mathew","Sandipan Sikdar","Florian Lemmerich","Markus Strohmaier"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We introduce \u2018POLAR\u2019 \u2014 a framework that adds interpretability to pre-trained word embeddings via the adoption of semantic differentials. Semantic differentials are a psychometric construct for measuring the semantics of a word by analysing its position on a scale between two polar opposites (e.g., cold \u2013 hot, soft \u2013 hard). The core idea of our approach is to transform existing, pre-trained word embeddings via semantic differentials to a new \u201cpolar\u201d space with interpretable dimensions defined by such polar opposites. Our framework also allows for selecting the most discriminative dimensions from a set of polar dimensions provided by an oracle, i.e., an external source. We demonstrate the effectiveness of our framework by deploying it to various downstream tasks, in which our interpretable word embeddings achieve a performance that is comparable to the original word embeddings. We also show that the interpretable dimensions selected by our framework align with human judgement. Together, these results demonstrate that interpretability can be added to word embeddings without compromising performance. Our work is relevant for researchers and engineers interested in interpreting pre-trained word embeddings.","IsOld":true},{"Paper-ID":"www/NaumzikZF20","Title":"Mining Points-of-Interest for Explaining Urban Phenomena - A Scalable Variational Inference Approach.","url":"https://doi.org/10.1145/3366423.3380298","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Christof Naumzik","Patrick Zoechbauer","Stefan Feuerriegel"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Feature plot","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Points-of-interest (POIs; i.e., restaurants, bars, landmarks, and other entities) are common in web-mined data: they greatly explain the spatial distributions of urban phenomena. The conventional modeling approach relies upon feature engineering, yet it ignores the spatial structure among POIs. In order to overcome this shortcoming, the present paper proposes a novel spatial model for explaining spatial distributions based on web-mined POIs. Our key contributions are: (1) We present a rigorous yet highly interpretable formalization in order to model the influence of POIs on a given outcome variable. Specifically, we accommodate the spatial distributions of both the outcome and POIs. In our case, this modeled by the sum of latent Gaussian processes. (2) In contrast to previous literature, our model infers the influence of POIs without feature engineering, instead we model the influence of POIs via distance-weighted kernel functions with fully learnable parameterizations. (3) We propose a scalable learning algorithm based on sparse variational approximation. For this purpose, we derive a tailored evidence lower bound (ELBO) and, for appropriate likelihoods, we even show that an analytical expression can be obtained. This allows fast and accurate computation of the ELBO. Finally, the value of our approach for web mining is demonstrated in two real-world case studies. Our findings provide substantial improvements over state-of-the-art baselines with regard to both predictive and, in particular, explanatory performance. Altogether, this yields a novel spatial model for leveraging web-mined POIs. Within the context of location-based social networks, it promises an extensive range of new insights and use cases.","IsOld":true},{"Paper-ID":"www/PawelczykBK20","Title":"Learning Model-Agnostic Counterfactual Explanations for Tabular Data.","url":"https://doi.org/10.1145/3366423.3380087","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Martin Pawelczyk","Klaus Broelemann","Gjergji Kasneci"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Counterfactual explanations can be obtained by identifying the smallest change made to an input vector to influence a prediction in a positive way from a user\u2019s viewpoint; for example, from \u2019loan rejected\u2019 to \u2019awarded\u2019 or from \u2019high risk of cardiovascular disease\u2019 to \u2019low risk\u2019. Previous approaches would not ensure that the produced counterfactuals be proximate (i.e., not local outliers) and connected to regions with substantial data density (i.e., close to correctly classified observations), two requirements known as counterfactual faithfulness. Our contribution is twofold. First, drawing ideas from the manifold learning literature, we develop a framework, called C-CHVAE, that generates faithful counterfactuals. Second, we suggest to complement the catalog of counterfactual quality measures using a criterion to quantify the degree of difficulty for a certain counterfactual suggestion. Our real world experiments suggest that faithful counterfactuals come at the cost of higher degrees of difficulty.","IsOld":true},{"Paper-ID":"www/SunWZFHW20","Title":"Dual Learning for Explainable Recommendation - Towards Unifying User Preference Prediction and Review Generation.","url":"https://doi.org/10.1145/3366423.3380164","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Peijie Sun","Le Wu","Kun Zhang","Yanjie Fu","Richang Hong","Meng Wang"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In many recommender systems, users express item opinions through two kinds of behaviors: giving preferences and writing detailed reviews. As both kinds of behaviors reflect users\u2019 assessment of items, review enhanced recommender systems leverage these two kinds of user behaviors to boost recommendation performance. On the one hand, researchers proposed to better model the user and item embeddings with additional review information for enhancing preference prediction accuracy. On the other hand, some recent works focused on automatically generating item reviews for recommendation explanations with related user and item embeddings. We argue that, while the task of preference prediction with the accuracy goal is well recognized in the community, the task of generating reviews for explainable recommendation is also important to gain user trust and increase conversion rate. Some preliminary attempts have considered jointly modeling these two tasks, with the user and item embeddings are shared. These studies empirically showed that these two tasks are correlated, and jointly modeling them would benefit the performance of both tasks. In this paper, we make a further study of unifying these two tasks for explainable recommendation. Instead of simply correlating these two tasks with shared user and item embeddings, we argue that these two tasks are presented in dual forms. In other words, the input of the primal preference prediction task is exactly the output of the dual review generation task , with and denote the preference value space and review space. Therefore, we could explicitly model the probabilistic correlation between these two dual tasks with . We design a unified dual framework of how to inject the probabilistic duality of the two tasks in the training stage. Furthermore, as the detailed preference and review information are not available for each user-item pair in the test stage, we propose a transfer learning based model for preference prediction and review generation. Finally, extensive experimental results on two real-world datasets clearly show the effectiveness of our proposed model for both user preference prediction and review generation.","IsOld":true},{"Paper-ID":"www/WangZZSP20","Title":"DyCRS - Dynamic Interpretable Postoperative Complication Risk Scoring.","url":"https://doi.org/10.1145/3366423.3380253","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Wen Wang","Han Zhao","Honglei Zhuang","Nirav Shah","Rema Padman"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Early identification of patients at risk for postoperative complications can facilitate timely workups and treatments and improve health outcomes. Currently, a widely-used surgical risk calculator online web system developed by the American College of Surgeons (ACS) uses patients\u2019 static features, e.g. gender, age, to assess the risk of postoperative complications. However, the most crucial signals that reflect the actual postoperative physical conditions of patients are usually real-time dynamic signals, including the vital signs of patients (e.g., heart rate, blood pressure) collected from postoperative monitoring. In this paper, we develop a dynamic postoperative complication risk scoring framework (DyCRS) to detect the \u201cat-risk\u201d patients in a real-time way based on postoperative sequential vital signs and static features. DyCRS is based on adaptations of the Hidden Markov Model (HMM) that captures hidden states as well as observable states to generate a real-time, probabilistic, complication risk score. Evaluating our model using electronic health record (EHR) on elective Colectomy surgery from a major health system, we show that DyCRS significantly outperforms the state-of-the-art ACS calculator and real-time predictors with 50.16% area under precision-recall curve (AUCPRC) gain on average in terms of detection effectiveness. In terms of earliness, our DyCRS can predict 15hrs55mins earlier on average than clinician\u2019s diagnosis with the recall of 60% and precision of 55%. Furthermore, Our DyCRS can extract interpretable patients\u2019 stages, which are consistent with previous medical postoperative complication studies. We believe that our contributions demonstrate significant promise for developing a more accurate, robust and interpretable postoperative complication risk scoring system, which can benefit more than 50 million annual surgeries in the US by substantially lowering adverse events and healthcare costs.","IsOld":true},{"Paper-ID":"www/ZhuXSZCGH20","Title":"Modeling Users\' Behavior Sequences with Hierarchical Explainable Network for Cross-domain Fraud Detection.","url":"https://doi.org/10.1145/3366423.3380172","Year":"2020","Venue":{"isOld":true,"value":"WWW"},"Authors":["Yongchun Zhu","Dongbo Xi","Bowen Song","Fuzhen Zhuang","Shuai Chen","Xi Gu","Qing He"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"With the explosive growth of the e-commerce industry, detecting online transaction fraud in real-world applications has become increasingly important to the development of e-commerce platforms. The sequential behavior history of users provides useful information in differentiating fraudulent payments from regular ones. Recently, some approaches have been proposed to solve this sequence-based fraud detection problem. However, these methods usually suffer from two problems: the prediction results are difficult to explain and the exploitation of the internal information of behaviors is insufficient. To tackle the above two problems, we propose a Hierarchical Explainable Network (HEN) to model users\u2019 behavior sequences, which could not only improve the performance of fraud detection but also make the inference process interpretable. Meanwhile, as e-commerce business expands to new domains, e.g., new countries or new markets, one major problem for modeling user behavior in fraud detection systems is the limitation of data collection, e.g., very few data/labels available. Thus, in this paper, we further propose a transfer framework to tackle the cross-domain fraud detection problem, which aims to transfer knowledge from existing domains (source domains) with enough and mature data to improve the performance in the new domain (target domain). Our proposed method is a general transfer framework that could not only be applied upon HEN but also various existing models in the Embedding & MLP paradigm. By utilizing data from a world-leading cross-border e-commerce platform, we conduct extensive experiments in detecting card-stolen transaction frauds in different countries to demonstrate the superior performance of HEN. Besides, based on 90 transfer task experiments, we also demonstrate that our transfer framework could not only contribute to the cross-domain fraud detection task with HEN, but also be universal and expandable for various existing models. Moreover, HEN and the transfer framework form three-level attention which greatly increases the explainability of the detection results.","IsOld":true},{"Paper-ID":"aaai/AnnasamyS19","Title":"Towards Better Interpretability in Deep Q-Networks.","url":"https://doi.org/10.1609/aaai.v33i01.33014561","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Raghuram Mandyam Annasamy","Katia P. Sycara"],"Type of Data":["Images","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement","Heatmap","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep reinforcement learning techniques have demonstrated superior performance in a wide variety of environments. As improvements in training algorithms continue at a brisk pace, theoretical or empirical studies on understanding what these networks seem to learn, are far behind. In this paper we propose an interpretable neural network architecture for Q-learning which provides a global explanation of the model\u2019s behavior using key-value memories, attention and reconstructible embeddings. With a directed exploration strategy, our model can reach training rewards comparable to the state-of-the-art deep Q-learning models. However, results suggest that the features extracted by the neural network are extremely shallow and subsequent testing using out-of-sample examples shows that the agent can easily overfit to trajectories seen during training.","IsOld":true},{"Paper-ID":"aaai/ChenZQ19","Title":"Dynamic Explainable Recommendation Based on Neural Attentive Models.","url":"https://doi.org/10.1609/aaai.v33i01.330153","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Xu Chen","Yongfeng Zhang","Zheng Qin"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Providing explanations in a recommender system is getting more and more attention in both industry and research communities. Most existing explainable recommender models regard user preferences as invariant to generate static explanations. However, in real scenarios, a user\u2019s preference is always dynamic, and she may be interested in different product features at different states. The mismatching between the explanation and user preference may degrade costumers\u2019 satisfaction, confidence and trust for the recommender system. \\nWith the desire to fill up this gap, in this paper, we build a novel Dynamic Explainable Recommender (called DER) for more accurate user modeling and explanations. In specific, we design a time-aware gated recurrent unit (GRU) to model user dynamic preferences, and profile an item by its review information based on sentence-level convolutional neural network (CNN). By attentively learning the important review information according to the user current state, we are not only able to improve the recommendation performance, but also can provide explanations tailored for the users\u2019 current preferences. We conduct extensive experiments to demonstrate the superiority of our model for improving recommendation performance. And to evaluate the explainability of our model, we first present examples to provide intuitive analysis on the highlighted review information, and then crowd-sourcing based evaluations are conducted to quantitatively verify our model\u2019s superiority.","IsOld":true},{"Paper-ID":"aaai/GaoWW019","Title":"Explainable Recommendation through Attentive Multi-View Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33013622","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Jingyue Gao","Xiting Wang","Yasha Wang","Xing Xie"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recommender systems have been playing an increasingly important role in our daily life due to the explosive growth of information. Accuracy and explainability are two core aspects when we evaluate a recommendation model and have become one of the fundamental trade-offs in machine learning. In this paper, we propose to alleviate the trade-off between accuracy and explainability by developing an explainable deep model that combines the advantages of deep learning-based models and existing explainable methods. The basic idea is to build an initial network based on an explainable deep hierarchy (e.g., Microsoft Concept Graph) and improve the model accuracy by optimizing key variables in the hierarchy (e.g., node importance and relevance). To ensure accurate rating prediction, we propose an attentive multi-view learning framework. The framework enables us to handle sparse and noisy data by co-regularizing among different feature levels and combining predictions attentively. To mine readable explanations from the hierarchy, we formulate personalized explanation generation as a constrained tree node selection problem and propose a dynamic programming algorithm to solve it. Experimental results show that our model outperforms state-of-the-art methods in terms of both accuracy and explainability.","IsOld":true},{"Paper-ID":"aaai/HeLSB19","Title":"Interpretable Predictive Modeling for Climate Variables with Weighted Lasso.","url":"https://doi.org/10.1609/aaai.v33i01.33011385","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Sijie He","Xinyan Li","Vidyashankar Sivakumar","Arindam Banerjee"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"An important family of problems in climate science focus on finding predictive relationships between various climate variables. In this paper, we consider the problem of predicting monthly deseasonalized land temperature at different locations worldwide based on sea surface temperature (SST). Contrary to popular belief on the trade-off between (a) simple interpretable but inaccurate models and (b) complex accurate but uninterpretable models, we introduce a weighted Lasso model for the problem which yields interpretable results while being highly accurate. Covariate weights in the regularization of weighted Lasso are pre-determined, and proportional to the spatial distance of the covariate (sea surface location) from the target (land location). We establish finite sample estimation error bounds for weighted Lasso, and illustrate its superior empirical performance and interpretability over complex models such as deep neural networks (Deep nets) and gradient boosted trees (GBT). We also present a detailed empirical analysis of what went wrong with Deep nets here, which may serve as a helpful guideline for application of Deep nets to small sample scientific problems.","IsOld":true},{"Paper-ID":"aaai/IgnatievNM19","Title":"Abduction-Based Explanations for Machine Learning Models.","url":"https://doi.org/10.1609/aaai.v33i01.33011511","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Alexey Ignatiev","Nina Narodytska","Jo\xe3o Marques-Silva"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The growing range of applications of Machine Learning (ML) in a multitude of settings motivates the ability of computing small explanations for predictions made. Small explanations are generally accepted as easier for human decision makers to understand. Most earlier work on computing explanations is based on heuristic approaches, providing no guarantees of quality, in terms of how close such solutions are from cardinality- or subset-minimal explanations. This paper develops a constraint-agnostic solution for computing explanations for any ML model. The proposed solution exploits abductive reasoning, and imposes the requirement that the ML model can be represented as sets of constraints using some target constraint reasoning system for which the decision problem can be answered with some oracle. The experimental results, obtained on well-known datasets, validate the scalability of the proposed approach as well as the quality of the computed solutions.","IsOld":true},{"Paper-ID":"aaai/LanG19","Title":"Accurate and Interpretable Factorization Machines.","url":"https://doi.org/10.1609/aaai.v33i01.33014139","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Liang Lan","Yu Geng"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Factorization Machines (FMs), a general predictor that can efficiently model high-order feature interactions, have been widely used for regression, classification and ranking problems. However, despite many successful applications of FMs, there are two main limitations of FMs: (1) FMs consider feature interactions among input features by using only polynomial expansion which fail to capture complex nonlinear patterns in data. (2) Existing FMs do not provide interpretable prediction to users. In this paper, we present a novel method named Subspace Encoding Factorization Machines (SEFM) to overcome these two limitations by using non-parametric subspace feature mapping. Due to the high sparsity of new feature representation, our proposed method achieves the same time complexity as the standard FMs but can capture more complex nonlinear patterns. Moreover, since the prediction score of our proposed model for a sample is a sum of contribution scores of the bins and grid cells that this sample lies in low-dimensional subspaces, it works similar like a scoring system which only involves data binning and score addition. Therefore, our proposed method naturally provides interpretable prediction. Our experimental results demonstrate that our proposed method efficiently provides accurate and interpretable prediction.","IsOld":true},{"Paper-ID":"aaai/LyuYLG19","Title":"SDRL - Interpretable and Data-Efficient Deep Reinforcement Learning Leveraging Symbolic Planning.","url":"https://doi.org/10.1609/aaai.v33i01.33012970","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Daoming Lyu","Fangkai Yang","Bo Liu","Steven Gustafson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep reinforcement learning (DRL) has gained great success by learning directly from high-dimensional sensory inputs, yet is notorious for the lack of interpretability. Interpretability of the subtasks is critical in hierarchical decision-making as it increases the transparency of black-box-style DRL approach and helps the RL practitioners to understand the high-level behavior of the system better. In this paper, we introduce symbolic planning into DRL and propose a framework of Symbolic Deep Reinforcement Learning (SDRL) that can handle both high-dimensional sensory inputs and symbolic planning. The task-level interpretability is enabled by relating symbolic actions to options.This framework features a planner \u2013 controller \u2013 meta-controller architecture, which takes charge of subtask scheduling, data-driven subtask learning, and subtask evaluation, respectively. The three components cross-fertilize each other and eventually converge to an optimal symbolic plan along with the learned subtasks, bringing together the advantages of long-term planning capability with symbolic knowledge and end-to-end reinforcement learning directly from a high-dimensional sensory input. Experimental results validate the interpretability of subtasks, along with improved data efficiency compared with state-of-the-art approaches.","IsOld":true},{"Paper-ID":"aaai/PolatoA19","Title":"Interpretable Preference Learning - A Game Theoretic Framework for Large Margin On-Line Feature and Rule Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33014723","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Mirko Polato","Fabio Aiolli"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"A large body of research is currently investigating on the connection between machine learning and game theory. In this work, game theory notions are injected into a preference learning framework. Specifically, a preference learning problem is seen as a two-players zero-sum game. An algorithm is proposed to incrementally include new useful features into the hypothesis. This can be particularly important when dealing with a very large number of potential features like, for instance, in relational learning and rule extraction. A game theoretical analysis is used to demonstrate the convergence of the algorithm. Furthermore, leveraging on the natural analogy between features and rules, the resulting models can be easily interpreted by humans. An extensive set of experiments on classification tasks shows the effectiveness of the proposed method in terms of interpretability and feature selection quality, with accuracy at the state-of-the-art.","IsOld":true},{"Paper-ID":"aaai/ShakerinG19","Title":"Induction of Non-Monotonic Logic Programs to Explain Boosted Tree Models Using LIME.","url":"https://doi.org/10.1609/aaai.v33i01.33013052","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Farhad Shakerin","Gopal Gupta"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We present a heuristic based algorithm to induce nonmonotonic logic programs that will explain the behavior of XGBoost trained classifiers. We use the technique based on the LIME approach to locally select the most important features contributing to the classification decision. Then, in order to explain the model\u2019s global behavior, we propose the LIME-FOLD algorithm \u2014a heuristic-based inductive logic programming (ILP) algorithm capable of learning nonmonotonic logic programs\u2014that we apply to a transformed dataset produced by LIME. Our proposed approach is agnostic to the choice of the ILP algorithm. Our experiments with UCI standard benchmarks suggest a significant improvement in terms of classification evaluation metrics. Meanwhile, the number of induced rules dramatically decreases compared to ALEPH, a state-of-the-art ILP system.","IsOld":true},{"Paper-ID":"aaai/SilvaFH19","Title":"Exploring Knowledge Graphs in an Interpretable Composite Approach for Text Entailment.","url":"https://doi.org/10.1609/aaai.v33i01.33017023","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Vivian Dos Santos Silva","Andr\xe9 Freitas","Siegfried Handschuh"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recognizing textual entailment is a key task for many semantic applications, such as Question Answering, Text Summarization, and Information Extraction, among others. Entailment scenarios can range from a simple syntactic variation to more complex semantic relationships between pieces of text, but most approaches try a one-size-fits-all solution that usually favors some scenario to the detriment of another. We propose a composite approach for recognizing text entailment which analyzes the entailment pair to decide whether it must be resolved syntactically or semantically. We also make the answer interpretable: whenever an entailment is solved semantically, we explore a knowledge base composed of structured lexical definitions to generate natural language humanlike justifications, explaining the semantic relationship holding between the pieces of text. Besides outperforming wellestablished entailment algorithms, our composite approach gives an important step towards Explainable AI, using world knowledge to make the semantic reasoning process explicit and understandable.","IsOld":true},{"Paper-ID":"aaai/TopinV19","Title":"Generation of Policy-Level Explanations for Reinforcement Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33012514","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Nicholay Topin","Manuela Veloso"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Though reinforcement learning has greatly benefited from the incorporation of neural networks, the inability to verify the correctness of such systems limits their use. Current work in explainable deep learning focuses on explaining only a single decision in terms of input features, making it unsuitable for explaining a sequence of decisions. To address this need, we introduce Abstracted Policy Graphs, which are Markov chains of abstract states. This representation concisely summarizes a policy so that individual decisions can be explained in the context of expected future transitions. Additionally, we propose a method to generate these Abstracted Policy Graphs for deterministic policies given a learned value function and a set of observed transitions, potentially off-policy transitions used during training. Since no restrictions are placed on how the value function is generated, our method is compatible with many existing reinforcement learning methods. We prove that the worst-case time complexity of our method is quadratic in the number of features and linear in the number of provided transitions, O(|F|2|tr samples|). By applying our method to a family of domains, we show that our method scales well in practice and produces Abstracted Policy Graphs which reliably capture relationships within these domains.","IsOld":true},{"Paper-ID":"aaai/WangWX00C19","Title":"Explainable Reasoning over Knowledge Graphs for Recommendation.","url":"https://doi.org/10.1609/aaai.v33i01.33015329","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Xiang Wang","Dingxian Wang","Canran Xu","Xiangnan He","Yixin Cao","Tat-Seng Chua"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Incorporating knowledge graph into recommender systems has attracted increasing attention in recent years. By exploring the interlinks within a knowledge graph, the connectivity between users and items can be discovered as paths, which provide rich and complementary information to user-item interactions. Such connectivity not only reveals the semantics of entities and relations, but also helps to comprehend a user\u2019s interest. However, existing efforts have not fully explored this connectivity to infer user preferences, especially in terms of modeling the sequential dependencies within and holistic semantics of a path.In this paper, we contribute a new model named Knowledgeaware Path Recurrent Network (KPRN) to exploit knowledge graph for recommendation. KPRN can generate path representations by composing the semantics of both entities and relations. By leveraging the sequential dependencies within a path, we allow effective reasoning on paths to infer the underlying rationale of a user-item interaction. Furthermore, we design a new weighted pooling operation to discriminate the strengths of different paths in connecting a user with an item, endowing our model with a certain level of explainability. We conduct extensive experiments on two datasets about movie and music, demonstrating significant improvements over state-of-the-art solutions Collaborative Knowledge Base Embedding and Neural Factorization Machine.","IsOld":true},{"Paper-ID":"aaai/WickramanayakeH19","Title":"FLEX - Faithful Linguistic Explanations for Neural Net Based Model Decisions.","url":"https://doi.org/10.1609/aaai.v33i01.33012539","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Sandareka Wickramanayake","Wynne Hsu","Mong-Li Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Explaining the decisions of a Deep Learning Network is imperative to safeguard end-user trust. Such explanations must be intuitive, descriptive, and faithfully explain why a model makes its decisions. In this work, we propose a framework called FLEX (Faithful Linguistic EXplanations) that generates post-hoc linguistic justifications to rationalize the decision of a Convolutional Neural Network. FLEX explains a model\u2019s decision in terms of features that are responsible for the decision. We derive a novel way to associate such features to words, and introduce a new decision-relevance metric that measures the faithfulness of an explanation to a model\u2019s reasoning. Experiment results on two benchmark datasets demonstrate that the proposed framework can generate discriminative and faithful explanations compared to state-of-the-art explanation generators. We also show how FLEX can generate explanations for images of unseen classes as well as automatically annotate objects in images.","IsOld":true},{"Paper-ID":"aaai/YuanCHJ19","Title":"Interpreting Deep Models for Text Analysis via Optimization and Regularization Methods.","url":"https://doi.org/10.1609/aaai.v33i01.33015717","Year":"2019","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Hao Yuan","Yongjun Chen","Xia Hu","Shuiwang Ji"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Interpreting deep neural networks is of great importance to understand and verify deep models for natural language processing (NLP) tasks. However, most existing approaches only focus on improving the performance of models but ignore their interpretability. In this work, we propose an approach to investigate the meaning of hidden neurons of the convolutional neural network (CNN) models. We first employ saliency map and optimization techniques to approximate the detected information of hidden neurons from input sentences. Then we develop regularization terms and explore words in vocabulary to interpret such detected information. Experimental results demonstrate that our approach can identify meaningful and reasonable interpretations for hidden spatial locations. Additionally, we show that our approach can describe the decision procedure of deep NLP models.","IsOld":true},{"Paper-ID":"acl/BastingsAT19","Title":"Interpretable Neural Predictions with Differentiable Binary Variables.","url":"https://doi.org/10.18653/v1/p19-1284","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Jasmijn Bastings","Wilker Aziz","Ivan Titov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization","Text","White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The success of neural networks comes hand in hand with a desire for more interpretability. We focus on text classifiers and make them more interpretable by having them provide a justification\u2013a rationale\u2013for their predictions. We approach this problem by jointly training two neural network models: a latent model that selects a rationale (i.e. a short and informative part of the input text), and a classifier that learns from the words in the rationale alone. Previous work proposed to assign binary latent masks to input positions and to promote short selections via sparsity-inducing penalties such as L0 regularisation. We propose a latent model that mixes discrete and continuous behaviour allowing at the same time for binary selections and gradient-based training without REINFORCE. In our formulation, we can tractably compute the expected value of penalties such as L0, which allows us to directly optimise the model towards a pre-specified text selection rate. We show that our approach is competitive with previous work on rationale extraction, and explore further uses in attention mechanisms.","IsOld":true},{"Paper-ID":"acl/JiangJCB19","Title":"Explore, Propose, and Assemble - An Interpretable Model for Multi-Hop Reading Comprehension.","url":"https://doi.org/10.18653/v1/p19-1261","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Yichen Jiang","Nitish Joshi","Yen-Chun Chen","Mohit Bansal"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Multi-hop reading comprehension requires the model to explore and connect relevant information from multiple sentences/documents in order to answer the question about the context. To achieve this, we propose an interpretable 3-module system called Explore-Propose-Assemble reader (EPAr). First, the Document Explorer iteratively selects relevant documents and represents divergent reasoning chains in a tree structure so as to allow assimilating information from all chains. The Answer Proposer then proposes an answer from every root-to-leaf path in the reasoning tree. Finally, the Evidence Assembler extracts a key sentence containing the proposed answer from every path and combines them to predict the final answer. Intuitively, EPAr approximates the coarse-to-fine-grained comprehension behavior of human readers when facing multiple long documents. We jointly optimize our 3 modules by minimizing the sum of losses from each stage conditioned on the previous stage\u2019s output. On two multi-hop reading comprehension datasets WikiHop and MedHop, our EPAr model achieves significant improvements over the baseline and competitive results compared to the state-of-the-art model. We also present multiple reasoning-chain-recovery tests and ablation studies to demonstrate our system\u2019s ability to perform interpretable and accurate reasoning.","IsOld":true},{"Paper-ID":"acl/LuZXLZX19","Title":"Constructing Interpretive Spatio-Temporal Features for Multi-Turn Responses Selection.","url":"https://doi.org/10.18653/v1/p19-1006","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Junyu Lu","Chenbin Zhang","Zeying Xie","Guang Ling","Tom Chao Zhou","Zenglin Xu"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Response selection plays an important role in fully automated dialogue systems. Given the dialogue context, the goal of response selection is to identify the best-matched next utterance (i.e., response) from multiple candidates. Despite the efforts of many previous useful models, this task remains challenging due to the huge semantic gap and also the large size of candidate set. To address these issues, we propose a Spatio-Temporal Matching network (STM) for response selection. In detail, soft alignment is first used to obtain the local relevance between the context and the response. And then, we construct spatio-temporal features by aggregating attention images in time dimension and make use of 3D convolution and pooling operations to extract matching information. Evaluation on two large-scale multi-turn response selection tasks has demonstrated that our proposed model significantly outperforms the state-of-the-art model. Particularly, visualization analysis shows that the spatio-temporal features enables matching information in segment pairs and time sequences, and have good interpretability for multi-turn text matching.","IsOld":true},{"Paper-ID":"acl/MoonSKS19","Title":"OpenDialKG - Explainable Conversational Reasoning with Attention-based Walks over Knowledge Graphs.","url":"https://doi.org/10.18653/v1/p19-1081","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Seungwhan Moon","Pararth Shah","Anuj Kumar","Rajen Subba"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We study a conversational reasoning model that strategically traverses through a large-scale common fact knowledge graph (KG) to introduce engaging and contextually diverse entities and attributes. For this study, we collect a new Open-ended Dialog <-> KG parallel corpus called OpenDialKG, where each utterance from 15K human-to-human role-playing dialogs is manually annotated with ground-truth reference to corresponding entities and paths from a large-scale KG with 1M+ facts. We then propose the DialKG Walker model that learns the symbolic transitions of dialog contexts as structured traversals over KG, and predicts natural entities to introduce given previous dialog contexts via a novel domain-agnostic, attention-based graph path decoder. Automatic and human evaluations show that our model can retrieve more natural and human-like responses than the state-of-the-art baselines or rule-based models, in both in-domain and cross-domain tasks. The proposed model also generates a KG walk path for each entity retrieved, providing a natural way to explain conversational reasoning.","IsOld":true},{"Paper-ID":"acl/PanigrahiSB19","Title":"Word2Sense - Sparse Interpretable Word Embeddings.","url":"https://doi.org/10.18653/v1/p19-1570","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Abhishek Panigrahi","Harsha Vardhan Simhadri","Chiranjib Bhattacharyya"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Representation learning","Other"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We present an unsupervised method to generate Word2Sense word embeddings that are interpretable \u2014 each dimension of the embedding space corresponds to a fine-grained sense, and the non-negative value of the embedding along the j-th dimension represents the relevance of the j-th sense to the word. The underlying LDA-based generative model can be extended to refine the representation of a polysemous word in a short context, allowing us to use the embedings in contextual tasks. On computational NLP tasks, Word2Sense embeddings compare well with other word embeddings generated by unsupervised methods. Across tasks such as word similarity, entailment, sense induction, and contextual interpretation, Word2Sense is competitive with the state-of-the-art method for that task. Word2Sense embeddings are at least as sparse and fast to compute as prior art.","IsOld":true},{"Paper-ID":"acl/RajaniMXS19","Title":"Explain Yourself! Leveraging Language Models for Commonsense Reasoning.","url":"https://doi.org/10.18653/v1/p19-1487","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Nazneen Fatema Rajani","Bryan McCann","Caiming Xiong","Richard Socher"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep learning models perform poorly on tasks that require commonsense reasoning, which often necessitates some form of world-knowledge or reasoning over information not immediately present in the input. We collect human explanations for commonsense reasoning in the form of natural language sequences and highlighted annotations in a new dataset called Common Sense Explanations (CoS-E). We use CoS-E to train language models to automatically generate explanations that can be used during training and inference in a novel Commonsense Auto-Generated Explanation (CAGE) framework. CAGE improves the state-of-the-art by 10% on the challenging CommonsenseQA task. We further study commonsense reasoning in DNNs using both human and auto-generated explanations including transfer to out-of-domain tasks. Empirical results indicate that we can effectively leverage language models for commonsense reasoning.","IsOld":true},{"Paper-ID":"acl/SydorovaPR19","Title":"Interpretable Question Answering on Knowledge Bases and Text.","url":"https://doi.org/10.18653/v1/p19-1488","Year":"2019","Venue":{"isOld":true,"value":"ACL"},"Authors":["Alona Sydorova","Nina P\xf6rner","Benjamin Roth"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Interpretability of machine learning (ML) models becomes more relevant with their increasing adoption. In this work, we address the interpretability of ML based question answering (QA) models on a combination of knowledge bases (KB) and text documents. We adapt post hoc explanation methods such as LIME and input perturbation (IP) and compare them with the self-explanatory attention mechanism of the model. For this purpose, we propose an automatic evaluation paradigm for explanation methods in the context of QA. We also conduct a study with human annotators to evaluate whether explanations help them identify better QA models. Our results suggest that IP provides better explanations than LIME or attention, according to both automatic and human evaluation. We obtain the same ranking of methods in both experiments, which supports the validity of our automatic evaluation paradigm.","IsOld":true},{"Paper-ID":"cvpr/FukuiHYF19","Title":"Attention Branch Network - Learning of Attention Mechanism for Visual Explanation.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Fukui_Attention_Branch_Network_Learning_of_Attention_Mechanism_for_Visual_Explanation_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Hiroshi Fukui","Tsubasa Hirakawa","Takayoshi Yamashita","Hironobu Fujiyoshi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Visual explanation enables humans to understand the decision making of deep convolutional neural network (CNN), but it is insufficient to contribute to improving CNN performance. In this paper, we focus on the attention map for visual explanation, which represents a high response value as the attention location in image recognition. This attention region significantly improves the performance of CNN by introducing an attention mechanism that focuses on a specific region in an image. In this work, we propose Attention Branch Network (ABN), which extends a response-based visual explanation model by introducing a branch structure with an attention mechanism. ABN can be applicable to several image recognition tasks by introducing a branch for the attention mechanism and is trainable for visual explanation and image recognition in an end-to-end manner. We evaluate ABN on several image recognition tasks such as image classification, fine-grained recognition, and multiple facial attribute recognition. Experimental results indicate that ABN outperforms the baseline models on these image recognition tasks while generating an attention map for visual explanation. Our code is available.","IsOld":true},{"Paper-ID":"cvpr/KanehiraH19","Title":"Learning to Explain With Complemental Examples.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Learning_to_Explain_With_Complemental_Examples_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Atsushi Kanehira","Tatsuya Harada"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper addresses the generation of explanations with visual examples. Given an input sample, we build a system that not only classifies it to a specific category, but also outputs linguistic explanations and a set of visual examples that render the decision interpretable. Focusing especially on the complementarity of the multimodal information, i.e., linguistic and visual examples, we attempt to achieve it by maximizing the interaction information, which provides a natural definition of complementarity from an information theoretical viewpoint. We propose a novel framework to generate complemental explanations, on which the joint distribution of the variables to explain, and those to be explained is parameterized by three different neural networks: predictor, linguistic explainer, and example selector. Explanation models are trained collaboratively to maximize the interaction information to ensure the generated explanation are complemental to each other for the target. The results of experiments conducted on several datasets demonstrate the effectiveness of the proposed method.","IsOld":true},{"Paper-ID":"cvpr/KanehiraTIH19","Title":"Multimodal Explanations by Predicting Counterfactuality in Videos.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Multimodal_Explanations_by_Predicting_Counterfactuality_in_Videos_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Atsushi Kanehira","Kentaro Takemoto","Sho Inayoshi","Tatsuya Harada"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This study addresses generating counterfactual explanations with multimodal information. Our goal is not only to classify a video into a specific category, but also to provide explanations on why it is not categorized to a specific class with combinations of visual-linguistic information. Requirements that the expected output should satisfy are referred to as counterfactuality in this paper: (1) Compatibility of visual-linguistic explanations, and (2) Positiveness/negativeness for the specific positive/negative class. Exploiting a spatio-temporal region (tube) and an attribute as visual and linguistic explanations respectively, the explanation model is trained to predict the counterfactuality for possible combinations of multimodal information in a post-hoc manner. The optimization problem, which appears during training/inference, can be efficiently solved by inserting a novel neural network layer, namely the maximum subpath layer. We demonstrated the effectiveness of this method by comparison with a baseline of the action recognition datasets extended for this task. Moreover, we provide information-theoretical insight into the proposed method.","IsOld":true},{"Paper-ID":"cvpr/PopeKRMH19","Title":"Explainability Methods for Graph Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Pope_Explainability_Methods_for_Graph_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Phillip E. Pope","Soheil Kolouri","Mohammad Rostami","Charles E. Martin","Heiko Hoffmann"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"With the growing use of graph convolutional neural networks (GCNNs) comes the need for explainability. In this paper, we introduce explainability methods for GCNNs. We develop the graph analogues of three prominent explainability methods for convolutional neural networks: contrastive gradient-based (CG) saliency maps, Class Activation Mapping (CAM), and Excitation Back-Propagation (EB) and their variants, gradient-weighted CAM (Grad-CAM) and contrastive EB (c-EB). We show a proof-of-concept of these methods on classification problems in two application domains: visual scene graphs and molecular graphs. To compare the methods, we identify three desirable properties of explanations: (1) their importance to classification, as measured by the impact of occlusions, (2) their contrastivity with respect to different classes, and (3) their sparseness on a graph. We call the corresponding quantitative metrics fidelity, contrastivity, and sparsity and evaluate them for each method. Lastly, we analyze the salient subgraphs obtained from explanations and report frequently occurring patterns.","IsOld":true},{"Paper-ID":"cvpr/ShiZL19","Title":"Explainable and Explicit Visual Reasoning Over Scene Graphs.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Shi_Explainable_and_Explicit_Visual_Reasoning_Over_Scene_Graphs_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Jiaxin Shi","Hanwang Zhang","Juanzi Li"],"Type of Data":["Images","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We aim to dismantle the prevalent black-box neural architectures used in complex visual reasoning tasks, into the proposed eXplainable and eXplicit Neural Modules (XNMs), which advance beyond existing neural module networks towards using scene graphs --- objects as nodes and the pairwise relationships as edges --- for explainable and explicit reasoning with structured knowledge. XNMs allow us to pay more attention to teach machines how to ``think\'\', regardless of what they ``look\'\'. As we will show in the paper, by using scene graphs as an inductive bias, 1) we can design XNMs in a concise and flexible fashion, i.e., XNMs merely consist of 4 meta-types, which significantly reduce the number of parameters by 10 to 100 times, and 2) we can explicitly trace the reasoning-flow in terms of graph attentions. XNMs are so generic that they support a wide range of scene graph implementations with various qualities. For example, when the graphs are detected perfectly, XNMs achieve 100% accuracy on both CLEVR and CLEVR CoGenT, establishing an empirical performance upper-bound for visual reasoning; when the graphs are noisily detected from real-world images, XNMs are still robust to achieve a competitive 67.5% accuracy on VQAv2.0, surpassing the popular bag-of-objects attention models without graph structures.","IsOld":true},{"Paper-ID":"cvpr/ZengLSSYCU19","Title":"End-To-End Interpretable Neural Motion Planner.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zeng_End-To-End_Interpretable_Neural_Motion_Planner_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Wenyuan Zeng","Wenjie Luo","Simon Suo","Abbas Sadat","Bin Yang","Sergio Casas","Raquel Urtasun"],"Type of Data":["Time series","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In this paper, we propose a neural motion planner for learning to drive autonomously in complex urban scenarios that include traffic-light handling, yielding, and interactions with multiple road-users. Towards this goal, we design a holistic model that takes as input raw LIDAR data and a HD map and produces interpretable intermediate representations in the form of 3D detections and their future trajectories, as well as a cost volume defining the goodness of each position that the self-driving car can take within the planning horizon. We then sample a set of diverse physically possible trajectories and choose the one with the minimum learned cost. Importantly, our cost volume is able to naturally capture multi-modality. We demonstrate the effectiveness of our approach in real-world driving data captured in several cities in North America. Our experiments show that the learned cost volume can generate safer planning than all the baselines.","IsOld":true},{"Paper-ID":"cvpr/ZhangYMW19","Title":"Interpreting CNNs via Decision Trees.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zhang_Interpreting_CNNs_via_Decision_Trees_CVPR_2019_paper.html","Year":"2019","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Quanshi Zhang","Yu Yang","Haotian Ma","Ying Nian Wu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree","Heatmap","Prototypes","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper aims to quantitatively explain the rationales of each prediction that is made by a pre-trained convolutional neural network (CNN). We propose to learn a decision tree, which clarifies the specific reason for each prediction made by the CNN at the semantic level. I.e., the decision tree decomposes feature representations in high conv-layers of the CNN into elementary concepts of object parts. In this way, the decision tree tells people which object parts activate which filters for the prediction and how much each object part contributes to the prediction score. Such semantic and quantitative explanations for CNN predictions have specific values beyond the traditional pixel-level analysis of CNNs. More specifically, our method mines all potential decision modes of the CNN, where each mode represents a typical case of how the CNN uses object parts for prediction. The decision tree organizes all potential decision modes in a coarse-to-fine manner to explain CNN predictions at different fine-grained levels. Experiments have demonstrated the effectiveness of the proposed method.","IsOld":true},{"Paper-ID":"iccv/ChenCHRZ19","Title":"Explaining Neural Networks Semantically and Quantitatively.","url":"https://doi.org/10.1109/ICCV.2019.00928","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Runjin Chen","Hao Chen","Ge Huang","Jie Ren","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper presents a method to pursue a semantic and quantitative explanation for the knowledge encoded in a convolutional neural network (CNN). The estimation of the specific rationale of each prediction made by the CNN presents a key issue of understanding neural networks, and it is of significant values in real applications. In this study, we propose to distill knowledge from the CNN into an explainable additive model, which explains the CNN prediction quantitatively. We discuss the problem of the biased interpretation of CNN predictions. To overcome the biased interpretation, we develop prior losses to guide the learning of the explainable additive model. Experimental results have demonstrated the effectiveness of our method.","IsOld":true},{"Paper-ID":"iccv/ManhardtA0BBNT19","Title":"Explaining the Ambiguity of Object Detection and 6D Pose From Visual Data.","url":"https://doi.org/10.1109/ICCV.2019.00694","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Fabian Manhardt","Diego Mart\xedn Arroyo","Christian Rupprecht","Benjamin Busam","Tolga Birdal","Nassir Navab","Federico Tombari"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"3D object detection and pose estimation from a single image are two inherently ambiguous problems. Oftentimes, objects appear similar from different viewpoints due to shape symmetries, occlusion and repetitive textures. This ambiguity in both detection and pose estimation means that an object instance can be perfectly described by several different poses and even classes. In this work we propose to explicitly deal with these ambiguities. For each object instance we predict multiple 6D pose outcomes to estimate the specific pose distribution generated by symmetries and repetitive textures. The distribution collapses to a single outcome when the visual appearance uniquely identifies just one valid pose. We show the benefits of our approach which provides not only a better explanation for pose ambiguity, but also a higher accuracy in terms of pose estimation.","IsOld":true},{"Paper-ID":"iccv/MicheliniLLJ19","Title":"A Tour of Convolutional Networks Guided by Linear Interpreters.","url":"https://doi.org/10.1109/ICCV.2019.00485","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Pablo Navarrete Michelini","Hanwen Liu","Yunhua Lu","Xingqun Jiang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Convolutional networks are large linear systems divided into layers and connected by non-linear units. These units are the \\"articulations\\" that allow the network to adapt to the input. To understand how a network manages to solve a problem we must look at the articulated decisions in entirety. If we could capture the actions of non-linear units for a particular input, we would be able to replay the whole system back and forth as if it was always linear. It would also reveal the actions of non-linearities because the resulting linear system, a Linear Interpreter, depends on the input image. We introduce a hooking layer, called a LinearScope, which allows us to run the network and the linear interpreter in parallel. Its implementation is simple, flexible and efficient. From here we can make many curious inquiries: how do these linear systems look like? When the rows and columns of the transformation matrix are images, how do they look like? What type of basis do these linear transformations rely on? The answers depend on the problems presented, through which we take a tour to some popular architectures used for classification, super-resolution (SR) and image-to-image translation (I2I). For classification we observe that popular networks use a pixel-wise vote per class strategy and heavily rely on bias parameters. For SR and I2I we find that CNNs use wavelet-type basis similar to the human visual system. For I2I we reveal copy-move and template-creation strategies to generate outputs.","IsOld":true},{"Paper-ID":"iccv/PatroLPN19","Title":"U-CAM - Visual Explanation Using Uncertainty Based Class Activation Maps.","url":"https://doi.org/10.1109/ICCV.2019.00754","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Badri N. Patro","Mayank Lunayach","Shivansh Patel","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Understanding and explaining deep learning models is an imperative task. Towards this, we propose a method that obtains gradient-based certainty estimates that also provide visual attention maps. Particularly, we solve for visual question answering task. We incorporate modern probabilistic deep learning methods that we further improve by using the gradients for these estimates. These have two-fold benefits: a) improvement in obtaining the certainty estimates that correlate better with misclassified samples and b) improved attention maps that provide state-of-the-art results in terms of correlation with human attention regions. The improved attention maps result in consistent improvement for various methods for visual question answering. Therefore, the proposed technique can be thought of as a recipe for obtaining improved certainty estimates and explanation for deep learning models. We provide detailed empirical analysis for the visual question answering task on all standard benchmarks and comparison with state of the art methods.","IsOld":true},{"Paper-ID":"iccv/SelvarajuLSJGHB19","Title":"Taking a HINT - Leveraging Explanations to Make Vision and Language Models More Grounded.","url":"https://doi.org/10.1109/ICCV.2019.00268","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Ramprasaath Ramasamy Selvaraju","Stefan Lee","Yilin Shen","Hongxia Jin","Shalini Ghosh","Larry P. Heck","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Generation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Many vision and language models suffer from poor visual grounding -- often falling back on easy-to-learn language priors rather than basing their decisions on visual concepts in the image. In this work, we propose a generic approach called Human Importance-aware Network Tuning (HINT) that effectively leverages human demonstrations to improve visual grounding. HINT encourages deep networks to be sensitive to the same input regions as humans. Our approach optimizes the alignment between human attention maps and gradient-based network importances -- ensuring that models learn not just to look at but rather rely on visual concepts that humans found relevant for a task when making predictions. We apply HINT to Visual Question Answering and Image Captioning tasks, outperforming top approaches on splits that penalize over-reliance on language priors (VQA-CP and robust captioning) using human attention demonstrations for just 6% of the training data.","IsOld":true},{"Paper-ID":"iccv/SubramanyaPP19","Title":"Fooling Network Interpretation in Image Classification.","url":"https://doi.org/10.1109/ICCV.2019.00211","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Akshayvarun Subramanya","Vipin Pillai","Hamed Pirsiavash"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep neural networks have been shown to be fooled rather easily using adversarial attack algorithms. Practical methods such as adversarial patches have been shown to be extremely effective in causing misclassification. However, these patches are highlighted using standard network interpretation algorithms, thus revealing the identity of the adversary. We show that it is possible to create adversarial patches which not only fool the prediction, but also change what we interpret regarding the cause of the prediction. Moreover, we introduce our attack as a controlled setting to measure the accuracy of interpretation algorithms. We show this using extensive experiments for Grad-CAM interpretation that transfers to occluding patch interpretation as well. We believe our algorithms can facilitate developing more robust network interpretation tools that truly explain the network\'s underlying decision making process.","IsOld":true},{"Paper-ID":"iccv/SunRS19","Title":"Adaptive Activation Thresholding - Dynamic Routing Type Behavior for Interpretability in Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICCV.2019.00504","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Yiyou Sun","Sathya N. Ravi","Vikas Singh"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"There is a growing interest in strategies that can help us understand or interpret neural networks -- that is, not merely provide a prediction, but also offer additional context explaining why and how. While many current methods offer tools to perform this analysis for a given (trained) network post-hoc, recent results (especially on capsule networks) suggest that when classes map to a few high level ``concepts\'\' in the preceding layers of the network, the behavior of the network is easier to interpret or explain. Such training may be accomplished via dynamic/EM routing where the network ``routes\'\' for individual classes (or subsets of images) are dynamic and involve few nodes even if the full network may not be sparse. In this paper, we show how a simple modification of the SGD scheme can help provide dynamic/EM routing type behavior in convolutional neural networks. Through extensive experiments, we evaluate the effect of this idea for interpretability where we obtain promising results, while also showing that no compromise in attainable accuracy is involved. Further, we show that the minor modification is seemingly ad-hoc, the new algorithm can be analyzed by an approximate method which provably matches known rates for SGD.","IsOld":true},{"Paper-ID":"iccv/WuS19","Title":"Towards Interpretable Object Detection by Unfolding Latent Structures.","url":"https://doi.org/10.1109/ICCV.2019.00613","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Tianfu Wu","Xi Song"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper first proposes a method of formulating model interpretability in visual understanding tasks based on the idea of unfolding latent structures. It then presents a case study in object detection using popular two-stage region-based convolutional network (i.e., R-CNN) detection systems. The proposed method focuses on weakly-supervised extractive rationale generation, that is learning to unfold latent discriminative part configurations of object instances automatically and simultaneously in detection without using any supervision for part configurations. It utilizes a top-down hierarchical and compositional grammar model embedded in a directed acyclic AND-OR Graph (AOG) to explore and unfold the space of latent part configurations of regions of interest (RoIs). It presents an AOGParsing operator that seamlessly integrates with the RoIPooling/RoIAlign operator widely used in R-CNN and is trained end-to-end. In object detection, a bounding box is interpreted by the best parse tree derived from the AOG on-the-fly, which is treated as the qualitatively extractive rationale generated for interpreting detection. In experiments, Faster R-CNN is used to test the proposed method on the PASCAL VOC 2007 and the COCO 2017 object detection datasets. The experimental results show that the proposed method can compute promising latent structures without hurting the performance. The code and pretrained models are available at https://github.com/iVMCL/iRCNN.","IsOld":true},{"Paper-ID":"iccv/YinTLS019","Title":"Towards Interpretable Face Recognition.","url":"https://doi.org/10.1109/ICCV.2019.00944","Year":"2019","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Bangjie Yin","Luan Tran","Haoxiang Li","Xiaohui Shen","Xiaoming Liu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep CNNs have been pushing the frontier of visual recognition over past years. Besides recognition accuracy, strong demands in understanding deep CNNs in the research community motivate developments of tools to dissect pre-trained models to visualize how they make predictions. Recent works further push the interpretability in the network learning stage to learn more meaningful representations. In this work, focusing on a specific area of visual recognition, we report our efforts towards interpretable face recognition. We propose a spatial activation diversity loss to learn more structured face representations. By leveraging the structure, we further design a feature activation diversity loss to push the interpretable representations to be discriminative and robust to occlusions. We demonstrate on three face recognition benchmarks that our proposed method is able to achieve the state-of-art face recognition accuracy with easily interpretable face representations.","IsOld":true},{"Paper-ID":"icdm/AssafGBS19","Title":"MTEX-CNN - Multivariate Time Series EXplanations for Predictions with Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICDM.2019.00106","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Roy Assaf","Ioana Giurgiu","Frank Bagehorn","Anika Schumann"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In this work we present MTEX-CNN, a novel explainable convolutional neural network architecture which can not only be used for making predictions based on multivariate time series data, but also for explaining these predictions. The network architecture consists of two stages and utilizes particular kernel sizes. This allows us to apply gradient based methods for generating saliency maps for both the time dimension and the features. The first stage of the architecture explains which features are most significant to the predictions, while the second stage explains which time segments are the most significant. We validate our approach on two use cases, namely to predict rare server outages in the wild, as well as the average energy production of photovoltaic power plants based on a benchmark data set. We show that our explanations shed light over what the model has learned. We validate this by retraining the network using the most significant features extracted from the explanations and retaining similar performance to training with the full set of features.","IsOld":true},{"Paper-ID":"icdm/ChenL0X19","Title":"Scalable Explanation of Inferences on Large Graphs.","url":"https://doi.org/10.1109/ICDM.2019.00111","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Chao Chen","Yifei Liu","Xi Zhang","Sihong Xie"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Probabilistic inferences distill knowledge from graphs to aid human make important decisions. Due to the inherent uncertainty in the model and the complexity of the knowledge, it is desirable to help the end-users understand the inference outcomes. Different from deep or high dimensional parametric models, the lack of interpretability in graphical models is due to the cyclic and long-range dependencies and the byzantine inference procedures. Prior works did not tackle cycles and make the inferences interpretable. We formulate the explanation of probabilistic inferences as a constrained cross-entropy minimization problem to find simple subgraphs that faithfully approximate the inferences. We prove that the optimization is NP-hard, while the objective is not monotonic and submodular to guarantee efficient greedy approximation. We propose a beam search algorithm to find trees to enhance the explanation interpretability and diversity. To allow efficient search on large and dense graphs without hurting faithfulness, we further propose parallelization and a pruning strategy. We demonstrate superior performance on four networks from distinct applications, comparing favorably to other explanation methods, including LIME.","IsOld":true},{"Paper-ID":"icdm/HamdiA19","Title":"Interpretable Feature Learning of Graphs using Tensor Decomposition.","url":"https://doi.org/10.1109/ICDM.2019.00037","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Shah Muhammad Hamdi","Rafal A. Angryk"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In recent years, node embedding algorithms, which learn low dimensional vector representations for nodes in a graph, have been one of the key research interests of the graph mining community. The existing algorithms either rely on computationally expensive eigendecomposition of the large matrices, or require tuning of the word embedding-based hyperparameters as a result of representing the graph as a node sequence similar to the sentences in a document. Moreover, the latent features produced by these algorithms are hard to interpret. In this paper, we present two novel tensor decomposition-based node embedding algorithms, that can learn node features from arbitrary types of graphs: undirected, directed, and/or weighted, without relying on eigendecomposition or word embedding-based hyperparameters. Both algorithms preserve the local and global structural properties of the graph by using k-step transition probability matrices to construct third-order multidimensional arrays or tensors and perform CANDECOMP/PARAFAC (CP) decomposition in order to produce an interpretable and low dimensional vector space for the nodes. Our experiments encompass different types of graphs (undirected/directed, unweighted/weighted, sparse/dense) of different domains such as social networking and neuroscience. Our experimental evaluation proves our models to be interpretable with respect to the understandability of the feature space, precise with respect to the network reconstruction and link prediction, and accurate with respect to node classification and graph classification.","IsOld":true},{"Paper-ID":"icdm/YooS19","Title":"EDiT - Interpreting Ensemble Models via Compact Soft Decision Trees.","url":"https://doi.org/10.1109/ICDM.2019.00187","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Jaemin Yoo","Lee Sael"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Given feature-based data, how can we accurately classify individual input and interpret the result of it? Ensemble models are often the best choice in terms of accuracy when dealing with feature-based datasets. However, interpreting the decision made by the ensemble model for individual input seems intractable. On the other hand, decision trees, although being prone to overfit, are considered as the most interpretable in terms of being able to trace the decision process of individual input. In this work, we propose Ensemble to Distilled Tree (EDiT), a novel distilling method that generates compact soft decision trees from ensemble models. EDiT exploits the interpretability of a tree-based structure by removing redundant branches and learning sparse weights, while enhancing accuracy by distilling the knowledge of ensemble models such as random forests (RF). Our experiments on eight datasets show that EDiT reduces the number of parameters of an RF by 6.4 to 498.4 times with a minor loss of classification accuracy.","IsOld":true},{"Paper-ID":"icdm/ZhangQLYWZ19","Title":"KnowRisk - An Interpretable Knowledge-Guided Model for Disease Risk Prediction.","url":"https://doi.org/10.1109/ICDM.2019.00196","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Xianli Zhang","Buyue Qian","Yang Li","Changchang Yin","Xudong Wang","Qinghua Zheng"],"Type of Data":["Tabular / structured","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Thanks to the widespread adoption of Electronic Health Record (EHR) systems, a variety of data-driven clinical risk prediction approaches have been spawned in recent years. However, there remain three challenges, which if addressed would improve the performance and applicability of such models. (i) Due to the limited data sharing between different health care institutions, the EHR data collected by a single institution is often inadequate or missing some visits records. The limited number of data cannot meet the large sample required of recent approaches especially deep learning models. In addition, the missing records (due to visiting different institution) may contain important health condition of the patient, which if ignored would cause prediction bias. (ii) Few existing approaches take clinical knowledge into account. The auxiliary knowledge if included can greatly reduce the data dependency of many modern learning algorithms. (iii) Most existing deep learning based methods are unable to identify the contribution of each medical event to the final results, which prohibits such models from being widely accepted in practical clinical applications. In this paper, we propose an interpretable and knowledge-guided deep model to address these challenges. Specifically, we distill knowledge from a clinical knowledge graph both explicitly and implicitly, which can not only supplement inadequate patient records but also guide the predicting process of the model. Furthermore, skip-connections and attention mechanisms are adopted to improve the interpretability of our model. In the context of heart failure prediction task, our model outperforms several state-of-the-art methods. Finally, a series of case studies are presented to prove the interpretability of our model.","IsOld":true},{"Paper-ID":"icdm/ZhouSC19","Title":"A Model-Agnostic Approach for Explaining the Predictions on Clustered Data.","url":"https://doi.org/10.1109/ICDM.2019.00202","Year":"2019","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Zihan Zhou","Mingxuan Sun","Jianhua Chen"],"Type of Data":["User-item matrix","Other"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Machine learning models especially deep neural network models have shown great potential in making decisions when analyzing clustered or longitudinal data. However, lack of model transparency is a major concern in risk sensitive domains such as social science and medical diagnosis. Despite the early success of explaining machine learning models, there is a lack of explanation methods that can be applied to any predictors on clustered data since most of the existing models assume that all observations are independent of each other. In this paper, we address this deficiency and propose to use a linear mixed model to mimic the local behavior of any complex model on clustered data, which can also improve the fidelity of the explanation method to the complex models. We apply our method to explain several models including a deep neural network model on two tasks including movie recommendation and medical record diagnosis. Experiment results show that our model outperforms the baseline models on several metrics such as fidelity and exactness.","IsOld":true},{"Paper-ID":"iclr/ChangCGD19","Title":"Explaining Image Classifiers by Counterfactual Generation.","url":"https://openreview.net/forum?id=B1MXz20cYQ","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Chun-Hao Chang","Elliot Creager","Anna Goldenberg","David Duvenaud"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/ChenSWJ19","Title":"L-Shapley and C-Shapley - Efficient Model Interpretation for Structured Data.","url":"https://openreview.net/forum?id=S1E3Ko09F7","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/FortuinHLSR19","Title":"SOM-VAE - Interpretable Discrete Representation Learning on Time Series.","url":"https://openreview.net/forum?id=rygjcsR9Y7","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Vincent Fortuin","Matthias H\xfcser","Francesco Locatello","Heiko Strathmann","Gunnar R\xe4tsch"],"Type of Data":["Images","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Clustering"],"Type of Explanation":["Representation Visualization","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/SinghMY19","Title":"Hierarchical interpretations for neural network predictions.","url":"https://openreview.net/forum?id=SkEqro0ctQ","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/ZhengPBH19","Title":"Revealing interpretable object representations from human behavior.","url":"https://openreview.net/forum?id=ryxSrhC9KX","Year":"2019","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Charles Y. Zheng","Francisco Pereira","Chris I. Baker","Martin N. Hebart"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/0002LA19","Title":"Exploring interpretable LSTM neural networks over multi-variable data.","url":"http://proceedings.mlr.press/v97/guo19b.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Tian Guo","Tao Lin","Nino Antulov-Fantulin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/AnconaOG19","Title":"Explaining Deep Neural Networks with a Polynomial Time Algorithm for Shapley Value Approximation.","url":"http://proceedings.mlr.press/v97/ancona19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Marco Ancona","Cengiz \xd6ztireli","Markus H. Gross"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/DunckerBBS19","Title":"Learning interpretable continuous-time models of latent stochastic dynamical systems.","url":"http://proceedings.mlr.press/v97/duncker19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Lea Duncker","Gergo Bohner","Julien Boussard","Maneesh Sahani"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Regression"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/GoyalWEBPL19","Title":"Counterfactual Visual Explanations.","url":"http://proceedings.mlr.press/v97/goyal19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Yash Goyal","Ziyan Wu","Jan Ernst","Dhruv Batra","Devi Parikh","Stefan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/SinglaWFF19","Title":"Understanding Impacts of High-Order Loss Approximations and Features in Deep Learning Interpretation.","url":"http://proceedings.mlr.press/v97/singla19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Sahil Singla","Eric Wallace","Shi Feng","Soheil Feizi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/VedantamDLRBP19","Title":"Probabilistic Neural Symbolic Models for Interpretable Visual Question Answering.","url":"http://proceedings.mlr.press/v97/vedantam19a.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Ramakrishna Vedantam","Karan Desai","Stefan Lee","Marcus Rohrbach","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/WangZB19","Title":"Bias Also Matters - Bias Attribution for Deep Neural Network Explanation.","url":"http://proceedings.mlr.press/v97/wang19p.html","Year":"2019","Venue":{"isOld":true,"value":"ICML"},"Authors":["Shengjie Wang","Tianyi Zhou","Jeff A. Bilmes"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"ijcai/ChenW0WBWC19","Title":"Co-Attentive Multi-Task Learning for Explainable Recommendation.","url":"https://doi.org/10.24963/ijcai.2019/296","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Zhongxia Chen","Xiting Wang","Xing Xie","Tong Wu","Guoqing Bu","Yining Wang","Enhong Chen"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite widespread adoption, recommender systems remain mostly black boxes. Recently, providing explanations about why items are recommended has attracted increasing attention due to its capability to enhance user trust and satisfaction. In this paper, we propose a co-attentive multi-task learning model for explainable recommendation. Our model improves both prediction accuracy and explainability of recommendation by fully exploiting the correlations between the recommendation task and the explanation task. In particular, we design an encoder-selector-decoder architecture inspired by human\'s information-processing model in cognitive psychology. We also propose a hierarchical co-attentive selector to effectively model the cross knowledge transferred for both tasks. Our model not only enhances prediction accuracy of the recommendation task, but also generates linguistic explanations that are fluent, useful, and highly personalized. Experiments on three public datasets demonstrate the effectiveness of our model.","IsOld":true},{"Paper-ID":"ijcai/FuscoVVWS19","Title":"RecoNet - An Interpretable Neural Architecture for Recommender Systems.","url":"https://doi.org/10.24963/ijcai.2019/325","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Francesco Fusco","Michalis Vlachos","Vasileios Vasileiadis","Kathrin Wardatzky","Johannes Schneider"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Neural systems offer high predictive accuracy but are plagued by long training times and low interpretability. We present a simple neural architecture for recommender systems that lifts several of these shortcomings. Firstly, the approach has a high predictive power that is comparable to state-of-the-art recommender approaches. Secondly, owing to its simplicity, the trained model can be interpreted easily because it provides the individual contribution of each input feature to the decision. Our method is three orders of magnitude faster than general-purpose explanatory approaches, such as LIME. Finally, thanks to its design, our architecture addresses cold-start issues, and therefore the model does not require retraining in the presence of new users.","IsOld":true},{"Paper-ID":"ijcai/HouWCLZL19","Title":"Explainable Fashion Recommendation - A Semantic Attribute Region Guided Approach.","url":"https://doi.org/10.24963/ijcai.2019/650","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Min Hou","Le Wu","Enhong Chen","Zhi Li","Vincent W. Zheng","Qi Liu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Feature Importance","Heatmap","Localization","Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In fashion recommender systems, each product usually consists of multiple semantic attributes (e.g., sleeves, collar, etc). When making cloth decisions, people usually show preferences for different semantic attributes (e.g., the clothes with v-neck collar). Nevertheless, most previous fashion recommendation models comprehend the clothing images with a global content representation and lack detailed understanding of users\' semantic preferences, which usually leads to inferior recommendation performance. To bridge this gap, we propose a novel Semantic Attribute Explainable Recommender System (SAERS). Specifically, we first introduce a fine-grained interpretable semantic space. We then develop a Semantic Extraction Network (SEN) and Fine-grained Preferences Attention (FPA) module to project users and items into this space, respectively. With SAERS, we are capable of not only providing cloth recommendations for users, but also explaining the reason why we recommend the cloth through intuitive visual attribute semantic highlights in a personalized manner. Extensive experiments conducted on real-world datasets clearly demonstrate the effectiveness of our approach compared with the state-of-the-art methods.","IsOld":true},{"Paper-ID":"ijcai/KennyK19","Title":"Twin-Systems to Explain Artificial Neural Networks using Case-Based Reasoning - Comparative Tests of Feature-Weighting Methods in ANN-CBR Twins for XAI.","url":"https://doi.org/10.24963/ijcai.2019/376","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Eoin M. Kenny","Mark T. Keane"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In this paper, twin-systems are described to address the eXplainable artificial intelligence (XAI) problem, where a black box model is mapped to a white box \u201ctwin\u201d that is more interpretable, with both systems using the same dataset. The framework is instantiated by twinning an artificial neural network (ANN; black box) with a case-based reasoning system (CBR; white box), and mapping the feature weights from the former to the latter to find cases that explain the ANN\u2019s outputs. Using a novel evaluation method, the effectiveness of this twin-system approach is demonstrated by showing that nearest neighbor cases can be found to match the ANN predictions for benchmark datasets. Several feature-weighting methods are competitively tested in two experiments, including our novel, contributions-based method (called COLE) that is found to perform best. The tests consider the \u201dtwinning\u201d of traditional multilayer perceptron (MLP) networks and convolutional neural networks (CNN) with CBR systems. For the CNNs trained on image data, qualitative evidence shows that cases provide plausible explanations for the CNN\u2019s classifications.","IsOld":true},{"Paper-ID":"ijcai/LiYYJ19","Title":"Learning Interpretable Deep State Space Model for Probabilistic Time Series Forecasting.","url":"https://doi.org/10.24963/ijcai.2019/402","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Longyuan Li","Junchi Yan","Xiaokang Yang","Yaohui Jin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Probabilistic time series forecasting involves estimating the distribution of future based on its history, which is essential for risk management in downstream decision-making. We propose a deep state space model for probabilistic time series forecasting whereby the non-linear emission model and transition model are parameterized by networks and the dependency is modeled by recurrent neural nets. We take the automatic relevance determination (ARD) view and devise a network to exploit the exogenous variables in addition to time series. In particular, our ARD network can incorporate the uncertainty of the exogenous variables and eventually helps identify useful exogenous variables and suppress those irrelevant for forecasting. The distribution of multi-step ahead forecasts are approximated by Monte Carlo simulation. We show in experiments that our model produces accurate and sharp probabilistic forecasts. The estimated uncertainty of our forecasting also realistically increases over time, in a spontaneous manner.","IsOld":true},{"Paper-ID":"ijcai/ZhangR19","Title":"Learning Interpretable Relational Structures of Hinge-loss Markov Random Fields.","url":"https://doi.org/10.24963/ijcai.2019/838","Year":"2019","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Yue Zhang","Arti Ramesh"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Statistical relational models such as Markov logic networks (MLNs) and hinge-loss Markov random fields (HL-MRFs) are specified using templated weighted first-order logic clauses, leading to the creation of complex, yet easy to encode models that effectively combine uncertainty and logic. Learning the structure of these models from data reduces the human effort of identifying the right structures. In this work, we present an asynchronous deep reinforcement learning algorithm to automatically learn HL-MRF clause structures. Our algorithm possesses the ability to learn semantically meaningful structures that appeal to human intuition and understanding, while simultaneously being able to learn structures from data, thus learning structures that have both the desirable qualities of interpretability and good prediction performance. The asynchronous nature of our algorithm further provides the ability to learn diverse structures via exploration, while remaining scalable. We demonstrate the ability of the models to learn semantically meaningful structures that also achieve better prediction performance when compared with a greedy search algorithm, a path-based algorithm, and manually defined clauses on two computational social science applications: i) modeling recovery in alcohol use disorder, and ii) detecting bullying.","IsOld":true},{"Paper-ID":"kdd/ChengSHZ19","Title":"Incorporating Interpretability into Latent Factor Models via Fast Influence Analysis.","url":"https://doi.org/10.1145/3292500.3330857","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Weiyu Cheng","Yanyan Shen","Linpeng Huang","Yanmin Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Latent factor models (LFMs) such as matrix factorization have achieved the state-of-the-art performance among various collaborative filtering approaches for recommendation. Despite the high recommendation accuracy of LFMs, a critical issue to be resolved is their lack of interpretability. Extensive efforts have been devoted to interpreting the prediction results of LFMs. However, they either rely on auxiliary information which may not be available in practice, or sacrifice recommendation accuracy for interpretability. Influence functions, stemming from robust statistics, have been developed to understand the effect of training points on the predictions of black-box models. Inspired by this, we propose a novel explanation method named FIA (Fast Influence Analysis) to understand the prediction of trained LFMs by tracing back to the training data with influence functions. We present how to employ influence functions to measure the impact of historical user-item interactions on the prediction results of LFMs and provide intuitive neighbor-style explanations based on the most influential interactions. Our proposed FIA exploits the characteristics of two important LFMs, matrix factorization and neural collaborative filtering, and is capable of accelerating the overall influence analysis process. We provide a detailed complexity analysis for FIA over LFMs and conduct extensive experiments to evaluate its performance using real-world datasets. The results demonstrate the effectiveness and efficiency of FIA, and the usefulness of the generated explanations for the recommendation results.","IsOld":true},{"Paper-ID":"kdd/Jia0RLH19","Title":"Improving the Quality of Explanations with Local Embedding Perturbations.","url":"https://doi.org/10.1145/3292500.3330930","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Yunzhe Jia","James Bailey","Kotagiri Ramamohanarao","Christopher Leckie","Michael E. Houle"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Classifier explanations have been identified as a crucial component of knowledge discovery. Local explanations evaluate the behavior of a classifier in the vicinity of a given instance. A key step in this approach is to generate synthetic neighbors of the given instance. This neighbor generation process is challenging and it has considerable impact on the quality of explanations. To assess quality of generated neighborhoods, we propose a local intrinsic dimensionality (LID) based locality constraint. Based on this, we then propose a new neighborhood generation method. Our method first fits a local embedding/subspace around a given instance using the LID of the test instance as the target dimensionality, then generates neighbors in the local embedding and projects them back to the original space. Experimental results show that our method generates more realistic neighborhoods and consequently better explanations. It can be used in combination with existing local explanation algorithms.","IsOld":true},{"Paper-ID":"kdd/MingXQR19","Title":"Interpretable and Steerable Sequence Learning via Prototypes.","url":"https://doi.org/10.1145/3292500.3330908","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Yao Ming","Panpan Xu","Huamin Qu","Liu Ren"],"Type of Data":["Text","Time series","Other"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"One of the major challenges in machine learning nowadays is to provide predictions with not only high accuracy but also user-friendly explanations. Although in recent years we have witnessed increasingly popular use of deep neural networks for sequence modeling, it is still challenging to explain the rationales behind the model outputs, which is essential for building trust and supporting the domain experts to validate, critique and refine the model. We propose ProSeNet, an interpretable and steerable deep sequence model with natural explanations derived from case-based reasoning. The prediction is obtained by comparing the inputs to a few prototypes, which are exemplar cases in the problem domain. For better interpretability, we define several criteria for constructing the prototypes, including simplicity, diversity, and sparsity and propose the learning objective and the optimization procedure. ProSeNet also provides a user-friendly approach to model steering: domain experts without any knowledge on the underlying model or parameters can easily incorporate their intuition and experience by manually refining the prototypes. We conduct experiments on a wide range of real-world applications, including predictive diagnostics for automobiles, ECG, and protein sequence classification and sentiment analysis on texts. The result shows that ProSeNet can achieve accuracy on par with state-of-the-art deep learning models. We also evaluate the interpretability of the results with concrete case studies. Finally, through user study on Amazon Mechanical Turk (MTurk), we demonstrate that the model selects high-quality prototypes which align well with human knowledge and can be interactively refined for better interpretability without loss of performance.","IsOld":true},{"Paper-ID":"kdd/ShuCW0L19","Title":"dEFEND - Explainable Fake News Detection.","url":"https://doi.org/10.1145/3292500.3330935","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Kai Shu","Limeng Cui","Suhang Wang","Dongwon Lee","Huan Liu"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/Tao0WFYZ019","Title":"Log2Intent - Towards Interpretable User Modeling via Recurrent Semantics Memory Unit.","url":"https://doi.org/10.1145/3292500.3330889","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Zhiqiang Tao","Sheng Li","Zhaowen Wang","Chen Fang","Longqi Yang","Handong Zhao","Yun Fu"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/YanZDSSK19","Title":"GroupINN - Grouping-based Interpretable Neural Network for Classification of Limited, Noisy Brain Data.","url":"https://doi.org/10.1145/3292500.3330921","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Yujun Yan","Jiong Zhu","Marlena Duda","Eric Solarz","Chandra Sekhar Sripada","Danai Koutra"],"Type of Data":["Images","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/YoshidaTK19","Title":"Learning Interpretable Metric between Graphs - Convex Formulation and Computation with Graph Mining.","url":"https://doi.org/10.1145/3292500.3330845","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Tomoki Yoshida","Ichiro Takeuchi","Masayuki Karasuyama"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Localization","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Graph is a standard approach to modeling structured data. Although many machine learning methods depend on the metric of the input objects, defining an appropriate distance function on graph is still a controversial issue. We propose a novel supervised metric learning method for a subgraph-based distance, called interpretable graph metric learning (IGML). IGML optimizes the distance function in such a way that a small number of important subgraphs can be adaptively selected. This optimization is computationally intractable with naive application of existing optimization algorithms. We construct a graph mining based efficient algorithm to deal with this computational difficulty. Important advantages of our method are 1) guarantee of the optimality from the convex formulation, and 2) high interpretability of results. To our knowledge, none of the existing studies provide an interpretable subgraph-based metric in a supervised manner. In our experiments, we empirically verify superior or comparable prediction performance of IGML to other existing graph classification methods which do not have clear interpretability. Further, we demonstrate usefulness of IGML through some illustrative examples of extracted subgraphs and an example of data analysis on the learned metric space.","IsOld":true},{"Paper-ID":"kdd/ZhangTKLCC19","Title":"Axiomatic Interpretability for Multiclass Additive Models.","url":"https://doi.org/10.1145/3292500.3330898","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Xuezhou Zhang","Sarah Tan","Paul Koch","Yin Lou","Urszula Chajewska","Rich Caruana"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Generalized additive models (GAMs) are favored in many regression and binary classification problems because they are able to fit complex, nonlinear functions while still remaining interpretable. In the first part of this paper, we generalize a state-of-the-art GAM learning algorithm based on boosted trees to the multiclass setting, showing that this multiclass algorithm outperforms existing GAM learning algorithms and sometimes matches the performance of full complexity models such as gradient boosted trees. In the second part, we turn our attention to the interpretability of GAMs in the multiclass setting. Surprisingly, the natural interpretability of GAMs breaks down when there are more than two classes. Naive interpretation of multiclass GAMs can lead to false conclusions. Inspired by binary GAMs, we identify two axioms that any additive model must satisfy in order to not be visually misleading. We then develop a technique called Additive Post-Processing for Interpretability (API) that provably transforms a pretrained additive model to satisfy the interpretability axioms without sacrificing accuracy. The technique works not just on models trained with our learning algorithm, but on any multiclass additive model, including multiclass linear and logistic regression. We demonstrate the effectiveness of API on a 12-class infant mortality dataset.","IsOld":true},{"Paper-ID":"kdd/ZhaoGS19","Title":"Riker - Mining Rich Keyword Representations for Interpretable Product Question Answering.","url":"https://doi.org/10.1145/3292500.3330985","Year":"2019","Venue":{"isOld":true,"value":"KDD"},"Authors":["Jie Zhao","Ziyu Guan","Huan Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ChenLTBRS19","Title":"This Looks Like That - Deep Learning for Interpretable Image Recognition.","url":"https://proceedings.neurips.cc/paper/2019/hash/adf7ee2dcf142b0e11888e72b43fcb75-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Chaofan Chen","Oscar Li","Daniel Tao","Alina Barnett","Cynthia Rudin","Jonathan Su"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/GhorbaniWZK19","Title":"Towards Automatic Concept-based Explanations.","url":"https://proceedings.neurips.cc/paper/2019/hash/77d2afcb31f6493e350fca61764efb9a-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Amirata Ghorbani","James Wexler","James Y. Zou","Been Kim"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/HoyerMKKF19","Title":"Grid Saliency for Context Explanations of Semantic Segmentation.","url":"https://proceedings.neurips.cc/paper/2019/hash/6950aa02ae8613af620668146dd11840-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Lukas Hoyer","Mauricio Munoz","Prateek Katiyar","Anna Khoreva","Volker Fischer"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/KimL19","Title":"Learning Dynamics of Attention - Human Prior for Interpretable Machine Reasoning.","url":"https://proceedings.neurips.cc/paper/2019/hash/ae3539867aaeec609a4260c6feb725f4-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Wonjae Kim","Yoonho Lee"],"Type of Data":["Images","Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/WangN19","Title":"Deliberative Explanations - visualizing network insecurities.","url":"https://proceedings.neurips.cc/paper/2019/hash/68053af2923e00204c3ca7c6a3150cf7-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/YingBYZL19","Title":"GNNExplainer - Generating Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2019/hash/d80b7040b773199015de6d3b4293c8ff-Abstract.html","Year":"2019","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Zhitao Ying","Dylan Bourgeois","Jiaxuan You","Marinka Zitnik","Jure Leskovec"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/BalogRA19","Title":"Transparent, Scrutable and Explainable User Models for Personalized Recommendation.","url":"https://doi.org/10.1145/3331184.3331211","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Krisztian Balog","Filip Radlinski","Shushan Arakelyan"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Most recommender systems base their recommendations on implicit or explicit item-level feedback provided by users. These item ratings are combined into a complex user model, which then predicts the suitability of other items. While effective, such methods have limited scrutability and transparency. For instance, if a user\'s interests change, then many item ratings would usually need to be modified to significantly shift the user\'s recommendations. Similarly, explaining how the system characterizes the user is impossible, short of presenting the entire list of known item ratings. In this paper, we present a new set-based recommendation technique that permits the user model to be explicitly presented to users in natural language, empowering users to understand recommendations made and improve the recommendations dynamically. While performing comparably to traditional collaborative filtering techniques in a standard static setting, our approach allows users to efficiently improve recommendations. Further, it makes it easier for the model to be validated and adjusted, building user trust and understanding.","IsOld":true},{"Paper-ID":"sigir/HanSYWN19","Title":"Prototype-guided Attribute-wise Interpretable Scheme for Clothing Matching.","url":"https://doi.org/10.1145/3331184.3331245","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Xianjing Han","Xuemeng Song","Jianhua Yin","Yinglong Wang","Liqiang Nie"],"Type of Data":["Images","Text","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recently, as an essential part of people\'s daily life, clothing matching has gained increasing research attention. Most existing efforts focus on the numerical compatibility modeling between fashion items with advanced neural networks, and hence suffer from the poor interpretation, which makes them less applicable in real world applications. In fact, people prefer to know not only whether the given fashion items are compatible, but also the reasonable interpretations as well as suggestions regarding how to make the incompatible outfit harmonious. Considering that the research line of the comprehensively interpretable clothing matching is largely untapped, in this work, we propose a prototype-guided attribute-wise interpretable compatibility modeling (PAICM) scheme, which seamlessly integrates the latent compatible/incompatible prototype learning and compatibility modeling with the Bayesian personalized ranking (BPR) framework. In particular, the latent attribute interaction prototypes, learned by the non-negative matrix factorization (NMF), are treated as templates to interpret the discordant attribute and suggest the alternative item for each fashion item pair. Extensive experiments on the real-world dataset have demonstrated the effectiveness of our scheme.","IsOld":true},{"Paper-ID":"sigir/LiQPQDW19","Title":"A Capsule Network for Recommendation and Explaining What You Like and Dislike.","url":"https://doi.org/10.1145/3331184.3331216","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Chenliang Li","Cong Quan","Li Peng","Yunwei Qi","Yuming Deng","Libing Wu"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"User reviews contain rich semantics towards the preference of users to features of items. Recently, many deep learning based solutions have been proposed by exploiting reviews for recommendation. The attention mechanism is mainly adopted in these works to identify words or aspects that are important for rating prediction. However, it is still hard to understand whether a user likes or dislikes an aspect of an item according to what viewpoint the user holds and to what extent, without examining the review details. Here, we consider a pair of a viewpoint held by a user and an aspect of an item as a logic unit. Reasoning a rating behavior by discovering the informative logic units from the reviews and resolving their corresponding sentiments could enable a better rating prediction with explanation. To this end, in this paper, we propose a capsule network based model for rating prediction with user reviews, named CARP. For each user-item pair, CARP is devised to extract the informative logic units from the reviews and infer their corresponding sentiments. The model firstly extracts the viewpoints and aspects from the user and item review documents respectively. Then we derive the representation of each logic unit based on its constituent viewpoint and aspect. A sentiment capsule architecture with a novel Routing by Bi-Agreement mechanism is proposed to identify the informative logic unit and the sentiment based representations in user-item level for rating prediction. Extensive experiments are conducted over seven real-world datasets with diverse characteristics. Our results demonstrate that the proposed CARP obtains substantial performance gain over recently proposed state-of-the-art models in terms of prediction accuracy. Further analysis shows that our model can successfully discover the interpretable reasons at a finer level of granularity.","IsOld":true},{"Paper-ID":"sigir/TaoJWW19","Title":"The FacT - Taming Latent Factor Models for Explainability with Factorization Trees.","url":"https://doi.org/10.1145/3331184.3331244","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Yiyi Tao","Yiling Jia","Nan Wang","Hongning Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Tree","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Latent factor models have achieved great success in personalized recommendations, but they are also notoriously difficult to explain. In this work, we integrate regression trees to guide the learning of latent factor models for recommendation, and use the learnt tree structure to explain the resulting latent factors. Specifically, we build regression trees on users and items respectively with user-generated reviews, and associate a latent profile to each node on the trees to represent users and items. With the growth of regression tree, the latent factors are gradually refined under the regularization imposed by the tree structure. As a result, we are able to track the creation of latent profiles by looking into the path of each factor on regression trees, which thus serves as an explanation for the resulting recommendations. Extensive experiments on two large collections of Amazon and Yelp reviews demonstrate the advantage of our model over several competitive baseline algorithms. Besides, our extensive user study also confirms the practical value of explainable recommendations generated by our model.","IsOld":true},{"Paper-ID":"sigir/XianFMMZ19","Title":"Reinforcement Knowledge Graph Reasoning for Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331203","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Yikun Xian","Zuohui Fu","S. Muthukrishnan","Gerard de Melo","Yongfeng Zhang"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent advances in personalized recommendation have sparked great interest in the exploitation of rich structured information provided by knowledge graphs. Unlike most existing approaches that only focus on leveraging knowledge graphs for more accurate recommendation, we aim to conduct explicit reasoning with knowledge for decision making so that the recommendations are generated and supported by an interpretable causal inference procedure. To this end, we propose a method called Policy-Guided Path Reasoning (PGPR), which couples recommendation and interpretability by providing actual paths in a knowledge graph. Our contributions include four aspects. We first highlight the significance of incorporating knowledge graphs into recommendation to formally define and interpret the reasoning process. Second, we propose a reinforcement learning (RL) approach featured by an innovative soft reward strategy, user-conditional action pruning and a multi-hop scoring function. Third, we design a policy-guided graph search algorithm to efficiently and effectively sample reasoning paths for recommendation. Finally, we extensively evaluate our method on several large-scale real-world benchmark datasets, obtaining favorable results compared with state-of-the-art methods.","IsOld":true},{"Paper-ID":"sigir/Yang0WMF0C19","Title":"Interpretable Fashion Matching with Rich Attributes.","url":"https://doi.org/10.1145/3331184.3331242","Year":"2019","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Xun Yang","Xiangnan He","Xiang Wang","Yunshan Ma","Fuli Feng","Meng Wang","Tat-Seng Chua"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Decision Tree","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Understanding the mix-and-match relationships of fashion items receives increasing attention in fashion industry. Existing methods have primarily utilized the visual content to learn the visual compatibility and performed matching in a latent space. Despite their effectiveness, these methods work like a black box and cannot reveal the reasons that two items match well. The rich attributes associated with fashion items, e.g.,off-shoulder dress and black skinny jean, which describe the semantics of items in a human-interpretable way, have largely been ignored. This work tackles the interpretable fashion matching task, aiming to inject interpretability into the compatibility modeling of items. Specifically, given a corpus of matched pairs of items, we not only can predict the compatibility score of unseen pairs, but also learn the interpretable patterns that lead to a good match, e.g., white T-shirt matches with black trouser. We propose a new solution named A ttribute-based I nterpretable C ompatibility (AIC) method, which consists of three modules: 1) a tree-based module that extracts decision rules on matching prediction; 2) an embedding module that learns vector representation for a rule by accounting for the attribute semantics; and 3) a joint modeling module that unifies the visual embedding and rule embedding to predict the matching score. To justify our proposal, we contribute a new Lookastic dataset with fashion attributes available. Extensive experiments show that AIC not only outperforms several state-of-the-art methods, but also provides good interpretability on matching decisions.","IsOld":true},{"Paper-ID":"www/MaZCJWLMR19","Title":"Jointly Learning Explainable Rules for Recommendation with Knowledge Graph.","url":"https://doi.org/10.1145/3308558.3313607","Year":"2019","Venue":{"isOld":true,"value":"WWW"},"Authors":["Weizhi Ma","Min Zhang","Yue Cao","Woojeong Jin","Chenyang Wang","Yiqun Liu","Shaoping Ma","Xiang Ren"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Explainability and effectiveness are two key aspects for building recommender systems. Prior efforts mostly focus on incorporating side information to achieve better recommendation performance. However, these methods have some weaknesses: (1) prediction of neural network-based embedding methods are hard to explain and debug; (2) symbolic, graph-based approaches (e.g., meta path-based models) require manual efforts and domain knowledge to define patterns and rules, and ignore the item association types (e.g. substitutable and complementary). In this paper, we propose a novel joint learning framework to integrate induction of explainable rules from knowledge graph with construction of a rule-guided neural recommendation model. The framework encourages two modules to complement each other in generating effective and explainable recommendation: 1) inductive rules, mined from item-centric knowledge graphs, summarize common multi-hop relational patterns for inferring different item associations and provide human-readable explanation for model prediction; 2) recommendation module can be augmented by induced rules and thus have better generalization ability dealing with the cold-start issue. Extensive experiments1 show that our proposed method has achieved significant improvements in item recommendation over baselines on real-world datasets. Our model demonstrates robust performance over \u201cnoisy\u201d item knowledge graphs, generated by linking item names to related entities.","IsOld":true},{"Paper-ID":"aaai/BiskSCM18","Title":"Learning Interpretable Spatial Operations in a Rich 3D Blocks World.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17410","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Yonatan Bisk","Kevin J. Shih","Yejin Choi","Daniel Marcu"],"Type of Data":["Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/HsuM0S18","Title":"An Interpretable Generative Adversarial Approach to Classification of Latent Entity Relations in Unstructured Sentences.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16629","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Shiou Tian Hsu","Changsung Moon","Paul Jones","Nagiza F. Samatova"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/LiLCR18","Title":"Deep Learning for Case-Based Reasoning Through Prototypes - A Neural Network That Explains Its Predictions.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17082","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Oscar Li","Hao Liu","Chaofan Chen","Cynthia Rudin"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/NguyenKLW18","Title":"An Interpretable Joint Graphical Model for Fact-Checking From Crowds.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16673","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["An T. Nguyen","Aditya Kharosekar","Matthew Lease","Byron C. Wallace"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/PalangiSHD18","Title":"Question-Answering with Grammatically-Interpretable Representations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17090","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Hamid Palangi","Paul Smolensky","Xiaodong He","Li Deng"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/Ribeiro0G18","Title":"Anchors - High-Precision Model-Agnostic Explanations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16982","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Marco T\xfalio Ribeiro","Sameer Singh","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/RossD18","Title":"Improving the Adversarial Robustness and Interpretability of Deep Neural Networks by Regularizing Their Input Gradients.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17337","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Andrew Slavin Ross","Finale Doshi-Velez"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/RustamovK18","Title":"Interpretable Graph-Based Semi-Supervised Learning via Flows.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16396","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Raif M. Rustamov","James T. Klosowski"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/SubramanianPJBH18","Title":"SPINE - SParse Interpretable Neural Embeddings.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17433","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Anant Subramanian","Danish Pruthi","Harsh Jhamtani","Taylor Berg-Kirkpatrick","Eduard H. Hovy"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"aaai/WuHPZ0D18","Title":"Beyond Sparsity - Tree Regularization of Deep Models for Interpretability.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16285","Year":"2018","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Mike Wu","Michael C. Hughes","Sonali Parbhoo","Maurizio Zazzi","Volker Roth","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"acl/EskenaziLZ18","Title":"Unsupervised Discrete Sentence Representation Learning for Interpretable Neural Dialog Generation.","url":"https://www.aclweb.org/anthology/P18-1101/","Year":"2018","Venue":{"isOld":true,"value":"ACL"},"Authors":["Tiancheng Zhao","Kyusong Lee","Maxine Esk\xe9nazi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The encoder-decoder dialog model is one of the most prominent methods used to build dialog systems in complex domains. Yet it is limited because it cannot output interpretable actions as in traditional systems, which hinders humans from understanding its generation process. We present an unsupervised discrete sentence representation learning method that can integrate with any existing encoder-decoder dialog models for interpretable response generation. Building upon variational autoencoders (VAEs), we present two novel models, DI-VAE and DI-VST that improve VAEs and can discover interpretable semantics via either auto encoding or context predicting. Our methods have been validated on real-world dialog datasets to discover semantic representations and enhance encoder-decoder models with interpretable generation.","IsOld":true},{"Paper-ID":"acl/InuiTT18","Title":"Interpretable and Compositional Relation Learning by Joint Training with an Autoencoder.","url":"https://www.aclweb.org/anthology/P18-1200/","Year":"2018","Venue":{"isOld":true,"value":"ACL"},"Authors":["Ryo Takahashi","Ran Tian","Kentaro Inui"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Other"],"Type of Explanation":["Disentanglement","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Embedding models for entities and relations are extremely useful for recovering missing facts in a knowledge base. Intuitively, a relation can be modeled by a matrix mapping entity vectors. However, relations reside on low dimension sub-manifolds in the parameter space of arbitrary matrices \u2013 for one reason, composition of two relations M1, M2 may match a third M3 (e.g. composition of relations currency_of_country and country_of_film usually matches currency_of_film_budget), which imposes compositional constraints to be satisfied by the parameters (i.e. M1*M2=M3). In this paper we investigate a dimension reduction technique by training relations jointly with an autoencoder, which is expected to better capture compositional constraints. We achieve state-of-the-art on Knowledge Base Completion tasks with strongly improved Mean Rank, and show that joint training with an autoencoder leads to interpretable sparse codings of relations, helps discovering compositional constraints and benefits from compositional training. Our source code is released at github.com/tianran/glimvec.","IsOld":true},{"Paper-ID":"acl/MorencyCPLZ18","Title":"Multimodal Language Analysis in the Wild - CMU-MOSEI Dataset and Interpretable Dynamic Fusion Graph.","url":"https://www.aclweb.org/anthology/P18-1208/","Year":"2018","Venue":{"isOld":true,"value":"ACL"},"Authors":["Amir Zadeh","Paul Pu Liang","Soujanya Poria","Erik Cambria","Louis-Philippe Morency"],"Type of Data":["Text","Video","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Analyzing human multimodal language is an emerging area of research in NLP. Intrinsically this language is multimodal (heterogeneous), sequential and asynchronous; it consists of the language (words), visual (expressions) and acoustic (paralinguistic) modalities all in the form of asynchronous coordinated sequences. From a resource perspective, there is a genuine need for large scale datasets that allow for in-depth studies of this form of language. In this paper we introduce CMU Multimodal Opinion Sentiment and Emotion Intensity (CMU-MOSEI), the largest dataset of sentiment analysis and emotion recognition to date. Using data from CMU-MOSEI and a novel multimodal fusion technique called the Dynamic Fusion Graph (DFG), we conduct experimentation to exploit how modalities interact with each other in human multimodal language. Unlike previously proposed fusion techniques, DFG is highly interpretable and achieves competative performance when compared to the previous state of the art.","IsOld":true},{"Paper-ID":"acl/SchutzeRP18","Title":"Evaluating neural network explanation methods using hybrid documents and morphosyntactic agreement.","url":"https://www.aclweb.org/anthology/P18-1032/","Year":"2018","Venue":{"isOld":true,"value":"ACL"},"Authors":["Nina P\xf6rner","Hinrich Sch\xfctze","Benjamin Roth"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The behavior of deep neural networks (DNNs) is hard to understand. This makes it necessary to explore post hoc explanation methods. We conduct the first comprehensive evaluation of explanation methods for NLP. To this end, we design two novel evaluation paradigms that cover two important classes of NLP problems: small context and large context problems. Both paradigms require no manual annotation and are therefore broadly applicable. We also introduce LIMSSE, an explanation method inspired by LIME that is designed for NLP. We show empirically that LIMSSE, LRP and DeepLIFT are the most effective explanation methods and recommend them for explaining DNNs in NLP.","IsOld":true},{"Paper-ID":"cvpr/ChuangL0F18","Title":"Learning to Act Properly - Predicting and Explaining Affordances From Images.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Chuang_Learning_to_Act_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Ching-Yao Chuang","Jiaman Li","Antonio Torralba","Sanja Fidler"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We address the problem of affordance reasoning in diverse scenes that appear in the real world. Affordances relate the agent\'s actions to their effects when taken on the surrounding objects. In our work, we take the egocentric view of the scene, and aim to reason about action-object affordances that respect both the physical world as well as the social norms imposed by the society. We also aim to teach artificial agents why some actions should not be taken in certain situations, and what would likely happen if these actions would be taken. We collect a new dataset that builds upon ADE20k [32], referred to as ADE-Affordance, which contains annotations enabling such rich visual reasoning. We propose a model that exploits Graph Neural Networks to propagate contextual information from the scene in order to perform detailed affordance reasoning about each object. Our model is showcased through various ablation studies, pointing to successes and challenges in this complex task.","IsOld":true},{"Paper-ID":"cvpr/FongV18","Title":"Net2Vec - Quantifying and Explaining How Concepts Are Encoded by Filters in Deep Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Fong_Net2Vec_Quantifying_and_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Ruth Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In an effort to understand the meaning of the intermediate representations captured by deep networks, recent papers have tried to associate specific semantic concepts to individual neural network filter responses, where interesting correlations are often found, largely by focusing on extremal filter responses. In this paper, we show that this approach can favor easy-to-interpret cases that are not necessarily representative of the average behavior of a representation. A more realistic but harder-to-study hypothesis is that semantic representations are distributed, and thus filters must be studied in conjunction. In order to investigate this idea while enabling systematic visualization and quantification of multiple filter responses, we introduce the Net2Vec framework, in which semantic concepts are mapped to vectorial embeddings based on corresponding filter responses. By studying such embeddings, we are able to show that 1., in most cases, multiple filters are required to code for a concept, that 2., often filters are not concept specific and help encode multiple concepts, and that 3., compared to single filter activations, filter embeddings are able to better characterize the meaning of a representation and its relationship to other concepts.","IsOld":true},{"Paper-ID":"cvpr/MascharkaTSM18","Title":"Transparency by Design - Closing the Gap Between Performance and Interpretability in Visual Reasoning.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Mascharka_Transparency_by_Design_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["David Mascharka","Philip Tran","Ryan Soklaski","Arjun Majumdar"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Visual question answering requires high-order reasoning about an image, which is a fundamental capability needed by machine systems to follow complex directives. Recently, modular networks have been shown to be an effective framework for performing visual reasoning tasks. While modular networks were initially designed with a degree of model transparency, their performance on complex visual reasoning benchmarks was lacking. Current state-of-the-art approaches do not provide an effective mechanism for understanding the reasoning process. In this paper, we close the performance gap between interpretable models and state-of-the-art visual reasoning methods. We propose a set of visual-reasoning primitives which, when composed, manifest as a model capable of performing complex reasoning tasks in an explicitly-interpretable manner. The fidelity and interpretability of the primitives\' outputs enable an unparalleled ability to diagnose the strengths and weaknesses of the resulting model. Critically, we show that these primitives are highly performant, achieving state-of-the-art accuracy of 99.1% on the CLEVR dataset. We also show that our model is able to effectively learn generalized representations when provided a small amount of data containing novel object attributes. Using the CoGenT generalization task, we show more than a 20 percentage point improvement over the current state of the art.","IsOld":true},{"Paper-ID":"cvpr/ParkHARSDR18","Title":"Multimodal Explanations - Justifying Decisions and Pointing to the Evidence.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Park_Multimodal_Explanations_Justifying_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Dong Huk Park","Lisa Anne Hendricks","Zeynep Akata","Anna Rohrbach","Bernt Schiele","Trevor Darrell","Marcus Rohrbach"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap","Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep models that are both effective and explainable are desirable in many settings; prior explainable models have been unimodal, offering either image-based visualization of attention weights or text-based generation of post-hoc justifications. We propose a multimodal approach to explanation, and argue that the two modalities provide complementary explanatory strengths. We collect two new datasets to define and evaluate this task, and propose a novel model which can provide joint textual rationale generation and attention visualization. Our datasets define visual and textual justifications of a classification decision for activity recognition tasks (ACT-X) and for visual question answering tasks (VQA-X). We quantitatively show that training with the textual explanations not only yields better textual justification models, but also better localizes the evidence that supports the decision. We also qualitatively show cases where visual explanation is more insightful than textual explanation, and vice versa, supporting our thesis that multimodal explanation models offer significant benefits over unimodal approaches.","IsOld":true},{"Paper-ID":"cvpr/WangS0H18","Title":"Interpret Neural Networks by Identifying Critical Data Routing Paths.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wang_Interpret_Neural_Networks_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Yulong Wang","Hang Su","Bo Zhang","Xiaolin Hu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Interpretability of a deep neural network aims to explain the rationale behind its decisions and enable the users to understand the intelligent agents, which has become an important issue due to its importance in practical applications. To address this issue, we develop a Distillation Guided Routing method, which is a flexible framework to interpret a deep neural network by identifying critical data routing paths and analyzing the functional processing behavior of the corresponding layers. Specifically, we propose to discover the critical nodes on the data routing paths during network inferring prediction for individual input samples by learning associated control gates for each layer\'s output channel. The routing paths can, therefore, be represented based on the responses of concatenated control gates from all the layers, which reflect the network\'s semantic selectivity regarding to the input patterns and more detailed functional process across different layer levels. Based on the discoveries, we propose an adversarial sample detection algorithm by learning a classifier to discriminate whether the critical data routing paths are from real or adversarial samples. Experiments demonstrate that our algorithm can effectively achieve high defense rate with minor training overhead.","IsOld":true},{"Paper-ID":"cvpr/WuLCJL18","Title":"Interpretable Video Captioning via Trajectory Structured Localization.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wu_Interpretable_Video_Captioning_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Xian Wu","Guanbin Li","Qingxing Cao","Qingge Ji","Liang Lin"],"Type of Data":["Video"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Automatically describing open-domain videos with natural language are attracting increasing interest in the field of artificial intelligence. Most existing methods simply borrow ideas from image captioning and obtain a compact video representation from an ensemble of global image feature before feeding to an RNN decoder which outputs a sentence of variable length. However, it is not only arduous for the generator to focus on specific salient objects at different time given the global video representation, it is more formidable to capture the fine-grained motion information and the relation between moving instances for more subtle linguistic descriptions. In this paper, we propose a Trajectory Structured Attentional Encoder-Decoder (TSA-ED) neural network framework for more elaborate video captioning which works by integrating local spatial-temporal representation at trajectory level through structured attention mechanism. Our proposed method is based on a LSTM-based encoder-decoder framework, which incorporates an attention modeling scheme to adaptively learn the correlation between sentence structure and the moving objects in videos, and consequently generates more accurate and meticulous statement description in the decoding stage. Experimental results demonstrate that the feature representation and structured attention mechanism based on the trajectory cluster can efficiently obtain the local motion information in the video to help generate a more fine-grained video description, and achieve the state-of-the-art performance on the well-known Charades and MSVD datasets.","IsOld":true},{"Paper-ID":"cvpr/ZhangWZ18a","Title":"Interpretable Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_Interpretable_Convolutional_Neural_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Quanshi Zhang","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper proposes a method to modify a traditional convolutional neural network (CNN) into an interpretable CNN, in order to clarify knowledge representations in high conv-layers of the CNN. In an interpretable CNN, each filter in a high conv-layer represents a specific object part. Our interpretable CNNs use the same training data as ordinary CNNs without a need for any annotations of object parts or textures for supervision. The interpretable CNN automatically assigns each filter in a high conv-layer with an object part during the learning process. We can apply our method to different types of CNNs with various structures. The explicit knowledge representation in an interpretable CNN can help people understand the logic inside a CNN, i.e. what patterns are memorized by the CNN for prediction. Experiments have shown that filters in an interpretable CNN are more semantically meaningful than those in a traditional CNN. The code is available at https://github.com/zqs1022/interpretableCNN.","IsOld":true},{"Paper-ID":"cvpr/ZhangXWXY18","Title":"DeepVoting - A Robust and Explainable Deep Network for Semantic Part Detection Under Partial Occlusion.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_DeepVoting_A_Robust_CVPR_2018_paper.html","Year":"2018","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Zhishuai Zhang","Cihang Xie","Jianyu Wang","Lingxi Xie","Alan L. Yuille"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"In this paper, we study the task of detecting semantic parts of an object, e.g., a wheel of a car, under partial occlusion. We propose that all models should be trained without seeing occlusions while being able to transfer the learned knowledge to deal with occlusions. This setting alleviates the difficulty in collecting an exponentially large dataset to cover occlusion patterns and is more essential. In this scenario, the proposal-based deep networks, like RCNN-series, often produce unsatisfactory results, because both the proposal extraction and classification stages may be confused by the irrelevant occluders. To address this, [25] proposed a voting mechanism that combines multiple local visual cues to detect semantic parts. The semantic parts can still be detected even though some visual cues are missing due to occlusions. However, this method is manually-designed, thus is hard to be optimized in an end-to-end manner. In this paper, we present DeepVoting, which incorporates the robustness shown by [25] into a deep network, so that the whole pipeline can be jointly optimized. Specifically, it adds two layers after the intermediate features of a deep network, e.g., the pool-4 layer of VGGNet. The first layer extracts the evidence of local visual cues, and the second layer performs a voting mechanism by utilizing the spatial relationship between visual cues and semantic parts. We also propose an improved version DeepVoting+ by learning visual cues from context outside objects. In experiments, DeepVoting achieves significantly better performance than several baseline methods, including Faster-RCNN, for semantic part detection under occlusion. In addition, DeepVoting enjoys explainability as the detection results can be diagnosed via looking up the voting cues.","IsOld":true},{"Paper-ID":"icdm/JhaWXZ18","Title":"Interpretable Word Embeddings for Medical Domain.","url":"https://doi.org/10.1109/ICDM.2018.00135","Year":"2018","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Kishlay Jha","Yaqing Wang","Guangxu Xun","Aidong Zhang"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Word embeddings are finding their increasing application in a variety of biomedical Natural Language Processing (bioNLP) tasks, ranging from drug discovery to automated disease diagnosis. While these word embeddings in their entirety have shown meaningful syntactic and semantic regularities, however, the meaning of individual dimensions remains elusive. This becomes problematic both in general and particularly in sensitive domains such as bio-medicine, wherein, the interpretability of results is crucial to its widespread adoption. To address this issue, in this study, we aim to improve the interpretability of pre-trained word embeddings generated from a text corpora, and in doing so provide a systematic approach to formalize the problem. More specifically, we exploit the rich categorical knowledge present in the biomedical domain, and propose to learn a transformation matrix that transforms the input embeddings to a new space where they are both interpretable and retain their original expressive features. Experiments conducted on the largest available biomedical corpus suggests that the model is capable of performing interpretability that resembles closely to the human-level intuition.","IsOld":true},{"Paper-ID":"icdm/KarlssonRPG18","Title":"Explainable Time Series Tweaking via Irreversible and Reversible Temporal Transformations.","url":"https://doi.org/10.1109/ICDM.2018.00036","Year":"2018","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Isak Karlsson","Jonathan Rebane","Panagiotis Papapetrou","Aristides Gionis"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Time series classification has received great attention over the past decade with a wide range of methods focusing on predictive performance by exploiting various types of temporal features. Nonetheless, little emphasis has been placed on interpretability and explainability. In this paper, we formulate the novel problem of explainable time series tweaking, where, given a time series and an opaque classifier that provides a particular classification decision for the time series, we want to find the minimum number of changes to be performed to the given time series so that the classifier changes its decision to another class. We show that the problem is NP-hard, and focus on two instantiations of the problem, which we refer to as reversible and irreversible time series tweaking. The classifier under investigation is the random shapelet forest classifier. Moreover, we propose two algorithmic solutions for the two problems along with simple optimizations, as well as a baseline solution using the nearest neighbor classifier. An extensive experimental evaluation on a variety of real datasets demonstrates the usefulness and effectiveness of our problem formulation and solutions.","IsOld":true},{"Paper-ID":"icdm/WangCYWW018","Title":"A Reinforcement Learning Framework for Explainable Recommendation.","url":"https://doi.org/10.1109/ICDM.2018.00074","Year":"2018","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Xiting Wang","Yiru Chen","Jie Yang","Le Wu","Zhengtao Wu","Xing Xie"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Explainable recommendation, which provides explanations about why an item is recommended, has attracted increasing attention due to its ability in helping users make better decisions and increasing users\' trust in the system. Existing explainable recommendation methods either ignore the working mechanism of the recommendation model or are designed for a specific recommendation model. Moreover, it is difficult for existing methods to ensure the presentation quality of the explanations (e.g., consistency). To solve these problems, we design a reinforcement learning framework for explainable recommendation. Our framework can explain any recommendation model (model-agnostic) and can flexibly control the explanation quality based on the application scenario. To demonstrate the effectiveness of our framework, we show how it can be used for generating sentence-level explanations. Specifically, we instantiate the explanation generator in the framework with a personalized-attention-based neural network. Offline experiments demonstrate that our method can well explain both collaborative filtering methods and deep-learning-based models. Evaluation with human subjects shows that the explanations generated by our method are significantly more useful than the explanations generated by the baselines.","IsOld":true},{"Paper-ID":"iclr/KindermansSAMEK18","Title":"Learning how to explain neural networks - PatternNet and PatternAttribution.","url":"https://openreview.net/forum?id=Hkn7CBaTW","Year":"2018","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Pieter-Jan Kindermans","Kristof T. Sch\xfctt","Maximilian Alber","Klaus-Robert M\xfcller","Dumitru Erhan","Been Kim","Sven D\xe4hne"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/ShuXS18","Title":"Hierarchical and Interpretable Skill Acquisition in Multi-task Reinforcement Learning.","url":"https://openreview.net/forum?id=SJJQVZW0b","Year":"2018","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Tianmin Shu","Caiming Xiong","Richard Socher"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"iclr/TrottXS18","Title":"Interpretable Counting for Visual Question Answering.","url":"https://openreview.net/forum?id=S1J2ZyZ0Z","Year":"2018","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Alexander Trott","Caiming Xiong","Richard Socher"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/AdelGW18","Title":"Discovering Interpretable Representations for Both Deep Generative and Discriminative Models.","url":"http://proceedings.mlr.press/v80/adel18a.html","Year":"2018","Venue":{"isOld":true,"value":"ICML"},"Authors":["Tameem Adel","Zoubin Ghahramani","Adrian Weller"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/AinsworthFLF18","Title":"oi-VAE - Output Interpretable VAEs for Nonlinear Group Factor Analysis.","url":"http://proceedings.mlr.press/v80/ainsworth18a.html","Year":"2018","Venue":{"isOld":true,"value":"ICML"},"Authors":["Samuel K. Ainsworth","Nicholas J. Foti","Adrian K. C. Lee","Emily B. Fox"],"Type of Data":["Images","Video","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/KimWGCWVS18","Title":"Interpretability Beyond Feature Attribution - Quantitative Testing with Concept Activation Vectors (TCAV).","url":"http://proceedings.mlr.press/v80/kim18d.html","Year":"2018","Venue":{"isOld":true,"value":"ICML"},"Authors":["Been Kim","Martin Wattenberg","Justin Gilmer","Carrie J. Cai","James Wexler","Fernanda B. Vi\xe9gas","Rory Sayres"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/VermaMSKC18","Title":"Programmatically Interpretable Reinforcement Learning.","url":"http://proceedings.mlr.press/v80/verma18a.html","Year":"2018","Venue":{"isOld":true,"value":"ICML"},"Authors":["Abhinav Verma","Vijayaraghavan Murali","Rishabh Singh","Pushmeet Kohli","Swarat Chaudhuri"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"ijcai/HuJCC18","Title":"Interpretable Recommendation via Attraction Modeling - Learning Multilevel Attractiveness over Multimodal Movie Contents.","url":"https://doi.org/10.24963/ijcai.2018/472","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Liang Hu","Songlei Jian","Longbing Cao","Qingkui Chen"],"Type of Data":["Tabular / structured","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"New contents like blogs and online videos are produced in every second in the new media age. We argue that attraction is one of the decisive factors for user selection of new contents. However, collaborative filtering cannot work without user feedback; and the existing content-based recommender systems are ineligible to capture and interpret the attractive points on new contents. Accordingly, we propose attraction modeling to learn and interpret user attractiveness. Specially, we build a multilevel attraction model (MLAM) over the content features -- the story (textual data) and cast members (categorical data) of movies. In particular, we design multilevel personal filters to calculate users\' attractiveness on words, sentences and cast members at different levels. The experimental results show the superiority of MLAM over the state-of-the-art methods. In addition, a case study is provided to demonstrate the interpretability of MLAM by visualizing user attractiveness on a movie.","IsOld":true},{"Paper-ID":"ijcai/LabreucheF18","Title":"Explaining Multi-Criteria Decision Aiding Models with an Extended Shapley Value.","url":"https://doi.org/10.24963/ijcai.2018/46","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Christophe Labreuche","Simon Fossier"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"The capability to explain the result of aggregation models to decision makers is key to reinforcing user trust. In practice, Multi-Criteria Decision Aiding models are often organized in a hierarchical way, based on a tree of criteria. We present an explanation approach usable with any hierarchical multi-criteria model, based on an influence index of each attribute on the decision. A set of desirable axioms are defined. We show that there is a unique index fulfilling these axioms. This new index is an extension of the Shapley value on trees. An efficient rewriting of this index, drastically reducing the computation time, is obtained. Finally, the use of the new index is illustrated on an example.","IsOld":true},{"Paper-ID":"ijcai/LiuSH18","Title":"Contextual Outlier Interpretation.","url":"https://doi.org/10.24963/ijcai.2018/341","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Ninghao Liu","Donghwa Shin","Xia Hu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization","Prototypes","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"While outlier detection has been intensively studied in many applications, interpretation is becoming increasingly important to help people trust and evaluate the developed detection models through providing intrinsic reasons why the given outliers are identified. It is a nontrivial task for interpreting the abnormality of outliers due to the distinct characteristics of different detection models, complicated structures of data in certain applications, and imbalanced distribution of outliers and normal instances. In addition, contexts where outliers locate, as well as the relation between outliers and the contexts, are usually overlooked in existing interpretation frameworks. To tackle the issues, in this paper, we propose a Contextual Outlier INterpretation (COIN) framework to explain the abnormality of outliers spotted by detectors. The interpretability of an outlier is achieved through three aspects, i.e., outlierness score, attributes that contribute to the abnormality, and contextual description of its neighborhoods. Experimental results on various types of datasets demonstrate the flexibility and effectiveness of the proposed framework.","IsOld":true},{"Paper-ID":"ijcai/LuoAPWZYH18","Title":"Beyond Polarity - Interpretable Financial Sentiment Analysis with Hierarchical Query-driven Attention.","url":"https://doi.org/10.24963/ijcai.2018/590","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Ling Luo","Xiang Ao","Feiyang Pan","Jin Wang","Tong Zhao","Ningzi Yu","Qing He"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Sentiment analysis has played a significant role in financial applications in recent years. The informational and emotive aspects of news texts may affect the prices, volatilities, volume of trades, and even potential risks of financial subjects. Previous studies in this field mainly focused on identifying polarity~(e.g. positive or negative). However, as financial decisions broadly require justifications, only plausible polarity cannot provide enough evidence during the decision making processes of humanity. Hence an explainable solution is in urgent demand. In this paper, we present an interpretable neural net framework for financial sentiment analysis. First, we design a hierarchical model to learn the representation of a document from multiple granularities. In addition, we propose a query-driven attention mechanism to satisfy the unique characteristics of financial documents. With the domain specified questions provided by the financial analysts, we can discover different spotlights for queries from different aspects. We conduct extensive experiments on a real-world dataset. The results demonstrate that our framework can learn better representation of the document and unearth meaningful clues on replying different users? preferences. It also outperforms the state-of-the-art methods on sentiment prediction of financial documents.\xa0","IsOld":true},{"Paper-ID":"ijcai/RagoCT18","Title":"Argumentation-Based Recommendations - Fantastic Explanations and How to Find Them.","url":"https://doi.org/10.24963/ijcai.2018/269","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Antonio Rago","Oana Cocarascu","Francesca Toni"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"A significant problem of recommender systems is their inability to explain recommendations, resulting in turn in ineffective feedback from users and the inability to adapt to users\u2019 preferences. We propose a hybrid method for calculating predicted ratings, built upon an item/aspect-based graph with users\u2019 partially given ratings, that can be naturally used to provide explanations for recommendations, extracted from user-tailored Tripolar Argumentation Frameworks (TFs). We show that our method can be understood as a gradual semantics for TFs, exhibiting a desirable, albeit weak, property of balance. We also show experimentally that our method is competitive in generating correct predictions, compared with state-of-the-art methods, and illustrate how users can interact with the generated explanations to improve quality of recommendations.","IsOld":true},{"Paper-ID":"ijcai/SatoSS018","Title":"Interpretable Adversarial Perturbation in Input Embedding Space for Text.","url":"https://doi.org/10.24963/ijcai.2018/601","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Motoki Sato","Jun Suzuki","Hiroyuki Shindo","Yuji Matsumoto"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Following great success in the image processing field, the idea of adversarial training has been applied to tasks in the natural language processing (NLP) field.\\n\\nOne promising approach directly applies adversarial training developed in the image processing field to the input word embedding space instead of the discrete input space of texts.\\n\\nHowever, this approach abandons such interpretability as generating adversarial texts to significantly improve the performance of NLP tasks.\\n\\nThis paper restores interpretability to such methods by restricting the directions of perturbations toward the existing words in the input embedding space.\\n\\nAs a result, we can straightforwardly reconstruct each input with perturbations to an actual text by considering the perturbations to be the replacement of words in the sentence while maintaining or even improving the task performance.","IsOld":true},{"Paper-ID":"ijcai/ShihCD18","Title":"A Symbolic Approach to Explaining Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2018/708","Year":"2018","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Andy Shih","Arthur Choi","Adnan Darwiche"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We propose an approach for explaining Bayesian network classifiers, which is based on compiling such classifiers into decision functions that have a tractable and symbolic form. We introduce two types of explanations for why a classifier may have classified an instance positively or negatively and suggest algorithms for computing these explanations. The first type of explanation identifies a minimal set of the currently active features that is responsible for the current classification, while the second type of explanation identifies a minimal set of features whose current state (active or not) is sufficient for the classification. We consider in particular the compilation of Naive and Latent-Tree Bayesian network classifiers into Ordered Decision Diagrams (ODDs), providing a context for evaluating our proposal using case studies and experiments based on classifiers from the literature.","IsOld":true},{"Paper-ID":"kdd/BaiZEV18","Title":"Interpretable Representation Learning for Healthcare via Capturing Disease Progression through Time.","url":"https://doi.org/10.1145/3219819.3219904","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Tian Bai","Shanshan Zhang","Brian L. Egleston","Slobodan Vucetic"],"Type of Data":["Text","Time series"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Various deep learning models have recently been applied to predictive modeling of Electronic Health Records (EHR). In medical claims data, which is a particular type of EHR data, each patient is represented as a sequence of temporally ordered irregularly sampled visits to health providers, where each visit is recorded as an unordered set of medical codes specifying patient\'s diagnosis and treatment provided during the visit. Based on the observation that different patient conditions have different temporal progression patterns, in this paper we propose a novel interpretable deep learning model, called Timeline. The main novelty of Timeline is that it has a mechanism that learns time decay factors for every medical code. This allows the Timeline to learn that chronic conditions have a longer lasting impact on future visits than acute conditions. Timeline also has an attention mechanism that improves vector embeddings of visits. By analyzing the attention weights and disease progression functions of Timeline, it is possible to interpret the predictions and understand how risks of future visits change over time. We evaluated Timeline on two large-scale real world data sets. The specific task was to predict what is the primary diagnosis category for the next hospital visit given previous visits. Our results show that Timeline has higher accuracy than the state of the art deep learning models based on RNN. In addition, we demonstrate that time decay factors and attentions learned by Timeline are in accord with the medical knowledge and that Timeline can provide a useful insight into its predictions.","IsOld":true},{"Paper-ID":"kdd/ChuHHWP18","Title":"Exact and Consistent Interpretation for Piecewise Linear Neural Networks - A Closed Form Solution.","url":"https://doi.org/10.1145/3219819.3220063","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Lingyang Chu","Xia Hu","Juhua Hu","Lanjun Wang","Jian Pei"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Strong intelligent machines powered by deep neural networks are increasingly deployed as black boxes to make decisions in risk-sensitive domains, such as finance and medical. To reduce potential risk and build trust with users, it is critical to interpret how such machines make their decisions. Existing works interpret a pre-trained neural network by analyzing hidden neurons, mimicking pre-trained models or approximating local predictions. However, these methods do not provide a guarantee on the exactness and consistency of their interpretations. In this paper, we propose an elegant closed form solution named $OpenBox$ to compute exact and consistent interpretations for the family of Piecewise Linear Neural Networks (PLNN). The major idea is to first transform a PLNN into a mathematically equivalent set of linear classifiers, then interpret each linear classifier by the features that dominate its prediction. We further apply $OpenBox$ to demonstrate the effectiveness of non-negative and sparse constraints on improving the interpretability of PLNNs. The extensive experiments on both synthetic and real world data sets clearly demonstrate the exactness and consistency of our interpretation.","IsOld":true},{"Paper-ID":"kdd/DuLSH18","Title":"Towards Explanation of DNN-based Prediction with Guided Feature Inversion.","url":"https://doi.org/10.1145/3219819.3220099","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Mengnan Du","Ninghao Liu","Qingquan Song","Xia Hu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"While deep neural networks (DNN) have become an effective computational tool, the prediction results are often criticized by the lack of interpretability, which is essential in many real-world applications such as health informatics. Existing attempts based on local interpretations aim to identify relevant features contributing the most to the prediction of DNN by monitoring the neighborhood of a given input. They usually simply ignore the intermediate layers of the DNN that might contain rich information for interpretation. To bridge the gap, in this paper, we propose to investigate a guided feature inversion framework for taking advantage of the deep architectures towards effective interpretation. The proposed framework not only determines the contribution of each feature in the input but also provides insights into the decision-making process of DNN models. By further interacting with the neuron of the target category at the output layer of the DNN, we enforce the interpretation result to be class-discriminative. We apply the proposed interpretation model to different CNN architectures to provide explanations for image data and conduct extensive experiments on ImageNet and PASCAL VOC07 datasets. The interpretation results demonstrate the effectiveness of our proposed framework in providing class-discriminative interpretation for DNN-based prediction.","IsOld":true},{"Paper-ID":"kdd/Janakiraman18","Title":"Explaining Aviation Safety Incidents Using Deep Temporal Multiple Instance Learning.","url":"https://doi.org/10.1145/3219819.3219871","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Vijay Manikandan Janakiraman"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Although aviation accidents are rare, safety incidents occur more frequently and require a careful analysis to detect and mitigate risks in a timely manner. Analyzing safety incidents using operational data and producing event-based explanations is invaluable to airline companies as well as to governing organizations such as the Federal Aviation Administration (FAA) in the United States. However, this task is challenging because of the complexity involved in mining multi-dimensional heterogeneous time series data, the lack of time-step-wise annotation of events in a flight, and the lack of scalable tools to perform analysis over a large number of events. In this work, we propose a precursor mining algorithm that identifies events in the multidimensional time series that are correlated with the safety incident. Precursors are valuable to systems health and safety monitoring and in explaining and forecasting safety incidents. Current methods suffer from poor scalability to high dimensional time series data and are inefficient in capturing temporal behavior. We propose an approach by combining multiple-instance learning (MIL) and deep recurrent neural networks (DRNN) to take advantage of MIL\'s ability to learn using weakly supervised data and DRNN\'s ability to model temporal behavior. We describe the algorithm, the data, the intuition behind taking a MIL approach, and a comparative analysis of the proposed algorithm with baseline models. We also discuss the application to a real-world aviation safety problem using data from a commercial airline company and discuss the model\'s abilities and shortcomings, with some final remarks about possible deployment directions.","IsOld":true},{"Paper-ID":"kdd/LiuHLH18","Title":"On Interpretation of Network Embedding via Taxonomy Induction.","url":"https://doi.org/10.1145/3219819.3220001","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Ninghao Liu","Xiao Huang","Jundong Li","Xia Hu"],"Type of Data":["Graph data","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Representation Visualization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Network embedding has been increasingly used in many network analytics applications to generate low-dimensional vector representations, so that many off-the-shelf models can be applied to solve a wide variety of data mining tasks. However, similar to many other machine learning methods, network embedding results remain hard to be understood by users. Each dimension in the embedding space usually does not have any specific meaning, thus it is difficult to comprehend how the embedding instances are distributed in the reconstructed space. In addition, heterogeneous content information may be incorporated into network embedding, so it is challenging to specify which source of information is effective in generating the embedding results. In this paper, we investigate the interpretation of network embedding, aiming to understand how instances are distributed in embedding space, as well as explore the factors that lead to the embedding results. We resort to the post-hoc interpretation scheme, so that our approach can be applied to different types of embedding methods. Specifically, the interpretation of network embedding is presented in the form of a taxonomy. Effective objectives and corresponding algorithms are developed towards building the taxonomy. We also design several metrics to evaluate interpretation results. Experiments on real-world datasets from different domains demonstrate that, by comparing with the state-of-the-art alternatives, our approach produces effective and meaningful interpretation to embedding results.","IsOld":true},{"Paper-ID":"kdd/LiuYH18","Title":"Adversarial Detection with Model Interpretation.","url":"https://doi.org/10.1145/3219819.3220027","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Ninghao Liu","Hongxia Yang","Xia Hu"],"Type of Data":["Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Machine learning (ML) systems have been increasingly applied in web security applications such as spammer detection, malware detection and fraud detection. These applications have an intrinsic adversarial nature where intelligent attackers can adaptively change their behaviors to avoid being detected by the deployed detectors. Existing efforts against adversaries are usually limited by the type of applied ML models or the specific applications such as image classification. Additionally, the working mechanisms of ML models usually cannot be well understood by users, which in turn impede them from understanding the vulnerabilities of models nor improving their robustness. To bridge the gap, in this paper, we propose to investigate whether model interpretation could potentially help adversarial detection. Specifically, we develop a novel adversary-resistant detection framework by utilizing the interpretation of ML models. The interpretation process explains the mechanism of how the target ML model makes prediction for a given instance, thus providing more insights for crafting adversarial samples. The robustness of detectors is then improved through adversarial training with the adversarial samples. A data-driven method is also developed to empirically estimate costs of adversaries in feature manipulation. Our approach is model-agnostic and can be applied to various types of classification models. Our experimental results on two real-world datasets demonstrate the effectiveness of interpretation-based attacks and how estimated feature manipulation cost would affect the behavior of adversaries.","IsOld":true},{"Paper-ID":"kdd/WangWLW18","Title":"Multilevel Wavelet Decomposition Network for Interpretable Time Series Analysis.","url":"https://doi.org/10.1145/3219819.3220060","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Jingyuan Wang","Ze Wang","Jianfeng Li","Junjie Wu"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Recent years have witnessed the unprecedented rising of time series from almost all kindes of academic and industrial fields. Various types of deep neural network models have been introduced to time series analysis, but the important frequency information is yet lack of effective modeling. In light of this, in this paper we propose a wavelet-based neural network structure called multilevel Wavelet Decomposition Network (mWDN) for building frequency-aware deep learning models for time series analysis. mWDN preserves the advantage of multilevel discrete wavelet decomposition in frequency learning while enables the fine-tuning of all parameters under a deep neural network framework. Based on mWDN, we further propose two deep learning models called Residual Classification Flow (RCF) and multi-frequecy Long Short-Term Memory (mLSTM) for time series classification and forecasting, respectively. The two models take all or partial mWDN decomposed sub-series in different frequencies as input, and resort to the back propagation algorithm to learn all the parameters globally, which enables seamless embedding of wavelet-based frequency analysis into deep learning frameworks. Extensive experiments on 40 UCR datasets and a real-world user volume dataset demonstrate the excellent performance of our time series models based on mWDN. In particular, we propose an importance analysis method to mWDN based models, which successfully identifies those time-series elements and mWDN layers that are crucially important to time series analysis. This indeed indicates the interpretability advantage of mWDN, and can be viewed as an indepth exploration to interpretable deep learning.","IsOld":true},{"Paper-ID":"kdd/YangSJ018","Title":"I Know You\'ll Be Back - Interpretable New User Clustering and Churn Prediction on a Mobile Social Application.","url":"https://doi.org/10.1145/3219819.3219821","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Carl Yang","Xiaolin Shi","Luo Jie","Jiawei Han"],"Type of Data":["Time series","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Clustering","Classification"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"As online platforms are striving to get more users, a critical challenge is user churn, which is especially concerning for new users. In this paper, by taking the anonymous large-scale real-world data from Snapchat as an example, we develop ClusChurn , a systematic two-step framework for interpretable new user clustering and churn prediction, based on the intuition that proper user clustering can help understand and predict user churn. Therefore, ClusChurn firstly groups new users into interpretable typical clusters, based on their activities on the platform and ego-network structures. Then we design a novel deep learning pipeline based on LSTM and attention to accurately predict user churn with very limited initial behavior data, by leveraging the correlations among users\' multi- dimensional activities and the underlying user types. ClusChurn is also able to predict user types, which enables rapid reactions to different types of user churn. Extensive data analysis and experiments show that ClusChurn provides valuable insight into user behaviors, and achieves state-of-the-art churn prediction performance. The whole framework is deployed as a data analysis pipeline, delivering real-time data analysis and prediction results to multiple relevant teams for business intelligence uses. It is also general enough to be readily adopted by any online systems with user behavior data.","IsOld":true},{"Paper-ID":"kdd/ZangC018","Title":"Learning and Interpreting Complex Distributions in Empirical Data.","url":"https://doi.org/10.1145/3219819.3220073","Year":"2018","Venue":{"isOld":true,"value":"KDD"},"Authors":["Chengxi Zang","Peng Cui","Wenwu Zhu"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"To fit empirical data distributions and then interpret them in a generative way is a common research paradigm to understand the structure and dynamics underlying the data in various disciplines. However, previous works mainly attempt to fit or interpret empirical data distributions in a case-by-case way. Faced with complex data distributions in the real world, can we fit and interpret them by a unified but parsimonious parametric model? In this paper, we view the complex empirical data as being generated by a dynamic system which takes uniform randomness as input. By modeling the generative dynamics of data, we showcase a four-parameter dynamic model together with inference and simulation algorithms, which is able to fit and generate a family of distributions, ranging from Gaussian, Exponential, Power Law, Stretched Exponential (Weibull), to their complex variants with multi-scale complexities. Rather than a black box, our model can be interpreted by a unified differential equation, which captures the underlying generative dynamics. More powerful models can be constructed by our framework in a principled way. We validate our model by various synthetic datasets. We then apply our model to $16$ real-world datasets from different disciplines. We show the systematic biases of fitting these datasets by the most widely used methods and show the superiority of our model. In short, our model potentially provides a framework to fit complex distributions in empirical data, and more importantly, to understand their generative mechanisms.","IsOld":true},{"Paper-ID":"nips/CamburuRLB18","Title":"e-SNLI - Natural Language Inference with Natural Language Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/4c7a167bb329bd92580a99ce422d6fa6-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Oana-Maria Camburu","Tim Rockt\xe4schel","Thomas Lukasiewicz","Phil Blunsom"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/GuoHTXL18","Title":"Explaining Deep Learning Models - A Bayesian Non-parametric Approach.","url":"https://proceedings.neurips.cc/paper/2018/hash/4b4edc2630fe75800ddc29a7b4070add-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Wenbo Guo","Sui Huang","Yunzhe Tao","Xinyu Xing","Lin Lin"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/GuptaBCC18","Title":"Diminishing Returns Shape Constraints for Interpretability and Regularization.","url":"https://proceedings.neurips.cc/paper/2018/hash/caa202034f268232c26fac9435f54e15-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Maya R. Gupta","Dara Bahri","Andrew Cotter","Kevin Robert Canini"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/HeoLKLKYH18","Title":"Uncertainty-Aware Attention for Reliable Interpretation and Prediction.","url":"https://proceedings.neurips.cc/paper/2018/hash/285e19f20beded7d215102b49d5c09a0-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Jay Heo","Haebeom Lee","Saehoon Kim","Juho Lee","Kwang Joon Kim","Eunho Yang","Sung Ju Hwang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/Norcliffe-Brown18","Title":"Learning Conditioned Graph Structures for Interpretable Visual Question Answering.","url":"https://proceedings.neurips.cc/paper/2018/hash/4aeae10ea1c6433c926cdfa558d31134-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Will Norcliffe-Brown","Stathis Vafeias","Sarah Parisot"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/PlumbMT18","Title":"Model Agnostic Supervised Local Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/b495ce63ede0f4efc9eec62cb947c162-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Gregory Plumb","Denali Molitor","Ameet S. Talwalkar"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection","Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/TsangLPML18","Title":"Neural Interaction Transparency (NIT) - Disentangling Learned Interactions for Improved Interpretability.","url":"https://proceedings.neurips.cc/paper/2018/hash/74378afe5e8b20910cf1f939e57f0480-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Michael Tsang","Hanpeng Liu","Sanjay Purushotham","Pavankumar Murali","Yan Liu"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/Wang18","Title":"Multi-value Rule Sets for Interpretable Classification with Feature-Efficient Representations.","url":"https://proceedings.neurips.cc/paper/2018/hash/32bbf7b2bc4ed14eb1e9c2580056a989-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Tong Wang"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/YehKYR18","Title":"Representer Point Selection for Explaining Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/8a7129b8f3edd95b7d969dfc2c8e9d9d-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Chih-Kuan Yeh","Joon Sik Kim","Ian En-Hsu Yen","Pradeep Ravikumar"],"Type of Data":["Any","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ZhangSS18","Title":"Interpreting Neural Network Judgments via Minimal, Stable, and Symbolic Corrections.","url":"https://proceedings.neurips.cc/paper/2018/hash/300891a62162b960cf02ce3827bb363c-Abstract.html","Year":"2018","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Xin Zhang","Armando Solar-Lezama","Rishabh Singh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/WangWJY18","Title":"Explainable Recommendation via Multi-Task Learning in Opinionated Text Data.","url":"https://doi.org/10.1145/3209978.3210010","Year":"2018","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Nan Wang","Hongning Wang","Yiling Jia","Yue Yin"],"Type of Data":["User-item matrix","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Explaining automatically generated recommendations allows users to make more informed and accurate decisions about which results to utilize, and therefore improves their satisfaction. In this work, we develop a multi-task learning solution for explainable recommendation. Two companion learning tasks of user preference modeling for recommendation and opinionated content modeling for explanation are integrated via a joint tensor factorization. As a result, the algorithm predicts not only a user\'s preference over a list of items, i.e., recommendation, but also how the user would appreciate a particular item at the feature level, i.e., opinionated textual explanation. Extensive experiments on two large collections of Amazon and Yelp reviews confirmed the effectiveness of our solution in both recommendation and explanation tasks, compared with several existing recommendation algorithms. And our extensive user study clearly demonstrates the practical value of the explainable recommendations generated by our algorithm.","IsOld":true},{"Paper-ID":"www/ChenZLM18","Title":"Neural Attentional Rating Regression with Review-level Explanations.","url":"https://doi.org/10.1145/3178876.3186070","Year":"2018","Venue":{"isOld":true,"value":"WWW"},"Authors":["Chong Chen","Min Zhang","Yiqun Liu","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Reviews information is dominant for users to make online purchasing decisions in e-commerces. However, the usefulness of reviews is varied. We argue that less-useful reviews hurt model\'s performance, and are also less meaningful for user\'s reference. While some existing models utilize reviews for improving the performance of recommender systems, few of them consider the usefulness of reviews for recommendation quality. In this paper, we introduce a novel attention mechanism to explore the usefulness of reviews, and propose a Neural Attentional Regression model with Review-level Explanations (NARRE) for recommendation. Specifically, NARRE can not only predict precise ratings, but also learn the usefulness of each review simultaneously. Therefore, the highly-useful reviews are obtained which provide review-level explanations to help users make better and faster decisions. Extensive experiments on benchmark datasets of Amazon and Yelp on different domains show that the proposed NARRE model consistently outperforms the state-of-the-art recommendation approaches, including PMF, NMF, SVD++, HFT, and DeepCoNN in terms of rating prediction, by the proposed attention model that takes review usefulness into consideration. Furthermore, the selected reviews are shown to be effective when taking existing review-usefulness ratings in the system as ground truth. Besides, crowd-sourcing based evaluations reveal that in most cases, NARRE achieves equal or even better performances than system\'s usefulness rating method in selecting reviews. And it is flexible to offer great help on the dominant cases in real e-commerce scenarios when the ratings on review-usefulness are not available in the system.","IsOld":true},{"Paper-ID":"www/Wang0FNC18","Title":"TEM - Tree-enhanced Embedding Model for Explainable Recommendation.","url":"https://doi.org/10.1145/3178876.3186066","Year":"2018","Venue":{"isOld":true,"value":"WWW"},"Authors":["Xiang Wang","Xiangnan He","Fuli Feng","Liqiang Nie","Tat-Seng Chua"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"While collaborative filtering is the dominant technique in personalized recommendation, it models user-item interactions only and cannot provide concrete reasons for a recommendation. Meanwhile, the rich side information affiliated with user-item interactions (e.g., user demographics and item attributes), which provide valuable evidence that why a recommendation is suitable for a user, has not been fully explored in providing explanations. On the technical side, embedding-based methods, such as Wide&Deep and neural factorization machines, provide state-of-the-art recommendation performance. However, they work like a black-box, for which the reasons underlying a prediction cannot be explicitly presented. On the other hand, tree-based methods like decision trees predict by inferring decision rules from data. While being explainable, they cannot generalize to unseen feature interactions thus fail in collaborative filtering applications. In this work, we propose a novel solution named Tree-enhanced Embedding Method that combines the strengths of embedding-based and tree-based models. We first employ a tree-based model to learn explicit decision rules (aka. cross features) from the rich side information. We next design an embedding model that can incorporate explicit cross features and generalize to unseen cross features on user ID and item ID. At the core of our embedding method is an easy-to-interpret attention network, making the recommendation process fully transparent and explainable. We conduct experiments on two datasets of tourist attraction and restaurant recommendation, demonstrating the superior performance and explainability of our solution.","IsOld":true},{"Paper-ID":"www/WuWYLZ18","Title":"Sharing Deep Neural Network Models with Interpretation.","url":"https://doi.org/10.1145/3178876.3185995","Year":"2018","Venue":{"isOld":true,"value":"WWW"},"Authors":["Huijun Wu","Chen Wang","Jie Yin","Kai Lu","Liming Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite outperforming humans in many tasks, deep neural network models are also criticized for the lack of transparency and interpretability in decision making. The opaqueness results in uncertainty and low confidence when deploying such a model in model sharing scenarios, where the model is developed by a third party. For a supervised machine learning model, sharing training process including training data is a way to gain trust and to better understand model predictions. However, it is not always possible to share all training data due to privacy and policy constraints. In this paper, we propose a method to disclose a small set of training data that is just sufficient for users to get the insight into a complicated model. The method constructs a boundary tree using selected training data and the tree is able to approximate the complicated deep neural network models with high fidelity. We show that data point pairs in the tree give users significantly better understanding of the model decision boundaries and paves the way for trustworthy model sharing.","IsOld":true},{"Paper-ID":"aaai/ZhangCWZ17","Title":"Growing Interpretable Part Graphs on ConvNets via Multi-Shot Learning.","url":"http://aaai.org/ocs/index.php/AAAI/AAAI17/paper/view/14909","Year":"2017","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Quanshi Zhang","Ruiming Cao","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"acl/XieMDH17","Title":"An Interpretable Knowledge Transfer Model for Knowledge Base Completion.","url":"https://doi.org/10.18653/v1/P17-1088","Year":"2017","Venue":{"isOld":true,"value":"ACL"},"Authors":["Qizhe Xie","Xuezhe Ma","Zihang Dai","Eduard H. Hovy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Knowledge bases are important resources for a variety of natural language processing tasks but suffer from incompleteness. We propose a novel embedding model, ITransF, to perform knowledge base completion. Equipped with a sparse attention mechanism, ITransF discovers hidden concepts of relations and transfer statistical strength through the sharing of concepts. Moreover, the learned associations between relations and concepts, which are represented by sparse attention vectors, can be interpreted easily. We evaluate ITransF on two benchmark datasets\u2014WN18 and FB15k for knowledge base completion and obtains improvements on both the mean rank and Hits@10 metrics, over all baselines that do not use additional information.","IsOld":true},{"Paper-ID":"cvpr/BauZKO017","Title":"Network Dissection - Quantifying Interpretability of Deep Visual Representations.","url":"https://doi.org/10.1109/CVPR.2017.354","Year":"2017","Venue":{"isOld":true,"value":"CVPR"},"Authors":["David Bau","Bolei Zhou","Aditya Khosla","Aude Oliva","Antonio Torralba"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We propose a general framework called Network Dissection for quantifying the interpretability of latent representations of CNNs by evaluating the alignment between individual hidden units and a set of semantic concepts. Given any CNN model, the proposed method draws on a data set of concepts to score the semantics of hidden units at each intermediate convolutional layer. The units with semantics are labeled across a broad range of visual concepts including objects, parts, scenes, textures, materials, and colors. We use the proposed method to test the hypothesis that interpretability is an axis-independent property of the representation space, then we apply the method to compare the latent representations of various networks when trained to solve different classification problems. We further analyze the effect of training iterations, compare networks trained with different initializations, and measure the effect of dropout and batch normalization on the interpretability of deep visual representations. We demonstrate that the proposed method can shed light on characteristics of CNN models and training methods that go beyond measurements of their discriminative power.","IsOld":true},{"Paper-ID":"cvpr/DongSZZ17","Title":"Improving Interpretability of Deep Neural Networks with Semantic Information.","url":"https://doi.org/10.1109/CVPR.2017.110","Year":"2017","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Yinpeng Dong","Hang Su","Jun Zhu","Bo Zhang"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Interpretability of deep neural networks (DNNs) is essential since it enables users to understand the overall strengths and weaknesses of the models, conveys an understanding of how the models will behave in the future, and how to diagnose and correct potential problems. However, it is challenging to reason about what a DNN actually does due to its opaque or black-box nature. To address this issue, we propose a novel technique to improve the interpretability of DNNs by leveraging the rich semantic information embedded in human descriptions. By concentrating on the video captioning task, we first extract a set of semantically meaningful topics from the human descriptions that cover a wide range of visual concepts, and integrate them into the model with an interpretive loss. We then propose a prediction difference maximization algorithm to interpret the learned features of each neuron. Experimental results demonstrate its effectiveness in video captioning using the interpretable features, which can also be transferred to video action recognition. By clearly understanding the learned features, users can easily revise false predictions via a human-in-the-loop procedure.","IsOld":true},{"Paper-ID":"cvpr/LiangLSFYX17","Title":"Interpretable Structure-Evolving LSTM.","url":"https://doi.org/10.1109/CVPR.2017.234","Year":"2017","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Xiaodan Liang","Liang Lin","Xiaohui Shen","Jiashi Feng","Shuicheng Yan","Eric P. Xing"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"This paper develops a general framework for learning interpretable data representation via Long Short-Term Memory (LSTM) recurrent neural networks over hierarchal graph structures. Instead of learning LSTM models over the pre-fixed structures, we propose to further learn the intermediate interpretable multi-level graph structures in a progressive and stochastic way from data during the LSTM network optimization. We thus call this model the structure-evolving LSTM. In particular, starting with an initial element-level graph representation where each node is a small data element, the structure-evolving LSTM gradually evolves the multi-level graph representations by stochastically merging the graph nodes with high compatibilities along the stacked LSTM layers. In each LSTM layer, we estimate the compatibility of two connected nodes from their corresponding LSTM gate outputs, which is used to generate a merging probability. The candidate graph structures are accordingly generated where the nodes are grouped into cliques with their merging probabilities. We then produce the new graph structure with a Metropolis-Hasting algorithm, which alleviates the risk of getting stuck in local optimums by stochastic sampling with an acceptance probability. Once a graph structure is accepted, a higher-level graph is then constructed by taking the partitioned cliques as its nodes. During the evolving process, representation becomes more abstracted in higher-levels where redundant information is filtered out, allowing more efficient propagation of long-range data dependencies. We evaluate the effectiveness of structure-evolving LSTM in the application of semantic object parsing and demonstrate its advantage over state-of-the-art LSTM models on standard benchmarks.","IsOld":true},{"Paper-ID":"iccv/KimC17","Title":"Interpretable Learning for Self-Driving Cars by Visualizing Causal Attention.","url":"https://doi.org/10.1109/ICCV.2017.320","Year":"2017","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Jinkyu Kim","John F. Canny"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep neural perception and control networks are likely to be a key component of self-driving vehicles. These models need to be explainable - they should provide easy-tointerpret rationales for their behavior - so that passengers, insurance companies, law enforcement, developers etc., can understand what triggered a particular behavior. Here we explore the use of visual explanations. These explanations take the form of real-time highlighted regions of an image that causally influence the network\u2019s output (steering control). Our approach is two-stage. In the first stage, we use a visual attention model to train a convolution network endto- end from images to steering angle. The attention model highlights image regions that potentially influence the network\u2019s output. Some of these are true influences, but some are spurious. We then apply a causal filtering step to determine which input regions actually influence the output. This produces more succinct visual explanations and more accurately exposes the network\u2019s behavior. We demonstrate the effectiveness of our model on three datasets totaling 16 hours of driving. We first show that training with attention does not degrade the performance of the end-to-end network. Then we show that the network causally cues on a variety of features that are used by humans while driving.","IsOld":true},{"Paper-ID":"iccv/SelvarajuCDVPB17","Title":"Grad-CAM - Visual Explanations from Deep Networks via Gradient-Based Localization.","url":"https://doi.org/10.1109/ICCV.2017.74","Year":"2017","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Ramprasaath R. Selvaraju","Michael Cogswell","Abhishek Das","Ramakrishna Vedantam","Devi Parikh","Dhruv Batra"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"We propose a technique for producing \u2018visual explanations\u2019 for decisions from a large class of Convolutional Neural Network (CNN)-based models, making them more transparent. Our approach \u2013 Gradient-weighted Class Activation Mapping (Grad-CAM), uses the gradients of any target concept (say logits for \u2018dog\u2019 or even a caption), flowing into the final convolutional layer to produce a coarse localization map highlighting the important regions in the image for predicting the concept. Unlike previous approaches, Grad- CAM is applicable to a wide variety of CNN model-families: (1) CNNs with fully-connected layers (e.g. VGG), (2) CNNs used for structured outputs (e.g. captioning), (3) CNNs used in tasks with multi-modal inputs (e.g. visual question answering) or reinforcement learning, without architectural changes or re-training. We combine Grad-CAM with existing fine-grained visualizations to create a high-resolution class-discriminative visualization, Guided Grad-CAM, and apply it to image classification, image captioning, and visual question answering (VQA) models, including ResNet-based architectures. In the context of image classification models, our visualizations (a) lend insights into failure modes of these models (showing that seemingly unreasonable predictions have reasonable explanations), (b) outperform previous methods on the ILSVRC-15 weakly-supervised localization task, (c) are more faithful to the underlying model, and (d) help achieve model generalization by identifying dataset bias. For image captioning and VQA, our visualizations show even non-attention based models can localize inputs. Finally, we design and conduct human studies to measure if Grad-CAM explanations help users establish appropriate trust in predictions from deep networks and show that Grad-CAM helps untrained users successfully discern a \u2018stronger\u2019 deep network from a \u2018weaker\u2019 one even when both make identical predictions. Our code is available at https: //github.com/ramprs/grad-cam/ along with a demo on CloudCV [2] and video at youtu.be/COjUB9Izk6E.","IsOld":true},{"Paper-ID":"iccv/WorrallGTB17","Title":"Interpretable Transformations with Encoder-Decoder Networks.","url":"https://doi.org/10.1109/ICCV.2017.611","Year":"2017","Venue":{"isOld":true,"value":"ICCV"},"Authors":["Daniel E. Worrall","Stephan J. Garbin","Daniyar Turmukhambetov","Gabriel J. Brostow"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Deep feature spaces have the capacity to encode complex transformations of their input data. However, understanding the relative feature-space relationship between two transformed encoded images is difficult. For instance, what is the relative feature space relationship between two rotated images? What is decoded when we interpolate in feature space? Ideally, we want to disentangle confounding factors, such as pose, appearance, and illumination, from object identity. Disentangling these is difficult because they interact in very nonlinear ways. We propose a simple method to construct a deep feature space, with explicitly disentangled representations of several known transformations. A person or algorithm can then manipulate the disentangled representation, for example, to re-render an image with explicit control over parameterized degrees of freedom. The feature space is constructed using a transforming encoder-decoder network with a custom feature transform layer, acting on the hidden representations. We demonstrate the advantages of explicit disentangling on a variety of datasets and transformations, and as an aid for traditional tasks, such as classification.","IsOld":true},{"Paper-ID":"icdm/OyamadaN17","Title":"Relational Mixture of Experts - Explainable Demographics Prediction with Behavioral Data.","url":"https://doi.org/10.1109/ICDM.2017.45","Year":"2017","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Masafumi Oyamada","Shinji Nakadai"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Support Vector Machine","Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Given a collection of basic customer demographics (e.g., age and gender) andtheir behavioral data (e.g., item purchase histories), how can we predictsensitive demographics (e.g., income and occupation) that not every customermakes available?This demographics prediction problem is modeled as a classification task inwhich a customer\'s sensitive demographic y is predicted from his featurevector x. So far, two lines of work have tried to produce a\\"good\\" feature vector x from the customer\'s behavioraldata: (1) application-specific feature engineering using behavioral data and (2) representation learning (such as singular value decomposition or neuralembedding) on behavioral data. Although these approaches successfullyimprove the predictive performance, (1) designing a good feature requiresdomain experts to make a great effort and (2) features obtained fromrepresentation learning are hard to interpret. To overcome these problems, we present a Relational Infinite SupportVector Machine (R-iSVM), a mixture-of-experts model that can leveragebehavioral data. Instead of augmenting the feature vectors of customers, R-iSVM uses behavioral data to find out behaviorally similar customerclusters and constructs a local prediction model at each customer cluster. In doing so, R-iSVM successfully improves the predictive performance withoutrequiring application-specific feature designing and hard-to-interpretrepresentations. Experimental results on three real-world datasets demonstrate the predictiveperformance and interpretability of R-iSVM. Furthermore, R-iSVM can co-existwith previous demographics prediction methods to further improve theirpredictive performance.","IsOld":true},{"Paper-ID":"iclr/YuV17","Title":"Towards Deep Interpretability (MUS-ROVER II) - Learning Hierarchical Representations of Tonal Music.","url":"https://openreview.net/forum?id=ryhqQFKgl","Year":"2017","Venue":{"isOld":true,"value":"ICLR"},"Authors":["Haizi Yu","Lav R. Varshney"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Decision Rules","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/DempseyMSDGMR17","Title":"iSurvive - An Interpretable, Event-time Prediction Model for mHealth.","url":"http://proceedings.mlr.press/v70/dempsey17a.html","Year":"2017","Venue":{"isOld":true,"value":"ICML"},"Authors":["Walter H. Dempsey","Alexander Moreno","Christy K. Scott","Michael L. Dennis","David H. Gustafson","Susan A. Murphy","James M. Rehg"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icml/FoersterGSCS17","Title":"Input Switched Affine Networks - An RNN Architecture Designed for Interpretability.","url":"http://proceedings.mlr.press/v70/foerster17a.html","Year":"2017","Venue":{"isOld":true,"value":"ICML"},"Authors":["Jakob N. Foerster","Justin Gilmer","Jascha Sohl-Dickstein","Jan Chorowski","David Sussillo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"ijcai/RossHD17","Title":"Right for the Right Reasons - Training Differentiable Models by Constraining their Explanations.","url":"https://doi.org/10.24963/ijcai.2017/371","Year":"2017","Venue":{"isOld":true,"value":"IJCAI"},"Authors":["Andrew Slavin Ross","Michael C. Hughes","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Neural networks are among the most accurate supervised learning methods in use today, but their opacity makes them difficult to trust in critical applications, especially when conditions in training differ from those in test. Recent work on explanations for black-box models has produced tools (e.g. LIME) to show the implicit rules behind predictions, which can help us identify when models are right for the wrong reasons. However, these methods do not scale to explaining entire datasets and cannot correct the problems they reveal. We introduce a method for efficiently explaining and regularizing differentiable models by examining and selectively penalizing their input gradients, which provide a normal to the decision boundary. We apply these penalties both based on expert annotation and in an unsupervised fashion that encourages diverse models with qualitatively different decision boundaries for the same classification problem. On multiple datasets, we show our approach generates faithful explanations and models that generalize much better when conditions differ between training and test.","IsOld":true},{"Paper-ID":"kdd/TolomeiSHL17","Title":"Interpretable Predictions of Tree-based Ensembles via Actionable Feature Tweaking.","url":"https://doi.org/10.1145/3097983.3098039","Year":"2017","Venue":{"isOld":true,"value":"KDD"},"Authors":["Gabriele Tolomei","Fabrizio Silvestri","Andrew Haines","Mounia Lalmas"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Machine-learned models are often described as \\"black boxes\\". In many real-world applications however, models may have to sacrifice predictive power in favour of human-interpretability. When this is the case, feature engineering becomes a crucial task, which requires significant and time-consuming human effort. Whilst some features are inherently static, representing properties that cannot be influenced (e.g., the age of an individual), others capture characteristics that could be adjusted (e.g., the daily amount of carbohydrates taken). Nonetheless, once a model is learned from the data, each prediction it makes on new instances is irreversible - assuming every instance to be a static point located in the chosen feature space. There are many circumstances however where it is important to understand (i) why a model outputs a certain prediction on a given instance, (ii) which adjustable features of that instance should be modified, and finally (iii) how to alter such a prediction when the mutated instance is input back to the model. In this paper, we present a technique that exploits the internals of a tree-based ensemble classifier to offer recommendations for transforming true negative instances into positively predicted ones. We demonstrate the validity of our approach using an online advertising application. First, we design a Random Forest classifier that effectively separates between two types of ads: low (negative) and high (positive) quality ads (instances). Then, we introduce an algorithm that provides recommendations that aim to transform a low quality ad (negative instance) into a high quality one (positive instance). Finally, we evaluate our approach on a subset of the active inventory of a large ad network, Yahoo Gemini.","IsOld":true},{"Paper-ID":"nips/ElenbergDFK17","Title":"Streaming Weak Submodularity - Interpreting Neural Networks on the Fly.","url":"https://proceedings.neurips.cc/paper/2017/hash/c182f930a06317057d31c73bb2fedd4f-Abstract.html","Year":"2017","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Ethan R. Elenberg","Alexandros G. Dimakis","Moran Feldman","Amin Karbasi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/HsuZG17","Title":"Unsupervised Learning of Disentangled and Interpretable Representations from Sequential Data.","url":"https://proceedings.neurips.cc/paper/2017/hash/0a0a0c8aaa00ade50f74a3f0ca981ed7-Abstract.html","Year":"2017","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Wei-Ning Hsu","Yu Zhang","James R. Glass"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/LiSE17","Title":"InfoGAIL - Interpretable Imitation Learning from Visual Demonstrations.","url":"https://proceedings.neurips.cc/paper/2017/hash/2cd4e8a2ce081c3d7c32c3cde4312ef7-Abstract.html","Year":"2017","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Yunzhu Li","Jiaming Song","Stefano Ermon"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/LundbergL17","Title":"A Unified Approach to Interpreting Model Predictions.","url":"https://proceedings.neurips.cc/paper/2017/hash/8a20a8621978632d76c43dfd28b67767-Abstract.html","Year":"2017","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Scott M. Lundberg","Su-In Lee"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/RaghuGYS17","Title":"SVCCA - Singular Vector Canonical Correlation Analysis for Deep Learning Dynamics and Interpretability.","url":"https://proceedings.neurips.cc/paper/2017/hash/dc6a7e655d7e5840e66733e9ee67cc69-Abstract.html","Year":"2017","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Maithra Raghu","Justin Gilmer","Jason Yosinski","Jascha Sohl-Dickstein"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"icdm/ChenCHCCSD16","Title":"Interpretable Clustering via Discriminative Rectangle Mixture Model.","url":"https://doi.org/10.1109/ICDM.2016.0097","Year":"2016","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Junxiang Chen","Yale Chang","Brian Hobbs","Peter J. Castaldi","Michael H. Cho","Edwin K. Silverman","Jennifer G. Dy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Clustering is a technique that is usually applied as a tool for exploratory data analysis. Because of the exploratory nature of this task, it would be beneficial if a clustering method generates interpretable results, and allows incorporating domain knowledge. This motivates us to develop a probabilistic discriminative model that learns a rectangular decision rule for each cluster, we call Discriminative Rectangle Mixture (DReaM) model. DReaM gives interpretable clustering results, because the rectangular decision rules discovered explicitly illustrate how one cluster is defined and differs from other clusters. It also facilitates us to take advantage of existing rules because we can choose informative prior distributions for the rectangular rules. Moreover, DReaM allows that the features for generating rules do not have to be the same as the features for discovering cluster structure. We approximate the distribution for the rules discovered via variational inference. Experimental results demonstrate that DReaM gives more interpretable clustering results, and yet its performance is comparable to existing clustering methods when solving traditional clustering. Furthermore, in real applications, DReaM is able to effectively take advantage of domain knowledge, and to generate reasonable clustering results.","IsOld":true},{"Paper-ID":"icdm/DangSSSB16","Title":"Outlier Detection from Network Data with Subnetwork Interpretation.","url":"https://doi.org/10.1109/ICDM.2016.0101","Year":"2016","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Xuan-Hong Dang","Arlei Silva","Ambuj K. Singh","Ananthram Swami","Prithwish Basu"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Detecting a small number of outliers from a set of data observations is always challenging. This problem is more difficult in the setting of multiple network samples, where computing the anomalous degree of a network sample is generally not sufficient. In fact, explaining why a given network is exceptional, expressed in the form of subnetwork, is also equally important. We develop a novel algorithm to address these two key problems. We treat each network sample as a potential outlier and identify subnetworks that help discriminate it from nearby samples. The algorithm is developed in the framework of network regression combined with the constraints on both network topology and L1-norm shrinkage to perform subnetwork discovery. Our method thus goes beyond subspace/subgraph discovery. We also show that the developed method converges to a global optimum. Empirical evaluation on various real-world network datasets demonstrates the advantages of our algorithm over various baseline methods.","IsOld":true},{"Paper-ID":"icdm/WangRDLKM16","Title":"Bayesian Rule Sets for Interpretable Classification.","url":"https://doi.org/10.1109/ICDM.2016.0171","Year":"2016","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Tong Wang","Cynthia Rudin","Finale Doshi-Velez","Yimin Liu","Erica Klampfl","Perry MacNeille"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"A Rule Set model consists of a small number of short rules for interpretable classification, where an instance is classified as positive if it satisfies at least one of the rules. The rule set provides reasons for predictions, and also descriptions of a particular class. We present a Bayesian framework for learning Rule Set models, with prior parameters that the user can set to encourage the model to have a desired size and shape in order to conform with a domain-specific definition of interpretability. We use an efficient inference approach for searching for the MAP solution and provide theoretical bounds to reduce computation. We apply Rule Set models to ten UCI data sets and compare the performance with other interpretable and non-interpretable models.","IsOld":true},{"Paper-ID":"kdd/LakkarajuBL16","Title":"Interpretable Decision Sets - A Joint Framework for Description and Prediction.","url":"https://doi.org/10.1145/2939672.2939874","Year":"2016","Venue":{"isOld":true,"value":"KDD"},"Authors":["Himabindu Lakkaraju","Stephen H. Bach","Jure Leskovec"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"One of the most important obstacles to deploying predictive models is the fact that humans do not understand and trust them. Knowing which variables are important in a model\'s prediction and how they are combined can be very powerful in helping people understand and trust automatic decision making systems. Here we propose interpretable decision sets, a framework for building predictive models that are highly accurate, yet also highly interpretable. Decision sets are sets of independent if-then rules. Because each rule can be applied independently, decision sets are simple, concise, and easily interpretable. We formalize decision set learning through an objective function that simultaneously optimizes accuracy and interpretability of the rules. In particular, our approach learns short, accurate, and non-overlapping rules that cover the whole feature space and pay attention to small but important classes. Moreover, we prove that our objective is a non-monotone submodular function, which we efficiently optimize to find a near-optimal set of rules. Experiments show that interpretable decision sets are as accurate at classification as state-of-the-art machine learning techniques. They are also three times smaller on average than rule-based models learned by other methods. Finally, results of a user study show that people are able to answer multiple-choice questions about the decision boundaries of interpretable decision sets and write descriptions of classes based on them faster and more accurately than with other rule-based models that were designed for interpretability. Overall, our framework provides a new approach to interpretable machine learning that balances accuracy, interpretability, and computational efficiency.","IsOld":true},{"Paper-ID":"kdd/Ribeiro0G16","Title":"\\"Why Should I Trust You?\\" - Explaining the Predictions of Any Classifier.","url":"https://doi.org/10.1145/2939672.2939778","Year":"2016","Venue":{"isOld":true,"value":"KDD"},"Authors":["Marco T\xfalio Ribeiro","Sameer Singh","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Despite widespread adoption, machine learning models remain mostly black boxes. Understanding the reasons behind predictions is, however, quite important in assessing trust, which is fundamental if one plans to take action based on a prediction, or when choosing whether to deploy a new model. Such understanding also provides insights into the model, which can be used to transform an untrustworthy model or prediction into a trustworthy one. In this work, we propose LIME, a novel explanation technique that explains the predictions of any classifier in an interpretable and faithful manner, by learning an interpretable model locally varound the prediction. We also propose a method to explain models by presenting representative individual predictions and their explanations in a non-redundant way, framing the task as a submodular optimization problem. We demonstrate the flexibility of these methods by explaining different models for text (e.g. random forests) and image classification (e.g. neural networks). We show the utility of explanations via novel experiments, both simulated and with human subjects, on various scenarios that require trust: deciding if one should trust a prediction, choosing between models, improving an untrustworthy classifier, and identifying why a classifier should not be trusted.","IsOld":true},{"Paper-ID":"nips/ChenCDHSSA16","Title":"InfoGAN - Interpretable Representation Learning by Information Maximizing Generative Adversarial Nets.","url":"https://proceedings.neurips.cc/paper/2016/hash/7c9d0b1f96aebd7b5eca8c3edaa19ebb-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Xi Chen","Yan Duan","Rein Houthooft","John Schulman","Ilya Sutskever","Pieter Abbeel"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ChoiBSKSS16","Title":"RETAIN - An Interpretable Predictive Model for Healthcare using Reverse Time Attention Mechanism.","url":"https://proceedings.neurips.cc/paper/2016/hash/231141b34c82aa95e48810a9d1b33a79-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Edward Choi","Mohammad Taha Bahadori","Jimeng Sun","Joshua Kulas","Andy Schuetz","Walter F. Stewart"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/Jitkrittum0CG16","Title":"Interpretable Distribution Features with Maximum Testing Power.","url":"https://proceedings.neurips.cc/paper/2016/hash/0a09c8844ba8f0936c20bd791130d6b6-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Wittawat Jitkrittum","Zolt\xe1n Szab\xf3","Kacper P. Chwialkowski","Arthur Gretton"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/KimKK16","Title":"Examples are not enough, learn to criticize! Criticism for Interpretability.","url":"https://proceedings.neurips.cc/paper/2016/hash/5680522b8e2bb01943234bce7bf84534-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Been Kim","Oluwasanmi Koyejo","Rajiv Khanna"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/LakkarajuL16","Title":"Confusions over Time - An Interpretable Bayesian Model to Characterize Trends in Decision Making.","url":"https://proceedings.neurips.cc/paper/2016/hash/97d0145823aeb8ed80617be62e08bdcc-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Himabindu Lakkaraju","Jure Leskovec"],"Type of Data":["Time series","User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification","Clustering"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"nips/ZhaoP16","Title":"Interpretable Nonlinear Dynamic Modeling of Neural Trajectories.","url":"https://proceedings.neurips.cc/paper/2016/hash/b2531e7bb29bf22e1daae486fae3417a-Abstract.html","Year":"2016","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Yuan Zhao","Il Memming Park"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"sigir/ZhaoLRMYR16","Title":"Explainable User Clustering in Short Text Streams.","url":"https://doi.org/10.1145/2911451.2911522","Year":"2016","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Yukun Zhao","Shangsong Liang","Zhaochun Ren","Jun Ma","Emine Yilmaz","Maarten de Rijke"],"Type of Data":["Text","Time series","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"User clustering has been studied from different angles: behavior-based, to identify similar browsing or search patterns, and content-based, to identify shared interests. Once user clusters have been found, they can be used for recommendation and personalization. So far, content-based user clustering has mostly focused on static sets of relatively long documents. Given the dynamic nature of social media, there is a need to dynamically cluster users in the context of short text streams. User clustering in this setting is more challenging than in the case of long documents as it is difficult to capture the users\' dynamic topic distributions in sparse data settings. To address this problem, we propose a dynamic user clustering topic model (or UCT for short). UCT adaptively tracks changes of each user\'s time-varying topic distribution based both on the short texts the user posts during a given time period and on the previously estimated distribution. To infer changes, we propose a Gibbs sampling algorithm where a set of word-pairs from each user is constructed for sampling. The clustering results are explainable and human-understandable, in contrast to many other clustering algorithms. For evaluation purposes, we work with a dataset consisting of users and tweets from each user. Experimental results demonstrate the effectiveness of our proposed clustering model compared to state-of-the-art baselines.","IsOld":true},{"Paper-ID":"aaai/KimPRS15","Title":"Scalable and Interpretable Data Representation for High-Dimensional, Complex Data.","url":"http://www.aaai.org/ocs/index.php/AAAI/AAAI15/paper/view/9738","Year":"2015","Venue":{"isOld":true,"value":"AAAI"},"Authors":["Been Kim","Kayur Patel","Afshin Rostamizadeh","Julie A. Shah"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"kdd/WangFM15","Title":"Trading Interpretability for Accuracy - Oblique Treed Sparse Additive Models.","url":"https://doi.org/10.1145/2783258.2783407","Year":"2015","Venue":{"isOld":true,"value":"KDD"},"Authors":["Jialei Wang","Ryohei Fujimaki","Yosuke Motohashi"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Decision Tree","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Model interpretability has been recognized to play a key role in practical data mining. Interpretable models provide significant insights on data and model behaviors and may convince end-users to employ certain models. In return for these advantages, however, there is generally a sacrifice in accuracy, i.e., flexibility of model representation (e.g., linear, rule-based, etc.) and model complexity needs to be restricted in order for users to be able to understand the results. This paper proposes oblique treed sparse additive models (OT-SpAMs). Our main focus is on developing a model which sacrifices a certain degree of interpretability for accuracy but achieves entirely sufficient accuracy with such fully non-linear models as kernel support vector machines (SVMs). OT-SpAMs are instances of region-specific predictive models. They divide feature spaces into regions with sparse oblique tree splitting and assign local sparse additive experts to individual regions. In order to maintain OT-SpAM interpretability, we have to keep the overall model structure simple, and this produces simultaneous model selection issues for sparse oblique region structures and sparse local experts. We address this problem by extending factorized asymptotic Bayesian inference. We demonstrate, on simulation, benchmark, and real world datasets that, in terms of accuracy, OT-SpAMs outperform state-of-the-art interpretable models and perform competitively with kernel SVMs, while still providing results that are highly understandable.","IsOld":true},{"Paper-ID":"nips/KimSD15","Title":"Mind the Gap - A Generative Approach to Interpretable Feature Selection and Extraction.","url":"https://proceedings.neurips.cc/paper/2015/hash/82965d4ed8150294d4330ace00821d77-Abstract.html","Year":"2015","Venue":{"isOld":true,"value":"NeurIPS"},"Authors":["Been Kim","Julie A. Shah","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Clustering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"","IsOld":true},{"Paper-ID":"acl/FysheTMM14","Title":"Interpretable Semantic Vectors from a Joint Model of Brain- and Text- Based Meaning.","url":"https://doi.org/10.3115/v1/p14-1046","Year":"2014","Venue":{"isOld":true,"value":"ACL"},"Authors":["Alona Fyshe","Partha Pratim Talukdar","Brian Murphy","Tom M. Mitchell"],"Type of Data":["Time series","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Heatmap","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Vector space models (VSMs) represent word meanings as points in a high dimensional space. VSMs are typically created using a large text corpora, and so represent word semantics as observed in text. We present a new algorithm (JNNSE) that can incorporate a measure of semantics not previously used to create VSMs: brain activation data recorded while people read words. The resulting model takes advantage of the complementary strengths and weaknesses of corpus and brain activation data to give a more complete representation of semantics. Evaluations show that the model 1) matches a behavioral measure of semantics more closely, 2) can be used to predict corpus data for unseen words and 3) has predictive power that generalizes across brain imaging technologies and across subjects. We believe that the model is thus a more faithful representation of mental vocabularies.","IsOld":true},{"Paper-ID":"icdm/ChanLBR14","Title":"TRIBAC - Discovering Interpretable Clusters and Latent Structures in Graphs.","url":"https://doi.org/10.1109/ICDM.2014.118","Year":"2014","Venue":{"isOld":true,"value":"ICDM"},"Authors":["Jeffrey Chan","Christopher Leckie","James Bailey","Kotagiri Ramamohanarao"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Graphs are a powerful representation of relational data, such as social and biological networks. Often, these entities form groups and are organised according to a latent structure. However, these groupings and structures are generally unknown and it can be difficult to identify them. Graph clustering is an important type of approach used to discover these vertex groups and the latent structure within graphs. One type of approach for graph clustering is non-negative matrix factorisation However, the formulations of existing factorisation approaches can be overly relaxed and their groupings and results consequently difficult to interpret, may fail to discover the true latent structure and groupings, and converge to extreme solutions. In this paper, we propose a new formulation of the graph clustering problem that results in clusterings that are easy to interpret. Combined with a novel algorithm, the clusterings are also more accurate than state-of-the-art algorithms for both synthetic and real datasets.","IsOld":true},{"Paper-ID":"kdd/BarbieriBM14","Title":"Who to follow and why - link prediction with explanations.","url":"https://doi.org/10.1145/2623330.2623733","Year":"2014","Venue":{"isOld":true,"value":"KDD"},"Authors":["Nicola Barbieri","Francesco Bonchi","Giuseppe Manco"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"User recommender systems are a key component in any on-line social networking platform: they help the users growing their network faster, thus driving engagement and loyalty. In this paper we study link prediction with explanations for user recommendation in social networks. For this problem we propose WTFW (\\"Who to Follow and Why\\"), a stochastic topic model for link prediction over directed and nodes-attributed graphs. Our model not only predicts links, but for each predicted link it decides whether it is a \\"topical\\" or a \\"social\\" link, and depending on this decision it produces a different type of explanation. A topical link is recommended between a user interested in a topic and a user authoritative in that topic: the explanation in this case is a set of binary features describing the topic responsible of the link creation. A social link is recommended between users which share a large social neighborhood: in this case the explanation is the set of neighbors which are more likely to be responsible for the link creation. Our experimental assessment on real-world data confirms the accuracy of WTFW in the link prediction and the quality of the associated explanations.","IsOld":true},{"Paper-ID":"kdd/GhalwashRO14","Title":"Utilizing temporal patterns for estimating uncertainty in interpretable early decision making.","url":"https://doi.org/10.1145/2623330.2623694","Year":"2014","Venue":{"isOld":true,"value":"KDD"},"Authors":["Mohamed F. Ghalwash","Vladan Radosavljevic","Zoran Obradovic"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Early classification of time series is prevalent in many time-sensitive applications such as, but not limited to, early warning of disease outcome and early warning of crisis in stock market. \\\\textcolor{black}{ For example,} early diagnosis allows physicians to design appropriate therapeutic strategies at early stages of diseases. However, practical adaptation of early classification of time series requires an easy to understand explanation (interpretability) and a measure of confidence of the prediction results (uncertainty estimates). These two aspects were not jointly addressed in previous time series early classification studies, such that a difficult choice of selecting one of these aspects is required. In this study, we propose a simple and yet effective method to provide uncertainty estimates for an interpretable early classification method. The question we address here is \\"how to provide estimates of uncertainty in regard to interpretable early prediction.\\" In our extensive evaluation on twenty time series datasets we showed that the proposed method has several advantages over the state-of-the-art method that provides reliability estimates in early classification. Namely, the proposed method is more effective than the state-of-the-art method, is simple to implement, and provides interpretable results.","IsOld":true},{"Paper-ID":"sigir/ZhangL0ZLM14","Title":"Explicit factor models for explainable recommendation based on phrase-level sentiment analysis.","url":"https://doi.org/10.1145/2600428.2609579","Year":"2014","Venue":{"isOld":true,"value":"SIGIR"},"Authors":["Yongfeng Zhang","Guokun Lai","Min Zhang","Yi Zhang","Yiqun Liu","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes","Abstract":"Collaborative Filtering(CF)-based recommendation algorithms, such as Latent Factor Models (LFM), work well in terms of prediction accuracy. However, the latent features make it difficulty to explain the recommendation results to the users. Fortunately, with the continuous growth of online user reviews, the information available for training a recommender system is no longer limited to just numerical star ratings or user/item features. By extracting explicit user opinions about various aspects of a product from the reviews, it is possible to learn more details about what aspects a user cares, which further sheds light on the possibility to make explainable recommendations. In this work, we propose the Explicit Factor Model (EFM) to generate explainable recommendations, meanwhile keep a high prediction accuracy. We first extract explicit product features (i.e. aspects) and user opinions by phrase-level sentiment analysis on user reviews, then generate both recommendations and disrecommendations according to the specific product features to the user\'s interests and the hidden features learned. Besides, intuitional feature-level explanations about why an item is or is not recommended are generated from the model. Offline experimental results on several real-world datasets demonstrate the advantages of our framework over competitive baseline algorithms on both rating prediction and top-K recommendation tasks. Online experiments show that the detailed explanations make the recommendations and disrecommendations more influential on user\'s purchasing behavior.","IsOld":true},{"Title":"Neural Prototype Trees for Interpretable Fine-Grained Image Recognition","url":"https://doi.org/10.1109/CVPR46437.2021.01469","Year":"2021","Venue":{"isOld":true,"value":"CVPR"},"Authors":["Meike Nauta","Ron van Bree","Christin Seifert"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree","Prototypes","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Abstract":"Prototype-based methods use interpretable representations to address the black-box nature of deep learning models, in contrast to post-hoc explanation methods that only approximate such models. We propose the Neural Prototype Tree (ProtoTree), an intrinsically interpretable deep learning method for fine-grained image recognition. ProtoTree combines prototype learning with decision trees, and thus results in a globally interpretable model by design. Additionally, ProtoTree can locally explain a single prediction by outlining a decision path through the tree. Each node in our binary tree contains a trainable prototypical part. The presence or absence of this learned prototype in an image determines the routing through a node. Decision making is therefore similar to human reasoning: Does the bird have a red throat? And an elongated beak? Then it\u2019s a hummingbird! We tune the accuracy-interpretability trade-off using ensemble methods, pruning and binarizing. We apply pruning without sacrificing accuracy, resulting in a small tree with only 8 learned prototypes along a path to classify a bird from 200 species. An ensemble of 5 ProtoTrees achieves competitive accuracy on the CUB-200-2011 and Stanford Cars data sets. Code is available at github.com/M-Nauta/ProtoTree.","Date":"2022-11-14T11:34:04.758Z"}]'),yt=[];mt.forEach((function(e){var t=e;"string"===typeof t.Date&&(t.Date=new Date(t.Date)),!function(e){return"url"in e&&"Title"in e&&"Year"in e&&"Venue"in e&&(e.Venue.isOld&&at(rt)(e.Venue.value)||!e.Venue.isOld)&&"Authors"in e&&"Type of Data"in e&&ot(Je)(e["Type of Data"])&&"Type of Problem"in e&&ot(Qe)(e["Type of Problem"])&&"Type of Model to be Explained"in e&&ot(et)(e["Type of Model to be Explained"])&&"Type of Task"in e&&ot(tt)(e["Type of Task"])&&"Type of Explanation"in e&&ot($e)(e["Type of Explanation"])&&"Method used to explain"in e&&ot(nt)(e["Method used to explain"])}(t)?console.log(e," is not a paper and was excluded fromt the list"):yt.push(t)}));var bt,xt=Xe({name:"papers",initialState:yt,reducers:{}}),wt=xt.reducer,Et=(xt.actions,{data:[],problem:[],model:[],task:[],explanation:[],method:[],venue:[],startYear:void 0,endYear:void 0,search:"",filterStateAND:!0,showOriginal:!0,showNew:!0}),kt=Xe({name:"filters",initialState:Et,reducers:{reset:function(){return Et},setData:function(e,t){e.data=t.payload},setProblem:function(e,t){e.problem=t.payload},setModel:function(e,t){e.model=t.payload},setTask:function(e,t){e.task=t.payload},setExplanation:function(e,t){e.explanation=t.payload},setMethod:function(e,t){e.method=t.payload},setVenue:function(e,t){e.venue=t.payload},changeState:function(e,t){e.filterStateAND=t.payload},setStartYear:function(e,t){e.startYear=t.payload},setEndYear:function(e,t){e.endYear=t.payload},setSearch:function(e,t){e.search=t.payload},setShowOriginal:function(e,t){e.showOriginal=t.payload},setShowNew:function(e,t){e.showNew=t.payload}}}),_t=kt.reducer,St=kt.actions,Tt=Xe({name:"form",initialState:{Title:"",url:"",Year:"2020",Venue:{isOld:!0,value:""},Authors:[],"Type of Data":[],"Type of Problem":[],"Type of Model to be Explained":[],"Type of Task":[],"Type of Explanation":[],"Method used to explain":[],Abstract:"",Date:new Date},reducers:{setTitle:function(e,t){e.Title=t.payload},setDoi:function(e,t){e.url=t.payload},setYear:function(e,t){e.Year=t.payload.toString()},setAuthors:function(e,t){e.Authors=t.payload},setIsOldVenue:function(e,t){e.Venue.isOld=t.payload},setVenue:function(e,t){e.Venue.value=t.payload},setData:function(e,t){e["Type of Data"]=t.payload},setProblem:function(e,t){e["Type of Problem"]=t.payload},setModel:function(e,t){e["Type of Model to be Explained"]=t.payload},setTask:function(e,t){e["Type of Task"]=t.payload},setExplanation:function(e,t){e["Type of Explanation"]=t.payload},setMethod:function(e,t){e["Method used to explain"]=t.payload},setAbstract:function(e,t){e.Abstract=t.payload},setComment:function(e,t){t.payload?e.Comment=t.payload:delete e.Comment}}}),Ct=Tt.reducer,Mt=Tt.actions,At=function(e){var t,n=Ze(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,l=void 0===u||u,c=r.preloadedState,d=void 0===c?void 0:c,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!We(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ae(o)}var p=s;"function"===typeof p&&(p=p(n));var g=Oe.apply(void 0,p),v=Ie;l&&(v=Ve(Ge({trace:!1},"object"===typeof l&&l)));var m=[g];return Array.isArray(h)?m=Le([g],h):"function"===typeof h&&(m=h(m)),Me(t,d,v.apply(void 0,m))}({reducer:{papers:wt,filters:_t,form:Ct},middleware:function(e){return e({serializableCheck:!1})}});function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(bt||(bt={}));var Ot=function(e){return e};var Nt="beforeunload",Pt="popstate";function Dt(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=Bt(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,u=void 0===s?"":s,l=r.state||{};return[l.idx,Ot({pathname:i,search:a,hash:u,state:l.usr||null,key:l.key||"default"})]}var o=null;function a(){if(o)f.call(o),o=null;else{var e=bt.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var a=l-n;a&&(o={action:e,location:r,retry:function(){y(-1*a)}},y(a))}}else m(e)}}n.addEventListener(Pt,a),n.addEventListener("hashchange",(function(){Ft(i()[1])!==Ft(c)&&a()}));var s=bt.Pop,u=i(),l=u[0],c=u[1],d=Lt(),f=Lt();function h(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:Ft(e))}function p(e,t){return void 0===t&&(t=null),Ot(It({pathname:c.pathname,hash:"",search:""},"string"===typeof e?Bt(e):e,{state:t,key:jt()}))}function g(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){s=e;var t=i();l=t[0],c=t[1],d.call({action:s,location:c})}function y(e){r.go(e)}null==l&&(l=0,r.replaceState(It({},r.state,{idx:l}),""));var b={get action(){return s},get location(){return c},createHref:h,push:function e(t,i){var o=bt.Push,a=p(t,i);if(v(o,a,(function(){e(t,i)}))){var s=g(a,l+1),u=s[0],c=s[1];try{r.pushState(u,"",c)}catch(d){n.location.assign(c)}m(o)}},replace:function e(t,n){var i=bt.Replace,o=p(t,n);if(v(i,o,(function(){e(t,n)}))){var a=g(o,l),s=a[0],u=a[1];r.replaceState(s,"",u),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return d.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(Nt,Rt),function(){t(),f.length||n.removeEventListener(Nt,Rt)}}};return b}function Rt(e){e.preventDefault(),e.returnValue=""}function Lt(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function jt(){return Math.random().toString(36).substr(2,8)}function Ft(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Bt(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zt(e,t){if(!e)throw new Error(t)}var Yt=(0,y.createContext)(null);var Gt=(0,y.createContext)(null);var Vt=(0,y.createContext)({outlet:null,matches:[]});function Wt(e){zt(!1)}function Ut(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,o=e.location,a=e.navigationType,s=void 0===a?bt.Pop:a,u=e.navigator,l=e.static,c=void 0!==l&&l;Ht()&&zt(!1);var d=un(n),f=(0,y.useMemo)((function(){return{basename:d,navigator:u,static:c}}),[d,u,c]);"string"===typeof o&&(o=Bt(o));var h=o,p=h.pathname,g=void 0===p?"/":p,v=h.search,m=void 0===v?"":v,b=h.hash,x=void 0===b?"":b,w=h.state,E=void 0===w?null:w,k=h.key,_=void 0===k?"default":k,S=(0,y.useMemo)((function(){var e=an(g,d);return null==e?null:{pathname:e,search:m,hash:x,state:E,key:_}}),[d,g,m,x,E,_]);return null==S?null:(0,y.createElement)(Yt.Provider,{value:f},(0,y.createElement)(Gt.Provider,{children:i,value:{location:S,navigationType:s}}))}function Zt(e){var t=e.children,n=e.location;return function(e,t){Ht()||zt(!1);var n=(0,y.useContext)(Vt).matches,r=n[n.length-1],i=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var a,s=qt();if(t){var u,l="string"===typeof t?Bt(t):t;"/"===o||(null==(u=l.pathname)?void 0:u.startsWith(o))||zt(!1),a=l}else a=s;var c=a.pathname||"/",d="/"===o?c:c.slice(o.length)||"/",f=function(e,t,n){void 0===n&&(n="/");var r=an(("string"===typeof t?Bt(t):t).pathname||"/",n);if(null==r)return null;var i=Jt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=tn(i[a],r);return o}(e,{pathname:d});0;return nn(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},i,e.params),pathname:sn([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:sn([o,e.pathnameBase])})})),n)}(Kt(t),n)}function Ht(){return null!=(0,y.useContext)(Gt)}function qt(){return Ht()||zt(!1),(0,y.useContext)(Gt).location}function Xt(){Ht()||zt(!1);var e=(0,y.useContext)(Yt),t=e.basename,n=e.navigator,r=(0,y.useContext)(Vt).matches,i=qt().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),a=(0,y.useRef)(!1);(0,y.useEffect)((function(){a.current=!0}));var s=(0,y.useCallback)((function(e,r){if(void 0===r&&(r={}),a.current)if("number"!==typeof e){var s=on(e,JSON.parse(o),i);"/"!==t&&(s.pathname=sn([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}else n.go(e)}),[t,n,o,i]);return s}function Kt(e){var t=[];return y.Children.forEach(e,(function(e){if((0,y.isValidElement)(e))if(e.type!==y.Fragment){e.type!==Wt&&zt(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Kt(e.props.children)),t.push(n)}else t.push.apply(t,Kt(e.props.children))})),t}function Jt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||zt(!1),o.relativePath=o.relativePath.slice(r.length));var a=sn([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&zt(!1),Jt(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:en(a,e.index),routesMeta:s})})),t}var $t=/^:\w+$/,Qt=function(e){return"*"===e};function en(e,t){var n=e.split("/"),r=n.length;return n.some(Qt)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Qt(e)})).reduce((function(e,t){return e+($t.test(t)?3:""===t?1:10)}),r)}function tn(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=rn({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=s.route;o.push({params:r,pathname:sn([i,c.pathname]),pathnameBase:un(sn([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=sn([i,c.pathnameBase]))}return o}function nn(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,y.createElement)(Vt.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function rn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function on(e,t,n){var r,i="string"===typeof e?Bt(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Bt(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ln(o),hash:cn(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function an(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var sn=function(e){return e.join("/").replace(/\/\/+/g,"/")},un=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ln=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},cn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function dn(e){var t=e.basename,n=e.children,r=e.window,i=(0,y.useRef)();null==i.current&&(i.current=Dt({window:r}));var o=i.current,a=(0,y.useState)({action:o.action,location:o.location}),s=(0,m.Z)(a,2),u=s[0],l=s[1];return(0,y.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,y.createElement)(Ut,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var fn=y.createContext(null);var hn=function(e){e()},pn=function(){return hn};var gn={notify:function(){},get:function(){return[]}};function vn(e,t){var n,r=gn;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=pn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=gn)},getListeners:function(){return r}};return a}var mn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?y.useLayoutEffect:y.useEffect;var yn=function(e){var t=e.store,n=e.context,r=e.children,i=(0,y.useMemo)((function(){var e=vn(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),o=(0,y.useMemo)((function(){return t.getState()}),[t]);mn((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=n||fn;return y.createElement(a.Provider,{value:i},r)};n(62110),n(36900);function bn(){return(0,y.useContext)(fn)}function xn(e){void 0===e&&(e=fn);var t=e===fn?bn:function(){return(0,y.useContext)(e)};return function(){return t().store}}var wn=xn();function En(e){void 0===e&&(e=fn);var t=e===fn?wn:xn(e);return function(){return t().dispatch}}var kn=En(),_n=function(e,t){return e===t};function Sn(e){void 0===e&&(e=fn);var t=e===fn?bn:function(){return(0,y.useContext)(e)};return function(e,n){void 0===n&&(n=_n);var r=t(),i=function(e,t,n,r){var i,o=(0,y.useReducer)((function(e){return e+1}),0),a=o[1],s=(0,y.useMemo)((function(){return vn(n,r)}),[n,r]),u=(0,y.useRef)(),l=(0,y.useRef)(),c=(0,y.useRef)(),d=(0,y.useRef)(),f=n.getState();try{if(e!==l.current||f!==c.current||u.current){var h=e(f);i=void 0!==d.current&&t(h,d.current)?d.current:h}else i=d.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return mn((function(){l.current=e,c.current=f,d.current=i,u.current=void 0})),mn((function(){function e(){try{var e=n.getState();if(e===c.current)return;var r=l.current(e);if(t(r,d.current))return;d.current=r,c.current=e}catch(p){u.current=p}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,r.store,r.subscription);return(0,y.useDebugValue)(i),i}}var Tn,Cn=Sn();Tn=b.unstable_batchedUpdates,hn=Tn;var Mn=n(93433),An=n(81694),In=n.n(An),On=n(15671),Nn=n(43144),Pn=n(60136),Dn=n(29388),Rn={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Ln={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},jn={lang:It({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:It({},Ln)},Fn="${label} is not a valid ${type}",Bn={locale:"en",Pagination:Rn,DatePicker:jn,TimePicker:Ln,Calendar:jn,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Fn,method:Fn,array:Fn,object:Fn,number:Fn,date:Fn,boolean:Fn,integer:Fn,float:Fn,regexp:Fn,email:Fn,url:Fn,hex:Fn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},zn=Bn,Yn=(0,y.createContext)(void 0),Gn=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||zn[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return It(It({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?zn.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(y.Component);function Vn(e,t){var n=y.useContext(Yn),r=y.useMemo((function(){var r=t||zn[e||"global"],i=e&&n?n[e]:{};return It(It({},"function"===typeof r?r():r),i||{})}),[e,t,n]);return[r]}Gn.defaultProps={componentName:"global"},Gn.contextType=Yn;var Wn=function(){var e=(0,y.useContext($n).getPrefixCls)("empty-img-default");return y.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),y.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),y.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),y.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),y.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),y.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Un=function(){var e=(0,y.useContext($n).getPrefixCls)("empty-img-simple");return y.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},Zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Hn=y.createElement(Wn,null),qn=y.createElement(Un,null),Xn=function(e){var t=e.className,n=e.prefixCls,r=e.image,i=void 0===r?Hn:r,o=e.description,a=e.children,s=e.imageStyle,u=Zn(e,["className","prefixCls","image","description","children","imageStyle"]),l=y.useContext($n),c=l.getPrefixCls,d=l.direction;return y.createElement(Gn,{componentName:"Empty"},(function(e){var r,l=c("empty",n),f="undefined"!==typeof o?o:e.description,h="string"===typeof f?f:"empty",p=null;return p="string"===typeof i?y.createElement("img",{alt:h,src:i}):i,y.createElement("div",It({className:In()(l,(r={},(0,xe.Z)(r,"".concat(l,"-normal"),i===qn),(0,xe.Z)(r,"".concat(l,"-rtl"),"rtl"===d),r),t)},u),y.createElement("div",{className:"".concat(l,"-image"),style:s},p),f&&y.createElement("div",{className:"".concat(l,"-description")},f),a&&y.createElement("div",{className:"".concat(l,"-footer")},a))}))};Xn.PRESENTED_IMAGE_DEFAULT=Hn,Xn.PRESENTED_IMAGE_SIMPLE=qn;var Kn=Xn,Jn=function(e){return y.createElement(Qn,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return y.createElement(Kn,{image:Kn.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return y.createElement(Kn,{image:Kn.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return y.createElement(Kn,null)}}))},$n=y.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:Jn}),Qn=$n.Consumer;var er=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tr=y.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function nr(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var i=function(r){var i=y.useContext($n).getPrefixCls,o=r.prefixCls,a=i(t,o);return y.createElement(e,It({prefixCls:a,tagName:n},r))};return i.displayName=r,i}}var rr=function(e){var t=e.prefixCls,n=e.className,r=e.children,i=e.tagName,o=er(e,["prefixCls","className","children","tagName"]),a=In()(t,n);return y.createElement(i,It({className:a},o),r)},ir=nr({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t,n=y.useContext($n).direction,r=y.useState([]),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=e.prefixCls,u=e.className,l=e.children,c=e.hasSider,d=e.tagName,f=er(e,["prefixCls","className","children","hasSider","tagName"]),h=In()(s,(t={},(0,xe.Z)(t,"".concat(s,"-has-sider"),"boolean"===typeof c?c:o.length>0),(0,xe.Z)(t,"".concat(s,"-rtl"),"rtl"===n),t),u),p=y.useMemo((function(){return{siderHook:{addSider:function(e){a((function(t){return[].concat((0,Mn.Z)(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return y.createElement(tr.Provider,{value:p},y.createElement(d,It({className:h},f),l))})),or=nr({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(rr),ar=nr({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(rr),sr=nr({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(rr),ur=ir;function lr(e,t){var n=Ee({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var cr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function dr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fr=(0,y.createContext)({}),hr=n(71002);function pr(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function gr(e){return Math.min(1,Math.max(0,e))}function vr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function mr(e){return e<=1?100*Number(e)+"%":e}function yr(e){return 1===e.length?"0"+e:String(e)}function br(e,t,n){e=pr(e,255),t=pr(t,255),n=pr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function xr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wr(e,t,n){e=pr(e,255),t=pr(t,255),n=pr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function Er(e,t,n,r){var i=[yr(Math.round(e).toString(16)),yr(Math.round(t).toString(16)),yr(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function kr(e){return Math.round(255*parseFloat(e)).toString(16)}function _r(e){return Sr(e)/255}function Sr(e){return parseInt(e,16)}var Tr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Cr(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Tr[e])e=Tr[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Or.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Or.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Or.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Or.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Or.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Or.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Or.hex8.exec(e))return{r:Sr(n[1]),g:Sr(n[2]),b:Sr(n[3]),a:_r(n[4]),format:t?"name":"hex8"};if(n=Or.hex6.exec(e))return{r:Sr(n[1]),g:Sr(n[2]),b:Sr(n[3]),format:t?"name":"hex"};if(n=Or.hex4.exec(e))return{r:Sr(n[1]+n[1]),g:Sr(n[2]+n[2]),b:Sr(n[3]+n[3]),a:_r(n[4]+n[4]),format:t?"name":"hex8"};if(n=Or.hex3.exec(e))return{r:Sr(n[1]+n[1]),g:Sr(n[2]+n[2]),b:Sr(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Nr(e.r)&&Nr(e.g)&&Nr(e.b)?(t=function(e,t,n){return{r:255*pr(e,255),g:255*pr(t,255),b:255*pr(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Nr(e.h)&&Nr(e.s)&&Nr(e.v)?(r=mr(e.s),i=mr(e.v),t=function(e,t,n){e=6*pr(e,360),t=pr(t,100),n=pr(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):Nr(e.h)&&Nr(e.s)&&Nr(e.l)&&(r=mr(e.s),o=mr(e.l),t=function(e,t,n){var r,i,o;if(e=pr(e,360),t=pr(t,100),n=pr(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=xr(s,a,e+1/3),i=xr(s,a,e),o=xr(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=vr(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Mr="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Ar="[\\s|\\(]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")\\s*\\)?",Ir="[\\s|\\(]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")\\s*\\)?",Or={CSS_UNIT:new RegExp(Mr),rgb:new RegExp("rgb"+Ar),rgba:new RegExp("rgba"+Ir),hsl:new RegExp("hsl"+Ar),hsla:new RegExp("hsla"+Ir),hsv:new RegExp("hsv"+Ar),hsva:new RegExp("hsva"+Ir),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Nr(e){return Boolean(Or.CSS_UNIT.exec(String(e)))}var Pr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Dr(e){var t=wr(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Rr(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Er(t,n,r,!1))}function Lr(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function jr(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Fr(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Br(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function zr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Cr(e),i=5;i>0;i-=1){var o=Dr(r),a=Rr(Cr({h:jr(o,i,!0),s:Fr(o,i,!0),v:Br(o,i,!0)}));n.push(a)}n.push(Rr(r));for(var s=1;s<=4;s+=1){var u=Dr(r),l=Rr(Cr({h:jr(u,s),s:Fr(u,s),v:Br(u,s)}));n.push(l)}return"dark"===t.theme?Pr.map((function(e){var r=e.index,i=e.opacity;return Rr(Lr(Cr(t.backgroundColor||"#141414"),Cr(n[r]),100*i))})):n}var Yr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Gr={},Vr={};Object.keys(Yr).forEach((function(e){Gr[e]=zr(Yr[e]),Gr[e].primary=Gr[e][5],Vr[e]=zr(Yr[e],{theme:"dark",backgroundColor:"#141414"}),Vr[e].primary=Vr[e][5]}));Gr.red,Gr.volcano,Gr.gold,Gr.orange,Gr.yellow,Gr.lime,Gr.green,Gr.cyan,Gr.blue,Gr.geekblue,Gr.purple,Gr.magenta,Gr.grey;var Wr={};function Ur(e,t){0}function Zr(e,t){0}function Hr(e,t,n){t||Wr[n]||(e(!1,n),Wr[n]=!0)}function qr(e,t){Hr(Zr,e,t)}var Xr=function(e,t){Hr(Ur,e,t)};function Kr(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Jr="rc-util-key";function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Jr}function Qr(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ei(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Kr())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=Qr(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var ti=new Map;function ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Qr(t);return Array.from(ti.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute($r(t))===e}))}function ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Qr(n);if(!ti.has(r)){var i=ei("",n),o=i.parentNode;ti.set(r,o),o.removeChild(i)}var a=ni(t,n);if(a){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var c=ei(e,n);return c.setAttribute($r(n),t),c}function ii(e){return"object"===(0,hr.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,hr.Z)(e.icon)||"function"===typeof e.icon)}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ai(e,t,n){return n?y.createElement(e.tag,Ee(Ee({key:t},oi(e.attrs)),n),(e.children||[]).map((function(n,r){return ai(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):y.createElement(e.tag,Ee({key:t},oi(e.attrs)),(e.children||[]).map((function(n,r){return ai(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function si(e){return zr(e)[0]}function ui(e){return e?Array.isArray(e)?e:[e]:[]}var li="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",ci=["icon","className","onClick","style","primaryColor","secondaryColor"],di={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var fi=function(e){var t=e.icon,n=e.className,r=e.onClick,i=e.style,o=e.primaryColor,a=e.secondaryColor,s=dr(e,ci),u=di;if(o&&(u={primaryColor:o,secondaryColor:a||si(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=(0,y.useContext)(fr).csp;(0,y.useEffect)((function(){ri(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){Xr(e,"[@ant-design/icons] ".concat(t))}(ii(t),"icon should be icon definiton, but got ".concat(t)),!ii(t))return null;var l=t;return l&&"function"===typeof l.icon&&(l=Ee(Ee({},l),{},{icon:l.icon(u.primaryColor,u.secondaryColor)})),ai(l.icon,"svg-".concat(l.name),Ee({className:n,onClick:r,style:i,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};fi.displayName="IconReact",fi.getTwoToneColors=function(){return Ee({},di)},fi.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;di.primaryColor=t,di.secondaryColor=n||si(t),di.calculated=!!n};var hi=fi;function pi(e){var t=ui(e),n=(0,m.Z)(t,2),r=n[0],i=n[1];return hi.setTwoToneColors({primaryColor:r,secondaryColor:i})}var gi=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];pi("#1890ff");var vi=y.forwardRef((function(e,t){var n,r=e.className,i=e.icon,o=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,l=e.twoToneColor,c=dr(e,gi),d=y.useContext(fr).prefixCls,f=void 0===d?"anticon":d,h=In()(f,(n={},(0,xe.Z)(n,"".concat(f,"-").concat(i.name),!!i.name),(0,xe.Z)(n,"".concat(f,"-spin"),!!o||"loading"===i.name),n),r),p=s;void 0===p&&u&&(p=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,v=ui(l),b=(0,m.Z)(v,2),x=b[0],w=b[1];return y.createElement("span",Ee(Ee({role:"img","aria-label":i.name},c),{},{ref:t,tabIndex:p,onClick:u,className:h}),y.createElement(hi,{icon:i,primaryColor:x,secondaryColor:w,style:g}))}));vi.displayName="AntdIcon",vi.getTwoToneColor=function(){var e=hi.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},vi.setTwoToneColor=pi;var mi=vi,yi=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:cr}))};yi.displayName="BarsOutlined";var bi=y.forwardRef(yi),xi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},wi=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:xi}))};wi.displayName="RightOutlined";var Ei=y.forwardRef(wi),ki={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},_i=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:ki}))};_i.displayName="LeftOutlined";var Si=y.forwardRef(_i),Ti=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Ci=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Mi={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Ai=y.createContext({}),Ii=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),Oi=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.trigger,o=e.children,a=e.defaultCollapsed,s=void 0!==a&&a,u=e.theme,l=void 0===u?"dark":u,c=e.style,d=void 0===c?{}:c,f=e.collapsible,h=void 0!==f&&f,p=e.reverseArrow,g=void 0!==p&&p,v=e.width,b=void 0===v?200:v,x=e.collapsedWidth,w=void 0===x?80:x,E=e.zeroWidthTriggerStyle,k=e.breakpoint,_=e.onCollapse,S=e.onBreakpoint,T=Ci(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),C=(0,y.useContext)(tr).siderHook,M=(0,y.useState)("collapsed"in T?T.collapsed:s),A=(0,m.Z)(M,2),I=A[0],O=A[1],N=(0,y.useState)(!1),P=(0,m.Z)(N,2),D=P[0],R=P[1];(0,y.useEffect)((function(){"collapsed"in T&&O(T.collapsed)}),[T.collapsed]);var L=function(e,t){"collapsed"in T||O(e),null===_||void 0===_||_(e,t)},j=(0,y.useRef)();j.current=function(e){R(e.matches),null===S||void 0===S||S(e.matches),I!==e.matches&&L(e.matches,"responsive")},(0,y.useEffect)((function(){function e(e){return j.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&k&&k in Mi){t=n("(max-width: ".concat(Mi[k],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[k]),(0,y.useEffect)((function(){var e=Ii("ant-sider-");return C.addSider(e),function(){return C.removeSider(e)}}),[]);var F=function(){L(!I,"clickTrigger")},B=(0,y.useContext)($n).getPrefixCls,z=y.useMemo((function(){return{siderCollapsed:I}}),[I]);return y.createElement(Ai.Provider,{value:z},function(){var e,a=B("layout-sider",n),s=lr(T,["collapsed"]),u=I?w:b,c=Ti(u)?"".concat(u,"px"):String(u),f=0===parseFloat(String(w||0))?y.createElement("span",{onClick:F,className:In()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(g?"right":"left")),style:E},i||y.createElement(bi,null)):null,p={expanded:g?y.createElement(Ei,null):y.createElement(Si,null),collapsed:g?y.createElement(Si,null):y.createElement(Ei,null)}[I?"collapsed":"expanded"],v=null!==i?f||y.createElement("div",{className:"".concat(a,"-trigger"),onClick:F,style:{width:c}},i||p):null,m=It(It({},d),{flex:"0 0 ".concat(c),maxWidth:c,minWidth:c,width:c}),x=In()(a,"".concat(a,"-").concat(l),(e={},(0,xe.Z)(e,"".concat(a,"-collapsed"),!!I),(0,xe.Z)(e,"".concat(a,"-has-trigger"),h&&null!==i&&!f),(0,xe.Z)(e,"".concat(a,"-below"),!!D),(0,xe.Z)(e,"".concat(a,"-zero-width"),0===parseFloat(c)),e),r);return y.createElement("aside",It({className:x},s,{style:m,ref:t}),y.createElement("div",{className:"".concat(a,"-children")},o),h||D&&f?v:null)}())}));Oi.displayName="Sider";var Ni=Oi,Pi=ur;Pi.Header=or,Pi.Footer=ar,Pi.Content=sr,Pi.Sider=Ni;var Di=Pi,Ri=n(57441);function Li(e,t,n){var r=y.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}function ji(e,t){"function"===typeof e?e(t):"object"===(0,hr.Z)(e)&&e&&"current"in e&&(e.current=t)}function Fi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){ji(t,e)}))}}function Bi(e){var t,n,r=(0,Ri.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var zi=function(e,t,n){Xr(e,"[antd: ".concat(t,"] ").concat(n))},Yi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gi=function(e,t){var n=e.prefixCls,r=e.component,i=void 0===r?"article":r,o=e.className,a=e["aria-label"],s=e.setContentRef,u=e.children,l=Yi(e,["prefixCls","component","className","aria-label","setContentRef","children"]),c=y.useContext($n),d=c.getPrefixCls,f=c.direction,h=t;s&&(zi(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),h=Fi(t,s));var p=i,g=d("typography",n),v=In()(g,(0,xe.Z)({},"".concat(g,"-rtl"),"rtl"===f),o);return y.createElement(p,It({className:v,"aria-label":a,ref:h},l),u)},Vi=y.forwardRef(Gi);Vi.displayName="Typography";var Wi=Vi;function Ui(e){var t=y.useRef(!1),n=y.useState(e),r=(0,m.Z)(n,2),i=r[0],o=r[1];return y.useEffect((function(){return function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||o(e)}]}function Zi(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Ui((function(){return void 0!==i?i:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=void 0!==i?i:l;a&&(d=a(d));var f=y.useRef(o);f.current=o;var h=y.useCallback((function(e,t){c(e,t),d!==e&&f.current&&f.current(e,d)}),[d,f]),p=y.useRef(!0);return y.useEffect((function(){p.current?p.current=!1:void 0===i&&c(i)}),[i]),[d,h]}function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return y.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Hi(e)):(0,Ri.isFragment)(e)&&e.props?n=n.concat(Hi(e.props.children,t)):n.push(e))})),n}var qi=n(76998),Xi=n.n(qi),Ki={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Ji=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Ki}))};Ji.displayName="EditOutlined";var $i=y.forwardRef(Ji),Qi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},eo=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Qi}))};eo.displayName="CheckOutlined";var to=y.forwardRef(eo),no={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},ro=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:no}))};ro.displayName="CopyOutlined";var io=y.forwardRef(ro);function oo(e){return e instanceof HTMLElement?e:b.findDOMNode(e)}var ao=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),so="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,uo="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),lo="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(uo):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var co=["top","right","bottom","left","width","height","size","weight"],fo="undefined"!==typeof MutationObserver,ho=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){lo(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){so&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){so&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=co.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),po=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},go=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||uo},vo=Eo(0,0,0,0);function mo(e){return parseFloat(e)||0}function yo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+mo(e["border-"+n+"-width"])}),0)}function bo(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return vo;var r=go(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=mo(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=mo(r.width),u=mo(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=yo(r,"left","right")+o),Math.round(u+a)!==n&&(u-=yo(r,"top","bottom")+a)),!function(e){return e===go(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return Eo(i.left,i.top,s,u)}var xo="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof go(e).SVGGraphicsElement}:function(e){return e instanceof go(e).SVGElement&&"function"===typeof e.getBBox};function wo(e){return so?xo(e)?function(e){var t=e.getBBox();return Eo(0,0,t.width,t.height)}(e):bo(e):vo}function Eo(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ko=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Eo(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=wo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_o=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return po(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);po(this,{target:e,contentRect:n})},So=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ao,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof go(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ko(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof go(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _o(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),To="undefined"!==typeof WeakMap?new WeakMap:new ao,Co=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ho.getInstance(),r=new So(t,n,this);To.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Co.prototype[e]=function(){var t;return(t=To.get(this))[e].apply(t,arguments)}}));var Mo="undefined"!==typeof uo.ResizeObserver?uo.ResizeObserver:Co,Ao=new Map;var Io=new Mo((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Ao.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Oo=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),No=y.createContext(null);function Po(e){var t=e.children,n=e.disabled,r=y.useRef(null),i=y.useRef(null),o=y.useContext(No),a="function"===typeof t,s=a?t(r):t,u=y.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!a&&y.isValidElement(s)&&Bi(s),c=l?s.ref:null,d=y.useMemo((function(){return Fi(c,r)}),[c,r]),f=y.useRef(e);f.current=e;var h=y.useCallback((function(e){var t=f.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(a),h=Math.floor(s);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:d,height:h,offsetWidth:l,offsetHeight:c};u.current=p;var g=l===Math.round(a)?a:l,v=c===Math.round(s)?s:c,m=Ee(Ee({},p),{},{offsetWidth:g,offsetHeight:v});null===o||void 0===o||o(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return y.useEffect((function(){var e,t,o=oo(r.current)||oo(i.current);return o&&!n&&(e=o,t=h,Ao.has(e)||(Ao.set(e,new Set),Io.observe(e)),Ao.get(e).add(t)),function(){return function(e,t){Ao.has(e)&&(Ao.get(e).delete(t),Ao.get(e).size||(Io.unobserve(e),Ao.delete(e)))}(o,h)}}),[r.current,n]),y.createElement(Oo,{ref:i},l?y.cloneElement(s,{ref:d}):s)}function Do(e){var t=e.children;return("function"===typeof t?[t]:Hi(t)).map((function(t,n){var r=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return y.createElement(Po,It({},e,{key:r}),t)}))}Do.Collection=function(e){var t=e.children,n=e.onBatchResize,r=y.useRef(0),i=y.useRef([]),o=y.useContext(No),a=y.useCallback((function(e,t,a){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(e,t,a)}),[n,o]);return y.createElement(No.Provider,{value:a},t)};var Ro=Do,Lo=Kr()?y.useLayoutEffect:y.useEffect,jo={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=jo.F1&&t<=jo.F12)return!1;switch(t){case jo.ALT:case jo.CAPS_LOCK:case jo.CONTEXT_MENU:case jo.CTRL:case jo.DOWN:case jo.END:case jo.ESC:case jo.HOME:case jo.INSERT:case jo.LEFT:case jo.MAC_FF_META:case jo.META:case jo.NUMLOCK:case jo.NUM_CENTER:case jo.PAGE_DOWN:case jo.PAGE_UP:case jo.PAUSE:case jo.PRINT_SCREEN:case jo.RIGHT:case jo.SHIFT:case jo.UP:case jo.WIN_KEY:case jo.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=jo.ZERO&&e<=jo.NINE)return!0;if(e>=jo.NUM_ZERO&&e<=jo.NUM_MULTIPLY)return!0;if(e>=jo.A&&e<=jo.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case jo.SPACE:case jo.QUESTION_MARK:case jo.NUM_PLUS:case jo.NUM_MINUS:case jo.NUM_PERIOD:case jo.NUM_DIVISION:case jo.SEMICOLON:case jo.DASH:case jo.EQUALS:case jo.COMMA:case jo.PERIOD:case jo.SLASH:case jo.APOSTROPHE:case jo.SINGLE_QUOTE:case jo.OPEN_SQUARE_BRACKET:case jo.BACKSLASH:case jo.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Fo=jo,Bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zo={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Yo=y.forwardRef((function(e,t){var n=e.style,r=e.noStyle,i=e.disabled,o=Bo(e,["style","noStyle","disabled"]),a={};return r||(a=It({},zo)),i&&(a.pointerEvents="none"),a=It(It({},a),n),y.createElement("div",It({role:"button",tabIndex:0,ref:t},o,{onKeyDown:function(e){e.keyCode===Fo.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,r=e.onClick;n===Fo.ENTER&&r&&r()},style:a}))})),Go=Yo,Vo=function(e){if(Kr()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function Wo(e,t){return Array.isArray(e)||void 0===t?Vo(e):function(e,t){if(!Vo(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var Uo=n(97326),Zo=function(e){return+setTimeout(e,16)},Ho=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Zo=function(e){return window.requestAnimationFrame(e)},Ho=function(e){return window.cancelAnimationFrame(e)});var qo=0,Xo=new Map;function Ko(e){Xo.delete(e)}function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=qo+=1;function r(t){if(0===t)Ko(n),e();else{var i=Zo((function(){r(t-1)}));Xo.set(n,i)}}return r(t),n}function $o(e,t){return!!e&&e.contains(t)}function Qo(e,t,n,r){var i=b.unstable_batchedUpdates?function(e){b.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}Jo.cancel=function(e){var t=Xo.get(e);return Ko(t),Ho(t)};var ea=(0,y.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,o=(0,y.useRef)();(0,y.useImperativeHandle)(t,(function(){return{}}));var a=(0,y.useRef)(!1);return!a.current&&Kr()&&(o.current=r(),a.current=!0),(0,y.useEffect)((function(){null===n||void 0===n||n(e)})),(0,y.useEffect)((function(){return function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?b.createPortal(i,o.current):null})),ta=ea;function na(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var ra=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var oa=function(e,t){var n={animationend:ia("Animation","AnimationEnd"),transitionend:ia("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Kr(),"undefined"!==typeof window?window:{}),aa={};if(Kr()){var sa=document.createElement("div");aa=sa.style}var ua={};function la(e){if(ua[e])return ua[e];var t=oa[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in aa)return ua[e]=t[o],ua[e]}return""}var ca=la("animationend"),da=la("transitionend"),fa=!(!ca||!da),ha=ca||"animationend",pa=da||"transitionend";function ga(e,t){if(!e)return null;if("object"===(0,hr.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var va="none",ma="appear",ya="enter",ba="leave",xa="none",wa="prepare",Ea="start",ka="active",_a="end",Sa=Kr()?y.useLayoutEffect:y.useEffect,Ta=[wa,Ea,ka,_a];function Ca(e){return e===ka||e===_a}var Ma=function(e,t){var n=Ui(xa),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=function(){var e=y.useRef(null);function t(){Jo.cancel(e.current)}return y.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Jo((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=(0,m.Z)(a,2),u=s[0],l=s[1];return Sa((function(){if(i!==xa&&i!==_a){var e=Ta.indexOf(i),n=Ta[e+1],r=t(i);false===r?o(n,!0):u((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),y.useEffect((function(){return function(){l()}}),[]),[function(){o(wa,!0)},i]};function Aa(e,t,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,u=r.motionLeave,l=void 0===u||u,c=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,b=r.onLeaveStart,x=r.onAppearActive,w=r.onEnterActive,E=r.onLeaveActive,k=r.onAppearEnd,_=r.onEnterEnd,S=r.onLeaveEnd,T=r.onVisibleChanged,C=Ui(),M=(0,m.Z)(C,2),A=M[0],I=M[1],O=Ui(va),N=(0,m.Z)(O,2),P=N[0],D=N[1],R=Ui(null),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=(0,y.useRef)(!1),z=(0,y.useRef)(null),Y=(0,y.useRef)(null);function G(){return n()||Y.current}var V=(0,y.useRef)(!1);function W(e){var t,n=G();e&&!e.deadline&&e.target!==n||(P===ma&&V.current?t=null===k||void 0===k?void 0:k(n,e):P===ya&&V.current?t=null===_||void 0===_?void 0:_(n,e):P===ba&&V.current&&(t=null===S||void 0===S?void 0:S(n,e)),!1!==t&&(D(va,!0),F(null,!0)))}var U=function(e){var t=(0,y.useRef)(),n=(0,y.useRef)(e);n.current=e;var r=y.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(pa,r),e.removeEventListener(ha,r))}return y.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(pa,r),e.addEventListener(ha,r),t.current=e)},i]}(W),Z=(0,m.Z)(U,1)[0],H=y.useMemo((function(){var e,t,n;switch(P){case ma:return e={},(0,xe.Z)(e,wa,f),(0,xe.Z)(e,Ea,g),(0,xe.Z)(e,ka,x),e;case ya:return t={},(0,xe.Z)(t,wa,h),(0,xe.Z)(t,Ea,v),(0,xe.Z)(t,ka,w),t;case ba:return n={},(0,xe.Z)(n,wa,p),(0,xe.Z)(n,Ea,b),(0,xe.Z)(n,ka,E),n;default:return{}}}),[P]),q=Ma(P,(function(e){if(e===wa){var t=H.prepare;return!!t&&t(G())}var n;J in H&&F((null===(n=H[J])||void 0===n?void 0:n.call(H,G(),null))||null);return J===ka&&(Z(G()),c>0&&(clearTimeout(z.current),z.current=setTimeout((function(){W({deadline:!0})}),c))),true})),X=(0,m.Z)(q,2),K=X[0],J=X[1],$=Ca(J);V.current=$,Sa((function(){I(t);var n,r=B.current;(B.current=!0,e)&&(!r&&t&&s&&(n=ma),r&&t&&o&&(n=ya),(r&&!t&&l||!r&&d&&!t&&l)&&(n=ba),n&&(D(n),K()))}),[t]),(0,y.useEffect)((function(){(P===ma&&!s||P===ya&&!o||P===ba&&!l)&&D(va)}),[s,o,l]),(0,y.useEffect)((function(){return function(){clearTimeout(z.current)}}),[]),(0,y.useEffect)((function(){void 0!==A&&P===va&&(null===T||void 0===T||T(A))}),[A,P]);var Q=j;return H.prepare&&J===Ea&&(Q=Ee({transition:"none"},Q)),[P,J,Q,null!==A&&void 0!==A?A:t]}var Ia=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(y.Component),Oa=Ia;var Na=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,hr.Z)(e)&&(t=e.transitionSupport);var r=y.forwardRef((function(e,t){var r=e.visible,i=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,s=e.forceRender,u=e.children,l=e.motionName,c=e.leavedClassName,d=e.eventProps,f=n(e),h=(0,y.useRef)(),p=(0,y.useRef)();var g=Aa(f,i,(function(){try{return h.current instanceof HTMLElement?h.current:oo(p.current)}catch(e){return null}}),e),v=(0,m.Z)(g,4),b=v[0],x=v[1],w=v[2],E=v[3],k=y.useRef(E);E&&(k.current=!0);var _,S=y.useCallback((function(e){h.current=e,ji(t,e)}),[]),T=Ee(Ee({},d),{},{visible:i});if(u)if(b!==va&&n(e)){var C,M;x===wa?M="prepare":Ca(x)?M="active":x===Ea&&(M="start"),_=u(Ee(Ee({},T),{},{className:In()(ga(l,b),(C={},(0,xe.Z)(C,ga(l,"".concat(b,"-").concat(M)),M),(0,xe.Z)(C,l,"string"===typeof l),C)),style:w}),S)}else _=E?u(Ee({},T),S):!a&&k.current?u(Ee(Ee({},T),{},{className:c}),S):s?u(Ee(Ee({},T),{},{style:{display:"none"}}),S):null;else _=null;return y.createElement(Oa,{ref:p},_)}));return r.displayName="CSSMotion",r}(fa),Pa="add",Da="keep",Ra="remove",La="removed";function ja(e){var t;return Ee(Ee({},t=e&&"object"===(0,hr.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(ja)}function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Fa(e),a=Fa(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return Ee(Ee({},e),{},{status:Pa})}))),r=o),n.push(Ee(Ee({},s),{},{status:Da})),r+=1,t=!0;break}}t||n.push(Ee(Ee({},e),{},{status:Ra}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return Ee(Ee({},e),{},{status:Pa})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ra})),n.forEach((function(t){t.key===e&&(t.status=Da)}))})),n}var za=["component","children","onVisibleChanged"],Ya=["status"],Ga=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Va=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Na,n=function(e){(0,Pn.Z)(r,e);var n=(0,Dn.Z)(r);function r(){var e;(0,On.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Ee(Ee({},e),{},{status:La})}))}}))},e}return(0,Nn.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=dr(r,za),u=i||y.Fragment,l={};return Ga.forEach((function(e){l[e]=s[e],delete s[e]})),delete s.keys,y.createElement(u,s,n.map((function(n){var r=n.status,i=dr(n,Ya),s=r===Pa||r===Da;return y.createElement(t,It({},l,{key:i.key,visible:s,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Fa(n);return{keyEntities:Ba(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==La||e.status!==Ra}))}}}]),r}(y.Component);return n.defaultProps={component:"div"},n}(fa),Wa=Na;function Ua(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Za(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,s=e.maskTransitionName;if(!i)return null;var u={};return(o||s||a)&&(u=Ee({motionAppear:!0},Ua({motion:o,prefixCls:t,transitionName:s,animation:a}))),y.createElement(Wa,It({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return y.createElement("div",{style:{zIndex:r},className:In()("".concat(t,"-mask"),n)})}))}var Ha,qa=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ja(e){return Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qa={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function es(){if(void 0!==Ha)return Ha;Ha="";var e=document.createElement("p").style;for(var t in Qa)t+"Transform"in e&&(Ha=t);return Ha}function ts(){return es()?"".concat(es(),"TransitionProperty"):"transitionProperty"}function ns(){return es()?"".concat(es(),"Transform"):"transform"}function rs(e,t){var n=ts();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function is(e,t){var n=ns();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var os,as=/matrix\((.*)\)/,ss=/matrix3d\((.*)\)/;function us(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ls(e,t,n){var r=n;if("object"!==Ja(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):os(e,t);for(var i in t)t.hasOwnProperty(i)&&ls(e,i,t[i])}function cs(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function ds(e){return cs(e)}function fs(e){return cs(e,!0)}function hs(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ds(r),t.top+=fs(r),t}function ps(e){return null!==e&&void 0!==e&&e==e.window}function gs(e){return ps(e)?e.document:9===e.nodeType?e:e.ownerDocument}var vs=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ms=/^(top|right|bottom|left)$/;function ys(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function bs(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function xs(e,t,n){"static"===ls(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=ys("left",n),a=ys("top",n),s=bs(o),u=bs(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l="",c=hs(e);("left"in t||"top"in t)&&(l=function(e){return e.style.transitionProperty||e.style[ts()]}(e)||"",rs(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),us(e);var d=hs(e),f={};for(var h in t)if(t.hasOwnProperty(h)){var p=ys(h,n),g="left"===h?r:i,v=c[h]-d[h];f[p]=p===h?g+v:g-v}ls(e,f),us(e),("left"in t||"top"in t)&&rs(e,l);var m={};for(var y in t)if(t.hasOwnProperty(y)){var b=ys(y,n),x=t[y]-c[y];m[b]=y===b?f[b]+x:f[b]-x}ls(e,m)}function ws(e,t){var n=hs(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(ns());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(ns());if(r&&"none"!==r){var i,o=r.match(as);o?(i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,is(e,"matrix(".concat(i.join(","),")"))):(i=r.match(ss)[1].split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,is(e,"matrix3d(".concat(i.join(","),")")))}else is(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function Es(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ks(e){return"border-box"===os(e,"boxSizing")}"undefined"!==typeof window&&(os=window.getComputedStyle?function(e,t,n){var r=n,i="",o=gs(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(vs.test(n)&&!ms.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var _s=["margin","border","padding"];function Ss(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function Ts(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(os(e,s))||0}return a}var Cs={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Ms(e,t,n){var r=n;if(ps(e))return"width"===t?Cs.viewportWidth(e):Cs.viewportHeight(e);if(9===e.nodeType)return"width"===t?Cs.docWidth(e):Cs.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=ks(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=os(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,l=o||s;return-1===r?u?l-Ts(e,["border","padding"],i):s:u?1===r?l:l+(2===r?-Ts(e,["border"],i):Ts(e,["margin"],i)):s+Ts(e,_s.slice(r),i)}Es(["Width","Height"],(function(e){Cs["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Cs["viewport".concat(e)](n))},Cs["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var As={position:"absolute",visibility:"hidden",display:"block"};function Is(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Ms.apply(void 0,t):Ss(i,As,(function(){r=Ms.apply(void 0,t)})),r}function Os(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Es(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Cs["outer".concat(t)]=function(t,n){return t&&Is(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Cs[e]=function(t,r){var i=r;return void 0!==i?t?(ks(t)&&(i+=Ts(t,["padding","border"],n)),ls(t,e,i)):void 0:t&&Is(t,e,-1)}}));var Ns={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:gs,offset:function(e,t,n){if("undefined"===typeof t)return hs(e);!function(e,t,n){if(n.ignoreShake){var r=hs(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?xs(e,t,n):n.useCssTransform&&ns()in document.body.style?ws(e,t):xs(e,t,n)}(e,t,n||{})},isWindow:ps,each:Es,css:ls,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Os,getWindowScrollLeft:function(e){return ds(e)},getWindowScrollTop:function(e){return fs(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ns.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Os(Ns,Cs);var Ps=Ns.getParent;function Ds(e){if(Ns.isWindow(e)||9===e.nodeType)return null;var t,n=Ns.getDocument(e).body,r=Ns.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Ps(e);for(t=Ps(e);t&&t!==n&&9!==t.nodeType;t=Ps(t))if("static"!==(r=Ns.css(t,"position")))return t;return null}var Rs=Ns.getParent;function Ls(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Ds(e),i=Ns.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Ns.css(r,"overflow")){if(r===a||r===s)break}else{var u=Ns.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Ds(r)}var l=null;Ns.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===Ns.css(e,"position")&&(e.style.position="fixed"));var c=Ns.getWindowScrollLeft(o),d=Ns.getWindowScrollTop(o),f=Ns.viewportWidth(o),h=Ns.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(p=o.innerWidth),"hidden"===v.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(Ns.isWindow(e)||9===e.nodeType)return!1;var t=Ns.getDocument(e),n=t.body,r=null;for(r=Rs(e);r&&r!==n&&r!==t;r=Rs(r))if("fixed"===Ns.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,d),n.right=Math.min(n.right,c+f),n.bottom=Math.min(n.bottom,d+h);else{var m=Math.max(p,c+f);n.right=Math.min(n.right,m);var y=Math.max(g,d+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function js(e){var t,n,r;if(Ns.isWindow(e)||9===e.nodeType){var i=Ns.getWindow(e);t={left:Ns.getWindowScrollLeft(i),top:Ns.getWindowScrollTop(i)},n=Ns.viewportWidth(i),r=Ns.viewportHeight(i)}else t=Ns.offset(e),n=Ns.outerWidth(e),r=Ns.outerHeight(e);return t.width=n,t.height=r,t}function Fs(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Bs(e,t,n,r,i){var o=Fs(t,n[1]),a=Fs(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function zs(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Ys(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Gs(e,t,n){var r=[];return Ns.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Vs(e,t){return e[t]=-e[t],e}function Ws(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Us(e,t){e[0]=Ws(e[0],t.width),e[1]=Ws(e[1],t.height)}function Zs(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var l={},c=0,d=Ls(u,!(!(s=s||{})||!s.alwaysByViewport)),f=js(u);Us(o,f),Us(a,t);var h=Bs(f,t,i,o,a),p=Ns.merge(f,h);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&zs(h,f,d)){var g=Gs(i,/[lr]/gi,{l:"r",r:"l"}),v=Vs(o,0),m=Vs(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Bs(f,t,g,v,m),f,d)||(c=1,i=g,o=v,a=m)}if(s.adjustY&&Ys(h,f,d)){var y=Gs(i,/[tb]/gi,{t:"b",b:"t"}),b=Vs(o,1),x=Vs(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Bs(f,t,y,b,x),f,d)||(c=1,i=y,o=b,a=x)}c&&(h=Bs(f,t,i,o,a),Ns.mix(p,h));var w=zs(h,f,d),E=Ys(h,f,d);if(w||E){var k=i;w&&(k=Gs(i,/[lr]/gi,{l:"r",r:"l"})),E&&(k=Gs(i,/[tb]/gi,{t:"b",b:"t"})),i=k,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&w,l.adjustY=s.adjustY&&E,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=Ns.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Ns.mix(i,o)}(h,f,d,l))}return p.width!==f.width&&Ns.css(u,"width",Ns.width(u)+p.width-f.width),p.height!==f.height&&Ns.css(u,"height",Ns.height(u)+p.height-f.height),Ns.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function Hs(e,t,n){var r=n.target||t,i=js(r),o=!function(e,t){var n=Ls(e,t),r=js(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Zs(e,i,n,o)}Hs.__getOffsetParent=Ds,Hs.__getVisibleRectForElement=Ls;var qs=n(18111),Xs=n.n(qs);function Ks(e,t){var n=null,r=null;var i=new Mo((function(e){var i=(0,m.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function Js(e){return"function"!==typeof e?null:e()}function $s(e){return"object"===(0,hr.Z)(e)&&e?e:null}var Qs=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,l=void 0===u?0:u,c=y.useRef({}),d=y.useRef(),f=y.Children.only(n),h=y.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var p=function(e,t){var n=y.useRef(!1),r=y.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=d.current,s=Js(n),u=$s(n);c.current.element=s,c.current.point=u,c.current.align=r;var l=document.activeElement;return s&&qa(s)?o=Hs(a,s,r):u&&(o=function(e,t,n){var r,i,o=Ns.getDocument(e),a=o.defaultView||o.parentWindow,s=Ns.getWindowScrollLeft(a),u=Ns.getWindowScrollTop(a),l=Ns.viewportWidth(a),c=Ns.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},f=r>=0&&r<=s+l&&i>=0&&i<=u+c,h=[n.points[0],"cc"];return Zs(e,d,Ka(Ka({},n),{},{points:h}),f)}(a,u,r)),function(e,t){e!==document.activeElement&&$o(t,e)&&"function"===typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),l),g=(0,m.Z)(p,2),v=g[0],b=g[1],x=y.useRef({cancel:function(){}}),w=y.useRef({cancel:function(){}});y.useEffect((function(){var e,t,n=Js(i),r=$s(i);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=Ks(d.current,v)),c.current.element===n&&((e=c.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Xs()(c.current.align,o)||(v(),x.current.element!==n&&(x.current.cancel(),x.current.element=n,x.current.cancel=Ks(n,v)))})),y.useEffect((function(){r?b():v()}),[r]);var E=y.useRef(null);return y.useEffect((function(){s?E.current||(E.current=Qo(window,"resize",v)):E.current&&(E.current.remove(),E.current=null)}),[s]),y.useEffect((function(){return function(){x.current.cancel(),w.current.cancel(),E.current&&E.current.remove(),b()}}),[]),y.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),y.isValidElement(f)&&(f=y.cloneElement(f,{ref:Fi(f.ref,d)})),f},eu=y.forwardRef(Qs);eu.displayName="Align";var tu=eu,nu=n(87757),ru=n.n(nu),iu=n(15861),ou=["measure","align",null,"motion"],au=y.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.zIndex,u=e.stretch,l=e.destroyPopupOnHide,c=e.forceRender,d=e.align,f=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,E=(0,y.useRef)(),k=(0,y.useRef)(),_=(0,y.useState)(),S=(0,m.Z)(_,2),T=S[0],C=S[1],M=function(e){var t=y.useState({width:0,height:0}),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=y.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[o,function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(u),A=(0,m.Z)(M,2),I=A[0],O=A[1];var N=function(e,t){var n=Ui(null),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useRef)();function s(e){o(e,!0)}function u(){Jo.cancel(a.current)}return(0,y.useEffect)((function(){s("measure")}),[e]),(0,y.useEffect)((function(){"measure"===i&&t(),i&&(a.current=Jo((0,iu.Z)(ru().mark((function e(){var t,n;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ou.indexOf(i),(n=ou[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,y.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=Jo((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){u&&O(h())})),P=(0,m.Z)(N,2),D=P[0],R=P[1],L=(0,y.useRef)();function j(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function F(e,t){var n=p(t);T!==n&&C(n),"align"===D&&(T!==n?Promise.resolve().then((function(){j()})):R((function(){var e;null===(e=L.current)||void 0===e||e.call(L)})),null===g||void 0===g||g(e,t))}var B=Ee({},Ua(e));function z(){return new Promise((function(e){L.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=B[e];B[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),y.useEffect((function(){B.motionName||"motion"!==D||R()}),[B.motionName,D]),y.useImperativeHandle(t,(function(){return{forceAlign:j,getElement:function(){return k.current}}}));var Y=Ee(Ee({},I),{},{zIndex:s,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:"stable"===D?void 0:"none"},o),G=!0;!(null===d||void 0===d?void 0:d.points)||"align"!==D&&"stable"!==D||(G=!1);var V=a;return y.Children.count(a)>1&&(V=y.createElement("div",{className:"".concat(r,"-content")},a)),y.createElement(Wa,It({visible:n,ref:k,leavedClassName:"".concat(r,"-hidden")},B,{onAppearPrepare:z,onEnterPrepare:z,removeOnLeave:l,forceRender:c}),(function(e,t){var n=e.className,o=e.style,a=In()(r,i,T,n);return y.createElement(tu,{target:f||h,key:"popup",ref:E,monitorWindowResize:!0,disabled:G,align:d,onAlign:F},y.createElement("div",{ref:t,className:a,onMouseEnter:v,onMouseLeave:b,onMouseDownCapture:x,onTouchStartCapture:w,style:Ee(Ee({},o),Y)},V))}))}));au.displayName="PopupInner";var su=au,uu=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.children,a=e.mobile,s=(a=void 0===a?{}:a).popupClassName,u=a.popupStyle,l=a.popupMotion,c=void 0===l?{}:l,d=a.popupRender,f=y.useRef();y.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return f.current}}}));var h=Ee({zIndex:i},u),p=o;return y.Children.count(o)>1&&(p=y.createElement("div",{className:"".concat(n,"-content")},o)),d&&(p=d(p)),y.createElement(Wa,It({visible:r,ref:f,removeOnLeave:!0},c),(function(e,t){var r=e.className,i=e.style,o=In()(n,s,r);return y.createElement("div",{ref:t,className:o,style:Ee(Ee({},i),h)},p)}))}));uu.displayName="MobilePopupInner";var lu=uu,cu=["visible","mobile"],du=y.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=dr(e,cu),o=(0,y.useState)(n),a=(0,m.Z)(o,2),s=a[0],u=a[1],l=(0,y.useState)(!1),c=(0,m.Z)(l,2),d=c[0],f=c[1],h=Ee(Ee({},i),{},{visible:s});(0,y.useEffect)((function(){u(n),n&&r&&f(ra())}),[n,r]);var p=d?y.createElement(lu,It({},h,{mobile:r,ref:t})):y.createElement(su,It({},h,{ref:t}));return y.createElement("div",null,y.createElement(Za,h),p)}));du.displayName="Popup";var fu=du,hu=y.createContext(null);function pu(){}function gu(){return""}function vu(e){return e?e.ownerDocument:window.document}var mu=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var yu=function(e){var t=function(t){(0,Pn.Z)(r,t);var n=(0,Dn.Z)(r);function r(e){var t,i;return(0,On.Z)(this,r),(t=n.call(this,e)).popupRef=y.createRef(),t.triggerRef=y.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&$o(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();$o(r,n)&&!t.isContextMenuOnly()||$o(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=oo(t.triggerRef.current);if(n)return n}catch(r){}return b.findDOMNode((0,Uo.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(na(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,i=e.popupClassName,o=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,u=e.popupTransitionName,l=e.popupStyle,c=e.mask,d=e.maskAnimation,f=e.maskTransitionName,h=e.maskMotion,p=e.zIndex,g=e.popup,v=e.stretch,m=e.alignPoint,b=e.mobile,x=e.forceRender,w=t.state,E=w.popupVisible,k=w.point,_=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,y.createElement(fu,It({prefixCls:n,destroyPopupOnHide:r,visible:E,point:m&&k,className:i,align:_,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:v,getRootDomNode:t.getRootDomNode,style:l,mask:c,zIndex:p,transitionName:u,maskAnimation:d,maskTransitionName:f,maskMotion:h,ref:t.popupRef,motion:a,mobile:b,forceRender:x}),"function"===typeof g?g():g)},t.attachParent=function(e){Jo.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Jo((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:i,popupVisible:i},mu.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,Nn.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Qo(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Qo(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Qo(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Qo(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Jo.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Ee(Ee({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,u=y.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=In()(u&&u.props&&u.props.className,a);c&&(l.className=c);var d=Ee({},l);Bi(u)&&(d.ref=Fi(this.triggerRef,u.ref));var f,h=y.cloneElement(u,d);return(t||this.popupRef.current||i)&&(f=y.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(f=null),y.createElement(hu.Provider,{value:this.triggerContextValue},h,f)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(y.Component);return t.contextType=hu,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:gu,getDocument:vu,onPopupVisibleChange:pu,afterPopupVisibleChange:pu,onPopupAlign:pu,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(ta),bu={adjustX:1,adjustY:1},xu=[0,0],wu={left:{points:["cr","cl"],overflow:bu,offset:[-4,0],targetOffset:xu},right:{points:["cl","cr"],overflow:bu,offset:[4,0],targetOffset:xu},top:{points:["bc","tc"],overflow:bu,offset:[0,-4],targetOffset:xu},bottom:{points:["tc","bc"],overflow:bu,offset:[0,4],targetOffset:xu},topLeft:{points:["bl","tl"],overflow:bu,offset:[0,-4],targetOffset:xu},leftTop:{points:["tr","tl"],overflow:bu,offset:[-4,0],targetOffset:xu},topRight:{points:["br","tr"],overflow:bu,offset:[0,-4],targetOffset:xu},rightTop:{points:["tl","tr"],overflow:bu,offset:[4,0],targetOffset:xu},bottomRight:{points:["tr","br"],overflow:bu,offset:[0,4],targetOffset:xu},rightBottom:{points:["bl","br"],overflow:bu,offset:[4,0],targetOffset:xu},bottomLeft:{points:["tl","bl"],overflow:bu,offset:[0,4],targetOffset:xu},leftBottom:{points:["br","bl"],overflow:bu,offset:[-4,0],targetOffset:xu}},Eu=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return y.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof t?t():t)},ku=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,a=void 0===o?0:o,s=e.mouseLeaveDelay,u=void 0===s?.1:s,l=e.overlayStyle,c=e.prefixCls,d=void 0===c?"rc-tooltip":c,f=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,v=e.animation,m=e.motion,b=e.placement,x=void 0===b?"right":b,w=e.align,E=void 0===w?{}:w,k=e.destroyTooltipOnHide,_=void 0!==k&&k,S=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,M=dr(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),A=(0,y.useRef)(null);(0,y.useImperativeHandle)(t,(function(){return A.current}));var I=Ee({},M);"visible"in e&&(I.popupVisible=e.visible);var O=!1,N=!1;if("boolean"===typeof _)O=_;else if(_&&"object"===(0,hr.Z)(_)){var P=_.keepParent;O=!0===P,N=!1===P}return y.createElement(yu,It({popupClassName:n,prefixCls:d,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,i=e.id;return[y.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},n),y.createElement(Eu,{key:"content",prefixCls:d,id:i,overlay:r,overlayInnerStyle:C})]},action:i,builtinPlacements:wu,popupPlacement:x,ref:A,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:v,popupMotion:m,defaultPopupVisible:S,destroyPopupOnHide:O,autoDestroy:N,mouseLeaveDelay:u,popupStyle:l,mouseEnterDelay:a},I),f)},_u=(0,y.forwardRef)(ku),Su={adjustX:1,adjustY:1},Tu={adjustX:0,adjustY:0},Cu=[0,0];function Mu(e){return"boolean"===typeof e?e?Su:Tu:It(It({},Tu),e)}function Au(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,l={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(l).forEach((function(e){l[e]=u?It(It({},l[e]),{overflow:Mu(s),targetOffset:Cu}):It(It({},wu[e]),{overflow:Mu(s)}),l[e].ignoreShake=!0})),l}var Iu=y.isValidElement;function Ou(e,t){return function(e,t,n){return Iu(e)?y.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Nu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Pu=Nu("success","processing","error","default","warning"),Du=Nu("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Ru=function(){return{height:0,opacity:0}},Lu=function(e){return{height:e.scrollHeight,opacity:1}},ju=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Fu={motionName:"ant-motion-collapse",onAppearStart:Ru,onEnterStart:Ru,onAppearActive:Lu,onEnterActive:Lu,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Ru,onAppearEnd:ju,onEnterEnd:ju,onLeaveEnd:ju,motionDeadline:500},Bu=(Nu("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),zu=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Yu=Fu,Gu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vu=new RegExp("^(".concat(Du.join("|"),")(-inverse)?$"));function Wu(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var r=function(e,t){var n={},r=It({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=It(It({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Ou(e,{style:It(It({},o),{pointerEvents:"none"}),className:null});return y.createElement("span",{style:a,className:In()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var Uu=y.forwardRef((function(e,t){var n,r=y.useContext($n),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=Zi(!1,{value:e.visible,defaultValue:e.defaultVisible}),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},f=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||Au({arrowPointAtCenter:n,autoAdjustOverflow:r})},h=e.getPopupContainer,p=Gu(e,["getPopupContainer"]),g=e.prefixCls,v=e.openClassName,b=e.getTooltipContainer,x=e.overlayClassName,w=e.color,E=e.overlayInnerStyle,k=e.children,_=o("tooltip",g),S=o(),T=l;!("visible"in e)&&d()&&(T=!1);var C,M=Wu(Iu(k)?k:y.createElement("span",null,k),_),A=M.props,I=In()(A.className,(0,xe.Z)({},v||"".concat(_,"-open"),!0)),O=In()(x,(n={},(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(_,"-").concat(w),w&&Vu.test(w)),n)),N=E;return w&&!Vu.test(w)&&(N=It(It({},E),{background:w}),C={"--antd-arrow-background-color":w}),y.createElement(_u,It({},p,{prefixCls:_,overlayClassName:O,getTooltipContainer:h||b||i,ref:t,builtinPlacements:f(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:T,onVisibleChange:function(t){var n;c(!d()&&t),d()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=f(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:N,arrowContent:y.createElement("span",{className:"".concat(_,"-arrow-content"),style:C}),motion:{motionName:zu(S,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),T?Ou(M,{className:I}):M)}));Uu.displayName="Tooltip",Uu.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Zu=Uu,Hu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},qu=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Hu}))};qu.displayName="EnterOutlined";var Xu,Ku=y.forwardRef(qu),Ju="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",$u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],Qu={};function el(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Qu[n])return Qu[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=$u.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(Qu[n]=u),u}var tl,nl=n(79613),rl=n.n(nl);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(tl||(tl={}));var il=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(e){r.textArea=e},r.handleResize=function(e){var t=r.state.resizeStatus,n=r.props,i=n.autoSize,o=n.onResize;t===tl.NONE&&("function"===typeof o&&o(e),i&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var e=r.props.autoSize;if(e&&r.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xu||((Xu=document.createElement("textarea")).setAttribute("tab-index","-1"),Xu.setAttribute("aria-hidden","true"),document.body.appendChild(Xu)),e.getAttribute("wrap")?Xu.setAttribute("wrap",e.getAttribute("wrap")):Xu.removeAttribute("wrap");var i=el(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;Xu.setAttribute("style","".concat(u,";").concat(Ju)),Xu.value=e.value||e.placeholder||"";var l,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,f=Xu.scrollHeight;if("border-box"===s?f+=a:"content-box"===s&&(f-=o),null!==n||null!==r){Xu.value=" ";var h=Xu.scrollHeight-o;null!==n&&(c=h*n,"border-box"===s&&(c=c+o+a),f=Math.max(c,f)),null!==r&&(d=h*r,"border-box"===s&&(d=d+o+a),l=f>d?"":"hidden",f=Math.min(d,f))}return{height:f,minHeight:c,maxHeight:d,overflowY:l,resize:"none"}}(r.textArea,!1,t,n);r.setState({textareaStyles:i,resizeStatus:tl.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:tl.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:tl.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var e=r.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,i=e.autoSize,o=e.onResize,a=e.className,s=e.disabled,u=r.state,l=u.textareaStyles,c=u.resizeStatus,d=lr(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),f=In()(n,a,(0,xe.Z)({},"".concat(n,"-disabled"),s));"value"in d&&(d.value=d.value||"");var h=Ee(Ee(Ee({},r.props.style),l),c===tl.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return y.createElement(Ro,{onResize:r.handleResize,disabled:!(i||o)},y.createElement("textarea",It({},d,{className:f,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:tl.NONE},r}return(0,Nn.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&rl()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(y.Component),ol=il,al=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,Nn.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return y.createElement(ol,It({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(y.Component),sl=al,ul=y.createContext(void 0),ll=function(e){var t=e.children,n=e.size;return y.createElement(ul.Consumer,null,(function(e){return y.createElement(ul.Provider,{value:n||e},t)}))},cl=ul,dl="RC_FORM_INTERNAL_HOOKS",fl=function(){Xr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},hl=y.createContext({getFieldValue:fl,getFieldsValue:fl,getFieldError:fl,getFieldWarning:fl,getFieldsError:fl,isFieldsTouched:fl,isFieldTouched:fl,isFieldValidating:fl,isFieldsValidating:fl,resetFields:fl,setFields:fl,setFieldsValue:fl,validateFields:fl,submit:fl,getInternalHooks:function(){return fl(),{dispatch:fl,initEntityValue:fl,registerField:fl,useSubscribe:fl,setInitialValues:fl,setCallbacks:fl,getFields:fl,setValidateMessages:fl,setPreserve:fl,getInitialValue:fl}}});function pl(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vl(e)}function ml(e,t){return ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ml(e,t)}function yl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bl(e,t,n){return bl=yl()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ml(i,n.prototype),i},bl.apply(null,arguments)}function xl(e){var t="function"===typeof Map?new Map:void 0;return xl=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return bl(e,arguments,vl(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ml(n,e)},xl(e)}var wl=/%[sdj%]/g;function El(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(wl,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(F){return"[Circular]"}break;default:return e}}));return a}return e}function _l(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Sl(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var Tl=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ml(t,n),r}(xl(Error));function Cl(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Sl(a,n,(function(e){return r(e),e.length?o(new Tl(e,El(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,l=0,c=[],d=new Promise((function(t,o){var d=function(e){if(c.push.apply(c,e),++l===u)return r(c),c.length?o(new Tl(c,El(c))):t(i)};s.length||(r(c),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?Sl(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function Ml(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Al(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=gl({},e[n],r):e[n]=r}return e}var Il=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!_l(t,o||e.type)||r.push(kl(i.messages.required,e.fullField))},Ol={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nl={integer:function(e){return Nl.number(e)&&parseInt(e,10)===e},float:function(e){return Nl.number(e)&&!Nl.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Nl.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Ol.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(Ol.url)},hex:function(e){return"string"===typeof e&&!!e.match(Ol.hex)}},Pl={required:Il,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(kl(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Il(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Nl[o](t)||r.push(kl(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(kl(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,l=null,c="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(c?l="number":d?l="string":f&&(l="array"),!l)return!1;f&&(u=t.length),d&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(kl(i.messages[l].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(kl(i.messages[l].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(kl(i.messages[l].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(kl(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(kl(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(kl(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(kl(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Dl=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t,o)&&!e.required)return n();Pl.required(e,t,r,a,i,o),_l(t,o)||Pl.type(e,t,r,a,i)}n(a)},Rl={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t,"string")&&!e.required)return n();Pl.required(e,t,r,o,i,"string"),_l(t,"string")||(Pl.type(e,t,r,o,i),Pl.range(e,t,r,o,i),Pl.pattern(e,t,r,o,i),!0===e.whitespace&&Pl.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&Pl.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&(Pl.type(e,t,r,o,i),Pl.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&Pl.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),_l(t)||Pl.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&(Pl.type(e,t,r,o,i),Pl.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&(Pl.type(e,t,r,o,i),Pl.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Pl.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(Pl.type(e,t,r,o,i),Pl.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&Pl.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i),void 0!==t&&Pl.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t,"string")&&!e.required)return n();Pl.required(e,t,r,o,i),_l(t,"string")||Pl.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t,"date")&&!e.required)return n();var a;if(Pl.required(e,t,r,o,i),!_l(t,"date"))a=t instanceof Date?t:new Date(t),Pl.type(e,a,r,o,i),a&&Pl.range(e,a.getTime(),r,o,i)}n(o)},url:Dl,hex:Dl,email:Dl,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;Pl.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_l(t)&&!e.required)return n();Pl.required(e,t,r,o,i)}n(o)}};function Ll(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var jl=Ll(),Fl=function(){function e(e){this.rules=null,this._messages=jl,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Al(Ll(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===jl&&(u=Ll()),Al(u,a.messages),a.messages=u}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=gl({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:gl({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),l[e]=l[e]||[],l[e].push({rule:a,value:r,source:o,field:e}))}))}));var c={};return Cl(l,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return gl({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!a.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==i.message&&(l=[].concat(i.message));var d=l.map(Ml(i,o));if(a.first&&d.length)return c[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(Ml(i,o)):a.error&&(d=[a.error(i,kl(a.messages.required,i.field))]),n(d);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=gl({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(u.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator?r=i.asyncValidator(i,t.value,l,t.source,a):i.validator&&(!0===(r=i.validator(i,t.value,l,t.source,a))?l():!1===r?l("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)),r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=El(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Rl.hasOwnProperty(e.type))throw new Error(kl("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Rl.required:Rl[this.getType(e)]||void 0},e}();Fl.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Rl[e]=t},Fl.warning=function(){},Fl.messages=jl,Fl.validators=Rl;var Bl="'${name}' is not a valid ${type}",zl={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Bl,method:Bl,array:Bl,object:Bl,number:Bl,date:Bl,boolean:Bl,integer:Bl,float:Bl,regexp:Bl,email:Bl,url:Bl,hex:Bl},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Yl(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Gl=n(83878),Vl=n(59199),Wl=n(40181),Ul=n(25267);function Zl(e){return(0,Gl.Z)(e)||(0,Vl.Z)(e)||(0,Wl.Z)(e)||(0,Ul.Z)()}function Hl(e,t,n,r){if(!t.length)return n;var i,o=Zl(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?(0,Mn.Z)(e):Ee({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=Hl(i[a],s,n,r),i}function ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Yl(e,t.slice(0,-1))?e:Hl(e,t,n,r)}function Xl(e){return Array.isArray(e)?function(e){return e.map((function(e){return Xl(e)}))}(e):"object"===(0,hr.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Xl(e[n]);return t}return e}(e):e}var Kl=Xl;function Jl(e){return pl(e)}function $l(e,t){return Yl(e,t)}function Ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=ql(e,t,n,r);return i}function ec(e,t){var n={};return t.forEach((function(t){var r=$l(e,t);n=Ql(n,t,r)})),n}function tc(e,t){return e&&e.some((function(e){return oc(e,t)}))}function nc(e){return"object"===(0,hr.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function rc(e,t){var n=Array.isArray(e)?(0,Mn.Z)(e):Ee({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=nc(r)&&nc(i);n[e]=o?rc(r,i||{}):Kl(i)})),n):n}function ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return rc(e,t)}),e)}function oc(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function ac(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,hr.Z)(t.target)&&e in t.target?t.target[e]:t}function sc(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat((0,Mn.Z)(e.slice(0,n)),[i],(0,Mn.Z)(e.slice(n,t)),(0,Mn.Z)(e.slice(t+1,r))):o<0?[].concat((0,Mn.Z)(e.slice(0,t)),(0,Mn.Z)(e.slice(t+1,n+1)),[i],(0,Mn.Z)(e.slice(n+1,r))):e}var uc=Fl;function lc(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function cc(e,t,n,r,i){return dc.apply(this,arguments)}function dc(){return dc=(0,iu.Z)(ru().mark((function e(t,n,r,i,o){var a,s,u,l,c,d,f,h;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Ee({},r)).ruleIndex,s=null,a&&"array"===a.type&&a.defaultField&&(s=a.defaultField,delete a.defaultField),u=new uc((0,xe.Z)({},t,[a])),l=ic({},zl,i.validateMessages),u.messages(l),c=[],e.prev=8,e.next=11,Promise.resolve(u.validate((0,xe.Z)({},t,n),Ee({},i)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),e.t0.errors?c=e.t0.errors.map((function(e,t){var n=e.message;return y.isValidElement(n)?y.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),c=[l.default]);case 16:if(c.length||!s){e.next=21;break}return e.next=19,Promise.all(n.map((function(e,n){return cc("".concat(t,".").concat(n),e,s,i,o)})));case 19:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat((0,Mn.Z)(e),(0,Mn.Z)(t))}),[]));case 21:return f=Ee(Ee({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),h=c.map((function(e){return"string"===typeof e?lc(e,f):e})),e.abrupt("return",h);case 24:case"end":return e.stop()}}),e,null,[[8,13]])}))),dc.apply(this,arguments)}function fc(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=Ee(Ee({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Xr(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,Xr(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=(0,iu.Z)(ru().mark((function e(n,i){var a,l,c;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return l=u[a],e.next=5,cc(s,t,l,r,o);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:l}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=u.map((function(e){return cc(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return pc.apply(this,arguments)}(l):function(e){return hc.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function hc(){return(hc=(0,iu.Z)(ru().mark((function e(t){return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,Mn.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(){return pc=(0,iu.Z)(ru().mark((function e(t){var n;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}var gc=["name"],vc=[];function mc(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var yc=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;((0,On.Z)(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=vc,r.warnings=vc,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,Jl(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName,i=void 0===n?[]:n;return void 0!==t?[].concat((0,Mn.Z)(i),(0,Mn.Z)(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t(Ee(Ee({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,l=n.store,c=r.getNamePath(),d=r.getValue(e),f=r.getValue(l),h=t&&tc(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=vc,r.warnings=vc,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=vc,r.warnings=vc,r.triggerMetaEvent(),null===u||void 0===u||u(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||vc),"warnings"in p&&(r.warnings=p.warnings||vc),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!c.length&&mc(o,e,l,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(Jl).some((function(e){return tc(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||c.length||o)&&mc(o,e,l,d,f,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,l=(e||{}).triggerName,c=r.getRules();l&&(c=c.filter((function(e){var t=e.validateTrigger;return!t||pl(t).includes(l)})));var d=fc(t,n,c,e,s,u);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc;if(r.validatePromise===i){r.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,o=void 0===i?vc:i;r?n.push.apply(n,(0,Mn.Z)(o)):t.push.apply(t,(0,Mn.Z)(o))})),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),d}));return r.validatePromise=i,r.dirty=!0,r.errors=vc,r.warnings=vc,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(dl).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return Ee(Ee({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Hi(e);return 1===n.length&&y.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return $l(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,l=t.fieldContext,c=void 0!==i?i:l.validateTrigger,d=r.getNamePath(),f=l.getInternalHooks,h=l.getFieldsValue,p=f(dl),g=p.dispatch,v=r.getValue(),m=u||function(e){return(0,xe.Z)({},s,e)},y=e[n],b=Ee(Ee({},e),m(v));b[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):ac.apply(void 0,[s].concat(n)),a&&(e=a(e,v,h(!0))),g({type:"updateValue",namePath:d,value:e}),y&&y.apply(void 0,n)};var x=pl(c||[]);return x.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:d,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(dl).initEntityValue)((0,Uo.Z)(r));return r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(dl).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:y.isValidElement(i)?e=y.cloneElement(i,this.getControlled(i.props)):(Xr(!i,"`children` of Field is not validate ReactElement."),e=i),y.createElement(y.Fragment,{key:t},e)}}]),n}(y.Component);yc.contextType=hl,yc.defaultProps={trigger:"onChange",valuePropName:"value"};var bc=function(e){var t=e.name,n=dr(e,gc),r=y.useContext(hl),i=void 0!==t?Jl(t):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),y.createElement(yc,It({key:o,name:i},n,{fieldContext:r}))},xc=y.createContext(null),wc=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,a=y.useContext(hl),s=y.useRef({keys:[],id:0}).current,u=y.useMemo((function(){var e=Jl(a.prefixName)||[];return[].concat((0,Mn.Z)(e),(0,Mn.Z)(Jl(t)))}),[a.prefixName,t]),l=y.useMemo((function(){return Ee(Ee({},a),{},{prefixName:u})}),[a,u]),c=y.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof r)return Xr(!1,"Form.List only accepts function as children."),null;return y.createElement(xc.Provider,{value:c},y.createElement(hl.Provider,{value:l},y.createElement(bc,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,l=a.getFieldValue,c=function(){return l(u||[])||[]},d={add:function(e,t){var n=c();t>=0&&t<=n.length?(s.keys=[].concat((0,Mn.Z)(s.keys.slice(0,t)),[s.id],(0,Mn.Z)(s.keys.slice(t))),o([].concat((0,Mn.Z)(n.slice(0,t)),[e],(0,Mn.Z)(n.slice(t))))):(s.keys=[].concat((0,Mn.Z)(s.keys),[s.id]),o([].concat((0,Mn.Z)(n),[e]))),s.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(s.keys=sc(s.keys,e,t),o(sc(n,e,t)))}}},f=i||[];return Array.isArray(f)||(f=[]),r(f.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};var Ec="__@field_split__";function kc(e){return e.map((function(e){return"".concat((0,hr.Z)(e),":").concat(e)})).join(Ec)}var _c=function(){function e(){(0,On.Z)(this,e),this.kvs=new Map}return(0,Nn.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(kc(e),t)}},{key:"get",value:function(e){return this.kvs.get(kc(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(kc(e))}},{key:"map",value:function(e){return(0,Mn.Z)(this.kvs.entries()).map((function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1],o=r.split(Ec);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,m.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Sc=_c,Tc=["name","errors"],Cc=(0,Nn.Z)((function e(t){var n=this;(0,On.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===dl?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(Xr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=ic({},n.store,e))},this.getInitialValue=function(e){return Kl($l(n.initialValues,e))},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Sc;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Jl(e);return t.get(n)||{INVALIDATE_NAME_PATH:Jl(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),ec(n.store,i.map(Jl))},this.getFieldValue=function(e){n.warningUnhooked();var t=Jl(e);return $l(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Jl(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Jl(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Jl(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(Jl),s=!1):(i=null,s=o):(i=o.map(Jl),s=a);var u=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?u.every(l):u.some(l);var c=new Sc;i.forEach((function(e){c.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat((0,Mn.Z)(t),[e])}))}))}));var d=function(e){return e.some(l)},f=c.map((function(e){return e.value}));return s?f.every(d):f.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Jl);return t.some((function(e){var t=e.getNamePath();return tc(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Sc,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Xr(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)Xr(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||(n.store=Ql(n.store,i,(0,Mn.Z)(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,Mn.Z)((0,Mn.Z)(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=ic({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(Jl);r.forEach((function(e){var t=n.getInitialValue(e);n.store=Ql(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,dr(e,Tc)),o=Jl(r);"value"in i&&(n.store=Ql(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Ee(Ee({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===$l(n.store,r)&&(n.store=Ql(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:n.getInitialValue(a);if(a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!oc(e.getNamePath(),a)}))){var u=n.store;n.store=Ql(u,a,s,!0),n.notifyObservers(u,[a],{type:"remove"}),n.triggerDependenciesUpdate(u,a)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Ee(Ee({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,Mn.Z)(r))}),r},this.updateValue=function(e,t){var r=Jl(e),i=n.store;n.store=Ql(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(ec(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,Mn.Z)(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=ic(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new Sc;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Jl(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new Sc;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return tc(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Jl):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||tc(i,u)){var l=a.validateRules(Ee({validateMessages:Ee(Ee({},zl),n.validateMessages)},t));o.push(l.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,(0,Mn.Z)(i)):t.push.apply(t,(0,Mn.Z)(i))})),t.length?Promise.reject({name:u,errors:t,warnings:n}):{name:u,errors:t,warnings:n}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var Mc=function(e){var t=y.useRef(),n=y.useState({}),r=(0,m.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new Cc((function(){r({})}));t.current=i.getForm()}return[t.current]},Ac=y.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ic=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,o=y.useContext(Ac),a=y.useRef({});return y.createElement(Ac.Provider,{value:Ee(Ee({},o),{},{validateMessages:Ee(Ee({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=Ee(Ee({},a.current),{},(0,xe.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Ee({},a.current);delete t[e],a.current=t,o.unregisterForm(e)}})},i)},Oc=Ac,Nc=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Pc=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,o=e.form,a=e.preserve,s=e.children,u=e.component,l=void 0===u?"form":u,c=e.validateMessages,d=e.validateTrigger,f=void 0===d?"onChange":d,h=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,v=e.onFinishFailed,b=dr(e,Nc),x=y.useContext(Oc),w=Mc(o),E=(0,m.Z)(w,1)[0],k=E.getInternalHooks(dl),_=k.useSubscribe,S=k.setInitialValues,T=k.setCallbacks,C=k.setValidateMessages,M=k.setPreserve;y.useImperativeHandle(t,(function(){return E})),y.useEffect((function(){return x.registerForm(n,E),function(){x.unregisterForm(n)}}),[x,E,n]),C(Ee(Ee({},x.validateMessages),c)),T({onValuesChange:h,onFieldsChange:function(e){if(x.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p.apply(void 0,[e].concat(r))}},onFinish:function(e){x.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:v}),M(a);var A=y.useRef(null);S(r,!A.current),A.current||(A.current=!0);var I=s,O="function"===typeof s;O&&(I=s(E.getFieldsValue(!0),E));_(!O);var N=y.useRef();y.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,hr.Z)(e)||"object"!==(0,hr.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,Mn.Z)(n),(0,Mn.Z)(r)));return(0,Mn.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(N.current||[],i||[])||E.setFields(i||[]),N.current=i}),[i,E]);var P=y.useMemo((function(){return Ee(Ee({},E),{},{validateTrigger:f})}),[E,f]),D=y.createElement(hl.Provider,{value:P},I);return!1===l?D:y.createElement(l,It({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),E.submit()},onReset:function(e){var t;e.preventDefault(),E.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)},Dc=y.forwardRef(Pc);Dc.FormProvider=Ic,Dc.Field=bc,Dc.List=wc,Dc.useForm=Mc;var Rc=Dc,Lc=y.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),jc=y.createContext(null),Fc=y.createContext({prefixCls:""}),Bc=y.createContext({}),zc=function(e){var t=e.children,n=(0,y.useMemo)((function(){return{}}),[]);return y.createElement(Bc.Provider,{value:n},t)},Yc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Gc=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Yc}))};Gc.displayName="CheckCircleFilled";var Vc=y.forwardRef(Gc),Wc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Uc=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Wc}))};Uc.displayName="ExclamationCircleFilled";var Zc=y.forwardRef(Uc),Hc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},qc=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Hc}))};qc.displayName="CloseCircleFilled";var Xc=y.forwardRef(qc),Kc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Jc=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Kc}))};Jc.displayName="LoadingOutlined";var $c=y.forwardRef(Jc),Qc=(Nu("warning","error",""),{success:Vc,warning:Zc,error:Xc,validating:$c}),ed=function(e,t){var n=t&&Qc[t];return n?y.createElement("span",{className:"".concat(e,"-feedback-icon")},y.createElement(n,null)):null};function td(e,t,n){var r;return In()((r={},(0,xe.Z)(r,"".concat(e,"-status-success"),"success"===t),(0,xe.Z)(r,"".concat(e,"-status-warning"),"warning"===t),(0,xe.Z)(r,"".concat(e,"-status-error"),"error"===t),(0,xe.Z)(r,"".concat(e,"-status-validating"),"validating"===t),(0,xe.Z)(r,"".concat(e,"-has-feedback"),n),r))}var nd=function(e,t){return t||e},rd=Nu("text","input");var id=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,r=n.value,i=n.disabled,o=n.readOnly,a=n.handleReset,s=n.suffix,u=!i&&!o&&r,l="".concat(e,"-clear-icon");return y.createElement(Xc,{onClick:a,onMouseDown:function(e){return e.preventDefault()},className:In()((t={},(0,xe.Z)(t,"".concat(l,"-hidden"),!u),(0,xe.Z)(t,"".concat(l,"-has-suffix"),!!s),t),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var r,i=this.props,o=i.value,a=i.allowClear,s=i.className,u=i.style,l=i.direction,c=i.bordered,d=i.hidden,f=i.status,h=n.status,p=n.hasFeedback;if(!a)return Ou(t,{value:o});var g,v=In()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),td("".concat(e,"-affix-wrapper"),nd(h,f),p),(r={},(0,xe.Z)(r,"".concat(e,"-affix-wrapper-rtl"),"rtl"===l),(0,xe.Z)(r,"".concat(e,"-affix-wrapper-borderless"),!c),(0,xe.Z)(r,"".concat(s),!((g=this.props).addonBefore||g.addonAfter)&&s),r));return y.createElement("span",{className:v,style:u,hidden:d},Ou(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return y.createElement(Bc.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,o=n.element;if(i===rd[0])return e.renderTextAreaWithClearIcon(r,o,t)}))}}]),n}(y.Component),od=id;function ad(e){return!(!e.addonBefore&&!e.addonAfter)}function sd(e){return!!(e.prefix||e.suffix||e.allowClear)}function ud(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function ld(e){return"undefined"===typeof e||null===e?"":String(e)}var cd=function(e){var t=e.inputElement,n=e.prefixCls,r=e.prefix,i=e.suffix,o=e.addonBefore,a=e.addonAfter,s=e.className,u=e.style,l=e.affixWrapperClassName,c=e.groupClassName,d=e.wrapperClassName,f=e.disabled,h=e.readOnly,p=e.focused,g=e.triggerFocus,v=e.allowClear,m=e.value,b=e.handleReset,x=e.hidden,w=(0,y.useRef)(null),E=(0,y.cloneElement)(t,{value:m,hidden:x});if(sd(e)){var k,_="".concat(n,"-affix-wrapper"),S=In()(_,(k={},(0,xe.Z)(k,"".concat(_,"-disabled"),f),(0,xe.Z)(k,"".concat(_,"-focused"),p),(0,xe.Z)(k,"".concat(_,"-readonly"),h),(0,xe.Z)(k,"".concat(_,"-input-with-clear-btn"),i&&v&&m),k),!ad(e)&&s,l),T=(i||v)&&y.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!v)return null;var t=!f&&!h&&m,r="".concat(n,"-clear-icon"),o="object"===(0,hr.Z)(v)&&(null===v||void 0===v?void 0:v.clearIcon)?v.clearIcon:"\u2716";return y.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:In()(r,(e={},(0,xe.Z)(e,"".concat(r,"-hidden"),!t),(0,xe.Z)(e,"".concat(r,"-has-suffix"),!!i),e)),role:"button",tabIndex:-1},o)}(),i);E=y.createElement("span",{className:S,style:u,hidden:!ad(e)&&x,onMouseUp:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===g||void 0===g||g())},ref:w},r&&y.createElement("span",{className:"".concat(n,"-prefix")},r),(0,y.cloneElement)(t,{style:null,value:m,hidden:null}),T)}if(ad(e)){var C="".concat(n,"-group"),M="".concat(C,"-addon"),A=In()("".concat(n,"-wrapper"),C,d),I=In()("".concat(n,"-group-wrapper"),s,c);return y.createElement("span",{className:I,style:u,hidden:x},y.createElement("span",{className:A},o&&y.createElement("span",{className:M},o),(0,y.cloneElement)(E,{style:null,hidden:null}),a&&y.createElement("span",{className:M},a)))}return E},dd=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],fd=(0,y.forwardRef)((function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,o=e.onBlur,a=e.onPressEnter,s=e.onKeyDown,u=e.prefixCls,l=void 0===u?"rc-input":u,c=e.disabled,d=e.htmlSize,f=e.className,h=e.maxLength,p=e.suffix,g=e.showCount,v=e.type,b=void 0===v?"text":v,x=e.inputClassName,w=dr(e,dd),E=Zi(e.defaultValue,{value:e.value}),k=(0,m.Z)(E,2),_=k[0],S=k[1],T=(0,y.useState)(!1),C=(0,m.Z)(T,2),M=C[0],A=C[1],I=(0,y.useRef)(null),O=function(e){I.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(I.current,e)};(0,y.useImperativeHandle)(t,(function(){return{focus:O,blur:function(){var e;null===(e=I.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=I.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=I.current)||void 0===e||e.select()},input:I.current}})),(0,y.useEffect)((function(){A((function(e){return(!e||!c)&&e}))}),[c]);var N=function(e){S(e.target.value),I.current&&ud(I.current,e,r)},P=function(e){a&&"Enter"===e.key&&a(e),null===s||void 0===s||s(e)},D=function(e){A(!0),null===i||void 0===i||i(e)},R=function(e){A(!1),null===o||void 0===o||o(e)};return y.createElement(cd,Ee(Ee({},w),{},{prefixCls:l,className:f,inputElement:function(){var t=lr(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return y.createElement("input",Ee(Ee({autoComplete:n},t),{},{onChange:N,onFocus:D,onBlur:R,onKeyDown:P,className:In()(l,(0,xe.Z)({},"".concat(l,"-disabled"),c),x,!ad(e)&&!sd(e)&&f),ref:I,size:d,type:b}))}(),handleReset:function(e){S(""),O(),I.current&&ud(I.current,e,r)},value:ld(_),focused:M,triggerFocus:O,suffix:function(){var e=Number(h)>0;if(p||g){var t=(0,Mn.Z)(ld(_)).length,n="object"===(0,hr.Z)(g)?g.formatter({count:t,maxLength:h}):"".concat(t).concat(e?" / ".concat(h):"");return y.createElement(y.Fragment,null,!!g&&y.createElement("span",{className:In()("".concat(l,"-show-count-suffix"),(0,xe.Z)({},"".concat(l,"-show-count-has-suffix"),!!p))},n),p)}return null}(),disabled:c}))})),hd=fd;function pd(e){return!!(e.prefix||e.suffix||e.allowClear)}var gd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function vd(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var md=(0,y.forwardRef)((function(e,t){var n,r,i,o=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.status,l=e.size,c=e.onBlur,d=e.onFocus,f=e.suffix,h=e.allowClear,p=e.addonAfter,g=e.addonBefore,v=gd(e,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),m=y.useContext($n),b=m.getPrefixCls,x=m.direction,w=m.input,E=b("input",o),k=(0,y.useRef)(null),_=y.useContext(cl),S=l||_,T=(0,y.useContext)(Bc),C=T.status,M=T.hasFeedback,A=nd(C,u),I=pd(e),O=(0,y.useRef)(I);(0,y.useEffect)((function(){var e;I&&!O.current&&zi(document.activeElement===(null===(e=k.current)||void 0===e?void 0:e.input),"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),O.current=I}),[I]);var N=(0,y.useRef)([]),P=function(){N.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=k.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=k.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=k.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=k.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,y.useEffect)((function(){return P(),function(){return N.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var D,R=(M||f)&&y.createElement(y.Fragment,null,f,M&&ed(E,A)),L=pd(e)||M;return"object"===(0,hr.Z)(h)&&(null===h||void 0===h?void 0:h.clearIcon)?D=h:h&&(D={clearIcon:y.createElement(Xc,null)}),y.createElement(hd,It({ref:Fi(t,k),prefixCls:E,autoComplete:null===w||void 0===w?void 0:w.autoComplete},v,{onBlur:function(e){P(),null===c||void 0===c||c(e)},onFocus:function(e){P(),null===d||void 0===d||d(e)},suffix:R,allowClear:D,addonAfter:p&&y.createElement(zc,null,p),addonBefore:g&&y.createElement(zc,null,g),inputClassName:In()(!L&&(n={},(0,xe.Z)(n,"".concat(E,"-sm"),"small"===S),(0,xe.Z)(n,"".concat(E,"-lg"),"large"===S),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(E,"-borderless"),!s),n),!L&&td(E,A)),affixWrapperClassName:In()((r={},(0,xe.Z)(r,"".concat(E,"-affix-wrapper-sm"),"small"===S),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-lg"),"large"===S),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-rtl"),"rtl"===x),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-borderless"),!s),r),td("".concat(E,"-affix-wrapper"),A,M)),wrapperClassName:In()((0,xe.Z)({},"".concat(E,"-group-rtl"),"rtl"===x)),groupClassName:In()((i={},(0,xe.Z)(i,"".concat(E,"-group-wrapper-sm"),"small"===S),(0,xe.Z)(i,"".concat(E,"-group-wrapper-lg"),"large"===S),(0,xe.Z)(i,"".concat(E,"-group-wrapper-rtl"),"rtl"===x),i),td("".concat(E,"-group-wrapper"),A,M))}))})),yd=md,bd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xd(e,t){return(0,Mn.Z)(e||"").slice(0,t).join("")}function wd(e,t,n,r){var i=n;return e?i=xd(n,r):(0,Mn.Z)(t||"").length<n.length&&(0,Mn.Z)(n||"").length>r&&(i=t),i}var Ed=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.bordered,o=void 0===i||i,a=e.showCount,s=void 0!==a&&a,u=e.maxLength,l=e.className,c=e.style,d=e.size,f=e.onCompositionStart,h=e.onCompositionEnd,p=e.onChange,g=e.status,v=bd(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),b=y.useContext($n),x=b.getPrefixCls,w=b.direction,E=y.useContext(cl),k=y.useContext(Bc),_=k.status,S=k.hasFeedback,T=nd(_,g),C=y.useRef(null),M=y.useRef(null),A=y.useState(!1),I=(0,m.Z)(A,2),O=I[0],N=I[1],P=y.useRef(),D=y.useRef(0),R=Zi(v.defaultValue,{value:v.value}),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=v.hidden,z=function(e,t){void 0===v.value&&(F(e),null===t||void 0===t||t())},Y=Number(u)>0,G=x("input",r);y.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=C.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=C.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.blur()}}}));var V=y.createElement(sl,It({},lr(v,["allowClear"]),{className:In()((n={},(0,xe.Z)(n,"".concat(G,"-borderless"),!o),(0,xe.Z)(n,l,l&&!s),(0,xe.Z)(n,"".concat(G,"-sm"),"small"===E||"small"===d),(0,xe.Z)(n,"".concat(G,"-lg"),"large"===E||"large"===d),n),td(G,T)),style:s?void 0:c,prefixCls:G,onCompositionStart:function(e){N(!0),P.current=j,D.current=e.currentTarget.selectionStart,null===f||void 0===f||f(e)},onChange:function(e){var t=e.target.value;!O&&Y&&(t=wd(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,j,t,u));z(t),vd(e.currentTarget,e,p,t)},onCompositionEnd:function(e){var t;N(!1);var n=e.currentTarget.value;Y&&(n=wd(D.current>=u+1||D.current===(null===(t=P.current)||void 0===t?void 0:t.length),P.current,n,u));n!==j&&(z(n),vd(e.currentTarget,e,p,n)),null===h||void 0===h||h(e)},ref:C})),W=function(e){return"undefined"===typeof e||null===e?"":String(e)}(j);O||!Y||null!==v.value&&void 0!==v.value||(W=xd(W,u));var U=y.createElement(od,It({},v,{prefixCls:G,direction:w,inputType:"text",value:W,element:V,handleReset:function(e){var t,n;z("",(function(){var e;null===(e=C.current)||void 0===e||e.focus()})),vd(null===(n=null===(t=C.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,p)},ref:M,bordered:o,status:g,style:s?void 0:c}));if(s||S){var Z,H=(0,Mn.Z)(W).length,q="";return q="object"===(0,hr.Z)(s)?s.formatter({count:H,maxLength:u}):"".concat(H).concat(Y?" / ".concat(u):""),y.createElement("div",{hidden:B,className:In()("".concat(G,"-textarea"),(Z={},(0,xe.Z)(Z,"".concat(G,"-textarea-rtl"),"rtl"===w),(0,xe.Z)(Z,"".concat(G,"-textarea-show-count"),s),Z),td("".concat(G,"-textarea"),T,S),l),style:c,"data-count":q},U,S&&ed(G,T))}return U})),kd=Ed,_d=function(e){var t=e.prefixCls,n=e["aria-label"],r=e.className,i=e.style,o=e.direction,a=e.maxLength,s=e.autoSize,u=void 0===s||s,l=e.value,c=e.onSave,d=e.onCancel,f=e.onEnd,h=e.component,p=e.enterIcon,g=void 0===p?y.createElement(Ku,null):p,v=y.useRef(),b=y.useRef(!1),x=y.useRef(),w=y.useState(l),E=(0,m.Z)(w,2),k=E[0],_=E[1];y.useEffect((function(){_(l)}),[l]),y.useEffect((function(){if(v.current&&v.current.resizableTextArea){var e=v.current.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}),[]);var S=function(){c(k.trim())},T=h?"".concat(t,"-").concat(h):"",C=In()(t,"".concat(t,"-edit-content"),(0,xe.Z)({},"".concat(t,"-rtl"),"rtl"===o),r,T);return y.createElement("div",{className:C,style:i},y.createElement(kd,{ref:v,maxLength:a,value:k,onChange:function(e){var t=e.target;_(t.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){var t=e.keyCode;b.current||(x.current=t)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,r=e.altKey,i=e.metaKey,o=e.shiftKey;x.current!==t||b.current||n||r||i||o||(t===Fo.ENTER?(S(),null===f||void 0===f||f()):t===Fo.ESC&&d())},onCompositionStart:function(){b.current=!0},onCompositionEnd:function(){b.current=!1},onBlur:function(){S()},"aria-label":n,rows:1,autoSize:u}),null!==g?Ou(g,{className:"".concat(t,"-edit-content-confirm")}):null)};function Sd(e,t){return y.useMemo((function(){var n=!!e;return[n,It(It({},t),n&&"object"===(0,hr.Z)(e)?e:null)]}),[e])}function Td(e){var t=(0,hr.Z)(e);return"string"===t||"number"===t}function Cd(e,t){for(var n=0,r=[],i=0;i<e.length;i+=1){if(n===t)return r;var o=e[i],a=n+(Td(o)?String(o).length:1);if(a>t){var s=t-n;return r.push(String(o).slice(0,s)),r}r.push(o),n=a}return e}var Md=function(e){var t=e.enabledMeasure,n=e.children,r=e.text,i=e.width,o=e.rows,a=e.onEllipsis,s=y.useState([0,0,0]),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=y.useState(0),f=(0,m.Z)(d,2),h=f[0],p=f[1],g=(0,m.Z)(l,3),v=g[0],b=g[1],x=g[2],w=y.useState(0),E=(0,m.Z)(w,2),k=E[0],_=E[1],S=y.useRef(null),T=y.useRef(null),C=y.useMemo((function(){return Hi(r)}),[r]),M=y.useMemo((function(){return function(e){var t=0;return e.forEach((function(e){Td(e)?t+=String(e).length:t+=1})),t}(C)}),[C]),A=y.useMemo((function(){return t&&3===h?n(Cd(C,b),b<M):n(C,!1)}),[t,h,n,C,b,M]);Lo((function(){t&&i&&M&&(p(1),c([0,Math.ceil(M/2),M]))}),[t,i,r,M,o]),Lo((function(){var e;1===h&&_((null===(e=S.current)||void 0===e?void 0:e.offsetHeight)||0)}),[h]),Lo((function(){var e,t;if(k)if(1===h)((null===(e=T.current)||void 0===e?void 0:e.offsetHeight)||0)<=o*k?(p(4),a(!1)):p(2);else if(2===h)if(v!==x){var n=(null===(t=T.current)||void 0===t?void 0:t.offsetHeight)||0,r=v,i=x;v===x-1?i=v:n<=o*k?r=b:i=b;var s=Math.ceil((r+i)/2);c([r,s,i])}else p(3),a(!0)}),[h,v,x,o,k]);var I={width:i,whiteSpace:"normal",margin:0,padding:0},O=function(e,t,n){return y.createElement("span",{"aria-hidden":!0,ref:t,style:It({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none"},n)},e)};return y.createElement(y.Fragment,null,A,t&&3!==h&&4!==h&&y.createElement(y.Fragment,null,O("lg",S,{wordBreak:"keep-all",whiteSpace:"nowrap"}),1===h?O(n(C,!1),T,I):function(e,t){var r=Cd(C,e);return O(n(r,!0),t,I)}(b,T)))};var Ad=function(e){var t=e.title,n=e.enabledEllipsis,r=e.isEllipsis,i=e.children;return t&&n?y.createElement(Zu,{title:t,visible:!!r&&void 0},i):i},Id=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Od(e,t,n){return!0===e||void 0===e?t:e||n&&t}function Nd(e){return Array.isArray(e)?e:[e]}var Pd=y.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.style,o=e.type,a=e.disabled,s=e.children,u=e.ellipsis,l=e.editable,c=e.copyable,d=e.component,f=e.title,h=Id(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),p=y.useContext($n),g=p.getPrefixCls,v=p.direction,b=Vn("Text")[0],x=y.useRef(null),w=y.useRef(null),E=g("typography",n),k=lr(h,["mark","code","delete","underline","strong","keyboard","italic"]),_=Sd(l),S=(0,m.Z)(_,2),T=S[0],C=S[1],M=Zi(!1,{value:C.editing}),A=(0,m.Z)(M,2),I=A[0],O=A[1],N=C.triggerType,P=void 0===N?["icon"]:N,D=function(e){var t;e&&(null===(t=C.onStart)||void 0===t||t.call(C)),O(e)};!function(e,t){var n=y.useRef(!1);y.useEffect((function(){n.current?e():n.current=!0}),t)}((function(){var e;I||null===(e=w.current)||void 0===e||e.focus()}),[I]);var R=function(e){null===e||void 0===e||e.preventDefault(),D(!0)},L=Sd(c),j=(0,m.Z)(L,2),F=j[0],B=j[1],z=y.useState(!1),Y=(0,m.Z)(z,2),G=Y[0],V=Y[1],W=y.useRef(),U=function(){clearTimeout(W.current)},Z=function(e){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),Xi()(B.text||String(s)||""),V(!0),U(),W.current=setTimeout((function(){V(!1)}),3e3),null===(t=B.onCopy)||void 0===t||t.call(B)};y.useEffect((function(){return U}),[]);var H=y.useState(!1),q=(0,m.Z)(H,2),X=q[0],K=q[1],J=y.useState(!1),$=(0,m.Z)(J,2),Q=$[0],ee=$[1],te=y.useState(!1),ne=(0,m.Z)(te,2),re=ne[0],ie=ne[1],oe=y.useState(!1),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1],le=y.useState(!1),ce=(0,m.Z)(le,2),de=ce[0],fe=ce[1],he=Sd(u,{expandable:!1}),pe=(0,m.Z)(he,2),ge=pe[0],ve=pe[1],me=ge&&!re,ye=ve.rows,be=void 0===ye?1:ye,we=y.useMemo((function(){return!me||void 0!==ve.suffix||ve.onEllipsis||ve.expandable||T||F}),[me,ve,T,F]);Lo((function(){ge&&!we&&(K(Wo("webkitLineClamp")),ee(Wo("textOverflow")))}),[we,ge]);var Ee=y.useMemo((function(){return!we&&(1===be?Q:X)}),[we,Q,X]),ke=me&&(Ee?de:se),_e=me&&1===be&&Ee,Se=me&&be>1&&Ee,Te=function(e){var t;ie(!0),null===(t=ve.onExpand)||void 0===t||t.call(ve,e)},Ce=y.useState(0),Me=(0,m.Z)(Ce,2),Ae=Me[0],Ie=Me[1],Oe=function(e){var t;ue(e),se!==e&&(null===(t=ve.onEllipsis)||void 0===t||t.call(ve,e))};y.useEffect((function(){var e=x.current;if(ge&&Ee&&e){var t=Se?e.offsetHeight<e.scrollHeight:e.offsetWidth<e.scrollWidth;de!==t&&fe(t)}}),[ge,Ee,s,Se]);var Ne=!0===ve.tooltip?s:ve.tooltip,Pe=y.useMemo((function(){var e=function(e){return["string","number"].includes((0,hr.Z)(e))};if(ge&&!Ee)return e(s)?s:e(f)?f:e(Ne)?Ne:void 0}),[ge,Ee,f,Ne,ke]);if(I)return y.createElement(_d,{value:"string"===typeof s?s:"",onSave:function(e){var t;null===(t=C.onChange)||void 0===t||t.call(C,e),D(!1)},onCancel:function(){var e;null===(e=C.onCancel)||void 0===e||e.call(C),D(!1)},onEnd:C.onEnd,prefixCls:E,className:r,style:i,direction:v,component:d,maxLength:C.maxLength,autoSize:C.autoSize,enterIcon:C.enterIcon});var De=function(){var e,t=ve.expandable,n=ve.symbol;return t?(e=n||b.expand,y.createElement("a",{key:"expand",className:"".concat(E,"-expand"),onClick:Te,"aria-label":b.expand},e)):null},Re=function(){if(T){var e=C.icon,t=C.tooltip,n=Hi(t)[0]||b.edit,r="string"===typeof n?n:"";return P.includes("icon")?y.createElement(Zu,{key:"edit",title:!1===t?"":n},y.createElement(Go,{ref:w,className:"".concat(E,"-edit"),onClick:R,"aria-label":r},e||y.createElement($i,{role:"button"}))):null}},Le=function(){if(F){var e=B.tooltips,t=B.icon,n=Nd(e),r=Nd(t),i=G?Od(n[1],b.copied):Od(n[0],b.copy),o=G?b.copied:b.copy,a="string"===typeof i?i:o;return y.createElement(Zu,{key:"copy",title:i},y.createElement(Go,{className:In()("".concat(E,"-copy"),G&&"".concat(E,"-copy-success")),onClick:Z,"aria-label":a},G?Od(r[1],y.createElement(to,null),!0):Od(r[0],y.createElement(io,null),!0)))}};return y.createElement(Ro,{onResize:function(e){var t=e.offsetWidth;Ie(t)},disabled:!me||Ee},(function(n){var u;return y.createElement(Ad,{title:Ne,enabledEllipsis:me,isEllipsis:ke},y.createElement(Wi,It({className:In()((u={},(0,xe.Z)(u,"".concat(E,"-").concat(o),o),(0,xe.Z)(u,"".concat(E,"-disabled"),a),(0,xe.Z)(u,"".concat(E,"-ellipsis"),ge),(0,xe.Z)(u,"".concat(E,"-single-line"),me&&1===be),(0,xe.Z)(u,"".concat(E,"-ellipsis-single-line"),_e),(0,xe.Z)(u,"".concat(E,"-ellipsis-multiple-line"),Se),u),r),style:It(It({},i),{WebkitLineClamp:Se?be:void 0}),component:d,ref:Fi(n,x,t),direction:v,onClick:P.includes("text")?R:null,"aria-label":Pe,title:f},k),y.createElement(Md,{enabledMeasure:me&&!Ee,text:s,rows:be,width:Ae,onEllipsis:Oe},(function(t,n){var r=t;t.length&&n&&Pe&&(r=y.createElement("span",{key:"show-content","aria-hidden":!0},r));var i=function(e,t){var n=e.mark,r=e.code,i=e.underline,o=e.delete,a=e.strong,s=e.keyboard,u=e.italic,l=t;function c(e,t){e&&(l=y.createElement(t,{},l))}return c(a,"strong"),c(i,"u"),c(o,"del"),c(r,"code"),c(n,"mark"),c(s,"kbd"),c(u,"i"),l}(e,y.createElement(y.Fragment,null,r,function(e){return[e&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),ve.suffix,(t=e,[t&&De(),Re(),Le()])];var t}(n)));return i}))))}))})),Dd=Pd,Rd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ld=function(e){var t=e.ellipsis,n=Rd(e,["ellipsis"]),r=y.useMemo((function(){return t&&"object"===(0,hr.Z)(t)?lr(t,["expandable","rows"]):t}),[t]);return zi("object"!==(0,hr.Z)(t)||!t||!("expandable"in t)&&!("rows"in t),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props."),y.createElement(Dd,It({},n,{ellipsis:r,component:"span"}))},jd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fd=function(e,t){var n=e.ellipsis,r=e.rel,i=jd(e,["ellipsis","rel"]);zi("object"!==(0,hr.Z)(n),"Typography.Link","`ellipsis` only supports boolean value.");var o=y.useRef(null);y.useImperativeHandle(t,(function(){return o.current}));var a=It(It({},i),{rel:void 0===r&&"_blank"===i.target?"noopener noreferrer":r});return delete a.navigate,y.createElement(Dd,It({},a,{ref:o,ellipsis:!!n,component:"a"}))},Bd=y.forwardRef(Fd),zd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(1,2,3,4,5),Gd=function(e){var t,n=e.level,r=void 0===n?1:n,i=zd(e,["level"]);return-1!==Yd.indexOf(r)?t="h".concat(r):(zi(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),t="h1"),y.createElement(Dd,It({},i,{component:t}))},Vd=function(e){return y.createElement(Dd,It({},e,{component:"div"}))},Wd=Wi;Wd.Text=Ld,Wd.Link=Bd,Wd.Title=Gd,Wd.Paragraph=Vd;var Ud,Zd=Wd,Hd=(0,Nn.Z)((function e(t){(0,On.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),qd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Xd=function(e){return y.createElement(Qn,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.size,s=e.className,u=qd(e,["prefixCls","size","className"]),l=r("btn-group",o),c="";switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:console.warn(new Hd(a).error)}var d=In()(l,(n={},(0,xe.Z)(n,"".concat(l,"-").concat(c),c),(0,xe.Z)(n,"".concat(l,"-rtl"),"rtl"===i),n),s);return y.createElement("div",It({},u,{className:d}))}))},Kd=0,Jd={};function $d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Kd++,r=t;function i(){(r-=1)<=0?(e(),delete Jd[n]):Jd[n]=Jo(i)}return Jd[n]=Jo(i),n}function Qd(e){return!e||null===e.offsetParent||e.hidden}function ef(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}$d.cancel=function(e){void 0!==e&&(Jo.cancel(Jd[e]),delete Jd[e])},$d.ids=Jd;var tf=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.apply(this,arguments)).containerRef=y.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||Qd(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,Uo.Z)(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var l=e.getAttributeName();if(t.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&ef(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,d=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;Ud=ri("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:d})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Qd(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),$d.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=$d((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!y.isValidElement(r))return r;var i=e.containerRef;return Bi(r)&&(i=Fi(r.ref,e.containerRef)),Ou(r,{ref:i})},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Ud&&(Ud.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return y.createElement(Qn,null,this.renderWave)}}]),n}(y.Component);tf.contextType=$n;var nf=function(){return{width:0,opacity:0,transform:"scale(0)"}},rf=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},of=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?y.createElement("span",{className:"".concat(t,"-loading-icon")},y.createElement($c,null)):y.createElement(Wa,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:nf,onAppearActive:rf,onEnterStart:nf,onEnterActive:rf,onLeaveStart:rf,onLeaveActive:nf},(function(e,n){var r=e.className,i=e.style;return y.createElement("span",{className:"".concat(t,"-loading-icon"),style:i,ref:n},y.createElement($c,{className:r}))}))},af=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sf=/^[\u4e00-\u9fa5]{2}$/,uf=sf.test.bind(sf);function lf(e){return"text"===e||"link"===e}function cf(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&function(e){return"string"===typeof e}(e.type)&&uf(e.props.children)?Ou(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?uf(e)?y.createElement("span",null,e.split("").join(n)):y.createElement("span",null,e):function(e){return y.isValidElement(e)&&e.type===y.Fragment}(e)?y.createElement("span",null,e):e}}Nu("default","primary","ghost","dashed","link","text"),Nu("default","circle","round"),Nu("submit","button","reset");var df=function(e,t){var n,r=e.loading,i=void 0!==r&&r,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.danger,l=e.shape,c=void 0===l?"default":l,d=e.size,f=e.className,h=e.children,p=e.icon,g=e.ghost,v=void 0!==g&&g,b=e.block,x=void 0!==b&&b,w=e.htmlType,E=void 0===w?"button":w,k=af(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),_=y.useContext(cl),S=y.useState(!!i),T=(0,m.Z)(S,2),C=T[0],M=T[1],A=y.useState(!1),I=(0,m.Z)(A,2),O=I[0],N=I[1],P=y.useContext($n),D=P.getPrefixCls,R=P.autoInsertSpaceInButton,L=P.direction,j=t||y.createRef(),F=function(){return 1===y.Children.count(h)&&!p&&!lf(s)},B="object"===(0,hr.Z)(i)&&i.delay?i.delay||!0:!!i;y.useEffect((function(){var e=null;return"number"===typeof B?e=window.setTimeout((function(){e=null,M(B)}),B):M(B),function(){e&&(window.clearTimeout(e),e=null)}}),[B]),y.useEffect((function(){if(j&&j.current&&!1!==R){var e=j.current.textContent;F()&&uf(e)?O||N(!0):O&&N(!1)}}),[j]);var z=function(t){var n=e.onClick,r=e.disabled;C||r?t.preventDefault():null===n||void 0===n||n(t)};zi(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),zi(!(v&&lf(s)),"Button","`link` or `text` button can't be a `ghost` button.");var Y=D("btn",o),G=!1!==R,V=d||_,W=V&&{large:"lg",small:"sm",middle:void 0}[V]||"",U=C?"loading":p,Z=In()(Y,(n={},(0,xe.Z)(n,"".concat(Y,"-").concat(c),"default"!==c&&c),(0,xe.Z)(n,"".concat(Y,"-").concat(s),s),(0,xe.Z)(n,"".concat(Y,"-").concat(W),W),(0,xe.Z)(n,"".concat(Y,"-icon-only"),!h&&0!==h&&!!U),(0,xe.Z)(n,"".concat(Y,"-background-ghost"),v&&!lf(s)),(0,xe.Z)(n,"".concat(Y,"-loading"),C),(0,xe.Z)(n,"".concat(Y,"-two-chinese-chars"),O&&G),(0,xe.Z)(n,"".concat(Y,"-block"),x),(0,xe.Z)(n,"".concat(Y,"-dangerous"),!!u),(0,xe.Z)(n,"".concat(Y,"-rtl"),"rtl"===L),n),f),H=p&&!C?p:y.createElement(of,{existIcon:!!p,prefixCls:Y,loading:!!C}),q=h||0===h?function(e,t){var n=!1,r=[];return y.Children.forEach(e,(function(e){var t=(0,hr.Z)(e),i="string"===t||"number"===t;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(e)}else r.push(e);n=i})),y.Children.map(r,(function(e){return cf(e,t)}))}(h,F()&&G):null,X=lr(k,["navigate"]);if(void 0!==X.href)return y.createElement("a",It({},X,{className:Z,onClick:z,ref:j}),H,q);var K=y.createElement("button",It({},k,{type:E,className:Z,onClick:z,ref:j}),H,q);return lf(s)?K:y.createElement(tf,{disabled:!!C},K)},ff=y.forwardRef(df);ff.displayName="Button",ff.Group=Xd,ff.__ANT_BUTTON=!0;var hf=ff,pf=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],gf=void 0;function vf(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,o=e.renderItem,a=e.responsive,s=e.registerSize,u=e.itemKey,l=e.className,c=e.style,d=e.children,f=e.display,h=e.order,p=e.component,g=void 0===p?"div":p,v=dr(e,pf),m=a&&!f;function b(e){s(u,e)}y.useEffect((function(){return function(){b(null)}}),[]);var x,w=o&&i!==gf?o(i):d;r||(x={opacity:m?0:1,height:m?0:gf,overflowY:m?"hidden":gf,order:a?h:gf,pointerEvents:m?"none":gf,position:m?"absolute":gf});var E={};m&&(E["aria-hidden"]=!0);var k=y.createElement(g,It({className:In()(!r&&n,l),style:Ee(Ee({},x),c)},E,v,{ref:t}),w);return a&&(k=y.createElement(Ro,{onResize:function(e){b(e.offsetWidth)}},k)),k}var mf=y.forwardRef(vf);mf.displayName="Item";var yf=mf;var bf=["component"],xf=["className"],wf=["className"],Ef=function(e,t){var n=y.useContext(Tf);if(!n){var r=e.component,i=void 0===r?"div":r,o=dr(e,bf);return y.createElement(i,It({},o,{ref:t}))}var a=n.className,s=dr(n,xf),u=e.className,l=dr(e,wf);return y.createElement(Tf.Provider,{value:null},y.createElement(yf,It({ref:t,className:In()(a,u)},s,l)))},kf=y.forwardRef(Ef);kf.displayName="RawItem";var _f=kf,Sf=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Tf=y.createContext(null),Cf="responsive",Mf="invalidate";function Af(e){return"+ ".concat(e.length," ...")}function If(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,o=void 0===i?[]:i,a=e.renderItem,s=e.renderRawItem,u=e.itemKey,l=e.itemWidth,c=void 0===l?10:l,d=e.ssr,f=e.style,h=e.className,p=e.maxCount,g=e.renderRest,v=e.renderRawRest,b=e.suffix,x=e.component,w=void 0===x?"div":x,E=e.itemComponent,k=e.onVisibleChange,_=dr(e,Sf),S=function(){var e=Ui({}),t=(0,m.Z)(e,2)[1],n=(0,y.useRef)([]),r=0,i=0;return function(e){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=e),[n.current[o],function(e){n.current[o]="function"===typeof e?e(n.current[o]):e,Jo.cancel(i),i=Jo((function(){t({},!0)}))}]}}(),T="full"===d,C=S(null),M=(0,m.Z)(C,2),A=M[0],I=M[1],O=A||0,N=S(new Map),P=(0,m.Z)(N,2),D=P[0],R=P[1],L=S(0),j=(0,m.Z)(L,2),F=j[0],B=j[1],z=S(0),Y=(0,m.Z)(z,2),G=Y[0],V=Y[1],W=S(0),U=(0,m.Z)(W,2),Z=U[0],H=U[1],q=(0,y.useState)(null),X=(0,m.Z)(q,2),K=X[0],J=X[1],$=(0,y.useState)(null),Q=(0,m.Z)($,2),ee=Q[0],te=Q[1],ne=y.useMemo((function(){return null===ee&&T?Number.MAX_SAFE_INTEGER:ee||0}),[ee,A]),re=(0,y.useState)(!1),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se="".concat(r,"-item"),ue=Math.max(F,G),le=o.length&&p===Cf,ce=p===Mf,de=le||"number"===typeof p&&o.length>p,fe=(0,y.useMemo)((function(){var e=o;return le?e=null===A&&T?o:o.slice(0,Math.min(o.length,O/c)):"number"===typeof p&&(e=o.slice(0,p)),e}),[o,c,A,p,le]),he=(0,y.useMemo)((function(){return le?o.slice(ne+1):o.slice(fe.length)}),[o,fe,le,ne]),pe=(0,y.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),ge=(0,y.useCallback)(a||function(e){return e},[a]);function ve(e,t){te(e),t||(ae(e<o.length-1),null===k||void 0===k||k(e))}function me(e,t){R((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ye(e){return D.get(pe(fe[e],e))}Lo((function(){if(O&&ue&&fe){var e=Z,t=fe.length,n=t-1;if(!t)return ve(0),void J(null);for(var r=0;r<t;r+=1){var i=ye(r);if(void 0===i){ve(r-1,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+ye(n)<=O){ve(n),J(null);break}if(e+ue>O){ve(r-1),J(e-i-Z+G);break}}b&&ye(0)+Z>O&&J(null)}}),[O,D,G,Z,pe,fe]);var be=oe&&!!he.length,xe={};null!==K&&le&&(xe={position:"absolute",left:K,top:0});var we,ke={prefixCls:se,responsive:le,component:E,invalidate:ce},_e=s?function(e,t){var n=pe(e,t);return y.createElement(Tf.Provider,{key:n,value:Ee(Ee({},ke),{},{order:t,item:e,itemKey:n,registerSize:me,display:t<=ne})},s(e,t))}:function(e,t){var n=pe(e,t);return y.createElement(yf,It({},ke,{order:t,key:n,item:e,renderItem:ge,itemKey:n,registerSize:me,display:t<=ne}))},Se={order:be?ne:Number.MAX_SAFE_INTEGER,className:"".concat(se,"-rest"),registerSize:function(e,t){V(t),B(G)},display:be};if(v)v&&(we=y.createElement(Tf.Provider,{value:Ee(Ee({},ke),Se)},v(he)));else{var Te=g||Af;we=y.createElement(yf,It({},ke,Se),"function"===typeof Te?Te(he):Te)}var Ce=y.createElement(w,It({className:In()(!ce&&r,h),style:f,ref:t},_),fe.map(_e),de?we:null,b&&y.createElement(yf,It({},ke,{order:ne,className:"".concat(se,"-suffix"),registerSize:function(e,t){H(t)},display:!0,style:xe}),b));return le&&(Ce=y.createElement(Ro,{onResize:function(e,t){I(t.clientWidth)}},Ce)),Ce}var Of=y.forwardRef(If);Of.displayName="Overflow",Of.Item=_f,Of.RESPONSIVE=Cf,Of.INVALIDATE=Mf;var Nf=Of,Pf=["children","locked"],Df=y.createContext(null);function Rf(e){var t=e.children,n=e.locked,r=dr(e,Pf),i=y.useContext(Df),o=Li((function(){return function(e,t){var n=Ee({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!rl()(e[1],t[1]))}));return y.createElement(Df.Provider,{value:o},t)}function Lf(e,t,n,r){var i=y.useContext(Df),o=i.activeKey,a=i.onActive,s=i.onInactive,u={active:o===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var jf=["item"];function Ff(e){var t=e.item,n=dr(e,jf);return Object.defineProperty(n,"item",{get:function(){return Xr(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Bf(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?y.createElement(t,Ee({},n)):t)||r||null}function zf(e){var t=y.useContext(Df),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var Yf=[],Gf=y.createContext(null);function Vf(){return y.useContext(Gf)}var Wf=y.createContext(Yf);function Uf(e){var t=y.useContext(Wf);return y.useMemo((function(){return void 0!==e?[].concat((0,Mn.Z)(t),[e]):t}),[t,e])}var Zf=y.createContext(null),Hf=y.createContext(null);function qf(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Xf(e){return qf(y.useContext(Hf),e)}var Kf=y.createContext({}),Jf=["title","attribute","elementRef"],$f=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Qf=["active"],eh=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=lr(dr(e,Jf),["eventKey"]);return Xr(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),y.createElement(Nf.Item,It({},n,{title:"string"===typeof t?t:void 0},i,{ref:r}))}}]),n}(y.Component),th=function(e){var t,n=e.style,r=e.className,i=e.eventKey,o=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,l=e.onMouseEnter,c=e.onMouseLeave,d=e.onClick,f=e.onKeyDown,h=e.onFocus,p=dr(e,$f),g=Xf(i),v=y.useContext(Df),m=v.prefixCls,b=v.onItemClick,x=v.disabled,w=v.overflowDisabled,E=v.itemIcon,k=v.selectedKeys,_=v.onActive,S=y.useContext(Kf)._internalRenderMenuItem,T="".concat(m,"-item"),C=y.useRef(),M=y.useRef(),A=x||o,I=Uf(i);var O=function(e){return{key:i,keyPath:(0,Mn.Z)(I).reverse(),item:C.current,domEvent:e}},N=a||E,P=Lf(i,A,l,c),D=P.active,R=dr(P,Qf),L=k.includes(i),j=zf(I.length),F={};"option"===e.role&&(F["aria-selected"]=L);var B=y.createElement(eh,It({ref:C,elementRef:M,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&g?null:g},p,R,F,{component:"li","aria-disabled":o,style:Ee(Ee({},j),n),className:In()(T,(t={},(0,xe.Z)(t,"".concat(T,"-active"),D),(0,xe.Z)(t,"".concat(T,"-selected"),L),(0,xe.Z)(t,"".concat(T,"-disabled"),A),t),r),onClick:function(e){if(!A){var t=O(e);null===d||void 0===d||d(Ff(t)),b(t)}},onKeyDown:function(e){if(null===f||void 0===f||f(e),e.which===Fo.ENTER){var t=O(e);null===d||void 0===d||d(Ff(t)),b(t)}},onFocus:function(e){_(i),null===h||void 0===h||h(e)}}),s,y.createElement(Bf,{props:Ee(Ee({},e),{},{isSelected:L}),icon:N}));return S&&(B=S(B,e,{selected:L})),B};var nh=function(e){var t=e.eventKey,n=Vf(),r=Uf(t);return y.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:y.createElement(th,e)};function rh(e,t){return Hi(e).map((function(e,n){if(y.isValidElement(e)){var r,i,o=e.key,a=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat((0,Mn.Z)(t),[n]).join("-")));var s={key:a,eventKey:a};return y.cloneElement(e,s)}return e}))}function ih(e){var t=y.useRef(e);t.current=e;var n=y.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var oh=["className","children"],ah=function(e,t){var n=e.className,r=e.children,i=dr(e,oh),o=y.useContext(Df),a=o.prefixCls,s=o.mode,u=o.rtl;return y.createElement("ul",It({className:In()(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===s?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:t}),r)},sh=y.forwardRef(ah);sh.displayName="SubMenuList";var uh=sh,lh={adjustX:1,adjustY:1},ch={topLeft:{points:["bl","tl"],overflow:lh,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:lh,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:lh,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:lh,offset:[4,0]}},dh={topLeft:{points:["bl","tl"],overflow:lh,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:lh,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:lh,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:lh,offset:[4,0]}};function fh(e,t,n){return t||(n?n[e]||n.other:void 0)}var hh={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ph(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,o=e.popupClassName,a=e.popupOffset,s=e.disabled,u=e.mode,l=e.onVisibleChange,c=y.useContext(Df),d=c.getPopupContainer,f=c.rtl,h=c.subMenuOpenDelay,p=c.subMenuCloseDelay,g=c.builtinPlacements,v=c.triggerSubMenuAction,b=c.forceSubMenuRender,x=c.motion,w=c.defaultMotions,E=y.useState(!1),k=(0,m.Z)(E,2),_=k[0],S=k[1],T=Ee(Ee({},f?dh:ch),g),C=hh[u],M=Ee(Ee({},fh(u,x,w)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=y.useRef();return y.useEffect((function(){return A.current=Jo((function(){S(n)})),function(){Jo.cancel(A.current)}}),[n]),y.createElement(yu,{prefixCls:t,popupClassName:In()("".concat(t,"-popup"),(0,xe.Z)({},"".concat(t,"-rtl"),f),o),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:d,builtinPlacements:T,popupPlacement:C,popupVisible:_,popup:i,popupAlign:a&&{offset:a},action:s?[]:[v],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:l,forceRender:b,popupMotion:M},r)}function gh(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,o="inline",a=y.useContext(Df),s=a.prefixCls,u=a.forceSubMenuRender,l=a.motion,c=a.defaultMotions,d=a.mode,f=y.useRef(!1);f.current=d===o;var h=y.useState(!f.current),p=(0,m.Z)(h,2),g=p[0],v=p[1],b=!!f.current&&n;y.useEffect((function(){f.current&&v(!1)}),[d]);var x=Ee({},fh(o,l,c));r.length>1&&(x.motionAppear=!1);var w=x.onVisibleChanged;return x.onVisibleChanged=function(e){return f.current||e||v(!0),null===w||void 0===w?void 0:w(e)},g?null:y.createElement(Rf,{mode:o,locked:!f.current},y.createElement(Wa,It({visible:b},x,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return y.createElement(uh,{id:t,className:n,style:r},i)})))}var vh=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],mh=["active"],yh=function(e){var t,n=e.style,r=e.className,i=e.title,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,l=e.itemIcon,c=e.expandIcon,d=e.popupClassName,f=e.popupOffset,h=e.onClick,p=e.onMouseEnter,g=e.onMouseLeave,v=e.onTitleClick,b=e.onTitleMouseEnter,x=e.onTitleMouseLeave,w=dr(e,vh),E=Xf(o),k=y.useContext(Df),_=k.prefixCls,S=k.mode,T=k.openKeys,C=k.disabled,M=k.overflowDisabled,A=k.activeKey,I=k.selectedKeys,O=k.itemIcon,N=k.expandIcon,P=k.onItemClick,D=k.onOpenChange,R=k.onActive,L=y.useContext(Kf)._internalRenderSubMenuItem,j=y.useContext(Zf).isSubPathKey,F=Uf(),B="".concat(_,"-submenu"),z=C||a,Y=y.useRef(),G=y.useRef();var V=l||O,W=c||N,U=T.includes(o),Z=!M&&U,H=j(I,o),q=Lf(o,z,b,x),X=q.active,K=dr(q,mh),J=y.useState(!1),$=(0,m.Z)(J,2),Q=$[0],ee=$[1],te=function(e){z||ee(e)},ne=y.useMemo((function(){return X||"inline"!==S&&(Q||j([A],o))}),[S,X,A,Q,o,j]),re=zf(F.length),ie=ih((function(e){null===h||void 0===h||h(Ff(e)),P(e)})),oe=E&&"".concat(E,"-popup"),ae=y.createElement("div",It({role:"menuitem",style:re,className:"".concat(B,"-title"),tabIndex:z?null:-1,ref:Y,title:"string"===typeof i?i:null,"data-menu-id":M&&E?null:E,"aria-expanded":Z,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":z,onClick:function(e){z||(null===v||void 0===v||v({key:o,domEvent:e}),"inline"===S&&D(o,!U))},onFocus:function(){R(o)}},K),i,y.createElement(Bf,{icon:"horizontal"!==S?W:null,props:Ee(Ee({},e),{},{isOpen:Z,isSubMenu:!0})},y.createElement("i",{className:"".concat(B,"-arrow")}))),se=y.useRef(S);if("inline"!==S&&(se.current=F.length>1?"vertical":S),!M){var ue=se.current;ae=y.createElement(ph,{mode:ue,prefixCls:B,visible:!s&&Z&&"inline"!==S,popupClassName:d,popupOffset:f,popup:y.createElement(Rf,{mode:"horizontal"===ue?"vertical":ue},y.createElement(uh,{id:oe,ref:G},u)),disabled:z,onVisibleChange:function(e){"inline"!==S&&D(o,e)}},ae)}var le=y.createElement(Nf.Item,It({role:"none"},w,{component:"li",style:n,className:In()(B,"".concat(B,"-").concat(S),r,(t={},(0,xe.Z)(t,"".concat(B,"-open"),Z),(0,xe.Z)(t,"".concat(B,"-active"),ne),(0,xe.Z)(t,"".concat(B,"-selected"),H),(0,xe.Z)(t,"".concat(B,"-disabled"),z),t)),onMouseEnter:function(e){te(!0),null===p||void 0===p||p({key:o,domEvent:e})},onMouseLeave:function(e){te(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),ae,!M&&y.createElement(gh,{id:oe,open:Z,keyPath:F},u));return L&&(le=L(le,e,{selected:H,active:ne,open:Z,disabled:z})),y.createElement(Rf,{onItemClick:ie,mode:"horizontal"===S?"vertical":S,itemIcon:V,expandIcon:W},le)};function bh(e){var t,n=e.eventKey,r=e.children,i=Uf(n),o=rh(r,i),a=Vf();return y.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?o:y.createElement(yh,e,o),y.createElement(Wf.Provider,{value:i},t)}function xh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(qa(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function wh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,Mn.Z)(e.querySelectorAll("*")).filter((function(e){return xh(e,t)}));return xh(e,t)&&n.unshift(e),n}var Eh=Fo.LEFT,kh=Fo.RIGHT,_h=Fo.UP,Sh=Fo.DOWN,Th=Fo.ENTER,Ch=Fo.ESC,Mh=Fo.HOME,Ah=Fo.END,Ih=[_h,Sh,Eh,kh];function Oh(e,t){return wh(e,!0).filter((function(e){return t.has(e)}))}function Nh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Oh(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function Ph(e,t,n,r,i,o,a,s,u,l){var c=y.useRef(),d=y.useRef();d.current=t;var f=function(){Jo.cancel(c.current)};return y.useEffect((function(){return function(){f()}}),[]),function(h){var p=h.which;if([].concat(Ih,[Th,Ch,Mh,Ah]).includes(p)){var g,v,m,y=function(){return g=new Set,v=new Map,m=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(qf(r,e),"']"));t&&(g.add(t),m.set(t,e),v.set(e,t))})),g};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),g),x=m.get(b),w=function(e,t,n,r){var i,o,a,s,u="prev",l="next",c="children",d="parent";if("inline"===e&&r===Th)return{inlineTrigger:!0};var f=(i={},(0,xe.Z)(i,_h,u),(0,xe.Z)(i,Sh,l),i),h=(o={},(0,xe.Z)(o,Eh,n?l:u),(0,xe.Z)(o,kh,n?u:l),(0,xe.Z)(o,Sh,c),(0,xe.Z)(o,Th,c),o),p=(a={},(0,xe.Z)(a,_h,u),(0,xe.Z)(a,Sh,l),(0,xe.Z)(a,Th,c),(0,xe.Z)(a,Ch,d),(0,xe.Z)(a,Eh,n?c:d),(0,xe.Z)(a,kh,n?d:c),a);switch(null===(s={inline:f,horizontal:h,vertical:p,inlineSub:f,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case u:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}(e,1===a(x,!0).length,n,p);if(!w&&p!==Mh&&p!==Ah)return;(Ih.includes(p)||[Mh,Ah].includes(p))&&h.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);s(r),f(),c.current=Jo((function(){d.current===r&&t.focus()}))}};if([Mh,Ah].includes(p)||w.sibling||!b){var k,_,S=Oh(k=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):i.current,g);_=p===Mh?S[0]:p===Ah?S[S.length-1]:Nh(k,g,b,w.offset),E(_)}else if(w.inlineTrigger)u(x);else if(w.offset>0)u(x,!0),f(),c.current=Jo((function(){y();var e=b.getAttribute("aria-controls"),t=Nh(document.getElementById(e),g);E(t)}),5);else if(w.offset<0){var T=a(x,!0),C=T[T.length-2],M=v.get(C);u(C,!1),E(M)}}null===l||void 0===l||l(h)}}var Dh=Math.random().toFixed(5).toString().slice(2),Rh=0;var Lh="__RC_UTIL_PATH_SPLIT__",jh=function(e){return e.join(Lh)},Fh="rc-menu-more";function Bh(){var e=y.useState({}),t=(0,m.Z)(e,2)[1],n=(0,y.useRef)(new Map),r=(0,y.useRef)(new Map),i=y.useState([]),o=(0,m.Z)(i,2),a=o[0],s=o[1],u=(0,y.useRef)(0),l=(0,y.useRef)(!1),c=(0,y.useCallback)((function(e,i){var o=jh(i);r.current.set(o,e),n.current.set(e,o),u.current+=1;var a,s=u.current;a=function(){s===u.current&&(l.current||t({}))},Promise.resolve().then(a)}),[]),d=(0,y.useCallback)((function(e,t){var i=jh(t);r.current.delete(i),n.current.delete(e)}),[]),f=(0,y.useCallback)((function(e){s(e)}),[]),h=(0,y.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Lh);return t&&a.includes(i[0])&&i.unshift(Fh),i}),[a]),p=(0,y.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),g=(0,y.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Lh),i=new Set;return(0,Mn.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return y.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:d,refreshOverflowKeys:f,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=(0,Mn.Z)(n.current.keys());return a.length&&e.push(Fh),e},getSubPathKeys:g}}var zh=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Yh=[],Gh=y.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=void 0===i?"rc-menu":i,a=e.style,s=e.className,u=e.tabIndex,l=void 0===u?0:u,c=e.children,d=e.direction,f=e.id,h=e.mode,p=void 0===h?"vertical":h,g=e.inlineCollapsed,v=e.disabled,b=e.disabledOverflow,x=e.subMenuOpenDelay,w=void 0===x?.1:x,E=e.subMenuCloseDelay,k=void 0===E?.1:E,_=e.forceSubMenuRender,S=e.defaultOpenKeys,T=e.openKeys,C=e.activeKey,M=e.defaultActiveFirst,A=e.selectable,I=void 0===A||A,O=e.multiple,N=void 0!==O&&O,P=e.defaultSelectedKeys,D=e.selectedKeys,R=e.onSelect,L=e.onDeselect,j=e.inlineIndent,F=void 0===j?24:j,B=e.motion,z=e.defaultMotions,Y=e.triggerSubMenuAction,G=void 0===Y?"hover":Y,V=e.builtinPlacements,W=e.itemIcon,U=e.expandIcon,Z=e.overflowedIndicator,H=void 0===Z?"...":Z,q=e.overflowedIndicatorPopupClassName,X=e.getPopupContainer,K=e.onClick,J=e.onOpenChange,$=e.onKeyDown,Q=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ee=e._internalRenderSubMenuItem,te=dr(e,zh),ne=rh(c,Yh),re=y.useState(!1),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=y.useRef(),ue=Fi(se,t),le=function(e){var t=Zi(e,{value:e}),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){Rh+=1;var e="".concat(Dh,"-").concat(Rh);i("rc-menu-uuid-".concat(e))}),[]),r}(f),ce="rtl"===d;var de=y.useMemo((function(){return"inline"!==p&&"vertical"!==p||!g?[p,!1]:["vertical",g]}),[p,g]),fe=(0,m.Z)(de,2),he=fe[0],pe=fe[1],ge=y.useState(0),ve=(0,m.Z)(ge,2),me=ve[0],ye=ve[1],be=me>=ne.length-1||"horizontal"!==he||b,we=Zi(S,{value:T,postState:function(e){return e||Yh}}),ke=(0,m.Z)(we,2),_e=ke[0],Se=ke[1],Te=function(e){Se(e),null===J||void 0===J||J(e)},Ce=y.useState(_e),Me=(0,m.Z)(Ce,2),Ae=Me[0],Ie=Me[1],Oe="inline"===he,Ne=y.useRef(!1);y.useEffect((function(){Oe&&Ie(_e)}),[_e]),y.useEffect((function(){Ne.current?Oe?Se(Ae):Te(Yh):Ne.current=!0}),[Oe]);var Pe=Bh(),De=Pe.registerPath,Re=Pe.unregisterPath,Le=Pe.refreshOverflowKeys,je=Pe.isSubPathKey,Fe=Pe.getKeyPath,Be=Pe.getKeys,ze=Pe.getSubPathKeys,Ye=y.useMemo((function(){return{registerPath:De,unregisterPath:Re}}),[De,Re]),Ge=y.useMemo((function(){return{isSubPathKey:je}}),[je]);y.useEffect((function(){Le(be?Yh:ne.slice(me+1).map((function(e){return e.key})))}),[me,be]);var Ve=Zi(C||M&&(null===(n=ne[0])||void 0===n?void 0:n.key),{value:C}),We=(0,m.Z)(Ve,2),Ue=We[0],Ze=We[1],He=ih((function(e){Ze(e)})),qe=ih((function(){Ze(void 0)})),Xe=Zi(P||[],{value:D,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Yh:[e]}}),Ke=(0,m.Z)(Xe,2),Je=Ke[0],$e=Ke[1],Qe=ih((function(e){null===K||void 0===K||K(Ff(e)),function(e){if(I){var t,n=e.key,r=Je.includes(n);t=N?r?Je.filter((function(e){return e!==n})):[].concat((0,Mn.Z)(Je),[n]):[n],$e(t);var i=Ee(Ee({},e),{},{selectedKeys:t});r?null===L||void 0===L||L(i):null===R||void 0===R||R(i)}!N&&_e.length&&"inline"!==he&&Te(Yh)}(e)})),et=ih((function(e,t){var n=_e.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==he){var r=ze(e);n=n.filter((function(e){return!r.has(e)}))}rl()(_e,n)||Te(n)})),tt=ih(X),nt=Ph(he,Ue,ce,le,se,Be,Fe,Ze,(function(e,t){var n=null!==t&&void 0!==t?t:!_e.includes(e);et(e,n)}),$);y.useEffect((function(){ae(!0)}),[]);var rt=y.useMemo((function(){return{_internalRenderMenuItem:Q,_internalRenderSubMenuItem:ee}}),[Q,ee]),it="horizontal"!==he||b?ne:ne.map((function(e,t){return y.createElement(Rf,{key:e.key,overflowDisabled:t>me},e)})),ot=y.createElement(Nf,It({id:f,ref:ue,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:nh,className:In()(o,"".concat(o,"-root"),"".concat(o,"-").concat(he),s,(r={},(0,xe.Z)(r,"".concat(o,"-inline-collapsed"),pe),(0,xe.Z)(r,"".concat(o,"-rtl"),ce),r)),dir:d,style:a,role:"menu",tabIndex:l,data:it,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ne.slice(-t):null;return y.createElement(bh,{eventKey:Fh,title:H,disabled:be,internalPopupClose:0===t,popupClassName:q},n)},maxCount:"horizontal"!==he||b?Nf.INVALIDATE:Nf.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ye(e)},onKeyDown:nt},te));return y.createElement(Kf.Provider,{value:rt},y.createElement(Hf.Provider,{value:le},y.createElement(Rf,{prefixCls:o,mode:he,openKeys:_e,rtl:ce,disabled:v,motion:oe?B:null,defaultMotions:oe?z:null,activeKey:Ue,onActive:He,onInactive:qe,selectedKeys:Je,inlineIndent:F,subMenuOpenDelay:w,subMenuCloseDelay:k,forceSubMenuRender:_,builtinPlacements:V,triggerSubMenuAction:G,getPopupContainer:tt,itemIcon:W,expandIcon:U,onItemClick:Qe,onOpenChange:et},y.createElement(Zf.Provider,{value:Ge},ot),y.createElement("div",{style:{display:"none"},"aria-hidden":!0},y.createElement(Gf.Provider,{value:Ye},ne)))))})),Vh=["className","title","eventKey","children"],Wh=["children"],Uh=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),i=dr(e,Vh),o=y.useContext(Df).prefixCls,a="".concat(o,"-item-group");return y.createElement("li",It({},i,{onClick:function(e){return e.stopPropagation()},className:In()(a,t)}),y.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),y.createElement("ul",{className:"".concat(a,"-list")},r))};function Zh(e){var t=e.children,n=dr(e,Wh),r=rh(t,Uf(n.eventKey));return Vf()?r:y.createElement(Uh,lr(n,["warnKey"]),r)}function Hh(e){var t=e.className,n=e.style,r=y.useContext(Df).prefixCls;return Vf()?null:y.createElement("li",{className:In()("".concat(r,"-item-divider"),t),style:n})}var qh=Uf,Xh=Gh;Xh.Item=nh,Xh.SubMenu=bh,Xh.ItemGroup=Zh,Xh.Divider=Hh;var Kh=Xh,Jh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},$h=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Jh}))};$h.displayName="EllipsisOutlined";var Qh=y.forwardRef($h),ep=(0,y.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var tp=function(e){var t,n,r=e.popupClassName,i=e.icon,o=e.title,a=e.theme,s=y.useContext(ep),u=s.prefixCls,l=s.inlineCollapsed,c=s.antdMenuTheme,d=qh();if(i){var f=Iu(o)&&"span"===o.type;n=y.createElement(y.Fragment,null,Ou(i,{className:In()(Iu(i)?null===(t=i.props)||void 0===t?void 0:t.className:"","".concat(u,"-item-icon"))}),f?o:y.createElement("span",{className:"".concat(u,"-title-content")},o))}else n=l&&!d.length&&o&&"string"===typeof o?y.createElement("div",{className:"".concat(u,"-inline-collapsed-noicon")},o.charAt(0)):y.createElement("span",{className:"".concat(u,"-title-content")},o);var h=y.useMemo((function(){return It(It({},s),{firstLevel:!1})}),[s]);return y.createElement(ep.Provider,{value:h},y.createElement(bh,It({},lr(e,["icon"]),{title:n,popupClassName:In()(u,"".concat(u,"-").concat(a||c),r)})))},np=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rp=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,i=t.siderCollapsed,o=e.context,a=o.prefixCls,s=o.firstLevel,u=o.inlineCollapsed,l=o.direction,c=o.disableMenuItemTitleTooltip,d=e.props,f=d.className,h=d.children,p=e.props,g=p.title,v=p.icon,m=p.danger,b=np(p,["title","icon","danger"]),x=g;"undefined"===typeof g?x=s?h:"":!1===g&&(x="");var w={title:x};i||u||(w.title=null,w.visible=!1);var E=Hi(h).length,k=y.createElement(nh,It({},b,{className:In()((n={},(0,xe.Z)(n,"".concat(a,"-item-danger"),m),(0,xe.Z)(n,"".concat(a,"-item-only-child"),1===(v?E+1:E)),n),f),title:"string"===typeof g?g:void 0}),Ou(v,{className:In()(Iu(v)?null===(r=v.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),e.renderItemChildren(u));return c||(k=y.createElement(Zu,It({},w,{placement:"rtl"===l?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),k)),k},e}return(0,Nn.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,i=this.props,o=i.icon,a=i.children,s=y.createElement("span",{className:"".concat(n,"-title-content")},a);return(!o||Iu(a)&&"span"===a.type)&&a&&e&&r&&"string"===typeof a?y.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):s}},{key:"render",value:function(){return y.createElement(Ai.Consumer,null,this.renderItem)}}]),n}(y.Component);rp.contextType=ep;var ip=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},op=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,i=ip(e,["prefixCls","className","dashed"]),o=(0,y.useContext($n).getPrefixCls)("menu",t),a=In()((0,xe.Z)({},"".concat(o,"-item-divider-dashed"),!!r),n);return y.createElement(Hh,It({className:a},i))},ap=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sp(e){var t=y.useContext($n),n=t.getPrefixCls,r=t.getPopupContainer,i=t.direction,o=n(),a=e.prefixCls,s=e.className,u=e.theme,l=void 0===u?"light":u,c=e.expandIcon,d=e._internalDisableMenuItemTitleTooltip,f=e.inlineCollapsed,h=e.siderCollapsed,p=lr(ap(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed"]),["collapsedWidth"]);zi(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),zi(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.");var g=y.useMemo((function(){return void 0!==h?h:f}),[f,h]),v={horizontal:{motionName:"".concat(o,"-slide-up")},inline:Yu,other:{motionName:"".concat(o,"-zoom-big")}},m=n("menu",a),b=In()("".concat(m,"-").concat(l),s),x=y.useMemo((function(){return{prefixCls:m,inlineCollapsed:g||!1,antdMenuTheme:l,direction:i,firstLevel:!0,disableMenuItemTitleTooltip:d}}),[m,g,l,i,d]);return y.createElement(ep.Provider,{value:x},y.createElement(Kh,It({getPopupContainer:r,overflowedIndicator:y.createElement(Qh,null),overflowedIndicatorPopupClassName:"".concat(m,"-").concat(l)},p,{inlineCollapsed:g,className:b,prefixCls:m,direction:i,defaultMotions:v,expandIcon:Ou(c,{className:"".concat(m,"-submenu-expand-icon")})})))}var up=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){return(0,On.Z)(this,n),t.apply(this,arguments)}return(0,Nn.Z)(n,[{key:"render",value:function(){var e=this;return y.createElement(Ai.Consumer,null,(function(t){return y.createElement(sp,It({},e.props,t))}))}}]),n}(y.Component);up.Divider=op,up.Item=rp,up.SubMenu=tp,up.ItemGroup=Zh;var lp=up,cp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},dp=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:cp}))};dp.displayName="HomeOutlined";var fp=y.forwardRef(dp),hp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},pp=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:hp}))};pp.displayName="UnorderedListOutlined";var gp=y.forwardRef(pp),vp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},mp=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:vp}))};mp.displayName="DotChartOutlined";var yp=y.forwardRef(mp),bp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},xp=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:bp}))};xp.displayName="PlusCircleOutlined";var wp=y.forwardRef(xp),Ep=(0,y.createContext)({}),kp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var _p=["xs","sm","md","lg","xl","xxl"],Sp=y.forwardRef((function(e,t){var n,r=y.useContext($n),i=r.getPrefixCls,o=r.direction,a=y.useContext(Ep),s=a.gutter,u=a.wrap,l=a.supportFlexGap,c=e.prefixCls,d=e.span,f=e.order,h=e.offset,p=e.push,g=e.pull,v=e.className,m=e.children,b=e.flex,x=e.style,w=kp(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=i("col",c),k={};_p.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===(0,hr.Z)(i)&&(r=i||{}),delete w[t],k=It(It({},k),(n={},(0,xe.Z)(n,"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var _=In()(E,(n={},(0,xe.Z)(n,"".concat(E,"-").concat(d),void 0!==d),(0,xe.Z)(n,"".concat(E,"-order-").concat(f),f),(0,xe.Z)(n,"".concat(E,"-offset-").concat(h),h),(0,xe.Z)(n,"".concat(E,"-push-").concat(p),p),(0,xe.Z)(n,"".concat(E,"-pull-").concat(g),g),n),v,k),S={};if(s&&s[0]>0){var T=s[0]/2;S.paddingLeft=T,S.paddingRight=T}if(s&&s[1]>0&&!l){var C=s[1]/2;S.paddingTop=C,S.paddingBottom=C}return b&&(S.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==u||S.minWidth||(S.minWidth=0)),y.createElement("div",It({},w,{style:It(It({},S),x),className:_,ref:t}),m)}));Sp.displayName="Col";var Tp=Sp,Cp=Tp,Mp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Ap=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Mp}))};Ap.displayName="CloseOutlined";var Ip=y.forwardRef(Ap),Op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Np=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,o=e.onChange,a=e.onClick,s=Op(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,y.useContext($n).getPrefixCls)("tag",n),l=In()(u,(t={},(0,xe.Z)(t,"".concat(u,"-checkable"),!0),(0,xe.Z)(t,"".concat(u,"-checkable-checked"),i),t),r);return y.createElement("span",It({},s,{className:l,onClick:function(e){null===o||void 0===o||o(!i),null===a||void 0===a||a(e)}}))},Pp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dp=new RegExp("^(".concat(Du.join("|"),")(-inverse)?$")),Rp=new RegExp("^(".concat(Pu.join("|"),")$")),Lp=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.icon,u=e.color,l=e.onClose,c=e.closeIcon,d=e.closable,f=void 0!==d&&d,h=Pp(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),p=y.useContext($n),g=p.getPrefixCls,v=p.direction,b=y.useState(!0),x=(0,m.Z)(b,2),w=x[0],E=x[1];y.useEffect((function(){"visible"in h&&E(h.visible)}),[h.visible]);var k=function(){return!!u&&(Dp.test(u)||Rp.test(u))},_=It({backgroundColor:u&&!k()?u:void 0},o),S=k(),T=g("tag",r),C=In()(T,(n={},(0,xe.Z)(n,"".concat(T,"-").concat(u),S),(0,xe.Z)(n,"".concat(T,"-has-color"),u&&!S),(0,xe.Z)(n,"".concat(T,"-hidden"),!w),(0,xe.Z)(n,"".concat(T,"-rtl"),"rtl"===v),n),i),M=function(e){e.stopPropagation(),null===l||void 0===l||l(e),e.defaultPrevented||"visible"in h||E(!1)},A="onClick"in h||a&&"a"===a.type,I=lr(h,["visible"]),O=s||null,N=O?y.createElement(y.Fragment,null,O,y.createElement("span",null,a)):a,P=y.createElement("span",It({},I,{ref:t,className:C,style:_}),N,f?c?y.createElement("span",{className:"".concat(T,"-close-icon"),onClick:M},c):y.createElement(Ip,{className:"".concat(T,"-close-icon"),onClick:M}):null);return A?y.createElement(tf,null,P):P},jp=y.forwardRef(Lp);jp.displayName="Tag",jp.CheckableTag=Np;var Fp,Bp=jp,zp=["xxl","xl","lg","md","sm","xs"],Yp={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Gp=new Map,Vp=-1,Wp={},Up={matchHandlers:{},dispatch:function(e){return Wp=e,Gp.forEach((function(e){return e(Wp)})),Gp.size>=1},subscribe:function(e){return Gp.size||this.register(),Vp+=1,Gp.set(Vp,e),e(Wp),Vp},unsubscribe:function(e){Gp.delete(e),Gp.size||this.unregister()},unregister:function(){var e=this;Object.keys(Yp).forEach((function(t){var n=Yp[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Gp.clear()},register:function(){var e=this;Object.keys(Yp).forEach((function(t){var n=Yp[t],r=function(n){var r=n.matches;e.dispatch(It(It({},Wp),(0,xe.Z)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},Zp=Up,Hp=function(){if(!Kr()||!window.document.documentElement)return!1;if(void 0!==Fp)return Fp;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Fp=1===e.scrollHeight,document.body.removeChild(e),Fp},qp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Xp=(Nu("top","middle","bottom","stretch"),Nu("start","end","center","space-around","space-between"),y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.justify,o=e.align,a=e.className,s=e.style,u=e.children,l=e.gutter,c=void 0===l?0:l,d=e.wrap,f=qp(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=y.useContext($n),p=h.getPrefixCls,g=h.direction,v=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),b=(0,m.Z)(v,2),x=b[0],w=b[1],E=function(){var e=y.useState(!1),t=(0,m.Z)(e,2),n=t[0],r=t[1];return y.useEffect((function(){r(Hp())}),[]),n}(),k=y.useRef(c);y.useEffect((function(){var e=Zp.subscribe((function(e){var t=k.current||0;(!Array.isArray(t)&&"object"===(0,hr.Z)(t)||Array.isArray(t)&&("object"===(0,hr.Z)(t[0])||"object"===(0,hr.Z)(t[1])))&&w(e)}));return function(){return Zp.unsubscribe(e)}}),[]);var _=p("row",r),S=function(){var e=[0,0];return(Array.isArray(c)?c:[c,0]).forEach((function(t,n){if("object"===(0,hr.Z)(t))for(var r=0;r<zp.length;r++){var i=zp[r];if(x[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t||0})),e}(),T=In()(_,(n={},(0,xe.Z)(n,"".concat(_,"-no-wrap"),!1===d),(0,xe.Z)(n,"".concat(_,"-").concat(i),i),(0,xe.Z)(n,"".concat(_,"-").concat(o),o),(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===g),n),a),C={},M=S[0]>0?S[0]/-2:void 0,A=S[1]>0?S[1]/-2:void 0;if(M&&(C.marginLeft=M,C.marginRight=M),E){var I=(0,m.Z)(S,2);C.rowGap=I[1]}else A&&(C.marginTop=A,C.marginBottom=A);var O=(0,m.Z)(S,2),N=O[0],P=O[1],D=y.useMemo((function(){return{gutter:[N,P],wrap:d,supportFlexGap:E}}),[N,P,d,E]);return y.createElement(Ep.Provider,{value:D},y.createElement("div",It({},f,{className:T,style:It(It({},C),s),ref:t}),u))})));Xp.displayName="Row";var Kp,Jp=Xp,$p=Jp,Qp="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),eg="aria-",tg="data-";function ng(e,t){return 0===e.indexOf(t)}function rg(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Ee({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||ng(n,eg))||t.data&&ng(n,tg)||t.attr&&Qp.includes(n))&&(r[n]=e[n])})),r}function ig(e){if("undefined"===typeof document)return 0;if(e||void 0===Kp){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),Kp=i-o}return Kp}function og(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?ig():n}var ag=function(e){return null};var sg=function(e){return null};function ug(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function lg(e,t){if(!t&&"number"!==typeof t)return e;for(var n=ug(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function cg(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,o=r.dataIndex,a=i||ug(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function dg(e){return null!==e&&void 0!==e}var fg=y.createContext(!1),hg=y.createContext({}),pg=y.createContext({renderWithProps:!1}),gg=["colSpan","rowSpan","style","className"];function vg(e,t){var n,r,i,o=e.prefixCls,a=e.className,s=e.record,u=e.index,l=e.renderIndex,c=e.dataIndex,d=e.render,f=e.children,h=e.component,p=void 0===h?"td":h,g=e.colSpan,v=e.rowSpan,b=e.fixLeft,x=e.fixRight,w=e.firstFixLeft,E=e.lastFixLeft,k=e.firstFixRight,_=e.lastFixRight,S=e.appendNode,T=e.additionalProps,C=void 0===T?{}:T,M=e.ellipsis,A=e.align,I=e.rowType,O=e.isSticky,N=e.hovering,P=e.onHover,D="".concat(o,"-cell"),R=y.useContext(pg),L=y.useContext(fg),j=y.useMemo((function(){if(dg(f))return[f];var e=lg(s,c),t=e,n=void 0;if(d){var r=d(e,s,l);!function(e){return e&&"object"===(0,hr.Z)(e)&&!Array.isArray(e)&&!y.isValidElement(e)}(r)?t=r:(t=r.children,n=r.props,R.renderWithProps=!0)}return[t,n]}),[R.renderWithProps?Math.random():0,f,c,R,s,d,l]),F=(0,m.Z)(j,2),B=F[0],z=F[1],Y=B;"object"!==(0,hr.Z)(Y)||Array.isArray(Y)||y.isValidElement(Y)||(Y=null),M&&(E||k)&&(Y=y.createElement("span",{className:"".concat(D,"-content")},Y));var G=z||{},V=G.colSpan,W=G.rowSpan,U=G.style,Z=G.className,H=dr(G,gg),q=null!==(n=void 0!==V?V:g)&&void 0!==n?n:1,X=null!==(r=void 0!==W?W:v)&&void 0!==r?r:1;if(0===q||0===X)return null;var K={},J="number"===typeof b&&L,$="number"===typeof x&&L;J&&(K.position="sticky",K.left=b),$&&(K.position="sticky",K.right=x);var Q={};A&&(Q.textAlign=A);var ee,te=!0===M?{showTitle:!0}:M;te&&(te.showTitle||"header"===I)&&("string"===typeof Y||"number"===typeof Y?ee=Y.toString():y.isValidElement(Y)&&"string"===typeof Y.props.children&&(ee=Y.props.children));var ne,re=Ee(Ee(Ee({title:ee},H),C),{},{colSpan:1!==q?q:null,rowSpan:1!==X?X:null,className:In()(D,a,(i={},(0,xe.Z)(i,"".concat(D,"-fix-left"),J&&L),(0,xe.Z)(i,"".concat(D,"-fix-left-first"),w&&L),(0,xe.Z)(i,"".concat(D,"-fix-left-last"),E&&L),(0,xe.Z)(i,"".concat(D,"-fix-right"),$&&L),(0,xe.Z)(i,"".concat(D,"-fix-right-first"),k&&L),(0,xe.Z)(i,"".concat(D,"-fix-right-last"),_&&L),(0,xe.Z)(i,"".concat(D,"-ellipsis"),M),(0,xe.Z)(i,"".concat(D,"-with-append"),S),(0,xe.Z)(i,"".concat(D,"-fix-sticky"),(J||$)&&O&&L),(0,xe.Z)(i,"".concat(D,"-row-hover"),!z&&N),i),C.className,Z),style:Ee(Ee(Ee(Ee({},C.style),Q),K),U),onMouseEnter:function(e){var t;s&&P(u,u+X-1),null===C||void 0===C||null===(t=C.onMouseEnter)||void 0===t||t.call(C,e)},onMouseLeave:function(e){var t;s&&P(-1,-1),null===C||void 0===C||null===(t=C.onMouseLeave)||void 0===t||t.call(C,e)},ref:(ne=p,"string"===typeof ne||Bi(ne)?t:null)});return y.createElement(p,re,S,Y)}var mg=y.forwardRef(vg);mg.displayName="Cell";var yg=["expanded","className","hovering"],bg=y.memo(mg,(function(e,t){return t.shouldCellUpdate?yg.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):rl()(e,t)})),xg=y.forwardRef((function(e,t){var n=y.useContext(hg),r=n.onHover,i=n.startRow,o=n.endRow,a=e.index,s=e.additionalProps,u=void 0===s?{}:s,l=e.colSpan,c=e.rowSpan,d=u.colSpan,f=u.rowSpan,h=null!==l&&void 0!==l?l:d,p=null!==c&&void 0!==c?c:f,g=function(e,t,n,r){return e<=r&&e+t-1>=n}(a,p||1,i,o);return y.createElement(bg,It({},e,{colSpan:h,rowSpan:p,hovering:g,ref:t,onHover:r}))}));xg.displayName="WrappedCell";var wg=xg,Eg=y.createContext(null);function kg(e,t,n,r,i){var o,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?o=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var l=!1,c=!1,d=!1,f=!1,h=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==o)f=!(p&&"left"===p.fixed);else if(void 0!==a){d=!(h&&"right"===h.fixed)}}else if(void 0!==o){l=!(h&&"left"===h.fixed)}else if(void 0!==a){c=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:l,firstFixRight:c,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}function _g(e){var t,n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,u=e.index,l=y.useContext(Eg),c=l.prefixCls,d=l.direction;s&&(t=s(n.map((function(e){return e.column})),u));var f=cg(n.map((function(e){return e.column})));return y.createElement(o,t,n.map((function(e,t){var n,o=e.column,s=kg(e.colStart,e.colEnd,i,r,d);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),y.createElement(wg,It({},e,{ellipsis:o.ellipsis,align:o.align,component:a,prefixCls:c,key:f[t]},s,{additionalProps:n,rowType:"header"}))})))}_g.displayName="HeaderRow";var Sg=_g;var Tg=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,o=y.useContext(Eg),a=o.prefixCls,s=o.getComponent,u=y.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var o=r,a=n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[i].push(r),o+=a,a}));return a}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),l=s(["header","wrapper"],"thead"),c=s(["header","row"],"tr"),d=s(["header","cell"],"th");return y.createElement(l,{className:"".concat(a,"-thead")},u.map((function(e,n){return y.createElement(Sg,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:c,cellComponent:d,onHeaderRow:i,index:n})})))},Cg=y.createContext(null),Mg=y.createContext(null);var Ag=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,o=e.className,a=e.expanded,s=e.colSpan,u=e.isEmpty,l=y.useContext(Eg).scrollbarSize,c=y.useContext(Mg),d=c.fixHeader,f=c.fixColumn,h=c.componentWidth,p=c.horizonScroll;return y.useMemo((function(){var e=n;return(u?p:f)&&(e=y.createElement("div",{style:{width:h-(d?l:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),y.createElement(r,{className:o,style:{display:a?null:"none"}},y.createElement(wg,{component:i,prefixCls:t,colSpan:s},e))}),[n,r,o,a,s,u,l,h,f,d,p])},Ig=y.createContext(null);function Og(e){var t=e.className,n=e.style,r=e.record,i=e.index,o=e.renderIndex,a=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,l=e.onRow,c=e.indent,d=void 0===c?0:c,f=e.rowComponent,h=e.cellComponent,p=e.childrenColumnName,g=y.useContext(Eg),v=g.prefixCls,b=g.fixedInfoList,x=y.useContext(Cg),w=x.flattenColumns,E=x.expandableType,k=x.expandRowByClick,_=x.onTriggerExpand,S=x.rowClassName,T=x.expandedRowClassName,C=x.indentSize,M=x.expandIcon,A=x.expandedRowRender,I=x.expandIconColumnIndex,O=y.useState(!1),N=(0,m.Z)(O,2),P=N[0],D=N[1],R=u&&u.has(e.recordKey);y.useEffect((function(){R&&D(!0)}),[R]);var L="row"===E&&(!s||s(r)),j="nest"===E,F=p&&r&&r[p],B=L||j,z=y.useRef(_);z.current=_;var Y,G=function(){z.current.apply(z,arguments)};l&&(Y=l(r,i));var V;"string"===typeof S?V=S:"function"===typeof S&&(V=S(r,i,d));var W,U=cg(w),Z=y.createElement(f,It({},Y,{"data-row-key":a,className:In()(t,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(d),V,Y&&Y.className),style:Ee(Ee({},n),Y?Y.style:null),onClick:function(e){var t,n;k&&B&&G(r,e);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];null===(t=Y)||void 0===t||null===(n=t.onClick)||void 0===n||n.call.apply(n,[t,e].concat(o))}}),w.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,l=e.className,c=U[t],f=b[t];return t===(I||0)&&j&&(n=y.createElement(y.Fragment,null,y.createElement("span",{style:{paddingLeft:"".concat(C*d,"px")},className:"".concat(v,"-row-indent indent-level-").concat(d)}),M({prefixCls:v,expanded:R,expandable:F,record:r,onExpand:G}))),e.onCell&&(a=e.onCell(r,i)),y.createElement(wg,It({className:l,ellipsis:e.ellipsis,align:e.align,component:h,prefixCls:v,key:c,record:r,index:i,renderIndex:o,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&R},f,{appendNode:n,additionalProps:a}))})));if(L&&(P||R)){var H=A(r,i,d+1,R),q=T&&T(r,i,d);W=y.createElement(Ag,{expanded:R,className:In()("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(d+1),q),prefixCls:v,component:f,cellComponent:h,colSpan:w.length,isEmpty:!1},H)}return y.createElement(y.Fragment,null,Z,W)}Og.displayName="BodyRow";var Ng=Og;function Pg(e,t,n,r,i,o){var a=[];a.push({record:e,indent:t,index:o});var s=i(e),u=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&u)for(var l=0;l<e[n].length;l+=1){var c=Pg(e[n][l],t+1,n,r,i,l);a.push.apply(a,(0,Mn.Z)(c))}return a}function Dg(e){var t=e.columnKey,n=e.onColumnResize,r=y.useRef();return y.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),y.createElement(Ro,{data:t},y.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},y.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function Rg(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=y.useRef(new Map),o=y.useRef(null);return y.useEffect((function(){return function(){Jo.cancel(o.current)}}),[]),y.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},y.createElement(Ro.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;i.current.set(t,n.offsetWidth)})),null===o.current&&(o.current=Jo((function(){i.current.forEach((function(e,t){r(t,e)})),i.current.clear(),o.current=null}),2))}},n.map((function(e){return y.createElement(Dg,{key:e,columnKey:e,onColumnResize:r})}))))}function Lg(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,o=e.onRow,a=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,l=y.useContext(Ig).onColumnResize,c=y.useContext(Eg),d=c.prefixCls,f=c.getComponent,h=y.useContext(Cg).flattenColumns,p=function(e,t,n,r){var i=y.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var a=e[o];i.push.apply(i,(0,Mn.Z)(Pg(a,0,t,n,r,o)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r]);return i}(t,u,i,n),g=y.useRef({renderWithProps:!1}),v=y.useState(-1),b=(0,m.Z)(v,2),x=b[0],w=b[1],E=y.useState(-1),k=(0,m.Z)(E,2),_=k[0],S=k[1],T=y.useCallback((function(e,t){w(e),S(t)}),[]),C=y.useMemo((function(){return{startRow:x,endRow:_,onHover:T}}),[T,x,_]),M=y.useMemo((function(){var e,c=f(["body","wrapper"],"tbody"),g=f(["body","row"],"tr"),v=f(["body","cell"],"td");e=t.length?p.map((function(e,t){var r=e.record,s=e.indent,l=e.index,c=n(r,t);return y.createElement(Ng,{key:c,rowKey:c,record:r,recordKey:c,index:t,renderIndex:l,rowComponent:g,cellComponent:v,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:u,indent:s})})):y.createElement(Ag,{expanded:!0,className:"".concat(d,"-placeholder"),prefixCls:d,component:g,cellComponent:v,colSpan:h.length,isEmpty:!0},s);var m=cg(h);return y.createElement(c,{className:"".concat(d,"-tbody")},r&&y.createElement(Rg,{prefixCls:d,columnsKey:m,onColumnResize:l}),e)}),[t,d,o,r,i,n,f,s,h,u,l,a,p]);return y.createElement(pg.Provider,{value:g.current},y.createElement(hg.Provider,{value:C},M))}var jg=y.memo(Lg);jg.displayName="Body";var Fg=jg,Bg=["expandable"],zg="RC_TABLE_INTERNAL_COL_DEFINE";var Yg={},Gg=["children"],Vg=["fixed"];function Wg(e){return Hi(e).filter((function(e){return y.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=Ee({key:t},dr(n,Gg));return r&&(i.children=Wg(r)),i}))}function Ug(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,Mn.Z)(e),(0,Mn.Z)(Ug(i).map((function(e){return Ee({fixed:r},e)})))):[].concat((0,Mn.Z)(e),[Ee(Ee({},t),{},{fixed:r})])}),[])}var Zg=function(e,t){var n=e.prefixCls,r=e.columns,i=e.children,o=e.expandable,a=e.expandedKeys,s=e.getRowKey,u=e.onTriggerExpand,l=e.expandIcon,c=e.rowExpandable,d=e.expandIconColumnIndex,f=e.direction,h=e.expandRowByClick,p=e.columnWidth,g=e.fixed,v=y.useMemo((function(){return r||Wg(i)}),[r,i]),m=y.useMemo((function(){if(o){var e,t=v.slice();if(!t.includes(Yg)){var r=d||0;r>=0&&t.splice(r,0,Yg)}0;var i=t.indexOf(Yg);t=t.filter((function(e,t){return e!==Yg||t===i}));var f,m=v[i];f="left"!==g&&!g||d?"right"!==g&&!g||d!==v.length?m?m.fixed:null:"right":"left";var b=(e={},(0,xe.Z)(e,zg,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,xe.Z)(e,"title",""),(0,xe.Z)(e,"fixed",f),(0,xe.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,xe.Z)(e,"width",p),(0,xe.Z)(e,"render",(function(e,t,r){var i=s(t,r),o=a.has(i),d=!c||c(t),f=l({prefixCls:n,expanded:o,expandable:d,record:t,onExpand:u});return h?y.createElement("span",{onClick:function(e){return e.stopPropagation()}},f):f})),e);return t.map((function(e){return e===Yg?b:e}))}return v.filter((function(e){return e!==Yg}))}),[o,v,s,a,l,f]),b=y.useMemo((function(){var e=m;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,m,f]),x=y.useMemo((function(){return"rtl"===f?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Ee({fixed:n},dr(e,Vg))}))}(Ug(b)):Ug(b)}),[b,f]);return[b,x]};function Hg(e){var t=(0,y.useRef)(e),n=(0,y.useState)({}),r=(0,m.Z)(n,2)[1],i=(0,y.useRef)(null),o=(0,y.useRef)([]);return(0,y.useEffect)((function(){return function(){i.current=null}}),[]),[t.current,function(e){o.current.push(e);var n=Promise.resolve();i.current=n,n.then((function(){if(i.current===n){var e=o.current,a=t.current;o.current=[],e.forEach((function(e){t.current=e(t.current)})),i.current=null,a!==t.current&&r({})}}))}]}var qg=function(e,t,n){var r=(0,y.useMemo)((function(){for(var r=[],i=[],o=0,a=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=a,a+=e[s]||0;var u=t-s-1;r[u]=o,o+=e[u]||0}else{r[s]=o,o+=e[s]||0;var l=t-s-1;i[l]=a,a+=e[l]||0}return{left:r,right:i}}),[e,t,n]);return r},Xg=["columnType"];var Kg=function(e){for(var t=e.colWidths,n=e.columns,r=[],i=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var a=t[o],s=n&&n[o],u=s&&s[zg];if(a||u||i){var l=u||{},c=(l.columnType,dr(l,Xg));r.unshift(y.createElement("col",It({key:o,style:{width:a}},c))),i=!0}}return y.createElement("colgroup",null,r)};var Jg=function(e){var t=e.className,n=e.children;return y.createElement("div",{className:t},n)};var $g=["children"];var Qg=y.createContext({});function ev(e){return e.children}ev.Row=function(e){var t=e.children,n=dr(e,$g);return y.createElement("tr",n,t)},ev.Cell=function(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,o=void 0===i?1:i,a=e.rowSpan,s=e.align,u=y.useContext(Eg),l=u.prefixCls,c=u.direction,d=y.useContext(Qg),f=d.scrollColumnIndex,h=d.stickyOffsets,p=n+o-1+1===f?o+1:o,g=kg(n,n+p-1,d.flattenColumns,h,c);return y.createElement(wg,It({className:t,index:n,component:"td",prefixCls:l,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:a,render:function(){return r}},g))};var tv=ev;var nv=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=y.useContext(Eg).prefixCls,o=r.length-1,a=r[o],s=y.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?o:null}}),[a,r,o,n]);return y.createElement(Qg.Provider,{value:s},y.createElement("tfoot",{className:"".concat(i,"-summary")},t))},rv=tv;function iv(e){var t,n=e.prefixCls,r=e.record,i=e.onExpand,o=e.expanded,a=e.expandable,s="".concat(n,"-row-expand-icon");if(!a)return y.createElement("span",{className:In()(s,"".concat(n,"-row-spaced"))});return y.createElement("span",{className:In()(s,(t={},(0,xe.Z)(t,"".concat(n,"-row-expanded"),o),(0,xe.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){i(r,e),e.stopPropagation()}})}function ov(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var av=function(e,t){var n,r,i=e.scrollBodyRef,o=e.onScroll,a=e.offsetScroll,s=e.container,u=y.useContext(Eg).prefixCls,l=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,c=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,d=l&&c*(c/l),f=y.useRef(),h=Hg({scrollLeft:0,isHiddenScrollBar:!1}),p=(0,m.Z)(h,2),g=p[0],v=p[1],b=y.useRef({delta:0,x:0}),x=y.useState(!1),w=(0,m.Z)(x,2),E=w[0],k=w[1],_=function(){k(!1)},S=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(E&&0!==n){var r=b.current.x+e.pageX-b.current.x-b.current.delta;r<=0&&(r=0),r+d>=c&&(r=c-d),o({scrollLeft:r/c*(l+2)}),b.current.x=e.pageX}else E&&k(!1)},T=function(){if(i.current){var e=ov(i.current).top,t=e+i.current.offsetHeight,n=s===window?document.documentElement.scrollTop+window.innerHeight:ov(s).top+s.clientHeight;t-ig()<=n||e>=n-a?v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!0})})):v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!1})}))}},C=function(e){v((function(t){return Ee(Ee({},t),{},{scrollLeft:e/l*c||0})}))};return y.useImperativeHandle(t,(function(){return{setScrollLeft:C}})),y.useEffect((function(){var e=Qo(document.body,"mouseup",_,!1),t=Qo(document.body,"mousemove",S,!1);return T(),function(){e.remove(),t.remove()}}),[d,E]),y.useEffect((function(){var e=Qo(s,"scroll",T,!1),t=Qo(window,"resize",T,!1);return function(){e.remove(),t.remove()}}),[s]),y.useEffect((function(){g.isHiddenScrollBar||v((function(e){var t=i.current;return t?Ee(Ee({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[g.isHiddenScrollBar]),l<=c||!d||g.isHiddenScrollBar?null:y.createElement("div",{style:{height:ig(),width:c,bottom:a},className:"".concat(u,"-sticky-scroll")},y.createElement("div",{onMouseDown:function(e){e.persist(),b.current.delta=e.pageX-g.scrollLeft,b.current.x=0,k(!0),e.preventDefault()},ref:f,className:In()("".concat(u,"-sticky-scroll-bar"),(0,xe.Z)({},"".concat(u,"-sticky-scroll-bar-active"),E)),style:{width:"".concat(d,"px"),transform:"translate3d(".concat(g.scrollLeft,"px, 0, 0)")}}))},sv=y.forwardRef(av),uv=Kr()?window:null;var lv=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var cv=y.forwardRef((function(e,t){var n=e.className,r=e.noData,i=e.columns,o=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,l=e.direction,c=e.fixHeader,d=e.stickyTopOffset,f=e.stickyBottomOffset,h=e.stickyClassName,p=e.onScroll,g=e.maxContentScroll,v=e.children,m=dr(e,lv),b=y.useContext(Eg),x=b.prefixCls,w=b.scrollbarSize,E=b.isSticky,k=E&&!c?0:w,_=y.useRef(null),S=y.useCallback((function(e){ji(t,e),ji(_,e)}),[]);y.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(p({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=_.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=_.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var T=y.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),C=o[o.length-1],M={fixed:C?C.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},A=(0,y.useMemo)((function(){return k?[].concat((0,Mn.Z)(i),[M]):i}),[k,i]),I=(0,y.useMemo)((function(){return k?[].concat((0,Mn.Z)(o),[M]):o}),[k,o]),O=(0,y.useMemo)((function(){var e=u.right,t=u.left;return Ee(Ee({},u),{},{left:"rtl"===l?[].concat((0,Mn.Z)(t.map((function(e){return e+k}))),[0]):t,right:"rtl"===l?e:[].concat((0,Mn.Z)(e.map((function(e){return e+k}))),[0]),isSticky:E})}),[k,u,E]),N=function(e,t){return(0,y.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(a,s);return y.createElement("div",{style:Ee({overflow:"hidden"},E?{top:d,bottom:f}:{}),ref:S,className:In()(n,(0,xe.Z)({},h,!!h))},y.createElement("table",{style:{tableLayout:"fixed",visibility:r||N?null:"hidden"}},(!r||!g||T)&&y.createElement(Kg,{colWidths:N?[].concat((0,Mn.Z)(N),[k]):[],columCount:s+1,columns:I}),v(Ee(Ee({},m),{},{stickyOffsets:O,columns:A,flattenColumns:I}))))}));cv.displayName="FixedHolder";var dv=cv,fv=[],hv={},pv="rc-table-internal-hook",gv=y.memo((function(e){return e.children}),(function(e,t){return!!rl()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function vv(e){var t,n=e.prefixCls,r=e.className,i=e.rowClassName,o=e.style,a=e.data,s=e.rowKey,u=e.scroll,l=e.tableLayout,c=e.direction,d=e.title,f=e.footer,h=e.summary,p=e.id,g=e.showHeader,v=e.components,b=e.emptyText,x=e.onRow,w=e.onHeaderRow,E=e.internalHooks,k=e.transformColumns,_=e.internalRefs,S=e.sticky,T=a||fv,C=!!T.length;var M=y.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===(0,hr.Z)(i)?(e[r]=e[r]||{},t(e[r],i)):e[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){t(e,n)})),e}(v,{})}),[v]),A=y.useCallback((function(e,t){return lg(M,e)||t}),[M]),I=y.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),O=function(e){var t,n=e.expandable,r=dr(e,Bg);return!1===(t="expandable"in e?Ee(Ee({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),N=O.expandIcon,P=O.expandedRowKeys,D=O.defaultExpandedRowKeys,R=O.defaultExpandAllRows,L=O.expandedRowRender,j=O.onExpand,F=O.onExpandedRowsChange,B=O.expandRowByClick,z=O.rowExpandable,Y=O.expandIconColumnIndex,G=O.expandedRowClassName,V=O.childrenColumnName,W=O.indentSize,U=N||iv,Z=V||"children",H=y.useMemo((function(){return L?"row":!!(e.expandable&&E===pv&&e.expandable.__PARENT_RENDER_ICON__||T.some((function(e){return e&&"object"===(0,hr.Z)(e)&&e[Z]})))&&"nest"}),[!!L,T]),q=y.useState((function(){return D||(R?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,o){r.push(t(i,o)),e(i[n])}))}(e),r}(T,I,Z):[])})),X=(0,m.Z)(q,2),K=X[0],J=X[1],$=y.useMemo((function(){return new Set(P||K||[])}),[P,K]),Q=y.useCallback((function(e){var t,n=I(e,T.indexOf(e)),r=$.has(n);r?($.delete(n),t=(0,Mn.Z)($)):t=[].concat((0,Mn.Z)($),[n]),J(t),j&&j(!r,e),F&&F(t)}),[I,$,T,j,F]);var ee,te,ne,re=y.useState(0),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=Zg(Ee(Ee(Ee({},e),O),{},{expandable:!!L,expandedKeys:$,getRowKey:I,onTriggerExpand:Q,expandIcon:U,expandIconColumnIndex:Y,direction:c}),E===pv?k:null),ue=(0,m.Z)(se,2),le=ue[0],ce=ue[1],de=y.useMemo((function(){return{columns:le,flattenColumns:ce}}),[le,ce]),fe=y.useRef(),he=y.useRef(),pe=y.useRef(),ge=y.useRef(),ve=y.useState(!1),me=(0,m.Z)(ve,2),ye=me[0],be=me[1],we=y.useState(!1),ke=(0,m.Z)(we,2),_e=ke[0],Se=ke[1],Te=Hg(new Map),Ce=(0,m.Z)(Te,2),Me=Ce[0],Ae=Ce[1],Ie=cg(ce).map((function(e){return Me.get(e)})),Oe=y.useMemo((function(){return Ie}),[Ie.join("_")]),Ne=qg(Oe,ce.length,c),Pe=u&&dg(u.y),De=u&&dg(u.x)||Boolean(O.fixed),Re=De&&ce.some((function(e){return e.fixed})),Le=y.useRef(),je=function(e,t){var n="object"===(0,hr.Z)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,o=n.offsetSummary,a=void 0===o?0:o,s=n.offsetScroll,u=void 0===s?0:s,l=n.getContainer,c=(void 0===l?function(){return uv}:l)()||uv;return y.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:u,container:c}}),[u,i,a,t,c])}(S,n),Fe=je.isSticky,Be=je.offsetHeader,ze=je.offsetSummary,Ye=je.offsetScroll,Ge=je.stickyClassName,Ve=je.container,We=null===h||void 0===h?void 0:h(T),Ue=(Pe||Fe)&&y.isValidElement(We)&&We.type===tv&&We.props.fixed;Pe&&(te={overflowY:"scroll",maxHeight:u.y}),De&&(ee={overflowX:"auto"},Pe||(te={overflowY:"hidden"}),ne={width:!0===u.x?"auto":u.x,minWidth:"100%"});var Ze=y.useCallback((function(e,t){qa(fe.current)&&Ae((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),He=function(e){var t=(0,y.useRef)(e||null),n=(0,y.useRef)();function r(){window.clearTimeout(n.current)}return(0,y.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),qe=(0,m.Z)(He,2),Xe=qe[0],Ke=qe[1];function Je(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var $e=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===c,o="number"===typeof r?r:n.scrollLeft,a=n||hv;Ke()&&Ke()!==a||(Xe(a),Je(o,he.current),Je(o,pe.current),Je(o,ge.current),Je(o,null===(t=Le.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;i?(be(-o<s-u),Se(-o>0)):(be(o>0),Se(o<s-u))}},Qe=function(){De&&pe.current?$e({currentTarget:pe.current}):(be(!1),Se(!1))},et=y.useRef(!1);y.useEffect((function(){et.current&&Qe()}),[De,a,le.length]),y.useEffect((function(){et.current=!0}),[]);var tt=y.useState(0),nt=(0,m.Z)(tt,2),rt=nt[0],it=nt[1],ot=y.useState(!0),at=(0,m.Z)(ot,2),st=at[0],ut=at[1];y.useEffect((function(){it(function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:og(n),height:og(r)}}(pe.current).width),ut(Wo("position","sticky"))}),[]),y.useEffect((function(){E===pv&&_&&(_.body.current=pe.current)}));var lt,ct=A(["table"],"table"),dt=y.useMemo((function(){return l||(Re?"max-content"===u.x?"auto":"fixed":Pe||Fe||ce.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Pe,Re,ce,l,Fe]),ft={colWidths:Oe,columCount:ce.length,stickyOffsets:Ne,onHeaderRow:w,fixHeader:Pe,scroll:u},ht=y.useMemo((function(){return C?null:"function"===typeof b?b():b}),[C,b]),pt=y.createElement(Fg,{data:T,measureColumnWidth:Pe||De||Fe,expandedKeys:$,rowExpandable:z,getRowKey:I,onRow:x,emptyNode:ht,childrenColumnName:Z}),gt=y.createElement(Kg,{colWidths:ce.map((function(e){return e.width})),columns:ce}),vt=A(["body"]);if(Pe||Fe){var mt;"function"===typeof vt?(mt=vt(T,{scrollbarSize:rt,ref:pe,onScroll:$e}),ft.colWidths=ce.map((function(e,t){var n=e.width,r=t===le.length-1?n-rt:n;return"number"!==typeof r||Number.isNaN(r)?(Xr(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):mt=y.createElement("div",{style:Ee(Ee({},ee),te),onScroll:$e,ref:pe,className:In()("".concat(n,"-body"))},y.createElement(ct,{style:Ee(Ee({},ne),{},{tableLayout:dt})},gt,pt,!Ue&&We&&y.createElement(nv,{stickyOffsets:Ne,flattenColumns:ce},We)));var yt=Ee(Ee(Ee({noData:!T.length,maxContentScroll:De&&"max-content"===u.x},ft),de),{},{direction:c,stickyClassName:Ge,onScroll:$e});lt=y.createElement(y.Fragment,null,!1!==g&&y.createElement(dv,It({},yt,{stickyTopOffset:Be,className:"".concat(n,"-header"),ref:he}),(function(e){return y.createElement(y.Fragment,null,y.createElement(Tg,e),"top"===Ue&&y.createElement(nv,e,We))})),mt,Ue&&"top"!==Ue&&y.createElement(dv,It({},yt,{stickyBottomOffset:ze,className:"".concat(n,"-summary"),ref:ge}),(function(e){return y.createElement(nv,e,We)})),Fe&&y.createElement(sv,{ref:Le,offsetScroll:Ye,scrollBodyRef:pe,onScroll:$e,container:Ve}))}else lt=y.createElement("div",{style:Ee(Ee({},ee),te),className:In()("".concat(n,"-content")),onScroll:$e,ref:pe},y.createElement(ct,{style:Ee(Ee({},ne),{},{tableLayout:dt})},gt,!1!==g&&y.createElement(Tg,It({},ft,de)),pt,We&&y.createElement(nv,{stickyOffsets:Ne,flattenColumns:ce},We)));var bt=rg(e,{aria:!0,data:!0}),xt=y.createElement("div",It({className:In()(n,r,(t={},(0,xe.Z)(t,"".concat(n,"-rtl"),"rtl"===c),(0,xe.Z)(t,"".concat(n,"-ping-left"),ye),(0,xe.Z)(t,"".concat(n,"-ping-right"),_e),(0,xe.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===l),(0,xe.Z)(t,"".concat(n,"-fixed-header"),Pe),(0,xe.Z)(t,"".concat(n,"-fixed-column"),Re),(0,xe.Z)(t,"".concat(n,"-scroll-horizontal"),De),(0,xe.Z)(t,"".concat(n,"-has-fix-left"),ce[0]&&ce[0].fixed),(0,xe.Z)(t,"".concat(n,"-has-fix-right"),ce[ce.length-1]&&"right"===ce[ce.length-1].fixed),t)),style:o,id:p,ref:fe},bt),y.createElement(gv,{pingLeft:ye,pingRight:_e,props:Ee(Ee({},e),{},{stickyOffsets:Ne,mergedExpandedKeys:$})},d&&y.createElement(Jg,{className:"".concat(n,"-title")},d(T)),y.createElement("div",{className:"".concat(n,"-container")},lt),f&&y.createElement(Jg,{className:"".concat(n,"-footer")},f(T))));De&&(xt=y.createElement(Ro,{onResize:function(e){var t=e.width;t!==oe&&(Qe(),ae(fe.current?fe.current.offsetWidth:t))}},xt));var wt=y.useMemo((function(){return{prefixCls:n,getComponent:A,scrollbarSize:rt,direction:c,fixedInfoList:ce.map((function(e,t){return kg(t,t,ce,Ne,c)})),isSticky:Fe}}),[n,A,rt,c,ce,Ne,c,Fe]),Et=y.useMemo((function(){return Ee(Ee({},de),{},{tableLayout:dt,rowClassName:i,expandedRowClassName:G,expandIcon:U,expandableType:H,expandRowByClick:B,expandedRowRender:L,onTriggerExpand:Q,expandIconColumnIndex:Y,indentSize:W})}),[de,dt,i,G,U,H,B,L,Q,Y,W]),kt=y.useMemo((function(){return{componentWidth:oe,fixHeader:Pe,fixColumn:Re,horizonScroll:De}}),[oe,Pe,Re,De]),_t=y.useMemo((function(){return{onColumnResize:Ze}}),[Ze]);return y.createElement(fg.Provider,{value:st},y.createElement(Eg.Provider,{value:wt},y.createElement(Cg.Provider,{value:Et},y.createElement(Mg.Provider,{value:kt},y.createElement(Ig.Provider,{value:_t},xt)))))}vv.EXPAND_COLUMN=Yg,vv.Column=sg,vv.ColumnGroup=ag,vv.Summary=rv,vv.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var mv=vv,yv=n(48573),bv=n.n(yv),xv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wv=(Nu("small","default","large"),null);var Ev=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=bv()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,i=e.direction,o=r.props,a=o.prefixCls,s=o.className,u=o.size,l=o.tip,c=o.wrapperClassName,d=o.style,f=xv(o,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),g=In()(p,(t={},(0,xe.Z)(t,"".concat(p,"-sm"),"small"===u),(0,xe.Z)(t,"".concat(p,"-lg"),"large"===u),(0,xe.Z)(t,"".concat(p,"-spinning"),h),(0,xe.Z)(t,"".concat(p,"-show-text"),!!l),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===i),t),s),v=lr(f,["spinning","delay","indicator"]),m=y.createElement("div",It({},v,{style:d,className:g}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:Iu(n)?Ou(n,{className:In()(n.props.className,r)}):Iu(wv)?Ou(wv,{className:In()(wv.props.className,r)}):y.createElement("span",{className:In()(r,"".concat(e,"-dot-spin"))},y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}),y.createElement("i",{className:"".concat(e,"-dot-item")}))}(p,r.props),l?y.createElement("div",{className:"".concat(p,"-text")},l):null);if(r.isNestedPattern()){var b=In()("".concat(p,"-container"),(0,xe.Z)({},"".concat(p,"-blur"),h));return y.createElement("div",It({},v,{className:In()("".concat(p,"-nested-loading"),c)}),h&&y.createElement("div",{key:"loading"},m),y.createElement("div",{className:b,key:"container"},r.props.children))}return m};var i=e.spinning,o=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return r.state={spinning:i&&!o},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return y.createElement(Qn,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){wv=e}}]),n}(y.Component);Ev.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var kv=Ev,_v=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=In()(n,"".concat(n,"-").concat(e.page),(t={},(0,xe.Z)(t,"".concat(n,"-active"),e.active),(0,xe.Z)(t,"".concat(n,"-disabled"),!e.page),(0,xe.Z)(t,e.className,!!e.className),t));return y.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",y.createElement("a",{rel:"nofollow"},e.page)))},Sv=13,Tv=38,Cv=40,Mv=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==Sv&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,Nn.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,o=t.changeSize,a=t.quickGo,s=t.goButton,u=t.selectComponentClass,l=t.buildOptionText,c=t.selectPrefixCls,d=t.disabled,f=this.state.goInputText,h="".concat(i,"-options"),p=u,g=null,v=null,m=null;if(!o&&!a)return null;var b=this.getPageSizeOptions();if(o&&p){var x=b.map((function(t,n){return y.createElement(p.Option,{key:n,value:t.toString()},(l||e.buildOptionText)(t))}));g=y.createElement(p,{disabled:d,prefixCls:c,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(s&&(m="boolean"===typeof s?y.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:d,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):y.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=y.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,y.createElement("input",{disabled:d,type:"text",value:f,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,m)),y.createElement("li",{className:"".concat(h)},g,v)}}]),n}(y.Component);Mv.defaultProps={pageSizeOptions:["10","20","50","100"]};var Av=Mv;function Iv(){}function Ov(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Nv(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var Pv=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(Nv(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||y.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(i=y.createElement(e,Ee({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return Ov(e)&&e!==r.state.current&&Ov(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==Tv&&e.keyCode!==Cv||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===Sv?r.handleChange(t):e.keyCode===Tv?r.handleChange(t-1):e.keyCode===Cv&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=Nv(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props.disabled,n=e;if(r.isValid(n)&&!t){var i=Nv(void 0,r.state,r.props);n>i?n=i:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var o=r.state.pageSize;return r.props.onChange(n,o),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<Nv(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==Sv&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==Iv;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),o=Math.min(o,Nv(a,void 0,e)),r.state={current:o,currentInputValue:o,pageSize:a},r}return(0,Nn.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=Nv(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,y.isValidElement)(r)?(0,y.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,y.isValidElement)(r)?(0,y.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.disabled,a=t.hideOnSinglePage,s=t.total,u=t.locale,l=t.showQuickJumper,c=t.showLessItems,d=t.showTitle,f=t.showTotal,h=t.simple,p=t.itemRender,g=t.showPrevNextJumpers,v=t.jumpPrevIcon,m=t.jumpNextIcon,b=t.selectComponentClass,x=t.selectPrefixCls,w=t.pageSizeOptions,E=this.state,k=E.current,_=E.pageSize,S=E.currentInputValue;if(!0===a&&s<=_)return null;var T=Nv(void 0,this.state,this.props),C=[],M=null,A=null,I=null,O=null,N=null,P=l&&l.goButton,D=c?1:2,R=k-1>0?k-1:0,L=k+1<T?k+1:T,j=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(h)return P&&(N="boolean"===typeof P?y.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},u.jump_to_confirm):y.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},P),N=y.createElement("li",{title:d?"".concat(u.jump_to).concat(k,"/").concat(T):null,className:"".concat(n,"-simple-pager")},N)),y.createElement("ul",It({className:In()(n,"".concat(n,"-simple"),(0,xe.Z)({},"".concat(n,"-disabled"),o),r),style:i,ref:this.savePaginationNode},j),y.createElement("li",{title:d?u.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:In()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),y.createElement("li",{title:d?"".concat(k,"/").concat(T):null,className:"".concat(n,"-simple-pager")},y.createElement("input",{type:"text",value:S,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),y.createElement("span",{className:"".concat(n,"-slash")},"/"),T),y.createElement("li",{title:d?u.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:In()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(L)),N);if(T<=3+2*D){var F={locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:d,itemRender:p};T||C.push(y.createElement(_v,It({},F,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var B=1;B<=T;B+=1){var z=k===B;C.push(y.createElement(_v,It({},F,{key:B,page:B,active:z})))}}else{var Y=c?u.prev_3:u.prev_5,G=c?u.next_3:u.next_5;g&&(M=y.createElement("li",{title:d?Y:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:In()("".concat(n,"-jump-prev"),(0,xe.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!v))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(v,"prev page"))),A=y.createElement("li",{title:d?G:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:In()("".concat(n,"-jump-next"),(0,xe.Z)({},"".concat(n,"-jump-next-custom-icon"),!!m))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(m,"next page")))),O=y.createElement(_v,{locale:u,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:T,page:T,active:!1,showTitle:d,itemRender:p}),I=y.createElement(_v,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:d,itemRender:p});var V=Math.max(1,k-D),W=Math.min(k+D,T);k-1<=D&&(W=1+2*D),T-k<=D&&(V=T-2*D);for(var U=V;U<=W;U+=1){var Z=k===U;C.push(y.createElement(_v,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:U,page:U,active:Z,showTitle:d,itemRender:p}))}k-1>=2*D&&3!==k&&(C[0]=(0,y.cloneElement)(C[0],{className:"".concat(n,"-item-after-jump-prev")}),C.unshift(M)),T-k>=2*D&&k!==T-2&&(C[C.length-1]=(0,y.cloneElement)(C[C.length-1],{className:"".concat(n,"-item-before-jump-next")}),C.push(A)),1!==V&&C.unshift(I),W!==T&&C.push(O)}var H=null;f&&(H=y.createElement("li",{className:"".concat(n,"-total-text")},f(s,[0===s?0:(k-1)*_+1,k*_>s?s:k*_])));var q=!this.hasPrev()||!T,X=!this.hasNext()||!T;return y.createElement("ul",It({className:In()(n,r,(0,xe.Z)({},"".concat(n,"-disabled"),o)),style:i,unselectable:"unselectable",ref:this.savePaginationNode},j),H,y.createElement("li",{title:d?u.prev_page:null,onClick:this.prev,tabIndex:q?null:0,onKeyPress:this.runIfEnterPrev,className:In()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),q)),"aria-disabled":q},this.renderPrev(R)),C,y.createElement("li",{title:d?u.next_page:null,onClick:this.next,tabIndex:X?null:0,onKeyPress:this.runIfEnterNext,className:In()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderNext(L)),y.createElement(Av,{disabled:o,locale:u,rootPrefixCls:n,selectComponentClass:b,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:k,pageSize:_,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:P}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=Nv(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(y.Component);Pv.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Iv,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Iv,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var Dv=Pv,Rv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Lv=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Rv}))};Lv.displayName="DoubleLeftOutlined";var jv=y.forwardRef(Lv),Fv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Bv=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Fv}))};Bv.displayName="DoubleRightOutlined";var zv=y.forwardRef(Bv);function Yv(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Gv(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function Vv(e){var t=Ee({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Xr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Wv=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Uv=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,o=e.popupElement,a=e.containerWidth,s=e.animation,u=e.transitionName,l=e.dropdownStyle,c=e.dropdownClassName,d=e.direction,f=void 0===d?"ltr":d,h=e.placement,p=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,m=e.getPopupContainer,b=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,E=e.onPopupMouseEnter,k=dr(e,Wv),_="".concat(n,"-dropdown"),S=o;g&&(S=g(o));var T=y.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(p)}),[p]),C=s?"".concat(_,"-").concat(s):u,M=y.useRef(null);y.useImperativeHandle(t,(function(){return{getPopupElement:function(){return M.current}}}));var A=Ee({minWidth:a},l);return"number"===typeof p?A.width=p:p&&(A.width=a),y.createElement(yu,It({},k,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:h||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:T,prefixCls:_,popupTransitionName:C,popup:y.createElement("div",{ref:M,onMouseEnter:E},S),popupAlign:v,popupVisible:r,getPopupContainer:m,popupClassName:In()(c,(0,xe.Z)({},"".concat(_,"-empty"),b)),popupStyle:A,getTriggerDOMNode:x,onPopupVisibleChange:w}),i)},Zv=y.forwardRef(Uv);Zv.displayName="SelectTrigger";var Hv=Zv,qv=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children;return t="function"===typeof r?r(i):r,y.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:y.createElement("span",{className:In()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},Xv=function(e,t){var n,r,i=e.prefixCls,o=e.id,a=e.inputElement,s=e.disabled,u=e.tabIndex,l=e.autoFocus,c=e.autoComplete,d=e.editable,f=e.activeDescendantId,h=e.value,p=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,m=e.onChange,b=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,E=e.open,k=e.attrs,_=a||y.createElement("input",null),S=_,T=S.ref,C=S.props,M=C.onKeyDown,A=C.onChange,I=C.onMouseDown,O=C.onCompositionStart,N=C.onCompositionEnd,P=C.style;return _=y.cloneElement(_,Ee(Ee(Ee({type:"search"},C),{},{id:o,ref:Fi(t,T),disabled:s,tabIndex:u,autoComplete:c||"off",autoFocus:l,className:In()("".concat(i,"-selection-search-input"),null===(n=_)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":E,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":f},k),{},{value:d?h:"",maxLength:p,readOnly:!d,unselectable:d?null:"on",style:Ee(Ee({},P),{},{opacity:d?null:0}),onKeyDown:function(e){g(e),M&&M(e)},onMouseDown:function(e){v(e),I&&I(e)},onChange:function(e){m(e),A&&A(e)},onCompositionStart:function(e){x(e),O&&O(e)},onCompositionEnd:function(e){w(e),N&&N(e)},onPaste:b}))},Kv=y.forwardRef(Xv);Kv.displayName="Input";var Jv=Kv;function $v(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Qv="undefined"!==typeof window&&window.document&&window.document.documentElement;var em=function(e){e.preventDefault(),e.stopPropagation()},tm=function(e){var t,n,r=e.id,i=e.prefixCls,o=e.values,a=e.open,s=e.searchValue,u=e.inputRef,l=e.placeholder,c=e.disabled,d=e.mode,f=e.showSearch,h=e.autoFocus,p=e.autoComplete,g=e.activeDescendantId,v=e.tabIndex,b=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,E=e.maxTagPlaceholder,k=void 0===E?function(e){return"+ ".concat(e.length," ...")}:E,_=e.tagRender,S=e.onToggleOpen,T=e.onRemove,C=e.onInputChange,M=e.onInputPaste,A=e.onInputKeyDown,I=e.onInputMouseDown,O=e.onInputCompositionStart,N=e.onInputCompositionEnd,P=y.useRef(null),D=(0,y.useState)(0),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=(0,y.useState)(!1),B=(0,m.Z)(F,2),z=B[0],Y=B[1],G="".concat(i,"-selection"),V=a||"tags"===d?s:"",W="tags"===d||f&&(a||z);function U(e,t,n,r,i){return y.createElement("span",{className:In()("".concat(G,"-item"),(0,xe.Z)({},"".concat(G,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},y.createElement("span",{className:"".concat(G,"-item-content")},t),r&&y.createElement(qv,{className:"".concat(G,"-item-remove"),onMouseDown:em,onClick:i,customizeIcon:b},"\xd7"))}t=function(){j(P.current.scrollWidth)},n=[V],Qv?y.useLayoutEffect(t,n):y.useEffect(t,n);var Z=y.createElement("div",{className:"".concat(G,"-search"),style:{width:L},onFocus:function(){Y(!0)},onBlur:function(){Y(!1)}},y.createElement(Jv,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:c,autoFocus:h,autoComplete:p,editable:W,activeDescendantId:g,value:V,onKeyDown:A,onMouseDown:I,onChange:C,onPaste:M,onCompositionStart:O,onCompositionEnd:N,tabIndex:v,attrs:rg(e,!0)}),y.createElement("span",{ref:P,className:"".concat(G,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),H=y.createElement(Nf,{prefixCls:"".concat(G,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!c&&!t,o=n;if("number"===typeof w&&("string"===typeof n||"number"===typeof n)){var s=String(o);s.length>w&&(o="".concat(s.slice(0,w),"..."))}var u=function(t){t&&t.stopPropagation(),T(e)};return"function"===typeof _?function(e,t,n,r,i){return y.createElement("span",{onMouseDown:function(e){em(e),S(!a)}},_({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,o,t,i,u):U(n,o,t,i,u)},renderRest:function(e){var t="function"===typeof k?k(e):k;return U(t,t,!1)},suffix:Z,itemKey:"key",maxCount:x});return y.createElement(y.Fragment,null,H,!o.length&&!V&&y.createElement("span",{className:"".concat(G,"-placeholder")},l))},nm=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,o=e.disabled,a=e.autoFocus,s=e.autoComplete,u=e.activeDescendantId,l=e.mode,c=e.open,d=e.values,f=e.placeholder,h=e.tabIndex,p=e.showSearch,g=e.searchValue,v=e.activeValue,b=e.maxLength,x=e.onInputKeyDown,w=e.onInputMouseDown,E=e.onInputChange,k=e.onInputPaste,_=e.onInputCompositionStart,S=e.onInputCompositionEnd,T=y.useState(!1),C=(0,m.Z)(T,2),M=C[0],A=C[1],I="combobox"===l,O=I||p,N=d[0],P=g||"";I&&v&&!M&&(P=v),y.useEffect((function(){I&&A(!1)}),[I,v]);var D=!("combobox"!==l&&!c&&!p)&&!!P,R=!N||"string"!==typeof N.label&&"number"!==typeof N.label?void 0:N.label.toString();return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(n,"-selection-search")},y.createElement(Jv,{ref:i,prefixCls:n,id:r,open:c,inputElement:t,disabled:o,autoFocus:a,autoComplete:s,editable:O,activeDescendantId:u,value:P,onKeyDown:x,onMouseDown:w,onChange:function(e){A(!0),E(e)},onPaste:k,onCompositionStart:_,onCompositionEnd:S,tabIndex:h,attrs:rg(e,!0),maxLength:I?b:void 0})),!I&&N&&!D&&y.createElement("span",{className:"".concat(n,"-selection-item"),title:R},N.label),function(){if(N)return null;var e=D?{visibility:"hidden"}:void 0;return y.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},f)}())};function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=y.useRef(null),n=y.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return y.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var im=function(e,t){var n=(0,y.useRef)(null),r=(0,y.useRef)(!1),i=e.prefixCls,o=e.open,a=e.mode,s=e.showSearch,u=e.tokenWithEnter,l=e.onSearch,c=e.onSearchSubmit,d=e.onToggleOpen,f=e.onInputKeyDown,h=e.domRef;y.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=rm(0),g=(0,m.Z)(p,2),v=g[0],b=g[1],x=(0,y.useRef)(null),w=function(e){!1!==l(e,!0,r.current)&&d(!0)},E={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Fo.UP&&n!==Fo.DOWN||e.preventDefault(),f&&f(e),n!==Fo.ENTER||"tags"!==a||r.current||o||null===c||void 0===c||c(e.target.value),t=n,[Fo.ESC,Fo.SHIFT,Fo.BACKSPACE,Fo.TAB,Fo.WIN_KEY,Fo.ALT,Fo.META,Fo.WIN_KEY_RIGHT,Fo.CTRL,Fo.SEMICOLON,Fo.EQUALS,Fo.CAPS_LOCK,Fo.CONTEXT_MENU,Fo.F1,Fo.F2,Fo.F3,Fo.F4,Fo.F5,Fo.F6,Fo.F7,Fo.F8,Fo.F9,Fo.F10,Fo.F11,Fo.F12].includes(t)||d(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(u&&x.current&&/[\r\n]/.test(x.current)){var n=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,x.current)}x.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");x.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&w(e.target.value)}},k="multiple"===a||"tags"===a?y.createElement(tm,It({},e,E)):y.createElement(nm,It({},e,E));return y.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=v();e.target===n.current||t||e.preventDefault(),("combobox"===a||s&&t)&&o||(o&&l("",!0,!1),d())}},k)},om=y.forwardRef(im);om.displayName="Selector";var am=om;var sm=y.createContext(null);var um=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],lm=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function cm(e){return"tags"===e||"multiple"===e}var dm=y.forwardRef((function(e,t){var n,r,i=e.id,o=e.prefixCls,a=e.className,s=e.showSearch,u=e.tagRender,l=e.direction,c=e.omitDomProps,d=e.displayValues,f=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,g=void 0===p?"Not Found":p,v=e.onClear,b=e.mode,x=e.disabled,w=e.loading,E=e.getInputElement,k=e.getRawInputElement,_=e.open,S=e.defaultOpen,T=e.onDropdownVisibleChange,C=e.activeValue,M=e.onActiveValueChange,A=e.activeDescendantId,I=e.searchValue,O=e.onSearch,N=e.onSearchSplit,P=e.tokenSeparators,D=e.allowClear,R=e.showArrow,L=e.inputIcon,j=e.clearIcon,F=e.OptionList,B=e.animation,z=e.transitionName,Y=e.dropdownStyle,G=e.dropdownClassName,V=e.dropdownMatchSelectWidth,W=e.dropdownRender,U=e.dropdownAlign,Z=e.placement,H=e.getPopupContainer,q=e.showAction,X=void 0===q?[]:q,K=e.onFocus,J=e.onBlur,$=e.onKeyUp,Q=e.onKeyDown,ee=e.onMouseDown,te=dr(e,um),ne=cm(b),re=(void 0!==s?s:ne)||"combobox"===b,ie=Ee({},te);lm.forEach((function(e){delete ie[e]})),null===c||void 0===c||c.forEach((function(e){delete ie[e]}));var oe=y.useState(!1),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1];y.useEffect((function(){ue(ra())}),[]);var le=y.useRef(null),ce=y.useRef(null),de=y.useRef(null),fe=y.useRef(null),he=y.useRef(null),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=y.useState(!1),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=y.useRef(null),a=function(){window.clearTimeout(o.current)};y.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),ge=(0,m.Z)(pe,3),ve=ge[0],me=ge[1],ye=ge[2];y.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=fe.current)||void 0===e?void 0:e.focus,blur:null===(t=fe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=he.current)||void 0===t?void 0:t.scrollTo(e)}}}));var be=y.useMemo((function(){var e;if("combobox"!==b)return I;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[I,b,d]),we="combobox"===b&&"function"===typeof E&&E()||null,ke="function"===typeof k&&k(),_e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Li((function(){return Fi.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(ce,null===ke||void 0===ke||null===(n=ke.props)||void 0===n?void 0:n.ref),Se=Zi(void 0,{defaultValue:S,value:_}),Te=(0,m.Z)(Se,2),Ce=Te[0],Me=Te[1],Ae=Ce,Ie=!g&&h;(x||Ie&&Ae&&"combobox"===b)&&(Ae=!1);var Oe=!Ie&&Ae,Ne=y.useCallback((function(e){var t=void 0!==e?e:!Ae;Ae===t||x||(Me(t),null===T||void 0===T||T(t))}),[x,Ae,Me,T]),Pe=y.useMemo((function(){return(P||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[P]),De=function(e,t,n){var r=!0,i=e;null===M||void 0===M||M(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=Zl(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,Mn.Z)(t),(0,Mn.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,P);return"combobox"!==b&&o&&(i="",null===N||void 0===N||N(o),Ne(!1),r=!1),O&&be!==i&&O(i,{source:t?"typing":"effect"}),r};y.useEffect((function(){Ae||ne||"combobox"===b||De("",!1,!1)}),[Ae]),y.useEffect((function(){Ce&&x&&Me(!1),x&&me(!1)}),[x]);var Re=rm(),Le=(0,m.Z)(Re,2),je=Le[0],Fe=Le[1],Be=y.useRef(!1),ze=[];y.useEffect((function(){return function(){ze.forEach((function(e){return clearTimeout(e)})),ze.splice(0,ze.length)}}),[]);var Ye,Ge=y.useState(null),Ve=(0,m.Z)(Ge,2),We=Ve[0],Ue=Ve[1],Ze=y.useState({}),He=(0,m.Z)(Ze,2)[1];Lo((function(){if(Oe){var e,t=Math.ceil(null===(e=le.current)||void 0===e?void 0:e.offsetWidth);We===t||Number.isNaN(t)||Ue(t)}}),[Oe]),ke&&(Ye=function(e){Ne(e)}),function(e,t,n){var r=y.useRef(null);r.current={open:t,triggerOpen:n},y.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[le.current,null===(e=de.current)||void 0===e?void 0:e.getPopupElement()]}),Oe,Ne);var qe,Xe,Ke=y.useMemo((function(){return Ee(Ee({},e),{},{notFoundContent:g,open:Ae,triggerOpen:Oe,id:i,showSearch:re,multiple:ne,toggleOpen:Ne})}),[e,g,Oe,Ae,i,re,ne,Ne]),Je=void 0!==R?R:w||!ne&&"combobox"!==b;Je&&(qe=y.createElement(qv,{className:In()("".concat(o,"-arrow"),(0,xe.Z)({},"".concat(o,"-arrow-loading"),w)),customizeIcon:L,customizeIconProps:{loading:w,searchValue:be,open:Ae,focused:ve,showSearch:re}}));!x&&D&&(d.length||be)&&(Xe=y.createElement(qv,{className:"".concat(o,"-clear"),onMouseDown:function(){null===v||void 0===v||v(),f([],{type:"clear",values:d}),De("",!1,!1)},customizeIcon:j},"\xd7"));var $e,Qe=y.createElement(F,{ref:he}),et=In()(o,a,(r={},(0,xe.Z)(r,"".concat(o,"-focused"),ve),(0,xe.Z)(r,"".concat(o,"-multiple"),ne),(0,xe.Z)(r,"".concat(o,"-single"),!ne),(0,xe.Z)(r,"".concat(o,"-allow-clear"),D),(0,xe.Z)(r,"".concat(o,"-show-arrow"),Je),(0,xe.Z)(r,"".concat(o,"-disabled"),x),(0,xe.Z)(r,"".concat(o,"-loading"),w),(0,xe.Z)(r,"".concat(o,"-open"),Ae),(0,xe.Z)(r,"".concat(o,"-customize-input"),we),(0,xe.Z)(r,"".concat(o,"-show-search"),re),r)),tt=y.createElement(Hv,{ref:de,disabled:x,prefixCls:o,visible:Oe,popupElement:Qe,containerWidth:We,animation:B,transitionName:z,dropdownStyle:Y,dropdownClassName:G,direction:l,dropdownMatchSelectWidth:V,dropdownRender:W,dropdownAlign:U,placement:Z,getPopupContainer:H,empty:h,getTriggerDOMNode:function(){return ce.current},onPopupVisibleChange:Ye,onPopupMouseEnter:function(){He({})}},ke?y.cloneElement(ke,{ref:_e}):y.createElement(am,It({},e,{domRef:ce,prefixCls:o,inputElement:we,ref:fe,id:i,showSearch:re,mode:b,activeDescendantId:A,tagRender:u,values:d,open:Ae,onToggleOpen:Ne,activeValue:C,searchValue:be,onSearch:De,onSearchSubmit:function(e){e&&e.trim()&&O(e,{source:"submit"})},onRemove:function(e){var t=d.filter((function(t){return t!==e}));f(t,{type:"remove",values:[e]})},tokenWithEnter:Pe})));return $e=ke?tt:y.createElement("div",It({className:et},ie,{ref:le,onMouseDown:function(e){var t,n=e.target,r=null===(t=de.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=ze.indexOf(i);-1!==t&&ze.splice(t,1),ye(),se||r.contains(document.activeElement)||null===(e=fe.current)||void 0===e||e.focus()}));ze.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===ee||void 0===ee||ee.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=je(),r=e.which;if(r===Fo.ENTER&&("combobox"!==b&&e.preventDefault(),Ae||Ne(!0)),Fe(!!be),r===Fo.BACKSPACE&&!n&&ne&&!be&&d.length){for(var i=(0,Mn.Z)(d),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&f(i,{type:"remove",values:[o]})}for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];Ae&&he.current&&(t=he.current).onKeyDown.apply(t,[e].concat(l)),null===Q||void 0===Q||Q.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ae&&he.current&&(i=he.current).onKeyUp.apply(i,[e].concat(n)),null===$||void 0===$||$.apply(void 0,[e].concat(n))},onFocus:function(){me(!0),x||(K&&!Be.current&&K.apply(void 0,arguments),X.includes("focus")&&Ne(!0)),Be.current=!0},onBlur:function(){me(!1,(function(){Be.current=!1,Ne(!1)})),x||(be&&("tags"===b?O(be,{source:"submit"}):"multiple"===b&&O("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),ve&&!Ae&&y.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(d.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,hr.Z)(t))?t:n})).join(", "))),tt,qe,Xe),y.createElement(sm.Provider,{value:Ke},$e)}));var fm=dm;function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){gm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vm=y.forwardRef((function(e,t){var n=e.height,r=e.offset,i=e.children,o=e.prefixCls,a=e.onInnerResize,s={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(s={height:n,position:"relative",overflow:"hidden"},u=pm(pm({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),y.createElement("div",{style:s},y.createElement(Ro,{onResize:function(e){e.offsetHeight&&a&&a()}},y.createElement("div",{style:u,className:In()(gm({},"".concat(o,"-holder-inner"),o)),ref:t},i)))}));vm.displayName="Filler";var mm=vm;function ym(e){return ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(e)}function bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Em(e,t){return Em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Em(e,t)}function km(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sm(e);if(t){var i=Sm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(e,t){if(t&&("object"===ym(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sm(e)}function Tm(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Cm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}(o,e);var t,n,r,i=km(o);function o(){var e;xm(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).moveRaf=null,e.scrollbarRef=y.createRef(),e.thumbRef=y.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),Jo.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:Tm(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(Jo.cancel(e.moveRaf),r){var s=o+(Tm(t)-i),u=e.getEnableScrollRange(),l=e.getEnableHeightRange(),c=l?s/l:0,d=Math.ceil(c*u);e.moveRaf=Jo((function(){a(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),o=this.getTop(),a=this.showScroll(),s=a&&n;return y.createElement("div",{ref:this.scrollbarRef,className:In()("".concat(r,"-scrollbar"),bm({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:s?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},y.createElement("div",{ref:this.thumbRef,className:In()("".concat(r,"-scrollbar-thumb"),bm({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&wm(t.prototype,n),r&&wm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(y.Component);function Mm(e){var t=e.children,n=e.setRef,r=y.useCallback((function(e){n(e)}),[]);return y.cloneElement(t,{ref:r})}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Im=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&Am(t.prototype,n),r&&Am(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Om=Im;function Nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dm(e){return Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(e)}function Rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Lm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jm(e,t,n){var r=Rm(y.useState(e),2),i=r[0],o=r[1],a=Rm(y.useState(null),2),s=a[0],u=a[1];return y.useEffect((function(){var r=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var l=null,c=1!==Math.abs(o-a),d=0;d<i.length;d+=1){var f=u(r[d]);if(f!==u(i[d])){l=d,c=c||f!==u(i[d+1]);break}}return null===l?null:{index:l,multiple:c}}(i||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),o(e)}),[e]),[s]}function Fm(e){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(e)}var Bm="object"===("undefined"===typeof navigator?"undefined":Fm(navigator))&&/Firefox/i.test(navigator.userAgent),zm=function(e,t){var n=(0,y.useRef)(!1),r=(0,y.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=(0,y.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&o.current.top||e>0&&o.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};var Ym=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function Gm(){return Gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gm.apply(this,arguments)}function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(n),!0).forEach((function(t){Um(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Xm=[],Km={overflowY:"auto",overflowAnchor:"none"};function Jm(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,o=e.height,a=e.itemHeight,s=e.fullHeight,u=void 0===s||s,l=e.style,c=e.data,d=e.children,f=e.itemKey,h=e.virtual,p=e.component,g=void 0===p?"div":p,v=e.onScroll,m=e.onVisibleChange,b=qm(e,Ym),x=!(!1===h||!o||!a),w=x&&c&&a*c.length>o,E=Zm((0,y.useState)(0),2),k=E[0],_=E[1],S=Zm((0,y.useState)(!1),2),T=S[0],C=S[1],M=In()(r,i),A=c||Xm,I=(0,y.useRef)(),O=(0,y.useRef)(),N=(0,y.useRef)(),P=y.useCallback((function(e){return"function"===typeof f?f(e):null===e||void 0===e?void 0:e[f]}),[f]),D={getKey:P};function R(e){_((function(t){var n=function(e){var t=e;Number.isNaN(J.current)||(t=Math.min(t,J.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return I.current.scrollTop=n,n}))}var L=(0,y.useRef)({start:0,end:A.length}),j=(0,y.useRef)(),F=Zm(jm(A,P),1)[0];j.current=F;var B=function(e,t,n){var r=Nm(y.useState(0),2),i=r[0],o=r[1],a=(0,y.useRef)(new Map),s=(0,y.useRef)(new Om),u=(0,y.useRef)();function l(){Jo.cancel(u.current)}function c(){l(),u.current=Jo((function(){a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=oo(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))}))}return(0,y.useEffect)((function(){return l}),[]),[function(r,i){var o=e(r),s=a.current.get(o);i?(a.current.set(o,i),c()):a.current.delete(o),!s!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},c,s.current,i]}(P,null,null),z=Zm(B,4),Y=z[0],G=z[1],V=z[2],W=z[3],U=y.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:A.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=O.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:A.length-1,offset:void 0};for(var t,n,r,i=0,s=A.length,u=0;u<s;u+=1){var l=A[u],c=P(l),d=V.get(c),f=i+(void 0===d?a:d);f>=k&&void 0===t&&(t=u,n=i),f>k+o&&void 0===r&&(r=u),i=f}return void 0===t&&(t=0,n=0),void 0===r&&(r=A.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,A.length),offset:n}}),[w,x,k,A,W,o]),Z=U.scrollHeight,H=U.start,q=U.end,X=U.offset;L.current.start=H,L.current.end=q;var K=Z-o,J=(0,y.useRef)(K);J.current=K;var $=k<=0,Q=k>=K,ee=zm($,Q);var te=function(e,t,n,r){var i=(0,y.useRef)(0),o=(0,y.useRef)(null),a=(0,y.useRef)(null),s=(0,y.useRef)(!1),u=zm(t,n);return[function(t){if(e){Jo.cancel(o.current);var n=t.deltaY;i.current+=n,a.current=n,u(n)||(Bm||t.preventDefault(),o.current=Jo((function(){var e=s.current?10:1;r(i.current*e),i.current=0})))}},function(t){e&&(s.current=t.detail===a.current)}]}(x,$,Q,(function(e){R((function(t){return t+e}))})),ne=Zm(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var r,i=(0,y.useRef)(!1),o=(0,y.useRef)(0),a=(0,y.useRef)(null),s=(0,y.useRef)(null),u=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},l=function(){i.current=!1,r()},c=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,o.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",l))};r=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",l))},Lo((function(){return e&&t.current.addEventListener("touchstart",c),function(){t.current.removeEventListener("touchstart",c),r(),clearInterval(s.current)}}),[e])}(x,I,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),Lo((function(){function e(e){x&&e.preventDefault()}return I.current.addEventListener("wheel",re),I.current.addEventListener("DOMMouseScroll",ie),I.current.addEventListener("MozMousePixelScroll",e),function(){I.current.removeEventListener("wheel",re),I.current.removeEventListener("DOMMouseScroll",ie),I.current.removeEventListener("MozMousePixelScroll",e)}}),[x]);var oe=function(e,t,n,r,i,o,a,s){var u=y.useRef();return function(l){if(null!==l&&void 0!==l){if(Jo.cancel(u.current),"number"===typeof l)a(l);else if(l&&"object"===Dm(l)){var c,d=l.align;c="index"in l?l.index:t.findIndex((function(e){return i(e)===l.key}));var f=l.offset,h=void 0===f?0:f;!function s(l,f){if(!(l<0)&&e.current){var p=e.current.clientHeight,g=!1,v=f;if(p){for(var m=f||d,y=0,b=0,x=0,w=Math.min(t.length,c),E=0;E<=w;E+=1){var k=i(t[E]);b=y;var _=n.get(k);y=x=b+(void 0===_?r:_),E===c&&void 0===_&&(g=!0)}var S=null;switch(m){case"top":S=b-h;break;case"bottom":S=x-p+h;break;default:var T=e.current.scrollTop;b<T?v="top":x>T+p&&(v="bottom")}null!==S&&S!==e.current.scrollTop&&a(S)}u.current=Jo((function(){g&&o(),s(l-1,v)}))}}(3)}}else s()}}(I,A,V,a,P,G,R,(function(){var e;null===(e=N.current)||void 0===e||e.delayHidden()}));y.useImperativeHandle(t,(function(){return{scrollTo:oe}})),Lo((function(){if(m){var e=A.slice(H,q+1);m(e,A)}}),[H,q,A]);var ae=function(e,t,n,r,i,o){var a=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=i(e,t+n,{}),s=a(e);return y.createElement(Mm,{key:s,setRef:function(t){return r(e,t)}},o)}))}(A,H,q,Y,d,D),se=null;return o&&(se=Wm(Um({},u?"height":"maxHeight",o),Km),x&&(se.overflowY="hidden",T&&(se.pointerEvents="none"))),y.createElement("div",Gm({style:Wm(Wm({},l),{},{position:"relative"}),className:M},b),y.createElement(g,{className:"".concat(r,"-holder"),style:se,ref:I,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==k&&R(t),null===v||void 0===v||v(e)}},y.createElement(mm,{prefixCls:r,height:Z,offset:X,onInnerResize:G,ref:O},ae)),x&&y.createElement(Cm,{ref:N,prefixCls:r,scrollTop:k,height:o,scrollHeight:Z,count:A.length,onScroll:function(e){R(e)},onStartMove:function(){C(!0)},onStopMove:function(){C(!1)}}))}var $m=y.forwardRef(Jm);$m.displayName="List";var Qm=$m;var ey=y.createContext(null),ty=["disabled","title","children","style","className"],ny=function(e,t){var n=y.useContext(sm),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,s=n.searchValue,u=n.toggleOpen,l=n.notFoundContent,c=n.onPopupScroll,d=y.useContext(ey),f=d.flattenOptions,h=d.onActiveValue,p=d.defaultActiveFirstOption,g=d.onSelect,v=d.menuItemSelectedIcon,b=d.rawValues,x=d.fieldNames,w=d.virtual,E=d.listHeight,k=d.listItemHeight,_="".concat(r,"-item"),S=Li((function(){return f}),[o,f],(function(e,t){return t[0]&&e[1]!==t[1]})),T=y.useRef(null),C=function(e){e.preventDefault()},M=function(e){T.current&&T.current.scrollTo({index:e})},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=S.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=S[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},I=y.useState((function(){return A(0)})),O=(0,m.Z)(I,2),N=O[0],P=O[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(e);var n={source:t?"keyboard":"mouse"},r=S[e];r?h(r.value,e,n):h(null,-1,n)};(0,y.useEffect)((function(){D(!1!==p?A(0):-1)}),[S.length,s]),(0,y.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&o&&1===b.size){var e=Array.from(b)[0],t=S.findIndex((function(t){return t.data.value===e}));-1!==t&&(D(t),M(t))}}));o&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,s]);var R=function(e){void 0!==e&&g(e,{selected:!b.has(e)}),a||u(!1)};if(y.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Fo.N:case Fo.P:case Fo.UP:case Fo.DOWN:var r=0;if(t===Fo.UP?r=-1:t===Fo.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Fo.N?r=1:t===Fo.P&&(r=-1)),0!==r){var i=A(N+r,r);M(i),D(i,!0)}break;case Fo.ENTER:var a=S[N];a&&!a.data.disabled?R(a.value):R(void 0),o&&e.preventDefault();break;case Fo.ESC:u(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){M(e)}}})),0===S.length)return y.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(_,"-empty"),onMouseDown:C},l);var L=Object.keys(x).map((function(e){return x[e]})),j=function(e){return e.label},F=function(e){var t=S[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,a=rg(n,!0),s=j(t);return t?y.createElement("div",It({"aria-label":"string"!==typeof s||o?null:s},a,{key:e,role:o?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":b.has(r)}),r):null};return y.createElement(y.Fragment,null,y.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},F(N-1),F(N),F(N+1)),y.createElement(Qm,{itemKey:"key",ref:T,data:S,height:E,itemHeight:k,fullHeight:!1,onMouseDown:C,onScroll:c,virtual:w},(function(e,t){var n,r=e.group,i=e.groupOption,o=e.data,a=e.label,s=e.value,u=o.key;if(r)return y.createElement("div",{className:In()(_,"".concat(_,"-group"))},void 0!==a?a:u);var l=o.disabled,c=o.title,d=(o.children,o.style),f=o.className,h=lr(dr(o,ty),L),p=b.has(s),g="".concat(_,"-option"),m=In()(_,g,f,(n={},(0,xe.Z)(n,"".concat(g,"-grouped"),i),(0,xe.Z)(n,"".concat(g,"-active"),N===t&&!l),(0,xe.Z)(n,"".concat(g,"-disabled"),l),(0,xe.Z)(n,"".concat(g,"-selected"),p),n)),x=j(e),w=!v||"function"===typeof v||p,E="number"===typeof x?x:x||s,k="string"===typeof E||"number"===typeof E?E.toString():void 0;return void 0!==c&&(k=c),y.createElement("div",It({},h,{"aria-selected":p,className:m,title:k,onMouseMove:function(){N===t||l||D(t)},onClick:function(){l||R(s)},style:d}),y.createElement("div",{className:"".concat(g,"-content")},E),y.isValidElement(v)||p,w&&y.createElement(qv,{className:"".concat(_,"-option-state"),customizeIcon:v,customizeIconProps:{isSelected:p}},p?"\u2713":null))})))},ry=y.forwardRef(ny);ry.displayName="OptionList";var iy=ry,oy=function(){return null};oy.isSelectOption=!0;var ay=oy,sy=function(){return null};sy.isSelectOptGroup=!0;var uy=sy,ly=["children","value"],cy=["children"];function dy(e){var t=e.key,n=e.props,r=n.children,i=n.value;return Ee({key:t,value:void 0!==i?i:t,children:r},dr(n,ly))}function fy(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hi(e).map((function(e,n){if(!y.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,o=e.props,a=o.children,s=dr(o,cy);return t||!r?dy(e):Ee(Ee({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:fy(a)})})).filter((function(e){return e}))}function hy(e,t,n){return y.useMemo((function(){var r=e;!e&&(r=fy(t));var i=new Map,o=new Map;return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<t.length;a+=1){var s=t[a];!s[n.options]||r?(i.set(s[n.value],s),o.set(s[n.label],s)):e(s[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:o}}),[e,t,n])}var py=0,gy=Kr();function vy(e){var t=y.useState(),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){i("rc_select_".concat(function(){var e;return gy?(e=py,py+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}function my(e){var t=y.useRef();t.current=e;var n=y.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}function yy(e,t){return $v(e).join("").toUpperCase().includes(t)}var by=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],xy=["inputValue"];var wy=y.forwardRef((function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,o=void 0===i?"rc-select":i,a=e.backfill,s=e.fieldNames,u=e.inputValue,l=e.searchValue,c=e.onSearch,d=e.autoClearSearchValue,f=void 0===d||d,h=e.onSelect,p=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,b=e.filterOption,x=e.filterSort,w=e.optionFilterProp,E=e.optionLabelProp,k=e.options,_=e.children,S=e.defaultActiveFirstOption,T=e.menuItemSelectedIcon,C=e.virtual,M=e.listHeight,A=void 0===M?200:M,I=e.listItemHeight,O=void 0===I?20:I,N=e.value,P=e.defaultValue,D=e.labelInValue,R=e.onChange,L=dr(e,by),j=vy(n),F=cm(r),B=!(k||!_),z=y.useMemo((function(){return(void 0!==b||"combobox"!==r)&&b}),[b,r]),Y=y.useMemo((function(){return Gv(s,B)}),[JSON.stringify(s),B]),G=Zi("",{value:void 0!==l?l:u,postState:function(e){return e||""}}),V=(0,m.Z)(G,2),W=V[0],U=V[1],Z=hy(k,_,Y),H=Z.valueOptions,q=Z.labelOptions,X=Z.options,K=y.useCallback((function(e){return $v(e).map((function(e){var t,n,r,i,o;(function(e){return!e||"object"!==(0,hr.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var a,s=H.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[E||Y.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[Y,E,H]),J=Zi(P,{value:N}),$=(0,m.Z)(J,2),Q=$[0],ee=$[1],te=function(e,t){var n=y.useRef({values:new Map,options:new Map}),r=y.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=e.map((function(e){var t;return void 0===e.label?Ee(Ee({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]);return[r,y.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(y.useMemo((function(){var e,t=K(Q);return"combobox"!==r||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[Q,K,r]),H),ne=(0,m.Z)(te,2),re=ne[0],ie=ne[1],oe=y.useMemo((function(){if(!r&&1===re.length){var e=re[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return re.map((function(e){var t;return Ee(Ee({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,re]),ae=y.useMemo((function(){return new Set(re.map((function(e){return e.value})))}),[re]);y.useEffect((function(){if("combobox"===r){var e,t=null===(e=re[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&U(String(t))}}),[re]);var se=my((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,xe.Z)(n,Y.value,e),(0,xe.Z)(n,Y.label,r),n})),ue=y.useMemo((function(){if("tags"!==r)return X;var e=(0,Mn.Z)(X);return(0,Mn.Z)(re).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return H.has(e)})(n)||e.push(se(n,t.label))})),e}),[se,X,H,re,r]),le=function(e,t,n,r,i){return y.useMemo((function(){if(!n||!1===r)return e;var o=t.options,a=t.label,s=t.value,u=[],l="function"===typeof r,c=n.toUpperCase(),d=l?r:function(e,t){return i?yy(t[i],c):t[o]?yy(t["children"!==a?a:"label"],c):yy(t[s],c)},f=l?function(e){return Vv(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(d(n,f(e)))u.push(e);else{var t=e[o].filter((function(e){return d(n,f(e))}));t.length&&u.push(Ee(Ee({},e),{},(0,xe.Z)({},o,t)))}else d(n,f(e))&&u.push(e)})),u}),[e,r,i,n,t])}(ue,Y,W,z,w),ce=y.useMemo((function(){return"tags"!==r||!W||le.some((function(e){return e[w||"value"]===W}))?le:[se(W)].concat((0,Mn.Z)(le))}),[se,w,r,le,W]),de=y.useMemo((function(){return x?(0,Mn.Z)(ce).sort((function(e,t){return x(e,t)})):ce}),[ce,x]),fe=y.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=Gv(n,!1),a=o.label,s=o.value,u=o.options;function l(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:Yv(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var c=n;void 0===c&&r&&(c=e.label),i.push({key:Yv(e,i.length),group:!0,data:e,label:c}),l(e[u],!0)}}))}return l(e,!1),i}(de,{fieldNames:Y,childrenAsData:B})}),[de,Y,B]),he=function(e){var t=K(e);if(ee(t),R&&(t.length!==re.length||t.some((function(e,t){var n;return(null===(n=re[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return Vv(ie(e.value))}));R(F?n:n[0],F?r:r[0])}},pe=y.useState(null),ge=(0,m.Z)(pe,2),ve=ge[0],me=ge[1],ye=y.useState(0),be=(0,m.Z)(ye,2),we=be[0],ke=be[1],_e=void 0!==S?S:"combobox"!==r,Se=y.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;ke(t),a&&"combobox"===r&&null!==e&&"keyboard"===o&&me(String(e))}),[a,r]),Te=function(e,t){var n=function(){var t,n=ie(e);return[D?{label:null===n||void 0===n?void 0:n[Y.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Vv(n)]};if(t&&h){var r=n(),i=(0,m.Z)(r,2),o=i[0],a=i[1];h(o,a)}else if(!t&&p){var s=n(),u=(0,m.Z)(s,2),l=u[0],c=u[1];p(l,c)}},Ce=my((function(e,t){var n,i=!F||t.selected;n=i?F?[].concat((0,Mn.Z)(re),[e]):[e]:re.filter((function(t){return t.value!==e})),he(n),Te(e,i),"combobox"===r?me(""):cm&&!f||(U(""),me(""))})),Me=y.useMemo((function(){var e=!1!==C&&!1!==v;return Ee(Ee({},Z),{},{flattenOptions:fe,onActiveValue:Se,defaultActiveFirstOption:_e,onSelect:Ce,menuItemSelectedIcon:T,rawValues:ae,fieldNames:Y,virtual:e,listHeight:A,listItemHeight:O,childrenAsData:B})}),[Z,fe,Se,_e,Ce,T,ae,Y,C,v,A,O,B]);return y.createElement(ey.Provider,{value:Me},y.createElement(fm,It({},L,{id:j,prefixCls:o,ref:t,omitDomProps:xy,mode:r,displayValues:oe,onDisplayValuesChange:function(e,t){he(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Te(e.value,!1)}))},searchValue:W,onSearch:function(e,t){if(U(e),me(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&he(e),null===c||void 0===c||c(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat((0,Mn.Z)(ae),[n])));he(i),Te(n,!0),U("")}}},onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=q.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,Mn.Z)(ae),(0,Mn.Z)(t))));he(n),n.forEach((function(e){Te(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:iy,emptyOptions:!fe.length,activeValue:ve,activeDescendantId:"".concat(j,"_list_").concat(we)})))}));var Ey=wy;Ey.Option=ay,Ey.OptGroup=uy;var ky=Ey,_y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Sy=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:_y}))};Sy.displayName="DownOutlined";var Ty=y.forwardRef(Sy),Cy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},My=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Cy}))};My.displayName="SearchOutlined";var Ay=y.forwardRef(My);var Iy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Oy="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ny=function(e,t){var n,r,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.className,u=e.getPopupContainer,l=e.dropdownClassName,c=e.listHeight,d=void 0===c?256:c,f=e.placement,h=e.listItemHeight,p=void 0===h?24:h,g=e.size,v=e.notFoundContent,m=e.status,b=e.showArrow,x=Iy(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),w=y.useContext($n),E=w.getPopupContainer,k=w.getPrefixCls,_=w.renderEmpty,S=w.direction,T=w.virtual,C=w.dropdownMatchSelectWidth,M=y.useContext(cl),A=k("select",i),I=k(),O=y.useMemo((function(){var e=x.mode;if("combobox"!==e)return e===Oy?"combobox":e}),[x.mode]),N="multiple"===O||"tags"===O,P=void 0!==b?b:x.loading||!(N||"combobox"===O),D=(0,y.useContext)(Bc),R=D.status,L=D.hasFeedback,j=nd(R,m);r=void 0!==v?v:"combobox"===O?null:_("Select");var F=function(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,i=e.removeIcon,o=e.loading,a=e.multiple,s=e.hasFeedback,u=e.status,l=e.prefixCls,c=e.showArrow,d=n;n||(d=y.createElement(Xc,null));var f=function(e){return y.createElement(y.Fragment,null,!1!==c&&e,s&&ed(l,u))},h=null;if(void 0!==t)h=f(t);else if(o)h=f(y.createElement($c,{spin:!0}));else{var p="".concat(l,"-suffix");h=function(e){var t=e.open,n=e.showSearch;return f(t&&n?y.createElement(Ay,{className:p}):y.createElement(Ty,{className:p}))}}return{clearIcon:d,suffixIcon:h,itemIcon:void 0!==r?r:a?y.createElement(to,null):null,removeIcon:void 0!==i?i:y.createElement(Ip,null)}}(It(It({},x),{multiple:N,status:j,hasFeedback:L,showArrow:P,prefixCls:A})),B=F.suffixIcon,z=F.itemIcon,Y=F.removeIcon,G=F.clearIcon,V=lr(x,["suffixIcon","itemIcon"]),W=In()(l,(0,xe.Z)({},"".concat(A,"-dropdown-").concat(S),"rtl"===S)),U=g||M,Z=In()((n={},(0,xe.Z)(n,"".concat(A,"-lg"),"large"===U),(0,xe.Z)(n,"".concat(A,"-sm"),"small"===U),(0,xe.Z)(n,"".concat(A,"-rtl"),"rtl"===S),(0,xe.Z)(n,"".concat(A,"-borderless"),!a),n),td(A,j,L),s);return y.createElement(ky,It({ref:t,virtual:T,dropdownMatchSelectWidth:C},V,{transitionName:zu(I,Bu(f),x.transitionName),listHeight:d,listItemHeight:p,mode:O,prefixCls:A,placement:void 0!==f?f:"rtl"===S?"bottomRight":"bottomLeft",direction:S,inputIcon:B,menuItemSelectedIcon:z,removeIcon:Y,clearIcon:G,notFoundContent:r,className:Z,getPopupContainer:u||E,dropdownClassName:W,showArrow:L||b}))},Py=y.forwardRef(Ny);Py.SECRET_COMBOBOX_MODE_DO_NOT_USE=Oy,Py.Option=ay,Py.OptGroup=uy;var Dy=Py,Ry=function(e){return y.createElement(Dy,It({size:"small"},e))};Ry.Option=Dy.Option;var Ly=Ry;function jy(){var e=y.useReducer((function(e){return e+1}),0);return(0,m.Z)(e,2)[1]}var Fy=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,y.useRef)({}),n=jy();return(0,y.useEffect)((function(){var r=Zp.subscribe((function(r){t.current=r,e&&n()}));return function(){return Zp.unsubscribe(r)}}),[]),t.current},By=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zy=function(e){var t=e.prefixCls,n=e.selectPrefixCls,r=e.className,i=e.size,o=e.locale,a=e.selectComponentClass,s=e.responsive,u=By(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),l=Fy(s).xs,c=y.useContext($n),d=c.getPrefixCls,f=c.direction,h=d("pagination",t),p=function(e){var t=It(It({},e),o),c="small"===i||!(!l||i||!s),p=d("select",n),g=In()((0,xe.Z)({mini:c},"".concat(h,"-rtl"),"rtl"===f),r);return y.createElement(Dv,It({},function(){var e=y.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),t=y.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},y.createElement(Si,null)),n=y.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},y.createElement(Ei,null)),r=y.createElement("a",{className:"".concat(h,"-item-link")},y.createElement("div",{className:"".concat(h,"-item-container")},y.createElement(jv,{className:"".concat(h,"-item-link-icon")}),e)),i=y.createElement("a",{className:"".concat(h,"-item-link")},y.createElement("div",{className:"".concat(h,"-item-container")},y.createElement(zv,{className:"".concat(h,"-item-link-icon")}),e));if("rtl"===f){var o=[n,t];t=o[0],n=o[1];var a=[i,r];r=a[0],i=a[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}}(),u,{prefixCls:h,selectPrefixCls:p,className:g,selectComponentClass:a||(c?Ly:Dy),locale:t}))};return y.createElement(Gn,{componentName:"Pagination",defaultLocale:Rn},p)},Yy=zy,Gy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Vy(e,t,n){var r=t&&"object"===(0,hr.Z)(t)?t:{},i=r.total,o=void 0===i?0:i,a=Gy(r,["total"]),s=(0,y.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(l,a,{total:o>0?o:e}),f=Math.ceil((o||e)/d.pageSize);d.current>f&&(d.current=f||1);var h=function(e,t){c({current:null!==e&&void 0!==e?e:1,pageSize:t||d.pageSize})};return!1===t?[{},function(){}]:[It(It({},d),{onChange:function(e,r){var i;t&&(null===(i=t.onChange)||void 0===i||i.call(t,e,r)),h(e,r),n(e,r||(null===d||void 0===d?void 0:d.pageSize))}}),h]}var Wy=y.createContext(null),Uy=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,o="".concat(t,"-indent-unit"),a=[],s=0;s<n;s+=1){var u;a.push(y.createElement("span",{key:s,className:In()(o,(u={},(0,xe.Z)(u,"".concat(o,"-start"),r[s]),(0,xe.Z)(u,"".concat(o,"-end"),i[s]),u))}))}return y.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)},Zy=y.memo(Uy),Hy=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],qy="open",Xy="close",Ky=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,mb(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,mb(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,mb(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!i;o(t,mb(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,mb(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,mb(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,mb(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,Uo.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,Uo.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,Uo.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,Uo.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Uo.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,Uo.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,mb(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?qy:Xy},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(mb(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?y.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(Ee(Ee({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?y.createElement("span",{className:In()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=In()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?qy:Xy)),o=e.renderSwitcherIconDom(!1);return!1!==o?y.createElement("span",{onClick:e.onExpand,className:i},o):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,o=e.props.context.prefixCls,a=e.isDisabled(),s=e.isCheckable();if(!s)return null;var u="boolean"!==typeof s?s:null;return y.createElement("span",{className:In()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&r&&"".concat(o,"-checkbox-indeterminate"),(a||i)&&"".concat(o,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return y.createElement("span",{className:In()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,o=i.title,a=i.selected,s=i.icon,u=i.loading,l=i.data,c=e.props.context,d=c.prefixCls,f=c.showIcon,h=c.icon,p=c.loadData,g=c.titleRender,v=e.isDisabled(),m="".concat(d,"-node-content-wrapper");if(f){var b=s||h;t=b?y.createElement("span",{className:In()("".concat(d,"-iconEle"),"".concat(d,"-icon__customize"))},"function"===typeof b?b(e.props):b):e.renderIcon()}else p&&u&&(t=e.renderIcon());n="function"===typeof o?o(l):g?g(l):o;var x=y.createElement("span",{className:"".concat(d,"-title")},n);return y.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof o?o:"",className:In()("".concat(m),"".concat(m,"-").concat(e.getNodeState()||"normal"),!v&&(a||r)&&"".concat(d,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,x,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,o=i.draggable,a=i.dropLevelOffset,s=i.dropPosition,u=i.prefixCls,l=i.indent,c=i.dropIndicatorRender,d=i.dragOverNodeKey,f=i.direction;return!n&&!1!==o&&d===r?c({dropPosition:s,dropLevelOffset:a,indent:l,prefixCls:u,direction:f}):null},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,i=t.style,o=t.dragOver,a=t.dragOverGapTop,s=t.dragOverGapBottom,u=t.isLeaf,l=t.isStart,c=t.isEnd,d=t.expanded,f=t.selected,h=t.checked,p=t.halfChecked,g=t.loading,v=t.domRef,m=t.active,b=(t.data,t.onMouseMove),x=t.selectable,w=dr(t,Hy),E=this.props.context,k=E.prefixCls,_=E.filterTreeNode,S=E.keyEntities,T=E.dropContainerKey,C=E.dropTargetKey,M=E.draggingNodeKey,A=this.isDisabled(),I=rg(w,{aria:!0,data:!0}),O=(S[n]||{}).level,N=c[c.length-1],P=this.isDraggable(),D=!A&&P,R=M===n,L=void 0!==x?{"aria-selected":!!x}:void 0;return y.createElement("div",It({ref:v,className:In()(r,"".concat(k,"-treenode"),(e={},(0,xe.Z)(e,"".concat(k,"-treenode-disabled"),A),(0,xe.Z)(e,"".concat(k,"-treenode-switcher-").concat(d?"open":"close"),!u),(0,xe.Z)(e,"".concat(k,"-treenode-checkbox-checked"),h),(0,xe.Z)(e,"".concat(k,"-treenode-checkbox-indeterminate"),p),(0,xe.Z)(e,"".concat(k,"-treenode-selected"),f),(0,xe.Z)(e,"".concat(k,"-treenode-loading"),g),(0,xe.Z)(e,"".concat(k,"-treenode-active"),m),(0,xe.Z)(e,"".concat(k,"-treenode-leaf-last"),N),(0,xe.Z)(e,"".concat(k,"-treenode-draggable"),D),(0,xe.Z)(e,"dragging",R),(0,xe.Z)(e,"drop-target",C===n),(0,xe.Z)(e,"drop-container",T===n),(0,xe.Z)(e,"drag-over",!A&&o),(0,xe.Z)(e,"drag-over-gap-top",!A&&a),(0,xe.Z)(e,"drag-over-gap-bottom",!A&&s),(0,xe.Z)(e,"filter-node",_&&_(mb(this.props))),e)),style:i,draggable:D,"aria-grabbed":R,onDragStart:D?this.onDragStart:void 0,onDragEnter:P?this.onDragEnter:void 0,onDragOver:P?this.onDragOver:void 0,onDragLeave:P?this.onDragLeave:void 0,onDrop:P?this.onDrop:void 0,onDragEnd:P?this.onDragEnd:void 0,onMouseMove:b},L,I),y.createElement(Zy,{prefixCls:k,level:O,isStart:l,isEnd:c}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(y.Component),Jy=function(e){return y.createElement(Wy.Consumer,null,(function(t){return y.createElement(Ky,It({},e,{context:t}))}))};Jy.displayName="TreeNode",Jy.defaultProps={title:"---"},Jy.isTreeNode=1;var $y=Jy;function Qy(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function eb(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function tb(e){return e.split("-")}function nb(e,t){return"".concat(e,"-").concat(t)}function rb(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function ib(e){if(e.parent){var t=tb(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function ob(e,t,n,r,i,o,a,s,u,l){var c,d=e.clientX,f=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,g=h.height,v=(("rtl"===l?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-d)-12)/r,m=s[n.props.eventKey];if(f<p+g/2){var y=a.findIndex((function(e){return e.key===m.key})),b=a[y<=0?0:y-1].key;m=s[b]}var x=m.key,w=m,E=m.key,k=0,_=0;if(!u.includes(x))for(var S=0;S<v&&ib(m);S+=1)m=m.parent,_+=1;var T=t.props.data,C=m.node,M=!0;return function(e){var t=tb(e.pos);return 0===Number(t[t.length-1])}(m)&&0===m.level&&f<p+g/2&&o({dragNode:T,dropNode:C,dropPosition:-1})&&m.key===n.props.eventKey?k=-1:(w.children||[]).length&&u.includes(E)?o({dragNode:T,dropNode:C,dropPosition:0})?k=0:M=!1:0===_?v>-1.5?o({dragNode:T,dropNode:C,dropPosition:1})?k=1:M=!1:o({dragNode:T,dropNode:C,dropPosition:0})?k=0:o({dragNode:T,dropNode:C,dropPosition:1})?k=1:M=!1:o({dragNode:T,dropNode:C,dropPosition:1})?k=1:M=!1,{dropPosition:k,dropLevelOffset:_,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:E,dropContainerKey:0===k?null:(null===(c=m.parent)||void 0===c?void 0:c.key)||null,dropAllowed:M}}function ab(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function sb(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,hr.Z)(e))return Xr(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function ub(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var o=i.parent;i.node.disabled||o&&r(o.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,Mn.Z)(n)}var lb=["children"];function cb(e,t){return null!==e&&void 0!==e?e:t}function db(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function fb(e){return function e(t){return Hi(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Xr(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,o=Ee({key:n},dr(r,lb)),a=e(i);return a.length&&(o.children=a),o})).filter((function(e){return e}))}(e)}function hb(e,t,n){var r=db(n),i=r._title,o=r.key,a=r.children,s=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(l,c){for(var d,f=nb(r?r.pos:"0",c),h=cb(l[o],f),p=0;p<i.length;p+=1){var g=i[p];if(void 0!==l[g]){d=l[g];break}}var v=Ee(Ee({},lr(l,[].concat((0,Mn.Z)(i),[o,a]))),{},{title:d,key:h,parent:r,pos:f,children:null,data:l,isStart:[].concat((0,Mn.Z)(r?r.isStart:[]),[0===c]),isEnd:[].concat((0,Mn.Z)(r?r.isEnd:[]),[c===n.length-1])});return u.push(v),!0===t||s.has(h)?v.children=e(l[a]||[],v):v.children=[],v}))}(e),u}function pb(e,t,n){var r,i=("object"===(0,hr.Z)(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,a=i.externalGetKey,s=db(i.fieldNames),u=s.key,l=s.children,c=o||l;a?"string"===typeof a?r=function(e){return e[a]}:"function"===typeof a&&(r=function(e){return a(e)}):r=function(e,t){return cb(e[u],t)},function n(i,o,a,s){var u=i?i[c]:e,l=i?nb(a.pos,o):"0",d=i?[].concat((0,Mn.Z)(s),[i]):[];if(i){var f=r(i,l),h={node:i,index:o,pos:l,key:f,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:i,pos:l,level:a?a.level+1:-1},d)}))}(null)}function gb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,u=arguments.length>2?arguments[2]:void 0,l=o||u,c={},d={},f={posEntities:c,keyEntities:d};return n&&(f=n(f)||f),pb(e,(function(e){var t=e.node,n=e.index,i=e.pos,o=e.key,a=e.parentPos,s=e.level,u={node:t,nodes:e.nodes,index:n,key:o,pos:i,level:s},l=cb(o,i);c[i]=u,d[l]=u,u.parent=c[a],u.parent&&(u.parent.children=u.parent.children||[],u.parent.children.push(u)),r&&r(u,f)}),{externalGetKey:l,childrenPropName:a,fieldNames:s}),i&&i(f),f}function vb(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,o=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,u=t.dragOverNodeKey,l=t.dropPosition,c=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(c?c.pos:""),dragOver:u===e&&0===l,dragOverGapTop:u===e&&-1===l,dragOverGapBottom:u===e&&1===l}}function mb(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,l=e.dragOverGapTop,c=e.dragOverGapBottom,d=e.pos,f=e.active,h=e.eventKey,p=Ee(Ee({},t),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:l,dragOverGapBottom:c,pos:d,active:f,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Xr(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function yb(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function bb(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function xb(e,t,n,r){var i,o=[];i=r||bb;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),u=new Map,l=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=u.get(r);i||(i=new Set,u.set(r,i)),i.add(t),l=Math.max(l,r)})),Xr(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;i.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),u||!n&&!o.has(t)||(u=!0)})),a&&i.add(t.key),u&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(yb(o,i))}}(s,u,l,i):function(e,t,n,r,i){for(var o=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||a.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var u=new Set,l=r;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!u.has(e.parent.key))if(i(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||o.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(yb(a,o))}}(s,t.halfCheckedKeys,u,l,i),a}var wb=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:Ee(Ee({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,Nn.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.name,a=t.id,s=t.type,u=t.disabled,l=t.readOnly,c=t.tabIndex,d=t.onClick,f=t.onFocus,h=t.onBlur,p=t.onKeyDown,g=t.onKeyPress,v=t.onKeyUp,m=t.autoFocus,b=t.value,x=t.required,w=dr(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),k=this.state.checked,_=In()(n,r,(e={},(0,xe.Z)(e,"".concat(n,"-checked"),k),(0,xe.Z)(e,"".concat(n,"-disabled"),u),e));return y.createElement("span",{className:_,style:i},y.createElement("input",It({name:o,id:a,type:s,required:x,readOnly:l,disabled:u,tabIndex:c,className:"".concat(n,"-input"),checked:!!k,onClick:d,onFocus:f,onBlur:h,onKeyUp:v,onKeyDown:p,onKeyPress:g,onChange:this.handleChange,autoFocus:m,ref:this.saveInput,value:b},E)),y.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Ee(Ee({},t),{},{checked:e.checked}):null}}]),n}(y.Component);wb.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Eb=wb,kb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_b=y.createContext(null),Sb=function(e,t){var n=e.defaultValue,r=e.children,i=e.options,o=void 0===i?[]:i,a=e.prefixCls,s=e.className,u=e.style,l=e.onChange,c=kb(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),d=y.useContext($n),f=d.getPrefixCls,h=d.direction,p=y.useState(c.value||n||[]),g=(0,m.Z)(p,2),v=g[0],b=g[1],x=y.useState([]),w=(0,m.Z)(x,2),E=w[0],k=w[1];y.useEffect((function(){"value"in c&&b(c.value||[])}),[c.value]);var _=function(){return o.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},S=f("checkbox",a),T="".concat(S,"-group"),C=lr(c,["value","disabled"]);o&&o.length>0&&(r=_().map((function(e){return y.createElement(Ob,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:-1!==v.indexOf(e.value),onChange:e.onChange,className:"".concat(T,"-item"),style:e.style},e.label)})));var M={toggleOption:function(e){var t=v.indexOf(e.value),n=(0,Mn.Z)(v);-1===t?n.push(e.value):n.splice(t,1),"value"in c||b(n);var r=_();null===l||void 0===l||l(n.filter((function(e){return-1!==E.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:v,disabled:c.disabled,name:c.name,registerValue:function(e){k((function(t){return[].concat((0,Mn.Z)(t),[e])}))},cancelValue:function(e){k((function(t){return t.filter((function(t){return t!==e}))}))}},A=In()(T,(0,xe.Z)({},"".concat(T,"-rtl"),"rtl"===h),s);return y.createElement("div",It({className:A,style:u},C,{ref:t}),y.createElement(_b.Provider,{value:M},r))},Tb=y.forwardRef(Sb),Cb=y.memo(Tb),Mb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ab=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.children,a=e.indeterminate,s=void 0!==a&&a,u=e.style,l=e.onMouseEnter,c=e.onMouseLeave,d=e.skipGroup,f=void 0!==d&&d,h=Mb(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=y.useContext($n),g=p.getPrefixCls,v=p.direction,m=y.useContext(_b),b=y.useRef(h.value);y.useEffect((function(){null===m||void 0===m||m.registerValue(h.value),zi("checked"in h||!!m||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),y.useEffect((function(){if(!f)return h.value!==b.current&&(null===m||void 0===m||m.cancelValue(b.current),null===m||void 0===m||m.registerValue(h.value),b.current=h.value),function(){return null===m||void 0===m?void 0:m.cancelValue(h.value)}}),[h.value]);var x=g("checkbox",r),w=It({},h);m&&!f&&(w.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),m.toggleOption&&m.toggleOption({label:o,value:h.value})},w.name=m.name,w.checked=-1!==m.value.indexOf(h.value),w.disabled=h.disabled||m.disabled);var E=In()((n={},(0,xe.Z)(n,"".concat(x,"-wrapper"),!0),(0,xe.Z)(n,"".concat(x,"-rtl"),"rtl"===v),(0,xe.Z)(n,"".concat(x,"-wrapper-checked"),w.checked),(0,xe.Z)(n,"".concat(x,"-wrapper-disabled"),w.disabled),n),i),k=In()((0,xe.Z)({},"".concat(x,"-indeterminate"),s));return y.createElement("label",{className:E,style:u,onMouseEnter:l,onMouseLeave:c},y.createElement(Eb,It({},w,{prefixCls:x,className:k,ref:t})),void 0!==o&&y.createElement("span",null,o))},Ib=y.forwardRef(Ab);Ib.displayName="Checkbox";var Ob=Ib,Nb=Ob;Nb.Group=Cb,Nb.__ANT_CHECKBOX=!0;var Pb=Nb,Db={adjustX:1,adjustY:1},Rb=[0,0],Lb={topLeft:{points:["bl","tl"],overflow:Db,offset:[0,-4],targetOffset:Rb},topCenter:{points:["bc","tc"],overflow:Db,offset:[0,-4],targetOffset:Rb},topRight:{points:["br","tr"],overflow:Db,offset:[0,-4],targetOffset:Rb},bottomLeft:{points:["tl","bl"],overflow:Db,offset:[0,4],targetOffset:Rb},bottomCenter:{points:["tc","bc"],overflow:Db,offset:[0,4],targetOffset:Rb},bottomRight:{points:["tr","br"],overflow:Db,offset:[0,4],targetOffset:Rb}},jb=Fo.ESC,Fb=Fo.TAB;function Bb(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,i=e.menuRef,o=e.menuClassName,a=e.onVisibleChange,s=function(){t&&r.current&&(r.current.triggerRef.current&&r.current.triggerRef.current.focus(),n(!1),"function"===typeof a&&a(!1))},u=function(e){switch(e.keyCode){case jb:case Fb:s()}};y.useEffect((function(){return t?(setTimeout((function(){!function(){if(i.current){var e,t,n,r=(null===(e=i.current.className)||void 0===e?void 0:e.includes(o))?i.current:null===(t=(n=i.current).querySelector)||void 0===t?void 0:t.call(n,o);r&&r.focus()}}(),window.addEventListener("keydown",u)}),100),function(){window.removeEventListener("keydown",u)}):function(){return null}}),[t]);return{returnFocus:function(){t&&r.current&&r.current.triggerRef.current&&setTimeout((function(){var e,t,n;null===(e=r.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}),100)}}}var zb=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Yb(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,o=void 0===i?"rc-dropdown":i,a=e.transitionName,s=e.animation,u=e.align,l=e.placement,c=void 0===l?"bottomLeft":l,d=e.placements,f=void 0===d?Lb:d,h=e.getPopupContainer,p=e.showAction,g=e.hideAction,v=e.overlayClassName,b=e.overlayStyle,x=e.visible,w=e.trigger,E=void 0===w?["hover"]:w,k=dr(e,zb),_=y.useState(),S=(0,m.Z)(_,2),T=S[0],C=S[1],M="visible"in e?x:T,A=y.useRef(null);y.useImperativeHandle(t,(function(){return A.current}));var I=y.useRef(null),O="".concat(o,"-menu"),N=Bb({visible:M,setTriggerVisible:C,triggerRef:A,menuRef:I,menuClassName:O,onVisibleChange:e.onVisibleChange}).returnFocus,P=function(){var t=e.overlay;return"function"===typeof t?t():t},D=function(t){var n=e.onOverlayClick,r=P().props;C(!1),n&&n(t),r.onClick&&r.onClick(t),N()},R=function(){var e=P(),t={prefixCls:O,onClick:D,ref:Bi(e)?I:void 0};return"string"===typeof e.type&&delete t.prefixCls,y.createElement(y.Fragment,null,r&&y.createElement("div",{className:"".concat(o,"-arrow")}),y.cloneElement(e,t))},L=g;return L||-1===E.indexOf("contextMenu")||(L=["click"]),y.createElement(yu,Ee(Ee({builtinPlacements:f},k),{},{prefixCls:o,ref:A,popupClassName:In()(v,(0,xe.Z)({},"".concat(o,"-show-arrow"),r)),popupStyle:b,action:E,showAction:p,hideAction:L||[],popupPlacement:c,popupAlign:u,popupTransitionName:a,popupAnimation:s,popupVisible:M,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?R:R(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;C(t),"function"===typeof n&&n(t)},getPopupContainer:h}),function(){var t=e.children,n=t.props?t.props:{},r=In()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return M&&t?y.cloneElement(t,{className:r}):t}())}var Gb=y.forwardRef(Yb),Vb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Wb=hf.Group,Ub=function(e){var t=y.useContext($n),n=t.getPopupContainer,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.disabled,l=e.loading,c=e.onClick,d=e.htmlType,f=e.children,h=e.className,p=e.overlay,g=e.trigger,v=e.align,b=e.visible,x=e.onVisibleChange,w=e.placement,E=e.getPopupContainer,k=e.href,_=e.icon,S=void 0===_?y.createElement(Qh,null):_,T=e.title,C=e.buttonsRender,M=void 0===C?function(e){return e}:C,A=e.mouseEnterDelay,I=e.mouseLeaveDelay,O=e.overlayClassName,N=e.overlayStyle,P=e.destroyPopupOnHide,D=Vb(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),R=r("dropdown-button",o),L={align:v,overlay:p,disabled:u,trigger:u?[]:g,onVisibleChange:x,getPopupContainer:E||n,mouseEnterDelay:A,mouseLeaveDelay:I,overlayClassName:O,overlayStyle:N,destroyPopupOnHide:P};"visible"in e&&(L.visible=b),L.placement="placement"in e?w:"rtl"===i?"bottomLeft":"bottomRight";var j=M([y.createElement(hf,{type:s,disabled:u,loading:l,onClick:c,htmlType:d,href:k,title:T},f),y.createElement(hf,{type:s,icon:S})]),F=(0,m.Z)(j,2),B=F[0],z=F[1];return y.createElement(Wb,It({},D,{className:In()(R,h)}),B,y.createElement(qb,L,z))};Ub.__ANT_BUTTON=!0;var Zb=Ub,Hb=(Nu("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom"),function(e){var t,n=y.useContext($n),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.arrow,s=e.prefixCls,u=e.children,l=e.trigger,c=e.disabled,d=e.getPopupContainer,f=e.overlayClassName,h=i("dropdown",s),p=y.Children.only(u),g=Ou(p,{className:In()("".concat(h,"-trigger"),(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o),p.props.className),disabled:c}),v=In()(f,(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o)),m=c?[]:l;m&&-1!==m.indexOf("contextMenu")&&(t=!0);var b=Au({arrowPointAtCenter:"object"===(0,hr.Z)(a)&&a.pointAtCenter,autoAdjustOverflow:!0});return y.createElement(Gb,It({alignPoint:t},e,{builtinPlacements:b,arrow:!!a,overlayClassName:v,prefixCls:h,getPopupContainer:d||r,transitionName:function(){var t=i(),n=e.placement,r=void 0===n?"":n,o=e.transitionName;return void 0!==o?o:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:m,overlay:function(){return function(t){var n,r=e.overlay;n="function"===typeof r?r():r;var i=(n=y.Children.only("string"===typeof n?y.createElement("span",null,n):n)).props;zi(!i.mode||"vertical"===i.mode,"Dropdown",'mode="'.concat(i.mode,"\" is not supported for Dropdown's Menu."));var o=i.selectable,a=void 0!==o&&o,s=i.expandIcon,u="undefined"!==typeof s&&y.isValidElement(s)?s:y.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},y.createElement(Ei,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:Ou(n,{mode:"vertical",selectable:a,expandIcon:u})}(h)},placement:function(){var t=e.placement;if(!t)return"rtl"===o?"bottomRight":"bottomLeft";if(t.includes("Center")){var n=t.slice(0,t.indexOf("Center"));return zi(!t.includes("Center"),"Dropdown","You are using '".concat(t,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return t}()}),g)});Hb.Button=Zb,Hb.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var qb=Hb,Xb=qb,Kb=y.createContext(null),Jb=Kb.Provider,$b=Kb,Qb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ex=function(e,t){var n,r=y.useContext($b),i=y.useContext($n),o=i.getPrefixCls,a=i.direction,s=Fi(t,y.useRef());y.useEffect((function(){zi(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var u=e.prefixCls,l=e.className,c=e.children,d=e.style,f=Qb(e,["prefixCls","className","children","style"]),h=o("radio",u),p=It({},f);r&&(p.name=r.name,p.onChange=function(t){var n,i;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,t)},p.checked=e.value===r.value,p.disabled=e.disabled||r.disabled);var g=In()("".concat(h,"-wrapper"),(n={},(0,xe.Z)(n,"".concat(h,"-wrapper-checked"),p.checked),(0,xe.Z)(n,"".concat(h,"-wrapper-disabled"),p.disabled),(0,xe.Z)(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),l);return y.createElement("label",{className:g,style:d,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},y.createElement(Eb,It({},p,{type:"radio",prefixCls:h,ref:s})),void 0!==c?y.createElement("span",null,c):null)},tx=y.forwardRef(ex);tx.displayName="Radio";var nx=tx;var rx=y.forwardRef((function(e,t){var n=y.useContext($n),r=n.getPrefixCls,i=n.direction,o=y.useContext(cl),a=Zi(e.defaultValue,{value:e.value}),s=(0,m.Z)(a,2),u=s[0],l=s[1];return y.createElement(Jb,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||l(r);var i=e.onChange;i&&r!==n&&i(t)},value:u,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,s=e.className,l=void 0===s?"":s,c=e.options,d=e.optionType,f=e.buttonStyle,h=void 0===f?"outline":f,p=e.disabled,g=e.children,v=e.size,m=e.style,b=e.id,x=e.onMouseEnter,w=e.onMouseLeave,E=r("radio",a),k="".concat(E,"-group"),_=g;if(c&&c.length>0){var S="button"===d?"".concat(E,"-button"):E;_=c.map((function(e){return"string"===typeof e||"number"===typeof e?y.createElement(nx,{key:e.toString(),prefixCls:S,disabled:p,value:e,checked:u===e},e):y.createElement(nx,{key:"radio-group-value-options-".concat(e.value),prefixCls:S,disabled:e.disabled||p,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var T=v||o,C=In()(k,"".concat(k,"-").concat(h),(n={},(0,xe.Z)(n,"".concat(k,"-").concat(T),T),(0,xe.Z)(n,"".concat(k,"-rtl"),"rtl"===i),n),l);return y.createElement("div",It({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:C,style:m,onMouseEnter:x,onMouseLeave:w,id:b,ref:t}),_)}())})),ix=y.memo(rx),ox=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ax=function(e,t){var n=y.useContext($b),r=y.useContext($n).getPrefixCls,i=e.prefixCls,o=ox(e,["prefixCls"]),a=r("radio-button",i);return n&&(o.checked=e.value===n.value,o.disabled=e.disabled||n.disabled),y.createElement(nx,It({prefixCls:a},o,{type:"radio",ref:t}))},sx=y.forwardRef(ax),ux=nx;ux.Button=sx,ux.Group=ix;var lx=ux,cx={},dx="SELECT_ALL",fx="SELECT_INVERT",hx="SELECT_NONE",px=[];function gx(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,hr.Z)(e)&&t in e&&(n=[].concat((0,Mn.Z)(n),(0,Mn.Z)(gx(e[t],t))))})),n}function vx(e,t){var n=e||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,u=n.onSelect,l=n.onSelectAll,c=n.onSelectInvert,d=n.onSelectNone,f=n.onSelectMultiple,h=n.columnWidth,p=n.type,g=n.selections,v=n.fixed,b=n.renderCell,x=n.hideSelectAll,w=n.checkStrictly,E=void 0===w||w,k=t.prefixCls,_=t.data,S=t.pageData,T=t.getRecordByKey,C=t.getRowKey,M=t.expandType,A=t.childrenColumnName,I=t.locale,O=t.getPopupContainer,N=Zi(i||o||px,{value:i}),P=(0,m.Z)(N,2),D=P[0],R=P[1],L=y.useRef(new Map),j=(0,y.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=T(e);!n&&L.current.has(e)&&(n=L.current.get(e)),t.set(e,n)})),L.current=t}}),[T,r]);y.useEffect((function(){j(D)}),[D]);var F=(0,y.useMemo)((function(){return E?{keyEntities:null}:gb(_,{externalGetKey:C,childrenPropName:A})}),[_,C,E,A]).keyEntities,B=(0,y.useMemo)((function(){return gx(S,A)}),[S,A]),z=(0,y.useMemo)((function(){var e=new Map;return B.forEach((function(t,n){var r=C(t,n),i=(a?a(t):null)||{};e.set(r,i)})),e}),[B,C,a]),Y=(0,y.useCallback)((function(e){var t;return!!(null===(t=z.get(C(e)))||void 0===t?void 0:t.disabled)}),[z,C]),G=(0,y.useMemo)((function(){if(E)return[D||[],[]];var e=xb(D,!0,F,Y);return[e.checkedKeys||[],e.halfCheckedKeys]}),[D,E,F,Y]),V=(0,m.Z)(G,2),W=V[0],U=V[1],Z=(0,y.useMemo)((function(){var e="radio"===p?W.slice(0,1):W;return new Set(e)}),[W,p]),H=(0,y.useMemo)((function(){return"radio"===p?new Set:new Set(U)}),[U,p]),q=(0,y.useState)(null),X=(0,m.Z)(q,2),K=X[0],J=X[1];y.useEffect((function(){e||R(px)}),[!!e]);var $=(0,y.useCallback)((function(e){var t,n;j(e),r?(t=e,n=e.map((function(e){return L.current.get(e)}))):(t=[],n=[],e.forEach((function(e){var r=T(e);void 0!==r&&(t.push(e),n.push(r))}))),R(t),null===s||void 0===s||s(t,n)}),[R,T,s,r]),Q=(0,y.useCallback)((function(e,t,n,r){if(u){var i=n.map((function(e){return T(e)}));u(T(e),t,i,r)}$(n)}),[u,T,$]),ee=(0,y.useMemo)((function(){return!g||x?null:(!0===g?[dx,fx,hx]:g).map((function(e){return e===dx?{key:"all",text:I.selectionAll,onSelect:function(){$(_.map((function(e,t){return C(e,t)})).filter((function(e){var t=z.get(e);return!(null===t||void 0===t?void 0:t.disabled)||Z.has(e)})))}}:e===fx?{key:"invert",text:I.selectInvert,onSelect:function(){var e=new Set(Z);S.forEach((function(t,n){var r=C(t,n),i=z.get(r);(null===i||void 0===i?void 0:i.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);c&&(zi(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),c(t)),$(t)}}:e===hx?{key:"none",text:I.selectNone,onSelect:function(){null===d||void 0===d||d(),$(Array.from(Z).filter((function(e){var t=z.get(e);return null===t||void 0===t?void 0:t.disabled})))}}:e}))}),[g,Z,S,C,c,$]),te=(0,y.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==cx}));var r,i,o=(0,Mn.Z)(t),a=new Set(Z),s=B.map(C).filter((function(e){return!z.get(e).disabled})),u=s.every((function(e){return a.has(e)})),c=s.some((function(e){return a.has(e)}));if("radio"!==p){var d;if(ee){var g=y.createElement(lp,{getPopupContainer:O},ee.map((function(e,t){var n=e.key,r=e.text,i=e.onSelect;return y.createElement(lp.Item,{key:n||t,onClick:function(){null===i||void 0===i||i(s)}},r)})));d=y.createElement("div",{className:"".concat(k,"-selection-extra")},y.createElement(Xb,{overlay:g,getPopupContainer:O},y.createElement("span",null,y.createElement(Ty,null))))}var m=B.map((function(e,t){var n=C(e,t),r=z.get(n)||{};return It({checked:a.has(n)},r)})).filter((function(e){return e.disabled})),w=!!m.length&&m.length===B.length,_=w&&m.every((function(e){return e.checked})),S=w&&m.some((function(e){return e.checked}));r=!x&&y.createElement("div",{className:"".concat(k,"-selection")},y.createElement(Pb,{checked:w?_:!!B.length&&u,indeterminate:w?!_&&S:!u&&c,onChange:function(){var e=[];u?s.forEach((function(t){a.delete(t),e.push(t)})):s.forEach((function(t){a.has(t)||(a.add(t),e.push(t))}));var t=Array.from(a);null===l||void 0===l||l(!u,t.map((function(e){return T(e)})),e.map((function(e){return T(e)}))),$(t)},disabled:0===B.length||w,skipGroup:!0}),d)}i="radio"===p?function(e,t,n){var r=C(t,n),i=a.has(r);return{node:y.createElement(lx,It({},z.get(r),{checked:i,onClick:function(e){return e.stopPropagation()},onChange:function(e){a.has(r)||Q(r,!0,[r],e.nativeEvent)}})),checked:i}}:function(e,t,n){var r,i,o=C(t,n),u=a.has(o),l=H.has(o),c=z.get(o);return"nest"===M?(i=l,zi("boolean"!==typeof(null===c||void 0===c?void 0:c.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):i=null!==(r=null===c||void 0===c?void 0:c.indeterminate)&&void 0!==r?r:l,{node:y.createElement(Pb,It({},c,{indeterminate:i,checked:u,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&E){var l=new Set([K,o]);s.some((function(e,t){if(l.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&E){var c=s.slice(r,i+1),d=[];u?c.forEach((function(e){a.has(e)&&(d.push(e),a.delete(e))})):c.forEach((function(e){a.has(e)||(d.push(e),a.add(e))}));var h=Array.from(a);null===f||void 0===f||f(!u,h.map((function(e){return T(e)})),d.map((function(e){return T(e)}))),$(h)}else{var p=W;if(E){var g=u?Qy(p,o):eb(p,o);Q(o,!u,g,t)}else{var v=xb([].concat((0,Mn.Z)(p),[o]),!0,F,Y),m=v.checkedKeys,y=v.halfCheckedKeys,b=m;if(u){var x=new Set(m);x.delete(o),b=xb(Array.from(x),{checked:!1,halfCheckedKeys:y},F,Y).checkedKeys}Q(o,!u,b,t)}}J(o)}})),checked:u}};if(!o.includes(cx))if(0===o.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[zg])||void 0===t?void 0:t.columnType)}))){var A=Zl(o),I=A[0],N=A.slice(1);o=[I,cx].concat((0,Mn.Z)(N))}else o=[cx].concat((0,Mn.Z)(o));var P=o.indexOf(cx);o=o.filter((function(e,t){return e!==cx||t===P}));var D=o[P-1],R=o[P+1],L=v;void 0===L&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?L=R.fixed:void 0!==(null===D||void 0===D?void 0:D.fixed)&&(L=D.fixed)),L&&D&&"EXPAND_COLUMN"===(null===(n=D[zg])||void 0===n?void 0:n.columnType)&&void 0===D.fixed&&(D.fixed=L);var j=(0,xe.Z)({fixed:L,width:h,className:"".concat(k,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=i(e,t,n),o=r.node,a=r.checked;return b?b(a,t,n,o):o}},zg,{className:"".concat(k,"-selection-col")});return o.map((function(e){return e===cx?j:e}))}),[C,B,e,W,Z,H,h,ee,M,K,z,f,Q,Y]);return[te,Z]}var mx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},yx=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:mx}))};yx.displayName="CaretDownOutlined";var bx=y.forwardRef(yx),xx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},wx=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:xx}))};wx.displayName="CaretUpOutlined";var Ex=y.forwardRef(wx);function kx(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function _x(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function Sx(e,t){return"function"===typeof e?e(t):e}var Tx="ascend",Cx="descend";function Mx(e){return"object"===(0,hr.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Ax(e){return"function"===typeof e?e:!(!e||"object"!==(0,hr.Z)(e)||!e.compare)&&e.compare}function Ix(e,t,n){var r=[];function i(e,t){r.push({column:e,key:kx(e,t),multiplePriority:Mx(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=_x(o,n);e.children?("sortOrder"in e&&i(e,a),r=[].concat((0,Mn.Z)(r),(0,Mn.Z)(Ix(e.children,t,a)))):e.sorter&&("sortOrder"in e?i(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:kx(e,a),multiplePriority:Mx(e),sortOrder:e.defaultSortOrder}))})),r}function Ox(e,t,n,r,i,o,a,s){return(t||[]).map((function(t,u){var l=_x(u,s),c=t;if(c.sorter){var d=c.sortDirections||i,f=void 0===c.showSorterTooltip?a:c.showSorterTooltip,h=kx(c,l),p=n.find((function(e){return e.key===h})),g=p?p.sortOrder:null,v=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(d,g),m=d.includes(Tx)&&y.createElement(Ex,{className:In()("".concat(e,"-column-sorter-up"),{active:g===Tx})}),b=d.includes(Cx)&&y.createElement(bx,{className:In()("".concat(e,"-column-sorter-down"),{active:g===Cx})}),x=o||{},w=x.cancelSort,E=x.triggerAsc,k=x.triggerDesc,_=w;v===Cx?_=k:v===Tx&&(_=E);var S="object"===(0,hr.Z)(f)?f:{title:_};c=It(It({},c),{className:In()(c.className,(0,xe.Z)({},"".concat(e,"-column-sort"),g)),title:function(n){var r=y.createElement("div",{className:"".concat(e,"-column-sorters")},y.createElement("span",{className:"".concat(e,"-column-title")},Sx(t.title,n)),y.createElement("span",{className:In()("".concat(e,"-column-sorter"),(0,xe.Z)({},"".concat(e,"-column-sorter-full"),!(!m||!b)))},y.createElement("span",{className:"".concat(e,"-column-sorter-inner")},m,b)));return f?y.createElement(Zu,S,r):r},onHeaderCell:function(n){var i=t.onHeaderCell&&t.onHeaderCell(n)||{},o=i.onClick;return i.onClick=function(e){r({column:t,key:h,sortOrder:v,multiplePriority:Mx(t)}),o&&o(e)},g&&(i["aria-sort"]="ascend"===g?"ascending":"descending"),i.className=In()(i.className,"".concat(e,"-column-has-sorters")),i}})}return"children"in c&&(c=It(It({},c),{children:Ox(e,c.children,n,r,i,o,a,l)})),c}))}function Nx(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function Px(e){var t=e.filter((function(e){return e.sortOrder})).map(Nx);return 0===t.length&&e.length?It(It({},Nx(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function Dx(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),o=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Ax(t)&&n}));return o.length?i.sort((function(e,t){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,s=Ax(i);if(s&&a){var u=s(e,t,a);if(0!==u)return a===Tx?u:-u}}return 0})).map((function(e){var r=e[n];return r?It(It({},e),(0,xe.Z)({},n,Dx(r,t,n))):e})):i}function Rx(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,i=e.sortDirections,o=e.tableLocale,a=e.showSorterTooltip,s=y.useState(Ix(n,!0)),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=y.useMemo((function(){var e=!0,t=Ix(n,!1);if(!t.length)return l;var r=[];function i(t){e?r.push(t):r.push(It(It({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),i(t))})),r}),[n,l]),f=y.useMemo((function(){var e=d.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[d]);function h(e){var t;t=!1!==e.multiplePriority&&d.length&&!1!==d[0].multiplePriority?[].concat((0,Mn.Z)(d.filter((function(t){return t.key!==e.key}))),[e]):[e],c(t),r(Px(t),t)}return[function(e){return Ox(t,e,d,h,i,o,a)},d,f,function(){return Px(d)}]}var Lx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},jx=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Lx}))};jx.displayName="FilterFilled";var Fx=y.forwardRef(jx),Bx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},zx=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Bx}))};zx.displayName="HolderOutlined";var Yx=y.forwardRef(zx),Gx=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Vx=function(e,t){var n=e.className,r=e.style,i=e.motion,o=e.motionNodes,a=e.motionType,s=e.onMotionStart,u=e.onMotionEnd,l=e.active,c=e.treeNodeRequiredProps,d=dr(e,Gx),f=y.useState(!0),h=(0,m.Z)(f,2),p=h[0],g=h[1],v=y.useContext(Wy).prefixCls,b=y.useRef(!1),x=function(){b.current||u(),b.current=!0};return(0,y.useEffect)((function(){o&&"hide"===a&&p&&g(!1)}),[o]),(0,y.useEffect)((function(){return o&&s(),function(){o&&x()}}),[]),o?y.createElement(Wa,It({ref:t,visible:p},i,{motionAppear:"show"===a,onAppearEnd:x,onLeaveEnd:x}),(function(e,t){var n=e.className,r=e.style;return y.createElement("div",{ref:t,className:In()("".concat(v,"-treenode-motion"),n),style:r},o.map((function(e){var t=It({},e.data),n=e.title,r=e.key,i=e.isStart,o=e.isEnd;delete t.children;var a=vb(r,c);return y.createElement($y,It({},t,a,{title:n,active:l,data:e.data,key:r,isStart:i,isEnd:o}))})))})):y.createElement($y,It({domRef:t,className:n,style:r},d,{active:l}))};Vx.displayName="MotionTreeNode";var Wx=y.forwardRef(Vx);function Ux(e,t,n){var r=e.findIndex((function(e){return e.key===n})),i=e[r+1],o=t.findIndex((function(e){return e.key===n}));if(i){var a=t.findIndex((function(e){return e.key===i.key}));return t.slice(o+1,a)}return t.slice(o+1)}var Zx=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Hx={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qx=function(){},Xx="RC_TREE_MOTION_".concat(Math.random()),Kx={key:Xx},Jx={key:Xx,level:0,index:0,pos:"0",node:Kx,nodes:[Kx]},$x={parent:null,children:[],pos:Jx.pos,data:Kx,title:null,key:Xx,isStart:[],isEnd:[]};function Qx(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function ew(e){return cb(e.key,e.pos)}var tw=function(e,t){var n=e.prefixCls,r=e.data,i=(e.selectable,e.checkable,e.expandedKeys),o=e.selectedKeys,a=e.checkedKeys,s=e.loadedKeys,u=e.loadingKeys,l=e.halfCheckedKeys,c=e.keyEntities,d=e.disabled,f=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,g=e.motion,v=e.height,b=e.itemHeight,x=e.virtual,w=e.focusable,E=e.activeItem,k=e.focused,_=e.tabIndex,S=e.onKeyDown,T=e.onFocus,C=e.onBlur,M=e.onActiveChange,A=e.onListChangeStart,I=e.onListChangeEnd,O=dr(e,Zx),N=y.useRef(null),P=y.useRef(null);y.useImperativeHandle(t,(function(){return{scrollTo:function(e){N.current.scrollTo(e)},getIndentWidth:function(){return P.current.offsetWidth}}}));var D=y.useState(i),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=y.useState(r),B=(0,m.Z)(F,2),z=B[0],Y=B[1],G=y.useState(r),V=(0,m.Z)(G,2),W=V[0],U=V[1],Z=y.useState([]),H=(0,m.Z)(Z,2),q=H[0],X=H[1],K=y.useState(null),J=(0,m.Z)(K,2),$=J[0],Q=J[1];function ee(){Y(r),U(r),X([]),Q(null),I()}y.useEffect((function(){j(i);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(L,i);if(null!==e.key)if(e.add){var t=z.findIndex((function(t){return t.key===e.key})),n=Qx(Ux(z,r,e.key),x,v,b),o=z.slice();o.splice(t+1,0,$x),U(o),X(n),Q("show")}else{var a=r.findIndex((function(t){return t.key===e.key})),s=Qx(Ux(r,z,e.key),x,v,b),u=r.slice();u.splice(a+1,0,$x),U(u),X(s),Q("hide")}else z!==r&&(Y(r),U(r))}),[i,r]),y.useEffect((function(){f||ee()}),[f]);var te=g?W:r,ne={expandedKeys:i,selectedKeys:o,loadedKeys:s,loadingKeys:u,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:h,dropPosition:p,keyEntities:c};return y.createElement(y.Fragment,null,k&&E&&y.createElement("span",{style:Hx,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(E)),y.createElement("div",null,y.createElement("input",{style:Hx,disabled:!1===w||d,tabIndex:!1!==w?_:null,onKeyDown:S,onFocus:T,onBlur:C,value:"",onChange:qx,"aria-label":"for screen reader"})),y.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},y.createElement("div",{className:"".concat(n,"-indent")},y.createElement("div",{ref:P,className:"".concat(n,"-indent-unit")}))),y.createElement(Qm,It({},O,{data:te,itemKey:ew,height:v,fullHeight:!1,virtual:x,itemHeight:b,prefixCls:"".concat(n,"-list"),ref:N,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return ew(e)===Xx}))&&ee()}}),(function(e){var t=e.pos,n=It({},e.data),r=e.title,i=e.key,o=e.isStart,a=e.isEnd,s=cb(i,t);delete n.key,delete n.children;var u=vb(s,ne);return y.createElement(Wx,It({},n,u,{title:r,active:!!E&&i===E.key,pos:t,data:e.data,isStart:o,isEnd:a,motion:g,motionNodes:i===Xx?q:null,motionType:$,onMotionStart:A,onMotionEnd:ee,treeNodeRequiredProps:ne,onMouseMove:function(){M(null)}}))})))},nw=y.forwardRef(tw);nw.displayName="NodeList";var rw=nw;var iw=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:db()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=y.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var u=Qy(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:rb(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(u),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:mb(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,u=r.indent,l=e.props,c=l.onDragEnter,d=l.onExpand,f=l.allowDrop,h=l.direction,p=n.props,g=p.pos,v=p.eventKey,m=(0,Uo.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==v&&(e.currentMouseOverDroppableNodeKey=v),m){var y=ob(t,m,n,u,e.dragStartMousePosition,f,s,o,i,h),b=y.dropPosition,x=y.dropLevelOffset,w=y.dropTargetKey,E=y.dropContainerKey,k=y.dropTargetPos,_=y.dropAllowed,S=y.dragOverNodeKey;-1===a.indexOf(w)&&_?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),m.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,Mn.Z)(i),a=o[n.props.eventKey];a&&(a.children||[]).length&&(r=eb(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===d||void 0===d||d(r,{node:mb(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),m.props.eventKey!==w||0!==x?(e.setState({dragOverNodeKey:S,dropPosition:b,dropLevelOffset:x,dropTargetKey:w,dropContainerKey:E,dropTargetPos:k,dropAllowed:_}),null===c||void 0===c||c({event:t,node:mb(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,o=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,u=r.indent,l=e.props,c=l.onDragOver,d=l.allowDrop,f=l.direction,h=(0,Uo.Z)(e).dragNode;if(h){var p=ob(t,h,n,u,e.dragStartMousePosition,d,o,a,s,f),g=p.dropPosition,v=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,b=p.dropAllowed,x=p.dropTargetPos,w=p.dragOverNodeKey;-1===i.indexOf(m)&&b&&(h.props.eventKey===m&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():g===e.state.dropPosition&&v===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&y===e.state.dropContainerKey&&x===e.state.dropTargetPos&&b===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:m,dropContainerKey:y,dropTargetPos:x,dropAllowed:b,dragOverNodeKey:w}),null===c||void 0===c||c({event:t,node:mb(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:mb(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:mb(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,a=o.dragChildrenKeys,s=o.dropPosition,u=o.dropTargetKey,l=o.dropTargetPos,c=o.dropAllowed;if(c){var d=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==u){var f=Ee(Ee({},vb(u,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===u,data:e.state.keyEntities[u].node}),h=-1!==a.indexOf(u);Xr(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=tb(l),g={event:t,node:mb(f),dragNode:e.dragNode?mb(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};i||null===d||void 0===d||d(g),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,o=i.keyEntities,a=i.fieldNames,s=e.props,u=s.onSelect,l=s.multiple,c=n.selected,d=n[a.key],f=!c,h=(r=f?l?eb(r,d):[d]:Qy(r,d)).map((function(e){var t=o[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===u||void 0===u||u(r,{event:"select",selected:f,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,o=e.state,a=o.keyEntities,s=o.checkedKeys,u=o.halfCheckedKeys,l=e.props,c=l.checkStrictly,d=l.onCheck,f=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(c){var p=r?eb(s,f):Qy(s,f);i={checked:p,halfChecked:Qy(u,f)},h.checkedNodes=p.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var g=xb([].concat((0,Mn.Z)(s),[f]),!0,a),v=g.checkedKeys,m=g.halfCheckedKeys;if(!r){var y=new Set(v);y.delete(f);var b=xb(Array.from(y),{checked:!1,halfCheckedKeys:m},a);v=b.checkedKeys,m=b.halfCheckedKeys}i=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,v.forEach((function(e){var t=a[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:m})}null===d||void 0===d||d(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(o){var a=o.loadedKeys,s=void 0===a?[]:a,u=o.loadingKeys,l=void 0===u?[]:u,c=e.props,d=c.loadData,f=c.onLoad;return d&&-1===s.indexOf(n)&&-1===l.indexOf(n)?(d(t).then((function(){var i=eb(e.state.loadedKeys,n);null===f||void 0===f||f(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:Qy(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:Qy(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var o=e.state.loadedKeys;Xr(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:eb(o,n)}),r()}i(t)})),{loadingKeys:eb(l,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=hb(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,o=i.listChanging,a=i.fieldNames,s=e.props,u=s.onExpand,l=s.loadData,c=n.expanded,d=n[a.key];if(!o){var f=r.indexOf(d),h=!c;if(Xr(c&&-1!==f||!c&&-1===f,"Expand state not sync with index check"),r=h?eb(r,d):Qy(r,d),e.setExpandedKeys(r),null===u||void 0===u||u(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&l){var p=e.onNodeLoad(n);p&&p.then((function(){var t=hb(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=Qy(e.state.expandedKeys,d);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,o=r.findIndex((function(e){return e.key===i}));-1===o&&t<0&&(o=r.length);var a=r[o=(o+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,o=n.checkedKeys,a=e.props,s=a.onKeyDown,u=a.checkable,l=a.selectable;switch(t.which){case Fo.UP:e.offsetActiveKey(-1),t.preventDefault();break;case Fo.DOWN:e.offsetActiveKey(1),t.preventDefault()}var c=e.getActiveItem();if(c&&c.data){var d=e.getTreeNodeRequiredProps(),f=!1===c.data.isLeaf||!!(c.data.children||[]).length,h=mb(Ee(Ee({},vb(r,d)),{},{data:c.data,active:!0}));switch(t.which){case Fo.LEFT:f&&i.includes(r)?e.onNodeExpand({},h):c.parent&&e.onActiveChange(c.parent.data.key),t.preventDefault();break;case Fo.RIGHT:f&&!i.includes(r)?e.onNodeExpand({},h):c.children&&c.children.length&&e.onActiveChange(c.children[0].data.key),t.preventDefault();break;case Fo.ENTER:case Fo.SPACE:!u||h.disabled||!1===h.checkable||h.disableCheckbox?u||!l||h.disabled||!1===h.selectable||e.onNodeSelect({},h):e.onNodeCheck({},h,!o.includes(r))}}null===s||void 0===s||s(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,o=!0,a={};Object.keys(t).forEach((function(n){n in e.props?o=!1:(i=!0,a[n]=t[n])})),!i||n&&!o||e.setState(Ee(Ee({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,r=n.focused,i=n.flattenNodes,o=n.keyEntities,a=n.draggingNodeKey,s=n.activeKey,u=n.dropLevelOffset,l=n.dropContainerKey,c=n.dropTargetKey,d=n.dropPosition,f=n.dragOverNodeKey,h=n.indent,p=this.props,g=p.prefixCls,v=p.className,m=p.style,b=p.showLine,x=p.focusable,w=p.tabIndex,E=void 0===w?0:w,k=p.selectable,_=p.showIcon,S=p.icon,T=p.switcherIcon,C=p.draggable,M=p.checkable,A=p.checkStrictly,I=p.disabled,O=p.motion,N=p.loadData,P=p.filterTreeNode,D=p.height,R=p.itemHeight,L=p.virtual,j=p.titleRender,F=p.dropIndicatorRender,B=p.onContextMenu,z=p.onScroll,Y=p.direction,G=rg(this.props,{aria:!0,data:!0});return C&&(t="object"===(0,hr.Z)(C)?C:"function"===typeof C?{nodeDraggable:C}:{}),y.createElement(Wy.Provider,{value:{prefixCls:g,selectable:k,showIcon:_,icon:S,switcherIcon:T,draggable:t,draggingNodeKey:a,checkable:M,checkStrictly:A,disabled:I,keyEntities:o,dropLevelOffset:u,dropContainerKey:l,dropTargetKey:c,dropPosition:d,dragOverNodeKey:f,indent:h,direction:Y,dropIndicatorRender:F,loadData:N,filterTreeNode:P,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},y.createElement("div",{role:"tree",className:In()(g,v,(e={},(0,xe.Z)(e,"".concat(g,"-show-line"),b),(0,xe.Z)(e,"".concat(g,"-focused"),r),(0,xe.Z)(e,"".concat(g,"-active-focused"),null!==s),e))},y.createElement(rw,It({ref:this.listRef,prefixCls:g,style:m,data:i,disabled:I,selectable:k,checkable:!!M,motion:O,dragging:null!==a,height:D,itemHeight:R,virtual:L,focusable:x,focused:r,tabIndex:E,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:B,onScroll:z},this.getTreeNodeRequiredProps(),G))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function o(t){return!r&&t in e||r&&r[t]!==e[t]}var a=t.fieldNames;if(o("fieldNames")&&(a=db(e.fieldNames),i.fieldNames=a),o("treeData")?n=e.treeData:o("children")&&(Xr(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=fb(e.children)),n){i.treeData=n;var s=gb(n,{fieldNames:a});i.keyEntities=Ee((0,xe.Z)({},Xx,Jx),s.keyEntities)}var u,l=i.keyEntities||t.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?ub(e.expandedKeys,l):e.expandedKeys;else if(!r&&e.defaultExpandAll){var c=Ee({},l);delete c[Xx],i.expandedKeys=Object.keys(c).map((function(e){return c[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?ub(e.defaultExpandedKeys,l):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var d=hb(n||t.treeData,i.expandedKeys||t.expandedKeys,a);i.flattenNodes=d}if((e.selectable&&(o("selectedKeys")?i.selectedKeys=ab(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=ab(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?u=sb(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=sb(e.defaultCheckedKeys)||{}:n&&(u=sb(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var f=u,h=f.checkedKeys,p=void 0===h?[]:h,g=f.halfCheckedKeys,v=void 0===g?[]:g;if(!e.checkStrictly){var m=xb(p,!0,l);p=m.checkedKeys,v=m.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=v}return o("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(y.Component);iw.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return y.createElement("div",{style:i})},allowDrop:function(){return!0}},iw.TreeNode=$y;var ow=iw,aw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},sw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:aw}))};sw.displayName="FileOutlined";var uw=y.forwardRef(sw),lw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},cw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:lw}))};cw.displayName="FolderOpenOutlined";var dw=y.forwardRef(cw),fw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},hw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:fw}))};hw.displayName="FolderOutlined";var pw,gw=y.forwardRef(hw);function vw(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&vw(r||[],t)}))}function mw(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,o=[],a=pw.None;if(r&&r===i)return[r];if(!r||!i)return[];return vw(t,(function(e){if(a===pw.End)return!1;if(function(e){return e===r||e===i}(e)){if(o.push(e),a===pw.None)a=pw.Start;else if(a===pw.Start)return a=pw.End,!1}else a===pw.Start&&o.push(e);return-1!==n.indexOf(e)})),o}function yw(e,t){var n=(0,Mn.Z)(t),r=[];return vw(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(pw||(pw={}));var bw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xw(e){var t=e.isLeaf,n=e.expanded;return t?y.createElement(uw,null):n?y.createElement(dw,null):y.createElement(gw,null)}function ww(e){var t=e.treeData,n=e.children;return t||fb(n)}var Ew=function(e,t){var n=e.defaultExpandAll,r=e.defaultExpandParent,i=e.defaultExpandedKeys,o=bw(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=y.useRef(),s=y.useRef(),u=y.createRef();y.useImperativeHandle(t,(function(){return u.current}));var l=y.useState(o.selectedKeys||o.defaultSelectedKeys||[]),c=(0,m.Z)(l,2),d=c[0],f=c[1],h=y.useState(function(){var e=gb(ww(o)).keyEntities;return n?Object.keys(e):r?ub(o.expandedKeys||i||[],e):o.expandedKeys||i}()),p=(0,m.Z)(h,2),g=p[0],v=p[1];y.useEffect((function(){"selectedKeys"in o&&f(o.selectedKeys)}),[o.selectedKeys]),y.useEffect((function(){"expandedKeys"in o&&v(o.expandedKeys)}),[o.expandedKeys]);var b=bv()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||u.current.onNodeExpand(e,t)}),200,{leading:!0}),x=y.useContext($n),w=x.getPrefixCls,E=x.direction,k=o.prefixCls,_=o.className,S=bw(o,["prefixCls","className"]),T=w("tree",k),C=In()("".concat(T,"-directory"),(0,xe.Z)({},"".concat(T,"-directory-rtl"),"rtl"===E),_);return y.createElement(Lw,It({icon:xw,ref:u,blockNode:!0},S,{prefixCls:T,className:C,expandedKeys:g,selectedKeys:d,onSelect:function(e,t){var n,r,i=o.multiple,u=t.node,l=t.nativeEvent,c=u.key,d=void 0===c?"":c,h=ww(o),p=It(It({},t),{selected:!0}),v=(null===l||void 0===l?void 0:l.ctrlKey)||(null===l||void 0===l?void 0:l.metaKey),m=null===l||void 0===l?void 0:l.shiftKey;i&&v?(r=e,a.current=d,s.current=r,p.selectedNodes=yw(h,r)):i&&m?(r=Array.from(new Set([].concat((0,Mn.Z)(s.current||[]),(0,Mn.Z)(mw({treeData:h,expandedKeys:g,startKey:d,endKey:a.current}))))),p.selectedNodes=yw(h,r)):(r=[d],a.current=d,s.current=r,p.selectedNodes=yw(h,r)),null===(n=o.onSelect)||void 0===n||n.call(o,r,p),"selectedKeys"in o||f(r)},onClick:function(e,t){var n;"click"===o.expandAction&&b(e,t),null===(n=o.onClick)||void 0===n||n.call(o,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===o.expandAction&&b(e,t),null===(n=o.onDoubleClick)||void 0===n||n.call(o,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in o||v(e),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,e,t)}}))},kw=y.forwardRef(Ew);kw.displayName="DirectoryTree",kw.defaultProps={showIcon:!0,expandAction:"click"};var _w=kw,Sw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Tw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Sw}))};Tw.displayName="MinusSquareOutlined";var Cw=y.forwardRef(Tw),Mw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Aw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Mw}))};Aw.displayName="PlusSquareOutlined";var Iw=y.forwardRef(Aw),Ow={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Nw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Ow}))};Nw.displayName="CaretDownFilled";var Pw=y.forwardRef(Nw);function Dw(e){var t,n=e.dropPosition,r=e.dropLevelOffset,i=e.prefixCls,o=e.indent,a=e.direction,s=void 0===a?"ltr":a,u="ltr"===s?"left":"right",l="ltr"===s?"right":"left",c=(t={},(0,xe.Z)(t,u,-r*o+4),(0,xe.Z)(t,l,0),t);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[u]=o+4}return y.createElement("div",{style:c,className:"".concat(i,"-drop-indicator")})}var Rw=y.forwardRef((function(e,t){var n,r=y.useContext($n),i=r.getPrefixCls,o=r.direction,a=r.virtual,s=e.prefixCls,u=e.className,l=e.showIcon,c=e.showLine,d=e.switcherIcon,f=e.blockNode,h=e.children,p=e.checkable,g=e.selectable,v=e.draggable,m=i("tree",s),b=It(It({},e),{showLine:Boolean(c),dropIndicatorRender:Dw}),x=y.useMemo((function(){if(!v)return!1;var e={};switch((0,hr.Z)(v)){case"function":e.nodeDraggable=v;break;case"object":e=It({},v)}return!1!==e.icon&&(e.icon=e.icon||y.createElement(Yx,null)),e}),[v]);return y.createElement(ow,It({itemHeight:20,ref:t,virtual:a},b,{prefixCls:m,className:In()((n={},(0,xe.Z)(n,"".concat(m,"-icon-hide"),!l),(0,xe.Z)(n,"".concat(m,"-block-node"),f),(0,xe.Z)(n,"".concat(m,"-unselectable"),!g),(0,xe.Z)(n,"".concat(m,"-rtl"),"rtl"===o),n),u),direction:o,checkable:p?y.createElement("span",{className:"".concat(m,"-checkbox-inner")}):p,selectable:g,switcherIcon:function(e){return function(e,t,n,r){var i,o=r.isLeaf,a=r.expanded;if(r.loading)return y.createElement($c,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,hr.Z)(n)&&(i=n.showLeafIcon),o)return n?"object"!==(0,hr.Z)(n)||i?y.createElement(uw,{className:"".concat(e,"-switcher-line-icon")}):y.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var s="".concat(e,"-switcher-icon");return Iu(t)?Ou(t,{className:In()(t.props.className||"",s)}):t||(n?a?y.createElement(Cw,{className:"".concat(e,"-switcher-line-icon")}):y.createElement(Iw,{className:"".concat(e,"-switcher-line-icon")}):y.createElement(Pw,{className:s}))}(m,d,c,e)},draggable:x}),h)}));Rw.TreeNode=$y,Rw.DirectoryTree=_w,Rw.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:It(It({},Yu),{motionAppear:!1}),blockNode:!1};var Lw=Rw,jw=Lw,Fw=function(e){return y.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},Bw=function(e){var t,n=(0,y.useContext)($n),r=n.getPrefixCls,i=n.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=r("input-group",o),l=In()(u,(t={},(0,xe.Z)(t,"".concat(u,"-lg"),"large"===e.size),(0,xe.Z)(t,"".concat(u,"-sm"),"small"===e.size),(0,xe.Z)(t,"".concat(u,"-compact"),e.compact),(0,xe.Z)(t,"".concat(u,"-rtl"),"rtl"===i),t),s);return y.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)},zw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yw=y.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=e.inputPrefixCls,a=e.className,s=e.size,u=e.suffix,l=e.enterButton,c=void 0!==l&&l,d=e.addonAfter,f=e.loading,h=e.disabled,p=e.onSearch,g=e.onChange,v=zw(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),m=y.useContext($n),b=m.getPrefixCls,x=m.direction,w=y.useContext(cl),E=s||w,k=y.useRef(null),_=function(e){var t;document.activeElement===(null===(t=k.current)||void 0===t?void 0:t.input)&&e.preventDefault()},S=function(e){var t,n;p&&p(null===(n=null===(t=k.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},T=b("input-search",i),C=b("input",o),M="boolean"===typeof c?y.createElement(Ay,null):null,A="".concat(T,"-button"),I=c||{},O=I.type&&!0===I.type.__ANT_BUTTON;r=O||"button"===I.type?Ou(I,It({onMouseDown:_,onClick:function(e){var t,n;null===(n=null===(t=null===I||void 0===I?void 0:I.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),S(e)},key:"enterButton"},O?{className:A,size:E}:{})):y.createElement(hf,{className:A,type:c?"primary":void 0,size:E,disabled:h,key:"enterButton",onMouseDown:_,onClick:S,loading:f,icon:M},c),d&&(r=[r,Ou(d,{key:"addonAfter"})]);var N=In()(T,(n={},(0,xe.Z)(n,"".concat(T,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(T,"-").concat(E),!!E),(0,xe.Z)(n,"".concat(T,"-with-button"),!!c),n),a);return y.createElement(yd,It({ref:Fi(k,t),onPressEnter:S},v,{size:E,prefixCls:C,addonAfter:r,suffix:u,onChange:function(e){e&&e.target&&"click"===e.type&&p&&p(e.target.value,e),g&&g(e)},className:N,disabled:h}))}));Yw.displayName="Search";var Gw=Yw,Vw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Ww=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Vw}))};Ww.displayName="EyeOutlined";var Uw=y.forwardRef(Ww),Zw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Hw=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Zw}))};Hw.displayName="EyeInvisibleOutlined";var qw=y.forwardRef(Hw),Xw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kw={click:"onClick",hover:"onMouseOver"},Jw=y.forwardRef((function(e,t){var n=(0,y.useState)(!1),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=function(){e.disabled||o(!i)},s=function(n){var r=n.getPrefixCls,o=e.className,s=e.prefixCls,u=e.inputPrefixCls,l=e.size,c=e.visibilityToggle,d=Xw(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),f=r("input",u),h=r("input-password",s),p=c&&function(t){var n,r=e.action,o=e.iconRender,s=Kw[r]||"",u=(void 0===o?function(){return null}:o)(i),l=(n={},(0,xe.Z)(n,s,a),(0,xe.Z)(n,"className","".concat(t,"-icon")),(0,xe.Z)(n,"key","passwordIcon"),(0,xe.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,xe.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return y.cloneElement(y.isValidElement(u)?u:y.createElement("span",null,u),l)}(h),g=In()(h,o,(0,xe.Z)({},"".concat(h,"-").concat(l),!!l)),v=It(It({},lr(d,["suffix","iconRender"])),{type:i?"text":"password",className:g,prefixCls:f,suffix:p});return l&&(v.size=l),y.createElement(yd,It({ref:t},v))};return y.createElement(Qn,null,s)}));Jw.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?y.createElement(Uw,null):y.createElement(qw,null)}},Jw.displayName="Password";var $w=Jw,Qw=yd;Qw.Group=Bw,Qw.Search=Gw,Qw.TextArea=kd,Qw.Password=$w;var eE=Qw,tE=function(e){var t=e.value,n=e.onChange,r=e.filterSearch,i=e.tablePrefixCls,o=e.locale;return r?y.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},y.createElement(eE,{prefix:y.createElement(Ay,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null};function nE(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function rE(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,i=e.filterMultiple,o=e.searchValue,a=e.filterSearch;return t.map((function(e,t){var s=String(e.value);if(e.children)return y.createElement(lp.SubMenu,{key:s||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},rE({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:a}));var u=i?Pb:lx,l=y.createElement(lp.Item,{key:void 0!==e.value?s:t},y.createElement(u,{checked:r.includes(s)}),y.createElement("span",null,e.text));return o.trim()?"function"===typeof a?a(o,e)?l:void 0:nE(o,e.text)?l:void 0:l}))}var iE=function(e){var t,n=e.tablePrefixCls,r=e.prefixCls,i=e.column,o=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterMode,l=void 0===u?"menu":u,c=e.filterSearch,d=void 0!==c&&c,f=e.filterState,h=e.triggerFilter,p=e.locale,g=e.children,v=e.getPopupContainer,b=i.filterDropdownVisible,x=i.onFilterDropdownVisibleChange,w=y.useState(!1),E=(0,m.Z)(w,2),k=E[0],_=E[1],S=!(!f||!(null===(t=f.filteredKeys)||void 0===t?void 0:t.length)&&!f.forceFiltered),T=function(e){_(e),null===x||void 0===x||x(e)},C="boolean"===typeof b?b:k,M=null===f||void 0===f?void 0:f.filteredKeys,A=function(e){var t=y.useRef(e),n=jy();return[function(){return t.current},function(e){t.current=e,n()}]}(M||[]),I=(0,m.Z)(A,2),O=I[0],N=I[1],P=function(e){var t=e.selectedKeys;N(t)},D=function(e,t){var n=t.node,r=t.checked;P(s?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};y.useEffect((function(){k&&P({selectedKeys:M||[]})}),[M]);var R=y.useState([]),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=y.useRef(),z=function(e){B.current=window.setTimeout((function(){F(e)}))},Y=function(){window.clearTimeout(B.current)};y.useEffect((function(){return function(){window.clearTimeout(B.current)}}),[]);var G=y.useState(""),V=(0,m.Z)(G,2),W=V[0],U=V[1],Z=function(e){var t=e.target.value;U(t)};y.useEffect((function(){k||U("")}),[k]);var H,q=function(e){var t=e&&e.length?e:null;return null!==t||f&&f.filteredKeys?Xs()(t,null===f||void 0===f?void 0:f.filteredKeys)?null:void h({column:i,key:a,filteredKeys:t}):null},X=function(){T(!1),q(O())},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&q([]),n&&T(!1),U(""),N([])},J=In()((0,xe.Z)({},"".concat(o,"-menu-without-submenu"),!(i.filters||[]).some((function(e){return e.children})))),$=function(e){if(e.target.checked){var t=sE(null===i||void 0===i?void 0:i.filters).map((function(e){return String(e)}));N(t)}else N([])},Q=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),i={title:t.text,key:void 0!==t.value?r:n};return t.children&&(i.children=e({filters:t.children})),i}))};if("function"===typeof i.filterDropdown)H=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(e){return P({selectedKeys:e})},selectedKeys:O(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&T(!1),q(O())},clearFilters:K,filters:i.filters,visible:C});else if(i.filterDropdown)H=i.filterDropdown;else{var ee=O()||[];H=y.createElement(y.Fragment,null,0===(i.filters||[]).length?y.createElement(Kn,{image:Kn.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===l?y.createElement(y.Fragment,null,y.createElement(tE,{filterSearch:d,value:W,onChange:Z,tablePrefixCls:n,locale:p}),y.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?y.createElement(Pb,{checked:ee.length===sE(i.filters).length,indeterminate:ee.length>0&&ee.length<sE(i.filters).length,className:"".concat(n,"-filter-dropdown-checkall"),onChange:$},p.filterCheckall):null,y.createElement(jw,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(o,"-menu"),onCheck:D,checkedKeys:ee,selectedKeys:ee,showIcon:!1,treeData:Q({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:W.trim()?function(e){return nE(W,e.title)}:void 0}))):y.createElement(y.Fragment,null,y.createElement(tE,{filterSearch:d,value:W,onChange:Z,tablePrefixCls:n,locale:p}),y.createElement(lp,{multiple:s,prefixCls:"".concat(o,"-menu"),className:J,onClick:Y,onSelect:P,onDeselect:P,selectedKeys:ee,getPopupContainer:v,openKeys:j,onOpenChange:z},rE({filters:i.filters||[],filterSearch:d,prefixCls:r,filteredKeys:O(),filterMultiple:s,searchValue:W}))),y.createElement("div",{className:"".concat(r,"-dropdown-btns")},y.createElement(hf,{type:"link",size:"small",disabled:0===ee.length,onClick:function(){return K()}},p.filterReset),y.createElement(hf,{type:"primary",size:"small",onClick:X},p.filterConfirm)))}var te,ne=y.createElement(Fw,{className:"".concat(r,"-dropdown")},H);te="function"===typeof i.filterIcon?i.filterIcon(S):i.filterIcon?i.filterIcon:y.createElement(Fx,null);var re=y.useContext($n).direction;return y.createElement("div",{className:"".concat(r,"-column")},y.createElement("span",{className:"".concat(n,"-column-title")},g),y.createElement(Xb,{overlay:ne,trigger:["click"],visible:C,onVisibleChange:function(e){e&&void 0!==M&&N(M||[]),T(e),e||i.filterDropdown||X()},getPopupContainer:v,placement:"rtl"===re?"bottomLeft":"bottomRight"},y.createElement("span",{role:"button",tabIndex:-1,className:In()("".concat(r,"-trigger"),{active:S}),onClick:function(e){e.stopPropagation()}},te)))};function oE(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var o,a=_x(i,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),r.push({column:e,key:kx(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:kx(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,Mn.Z)(r),(0,Mn.Z)(oE(e.children,t,a))))})),r}function aE(e,t,n,r,i,o,a,s){return n.map((function(n,u){var l=_x(u,s),c=n.filterMultiple,d=void 0===c||c,f=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var g=kx(p,l),v=r.find((function(e){var t=e.key;return g===t}));p=It(It({},p),{title:function(r){return y.createElement(iE,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:g,filterState:v,filterMultiple:d,filterMode:f,filterSearch:h,triggerFilter:i,locale:a,getPopupContainer:o},Sx(n.title,r))}})}return"children"in p&&(p=It(It({},p),{children:aE(e,t,p.children,r,i,o,a,l)})),p}))}function sE(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,Mn.Z)(t),(0,Mn.Z)(sE(r))))})),t}function uE(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,o=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=sE(o);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function lE(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=sE(i),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return r(a,e)}))})):e}),e)}var cE=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,i=e.onFilterChange,o=e.getPopupContainer,a=e.locale,s=y.useState(oE(r,!0)),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=y.useMemo((function(){var e=oE(r,!1),t=e.every((function(e){return void 0===e.filteredKeys}));if(t)return l;var n=e.every((function(e){return void 0!==e.filteredKeys}));return zi(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e}),[r,l]),f=y.useCallback((function(){return uE(d)}),[d]),h=function(e){var t=d.filter((function(t){return t.key!==e.key}));t.push(e),c(t),i(uE(t),t)};return[function(e){return aE(t,n,e,d,h,o,a)},d,f]};function dE(e,t){return e.map((function(e){var n=It({},e);return n.title=Sx(e.title,t),"children"in n&&(n.children=dE(n.children,t)),n}))}function fE(e){return[y.useCallback((function(t){return dE(t,e)}),[e])]}var hE=function(e){return function(t){var n,r=t.prefixCls,i=t.onExpand,o=t.record,a=t.expanded,s=t.expandable,u="".concat(r,"-row-expand-icon");return y.createElement("button",{type:"button",onClick:function(e){i(o,e),e.stopPropagation()},className:In()(u,(n={},(0,xe.Z)(n,"".concat(u,"-spaced"),!s),(0,xe.Z)(n,"".concat(u,"-expanded"),s&&a),(0,xe.Z)(n,"".concat(u,"-collapsed"),s&&!a),n)),"aria-label":a?e.collapse:e.expand})}};function pE(e){return null!==e&&void 0!==e&&e===e.window}function gE(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",i=0;return pE(e)?i=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?i=e.documentElement[r]:e&&(i=e[r]),e&&!pE(e)&&"number"!==typeof i&&(i=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),i}function vE(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function mE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,o=t.duration,a=void 0===o?450:o,s=r(),u=gE(s,!0),l=Date.now(),c=function t(){var n=Date.now()-l,r=vE(n>a?a:n,u,e,a);pE(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?Jo(t):"function"===typeof i&&i()};Jo(c)}var yE=Bn;var bE=function(e){return null};var xE=function(e){return null},wE=[];function EE(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,l=e.dataSource,c=e.pagination,d=e.rowSelection,f=e.rowKey,h=e.rowClassName,p=e.columns,g=e.children,v=e.childrenColumnName,b=e.onChange,x=e.getPopupContainer,w=e.loading,E=e.expandIcon,k=e.expandable,_=e.expandedRowRender,S=e.expandIconColumnIndex,T=e.indentSize,C=e.scroll,M=e.sortDirections,A=e.locale,I=e.showSorterTooltip,O=void 0===I||I;zi(!("function"===typeof f&&f.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var N=y.useMemo((function(){return p||Wg(g)}),[p,g]),P=y.useMemo((function(){return N.some((function(e){return e.responsive}))}),[N]),D=Fy(P),R=y.useMemo((function(){var e=new Set(Object.keys(D).filter((function(e){return D[e]})));return N.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[N,D]),L=lr(e,["className","style","columns"]),j=y.useContext(cl),F=y.useContext($n),B=F.locale,z=void 0===B?yE:B,Y=F.renderEmpty,G=F.direction,V=a||j,W=It(It({},z.Table),A),U=l||wE,Z=y.useContext($n).getPrefixCls,H=Z("table",r),q=Z("dropdown",u),X=It({childrenColumnName:v,expandIconColumnIndex:S},k),K=X.childrenColumnName,J=void 0===K?"children":K,$=y.useMemo((function(){return U.some((function(e){return null===e||void 0===e?void 0:e[J]}))?"nest":_||k&&k.expandedRowRender?"row":null}),[U]),Q={body:y.useRef()},ee=y.useMemo((function(){return"function"===typeof f?f:function(e){return null===e||void 0===e?void 0:e[f]}}),[f]),te=function(e,t,n){var r=y.useRef({});return[function(i){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){var o=new Map;!function e(r){r.forEach((function(r,i){var a=n(r,i);o.set(a,r),r&&"object"===(0,hr.Z)(r)&&t in r&&e(r[t]||[])}))}(e),r.current={data:e,childrenColumnName:t,kvMap:o,getRowKey:n}}return r.current.kvMap.get(i)}]}(U,J,ee),ne=(0,m.Z)(te,1)[0],re={},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=It(It({},re),e);n&&(re.resetPagination(),r.pagination.current&&(r.pagination.current=1),c&&c.onChange&&c.onChange(1,r.pagination.pageSize)),C&&!1!==C.scrollToFirstRowOnChange&&Q.body.current&&mE(0,{getContainer:function(){return Q.body.current}}),null===b||void 0===b||b(r.pagination,r.filters,r.sorter,{currentDataSource:lE(Dx(U,r.sorterStates,J),r.filterStates),action:t})},oe=Rx({prefixCls:H,mergedColumns:R,onSorterChange:function(e,t){ie({sorter:e,sorterStates:t},"sort",!1)},sortDirections:M||["ascend","descend"],tableLocale:W,showSorterTooltip:O}),ae=(0,m.Z)(oe,4),se=ae[0],ue=ae[1],le=ae[2],ce=ae[3],de=y.useMemo((function(){return Dx(U,ue,J)}),[U,ue]);re.sorter=ce(),re.sorterStates=ue;var fe=cE({prefixCls:H,locale:W,dropdownPrefixCls:q,mergedColumns:R,onFilterChange:function(e,t){ie({filters:e,filterStates:t},"filter",!0)},getPopupContainer:x}),he=(0,m.Z)(fe,3),pe=he[0],ge=he[1],ve=he[2],me=lE(de,ge);re.filters=ve(),re.filterStates=ge;var ye=fE(y.useMemo((function(){return It({},le)}),[le])),be=(0,m.Z)(ye,1)[0],we=Vy(me.length,c,(function(e,t){ie({pagination:It(It({},re.pagination),{current:e,pageSize:t})},"paginate")})),Ee=(0,m.Z)(we,2),ke=Ee[0],_e=Ee[1];re.pagination=!1===c?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,hr.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(c,ke),re.resetPagination=_e;var Se=y.useMemo((function(){if(!1===c||!ke.pageSize)return me;var e=ke.current,t=void 0===e?1:e,n=ke.total,r=ke.pageSize,i=void 0===r?10:r;return zi(t>0,"Table","`current` should be positive number."),me.length<n?me.length>i?(zi(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),me.slice((t-1)*i,t*i)):me:me.slice((t-1)*i,t*i)}),[!!c,me,ke&&ke.current,ke&&ke.pageSize,ke&&ke.total]),Te=vx(d,{prefixCls:H,data:me,pageData:Se,getRowKey:ee,getRecordByKey:ne,expandType:$,childrenColumnName:J,locale:W,getPopupContainer:x}),Ce=(0,m.Z)(Te,2),Me=Ce[0],Ae=Ce[1];X.__PARENT_RENDER_ICON__=X.expandIcon,X.expandIcon=X.expandIcon||E||hE(W),"nest"===$&&void 0===X.expandIconColumnIndex?X.expandIconColumnIndex=d?1:0:X.expandIconColumnIndex>0&&d&&(X.expandIconColumnIndex-=1),"number"!==typeof X.indentSize&&(X.indentSize="number"===typeof T?T:15);var Ie,Oe,Ne,Pe=y.useCallback((function(e){return be(Me(pe(se(e))))}),[se,pe,Me]);if(!1!==c&&(null===ke||void 0===ke?void 0:ke.total)){var De;De=ke.size?ke.size:"small"===V||"middle"===V?"small":void 0;var Re=function(e){return y.createElement(Yy,It({},ke,{className:In()("".concat(H,"-pagination ").concat(H,"-pagination-").concat(e),ke.className),size:De}))},Le="rtl"===G?"left":"right",je=ke.position;if(null!==je&&Array.isArray(je)){var Fe=je.find((function(e){return-1!==e.indexOf("top")})),Be=je.find((function(e){return-1!==e.indexOf("bottom")})),ze=je.every((function(e){return"none"==="".concat(e)}));Fe||Be||ze||(Oe=Re(Le)),Fe&&(Ie=Re(Fe.toLowerCase().replace("top",""))),Be&&(Oe=Re(Be.toLowerCase().replace("bottom","")))}else Oe=Re(Le)}"boolean"===typeof w?Ne={spinning:w}:"object"===(0,hr.Z)(w)&&(Ne=It({spinning:!0},w));var Ye=In()("".concat(H,"-wrapper"),(0,xe.Z)({},"".concat(H,"-wrapper-rtl"),"rtl"===G),i);return y.createElement("div",{ref:t,className:Ye,style:o},y.createElement(kv,It({spinning:!1},Ne),Ie,y.createElement(mv,It({},L,{columns:R,direction:G,expandable:X,prefixCls:H,className:In()((n={},(0,xe.Z)(n,"".concat(H,"-middle"),"middle"===V),(0,xe.Z)(n,"".concat(H,"-small"),"small"===V),(0,xe.Z)(n,"".concat(H,"-bordered"),s),(0,xe.Z)(n,"".concat(H,"-empty"),0===U.length),n)),data:Se,rowKey:ee,rowClassName:function(e,t,n){var r;return r="function"===typeof h?In()(h(e,t,n)):In()(h),In()((0,xe.Z)({},"".concat(H,"-row-selected"),Ae.has(ee(e,t))),r)},emptyText:A&&A.emptyText||Y("Table"),internalHooks:pv,internalRefs:Q,transformColumns:Pe})),Oe))}var kE=y.forwardRef(EE);kE.defaultProps={rowKey:"key"},kE.SELECTION_COLUMN=cx,kE.EXPAND_COLUMN=mv.EXPAND_COLUMN,kE.SELECTION_ALL=dx,kE.SELECTION_INVERT=fx,kE.SELECTION_NONE=hx,kE.Column=bE,kE.ColumnGroup=xE,kE.Summary=rv;var _E=kE,SE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},TE=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:SE}))};TE.displayName="MinusOutlined";var CE=y.forwardRef(TE),ME={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},AE=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:ME}))};AE.displayName="PlusOutlined";var IE=y.forwardRef(AE),OE=function(){return kn()},NE=Cn,PE=n(37762);function DE(){var e=NE((function(e){return e})),t=e.papers,n=e.filters,r=t.filter((function(e){if(!n.showOriginal&&"undefined"===typeof e.Date)return!1;if(!n.showNew&&"undefined"!==typeof e.Date)return!1;if("undefined"!==typeof n.startYear&&parseInt(e.Year)<n.startYear)return!1;if("undefined"!==typeof n.endYear&&parseInt(e.Year)>n.endYear)return!1;var t=!0,r=!0,i=n.search.toLowerCase().trim();if(i.length>0){var o=!1,a=[!0,!0,!0,!0];i.startsWith("author:")?(i=i.substring(7).trim(),a=[!0,!1,!1,!1]):i.startsWith("title:")?(i=i.substring(6).trim(),a=[!1,!0,!1,!1]):i.startsWith("venue:")?(i=i.substring(6).trim(),a=[!1,!1,!0,!1]):i.startsWith("abstract:")&&(i=i.substring(9).trim(),a=[!1,!1,!1,!0]);var s=e.Authors.some((function(e){return e.toLowerCase().includes(i)})),u=e.Title.toLowerCase().includes(i),l=e.Venue.value.toLowerCase().includes(i),c=e.Abstract.toLowerCase().includes(i);if(a[0]&&(o=o||s),a[1]&&(o=o||u),a[2]&&(o=o||l),a[3]&&(o=o||c),!o)return!1}for(var d=function(){var i=(0,m.Z)(h[f],2),o=i[0],a=i[1],s=n[o],u=e[a];if(!Array.isArray(s))return"continue";if("venue"===o)return s.length>0&&!s.some((function(e){var t=u;return"Other"===e?!t.isOld:e===t.value}))?{v:!1}:"continue";s.length>0&&(t=!1);var l,c=(0,PE.Z)(s);try{var d=function(){var e=l.value;if(n.filterStateAND)Array.isArray(u)&&u.some((function(t){return t===e}))||(r=!1);else if(Array.isArray(u)&&u.some((function(t){return t===e})))return{v:{v:!0}}};for(c.s();!(l=c.n()).done;){var p=d();if("object"===typeof p)return p.v}}catch(g){c.e(g)}finally{c.f()}},f=0,h=Object.entries(ct);f<h.length;f++){var p=d();if("continue"!==p&&"object"===typeof p)return p.v}return n.filterStateAND?r:t}));return r}function RE(e,t,n){var r=(0,y.useState)(n?e:[]),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=(0,y.useRef)(null),u=function(){return o.length===e.length};var l=function(){u()?a([]):a(e)};return(0,y.useLayoutEffect)((function(){var e=document.getElementsByClassName("expand-all")[0];s.current&&e.removeEventListener("click",s.current,!1),e.addEventListener("click",l,!1),s.current=l})),{isAllExpanded:u,expandedRowKeys:o,onExpand:function(e,n){a(e?o.concat([n[t]]):o.filter((function(e){return e!==n[t]})))},rowKey:t}}var LE=n(72426),jE=n.n(LE),FE={getNow:function(){return jE()()},getFixedDate:function(e){return jE()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return jE()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return jE()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return jE()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],i=0;i<n.length;i+=1){var o=n[i],a=t;if(o.includes("wo")||o.includes("Wo")){var s=(o=o.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=a.match(/[-\d]+/g);s&&u?(o=s.join(""),a=u.join("")):r.push(o.replace(/o/g,""))}var l=jE()(a,o,e,!0);if(l.isValid())return l}for(var c=0;c<r.length;c+=1){var d=jE()(t,r[c],e,!1);if(d.isValid())return qr(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),d}return null}}},BE=FE;var zE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},YE=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:zE}))};YE.displayName="CalendarOutlined";var GE=y.forwardRef(YE),VE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},WE=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:VE}))};WE.displayName="ClockCircleOutlined";var UE=y.forwardRef(WE),ZE=y.createContext({}),HE={visibility:"hidden"};var qE=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,i=e.nextIcon,o=void 0===i?"\u203a":i,a=e.superPrevIcon,s=void 0===a?"\xab":a,u=e.superNextIcon,l=void 0===u?"\xbb":u,c=e.onSuperPrev,d=e.onSuperNext,f=e.onPrev,h=e.onNext,p=e.children,g=y.useContext(ZE),v=g.hideNextBtn,m=g.hidePrevBtn;return y.createElement("div",{className:t},c&&y.createElement("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:m?HE:{}},s),f&&y.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:m?HE:{}},r),y.createElement("div",{className:"".concat(t,"-view")},p),h&&y.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?HE:{}},o),d&&y.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?HE:{}},l))};var XE=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecades,o=e.onNextDecades;if(y.useContext(ZE).hideHeader)return null;var a="".concat(t,"-header"),s=n.getYear(r),u=Math.floor(s/dk)*dk,l=u+dk-1;return y.createElement(qE,It({},e,{prefixCls:a,onSuperPrev:i,onSuperNext:o}),u,"-",l)};function KE(e,t,n,r,i){var o=e.setHour(t,n);return o=e.setMinute(o,r),o=e.setSecond(o,i)}function JE(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function $E(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,i=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=e.getDate(i),a=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(a,"-").concat(o)}function QE(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,i=e.picker,o=e.rowNum,a=e.colNum,s=e.prefixColumn,u=e.rowClassName,l=e.baseDate,c=e.getCellClassName,d=e.getCellText,f=e.getCellNode,h=e.getCellDate,p=e.generateConfig,g=e.titleCell,v=e.headerCells,m=y.useContext(ZE),b=m.onDateMouseEnter,x=m.onDateMouseLeave,w=m.mode,E="".concat(t,"-cell"),k=[],_=0;_<o;_+=1){for(var S=[],T=void 0,C=function(e){var t,o=h(l,_*a+e),u=Sk({cellDate:o,mode:w,disabledDate:n,generateConfig:p});0===e&&(T=o,s&&S.push(s(T)));var v=g&&g(o);S.push(y.createElement("td",{key:e,title:v,className:In()(E,Ee((t={},(0,xe.Z)(t,"".concat(E,"-disabled"),u),(0,xe.Z)(t,"".concat(E,"-start"),1===d(o)||"year"===i&&Number(v)%10===0),(0,xe.Z)(t,"".concat(E,"-end"),v===$E(p,o)||"year"===i&&Number(v)%10===9),t),c(o))),onClick:function(){u||r(o)},onMouseEnter:function(){!u&&b&&b(o)},onMouseLeave:function(){!u&&x&&x(o)}},f?f(o):y.createElement("div",{className:"".concat(E,"-inner")},d(o))))},M=0;M<a;M+=1)C(M);k.push(y.createElement("tr",{key:_,className:u&&u(T)},S))}return y.createElement("div",{className:"".concat(t,"-body")},y.createElement("table",{className:"".concat(t,"-content")},v&&y.createElement("thead",null,y.createElement("tr",null,v)),y.createElement("tbody",null,k)))}var ek=function(e){var t=ck-1,n=e.prefixCls,r=e.viewDate,i=e.generateConfig,o="".concat(n,"-cell"),a=i.getYear(r),s=Math.floor(a/ck)*ck,u=Math.floor(a/dk)*dk,l=u+dk-1,c=i.setYear(r,u-Math.ceil((12*ck-dk)/2));return y.createElement(QE,It({},e,{rowNum:4,colNum:3,baseDate:c,getCellText:function(e){var n=i.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i.getYear(e),a=r+t;return n={},(0,xe.Z)(n,"".concat(o,"-in-view"),u<=r&&a<=l),(0,xe.Z)(n,"".concat(o,"-selected"),r===s),n},getCellDate:function(e,t){return i.addYear(e,t*ck)}}))},tk=new Map;function nk(e,t,n){if(tk.get(e)&&cancelAnimationFrame(tk.get(e)),n<=0)tk.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;tk.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&nk(e,t,n-10)})))}}function rk(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,i=t.onUpDown,o=t.onPageUpDown,a=t.onEnter,s=e.which,u=e.ctrlKey,l=e.metaKey;switch(s){case Fo.LEFT:if(u||l){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case Fo.RIGHT:if(u||l){if(r)return r(1),!0}else if(n)return n(1),!0;break;case Fo.UP:if(i)return i(-1),!0;break;case Fo.DOWN:if(i)return i(1),!0;break;case Fo.PAGE_UP:if(o)return o(-1),!0;break;case Fo.PAGE_DOWN:if(o)return o(1),!0;break;case Fo.ENTER:if(a)return a(),!0}return!1}function ik(e,t,n,r){var i=e;if(!i)switch(t){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function ok(e,t,n){var r="time"===e?8:10,i="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,i)+2}var ak=null,sk=new Set;var uk={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function lk(e,t){return e.some((function(e){return e&&e.contains(t)}))}var ck=10,dk=10*ck;var fk=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,i=e.viewDate,o=e.operationRef,a=e.onSelect,s=e.onPanelChange,u="".concat(t,"-decade-panel");o.current={onKeyDown:function(e){return rk(e,{onLeftRight:function(e){a(r.addYear(i,e*ck),"key")},onCtrlLeftRight:function(e){a(r.addYear(i,e*dk),"key")},onUpDown:function(e){a(r.addYear(i,e*ck*3),"key")},onEnter:function(){s("year",i)}})}};var l=function(e){var t=r.addYear(i,e*dk);n(t),s(null,t)};return y.createElement("div",{className:u},y.createElement(XE,It({},e,{prefixCls:t,onPrevDecades:function(){l(-1)},onNextDecades:function(){l(1)}})),y.createElement(ek,It({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),s("year",e)}})))};function hk(e,t){return!e&&!t||!(!e||!t)&&void 0}function pk(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function gk(e,t){return Math.floor(e.getMonth(t)/3)+1}function vk(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:pk(e,t,n)&&gk(e,t)===gk(e,n)}function mk(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:pk(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function yk(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function bk(e,t,n,r){var i=hk(n,r);return"boolean"===typeof i?i:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function xk(e,t,n){return yk(e,t,n)&&function(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function wk(e,t,n,r){return!!(t&&n&&r)&&(!yk(e,t,r)&&!yk(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function Ek(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function kk(e,t){var n=t.generateConfig,r=t.locale,i=t.format;return"function"===typeof i?i(e):n.locale.format(r.locale,e,i)}function _k(e,t){var n=t.generateConfig,r=t.locale,i=t.formatList;return e&&"function"!==typeof i[0]?n.locale.parse(r.locale,e,i):null}function Sk(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,i=e.generateConfig;if(!r)return!1;var o=function(e,n,o){for(var a=n;a<=o;){var s=void 0;switch(e){case"date":if(s=i.setDate(t,a),!r(s))return!1;break;case"month":if(!Sk({cellDate:s=i.setMonth(t,a),mode:"month",generateConfig:i,disabledDate:r}))return!1;break;case"year":if(!Sk({cellDate:s=i.setYear(t,a),mode:"year",generateConfig:i,disabledDate:r}))return!1}a+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return o("date",1,i.getDate(i.getEndDate(t)));case"quarter":var a=3*Math.floor(i.getMonth(t)/3);return o("month",a,a+2);case"year":return o("month",0,11);case"decade":var s=i.getYear(t),u=Math.floor(s/ck)*ck;return o("year",u,u+ck-1)}}var Tk=function(e){if(y.useContext(ZE).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o=e.format,a="".concat(t,"-header");return y.createElement(qE,{prefixCls:a},i?kk(i,{locale:r,format:o,generateConfig:n}):"\xa0")};var Ck=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,i=e.value,o=e.active,a=e.hideDisabledOptions,s="".concat(t,"-cell"),u=y.useContext(ZE).open,l=(0,y.useRef)(null),c=(0,y.useRef)(new Map),d=(0,y.useRef)();return(0,y.useLayoutEffect)((function(){var e=c.current.get(i);e&&!1!==u&&nk(l.current,e.offsetTop,120)}),[i]),(0,y.useLayoutEffect)((function(){if(u){var e=c.current.get(i);e&&(d.current=function(e,t){var n;return function r(){qa(e)?t():n=Jo((function(){r()}))}(),function(){Jo.cancel(n)}}(e,(function(){nk(l.current,e.offsetTop,0)})))}return function(){var e;null===(e=d.current)||void 0===e||e.call(d)}}),[u]),y.createElement("ul",{className:In()("".concat(t,"-column"),(0,xe.Z)({},"".concat(t,"-column-active"),o)),ref:l,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:y.createElement("li",{key:e.value,ref:function(t){c.current.set(e.value,t)},className:In()(s,(t={},(0,xe.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,xe.Z)(t,"".concat(s,"-selected"),i===e.value),t)),onClick:function(){e.disabled||r(e.value)}},y.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function Mk(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function Ak(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function Ik(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function Ok(e,t){return e?e[t]:null}function Nk(e,t,n){var r=[Ok(e,0),Ok(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function Pk(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function Dk(e,t,n,r){for(var i=[],o=e;o<=t;o+=n)i.push({label:Mk(o,2),value:o,disabled:(r||[]).includes(o)});return i}var Rk=function(e){var t,n=e.generateConfig,r=e.prefixCls,i=e.operationRef,o=e.activeColumnIndex,a=e.value,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,d=e.hourStep,f=void 0===d?1:d,h=e.minuteStep,p=void 0===h?1:h,g=e.secondStep,v=void 0===g?1:g,b=e.disabledHours,x=e.disabledMinutes,w=e.disabledSeconds,E=e.disabledTime,k=e.hideDisabledOptions,_=e.onSelect,S=[],T="".concat(r,"-content"),C="".concat(r,"-time-panel"),M=a?n.getHour(a):-1,A=M,I=a?n.getMinute(a):-1,O=a?n.getSecond(a):-1,N=n.getNow(),P=y.useMemo((function(){if(E){var e=E(N);return[e.disabledHours,e.disabledMinutes,e.disabledSeconds]}return[b,x,w]}),[b,x,w,E,N]),D=(0,m.Z)(P,3),R=D[0],L=D[1],j=D[2],F=function(e,t,r,i){var o=a||n.getNow(),s=Math.max(0,t),u=Math.max(0,r),l=Math.max(0,i);return o=KE(n,o,c&&e?s+12:s,u,l)},B=Dk(0,23,f,R&&R()),z=Li((function(){return B}),B,Pk);c&&(t=A>=12,A%=12);var Y=y.useMemo((function(){if(!c)return[!1,!1];var e=[!0,!0];return z.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[c,z]),G=(0,m.Z)(Y,2),V=G[0],W=G[1],U=y.useMemo((function(){return c?z.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":Mk(t,2);return Ee(Ee({},e),{},{label:n,value:t})})):z}),[c,t,z]),Z=Dk(0,59,p,L&&L(M)),H=Dk(0,59,v,j&&j(M,I));function q(e,t,n,r,i){!1!==e&&S.push({node:y.cloneElement(t,{prefixCls:C,value:n,active:o===S.length,onSelect:i,units:r,hideDisabledOptions:k}),onSelect:i,value:n,units:r})}i.current={onUpDown:function(e){var t=S[o];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,i=1;i<r;i+=1){var a=t.units[(n+e*i+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},q(s,y.createElement(Ck,{key:"hour"}),A,U,(function(e){_(F(t,e,I,O),"mouse")})),q(u,y.createElement(Ck,{key:"minute"}),I,Z,(function(e){_(F(t,A,e,O),"mouse")})),q(l,y.createElement(Ck,{key:"second"}),O,H,(function(e){_(F(t,A,I,e),"mouse")}));var X=-1;return"boolean"===typeof t&&(X=t?1:0),q(!0===c,y.createElement(Ck,{key:"12hours"}),X,[{label:"AM",value:0,disabled:V},{label:"PM",value:1,disabled:W}],(function(e){_(F(!!e,A,I,O),"mouse")})),y.createElement("div",{className:T},S.map((function(e){return e.node})))};var Lk=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,i=e.prefixCls,o=e.active,a=e.operationRef,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,d=void 0!==c&&c,f=e.onSelect,h=e.value,p="".concat(i,"-time-panel"),g=y.useRef(),v=y.useState(-1),b=(0,m.Z)(v,2),x=b[0],w=b[1],E=[s,u,l,d].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return rk(e,{onLeftRight:function(e){w((x+e+E)%E)},onUpDown:function(e){-1===x?w(0):g.current&&g.current.onUpDown(e)},onEnter:function(){f(h||t.getNow(),"key"),w(-1)}})},onBlur:function(){w(-1)}},y.createElement("div",{className:In()(p,(0,xe.Z)({},"".concat(p,"-active"),o))},y.createElement(Tk,It({},e,{format:r,prefixCls:i})),y.createElement(Rk,It({},e,{prefixCls:i,activeColumnIndex:x,operationRef:g})))},jk=y.createContext({});function Fk(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,i=e.hoverRangedValue,o=e.isInView,a=e.isSameCell,s=e.offsetCell,u=e.today,l=e.value;return function(e){var c,d=s(e,-1),f=s(e,1),h=Ok(r,0),p=Ok(r,1),g=Ok(i,0),v=Ok(i,1),m=wk(n,g,v,e);function y(e){return a(h,e)}function b(e){return a(p,e)}var x=a(g,e),w=a(v,e),E=(m||w)&&(!o(d)||b(d)),k=(m||x)&&(!o(f)||y(f));return c={},(0,xe.Z)(c,"".concat(t,"-in-view"),o(e)),(0,xe.Z)(c,"".concat(t,"-in-range"),wk(n,h,p,e)),(0,xe.Z)(c,"".concat(t,"-range-start"),y(e)),(0,xe.Z)(c,"".concat(t,"-range-end"),b(e)),(0,xe.Z)(c,"".concat(t,"-range-start-single"),y(e)&&!p),(0,xe.Z)(c,"".concat(t,"-range-end-single"),b(e)&&!h),(0,xe.Z)(c,"".concat(t,"-range-start-near-hover"),y(e)&&(a(d,g)||wk(n,g,v,d))),(0,xe.Z)(c,"".concat(t,"-range-end-near-hover"),b(e)&&(a(f,v)||wk(n,g,v,f))),(0,xe.Z)(c,"".concat(t,"-range-hover"),m),(0,xe.Z)(c,"".concat(t,"-range-hover-start"),x),(0,xe.Z)(c,"".concat(t,"-range-hover-end"),w),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-start"),E),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-end"),k),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-start-near-range"),E&&a(d,p)),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-end-near-range"),k&&a(f,h)),(0,xe.Z)(c,"".concat(t,"-today"),a(u,e)),(0,xe.Z)(c,"".concat(t,"-selected"),a(l,e)),c}}var Bk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,i=e.locale,o=e.rowCount,a=e.viewDate,s=e.value,u=e.dateRender,l=y.useContext(jk),c=l.rangedValue,d=l.hoverRangedValue,f=function(e,t,n){var r=t.locale.getWeekFirstDay(e),i=t.setDate(n,1),o=t.getWeekDay(i),a=t.addDate(i,r-o);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(i.locale,n,a),h="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(i.locale),g=n.getNow(),v=[],m=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&v.push(y.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var b=0;b<7;b+=1)v.push(y.createElement("th",{key:b},m[(b+p)%7]));var x=Fk({cellPrefixCls:h,today:g,value:s,generateConfig:n,rangedValue:r?null:c,hoverRangedValue:r?null:d,isSameCell:function(e,t){return yk(n,e,t)},isInView:function(e){return mk(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),w=u?function(e){return u(e,g)}:void 0;return y.createElement(QE,It({},e,{rowNum:o,colNum:7,baseDate:f,getCellNode:w,getCellText:n.getDate,getCellClassName:x,getCellDate:n.addDate,titleCell:function(e){return kk(e,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:v}))};var zk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextMonth,a=e.onPrevMonth,s=e.onNextYear,u=e.onPrevYear,l=e.onYearClick,c=e.onMonthClick;if(y.useContext(ZE).hideHeader)return null;var d="".concat(t,"-header"),f=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),h=n.getMonth(i),p=y.createElement("button",{type:"button",key:"year",onClick:l,tabIndex:-1,className:"".concat(t,"-year-btn")},kk(i,{locale:r,format:r.yearFormat,generateConfig:n})),g=y.createElement("button",{type:"button",key:"month",onClick:c,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?kk(i,{locale:r,format:r.monthFormat,generateConfig:n}):f[h]),v=r.monthBeforeYear?[g,p]:[p,g];return y.createElement(qE,It({},e,{prefixCls:d,onSuperPrev:u,onPrev:a,onNext:o,onSuperNext:s}),v)};var Yk=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,i=e.keyboardConfig,o=e.active,a=e.operationRef,s=e.generateConfig,u=e.value,l=e.viewDate,c=e.onViewDateChange,d=e.onPanelChange,f=e.onSelect,h="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return rk(e,Ee({onLeftRight:function(e){f(s.addDate(u||l,e),"key")},onCtrlLeftRight:function(e){f(s.addYear(u||l,e),"key")},onUpDown:function(e){f(s.addDate(u||l,7*e),"key")},onPageUpDown:function(e){f(s.addMonth(u||l,e),"key")}},i))}};var p=function(e){var t=s.addYear(l,e);c(t),d(null,t)},g=function(e){var t=s.addMonth(l,e);c(t),d(null,t)};return y.createElement("div",{className:In()(h,(0,xe.Z)({},"".concat(h,"-active"),o))},y.createElement(zk,It({},e,{prefixCls:t,value:u,viewDate:l,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){g(-1)},onNextMonth:function(){g(1)},onMonthClick:function(){d("month",l)},onYearClick:function(){d("year",l)}})),y.createElement(Bk,It({},e,{onSelect:function(e){return f(e,"mouse")},prefixCls:t,value:u,viewDate:l,rowCount:6})))},Gk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var Vk=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,i=e.value,o=e.defaultValue,a=e.disabledTime,s=e.showTime,u=e.onSelect,l="".concat(t,"-datetime-panel"),c=y.useState(null),d=(0,m.Z)(c,2),f=d[0],h=d[1],p=y.useRef({}),g=y.useRef({}),v="object"===(0,hr.Z)(s)?Ee({},s):{},b=function(e){g.current.onBlur&&g.current.onBlur(e),h(null)};n.current={onKeyDown:function(e){if(e.which===Fo.TAB){var t=function(e){var t=Gk.indexOf(f)+e;return Gk[t]||null}(e.shiftKey?-1:1);return h(t),t&&e.preventDefault(),!0}if(f){var n="date"===f?p:g;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![Fo.LEFT,Fo.RIGHT,Fo.UP,Fo.DOWN].includes(e.which)&&(h("date"),!0)},onBlur:b,onClose:b};var x=function(e,t){var n=e;"date"===t&&!i&&v.defaultValue?(n=r.setHour(n,r.getHour(v.defaultValue)),n=r.setMinute(n,r.getMinute(v.defaultValue)),n=r.setSecond(n,r.getSecond(v.defaultValue))):"time"===t&&!i&&o&&(n=r.setYear(n,r.getYear(o)),n=r.setMonth(n,r.getMonth(o)),n=r.setDate(n,r.getDate(o))),u&&u(n,"mouse")},w=a?a(i||null):{};return y.createElement("div",{className:In()(l,(0,xe.Z)({},"".concat(l,"-active"),f))},y.createElement(Yk,It({},e,{operationRef:p,active:"date"===f,onSelect:function(e){x(JE(r,e,i||"object"!==(0,hr.Z)(s)?null:s.defaultValue),"date")}})),y.createElement(Lk,It({},e,{format:void 0},v,w,{disabledTime:null,defaultValue:void 0,operationRef:g,active:"time"===f,onSelect:function(e){x(e,"time")}})))};var Wk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return y.createElement(Yk,It({},e,{panelName:"week",prefixColumn:function(e){return y.createElement("td",{key:"week",className:In()(o,"".concat(o,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return In()(a,(0,xe.Z)({},"".concat(a,"-selected"),bk(n,r.locale,i,e)))},keyboardConfig:{onLeftRight:null}}))};var Uk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(y.useContext(ZE).hideHeader)return null;var u="".concat(t,"-header");return y.createElement(qE,It({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),y.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},kk(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var Zk=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=e.monthCellRender,s=y.useContext(jk),u=s.rangedValue,l=s.hoverRangedValue,c=Fk({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:u,hoverRangedValue:l,isSameCell:function(e,t){return mk(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,t)}}),d=n.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(n.locale):[]),f=o.setMonth(i,0),h=a?function(e){return a(e,n)}:void 0;return y.createElement(QE,It({},e,{rowNum:4,colNum:3,baseDate:f,getCellNode:h,getCellText:function(e){return n.monthFormat?kk(e,{locale:n,format:n.monthFormat,generateConfig:o}):d[o.getMonth(e)]},getCellClassName:c,getCellDate:o.addMonth,titleCell:function(e){return kk(e,{locale:n,format:"YYYY-MM",generateConfig:o})}}))};var Hk=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return rk(e,{onLeftRight:function(e){u(i.addMonth(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addMonth(o||a,3*e),"key")},onEnter:function(){s("date",o||a)}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return y.createElement("div",{className:l},y.createElement(Uk,It({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),y.createElement(Zk,It({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse"),s("date",e)}})))};var qk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(y.useContext(ZE).hideHeader)return null;var u="".concat(t,"-header");return y.createElement(qE,It({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),y.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},kk(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var Xk=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=y.useContext(jk),s=a.rangedValue,u=a.hoverRangedValue,l=Fk({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return vk(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,3*t)}}),c=o.setDate(o.setMonth(i,0),1);return y.createElement(QE,It({},e,{rowNum:1,colNum:4,baseDate:c,getCellText:function(e){return kk(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:o})},getCellClassName:l,getCellDate:function(e,t){return o.addMonth(e,3*t)},titleCell:function(e){return kk(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:o})}}))};var Kk=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return rk(e,{onLeftRight:function(e){u(i.addMonth(o||a,3*e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addYear(o||a,e),"key")}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return y.createElement("div",{className:l},y.createElement(qk,It({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),y.createElement(Xk,It({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse")}})))};var Jk=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecade,o=e.onNextDecade,a=e.onDecadeClick;if(y.useContext(ZE).hideHeader)return null;var s="".concat(t,"-header"),u=n.getYear(r),l=Math.floor(u/Qk)*Qk,c=l+Qk-1;return y.createElement(qE,It({},e,{prefixCls:s,onSuperPrev:i,onSuperNext:o}),y.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},l,"-",c))};var $k=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,i=e.locale,o=e.generateConfig,a=y.useContext(jk),s=a.rangedValue,u=a.hoverRangedValue,l="".concat(t,"-cell"),c=o.getYear(r),d=Math.floor(c/Qk)*Qk,f=d+Qk-1,h=o.setYear(r,d-Math.ceil((12-Qk)/2)),p=Fk({cellPrefixCls:l,value:n,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return pk(o,e,t)},isInView:function(e){var t=o.getYear(e);return d<=t&&t<=f},offsetCell:function(e,t){return o.addYear(e,t)}});return y.createElement(QE,It({},e,{rowNum:4,colNum:3,baseDate:h,getCellText:o.getYear,getCellClassName:p,getCellDate:o.addYear,titleCell:function(e){return kk(e,{locale:i,format:"YYYY",generateConfig:o})}}))},Qk=10;var e_=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.sourceMode,u=e.onSelect,l=e.onPanelChange,c="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return rk(e,{onLeftRight:function(e){u(i.addYear(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e*Qk),"key")},onUpDown:function(e){u(i.addYear(o||a,3*e),"key")},onEnter:function(){l("date"===s?"date":"month",o||a)}})}};var d=function(e){var t=i.addYear(a,10*e);r(t),l(null,t)};return y.createElement("div",{className:c},y.createElement(Jk,It({},e,{prefixCls:t,onPrevDecade:function(){d(-1)},onNextDecade:function(){d(1)},onDecadeClick:function(){l("decade",a)}})),y.createElement($k,It({},e,{prefixCls:t,onSelect:function(e){l("date"===s?"date":"month",e),u(e,"mouse")}})))};function t_(e,t,n){return n?y.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function n_(e){var t,n,r=e.prefixCls,i=e.rangeList,o=void 0===i?[]:i,a=e.components,s=void 0===a?{}:a,u=e.needConfirmButton,l=e.onNow,c=e.onOk,d=e.okDisabled,f=e.showNow,h=e.locale;if(o.length){var p=s.rangeItem||"span";t=y.createElement(y.Fragment,null,o.map((function(e){var t=e.label,n=e.onClick,i=e.onMouseEnter,o=e.onMouseLeave;return y.createElement("li",{key:t,className:"".concat(r,"-preset")},y.createElement(p,{onClick:n,onMouseEnter:i,onMouseLeave:o},t))})))}if(u){var g=s.button||"button";l&&!t&&!1!==f&&(t=y.createElement("li",{className:"".concat(r,"-now")},y.createElement("a",{className:"".concat(r,"-now-btn"),onClick:l},h.now))),n=u&&y.createElement("li",{className:"".concat(r,"-ok")},y.createElement(g,{disabled:d,onClick:c},h.ok))}return t||n?y.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var r_=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.className,o=e.style,a=e.locale,s=e.generateConfig,u=e.value,l=e.defaultValue,c=e.pickerValue,d=e.defaultPickerValue,f=e.disabledDate,h=e.mode,p=e.picker,g=void 0===p?"date":p,v=e.tabIndex,b=void 0===v?0:v,x=e.showNow,w=e.showTime,E=e.showToday,k=e.renderExtraFooter,_=e.hideHeader,S=e.onSelect,T=e.onChange,C=e.onPanelChange,M=e.onMouseDown,A=e.onPickerValueChange,I=e.onOk,O=e.components,N=e.direction,P=e.hourStep,D=void 0===P?1:P,R=e.minuteStep,L=void 0===R?1:R,j=e.secondStep,F=void 0===j?1:j,B="date"===g&&!!w||"time"===g,z=24%D===0,Y=60%L===0,G=60%F===0,V=y.useContext(ZE),W=V.operationRef,U=V.panelRef,Z=V.onSelect,H=V.hideRanges,q=V.defaultOpenValue,X=y.useContext(jk),K=X.inRange,J=X.panelPosition,$=X.rangedValue,Q=X.hoverRangedValue,ee=y.useRef({}),te=y.useRef(!0),ne=Zi(null,{value:u,defaultValue:l,postState:function(e){return!e&&q&&"time"===g?q:e}}),re=(0,m.Z)(ne,2),ie=re[0],oe=re[1],ae=Zi(null,{value:c,defaultValue:d||ie,postState:function(e){var t=s.getNow();return e?!ie&&w?"object"===(0,hr.Z)(w)?JE(s,Array.isArray(e)?e[0]:e,w.defaultValue||t):JE(s,Array.isArray(e)?e[0]:e,l||t):e:t}}),se=(0,m.Z)(ae,2),ue=se[0],le=se[1],ce=function(e){le(e),A&&A(e)},de=function(e){var t=uk[g];return t?t(e):e},fe=Zi((function(){return"time"===g?"time":de("date")}),{value:h}),he=(0,m.Z)(fe,2),pe=he[0],ge=he[1];y.useEffect((function(){ge(g)}),[g]);var ve,me=y.useState((function(){return pe})),ye=(0,m.Z)(me,2),be=ye[0],we=ye[1],ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(pe===g||n)&&(oe(e),S&&S(e),Z&&Z(e,t),!T||xk(s,e,ie)||(null===f||void 0===f?void 0:f(e))||T(e))},_e=function(e){return ee.current&&ee.current.onKeyDown?([Fo.LEFT,Fo.RIGHT,Fo.UP,Fo.DOWN,Fo.PAGE_UP,Fo.PAGE_DOWN,Fo.ENTER].includes(e.which)&&e.preventDefault(),ee.current.onKeyDown(e)):(Xr(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};W&&"right"!==J&&(W.current={onKeyDown:_e,onClose:function(){ee.current&&ee.current.onClose&&ee.current.onClose()}}),y.useEffect((function(){u&&!te.current&&le(u)}),[u]),y.useEffect((function(){te.current=!1}),[]);var Se,Te,Ce,Me=Ee(Ee({},e),{},{operationRef:ee,prefixCls:r,viewDate:ue,value:ie,onViewDateChange:ce,sourceMode:be,onPanelChange:function(e,t){var n=de(e||pe);we(pe),ge(n),C&&(pe!==n||xk(s,ue,ue))&&C(t,n)},disabledDate:f});switch(delete Me.onChange,delete Me.onSelect,pe){case"decade":ve=y.createElement(fk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;case"year":ve=y.createElement(e_,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;case"month":ve=y.createElement(Hk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;case"quarter":ve=y.createElement(Kk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;case"week":ve=y.createElement(Wk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;case"time":delete Me.showTime,ve=y.createElement(Lk,It({},Me,"object"===(0,hr.Z)(w)?w:null,{onSelect:function(e,t){ce(e),ke(e,t)}}));break;default:ve=w?y.createElement(Vk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}})):y.createElement(Yk,It({},Me,{onSelect:function(e,t){ce(e),ke(e,t)}}))}if(H||(Se=t_(r,pe,k),Te=n_({prefixCls:r,components:O,needConfirmButton:B,okDisabled:!ie||f&&f(ie),locale:a,showNow:x,onNow:B&&function(){var e=s.getNow(),t=function(e,t,n,r,i,o){var a=Math.floor(e/r)*r;if(a<e)return[a,60-i,60-o];var s=Math.floor(t/i)*i;return s<t?[a,s,60-o]:[a,s,Math.floor(n/o)*o]}(s.getHour(e),s.getMinute(e),s.getSecond(e),z?D:1,Y?L:1,G?F:1),n=KE(s,e,t[0],t[1],t[2]);ke(n,"submit")},onOk:function(){ie&&(ke(ie,"submit",!0),I&&I(ie))}})),E&&"date"===pe&&"date"===g&&!w){var Ae=s.getNow(),Ie="".concat(r,"-today-btn"),Oe=f&&f(Ae);Ce=y.createElement("a",{className:In()(Ie,Oe&&"".concat(Ie,"-disabled")),"aria-disabled":Oe,onClick:function(){Oe||ke(Ae,"mouse",!0)}},a.today)}return y.createElement(ZE.Provider,{value:Ee(Ee({},V),{},{mode:pe,hideHeader:"hideHeader"in e?_:V.hideHeader,hidePrevBtn:K&&"right"===J,hideNextBtn:K&&"left"===J})},y.createElement("div",{tabIndex:b,className:In()("".concat(r,"-panel"),i,(t={},(0,xe.Z)(t,"".concat(r,"-panel-has-range"),$&&$[0]&&$[1]),(0,xe.Z)(t,"".concat(r,"-panel-has-range-hover"),Q&&Q[0]&&Q[1]),(0,xe.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===N),t)),style:o,onKeyDown:_e,onBlur:function(e){ee.current&&ee.current.onBlur&&ee.current.onBlur(e)},onMouseDown:M,ref:U},ve,Se||Te||Ce?y.createElement("div",{className:"".concat(r,"-footer")},Se,Te,Ce):null))},i_={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var o_=function(e){var t,n=e.prefixCls,r=e.popupElement,i=e.popupStyle,o=e.visible,a=e.dropdownClassName,s=e.dropdownAlign,u=e.transitionName,l=e.getPopupContainer,c=e.children,d=e.range,f=e.popupPlacement,h=e.direction,p="".concat(n,"-dropdown");return y.createElement(yu,{showAction:[],hideAction:[],popupPlacement:void 0!==f?f:"rtl"===h?"bottomRight":"bottomLeft",builtinPlacements:i_,prefixCls:p,popupTransitionName:u,popup:r,popupAlign:s,popupVisible:o,popupClassName:In()(a,(t={},(0,xe.Z)(t,"".concat(p,"-range"),d),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===h),t)),popupStyle:i,getPopupContainer:l},c)};function a_(e){var t=e.open,n=e.value,r=e.isClickOutside,i=e.triggerOpen,o=e.forwardKeyDown,a=e.onKeyDown,s=e.blurToCancel,u=e.onSubmit,l=e.onCancel,c=e.onFocus,d=e.onBlur,f=(0,y.useState)(!1),h=(0,m.Z)(f,2),p=h[0],g=h[1],v=(0,y.useState)(!1),b=(0,m.Z)(v,2),x=b[0],w=b[1],E=(0,y.useRef)(!1),k=(0,y.useRef)(!1),_=(0,y.useRef)(!1),S={onMouseDown:function(){g(!0),i(!0)},onKeyDown:function(e){if(a(e,(function(){_.current=!0})),!_.current){switch(e.which){case Fo.ENTER:return t?!1!==u()&&g(!0):i(!0),void e.preventDefault();case Fo.TAB:return void(p&&t&&!e.shiftKey?(g(!1),e.preventDefault()):!p&&t&&!o(e)&&e.shiftKey&&(g(!0),e.preventDefault()));case Fo.ESC:return g(!0),void l()}t||[Fo.SHIFT].includes(e.which)?p||o(e):i(!0)}},onFocus:function(e){g(!0),w(!0),c&&c(e)},onBlur:function(e){!E.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&l()}),0):t&&(i(!1),k.current&&u()),w(!1),d&&d(e)):E.current=!1}};return(0,y.useEffect)((function(){k.current=!1}),[t]),(0,y.useEffect)((function(){k.current=!0}),[n]),(0,y.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var o=r(n);o?x&&!o||i(!1):(E.current=!0,requestAnimationFrame((function(){E.current=!1})))}},!ak&&"undefined"!==typeof window&&window.addEventListener&&(ak=function(e){(0,Mn.Z)(sk).forEach((function(t){t(e)}))},window.addEventListener("mousedown",ak)),sk.add(e),function(){sk.delete(e),0===sk.size&&(window.removeEventListener("mousedown",ak),ak=null)};var e})),[S,{focused:x,typing:p}]}function s_(e){var t=e.valueTexts,n=e.onTextChange,r=y.useState(""),i=(0,m.Z)(r,2),o=i[0],a=i[1],s=y.useRef([]);function u(){a(s.current[0])}return s.current=t,y.useEffect((function(){t.every((function(e){return e!==o}))&&u()}),[t.join("||")]),[o,function(e){a(e),n(e)},u]}function u_(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale;return Li((function(){if(!e)return[[""],""];for(var t="",o=[],a=0;a<n.length;a+=1){var s=n[a],u=kk(e,{generateConfig:r,locale:i,format:s});o.push(u),0===a&&(t=u)}return[o,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!rl()(e[1],t[1])}))}function l_(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale,o=(0,y.useState)(null),a=(0,m.Z)(o,2),s=a[0],u=a[1],l=(0,y.useRef)(null);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(l.current),t?u(e):l.current=requestAnimationFrame((function(){u(e)}))}var d=u_(s,{formatList:n,generateConfig:r,locale:i}),f=(0,m.Z)(d,2)[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(null,e)}return(0,y.useEffect)((function(){h(!0)}),[e]),(0,y.useEffect)((function(){return function(){return cancelAnimationFrame(l.current)}}),[]),[f,function(e){c(e)},h]}function c_(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.id,o=e.tabIndex,a=e.style,s=e.className,u=e.dropdownClassName,l=e.dropdownAlign,c=e.popupStyle,d=e.transitionName,f=e.generateConfig,h=e.locale,p=e.inputReadOnly,g=e.allowClear,v=e.autoFocus,b=e.showTime,x=e.picker,w=void 0===x?"date":x,E=e.format,k=e.use12Hours,_=e.value,S=e.defaultValue,T=e.open,C=e.defaultOpen,M=e.defaultOpenValue,A=e.suffixIcon,I=e.clearIcon,O=e.disabled,N=e.disabledDate,P=e.placeholder,D=e.getPopupContainer,R=e.pickerRef,L=e.panelRender,j=e.onChange,F=e.onOpenChange,B=e.onFocus,z=e.onBlur,Y=e.onMouseDown,G=e.onMouseUp,V=e.onMouseEnter,W=e.onMouseLeave,U=e.onContextMenu,Z=e.onClick,H=e.onKeyDown,q=e.onSelect,X=e.direction,K=e.autoComplete,J=void 0===K?"off":K,$=e.inputRender,Q=y.useRef(null),ee="date"===w&&!!b||"time"===w;var te=Ak(ik(E,w,b,k)),ne=y.useRef(null),re=y.useRef(null),ie=y.useRef(null),oe=Zi(null,{value:_,defaultValue:S}),ae=(0,m.Z)(oe,2),se=ae[0],ue=ae[1],le=y.useState(se),ce=(0,m.Z)(le,2),de=ce[0],fe=ce[1],he=y.useRef(null),pe=Zi(!1,{value:T,defaultValue:C,postState:function(e){return!O&&e},onChange:function(e){F&&F(e),!e&&he.current&&he.current.onClose&&he.current.onClose()}}),ge=(0,m.Z)(pe,2),ve=ge[0],me=ge[1],ye=u_(de,{formatList:te,generateConfig:f,locale:h}),be=(0,m.Z)(ye,2),we=be[0],ke=be[1],_e=s_({valueTexts:we,onTextChange:function(e){var t=_k(e,{locale:h,formatList:te,generateConfig:f});!t||N&&N(t)||fe(t)}}),Se=(0,m.Z)(_e,3),Te=Se[0],Ce=Se[1],Me=Se[2],Ae=function(e){fe(e),ue(e),j&&!xk(f,se,e)&&j(e,e?kk(e,{generateConfig:f,locale:h,format:te[0]}):"")},Ie=function(e){O&&e||me(e)},Oe=a_({blurToCancel:ee,open:ve,value:Te,triggerOpen:Ie,forwardKeyDown:function(e){return ve&&he.current&&he.current.onKeyDown?he.current.onKeyDown(e):(Xr(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!lk([ne.current,re.current,ie.current],e)},onSubmit:function(){return!(!de||N&&N(de))&&(Ae(de),Ie(!1),Me(),!0)},onCancel:function(){Ie(!1),fe(se),Me()},onKeyDown:function(e,t){null===H||void 0===H||H(e,t)},onFocus:B,onBlur:z}),Ne=(0,m.Z)(Oe,2),Pe=Ne[0],De=Ne[1],Re=De.focused,Le=De.typing;y.useEffect((function(){ve||(fe(se),we.length&&""!==we[0]?ke!==Te&&Me():Ce(""))}),[ve,we]),y.useEffect((function(){ve||Me()}),[w]),y.useEffect((function(){fe(se)}),[se]),R&&(R.current={focus:function(){Q.current&&Q.current.focus()},blur:function(){Q.current&&Q.current.blur()}});var je=l_(Te,{formatList:te,generateConfig:f,locale:h}),Fe=(0,m.Z)(je,3),Be=Fe[0],ze=Fe[1],Ye=Fe[2],Ge=Ee(Ee({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Ve=y.createElement(r_,It({},Ge,{generateConfig:f,className:In()((0,xe.Z)({},"".concat(r,"-panel-focused"),!Le)),value:de,locale:h,tabIndex:-1,onSelect:function(e){null===q||void 0===q||q(e),fe(e)},direction:X,onPanelChange:function(t,n){var r=e.onPanelChange;Ye(!0),null===r||void 0===r||r(t,n)}}));L&&(Ve=L(Ve));var We,Ue,Ze=y.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},Ve);A&&(We=y.createElement("span",{className:"".concat(r,"-suffix")},A)),g&&se&&!O&&(Ue=y.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Ae(null),Ie(!1)},className:"".concat(r,"-clear"),role:"button"},I||y.createElement("span",{className:"".concat(r,"-clear-btn")})));var He=Ee(Ee(Ee({id:i,tabIndex:o,disabled:O,readOnly:p||"function"===typeof te[0]||!Le,value:Be||Te,onChange:function(e){Ce(e.target.value)},autoFocus:v,placeholder:P,ref:Q,title:Te},Pe),{},{size:ok(w,te[0],f)},Ik(e)),{},{autoComplete:J}),qe=$?$(He):y.createElement("input",He);var Xe="rtl"===X?"bottomRight":"bottomLeft";return y.createElement(ZE.Provider,{value:{operationRef:he,hideHeader:"time"===w,panelRef:ne,onSelect:function(e,t){("submit"===t||"key"!==t&&!ee)&&(Ae(e),Ie(!1))},open:ve,defaultOpenValue:M,onDateMouseEnter:ze,onDateMouseLeave:Ye}},y.createElement(o_,{visible:ve,popupElement:Ze,popupStyle:c,prefixCls:r,dropdownClassName:u,dropdownAlign:l,getPopupContainer:D,transitionName:d,popupPlacement:Xe,direction:X},y.createElement("div",{ref:ie,className:In()(r,s,(t={},(0,xe.Z)(t,"".concat(r,"-disabled"),O),(0,xe.Z)(t,"".concat(r,"-focused"),Re),(0,xe.Z)(t,"".concat(r,"-rtl"),"rtl"===X),t)),style:a,onMouseDown:Y,onMouseUp:function(){G&&G.apply(void 0,arguments),Q.current&&(Q.current.focus(),Ie(!0))},onMouseEnter:V,onMouseLeave:W,onContextMenu:U,onClick:Z},y.createElement("div",{className:In()("".concat(r,"-input"),(0,xe.Z)({},"".concat(r,"-input-placeholder"),!!Be)),ref:re},qe,We,Ue))))}var d_=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=y.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Nn.Z)(n,[{key:"render",value:function(){return y.createElement(c_,It({},this.props,{pickerRef:this.pickerRef}))}}]),n}(y.Component),f_=d_;function h_(e,t,n,r){var i=Ek(e,n,r,1);function o(n){return n(e,t)?"same":n(i,t)?"closing":"far"}switch(n){case"year":return o((function(e,t){return function(e,t,n){var r=hk(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return o((function(e,t){return pk(r,e,t)}));default:return o((function(e,t){return mk(r,e,t)}))}}function p_(e){var t=e.values,n=e.picker,r=e.defaultDates,i=e.generateConfig,o=y.useState((function(){return[Ok(r,0),Ok(r,1)]})),a=(0,m.Z)(o,2),s=a[0],u=a[1],l=y.useState(null),c=(0,m.Z)(l,2),d=c[0],f=c[1],h=Ok(t,0),p=Ok(t,1);return[function(e){return s[e]?s[e]:Ok(d,e)||function(e,t,n,r){var i=Ok(e,0),o=Ok(e,1);if(0===t)return i;if(i&&o)switch(h_(i,o,n,r)){case"same":case"closing":return i;default:return Ek(o,n,r,-1)}return i}(t,e,n,i)||h||p||i.getNow()},function(e,n){if(e){var r=Nk(d,e,n);u(Nk(s,null,n)||[null,null]);var i=(n+1)%2;Ok(t,i)||(r=Nk(r,e,i)),f(r)}else(h||p)&&f(null)}]}function g_(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function v_(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function m_(e){var t,n,r,i=e.prefixCls,o=void 0===i?"rc-picker":i,a=e.id,s=e.style,u=e.className,l=e.popupStyle,c=e.dropdownClassName,d=e.transitionName,f=e.dropdownAlign,h=e.getPopupContainer,p=e.generateConfig,g=e.locale,v=e.placeholder,b=e.autoFocus,x=e.disabled,w=e.format,E=e.picker,k=void 0===E?"date":E,_=e.showTime,S=e.use12Hours,T=e.separator,C=void 0===T?"~":T,M=e.value,A=e.defaultValue,I=e.defaultPickerValue,O=e.open,N=e.defaultOpen,P=e.disabledDate,D=e.disabledTime,R=e.dateRender,L=e.panelRender,j=e.ranges,F=e.allowEmpty,B=e.allowClear,z=e.suffixIcon,Y=e.clearIcon,G=e.pickerRef,V=e.inputReadOnly,W=e.mode,U=e.renderExtraFooter,Z=e.onChange,H=e.onOpenChange,q=e.onPanelChange,X=e.onCalendarChange,K=e.onFocus,J=e.onBlur,$=e.onMouseDown,Q=e.onMouseUp,ee=e.onMouseEnter,te=e.onMouseLeave,ne=e.onClick,re=e.onOk,ie=e.onKeyDown,oe=e.components,ae=e.order,se=e.direction,ue=e.activePickerIndex,le=e.autoComplete,ce=void 0===le?"off":le,de="date"===k&&!!_||"time"===k,fe=(0,y.useRef)({}),he=(0,y.useRef)(null),pe=(0,y.useRef)(null),ge=(0,y.useRef)(null),ve=(0,y.useRef)(null),me=(0,y.useRef)(null),ye=(0,y.useRef)(null),be=(0,y.useRef)(null),we=(0,y.useRef)(null);var ke=Ak(ik(w,k,_,S)),_e=Zi(0,{value:ue}),Se=(0,m.Z)(_e,2),Te=Se[0],Ce=Se[1],Me=(0,y.useRef)(null),Ae=y.useMemo((function(){return Array.isArray(x)?x:[x||!1,x||!1]}),[x]),Ie=Zi(null,{value:M,defaultValue:A,postState:function(e){return"time"!==k||ae?g_(e,p):e}}),Oe=(0,m.Z)(Ie,2),Ne=Oe[0],Pe=Oe[1],De=p_({values:Ne,picker:k,defaultDates:I,generateConfig:p}),Re=(0,m.Z)(De,2),Le=Re[0],je=Re[1],Fe=Zi(Ne,{postState:function(e){var t=e;if(Ae[0]&&Ae[1])return t;for(var n=0;n<2;n+=1)!Ae[n]||Ok(t,n)||Ok(F,n)||(t=Nk(t,p.getNow(),n));return t}}),Be=(0,m.Z)(Fe,2),ze=Be[0],Ye=Be[1],Ge=Zi([k,k],{value:W}),Ve=(0,m.Z)(Ge,2),We=Ve[0],Ue=Ve[1];(0,y.useEffect)((function(){Ue([k,k])}),[k]);var Ze=function(e,t){Ue(e),q&&q(t,e)},He=function(e,t,n){var r=e.picker,i=e.locale,o=e.selectedValue,a=e.disabledDate,s=e.disabled,u=e.generateConfig,l=Ok(o,0),c=Ok(o,1);function d(e){return u.locale.getWeekFirstDate(i.locale,e)}function f(e){return 100*u.getYear(e)+u.getMonth(e)}function h(e){return 10*u.getYear(e)+gk(u,e)}var p=y.useCallback((function(e){if(a&&a(e))return!0;if(s[1]&&c)return!yk(u,e,c)&&u.isAfter(e,c);if(t&&c)switch(r){case"quarter":return h(e)>h(c);case"month":return f(e)>f(c);case"week":return d(e)>d(c);default:return!yk(u,e,c)&&u.isAfter(e,c)}return!1}),[a,s[1],c,t]),g=y.useCallback((function(e){if(a&&a(e))return!0;if(s[0]&&l)return!yk(u,e,c)&&u.isAfter(l,e);if(n&&l)switch(r){case"quarter":return h(e)<h(l);case"month":return f(e)<f(l);case"week":return d(e)<d(l);default:return!yk(u,e,l)&&u.isAfter(l,e)}return!1}),[a,s[0],l,n]);return[p,g]}({picker:k,selectedValue:ze,locale:g,disabled:Ae,disabledDate:P,generateConfig:p},fe.current[1],fe.current[0]),qe=(0,m.Z)(He,2),Xe=qe[0],Ke=qe[1],Je=Zi(!1,{value:O,defaultValue:N,postState:function(e){return!Ae[Te]&&e},onChange:function(e){H&&H(e),!e&&Me.current&&Me.current.onClose&&Me.current.onClose()}}),$e=(0,m.Z)(Je,2),Qe=$e[0],et=$e[1],tt=Qe&&0===Te,nt=Qe&&1===Te,rt=(0,y.useState)(0),it=(0,m.Z)(rt,2),ot=it[0],at=it[1];(0,y.useEffect)((function(){!Qe&&he.current&&at(he.current.offsetWidth)}),[Qe]);var st=y.useRef();function ut(e,t){if(e)clearTimeout(st.current),fe.current[t]=!0,Ce(t),et(e),Qe||je(null,t);else if(Te===t){et(e);var n=fe.current;st.current=setTimeout((function(){n===fe.current&&(fe.current={})}))}}function lt(e){ut(!0,e),setTimeout((function(){var t=[ye,be][e];t.current&&t.current.focus()}),0)}function ct(e,t){var n=e,r=Ok(n,0),i=Ok(n,1);r&&i&&p.isAfter(r,i)&&("week"===k&&!bk(p,g.locale,r,i)||"quarter"===k&&!vk(p,r,i)||"week"!==k&&"quarter"!==k&&"time"!==k&&!yk(p,r,i)?(0===t?(n=[r,null],i=null):(r=null,n=[null,i]),fe.current=(0,xe.Z)({},t,!0)):"time"===k&&!1===ae||(n=g_(n,p))),Ye(n);var o=n&&n[0]?kk(n[0],{generateConfig:p,locale:g,format:ke[0]}):"",a=n&&n[1]?kk(n[1],{generateConfig:p,locale:g,format:ke[0]}):"";X&&X(n,[o,a],{range:0===t?"start":"end"});var s=v_(r,0,Ae,F),u=v_(i,1,Ae,F);(null===n||s&&u)&&(Pe(n),!Z||xk(p,Ok(Ne,0),r)&&xk(p,Ok(Ne,1),i)||Z(n,[o,a]));var l=null;0!==t||Ae[1]?1!==t||Ae[0]||(l=0):l=1,null===l||l===Te||fe.current[l]&&Ok(n,l)||!Ok(n,t)?ut(!1,t):lt(l)}var dt=function(e){return Qe&&Me.current&&Me.current.onKeyDown?Me.current.onKeyDown(e):(Xr(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},ft={formatList:ke,generateConfig:p,locale:g},ht=u_(Ok(ze,0),ft),pt=(0,m.Z)(ht,2),gt=pt[0],vt=pt[1],mt=u_(Ok(ze,1),ft),yt=(0,m.Z)(mt,2),bt=yt[0],xt=yt[1],wt=function(e,t){var n=_k(e,{locale:g,formatList:ke,generateConfig:p});n&&!(0===t?Xe:Ke)(n)&&(Ye(Nk(ze,n,t)),je(n,t))},Et=s_({valueTexts:gt,onTextChange:function(e){return wt(e,0)}}),kt=(0,m.Z)(Et,3),_t=kt[0],St=kt[1],Tt=kt[2],Ct=s_({valueTexts:bt,onTextChange:function(e){return wt(e,1)}}),Mt=(0,m.Z)(Ct,3),At=Mt[0],Ot=Mt[1],Nt=Mt[2],Pt=(0,y.useState)(null),Dt=(0,m.Z)(Pt,2),Rt=Dt[0],Lt=Dt[1],jt=(0,y.useState)(null),Ft=(0,m.Z)(jt,2),Bt=Ft[0],zt=Ft[1],Yt=l_(_t,{formatList:ke,generateConfig:p,locale:g}),Gt=(0,m.Z)(Yt,3),Vt=Gt[0],Wt=Gt[1],Ut=Gt[2],Zt=l_(At,{formatList:ke,generateConfig:p,locale:g}),Ht=(0,m.Z)(Zt,3),qt=Ht[0],Xt=Ht[1],Kt=Ht[2],Jt=function(e,t){return{blurToCancel:de,forwardKeyDown:dt,onBlur:J,isClickOutside:function(e){return!lk([pe.current,ge.current,ve.current,he.current],e)},onFocus:function(t){Ce(e),K&&K(t)},triggerOpen:function(t){ut(t,e)},onSubmit:function(){if(!ze||P&&P(ze[e]))return!1;ct(ze,e),t()},onCancel:function(){ut(!1,e),Ye(Ne),t()}}},$t=a_(Ee(Ee({},Jt(0,Tt)),{},{open:tt,value:_t,onKeyDown:function(e,t){null===ie||void 0===ie||ie(e,t)}})),Qt=(0,m.Z)($t,2),en=Qt[0],tn=Qt[1],nn=tn.focused,rn=tn.typing,on=a_(Ee(Ee({},Jt(1,Nt)),{},{open:nt,value:At,onKeyDown:function(e,t){null===ie||void 0===ie||ie(e,t)}})),an=(0,m.Z)(on,2),sn=an[0],un=an[1],ln=un.focused,cn=un.typing,dn=Ne&&Ne[0]?kk(Ne[0],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"",fn=Ne&&Ne[1]?kk(Ne[1],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"";(0,y.useEffect)((function(){Qe||(Ye(Ne),gt.length&&""!==gt[0]?vt!==_t&&Tt():St(""),bt.length&&""!==bt[0]?xt!==At&&Nt():Ot(""))}),[Qe,gt,bt]),(0,y.useEffect)((function(){Ye(Ne)}),[dn,fn]),G&&(G.current={focus:function(){ye.current&&ye.current.focus()},blur:function(){ye.current&&ye.current.blur(),be.current&&be.current.blur()}});var hn=Object.keys(j||{}).map((function(e){var t=j[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){ct(n,null),ut(!1,Te)},onMouseEnter:function(){Lt(n)},onMouseLeave:function(){Lt(null)}}}));function pn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Qe&&Bt&&Bt[0]&&Bt[1]&&p.isAfter(Bt[1],Bt[0])&&(r=Bt);var i=_;if(_&&"object"===(0,hr.Z)(_)&&_.defaultValue){var a=_.defaultValue;i=Ee(Ee({},_),{},{defaultValue:Ok(a,Te)||void 0})}var s=null;return R&&(s=function(e,t){return R(e,t,{range:Te?"end":"start"})}),y.createElement(jk.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:Rt||ze,hoverRangedValue:r}},y.createElement(r_,It({},e,n,{dateRender:s,showTime:i,mode:We[Te],generateConfig:p,style:void 0,direction:se,disabledDate:0===Te?Xe:Ke,disabledTime:function(e){return!!D&&D(e,0===Te?"start":"end")},className:In()((0,xe.Z)({},"".concat(o,"-panel-focused"),0===Te?!rn:!cn)),value:Ok(ze,Te),locale:g,tabIndex:-1,onPanelChange:function(e,n){0===Te&&Ut(!0),1===Te&&Kt(!0),Ze(Nk(We,n,Te),Nk(ze,e,Te));var r=e;"right"===t&&We[Te]===n&&(r=Ek(r,n,p,-1)),je(r,Te)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:Ok(ze,0===Te?1:0)})))}var gn=0,vn=0;Te&&ge.current&&me.current&&pe.current&&(gn=ge.current.offsetWidth+me.current.offsetWidth,pe.current.offsetWidth&&we.current.offsetWidth&&gn>pe.current.offsetWidth-we.current.offsetWidth-("rtl"===se?0:we.current.offsetLeft)&&(vn=gn));var mn="rtl"===se?{right:gn}:{left:gn};var yn,bn,xn=y.createElement("div",{className:In()("".concat(o,"-range-wrapper"),"".concat(o,"-").concat(k,"-range-wrapper")),style:{minWidth:ot}},y.createElement("div",{ref:we,className:"".concat(o,"-range-arrow"),style:mn}),function(){var e,t=t_(o,We[Te],U),n=n_({prefixCls:o,components:oe,needConfirmButton:de,okDisabled:!Ok(ze,Te)||P&&P(ze[Te]),locale:g,rangeList:hn,onOk:function(){Ok(ze,Te)&&(ct(ze,Te),re&&re(ze))}});if("time"===k||_)e=pn();else{var r=Le(Te),i=Ek(r,k,p),a=We[Te]===k,s=pn(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){je(e,Te)}}),u=pn("right",{pickerValue:i,onPickerValueChange:function(e){je(Ek(e,k,p,-1),Te)}});e="rtl"===se?y.createElement(y.Fragment,null,u,a&&s):y.createElement(y.Fragment,null,s,a&&u)}var l=y.createElement(y.Fragment,null,y.createElement("div",{className:"".concat(o,"-panels")},e),(t||n)&&y.createElement("div",{className:"".concat(o,"-footer")},t,n));return L&&(l=L(l)),y.createElement("div",{className:"".concat(o,"-panel-container"),style:{marginLeft:vn},ref:pe,onMouseDown:function(e){e.preventDefault()}},l)}());z&&(yn=y.createElement("span",{className:"".concat(o,"-suffix")},z)),B&&(Ok(Ne,0)&&!Ae[0]||Ok(Ne,1)&&!Ae[1])&&(bn=y.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=Ne;Ae[0]||(t=Nk(t,null,0)),Ae[1]||(t=Nk(t,null,1)),ct(t,null),ut(!1,Te)},className:"".concat(o,"-clear")},Y||y.createElement("span",{className:"".concat(o,"-clear-btn")})));var wn={size:ok(k,ke[0],p)},En=0,kn=0;ge.current&&ve.current&&me.current&&(0===Te?kn=ge.current.offsetWidth:(En=gn,kn=ve.current.offsetWidth));var _n="rtl"===se?{right:En}:{left:En};return y.createElement(ZE.Provider,{value:{operationRef:Me,hideHeader:"time"===k,onDateMouseEnter:function(e){zt(Nk(ze,e,Te)),0===Te?Wt(e):Xt(e)},onDateMouseLeave:function(){zt(Nk(ze,null,Te)),0===Te?Ut():Kt()},hideRanges:!0,onSelect:function(e,t){var n=Nk(ze,e,Te);"submit"===t||"key"!==t&&!de?(ct(n,Te),0===Te?Ut():Kt()):Ye(n)},open:Qe}},y.createElement(o_,{visible:Qe,popupElement:xn,popupStyle:l,prefixCls:o,dropdownClassName:c,dropdownAlign:f,getPopupContainer:h,transitionName:d,range:!0,direction:se},y.createElement("div",It({ref:he,className:In()(o,"".concat(o,"-range"),u,(t={},(0,xe.Z)(t,"".concat(o,"-disabled"),Ae[0]&&Ae[1]),(0,xe.Z)(t,"".concat(o,"-focused"),0===Te?nn:ln),(0,xe.Z)(t,"".concat(o,"-rtl"),"rtl"===se),t)),style:s,onClick:function(e){ne&&ne(e),Qe||ye.current.contains(e.target)||be.current.contains(e.target)||(Ae[0]?Ae[1]||lt(1):lt(0))},onMouseEnter:ee,onMouseLeave:te,onMouseDown:function(e){$&&$(e),!Qe||!nn&&!ln||ye.current.contains(e.target)||be.current.contains(e.target)||e.preventDefault()},onMouseUp:Q},Ik(e)),y.createElement("div",{className:In()("".concat(o,"-input"),(n={},(0,xe.Z)(n,"".concat(o,"-input-active"),0===Te),(0,xe.Z)(n,"".concat(o,"-input-placeholder"),!!Vt),n)),ref:ge},y.createElement("input",It({id:a,disabled:Ae[0],readOnly:V||"function"===typeof ke[0]||!rn,value:Vt||_t,onChange:function(e){St(e.target.value)},autoFocus:b,placeholder:Ok(v,0)||"",ref:ye},en,wn,{autoComplete:ce}))),y.createElement("div",{className:"".concat(o,"-range-separator"),ref:me},C),y.createElement("div",{className:In()("".concat(o,"-input"),(r={},(0,xe.Z)(r,"".concat(o,"-input-active"),1===Te),(0,xe.Z)(r,"".concat(o,"-input-placeholder"),!!qt),r)),ref:ve},y.createElement("input",It({disabled:Ae[1],readOnly:V||"function"===typeof ke[0]||!cn,value:qt||At,onChange:function(e){Ot(e.target.value)},placeholder:Ok(v,1)||"",ref:be},sn,wn,{autoComplete:ce}))),y.createElement("div",{className:"".concat(o,"-active-bar"),style:Ee(Ee({},_n),{},{width:kn,position:"absolute"})}),yn,bn)))}var y_=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=y.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Nn.Z)(n,[{key:"render",value:function(){return y.createElement(m_,It({},this.props,{pickerRef:this.pickerRef}))}}]),n}(y.Component),b_=y_,x_=f_;function w_(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function E_(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function k_(e,t){var n={adjustX:1,adjustY:1};switch(t){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return"rtl"===e?{points:["tr","br"],offset:[0,4],overflow:n}:{points:["tl","bl"],offset:[0,4],overflow:n}}}var __=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var S_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},T_=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:S_}))};T_.displayName="SwapRightOutlined";var C_=y.forwardRef(T_),M_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var A_={button:function(e){return y.createElement(hf,It({size:"small",type:"primary"},e))},rangeItem:function(e){return y.createElement(Bp,It({color:"blue"},e))}};function I_(e){var t,n=e.format,r=e.picker,i=e.showHour,o=e.showMinute,a=e.showSecond,s=e.use12Hours,u=(t=n,t?Array.isArray(t)?t:[t]:[])[0],l=It({},e);return u&&"string"===typeof u&&(u.includes("s")||void 0!==a||(l.showSecond=!1),u.includes("m")||void 0!==o||(l.showMinute=!1),u.includes("H")||u.includes("h")||void 0!==i||(l.showHour=!1),(u.includes("a")||u.includes("A"))&&void 0===s&&(l.use12Hours=!0)),"time"===r?l:("function"===typeof u&&delete l.format,{showTime:l})}Nu("bottomLeft","bottomRight","topLeft","topRight");var O_=function(e){var t=function(e){function t(t,n){var r=function(r){(0,Pn.Z)(o,r);var i=(0,Dn.Z)(o);function o(r){var a;return(0,On.Z)(this,o),(a=i.call(this,r)).pickerRef=y.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.renderFeedback=function(e){return y.createElement(Bc.Consumer,null,(function(t){var n=t.hasFeedback,r=t.status,i=a.props.status,o=nd(r,i);return n&&ed(e,o)}))},a.renderSuffix=function(e,t){return y.createElement(y.Fragment,null,"time"===t?y.createElement(UE,null):y.createElement(GE,null),a.renderFeedback(e))},a.renderPicker=function(n){var r=It(It({},n),a.props.locale),i=a.context,o=i.getPrefixCls,s=i.direction,u=i.getPopupContainer,l=a.props,c=l.prefixCls,d=l.getPopupContainer,f=l.className,h=l.size,p=l.bordered,g=void 0===p||p,v=l.placement,m=l.placeholder,b=l.status,x=__(l,["prefixCls","getPopupContainer","className","size","bordered","placement","placeholder","status"]),w=a.props,E=w.format,k=w.showTime,_=o("picker",c),S={showToday:!0},T={};t&&(T.picker=t);var C=t||a.props.picker;T=It(It(It({},T),k?I_(It({format:E,picker:C},k)):{}),"time"===C?I_(It(It({format:E},a.props),{picker:C})):{});var M=o();return y.createElement(cl.Consumer,null,(function(t){var n=h||t;return y.createElement(Bc.Consumer,null,(function(t){var i,o=t.hasFeedback,l=t.status;return y.createElement(x_,It({ref:a.pickerRef,placeholder:w_(C,r,m),suffixIcon:a.renderSuffix(_,C),dropdownAlign:k_(s,v),clearIcon:y.createElement(Xc,null),prevIcon:y.createElement("span",{className:"".concat(_,"-prev-icon")}),nextIcon:y.createElement("span",{className:"".concat(_,"-next-icon")}),superPrevIcon:y.createElement("span",{className:"".concat(_,"-super-prev-icon")}),superNextIcon:y.createElement("span",{className:"".concat(_,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(M,"-slide-up")},S,x,T,{locale:r.lang,className:In()((i={},(0,xe.Z)(i,"".concat(_,"-").concat(n),n),(0,xe.Z)(i,"".concat(_,"-borderless"),!g),i),td(_,nd(l,b),o),f),prefixCls:_,getPopupContainer:d||u,generateConfig:e,components:A_,direction:s}))}))}))},zi("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return(0,Nn.Z)(o,[{key:"render",value:function(){return y.createElement(Gn,{componentName:"DatePicker",defaultLocale:jn},this.renderPicker)}}]),o}(y.Component);return r.contextType=$n,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,i=t.MonthPicker,o=t.YearPicker,a=t.TimePicker,s=t.QuarterPicker,u=function(e){var t=function(t){(0,Pn.Z)(r,t);var n=(0,Dn.Z)(r);function r(){var t;return(0,On.Z)(this,r),(t=n.apply(this,arguments)).pickerRef=y.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.renderPicker=function(n){var r=It(It({},n),t.props.locale),i=t.context,o=i.getPrefixCls,a=i.direction,s=i.getPopupContainer,u=t.props,l=u.prefixCls,c=u.getPopupContainer,d=u.className,f=u.placement,h=u.size,p=u.bordered,g=void 0===p||p,v=u.placeholder,m=M_(u,["prefixCls","getPopupContainer","className","placement","size","bordered","placeholder"]),b=t.props,x=b.format,w=b.showTime,E=b.picker,k=o("picker",l),_={};_=It(It(It({},_),w?I_(It({format:x,picker:E},w)):{}),"time"===E?I_(It(It({format:x},t.props),{picker:E})):{});var S=o();return y.createElement(cl.Consumer,null,(function(n){var i,o=h||n;return y.createElement(b_,It({separator:y.createElement("span",{"aria-label":"to",className:"".concat(k,"-separator")},y.createElement(C_,null)),ref:t.pickerRef,dropdownAlign:k_(a,f),placeholder:E_(E,r,v),suffixIcon:"time"===E?y.createElement(UE,null):y.createElement(GE,null),clearIcon:y.createElement(Xc,null),prevIcon:y.createElement("span",{className:"".concat(k,"-prev-icon")}),nextIcon:y.createElement("span",{className:"".concat(k,"-next-icon")}),superPrevIcon:y.createElement("span",{className:"".concat(k,"-super-prev-icon")}),superNextIcon:y.createElement("span",{className:"".concat(k,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(S,"-slide-up")},m,_,{className:In()((i={},(0,xe.Z)(i,"".concat(k,"-").concat(o),o),(0,xe.Z)(i,"".concat(k,"-borderless"),!g),i),d),locale:r.lang,prefixCls:k,getPopupContainer:c||s,generateConfig:e,components:A_,direction:a}))}))},t}return(0,Nn.Z)(r,[{key:"render",value:function(){return y.createElement(Gn,{componentName:"DatePicker",defaultLocale:jn},this.renderPicker)}}]),r}(y.Component);return t.contextType=$n,t}(e),l=n;return l.WeekPicker=r,l.MonthPicker=i,l.YearPicker=o,l.RangePicker=u,l.TimePicker=a,l.QuarterPicker=s,l},N_=O_(BE);function P_(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function D_(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function R_(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return D_(n.overflowY,t)||D_(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function L_(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function j_(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!P_(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,c=[],d=e;P_(d)&&u(d);){if((d=d.parentElement)===l){c.push(d);break}null!=d&&d===document.body&&R_(d)&&!R_(document.documentElement)||null!=d&&R_(d,s)&&c.push(d)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),m=v.height,y=v.width,b=v.top,x=v.right,w=v.bottom,E=v.left,k="start"===i||"nearest"===i?b:"end"===i?w:b+m/2,_="center"===o?E+y/2:"end"===o?x:E,S=[],T=0;T<c.length;T++){var C=c[T],M=C.getBoundingClientRect(),A=M.height,I=M.width,O=M.top,N=M.right,P=M.bottom,D=M.left;if("if-needed"===r&&b>=0&&E>=0&&w<=h&&x<=f&&b>=O&&w<=P&&E>=D&&x<=N)return S;var R=getComputedStyle(C),L=parseInt(R.borderLeftWidth,10),j=parseInt(R.borderTopWidth,10),F=parseInt(R.borderRightWidth,10),B=parseInt(R.borderBottomWidth,10),z=0,Y=0,G="offsetWidth"in C?C.offsetWidth-C.clientWidth-L-F:0,V="offsetHeight"in C?C.offsetHeight-C.clientHeight-j-B:0;if(l===C)z="start"===i?k:"end"===i?k-h:"nearest"===i?L_(g,g+h,h,j,B,g+k,g+k+m,m):k-h/2,Y="start"===o?_:"center"===o?_-f/2:"end"===o?_-f:L_(p,p+f,f,L,F,p+_,p+_+y,y),z=Math.max(0,z+g),Y=Math.max(0,Y+p);else{z="start"===i?k-O-j:"end"===i?k-P+B+V:"nearest"===i?L_(O,P,A,j,B+V,k,k+m,m):k-(O+A/2)+V/2,Y="start"===o?_-D-L:"center"===o?_-(D+I/2)+G/2:"end"===o?_-N+F+G:L_(D,N,I,L,F+G,_,_+y,y);var W=C.scrollLeft,U=C.scrollTop;k+=U-(z=Math.max(0,Math.min(U+z,C.scrollHeight-A+V))),_+=W-(Y=Math.max(0,Math.min(W+Y,C.scrollWidth-I+G)))}S.push({el:C,top:z,left:Y})}return S}function F_(e){return e===Object(e)&&0!==Object.keys(e).length}var B_=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(F_(t)&&"function"===typeof t.behavior)return t.behavior(n?j_(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:F_(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(j_(e,r),r.behavior)}},z_=["parentNode"];function Y_(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function G_(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):z_.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function V_(e){return Y_(e).join("_")}function W_(e){var t=Mc(),n=(0,m.Z)(t,1)[0],r=y.useRef({}),i=y.useMemo((function(){return null!==e&&void 0!==e?e:It(It({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=V_(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Y_(e),r=G_(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&B_(o,It({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=V_(e);return r.current[t]}})}),[e,n]);return[i]}var U_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Z_=function(e,t){var n,r=y.useContext(cl),i=y.useContext($n),o=i.getPrefixCls,a=i.direction,s=i.form,u=e.prefixCls,l=e.className,c=void 0===l?"":l,d=e.size,f=void 0===d?r:d,h=e.form,p=e.colon,g=e.labelAlign,v=e.labelWrap,b=e.labelCol,x=e.wrapperCol,w=e.hideRequiredMark,E=e.layout,k=void 0===E?"horizontal":E,_=e.scrollToFirstError,S=e.requiredMark,T=e.onFinishFailed,C=e.name,M=U_(e,["prefixCls","className","size","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),A=(0,y.useMemo)((function(){return void 0!==S?S:s&&void 0!==s.requiredMark?s.requiredMark:!w}),[w,S,s]),I=null!==p&&void 0!==p?p:null===s||void 0===s?void 0:s.colon,O=o("form",u),N=In()(O,(n={},(0,xe.Z)(n,"".concat(O,"-").concat(k),!0),(0,xe.Z)(n,"".concat(O,"-hide-required-mark"),!1===A),(0,xe.Z)(n,"".concat(O,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(O,"-").concat(f),f),n),c),P=W_(h),D=(0,m.Z)(P,1)[0],R=D.__INTERNAL__;R.name=C;var L=(0,y.useMemo)((function(){return{name:C,labelAlign:g,labelCol:b,labelWrap:v,wrapperCol:x,vertical:"vertical"===k,colon:I,requiredMark:A,itemRef:R.itemRef}}),[C,g,b,x,k,I,A]);y.useImperativeHandle(t,(function(){return D}));return y.createElement(ll,{size:f},y.createElement(Lc.Provider,{value:L},y.createElement(Rc,It({id:C},M,{name:C,onFinishFailed:function(e){null===T||void 0===T||T(e);var t={block:"nearest"};_&&e.errorFields.length&&("object"===(0,hr.Z)(_)&&(t=_),D.scrollToField(e.errorFields[0].name,t))},form:D,className:N}))))},H_=y.forwardRef(Z_),q_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},X_=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:q_}))};X_.displayName="QuestionCircleOutlined";var K_=y.forwardRef(X_),J_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var $_=function(e){var t=e.prefixCls,n=e.label,r=e.htmlFor,i=e.labelCol,o=e.labelAlign,a=e.colon,s=e.required,u=e.requiredMark,l=e.tooltip,c=Vn("Form"),d=(0,m.Z)(c,1)[0];return n?y.createElement(Lc.Consumer,{key:"label"},(function(e){var c,f,h=e.vertical,p=e.labelAlign,g=e.labelCol,v=e.labelWrap,m=e.colon,b=i||g||{},x=o||p,w="".concat(t,"-item-label"),E=In()(w,"left"===x&&"".concat(w,"-left"),b.className,(0,xe.Z)({},"".concat(w,"-wrap"),!!v)),k=n,_=!0===a||!1!==m&&!1!==a;_&&!h&&"string"===typeof n&&""!==n.trim()&&(k=n.replace(/[:|\uff1a]\s*$/,""));var S=function(e){return e?"object"!==(0,hr.Z)(e)||y.isValidElement(e)?{title:e}:e:null}(l);if(S){var T=S.icon,C=void 0===T?y.createElement(K_,null):T,M=J_(S,["icon"]),A=y.createElement(Zu,M,y.cloneElement(C,{className:"".concat(t,"-item-tooltip"),title:""}));k=y.createElement(y.Fragment,null,k,A)}"optional"!==u||s||(k=y.createElement(y.Fragment,null,k,y.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===d||void 0===d?void 0:d.optional)||(null===(f=Bn.Form)||void 0===f?void 0:f.optional))));var I=In()((c={},(0,xe.Z)(c,"".concat(t,"-item-required"),s),(0,xe.Z)(c,"".concat(t,"-item-required-mark-optional"),"optional"===u),(0,xe.Z)(c,"".concat(t,"-item-no-colon"),!_),c));return y.createElement(Tp,It({},b,{className:E}),y.createElement("label",{htmlFor:r,className:I,title:"string"===typeof n?n:""},k))})):null},Q_=[];function eS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function tS(e){var t=e.help,n=e.helpStatus,r=e.errors,i=void 0===r?Q_:r,o=e.warnings,a=void 0===o?Q_:o,s=e.className,u=y.useContext(Fc).prefixCls,l=y.useContext($n).getPrefixCls,c="".concat(u,"-item-explain"),d=l(),f=y.useMemo((function(){return void 0!==t&&null!==t?[eS(t,n,"help")]:[].concat((0,Mn.Z)(i.map((function(e,t){return eS(e,"error","error",t)}))),(0,Mn.Z)(a.map((function(e,t){return eS(e,"warning","warning",t)}))))}),[t,n,i,a]);return y.createElement(Wa,It({},Yu,{motionName:"".concat(d,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!f.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var t=e.className,n=e.style;return y.createElement("div",{className:In()(c,t,s),style:n},y.createElement(Va,It({keys:f},Yu,{motionName:"".concat(d,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,r=e.errorStatus,i=e.className,o=e.style;return y.createElement("div",{key:t,role:"alert",className:In()(i,(0,xe.Z)({},"".concat(c,"-").concat(r),r)),style:o},n)})))}))}var nS=function(e){var t=e.prefixCls,n=e.status,r=e.wrapperCol,i=e.children,o=e.errors,a=e.warnings,s=e._internalItemRender,u=e.extra,l=e.help,c="".concat(t,"-item"),d=y.useContext(Lc),f=r||d.wrapperCol||{},h=In()("".concat(c,"-control"),f.className),p=y.useMemo((function(){return It({},d)}),[d]);delete p.labelCol,delete p.wrapperCol;var g=y.createElement("div",{className:"".concat(c,"-control-input")},y.createElement("div",{className:"".concat(c,"-control-input-content")},i)),v=y.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),m=y.createElement(Fc.Provider,{value:v},y.createElement(tS,{errors:o,warnings:a,help:l,helpStatus:n,className:"".concat(c,"-explain-connected")})),b=u?y.createElement("div",{className:"".concat(c,"-extra")},u):null,x=s&&"pro_table_render"===s.mark&&s.render?s.render(e,{input:g,errorList:m,extra:b}):y.createElement(y.Fragment,null,g,m,b);return y.createElement(Lc.Provider,{value:p},y.createElement(Tp,It({},f,{className:h}),x))};function rS(e){var t=y.useState(e),n=(0,m.Z)(t,2),r=n[0],i=n[1];return y.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var iS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oS=(Nu("success","warning","error","validating",""),y.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var aS=function(e){var t=e.name,n=e.noStyle,r=e.dependencies,i=e.prefixCls,o=e.style,a=e.className,s=e.shouldUpdate,u=e.hasFeedback,l=e.help,c=e.rules,d=e.validateStatus,f=e.children,h=e.required,p=e.label,g=e.messageVariables,v=e.trigger,b=void 0===v?"onChange":v,x=e.validateTrigger,w=e.hidden,E=iS(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),k=(0,y.useContext)($n).getPrefixCls,_=(0,y.useContext)(Lc),S=_.name,T=_.requiredMark,C="function"===typeof f,M=(0,y.useContext)(jc),A=(0,y.useContext)(hl).validateTrigger,I=void 0!==x?x:A,O=function(e){return null===e&&zi(!1,"Form.Item","`null` is passed as `name` property"),!(void 0===e||null===e)}(t),N=k("form",i),P=y.useContext(xc),D=y.useRef(),R=function(e){var t=y.useState(e),n=(0,m.Z)(t,2),r=n[0],i=n[1],o=(0,y.useRef)(null),a=(0,y.useRef)([]),s=(0,y.useRef)(!1);return y.useEffect((function(){return function(){s.current=!0,Jo.cancel(o.current)}}),[]),[r,function(e){s.current||(null===o.current&&(a.current=[],o.current=Jo((function(){o.current=null,i((function(e){var t=e;return a.current.forEach((function(e){t=e(t)})),t}))}))),a.current.push(e))}]}({}),L=(0,m.Z)(R,2),j=L[0],F=L[1],B=Ui((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),z=(0,m.Z)(B,2),Y=z[0],G=z[1],V=function(e,t){F((function(n){var r=It({},n),i=[].concat((0,Mn.Z)(e.name.slice(0,-1)),(0,Mn.Z)(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},W=y.useMemo((function(){var e=(0,Mn.Z)(Y.errors),t=(0,Mn.Z)(Y.warnings);return Object.values(j).forEach((function(n){e.push.apply(e,(0,Mn.Z)(n.errors||[])),t.push.apply(t,(0,Mn.Z)(n.warnings||[]))})),[e,t]}),[j,Y.errors,Y.warnings]),U=(0,m.Z)(W,2),Z=U[0],H=U[1],q=rS(Z),X=rS(H),K=function(){var e=y.useContext(Lc).itemRef,t=y.useRef({});return function(n,r){var i=r&&"object"===(0,hr.Z)(r)&&r.ref,o=n.join("_");return t.current.name===o&&t.current.originRef===i||(t.current.name=o,t.current.originRef=i,t.current.ref=Fi(e(n),i)),t.current.ref}}(),J="";void 0!==d?J=d:(null===Y||void 0===Y?void 0:Y.validating)?J="validating":q.length?J="error":X.length?J="warning":(null===Y||void 0===Y?void 0:Y.touched)&&(J="success");var $=(0,y.useMemo)((function(){return{status:J,hasFeedback:u}}),[J,u]);function Q(t,r,i){var s;if(n&&!w)return t;var c=(s={},(0,xe.Z)(s,"".concat(N,"-item"),!0),(0,xe.Z)(s,"".concat(N,"-item-with-help"),void 0!==l&&null!==l||q.length||X.length),(0,xe.Z)(s,"".concat(a),!!a),(0,xe.Z)(s,"".concat(N,"-item-has-feedback"),J&&u),(0,xe.Z)(s,"".concat(N,"-item-has-success"),"success"===J),(0,xe.Z)(s,"".concat(N,"-item-has-warning"),"warning"===J),(0,xe.Z)(s,"".concat(N,"-item-has-error"),"error"===J),(0,xe.Z)(s,"".concat(N,"-item-is-validating"),"validating"===J),(0,xe.Z)(s,"".concat(N,"-item-hidden"),w),s);return y.createElement(Jp,It({className:In()(c),style:o,key:"row"},lr(E,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),y.createElement($_,It({htmlFor:r,required:i,requiredMark:T},e,{prefixCls:N})),y.createElement(nS,It({},e,Y,{errors:q,warnings:X,prefixCls:N,status:J,help:l}),y.createElement(jc.Provider,{value:V},y.createElement(Bc.Provider,{value:$},t))))}if(!O&&!C&&!r)return Q(f);var ee={};return"string"===typeof p?ee.label=p:t&&(ee.label=String(t)),g&&(ee=It(It({},ee),g)),y.createElement(bc,It({},e,{messageVariables:ee,trigger:b,validateTrigger:I,onMetaChange:function(e){var t=null===P||void 0===P?void 0:P.getKey(e.name);if(G(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),n&&M){var r=e.name;if(e.destroy)r=D.current||r;else if(void 0!==t){var i=(0,m.Z)(t,2),o=i[0],a=i[1];r=[o].concat((0,Mn.Z)(a)),D.current=r}M(e,r)}}}),(function(n,i,o){var a=Y_(t).length&&i?i.name:[],u=G_(a,S),l=void 0!==h?h:!(!c||!c.some((function(e){if(e&&"object"===(0,hr.Z)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),d=It({},n),p=null;if(zi(!(s&&r),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(f)&&O)zi(!1,"Form.Item","`children` is array of render props cannot have `name`."),p=f;else if(C&&(!s&&!r||O))zi(!(!s&&!r),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),zi(!O,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(!r||C||O)if(Iu(f)){zi(void 0===f.props.defaultValue,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var g=It(It({},f.props),d);g.id||(g.id=u),Bi(f)&&(g.ref=K(a,f)),new Set([].concat((0,Mn.Z)(Y_(b)),(0,Mn.Z)(Y_(I)))).forEach((function(e){g[e]=function(){for(var t,n,r,i,o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];null===(r=d[e])||void 0===r||(t=r).call.apply(t,[d].concat(s)),null===(o=(i=f.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(s))}})),p=y.createElement(oS,{value:d[e.valuePropName||"value"],update:f},Ou(f,g))}else C&&(s||r)&&!O?p=f(o):(zi(!a.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),p=f);else zi(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");return Q(p,u,l)}))},sS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},uS=function(e){var t=e.prefixCls,n=e.children,r=sS(e,["prefixCls","children"]);zi(!!r.name,"Form.List","Miss `name` prop.");var i=(0,y.useContext($n).getPrefixCls)("form",t),o=y.useMemo((function(){return{prefixCls:i,status:"error"}}),[i]);return y.createElement(wc,r,(function(e,t,r){return y.createElement(Fc.Provider,{value:o},n(e.map((function(e){return It(It({},e),{fieldKey:e.key})})),t,{errors:r.errors,warnings:r.warnings}))}))},lS=H_;lS.Item=aS,lS.List=uS,lS.ErrorList=tS,lS.useForm=W_,lS.Provider=function(e){var t=lr(e,["prefixCls"]);return y.createElement(Ic,t)},lS.create=function(){zi(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var cS=lS,dS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},fS=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:dS}))};fS.displayName="InfoCircleOutlined";var hS=y.forwardRef(fS),pS=n(80184),gS=Dy.Option;function vS(e){var t=e.label,n=e.closable,r=e.onClose,i=e.value,o=dt(i.split("+")[0]);return(0,pS.jsx)(Bp,{color:o,closable:n,onClose:r,style:{marginRight:3},children:t})}var mS=function(e){var t=e.placeholder,n=e.enumerator,r=e.handleChange,i=e.value,o=e.span,a=e.single,s=function(e,t){return e.map((function(e){return{label:e,value:"".concat(t,"+").concat(e),key:e}}))}(i,t);return(0,pS.jsx)(Cp,{span:null!==o&&void 0!==o?o:24,children:(0,pS.jsx)(Dy,{mode:a?void 0:"multiple",style:{width:"100%"},placeholder:t,value:s,onChange:r,labelInValue:!0,tagRender:vS,allowClear:!0,children:Object.values(n).map((function(e){return(0,pS.jsx)(gS,{value:"".concat(t,"+").concat(e),children:e},e)}))})})},yS=N_.RangePicker,bS=eE.Search;var xS=function(){var e=NE((function(e){return e.filters})),t=OE();return(0,pS.jsxs)($p,{gutter:[4,4],justify:"center",style:{marginBottom:12},children:[(0,pS.jsx)(Cp,{span:8,children:(0,pS.jsx)(cS.Item,{label:"State of Filter",tooltip:{title:"AND selects papers with all of the selected types, OR selects papers with any of the selected types",icon:(0,pS.jsx)(hS,{})},children:(0,pS.jsxs)(lx.Group,{buttonStyle:"solid",defaultValue:e.filterStateAND?"AND":"OR",onChange:function(e){t(St.changeState("AND"===e.target.value))},children:[(0,pS.jsx)(lx.Button,{value:"AND",children:"AND"}),(0,pS.jsx)(lx.Button,{value:"OR",children:"OR"})]})})}),(0,pS.jsx)(Cp,{span:8,children:(0,pS.jsx)(hf,{onClick:function(){t(St.reset())},children:"Reset Filters"})}),(0,pS.jsx)(Cp,{span:4,children:(0,pS.jsx)(Pb,{onChange:function(e){t(St.setShowOriginal(e.target.checked))},checked:e.showOriginal,children:"Show Original Papers from Survey"})}),(0,pS.jsx)(Cp,{span:4,children:(0,pS.jsx)(Pb,{onChange:function(e){t(St.setShowNew(e.target.checked))},checked:e.showNew,children:"Show New Papers from Community"})}),(0,pS.jsx)(mS,{placeholder:"Type of Data",enumerator:Je,handleChange:function(e){t(St.setData(ft(e)))},value:e.data,span:8}),(0,pS.jsx)(mS,{placeholder:"Type of Problem",enumerator:Qe,handleChange:function(e){t(St.setProblem(ft(e)))},value:e.problem,span:8}),(0,pS.jsx)(mS,{placeholder:"Type of Model to be Explained",enumerator:et,handleChange:function(e){t(St.setModel(ft(e)))},value:e.model,span:8}),(0,pS.jsx)(mS,{placeholder:"Type of Task",enumerator:tt,handleChange:function(e){t(St.setTask(ft(e)))},value:e.task,span:8}),(0,pS.jsx)(mS,{placeholder:"Type of Explanation",enumerator:$e,handleChange:function(e){t(St.setExplanation(ft(e)))},value:e.explanation,span:8}),(0,pS.jsx)(mS,{placeholder:"Method used to explain",enumerator:nt,handleChange:function(e){t(St.setMethod(ft(e)))},value:e.method,span:8}),(0,pS.jsx)(mS,{placeholder:"Venue",enumerator:rt,handleChange:function(e){t(St.setVenue(ft(e)))},value:e.venue,span:8}),(0,pS.jsx)(Cp,{span:8,children:(0,pS.jsx)(yS,{picker:"year",onChange:function(e){var n,r,i=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.year(),o=null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.year();t(St.setStartYear(i)),t(St.setEndYear(o))},allowEmpty:[!0,!0],value:[e.startYear?jE()([e.startYear]):null,e.endYear?jE()([e.endYear]):null],defaultPickerValue:[jE()([2010]),jE()([2010])],style:{width:"100%"}})}),(0,pS.jsx)(Cp,{span:8,children:(0,pS.jsx)(bS,{placeholder:"Search titles, venues, authors and abstracts",onChange:function(e){t(St.setSearch(e.currentTarget.value))},value:e.search,suffix:(0,pS.jsx)(Zu,{title:"Prefix with 'title:', 'venue:', 'author:' or 'abstract:' to only search in the respective field",children:(0,pS.jsx)(hS,{})})})})]})};var wS=function(e){var t=e.TagData,n=e.Color,r=t.map((function(e,t){return(0,pS.jsx)(Bp,{color:n,children:e},t)}));return(0,pS.jsx)(pS.Fragment,{children:r})},ES=n(52007),kS=n.n(ES),_S=n(61120);function SS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,_S.Z)(e)););return e}function TS(){return TS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=SS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},TS.apply(this,arguments)}var CS=n(89611);var MS=n(78814);function AS(e,t,n){return AS=(0,MS.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,CS.Z)(i,n.prototype),i},AS.apply(null,arguments)}function IS(e){var t="function"===typeof Map?new Map:void 0;return IS=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return AS(e,arguments,(0,_S.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,CS.Z)(n,e)},IS(e)}var OS=ZS(),NS=function(e){return GS(e,OS)},PS=ZS();NS.write=function(e){return GS(e,PS)};var DS=ZS();NS.onStart=function(e){return GS(e,DS)};var RS=ZS();NS.onFrame=function(e){return GS(e,RS)};var LS=ZS();NS.onFinish=function(e){return GS(e,LS)};var jS=[];NS.setTimeout=function(e,t){var n=NS.now()+t,r={time:n,handler:e,cancel:function e(){var t=jS.findIndex((function(t){return t.cancel==e}));~t&&jS.splice(t,1),qS.count-=~t?1:0}};return jS.splice(FS(n),0,r),qS.count+=1,VS(),r};var FS=function(e){return~(~jS.findIndex((function(t){return t.time>e}))||~jS.length)};NS.cancel=function(e){OS.delete(e),PS.delete(e)},NS.sync=function(e){YS=!0,NS.batchedUpdates(e),YS=!1},NS.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,Mn.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,NS.onStart(n)}return r.handler=e,r.cancel=function(){DS.delete(n),t=null},r};var BS="undefined"!=typeof window?window.requestAnimationFrame:function(){};NS.use=function(e){return BS=e},NS.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,NS.batchedUpdates=function(e){return e()},NS.catch=console.error,NS.frameLoop="always",NS.advance=function(){"demand"!==NS.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):US()};var zS=-1,YS=!1;function GS(e,t){YS?(t.delete(e),e(0)):(t.add(e),VS())}function VS(){zS<0&&(zS=0,"demand"!==NS.frameLoop&&BS(WS))}function WS(){~zS&&(BS(WS),NS.batchedUpdates(US))}function US(){var e=zS;zS=NS.now();var t=FS(zS);t&&(HS(jS.splice(0,t),(function(e){return e.handler()})),qS.count-=t),DS.flush(),OS.flush(e?Math.min(64,zS-e):16.667),RS.flush(),PS.flush(),LS.flush()}function ZS(){var e=new Set,t=e;return{add:function(n){qS.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return qS.count-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,qS.count-=t.size,HS(t,(function(t){return t(n)&&e.add(t)})),qS.count+=e.size,t=e)}}}function HS(e,t){e.forEach((function(e){try{t(e)}catch(n){NS.catch(n)}}))}var qS={count:0,clear:function(){zS=-1,jS=[],DS=ZS(),OS=ZS(),RS=ZS(),PS=ZS(),LS=ZS(),qS.count=0}};function XS(){}var KS={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function JS(e,t){if(KS.arr(e)){if(!KS.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var $S=function(e,t){return e.forEach(t)};function QS(e,t,n){if(KS.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var eT=function(e){return KS.und(e)?[]:KS.arr(e)?e:[e]};function tT(e,t){if(e.size){var n=Array.from(e);e.clear(),$S(n,t)}}var nT,rT,iT=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tT(e,(function(e){return e.apply(void 0,n)}))},oT=null,aT=!1,sT=XS,uT=Object.freeze({__proto__:null,get createStringInterpolator(){return nT},get to(){return rT},get colors(){return oT},get skipAnimation(){return aT},get willAdvance(){return sT},assign:function(e){e.to&&(rT=e.to),e.now&&(NS.now=e.now),void 0!==e.colors&&(oT=e.colors),null!=e.skipAnimation&&(aT=e.skipAnimation),e.createStringInterpolator&&(nT=e.createStringInterpolator),e.requestAnimationFrame&&NS.use(e.requestAnimationFrame),e.batchedUpdates&&(NS.batchedUpdates=e.batchedUpdates),e.willAdvance&&(sT=e.willAdvance),e.frameLoop&&(NS.frameLoop=e.frameLoop)}}),lT=new Set,cT=[],dT=[],fT=0,hT={get idle(){return!lT.size&&!cT.length},start:function(e){fT>e.priority?(lT.add(e),NS.onStart(pT)):(gT(e),NS(mT))},advance:mT,sort:function(e){if(fT)NS.onFrame((function(){return hT.sort(e)}));else{var t=cT.indexOf(e);~t&&(cT.splice(t,1),vT(e))}},clear:function(){cT=[],lT.clear()}};function pT(){lT.forEach(gT),lT.clear(),NS(mT)}function gT(e){cT.includes(e)||vT(e)}function vT(e){cT.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(cT,(function(t){return t.priority>e.priority})),0,e)}function mT(e){for(var t=dT,n=0;n<cT.length;n++){var r=cT[n];fT=r.priority,r.idle||(sT(r),r.advance(e),r.idle||t.push(r))}return fT=0,(dT=cT).length=0,(cT=t).length>0}var yT="[-+]?\\d*\\.?\\d+",bT=yT+"%";function xT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var wT=new RegExp("rgb"+xT(yT,yT,yT)),ET=new RegExp("rgba"+xT(yT,yT,yT,yT)),kT=new RegExp("hsl"+xT(yT,bT,bT)),_T=new RegExp("hsla"+xT(yT,bT,bT,yT)),ST=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,TT=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,CT=/^#([0-9a-fA-F]{6})$/,MT=/^#([0-9a-fA-F]{8})$/;function AT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IT(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=AT(i,r,e+1/3),a=AT(i,r,e),s=AT(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function OT(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function NT(e){return(parseFloat(e)%360+360)%360/360}function PT(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function DT(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function RT(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=CT.exec(e))?parseInt(t[1]+"ff",16)>>>0:oT&&void 0!==oT[e]?oT[e]:(t=wT.exec(e))?(OT(t[1])<<24|OT(t[2])<<16|OT(t[3])<<8|255)>>>0:(t=ET.exec(e))?(OT(t[1])<<24|OT(t[2])<<16|OT(t[3])<<8|PT(t[4]))>>>0:(t=ST.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=MT.exec(e))?parseInt(t[1],16)>>>0:(t=TT.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=kT.exec(e))?(255|IT(NT(t[1]),DT(t[2]),DT(t[3])))>>>0:(t=_T.exec(e))?(IT(NT(t[1]),DT(t[2]),DT(t[3]))|PT(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var LT=function e(t,n,r){if(KS.fun(t))return t;if(KS.arr(t))return e({range:t,output:n,extrapolate:r});if(KS.str(t.output[0]))return nT(t);var i=t,o=i.output,a=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a);return function(e,t,n,r,i,o,a,s,u){var l=u?u(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,a[t],a[t+1],o[t],o[t+1],l,s,u,i.map)}};function jT(){return jT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jT.apply(this,arguments)}var FT=Symbol.for("FluidValue.get"),BT=Symbol.for("FluidValue.observers"),zT=function(e){return Boolean(e&&e[FT])},YT=function(e){return e&&e[FT]?e[FT]():e},GT=function(e){return e[BT]||null};function VT(e,t){var n=e[BT];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var WT=(0,Nn.Z)((function e(t){if((0,On.Z)(this,e),this[FT]=void 0,this[BT]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");UT(this,t)})),UT=function(e,t){return XT(e,FT,t)};function ZT(e,t){if(e[FT]){var n=e[BT];n||XT(e,BT,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function HT(e,t){var n=e[BT];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[BT]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var qT,XT=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},KT=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,JT=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,$T=new RegExp("(".concat(KT.source,")(%|[a-z]+)"),"i"),QT=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eC=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},tC=function(e){qT||(qT=oT?new RegExp("(".concat(Object.keys(oT).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return YT(e).replace(JT,RT).replace(qT,RT)})),n=t.map((function(e){return e.match(KT).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return LT(jT({},e,{output:t}))}));return function(e){var n,i=!$T.test(t[0])&&(null==(n=t.find((function(e){return $T.test(e)})))?void 0:n.replace(KT,"")),o=0;return t[0].replace(KT,(function(){return"".concat(r[o++](e)).concat(i||"")})).replace(QT,eC)}},nC="react-spring: ",rC=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(nC,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},iC=rC(console.warn);function oC(){iC("".concat(nC,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var aC=rC(console.warn);function sC(e){return KS.str(e)&&("#"==e[0]||/\d/.test(e)||e in(oT||{}))}var uC=function(e){return(0,y.useEffect)(e,lC)},lC=[];function cC(){var e=(0,y.useState)()[1],t=(0,y.useState)(dC)[0];return uC(t.unmount),function(){t.current&&e({})}}function dC(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function fC(e){var t=(0,y.useRef)();return(0,y.useEffect)((function(){t.current=e})),t.current}var hC="undefined"!==typeof window&&window.document&&window.document.createElement?y.useLayoutEffect:y.useEffect,pC=Symbol.for("Animated:node"),gC=function(e){return e&&e[pC]},vC=function(e,t){return function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}(e,pC,t)},mC=function(e){return e&&e[pC]&&e[pC].getPayload()},yC=function(){function e(){(0,On.Z)(this,e),this.payload=void 0,vC(this,this)}return(0,Nn.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),bC=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,KS.num(r._value)&&(r.lastPosition=r._value),r}return(0,Nn.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return KS.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,KS.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(yC),xC=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=LT({output:[e,e]}),r}return(0,Nn.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(KS.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!TS((0,_S.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=LT({output:[this.getValue(),e]})),this._value=0,TS((0,_S.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(bC),wC={dependencies:null},EC=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,Nn.Z)(n,[{key:"getValue",value:function(e){var t={};return QS(this.source,(function(n,r){!function(e){return!!e&&e[pC]===e}(n)?zT(n)?t[r]=YT(n):e||(t[r]=n):t[r]=n.getValue(e)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&$S(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return QS(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;wC.dependencies&&zT(e)&&wC.dependencies.add(e);var n=mC(e);n&&$S(n,(function(e){return t.add(e)}))}}]),n}(yC),kC=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){return(0,On.Z)(this,n),t.call(this,e)}return(0,Nn.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(TS((0,_S.Z)(n.prototype),"setValue",this).call(this,e.map(_C)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(EC);function _C(e){return(sC(e)?xC:bC).create(e)}function SC(e){var t=gC(e);return t?t.constructor:KS.arr(e)?kC:sC(e)?xC:bC}function TC(){return TC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TC.apply(this,arguments)}var CC=function(e,t){var n=!KS.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,y.forwardRef)((function(r,i){var o=(0,y.useRef)(null),a=n&&(0,y.useCallback)((function(e){o.current=function(e,t){e&&(KS.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),s=function(e,t){var n=new Set;wC.dependencies=n,e.style&&(e=TC({},e,{style:t.createAnimatedStyle(e.style)}));return e=new EC(e),wC.dependencies=null,[e,n]}(r,t),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=cC(),f=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&d()},h=new MC(f,c),p=(0,y.useRef)();hC((function(){var e=p.current;p.current=h,$S(c,(function(e){return ZT(e,h)})),e&&($S(e.deps,(function(t){return HT(t,e)})),NS.cancel(e.update))})),(0,y.useEffect)(f,[]),uC((function(){return function(){var e=p.current;$S(e.deps,(function(t){return HT(t,e)}))}}));var g=t.getComponentProps(l.getValue());return y.createElement(e,TC({},g,{ref:a}))}))},MC=function(){function e(t,n){(0,On.Z)(this,e),this.update=t,this.deps=n}return(0,Nn.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&NS.write(this.update)}}]),e}();var AC=Symbol.for("AnimatedComponent"),IC=function(e){return KS.str(e)?e:e&&KS.str(e.displayName)?e.displayName:KS.fun(e)&&e.name||null};function OC(){return OC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function NC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KS.fun(e)?e.apply(void 0,n):e}var PC=function(e,t){return!0===e||!!(t&&e&&(KS.fun(e)?e(t):eT(e).includes(t)))},DC=function(e,t){return KS.obj(e)?t&&e[t]:e},RC=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},LC=function(e){return e},jC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LC,n=FC;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},o=(0,PE.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t(e[a],a);KS.und(s)||(i[a]=s)}}catch(u){o.e(u)}finally{o.f()}return i},FC=["config","onProps","onStart","onChange","onPause","onResume","onRest"],BC={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function zC(e){var t=function(e){var t={},n=0;if(QS(e,(function(e,r){BC[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return QS(e,(function(e,r){return r in t||(n[r]=e)})),n}return OC({},e)}function YC(e){return e=YT(e),KS.arr(e)?e.map(YC):sC(e)?uT.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function GC(e){for(var t in e)return!0;return!1}function VC(e){return KS.fun(e)||KS.arr(e)&&KS.obj(e[0])}function WC(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function UC(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var ZC={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},HC=OC({},ZC.default,{mass:1,damping:1,easing:function(e){return e},clamp:!1}),qC=(0,Nn.Z)((function e(){(0,On.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,HC)}));function XC(e,t){if(KS.und(t.decay)){var n=!KS.und(t.tension)||!KS.und(t.friction);!n&&KS.und(t.frequency)&&KS.und(t.damping)&&KS.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var KC=[],JC=(0,Nn.Z)((function e(){(0,On.Z)(this,e),this.changed=!1,this.values=KC,this.toValues=null,this.fromValues=KC,this.to=void 0,this.from=void 0,this.config=new qC,this.immediate=!1}));function $C(e,t){var n=t.key,r=t.props,i=t.defaultProps,o=t.state,a=t.actions;return new Promise((function(t,s){var u,l,c,d=PC(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(d)g();else{KS.und(r.pause)||(o.paused=PC(r.pause,n));var f=null==i?void 0:i.pause;!0!==f&&(f=o.paused||PC(f,n)),l=NC(r.delay||0,n),f?(o.resumeQueue.add(p),a.pause()):(a.resume(),p())}function h(){o.resumeQueue.add(p),o.timeouts.delete(c),c.cancel(),l=c.time-NS.now()}function p(){l>0&&!uT.skipAnimation?(c=NS.setTimeout(g,l),o.pauseQueue.add(h),o.timeouts.add(c)):g()}function g(){o.pauseQueue.delete(h),o.timeouts.delete(c),e<=(o.cancelId||0)&&(d=!0);try{a.start(OC({},r,{callId:e,cancel:d}),t)}catch(n){s(n)}}}))}var QC=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?nM(e.get()):t.every((function(e){return e.noop}))?eM(e.get()):tM(e.get(),t.every((function(e){return e.finished})))},eM=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},tM=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},nM=function(e){return{value:e,cancelled:!0,finished:!1}};function rM(e,t,n,r){var i=t.callId,o=t.parentId,a=t.onRest,s=n.asyncTo,u=n.promise;return o||e!==s||t.reset?n.promise=(0,iu.Z)(ru().mark((function l(){var c,d,f,h,p,g,v,m;return ru().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=jC(t,(function(e,t){return"onRest"===t?void 0:e})),h=new Promise((function(e,t){return d=e,f=t})),p=function(e){var t=i<=(n.cancelId||0)&&nM(r)||i!==n.asyncId&&tM(r,!1);if(t)throw e.result=t,f(e),e},g=function(e,t){var o=new oM,a=new aM;return(0,iu.Z)(ru().mark((function s(){var u,l;return ru().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!uT.skipAnimation){s.next=5;break}throw iM(n),a.result=tM(r,!1),f(a),a;case 5:return p(o),(u=KS.obj(e)?OC({},e):OC({},t,{to:e})).parentId=i,QS(c,(function(e,t){KS.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(l=s.sent,p(o),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",l);case 17:case"end":return s.stop()}}),s)})))()},!uT.skipAnimation){l.next=9;break}return iM(n),l.abrupt("return",tM(r,!1));case 9:return l.prev=9,m=KS.arr(e)?function(){var e=(0,iu.Z)(ru().mark((function e(t){var n,r,i;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,PE.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,g(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(g,r.stop.bind(r))),l.next=13,Promise.all([m.then(d),h]);case 13:v=tM(r.get(),!0,!1),l.next=27;break;case 16:if(l.prev=16,l.t0=l.catch(9),!(l.t0 instanceof oM)){l.next=22;break}v=l.t0.result,l.next=27;break;case 22:if(!(l.t0 instanceof aM)){l.next=26;break}v=l.t0.result,l.next=27;break;case 26:throw l.t0;case 27:return l.prev=27,i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?u:void 0),l.finish(27);case 30:return KS.fun(a)&&NS.batchedUpdates((function(){a(v,r,r.item)})),l.abrupt("return",v);case 32:case"end":return l.stop()}}),l,null,[[9,16,27,30]])})))():u}function iM(e,t){tT(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var oM=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,Nn.Z)(n)}(IS(Error)),aM=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;return(0,On.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,Nn.Z)(n)}(IS(Error)),sM=function(e){return e instanceof lM},uM=1,lM=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).id=uM++,e.key=void 0,e._priority=0,e}return(0,Nn.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=gC(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uT.to(this,t)}},{key:"interpolate",value:function(){oC();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uT.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];VT(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||hT.sort(this),VT(this,{type:"priority",parent:this,priority:e})}}]),n}(WT),cM=Symbol.for("SpringPhase"),dM=function(e){return(1&e[cM])>0},fM=function(e){return(2&e[cM])>0},hM=function(e){return(4&e[cM])>0},pM=function(e,t){return t?e[cM]|=3:e[cM]&=-3},gM=function(e,t){return t?e[cM]|=4:e[cM]&=-5},vM=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e,r){var i;if((0,On.Z)(this,n),(i=t.call(this)).key=void 0,i.animation=new JC,i.queue=void 0,i.defaultProps={},i._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!KS.und(e)||!KS.und(r)){var o=KS.obj(e)?OC({},e):OC({},r,{from:e});KS.und(o.default)&&(o.default=!0),i.start(o)}return i}return(0,Nn.Z)(n,[{key:"idle",get:function(){return!(fM(this)||this._state.asyncTo)||hM(this)}},{key:"goal",get:function(){return YT(this.animation.to)}},{key:"velocity",get:function(){var e=gC(this);return e instanceof bC?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return dM(this)}},{key:"isAnimating",get:function(){return fM(this)}},{key:"isPaused",get:function(){return hM(this)}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=mC(i.to);!s&&zT(i.to)&&(a=eT(YT(i.to))),i.values.forEach((function(u,l){if(!u.done){var c=u.constructor==xC?1:s?s[l].lastPosition:a[l],d=i.immediate,f=c;if(!d){if(f=u.lastPosition,o.tension<=0)return void(u.done=!0);var h,p=u.elapsedTime+=e,g=i.fromValues[l],v=null!=u.v0?u.v0:u.v0=KS.arr(o.velocity)?o.velocity[l]:o.velocity;if(KS.und(o.duration))if(o.decay){var m=!0===o.decay?.998:o.decay,y=Math.exp(-(1-m)*p);f=g+v/(1-m)*(1-y),d=Math.abs(u.lastPosition-f)<.1,h=v*y}else{h=null==u.lastVelocity?v:u.lastVelocity;for(var b=o.precision||(g==c?.005:Math.min(1,.001*Math.abs(c-g))),x=o.restVelocity||b/10,w=o.clamp?0:o.bounce,E=!KS.und(w),k=g==c?u.v0>0:g<c,_=Math.ceil(e/1),S=0;S<_&&(Math.abs(h)>x||!(d=Math.abs(c-f)<=b));++S){E&&(f==c||f>c==k)&&(h=-h*w,f=c),f+=1*(h+=1*((1e-6*-o.tension*(f-c)+.001*-o.friction*h)/o.mass))}}else{var T=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,p=u.elapsedTime+=e)),T=(T=(o.progress||0)+p/t._memoizedDuration)>1?1:T<0?0:T,u.durationProgress=T),h=((f=g+o.easing(T)*(c-g))-u.lastPosition)/e,d=1==T}u.lastVelocity=h,Number.isNaN(f)&&(console.warn("Got NaN while animating:",t),d=!0)}s&&!s[l].done&&(d=!1),d?u.done=!0:n=!1,u.setValue(f,o.round)&&(r=!0)}}));var u=gC(this),l=u.getValue();if(n){var c=YT(i.to);l===c&&!r||o.decay?r&&o.decay&&this._onChange(l):(u.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(l)}},{key:"set",value:function(e){var t=this;return NS.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(fM(this)){var t=this.animation,n=t.to,r=t.config;NS.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return KS.und(e)?(n=this.queue||[],this.queue=[]):n=[KS.obj(e)?e:OC({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return QC(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),iM(this._state,e&&this._lastCallId),NS.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=KS.obj(n)?n[t]:n)||VC(n))&&(n=void 0),null==(r=KS.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!dM(this)){if(e.reverse){var o=[r,n];n=o[0],r=o[1]}r=YT(r),KS.und(r)?gC(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=OC({},e),i=this.key,o=this.defaultProps;r.default&&Object.assign(o,jC(r,(function(e,t){return/^on/.test(t)?DC(e,i):e}))),kM(this,r,"onProps"),_M(this,"onProps",r,this);var a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return $C(++this._lastCallId,{key:i,props:r,defaultProps:o,state:s,actions:{pause:function(){hM(n)||(gM(n,!0),iT(s.pauseQueue),_M(n,"onPause",tM(n,mM(n,n.animation.to)),n))},resume:function(){hM(n)&&(gM(n,!1),fM(n)&&n._resume(),iT(s.resumeQueue),_M(n,"onResume",tM(n,mM(n,n.animation.to)),n))},start:this._merge.bind(this,a)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=yM(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(nM(this));var i=!KS.und(e.to),o=!KS.und(e.from);if(i||o){if(!(t.callId>this._lastToId))return n(nM(this));this._lastToId=t.callId}var a=this.key,s=this.defaultProps,u=this.animation,l=u.to,c=u.from,d=e.to,f=void 0===d?l:d,h=e.from,p=void 0===h?c:h;if(!o||i||t.default&&!KS.und(f)||(f=p),t.reverse){var g=[p,f];f=g[0],p=g[1]}var v=!JS(p,c);v&&(u.from=p),p=YT(p);var m=!JS(f,l);m&&this._focus(f);var y=VC(t.to),b=u.config,x=b.decay,w=b.velocity;(i||o)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(XC(n=OC({},n),t),t=OC({},n,t)),XC(e,t),Object.assign(e,t),HC)null==e[r]&&(e[r]=HC[r]);var i=e.mass,o=e.frequency,a=e.damping;KS.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*i,e.friction=4*Math.PI*a*i/o)}(b,NC(t.config,a),t.config!==s.config?NC(s.config,a):void 0);var E=gC(this);if(!E||KS.und(f))return n(tM(this,!0));var k=KS.und(t.reset)?o&&!t.default:!KS.und(p)&&PC(t.reset,a),_=k?p:this.get(),S=YC(f),T=KS.num(S)||KS.arr(S)||sC(S),C=!y&&(!T||PC(s.immediate||t.immediate,a));if(m){var M=SC(f);if(M!==E.constructor){if(!C)throw Error("Cannot animate between ".concat(E.constructor.name," and ").concat(M.name,', as the "to" prop suggests'));E=this._set(S)}}var A=E.constructor,I=zT(f),O=!1;if(!I){var N=k||!dM(this)&&v;(m||N)&&(I=!(O=JS(YC(_),S))),(JS(u.immediate,C)||C)&&JS(b.decay,x)&&JS(b.velocity,w)||(I=!0)}if(O&&fM(this)&&(u.changed&&!k?I=!0:I||this._stop(l)),!y&&((I||zT(l))&&(u.values=E.getPayload(),u.toValues=zT(f)?null:A==xC?[1]:eT(S)),u.immediate!=C&&(u.immediate=C,C||k||this._set(l)),I)){var P=u.onRest;$S(EM,(function(e){return kM(r,t,e)}));var D=tM(this,mM(this,l));iT(this._pendingCalls,D),this._pendingCalls.add(n),u.changed&&NS.batchedUpdates((function(){u.changed=!k,null==P||P(D,r),k?NC(s.onRest,D):null==u.onStart||u.onStart(D,r)}))}k&&this._set(_),y?n(rM(t.to,t,this._state,this)):I?this._start():fM(this)&&!m?this._pendingCalls.add(n):n(eM(_))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(GT(this)&&this._detach(),t.to=e,GT(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;zT(t)&&(ZT(t,this),sM(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;zT(e)&&HT(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=YT(e);if(!KS.und(r)){var i=gC(this);if(!i||!JS(r,i.getValue())){var o=SC(r);i&&i.constructor==o?i.setValue(r):vC(this,o.create(r)),i&&NS.batchedUpdates((function(){t._onChange(r,n)}))}}return gC(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,_M(this,"onStart",tM(this,mM(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),NC(this.animation.onChange,e,this)),NC(this.defaultProps.onChange,e,this),TS((0,_S.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;gC(this).reset(YT(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),fM(this)||(pM(this,!0),hM(this)||this._resume())}},{key:"_resume",value:function(){uT.skipAnimation?this.finish():hT.start(this)}},{key:"_stop",value:function(e,t){if(fM(this)){pM(this,!1);var n=this.animation;$S(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),VT(this,{type:"idle",parent:this});var r=t?nM(this.get()):tM(this.get(),mM(this,null!=e?e:n.to));iT(this._pendingCalls,r),n.changed&&(n.changed=!1,_M(this,"onRest",r,this))}}}]),n}(lM);function mM(e,t){var n=YC(t);return JS(YC(e.get()),n)}function yM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=NC(t);if(r){var i=!0!==r&&zC(r),o=(i||e).reverse,a=!i||i.reset;return bM(OC({},e,{loop:t,default:!1,pause:void 0,to:!o||VC(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function bM(e){var t=e=zC(e),n=t.to,r=t.from,i=new Set;return KS.obj(n)&&wM(n,i),KS.obj(r)&&wM(r,i),e.keys=i.size?Array.from(i):null,e}function xM(e){var t=bM(e);return KS.und(t.default)&&(t.default=jC(t)),t}function wM(e,t){QS(e,(function(e,n){return null!=e&&t.add(n)}))}var EM=["onStart","onRest","onChange","onPause","onResume"];function kM(e,t,n){e.animation[n]=t[n]!==RC(t,n)?DC(t[n],e.key):void 0}function _M(e,t){for(var n,r,i,o,a,s,u=arguments.length,l=new Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];null==(i=(o=e.animation)[t])||(n=i).call.apply(n,[o].concat(l)),null==(a=(s=e.defaultProps)[t])||(r=a).call.apply(r,[s].concat(l))}var SM=["onStart","onChange","onRest"],TM=1,CM=function(){function e(t,n){(0,On.Z)(this,e),this.id=TM++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(OC({default:!0},t))}return(0,Nn.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];KS.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(bM(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=eT(e).map(bM):this.queue=[],this._flush?this._flush(this,t):(RM(this,t),MM(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;$S(eT(t),(function(t){return n[t].stop(!!e)}))}else iM(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(KS.und(e))this.start({pause:!0});else{var t=this.springs;$S(eT(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(KS.und(e))this.start({pause:!1});else{var t=this.springs;$S(eT(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){QS(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,a=this._changed.size>0;(o&&!this._started||a&&!this._started)&&(this._started=!0,tT(n,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!o&&this._started,u=a||s&&i.size?this.get():null;a&&r.size&&tT(r,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})),s&&(this._started=!1,tT(i,(function(t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}NS.onFrame(this._onFrame)}}]),e}();function MM(e,t){return Promise.all(t.map((function(t){return AM(e,t)}))).then((function(t){return QC(e,t)}))}function AM(e,t,n){return IM.apply(this,arguments)}function IM(){return IM=(0,iu.Z)(ru().mark((function e(t,n,r){var i,o,a,s,u,l,c,d,f,h,p,g,v;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,o=n.to,a=n.from,s=n.loop,u=n.onRest,l=n.onResolve,c=KS.obj(n.default)&&n.default,s&&(n.loop=!1),!1===o&&(n.to=null),!1===a&&(n.from=null),(d=KS.arr(o)||KS.fun(o)?o:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):$S(SM,(function(e){var r=n[e];if(KS.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),f=t._state,n.pause===!f.paused?(f.paused=n.pause,iT(n.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===RC(n,"cancel"),(d||p&&f.asyncId)&&h.push($C(++t._lastAsyncId,{props:n,state:f,actions:{pause:XS,resume:XS,start:function(e,n){p?(iM(f,t._lastAsyncId),n(nM(t))):(e.onRest=u,n(rM(d,e,f,t)))}}})),!f.paused){e.next=15;break}return e.next=15,new Promise((function(e){f.resumeQueue.add(e)}));case 15:return e.t0=QC,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,g=(0,e.t0)(e.t1,e.t2),!s||!g.finished||r&&g.noop){e.next=26;break}if(!(v=yM(n,s,o))){e.next=26;break}return RM(t,[v]),e.abrupt("return",AM(t,v,!0));case 26:return l&&NS.batchedUpdates((function(){return l(g,t,t.item)})),e.abrupt("return",g);case 28:case"end":return e.stop()}}),e)}))),IM.apply(this,arguments)}function OM(e,t){var n=OC({},e.springs);return t&&$S(eT(t),(function(e){KS.und(e.keys)&&(e=bM(e)),KS.obj(e.to)||(e=OC({},e,{to:void 0})),DM(n,e,(function(e){return PM(e)}))})),NM(e,n),n}function NM(e,t){QS(t,(function(t,n){e.springs[n]||(e.springs[n]=t,ZT(t,e))}))}function PM(e,t){var n=new vM;return n.key=e,t&&ZT(n,t),n}function DM(e,t,n){t.keys&&$S(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function RM(e,t){$S(t,(function(t){DM(e.springs,t,(function(t){return PM(t,e)}))}))}function LM(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var jM,FM,BM=["children"],zM=function(e){var t=e.children,n=LM(e,BM),r=(0,y.useContext)(YM),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,y.useState)((function(){return{inputs:t,result:e()}})),r=(0,m.Z)(n,1)[0],i=(0,y.useRef)(),o=i.current,a=o;return a?Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs))||(a={inputs:t,result:e()}):a=r,(0,y.useEffect)((function(){i.current=a,o==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((function(){return{pause:i,immediate:o}}),[i,o]);var a=YM.Provider;return y.createElement(a,{value:n},t)},YM=(jM=zM,FM={},Object.assign(jM,y.createContext(FM)),jM.Provider._context=jM,jM.Consumer._context=jM,jM);zM.Provider=YM.Provider,zM.Consumer=YM.Consumer;var GM=function(){var e=[],t=function(t){aC("".concat(nC,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return $S(e,(function(e,i){if(KS.und(t))r.push(e.start());else{var o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return $S(e,(function(e){return e.pause.apply(e,(0,Mn.Z)(t))})),this},t.resume=function(){var t=arguments;return $S(e,(function(e){return e.resume.apply(e,(0,Mn.Z)(t))})),this},t.set=function(t){$S(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return $S(e,(function(e,i){if(KS.und(t))r.push(e.start());else{var o=n._getProps(t,e,i);o&&r.push(e.start(o))}})),r},t.stop=function(){var t=arguments;return $S(e,(function(e){return e.stop.apply(e,(0,Mn.Z)(t))})),this},t.update=function(t){var n=this;return $S(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return KS.fun(e)?e(n,t):e};return t._getProps=n,t};function VM(e,t,n){var r=arguments,i=KS.fun(t)&&t;i&&!n&&(n=[]);var o=(0,y.useMemo)((function(){return i||3==r.length?GM():void 0}),[]),a=(0,y.useRef)(0),s=cC(),u=(0,y.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=OM(e,t),r=a.current>0&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}));return r?MM(e,t):new Promise((function(r){NM(e,n),u.queue.push((function(){r(MM(e,t))})),s()}))}}}),[]),l=(0,y.useRef)((0,Mn.Z)(u.ctrls)),c=[],d=fC(e)||0;function f(e,n){for(var r=e;r<n;r++){var o=l.current[r]||(l.current[r]=new CM(null,u.flush)),a=i?i(r,o):t[r];a&&(c[r]=xM(a))}}(0,y.useMemo)((function(){$S(l.current.slice(e,d),(function(e){WC(e,o),e.stop(!0)})),l.current.length=e,f(d,e)}),[e]),(0,y.useMemo)((function(){f(0,Math.min(d,e))}),n);var h=l.current.map((function(e,t){return OM(e,c[t])})),p=(0,y.useContext)(zM),g=fC(p),v=p!==g&&GC(p);hC((function(){a.current++,u.ctrls=l.current;var e=u.queue;e.length&&(u.queue=[],$S(e,(function(e){return e()}))),$S(l.current,(function(e,t){null==o||o.add(e),v&&e.start({default:p});var n=c[t];n&&(UC(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),uC((function(){return function(){$S(u.ctrls,(function(e){return e.stop(!0)}))}}));var m=h.map((function(e){return OC({},e)}));return o?[m,o]:m}function WM(e,t){var n=KS.fun(e),r=VM(1,n?e:[e],n?t||[]:t),i=(0,m.Z)(r,2),o=(0,m.Z)(i[0],1),a=o[0],s=i[1];return n||2==arguments.length?[a,s]:a}var UM;function ZM(e,t,n){var r=arguments,i=KS.fun(t)&&t,o=i?i():t,a=o.reset,s=o.sort,u=o.trail,l=void 0===u?0:u,c=o.expires,d=void 0===c||c,f=o.onDestroyed,h=o.ref,p=o.config,g=(0,y.useMemo)((function(){return i||3==r.length?GM():void 0}),[]),v=eT(e),m=[],b=(0,y.useRef)(null),x=a?null:b.current;hC((function(){b.current=m})),uC((function(){return function(){return $S(b.current,(function(e){e.expired&&clearTimeout(e.expirationId),WC(e.ctrl,g),e.ctrl.stop(!0)}))}}));var w=qM(v,i?i():t,x),E=a&&b.current||[];hC((function(){return $S(E,(function(e){var t=e.ctrl,n=e.item,r=e.key;WC(t,g),NC(f,n,r)}))}));var k=[];if(x&&$S(x,(function(e,t){e.expired?(clearTimeout(e.expirationId),E.push(e)):~(t=k[t]=w.indexOf(e.key))&&(m[t]=e)})),$S(v,(function(e,t){m[t]||(m[t]={key:w[t],item:e,phase:UM.MOUNT,ctrl:new CM},m[t].ctrl.item=e)})),k.length){var _=-1,S=i?i():t,T=S.leave;$S(k,(function(e,t){var n=x[t];~e?(_=m.indexOf(n),m[_]=OC({},n,{item:v[e]})):T&&m.splice(++_,0,n)}))}KS.fun(s)&&m.sort((function(e,t){return s(e.item,t.item)}));var C=-l,M=cC(),A=jC(t),I=new Map;$S(m,(function(e,n){var r,o,a=e.key,s=e.phase,u=i?i():t,c=NC(u.delay||0,a);if(s==UM.MOUNT)r=u.enter,o=UM.ENTER;else{var f=w.indexOf(a)<0;if(s!=UM.LEAVE)if(f)r=u.leave,o=UM.LEAVE;else{if(!(r=u.update))return;o=UM.UPDATE}else{if(f)return;r=u.enter,o=UM.ENTER}}if(r=NC(r,e.item,n),!(r=KS.obj(r)?zC(r):{to:r}).config){var g=p||A.config;r.config=NC(g,e.item,n,o)}var v=OC({},A,{delay:c+(C+=l),ref:h,immediate:u.immediate,reset:!1},r);if(o==UM.ENTER&&KS.und(v.from)){var m=i?i():t,y=KS.und(m.initial)||x?m.from:m.initial;v.from=NC(y,e.item,n)}var E=v.onResolve;v.onResolve=function(e){NC(E,e);var t=b.current,n=t.find((function(e){return e.key===a}));if(n&&(!e.cancelled||n.phase==UM.UPDATE)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==UM.LEAVE){var i=NC(d,n.item);if(!1!==i){var o=!0===i?0:i;if(n.expired=!0,!r&&o>0)return void(o<=2147483647&&(n.expirationId=setTimeout(M,o)))}}r&&t.some((function(e){return e.expired}))&&M()}};var k=OM(e.ctrl,v);I.set(e,{phase:o,springs:k,payload:v})}));var O=(0,y.useContext)(zM),N=fC(O),P=O!==N&&GC(O);hC((function(){P&&$S(m,(function(e){e.ctrl.start({default:O})}))}),[O]),hC((function(){$S(I,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null==g||g.add(i),P&&n==UM.ENTER&&i.start({default:O}),r&&(UC(i,r.ref),i.ref?i.update(r):i.start(r))}))}),a?void 0:n);var D=function(e){return y.createElement(y.Fragment,null,m.map((function(t,n){var r=(I.get(t)||t.ctrl).springs,i=e(OC({},r),t.item,t,n);return i&&i.type?y.createElement(i.type,OC({},i.props,{key:KS.str(t.key)||KS.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return g?[D,g]:D}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(UM||(UM={}));var HM=1;function qM(e,t,n){var r=t.key,i=t.keys,o=void 0===i?r:i;if(null===o){var a=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==UM.LEAVE&&!a.has(t)}));return t?(a.add(t),t.key):HM++}))}return KS.und(o)?e:KS.fun(o)?e.map(o):eT(o)}var XM=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e,r){var i;(0,On.Z)(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=LT.apply(void 0,(0,Mn.Z)(r));var o=i._get(),a=SC(o);return vC((0,Uo.Z)(i),a.create(o)),i}return(0,Nn.Z)(n,[{key:"advance",value:function(e){var t=this._get();JS(t,this.get())||(gC(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&JM(this._active)&&$M(this)}},{key:"_get",value:function(){var e=KS.arr(this.source)?this.source.map(YT):eT(YT(this.source));return this.calc.apply(this,(0,Mn.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!JM(this._active)&&(this.idle=!1,$S(mC(this),(function(e){e.done=!1})),uT.skipAnimation?(NS.batchedUpdates((function(){return e.advance()})),$M(this)):hT.start(this))}},{key:"_attach",value:function(){var e=this,t=1;$S(eT(this.source),(function(n){zT(n)&&ZT(n,e),sM(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;$S(eT(this.source),(function(t){zT(t)&&HT(t,e)})),this._active.clear(),$M(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=eT(this.source).reduce((function(e,t){return Math.max(e,(sM(t)?t.priority:0)+1)}),0))}}]),n}(lM);function KM(e){return!1!==e.idle}function JM(e){return!e.size||Array.from(e).every(KM)}function $M(e){e.idle||(e.idle=!0,$S(mC(e),(function(e){e.done=!0})),VT(e,{type:"idle",parent:e}))}var QM=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new XM(e,n)};uT.assign({createStringInterpolator:tC,to:function(e,t){return new XM(e,t)}});hT.advance;function eA(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var tA=["style","children","scrollTop","scrollLeft"],nA=/^--/;function rA(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||nA.test(e)||oA.hasOwnProperty(e)&&oA[e]?(""+t).trim():t+"px"}var iA={};var oA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aA=["Webkit","Ms","Moz","O"];oA=Object.keys(oA).reduce((function(e,t){return aA.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),oA);var sA=["x","y","z"],uA=/^(matrix|translate|scale|rotate|skew)/,lA=/^(translate)/,cA=/^(rotate|skew)/,dA=function(e,t){return KS.num(e)&&0!==e?e+t:e},fA=function e(t,n){return KS.arr(t)?t.every((function(t){return e(t,n)})):KS.num(t)?t===n:parseFloat(t)===n},hA=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){(0,On.Z)(this,n);var r=e.x,i=e.y,o=e.z,a=eA(e,sA),s=[],u=[];return(r||i||o)&&(s.push([r||0,i||0,o||0]),u.push((function(e){return["translate3d(".concat(e.map((function(e){return dA(e,"px")})).join(","),")"),fA(e,0)]}))),QS(a,(function(e,t){if("transform"===t)s.push([e||""]),u.push((function(e){return[e,""===e]}));else if(uA.test(t)){if(delete a[t],KS.und(e))return;var n=lA.test(t)?"px":cA.test(t)?"deg":"";s.push(eT(e)),u.push("rotate3d"===t?function(e){var t=(0,m.Z)(e,4),r=t[0],i=t[1],o=t[2],a=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(o,",").concat(dA(a,n),")"),fA(a,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return dA(e,n)})).join(","),")"),fA(e,t.startsWith("scale")?1:0)]})}})),s.length&&(a.transform=new pA(s,u)),t.call(this,a)}return(0,Nn.Z)(n)}(EC),pA=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e,r){var i;return(0,On.Z)(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return(0,Nn.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return $S(this.inputs,(function(r,i){var o=YT(r[0]),a=e.transforms[i](KS.arr(o)?o:r.map(YT)),s=(0,m.Z)(a,2),u=s[0],l=s[1];t+=" "+u,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&$S(this.inputs,(function(e){return $S(e,(function(e){return zT(e)&&ZT(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&$S(this.inputs,(function(e){return $S(e,(function(e){return zT(e)&&HT(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),VT(this,e)}}]),n}(WT),gA=["scrollTop","scrollLeft"];uT.assign({batchedUpdates:b.unstable_batchedUpdates,createStringInterpolator:tC,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var vA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,o=void 0===i?function(e){return new EC(e)}:i,a=t.getComponentProps,s=void 0===a?function(e){return e}:a,u={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},l=function e(t){var n=IC(t)||"Anonymous";return(t=KS.str(t)?e[t]||(e[t]=CC(t,u)):t[AC]||(t[AC]=CC(t,u))).displayName="Animated(".concat(n,")"),t};return QS(e,(function(t,n){KS.arr(e)&&(n=IC(t)),l[n]=l(t)})),{animated:l}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,u=eA(r,tA),l=Object.values(u),c=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:iA[t]||(iA[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var d in void 0!==o&&(e.textContent=o),i)if(i.hasOwnProperty(d)){var f=rA(d,i[d]);nA.test(d)?e.style.setProperty(d,f):e.style[d]=f}c.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new hA(e)},getComponentProps:function(e){return eA(e,gA)}}),mA=vA.animated;function yA(){return yA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yA.apply(this,arguments)}var bA={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},xA=function(e,t){return"translate("+e+"px, "+t+"px)"},wA=(0,y.memo)((function(e){var t,n=e.position,r=e.anchor,i=e.children,o=kL(),a=tL(),s=a.animate,u=a.config,l=yL(),c=l[0],d=l[1],f=(0,y.useRef)(!1),h=void 0,p=!1,g=d.width>0&&d.height>0,v=Math.round(n[0]),m=Math.round(n[1]);g&&("top"===r?(v-=d.width/2,m-=d.height+14):"right"===r?(v+=14,m-=d.height/2):"bottom"===r?(v-=d.width/2,m+=14):"left"===r?(v-=d.width+14,m-=d.height/2):"center"===r&&(v-=d.width/2,m-=d.height/2),h={transform:xA(v,m)},f.current||(p=!0),f.current=[v,m]);var b=WM({to:h,config:u,immediate:!s||p}),x=yA({},bA,o.tooltip,{transform:null!=(t=b.transform)?t:xA(v,m)});return(0,pS.jsx)(mA.div,{ref:c,style:x,children:i})}));wA.displayName="TooltipWrapper";var EA=(0,y.memo)((function(e){var t=e.size,n=void 0===t?12:t,r=e.color,i=e.style;return(0,pS.jsx)("span",{style:yA({display:"block",width:n,height:n,background:r},void 0===i?{}:i)})})),kA=(0,y.memo)((function(e){var t,n=e.id,r=e.value,i=e.format,o=e.enableChip,a=void 0!==o&&o,s=e.color,u=e.renderContent,l=kL(),c=bL(i);if("function"==typeof u)t=u();else{var d=r;void 0!==c&&void 0!==d&&(d=c(d)),t=(0,pS.jsxs)("div",{style:l.tooltip.basic,children:[a&&(0,pS.jsx)(EA,{color:s,style:l.tooltip.chip}),void 0!==d?(0,pS.jsxs)("span",{children:[n,": ",(0,pS.jsx)("strong",{children:""+d})]}):n]})}return(0,pS.jsx)("div",{style:l.tooltip.container,children:t})})),_A={width:"100%",borderCollapse:"collapse"},SA=(0,y.memo)((function(e){var t,n=e.title,r=e.rows,i=void 0===r?[]:r,o=e.renderContent,a=kL();return i.length?(t="function"==typeof o?o():(0,pS.jsxs)("div",{children:[n&&n,(0,pS.jsx)("table",{style:yA({},_A,a.tooltip.table),children:(0,pS.jsx)("tbody",{children:i.map((function(e,t){return(0,pS.jsx)("tr",{children:e.map((function(e,t){return(0,pS.jsx)("td",{style:a.tooltip.tableCell,children:e},t)}))},t)}))})})]}),(0,pS.jsx)("div",{style:a.tooltip.container,children:t})):null}));SA.displayName="TableTooltip";var TA=(0,y.memo)((function(e){var t=e.x0,n=e.x1,r=e.y0,i=e.y1,o=kL(),a=tL(),s=a.animate,u=a.config,l=(0,y.useMemo)((function(){return yA({},o.crosshair.line,{pointerEvents:"none"})}),[o.crosshair.line]),c=WM({x1:t,x2:n,y1:r,y2:i,config:u,immediate:!s});return(0,pS.jsx)(mA.line,yA({},c,{fill:"none",style:l}))}));TA.displayName="CrosshairLine";var CA=(0,y.memo)((function(e){var t,n,r=e.width,i=e.height,o=e.type,a=e.x,s=e.y;return"cross"===o?(t={x0:a,x1:a,y0:0,y1:i},n={x0:0,x1:r,y0:s,y1:s}):"top-left"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:0,x1:a,y0:s,y1:s}):"top"===o?t={x0:a,x1:a,y0:0,y1:s}:"top-right"===o?(t={x0:a,x1:a,y0:0,y1:s},n={x0:a,x1:r,y0:s,y1:s}):"right"===o?n={x0:a,x1:r,y0:s,y1:s}:"bottom-right"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:a,x1:r,y0:s,y1:s}):"bottom"===o?t={x0:a,x1:a,y0:s,y1:i}:"bottom-left"===o?(t={x0:a,x1:a,y0:s,y1:i},n={x0:0,x1:a,y0:s,y1:s}):"left"===o?n={x0:0,x1:a,y0:s,y1:s}:"x"===o?t={x0:a,x1:a,y0:0,y1:i}:"y"===o&&(n={x0:0,x1:r,y0:s,y1:s}),(0,pS.jsxs)(pS.Fragment,{children:[t&&(0,pS.jsx)(TA,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&(0,pS.jsx)(TA,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})}));CA.displayName="Crosshair";var MA=(0,y.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),AA={isVisible:!1,position:[null,null],content:null,anchor:null},IA=(0,y.createContext)(AA),OA=function(e){var t=(0,y.useState)(AA),n=t[0],r=t[1],i=(0,y.useCallback)((function(e,t,n){var i=t[0],o=t[1];void 0===n&&(n="top"),r({isVisible:!0,position:[i,o],anchor:n,content:e})}),[r]),o=(0,y.useCallback)((function(t,n,i){void 0===i&&(i="top");var o=e.current.getBoundingClientRect(),a=n.clientX-o.left,s=n.clientY-o.top;"left"!==i&&"right"!==i||(i=a<o.width/2?"right":"left"),r({isVisible:!0,position:[a,s],anchor:i,content:t})}),[e,r]),a=(0,y.useCallback)((function(){r(AA)}),[r]);return{actions:(0,y.useMemo)((function(){return{showTooltipAt:i,showTooltipFromEvent:o,hideTooltip:a}}),[i,o,a]),state:n}},NA=function(){var e=(0,y.useContext)(MA);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},PA=function(){var e=function(){var e=(0,y.useContext)(IA);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e}();return function(e){return e.isVisible}(e)?(0,pS.jsx)(wA,{position:e.position,anchor:e.anchor,children:e.content}):null},DA=function(e){var t=e.container,n=e.children,r=OA(t),i=r.actions,o=r.state;return(0,pS.jsx)(MA.Provider,{value:i,children:(0,pS.jsx)(IA.Provider,{value:o,children:n})})},RA=n(79286),LA=n.n(RA),jA=n(26181),FA=n.n(jA),BA=n(74485),zA=n.n(BA);function YA(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var GA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VA=new RegExp(GA.source,"g");var WA=n(26769),UA=n.n(WA),ZA=n(15727),HA=n.n(ZA);n(93629);function qA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var XA=Symbol("implicit");function KA(){var e=new Map,t=[],n=[],r=XA;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==XA)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=(0,PE.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(u){o.e(u)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return KA(t,n).unknown(r)},qA.apply(i,arguments),i}function JA(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function $A(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eI(){}var tI=.7,nI=1/tI,rI="\\s*([+-]?\\d+)\\s*",iI="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oI="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aI=/^#([0-9a-f]{3,8})$/,sI=new RegExp("^rgb\\("+[rI,rI,rI]+"\\)$"),uI=new RegExp("^rgb\\("+[oI,oI,oI]+"\\)$"),lI=new RegExp("^rgba\\("+[rI,rI,rI,iI]+"\\)$"),cI=new RegExp("^rgba\\("+[oI,oI,oI,iI]+"\\)$"),dI=new RegExp("^hsl\\("+[iI,oI,oI]+"\\)$"),fI=new RegExp("^hsla\\("+[iI,oI,oI,iI]+"\\)$"),hI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pI(){return this.rgb().formatHex()}function gI(){return this.rgb().formatRgb()}function vI(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=aI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?mI(t):3===n?new wI(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?yI(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?yI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=sI.exec(e))?new wI(t[1],t[2],t[3],1):(t=uI.exec(e))?new wI(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lI.exec(e))?yI(t[1],t[2],t[3],t[4]):(t=cI.exec(e))?yI(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=dI.exec(e))?SI(t[1],t[2]/100,t[3]/100,1):(t=fI.exec(e))?SI(t[1],t[2]/100,t[3]/100,t[4]):hI.hasOwnProperty(e)?mI(hI[e]):"transparent"===e?new wI(NaN,NaN,NaN,0):null}function mI(e){return new wI(e>>16&255,e>>8&255,255&e,1)}function yI(e,t,n,r){return r<=0&&(e=t=n=NaN),new wI(e,t,n,r)}function bI(e){return e instanceof eI||(e=vI(e)),e?new wI((e=e.rgb()).r,e.g,e.b,e.opacity):new wI}function xI(e,t,n,r){return 1===arguments.length?bI(e):new wI(e,t,n,null==r?1:r)}function wI(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function EI(){return"#"+_I(this.r)+_I(this.g)+_I(this.b)}function kI(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function _I(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function SI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new CI(e,t,n,r)}function TI(e){if(e instanceof CI)return new CI(e.h,e.s,e.l,e.opacity);if(e instanceof eI||(e=vI(e)),!e)return new CI;if(e instanceof CI)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new CI(a,s,u,e.opacity)}function CI(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function MI(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function AI(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function II(e){return function(){return e}}function OI(e,t){return function(n){return e+n*t}}function NI(e){return 1===(e=+e)?PI:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):II(isNaN(t)?n:t)}}function PI(e,t){var n=t-e;return n?OI(e,n):II(isNaN(e)?t:e)}$A(eI,vI,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:pI,formatHex:pI,formatHsl:function(){return TI(this).formatHsl()},formatRgb:gI,toString:gI}),$A(wI,xI,QA(eI,{brighter:function(e){return e=null==e?nI:Math.pow(nI,e),new wI(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?tI:Math.pow(tI,e),new wI(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EI,formatHex:EI,formatRgb:kI,toString:kI})),$A(CI,(function(e,t,n,r){return 1===arguments.length?TI(e):new CI(e,t,n,null==r?1:r)}),QA(eI,{brighter:function(e){return e=null==e?nI:Math.pow(nI,e),new CI(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?tI:Math.pow(tI,e),new CI(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wI(MI(e>=240?e-240:e+120,i,r),MI(e,i,r),MI(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var DI=function e(t){var n=NI(t);function r(e,t){var r=n((e=xI(e)).r,(t=xI(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=PI(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function RI(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=xI(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var LI=RI((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return AI((n-r/t)*t,a,i,o,s)}})),jI=(RI((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return AI((n-r/t)*t,i,o,a,s)}})),function(e){return LI(e[e.length-1])}),FI=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(JA),BI=jI(FI),zI=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(JA),YI=jI(zI),GI=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(JA),VI=jI(GI),WI=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(JA),UI=jI(WI),ZI=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(JA),HI=jI(ZI),qI=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(JA),XI=jI(qI),KI=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(JA),JI=jI(KI),$I=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(JA),QI=jI($I),eO=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(JA),tO=jI(eO),nO=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(JA),rO=jI(nO),iO=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(JA),oO=jI(iO),aO=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(JA),sO=jI(aO),uO=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(JA),lO=jI(uO),cO=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(JA),dO=jI(cO),fO=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(JA),hO=jI(fO),pO=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(JA),gO=jI(pO),vO=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(JA),mO=jI(vO),yO=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(JA),bO=jI(yO),xO=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(JA),wO=jI(xO),EO=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(JA),kO=jI(EO),_O=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(JA),SO=jI(_O),TO=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(JA),CO=jI(TO),MO=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(JA),AO=jI(MO),IO=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(JA),OO=jI(IO),NO=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(JA),PO=jI(NO),DO=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(JA),RO=jI(DO),LO=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(JA),jO=jI(LO),FO=JA("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),BO=JA("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),zO=JA("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),YO=JA("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),GO=JA("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),VO=JA("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),WO=JA("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),UO=JA("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ZO=JA("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function HO(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var qO=HO(JA("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),XO=HO(JA("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),KO=HO(JA("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),JO=HO(JA("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),$O=Math.PI/180,QO=180/Math.PI,eN=-.14861,tN=1.78277,nN=-.29227,rN=-.90649,iN=1.97294,oN=-1.7884503806,aN=3.5172982438,sN=-.6557636667999999;function uN(e){if(e instanceof cN)return new cN(e.h,e.s,e.l,e.opacity);e instanceof wI||(e=bI(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(sN*r+oN*t-aN*n)/(sN+oN-aN),o=r-i,a=(iN*(n-i)-nN*o)/rN,s=Math.sqrt(a*a+o*o)/(iN*i*(1-i)),u=s?Math.atan2(a,o)*QO-120:NaN;return new cN(u<0?u+360:u,s,i,e.opacity)}function lN(e,t,n,r){return 1===arguments.length?uN(e):new cN(e,t,n,null==r?1:r)}function cN(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function dN(e){return function t(n){function r(t,r){var i=e((t=lN(t)).h,(r=lN(r)).h),o=PI(t.s,r.s),a=PI(t.l,r.l),s=PI(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}$A(cN,lN,QA(eI,{brighter:function(e){return e=null==e?nI:Math.pow(nI,e),new cN(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?tI:Math.pow(tI,e),new cN(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*$O,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wI(255*(t+n*(eN*r+tN*i)),255*(t+n*(nN*r+rN*i)),255*(t+n*(iN*r)),this.opacity)}}));dN((function(e,t){var n=t-e;return n?OI(e,n>180||n<-180?n-360*Math.round(n/360):n):II(isNaN(e)?t:e)}));var fN=dN(PI),hN=fN(lN(-100,.75,.35),lN(80,1.5,.8)),pN=fN(lN(260,.75,.35),lN(80,1.5,.8)),gN=lN();function vN(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return gN.h=360*e-100,gN.s=1.5-1.5*t,gN.l=.8-.9*t,gN+""}var mN=fN(lN(300,.5,0),lN(-240,.5,1)),yN=xI(),bN=Math.PI/3,xN=2*Math.PI/3;function wN(e){var t;return e=(.5-e)*Math.PI,yN.r=255*(t=Math.sin(e))*t,yN.g=255*(t=Math.sin(e+bN))*t,yN.b=255*(t=Math.sin(e+xN))*t,yN+""}var EN=n(74786),kN=n.n(EN),_N=n(41761),SN=n.n(_N);function TN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CN(e){this._context=e}function MN(){}function AN(e){this._context=e}function IN(e){this._context=e}function ON(e,t){this._basis=new CN(e),this._beta=t}CN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:TN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AN.prototype={areaStart:MN,areaEnd:MN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:TN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ON.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var NN=function e(t){function n(e){return 1===t?new CN(e):new ON(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function PN(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function DN(e,t){this._context=e,this._k=(1-t)/6}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:PN(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:PN(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var RN=function e(t){function n(e){return new DN(e,t)}return n.tension=function(t){return e(+t)},n}(0);function LN(e,t){this._context=e,this._k=(1-t)/6}LN.prototype={areaStart:MN,areaEnd:MN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:PN(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var jN=function e(t){function n(e){return new LN(e,t)}return n.tension=function(t){return e(+t)},n}(0);function FN(e,t){this._context=e,this._k=(1-t)/6}FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:PN(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var BN=function e(t){function n(e){return new FN(e,t)}return n.tension=function(t){return e(+t)},n}(0);Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI;function zN(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function YN(e,t){this._context=e,this._alpha=t}YN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zN(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var GN=function e(t){function n(e){return t?new YN(e,t):new DN(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function VN(e,t){this._context=e,this._alpha=t}VN.prototype={areaStart:MN,areaEnd:MN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zN(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var WN=function e(t){function n(e){return t?new VN(e,t):new LN(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function UN(e,t){this._context=e,this._alpha=t}UN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zN(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ZN=function e(t){function n(e){return t?new UN(e,t):new FN(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function HN(e){this._context=e}function qN(e){return new HN(e)}function XN(e){this._context=e}function KN(e){return e<0?-1:1}function JN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(KN(o)+KN(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $N(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function QN(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function eP(e){this._context=e}function tP(e){this._context=new nP(e)}function nP(e){this._context=e}function rP(e){this._context=e}function iP(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function oP(e,t){this._context=e,this._t=t}function aP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sP(e){var t=e.map(uP);return aP(e).sort((function(e,n){return t[e]-t[n]}))}function uP(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function lP(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function cP(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function dP(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,l=e[t[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function fP(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hP(e){return(e=fP(Math.abs(e)))?e[1]:NaN}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},XN.prototype={areaStart:MN,areaEnd:MN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QN(this,this._t0,$N(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,QN(this,$N(this,n=JN(this,e,t)),n);break;default:QN(this,this._t0,n=JN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(tP.prototype=Object.create(eP.prototype)).point=function(e,t){eP.prototype.point.call(this,t,e)},nP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},rP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=iP(e),i=iP(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var pP,gP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vP(e){if(!(t=gP.exec(e)))throw new Error("invalid format: "+e);var t;return new mP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function mP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function yP(e,t){var n=fP(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}vP.prototype=mP.prototype,mP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var bP={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return yP(100*e,t)},r:yP,s:function(e,t){var n=fP(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(pP=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fP(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function xP(e){return e}var wP,EP,kP,_P=Array.prototype.map,SP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function TP(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?xP:(t=_P.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?xP:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(_P.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=vP(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,v=e.precision,m=e.trim,y=e.type;"n"===y?(g=!0,y="g"):bP[y]||(void 0===v&&(v=12),m=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?o:/[%p]/.test(y)?u:"",w=bP[y],E=/[defgprs%]/.test(y);function k(e){var i,o,u,f=b,k=x;if("c"===y)k=w(e)+k,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),v),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==d&&(_=!1),f=(_?"("===d?d:l:"-"===d||"("===d?"":d)+f,k=("s"===y?SP[8+pP/3]:"")+k+(_&&"("===d?")":""),E)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){k=(46===u?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!h&&(e=r(e,1/0));var S=f.length+e.length+k.length,T=S<p?new Array(p-S+1).join(t):"";switch(g&&h&&(e=r(T+e,T.length?p-k.length:1/0),T=""),n){case"<":e=f+e+k+T;break;case"=":e=f+T+e+k;break;case"^":e=T.slice(0,S=T.length>>1)+f+e+k+T.slice(S);break;default:e=T+f+e+k}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=vP(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(hP(t)/3))),i=Math.pow(10,-r),o=SP[8+r/3];return function(e){return n(i*e)+o}}}}wP=TP({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),EP=wP.format,kP=wP.formatPrefix;var CP=new Date,MP=new Date;function AP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return AP((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return CP.setTime(+t),MP.setTime(+r),e(CP),e(MP),Math.floor(n(CP,MP))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var IP=1e3,OP=6e4,NP=36e5,PP=864e5,DP=6048e5;function RP(e){return AP((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/DP}))}var LP=RP(0),jP=RP(1),FP=RP(2),BP=RP(3),zP=RP(4),YP=RP(5),GP=RP(6),VP=(LP.range,jP.range,FP.range,BP.range,zP.range,YP.range,GP.range,AP((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/PP}),(function(e){return e.getUTCDate()-1}))),WP=VP;VP.range;function UP(e){return AP((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OP)/DP}))}var ZP=UP(0),HP=UP(1),qP=UP(2),XP=UP(3),KP=UP(4),JP=UP(5),$P=UP(6),QP=(ZP.range,HP.range,qP.range,XP.range,KP.range,JP.range,$P.range,AP((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OP)/PP}),(function(e){return e.getDate()-1}))),eD=QP,tD=(QP.range,AP((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));tD.every=function(e){return isFinite(e=Math.floor(e))&&e>0?AP((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var nD=tD,rD=(tD.range,AP((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));rD.every=function(e){return isFinite(e=Math.floor(e))&&e>0?AP((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var iD=rD;rD.range;function oD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sD(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var uD,lD,cD,dD,fD,hD={"-":"",_:" ",0:"0"},pD=/^\s*\d+/,gD=/^%/,vD=/[\\^$*+?|[\]().{}]/g;function mD(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function yD(e){return e.replace(vD,"\\$&")}function bD(e){return new RegExp("^(?:"+e.map(yD).join("|")+")","i")}function xD(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function wD(e,t,n){var r=pD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ED(e,t,n){var r=pD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function kD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _D(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function SD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function TD(e,t,n){var r=pD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AD(e,t,n){var r=pD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function ID(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function OD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ND(e,t,n){var r=pD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function DD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=pD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LD(e,t,n){var r=pD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jD(e,t,n){var r=pD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FD(e,t,n){var r=gD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function BD(e,t,n){var r=pD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zD(e,t,n){var r=pD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function YD(e,t){return mD(e.getDate(),t,2)}function GD(e,t){return mD(e.getHours(),t,2)}function VD(e,t){return mD(e.getHours()%12||12,t,2)}function WD(e,t){return mD(1+eD.count(nD(e),e),t,3)}function UD(e,t){return mD(e.getMilliseconds(),t,3)}function ZD(e,t){return UD(e,t)+"000"}function HD(e,t){return mD(e.getMonth()+1,t,2)}function qD(e,t){return mD(e.getMinutes(),t,2)}function XD(e,t){return mD(e.getSeconds(),t,2)}function KD(e){var t=e.getDay();return 0===t?7:t}function JD(e,t){return mD(ZP.count(nD(e)-1,e),t,2)}function $D(e){var t=e.getDay();return t>=4||0===t?KP(e):KP.ceil(e)}function QD(e,t){return e=$D(e),mD(KP.count(nD(e),e)+(4===nD(e).getDay()),t,2)}function eR(e){return e.getDay()}function tR(e,t){return mD(HP.count(nD(e)-1,e),t,2)}function nR(e,t){return mD(e.getFullYear()%100,t,2)}function rR(e,t){return mD((e=$D(e)).getFullYear()%100,t,2)}function iR(e,t){return mD(e.getFullYear()%1e4,t,4)}function oR(e,t){var n=e.getDay();return mD((e=n>=4||0===n?KP(e):KP.ceil(e)).getFullYear()%1e4,t,4)}function aR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mD(t/60|0,"0",2)+mD(t%60,"0",2)}function sR(e,t){return mD(e.getUTCDate(),t,2)}function uR(e,t){return mD(e.getUTCHours(),t,2)}function lR(e,t){return mD(e.getUTCHours()%12||12,t,2)}function cR(e,t){return mD(1+WP.count(iD(e),e),t,3)}function dR(e,t){return mD(e.getUTCMilliseconds(),t,3)}function fR(e,t){return dR(e,t)+"000"}function hR(e,t){return mD(e.getUTCMonth()+1,t,2)}function pR(e,t){return mD(e.getUTCMinutes(),t,2)}function gR(e,t){return mD(e.getUTCSeconds(),t,2)}function vR(e){var t=e.getUTCDay();return 0===t?7:t}function mR(e,t){return mD(LP.count(iD(e)-1,e),t,2)}function yR(e){var t=e.getUTCDay();return t>=4||0===t?zP(e):zP.ceil(e)}function bR(e,t){return e=yR(e),mD(zP.count(iD(e),e)+(4===iD(e).getUTCDay()),t,2)}function xR(e){return e.getUTCDay()}function wR(e,t){return mD(jP.count(iD(e)-1,e),t,2)}function ER(e,t){return mD(e.getUTCFullYear()%100,t,2)}function kR(e,t){return mD((e=yR(e)).getUTCFullYear()%100,t,2)}function _R(e,t){return mD(e.getUTCFullYear()%1e4,t,4)}function SR(e,t){var n=e.getUTCDay();return mD((e=n>=4||0===n?zP(e):zP.ceil(e)).getUTCFullYear()%1e4,t,4)}function TR(){return"+0000"}function CR(){return"%"}function MR(e){return+e}function AR(e){return Math.floor(+e/1e3)}function IR(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function OR(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function NR(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}!function(e){uD=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=bD(i),c=xD(i),d=bD(o),f=xD(o),h=bD(a),p=xD(a),g=bD(s),v=xD(s),m=bD(u),y=xD(u),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:YD,e:YD,f:ZD,g:rR,G:oR,H:GD,I:VD,j:WD,L:UD,m:HD,M:qD,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:MR,s:AR,S:XD,u:KD,U:JD,V:QD,w:eR,W:tR,x:null,X:null,y:nR,Y:iR,Z:aR,"%":CR},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:sR,e:sR,f:fR,g:kR,G:SR,H:uR,I:lR,j:cR,L:dR,m:hR,M:pR,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:MR,s:AR,S:gR,u:vR,U:mR,V:bR,w:xR,W:wR,x:null,X:null,y:ER,Y:_R,Z:TR,"%":CR},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:OD,e:OD,f:jD,g:CD,G:TD,H:PD,I:PD,j:ND,L:LD,m:ID,M:DD,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:AD,Q:BD,s:zD,S:RD,u:ED,U:kD,V:_D,w:wD,W:SD,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:CD,Y:TD,Z:MD,"%":FD};function E(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=hD[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=sD(1900,void 0,1);if(_(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=aD(sD(o.y,0,1))).getUTCDay(),r=i>4||0===i?jP.ceil(r):jP(r),r=WP.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=oD(sD(o.y,0,1))).getDay(),r=i>4||0===i?HP.ceil(r):HP(r),r=eD.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?aD(sD(o.y,0,1)).getUTCDay():oD(sD(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,aD(o)):oD(o)}}function _(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in hD?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),x.x=E(n,x),x.X=E(r,x),x.c=E(t,x),{format:function(e){var t=E(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),lD=uD.format,cD=uD.parse,dD=uD.utcFormat,fD=uD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),IR.__suppressDeprecationWarning=!0,OR.__suppressDeprecationWarning=!0,NR.__suppressDeprecationWarning=!0;Object.prototype.hasOwnProperty;var PR=n(93977),DR=n.n(PR),RR=n(36460),LR=n.n(RR);function jR(){return jR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jR.apply(this,arguments)}function FR(e,t){return FR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},FR(e,t)}function BR(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var zR={fill:kS().string,fontSize:kS().number,fontFamily:kS().string},YR=kS().shape({domain:kS().shape({line:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,strokeDasharray:kS().string}).isRequired}).isRequired,ticks:kS().shape({line:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,strokeDasharray:kS().string}).isRequired,text:kS().shape(jR({},zR)).isRequired}).isRequired,legend:kS().shape({text:kS().shape(jR({},zR)).isRequired}).isRequired}),GR=kS().shape({line:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,strokeDasharray:kS().string}).isRequired}),VR=kS().shape({hidden:kS().shape({symbol:kS().shape({fill:kS().string.isRequired,opacity:kS().number}).isRequired,text:kS().shape(jR({},zR,{opacity:kS().number})).isRequired}).isRequired,text:kS().shape(jR({},zR)).isRequired}),WR=kS().shape({text:kS().shape(jR({},zR)).isRequired}),UR=kS().shape({text:kS().shape(jR({},zR)).isRequired}),ZR=kS().shape({text:kS().shape(jR({},zR)).isRequired}),HR=kS().shape({line:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,strokeDasharray:kS().string}).isRequired}),qR=kS().shape({text:kS().shape(jR({},zR,{outlineWidth:kS().number.isRequired,outlineColor:kS().string.isRequired})).isRequired,link:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,outlineWidth:kS().number.isRequired,outlineColor:kS().string.isRequired}).isRequired,outline:kS().shape({stroke:kS().string.isRequired,strokeWidth:kS().number.isRequired,outlineWidth:kS().number.isRequired,outlineColor:kS().string.isRequired}).isRequired,symbol:kS().shape({fill:kS().string.isRequired,outlineWidth:kS().number.isRequired,outlineColor:kS().string.isRequired}).isRequired}),XR=(kS().shape({background:kS().string.isRequired,fontFamily:kS().string.isRequired,fontSize:kS().number.isRequired,textColor:kS().string.isRequired,axis:YR.isRequired,grid:GR.isRequired,legends:VR.isRequired,labels:WR.isRequired,dots:UR.isRequired,markers:ZR,crosshair:HR.isRequired,annotations:qR.isRequired}),{background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}}),KR=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],JR=function(e,t){var n=LA()({},e,t);return KR.forEach((function(e){void 0===FA()(n,e+".fontFamily")&&zA()(n,e+".fontFamily",n.fontFamily),void 0===FA()(n,e+".fontSize")&&zA()(n,e+".fontSize",n.fontSize),void 0===FA()(n,e+".fill")&&zA()(n,e+".fill",n.textColor)})),n},$R=(0,y.createContext)(),QR=function(e){var t=e.children,n=e.animate,r=e.stiffness,i=e.damping,o=e.config,a=(0,y.useMemo)((function(){var e=UA()(o)?ZC[o]:o;return{animate:n,springConfig:{stiffness:r,damping:i},config:e}}),[n,r,i,o]);return(0,pS.jsx)($R.Provider,{value:a,children:t})},eL={animate:kS().bool,motionStiffness:kS().number,motionDamping:kS().number,motionConfig:kS().oneOfType([kS().oneOf(Object.keys(ZC)),kS().shape({mass:kS().number,tension:kS().number,friction:kS().number,clamp:kS().bool,precision:kS().number,velocity:kS().number,duration:kS().number,easing:kS().func})])};QR.propTypes={children:kS().node.isRequired,animate:eL.animate,stiffness:eL.motionStiffness,damping:eL.motionDamping,config:eL.motionConfig};QR.defaultProps={animate:!0,stiffness:90,damping:15,config:"default"};var tL=function(){return(0,y.useContext)($R)},nL=function(e){var t=tL(),n=t.animate,r=t.config,i=function(e){var t=(0,y.useRef)();return(0,y.useEffect)((function(){t.current=e}),[e]),t.current}(e),o=(0,y.useMemo)((function(){return function(e,t){var n,r,i,o=GA.lastIndex=VA.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=GA.exec(e))&&(r=VA.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:YA(n,r)})),o=VA.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}(i,e)}),[i,e]),a=WM({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!n}).value;return QM(a,o)},rL={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:HA()(FI),PRGn:HA()(zI),PiYG:HA()(GI),PuOr:HA()(WI),RdBu:HA()(ZI),RdGy:HA()(qI),RdYlBu:HA()(KI),RdYlGn:HA()($I),spectral:HA()(eO),blues:HA()(nO),greens:HA()(iO),greys:HA()(aO),oranges:HA()(uO),purples:HA()(cO),reds:HA()(fO),BuGn:HA()(pO),BuPu:HA()(vO),GnBu:HA()(yO),OrRd:HA()(xO),PuBuGn:HA()(EO),PuBu:HA()(_O),PuRd:HA()(TO),RdPu:HA()(MO),YlGnBu:HA()(IO),YlGn:HA()(NO),YlOrBr:HA()(DO),YlOrRd:HA()(LO)},iL=Object.keys(rL),oL=(HA()(FI),HA()(zI),HA()(GI),HA()(WI),HA()(ZI),HA()(qI),HA()(KI),HA()($I),HA()(eO),HA()(nO),HA()(iO),HA()(aO),HA()(uO),HA()(cO),HA()(fO),HA()(pO),HA()(vO),HA()(yO),HA()(xO),HA()(EO),HA()(_O),HA()(TO),HA()(MO),HA()(IO),HA()(NO),HA()(DO),HA()(LO),kS().oneOfType([kS().oneOf(iL),kS().func,kS().arrayOf(kS().string)]),{basis:function(e){return new CN(e)},basisClosed:function(e){return new AN(e)},basisOpen:function(e){return new IN(e)},bundle:NN,cardinal:RN,cardinalClosed:jN,cardinalOpen:BN,catmullRom:GN,catmullRomClosed:WN,catmullRomOpen:ZN,linear:qN,linearClosed:function(e){return new XN(e)},monotoneX:function(e){return new eP(e)},monotoneY:function(e){return new tP(e)},natural:function(e){return new rP(e)},step:function(e){return new oP(e,.5)},stepAfter:function(e){return new oP(e,1)},stepBefore:function(e){return new oP(e,0)}}),aL=Object.keys(oL),sL=(kS().oneOf(aL),aL.filter((function(e){return e.endsWith("Closed")})),SN()(aL,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),SN()(aL,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),uL=kS().oneOf(sL),lL=function(e){if(!oL[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return oL[e]},cL={defs:kS().arrayOf(kS().shape({id:kS().string.isRequired})).isRequired,fill:kS().arrayOf(kS().shape({id:kS().string.isRequired,match:kS().oneOfType([kS().oneOf(["*"]),kS().object,kS().func]).isRequired})).isRequired},dL={ascending:sP,descending:function(e){return sP(e).reverse()},insideOut:function(e){var t,n,r=e.length,i=e.map(uP),o=function(e){var t=e.map(lP);return aP(e).sort((function(e,n){return t[e]-t[n]}))}(e),a=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},none:aP,reverse:function(e){return aP(e).reverse()}},fL=Object.keys(dL),hL=(kS().oneOf(fL),{expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}cP(e,t)}},diverging:dP,none:cP,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}cP(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],d=c[a][1]||0,f=(d-(c[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=d,l+=f*d}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,cP(e,t)}}}),pL=Object.keys(hL),gL=(kS().oneOf(pL),kS().shape({top:kS().number,right:kS().number,bottom:kS().number,left:kS().number}).isRequired,kS().oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])),vL=(KA(ZO),{top:0,right:0,bottom:0,left:0}),mL=function(e,t,n){return void 0===n&&(n={}),(0,y.useMemo)((function(){var r=jR({},vL,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,n.top,n.right,n.bottom,n.left])},yL=function(){var e=(0,y.useRef)(null),t=(0,y.useState)({left:0,top:0,width:0,height:0}),n=t[0],r=t[1],i=(0,y.useState)((function(){return new ResizeObserver((function(e){var t=e[0];return r(t.contentRect)}))}))[0];return(0,y.useEffect)((function(){return e.current&&i.observe(e.current),function(){return i.disconnect()}}),[]),[e,n]},bL=function(e){return(0,y.useMemo)((function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?lD(e.slice("5")):EP(e):function(e){return""+e}}(e)}),[e])},xL=(0,y.createContext)(),wL={},EL=function(e){var t=e.theme,n=void 0===t?wL:t,r=e.children,i=function(e){return(0,y.useMemo)((function(){return JR(XR,e)}),[e])}(n);return(0,pS.jsx)(xL.Provider,{value:i,children:r})};EL.propTypes={children:kS().node.isRequired,theme:kS().object};var kL=function(){return(0,y.useContext)(xL)},_L=function(e){var t=e.children,n=e.condition,r=e.wrapper;return n?(0,y.cloneElement)(r,{},t):t};_L.propTypes={children:kS().node.isRequired,condition:kS().bool.isRequired,wrapper:kS().element.isRequired};var SL={position:"relative"},TL=function(e){var t=e.children,n=e.theme,r=e.renderWrapper,i=void 0===r||r,o=e.isInteractive,a=void 0===o||o,s=e.animate,u=e.motionStiffness,l=e.motionDamping,c=e.motionConfig,d=(0,y.useRef)(null);return(0,pS.jsx)(EL,{theme:n,children:(0,pS.jsx)(QR,{animate:s,stiffness:u,damping:l,config:c,children:(0,pS.jsx)(DA,{container:d,children:(0,pS.jsxs)(_L,{condition:i,wrapper:(0,pS.jsx)("div",{style:SL,ref:d}),children:[t,a&&(0,pS.jsx)(PA,{})]})})})})};TL.propTypes={children:kS().element.isRequired,isInteractive:kS().bool,renderWrapper:kS().bool,theme:kS().object,animate:kS().bool,motionStiffness:kS().number,motionDamping:kS().number,motionConfig:kS().string};kS().func.isRequired,kS().bool,kS().bool,kS().object.isRequired,kS().bool.isRequired,kS().number,kS().number,kS().string;var CL=function(e){var t=e.children,n=yL(),r=n[0],i=n[1],o=i.width>0&&i.height>0;return(0,pS.jsx)("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:i.width,height:i.height})})};CL.propTypes={children:kS().func.isRequired};var ML=["id","colors"],AL=function(e){var t=e.id,n=e.colors,r=BR(e,ML);return(0,pS.jsx)("linearGradient",jR({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map((function(e){var t=e.offset,n=e.color,r=e.opacity;return(0,pS.jsx)("stop",{offset:t+"%",stopColor:n,stopOpacity:void 0!==r?r:1},t)}))}))};AL.propTypes={id:kS().string.isRequired,colors:kS().arrayOf(kS().shape({offset:kS().number.isRequired,color:kS().string.isRequired,opacity:kS().number})).isRequired,gradientTransform:kS().string};var IL={linearGradient:AL},OL=(0,y.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,u=i/2,l=o/2;return!0===a&&(s=2*i+2*o),(0,pS.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,pS.jsx)("rect",{width:s,height:s,fill:n}),(0,pS.jsx)("circle",{cx:l+u,cy:l+u,r:u,fill:r}),a&&(0,pS.jsx)("circle",{cx:1.5*o+i+u,cy:1.5*o+i+u,r:u,fill:r})]})}));OL.displayName="PatternDots",OL.propTypes={id:kS().string.isRequired,color:kS().string.isRequired,background:kS().string.isRequired,size:kS().number.isRequired,padding:kS().number.isRequired,stagger:kS().bool.isRequired},OL.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};Math.PI;var NL=function(e){return e*Math.PI/180},PL=function(e){return 180*e/Math.PI},DL=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},RL={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},LL=(0,y.memo)((function(e){var t=e.id,n=e.spacing,r=e.rotation,i=e.background,o=e.color,a=e.lineWidth,s=Math.round(r)%360,u=Math.abs(n);s>180?s-=360:s>90?s-=180:s<-180?s+=360:s<-90&&(s+=180);var l,c=u,d=u;return 0===s?l="\n                M 0 0 L "+c+" 0\n                M 0 "+d+" L "+c+" "+d+"\n            ":90===s?l="\n                M 0 0 L 0 "+d+"\n                M "+c+" 0 L "+c+" "+d+"\n            ":(c=Math.abs(u/Math.sin(NL(s))),d=u/Math.sin(NL(90-s)),l=s>0?"\n                    M 0 "+-d+" L "+2*c+" "+d+"\n                    M "+-c+" "+-d+" L "+c+" "+d+"\n                    M "+-c+" 0 L "+c+" "+2*d+"\n                ":"\n                    M "+-c+" "+d+" L "+c+" "+-d+"\n                    M "+-c+" "+2*d+" L "+2*c+" "+-d+"\n                    M 0 "+2*d+" L "+2*c+" 0\n                "),(0,pS.jsxs)("pattern",{id:t,width:c,height:d,patternUnits:"userSpaceOnUse",children:[(0,pS.jsx)("rect",{width:c,height:d,fill:i,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),(0,pS.jsx)("path",{d:l,strokeWidth:a,stroke:o,strokeLinecap:"square"})]})}));LL.displayName="PatternLines",LL.propTypes={id:kS().string.isRequired,spacing:kS().number.isRequired,rotation:kS().number.isRequired,background:kS().string.isRequired,color:kS().string.isRequired,lineWidth:kS().number.isRequired},LL.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var jL=(0,y.memo)((function(e){var t=e.id,n=e.background,r=e.color,i=e.size,o=e.padding,a=e.stagger,s=i+o,u=o/2;return!0===a&&(s=2*i+2*o),(0,pS.jsxs)("pattern",{id:t,width:s,height:s,patternUnits:"userSpaceOnUse",children:[(0,pS.jsx)("rect",{width:s,height:s,fill:n}),(0,pS.jsx)("rect",{x:u,y:u,width:i,height:i,fill:r}),a&&(0,pS.jsx)("rect",{x:1.5*o+i,y:1.5*o+i,width:i,height:i,fill:r})]})}));jL.displayName="PatternSquares",jL.propTypes={id:kS().string.isRequired,color:kS().string.isRequired,background:kS().string.isRequired,size:kS().number.isRequired,padding:kS().number.isRequired,stagger:kS().bool.isRequired},jL.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var FL={patternDots:OL,patternLines:LL,patternSquares:jL},BL=["type"],zL=jR({},IL,FL),YL=function(e){var t=e.defs;return!t||t.length<1?null:(0,pS.jsx)("defs",{"aria-hidden":!0,children:t.map((function(e){var t=e.type,n=BR(e,BL);return zL[t]?(0,y.createElement)(zL[t],jR({key:n.id},n)):null}))})};YL.propTypes={defs:kS().arrayOf(kS().shape({type:kS().oneOf(Object.keys(zL)).isRequired,id:kS().string.isRequired}))};var GL=(0,y.memo)(YL),VL=function(e){var t=e.width,n=e.height,r=e.margin,i=e.defs,o=e.children,a=e.role,s=e.ariaLabel,u=e.ariaLabelledBy,l=e.ariaDescribedBy,c=e.isFocusable,d=kL();return(0,pS.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:a,"aria-label":s,"aria-labelledby":u,"aria-describedby":l,focusable:c,tabIndex:c?0:void 0,children:[(0,pS.jsx)(GL,{defs:i}),(0,pS.jsx)("rect",{width:t,height:n,fill:d.background}),(0,pS.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};VL.propTypes={width:kS().number.isRequired,height:kS().number.isRequired,margin:kS().shape({top:kS().number.isRequired,left:kS().number.isRequired}).isRequired,defs:kS().array,children:kS().oneOfType([kS().arrayOf(kS().node),kS().node]).isRequired,role:kS().string,isFocusable:kS().bool,ariaLabel:kS().string,ariaLabelledBy:kS().string,ariaDescribedBy:kS().string};var WL=function(e){var t=e.size,n=e.color,r=e.borderWidth,i=e.borderColor;return(0,pS.jsx)("circle",{r:t/2,fill:n,stroke:i,strokeWidth:r,style:{pointerEvents:"none"}})};WL.propTypes={size:kS().number.isRequired,color:kS().string.isRequired,borderWidth:kS().number.isRequired,borderColor:kS().string.isRequired};var UL=(0,y.memo)(WL),ZL=function(e){var t=e.x,n=e.y,r=e.symbol,i=void 0===r?UL:r,o=e.size,a=e.datum,s=e.color,u=e.borderWidth,l=e.borderColor,c=e.label,d=e.labelTextAnchor,f=void 0===d?"middle":d,h=e.labelYOffset,p=void 0===h?-12:h,g=kL(),v=tL(),m=v.animate,b=WM({transform:"translate("+t+", "+n+")",config:v.config,immediate:!m});return(0,pS.jsxs)(mA.g,{transform:b.transform,style:{pointerEvents:"none"},children:[(0,y.createElement)(i,{size:o,color:s,datum:a,borderWidth:u,borderColor:l}),c&&(0,pS.jsx)("text",{textAnchor:f,y:p,style:g.dots.text,children:c})]})};ZL.propTypes={x:kS().number.isRequired,y:kS().number.isRequired,datum:kS().object.isRequired,size:kS().number.isRequired,color:kS().string.isRequired,borderWidth:kS().number.isRequired,borderColor:kS().string.isRequired,symbol:kS().oneOfType([kS().func,kS().object]),label:kS().oneOfType([kS().string,kS().number]),labelTextAnchor:kS().oneOf(["start","middle","end"]),labelYOffset:kS().number.isRequired};var HL=(0,y.memo)(ZL),qL=function(e){var t=e.width,n=e.height,r=e.axis,i=e.scale,o=e.value,a=e.lineStyle,s=e.textStyle,u=e.legend,l=e.legendPosition,c=e.legendOffsetX,d=e.legendOffsetY,f=e.legendOrientation,h=kL(),p=0,g=0,v=0,m=0;"y"===r?(v=i(o),g=t):(p=i(o),m=n);var y=null;if(u){var b=function(e){var t=e.width,n=e.height,r=e.position,i=e.offsetX,o=e.offsetY,a=e.orientation,s=0,u=0,l="vertical"===a?-90:0,c="start";if("x"===e.axis)switch(r){case"top-left":s=-i,u=o,c="end";break;case"top":u=-o,c="horizontal"===a?"middle":"start";break;case"top-right":s=i,u=o,c="horizontal"===a?"start":"end";break;case"right":s=i,u=n/2,c="horizontal"===a?"start":"middle";break;case"bottom-right":s=i,u=n-o,c="start";break;case"bottom":u=n+o,c="horizontal"===a?"middle":"end";break;case"bottom-left":u=n-o,s=-i,c="horizontal"===a?"end":"start";break;case"left":s=-i,u=n/2,c="horizontal"===a?"end":"middle"}else switch(r){case"top-left":s=i,u=-o,c="start";break;case"top":s=t/2,u=-o,c="horizontal"===a?"middle":"start";break;case"top-right":s=t-i,u=-o,c="horizontal"===a?"end":"start";break;case"right":s=t+i,c="horizontal"===a?"start":"middle";break;case"bottom-right":s=t-i,u=o,c="end";break;case"bottom":s=t/2,u=o,c="horizontal"===a?"middle":"end";break;case"bottom-left":s=i,u=o,c="horizontal"===a?"start":"end";break;case"left":s=-i,c="horizontal"===a?"end":"middle"}return{x:s,y:u,rotation:l,textAnchor:c}}({axis:r,width:t,height:n,position:l,offsetX:c,offsetY:d,orientation:f});y=(0,pS.jsx)("text",{transform:"translate("+b.x+", "+b.y+") rotate("+b.rotation+")",textAnchor:b.textAnchor,dominantBaseline:"central",style:s,children:u})}return(0,pS.jsxs)("g",{transform:"translate("+p+", "+v+")",children:[(0,pS.jsx)("line",{x1:0,x2:g,y1:0,y2:m,stroke:h.markers.lineColor,strokeWidth:h.markers.lineStrokeWidth,style:a}),y]})};qL.propTypes={width:kS().number.isRequired,height:kS().number.isRequired,axis:kS().oneOf(["x","y"]).isRequired,scale:kS().func.isRequired,value:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]).isRequired,lineStyle:kS().object,textStyle:kS().object,legend:kS().string,legendPosition:kS().oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:kS().number.isRequired,legendOffsetY:kS().number.isRequired,legendOrientation:kS().oneOf(["horizontal","vertical"]).isRequired},qL.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var XL=(0,y.memo)(qL),KL=function(e){var t=e.markers,n=e.width,r=e.height,i=e.xScale,o=e.yScale;return t&&0!==t.length?t.map((function(e,t){return(0,pS.jsx)(XL,jR({},e,{width:n,height:r,scale:"y"===e.axis?o:i}),t)})):null};KL.propTypes={width:kS().number.isRequired,height:kS().number.isRequired,xScale:kS().func.isRequired,yScale:kS().func.isRequired,markers:kS().arrayOf(kS().shape({axis:kS().oneOf(["x","y"]).isRequired,value:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]).isRequired,lineStyle:kS().object,textStyle:kS().object}))};var JL=(0,y.memo)(KL),$L=["theme","renderWrapper","animate","motionStiffness","motionDamping","motionConfig"],QL=function(e){return function(t){var n,r;function i(){return t.apply(this,arguments)||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,FR(n,r),i.prototype.render=function(){var t=this.props,n=t.theme,r=t.renderWrapper,i=t.animate,o=t.motionStiffness,a=t.motionDamping,s=t.motionConfig,u=BR(t,$L);return(0,pS.jsx)(TL,{theme:n,renderWrapper:r,isInteractive:u.isInteractive,animate:i,motionStiffness:o,motionDamping:a,motionConfig:s,children:(0,pS.jsx)(e,jR({},u))})},i}(y.Component)},ej=function(e){return kN()(e)?e:function(t){return FA()(t,e)}},tj=function(e){return(0,y.useMemo)((function(){return ej(e)}),[e])},nj=function(e,t,n,r,i,o){return e<=i&&i<=e+n&&t<=o&&o<=t+r},rj=function(e,t){var n=t.clientX,r=t.clientY,i=e.getBoundingClientRect();return[n-i.left,r-i.top]},ij=Object.keys(IL),oj=Object.keys(FL),aj=function(e,t,n,r){var i=void 0===r?{}:r,o=i.dataKey,a=i.colorKey,s=void 0===a?"color":a,u=i.targetKey,l=void 0===u?"fill":u,c=[],d={};return e.length&&t.length&&(c=[].concat(e),t.forEach((function(t){for(var r=function(r){var i=n[r],a=i.id;if(function(e,t,n){if("*"===e)return!0;if(kN()(e))return e(t);if(DR()(e)){var r=n?FA()(t,n):t;return Xs()(LR()(r,Object.keys(e)),e)}return!1}(i.match,t,o)){var u=e.find((function(e){return e.id===a}));if(u)if(oj.includes(u.type))if("inherit"===u.background||"inherit"===u.color){var f=FA()(t,s),h=u.background,p=u.color,g=a;"inherit"===u.background&&(g=g+".bg."+f,h=f),"inherit"===u.color&&(g=g+".fg."+f,p=f),zA()(t,l,"url(#"+g+")"),d[g]||(c.push(jR({},u,{id:g,background:h,color:p})),d[g]=1)}else zA()(t,l,"url(#"+a+")");else if(ij.includes(u.type))if(u.colors.map((function(e){return e.color})).includes("inherit")){var v=FA()(t,s),m=a,y=jR({},u,{colors:u.colors.map((function(e,t){return"inherit"!==e.color?e:(m=m+"."+t+"."+v,jR({},e,{color:"inherit"===e.color?v:e.color}))}))});y.id=m,zA()(t,l,"url(#"+m+")"),d[m]||(c.push(y),d[m]=1)}else zA()(t,l,"url(#"+a+")");return"break"}},i=0;i<n.length&&"break"!==r(i);i++);}))),c};function sj(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function uj(e,t){var n,r,i,o,a,s=new fj(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=lj);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new fj(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(dj)}function lj(e){return e.children}function cj(e){e.data=e.data.data}function dj(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function fj(e){this.data=e,this.depth=this.height=0,this.parent=null}fj.prototype=uj.prototype={constructor:fj,count:function(){return this.eachAfter(sj)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return uj(this).eachBefore(cj)}};var hj=Array.prototype.slice;function pj(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(hj.call(e))).length,o=[];r<i;)t=e[r],n&&mj(n,t)?++r:(n=bj(o=gj(o,t)),r=0);return n}function gj(e,t){var n,r;if(yj(t,e))return[t];for(n=0;n<e.length;++n)if(vj(t,e[n])&&yj(xj(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(vj(xj(e[n],e[r]),t)&&vj(xj(e[n],t),e[r])&&vj(xj(e[r],t),e[n])&&yj(wj(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function vj(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function mj(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function yj(e,t){for(var n=0;n<t.length;++n)if(!mj(e,t[n]))return!1;return!0}function bj(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return xj(e[0],e[1]);case 3:return wj(e[0],e[1],e[2])}}function xj(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,d=Math.sqrt(u*u+l*l);return{x:(n+o+u/d*c)/2,y:(r+a+l/d*c)/2,r:(d+i+s)/2}}function wj(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,d=n.r,f=r-a,h=r-l,p=i-s,g=i-c,v=u-o,m=d-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,x=y-l*l-c*c+d*d,w=h*p-f*g,E=(p*x-g*b)/(2*w)-r,k=(g*v-p*m)/w,_=(h*b-f*x)/(2*w)-i,S=(f*m-h*v)/w,T=k*k+S*S-1,C=2*(o+E*k+_*S),M=E*E+_*_-o*o,A=-(T?(C+Math.sqrt(C*C-4*T*M))/(2*T):M/C);return{x:r+E+k*A,y:i+_+S*A,r:A}}function Ej(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function kj(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _j(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Sj(e){this._=e,this.next=null,this.previous=null}function Tj(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,l,c,d;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Ej(n,t,r=e[2]),t=new Sj(t),n=new Sj(n),r=new Sj(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){Ej(t._,n._,r=e[s]),r=new Sj(r),u=n.next,l=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(kj(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(kj(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}d+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=_j(t);(r=r.next)!==n;)(a=_j(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=pj(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function Cj(e){return null==e?null:function(e){if("function"!==typeof e)throw new Error;return e}(e)}function Mj(){return 0}function Aj(e){return function(){return e}}function Ij(e){return Math.sqrt(e.value)}function Oj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Nj(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Tj(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Pj(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Dj=n(58121),Rj=n.n(Dj),Lj=n(64286),jj=n.n(Lj);function Fj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zj(){}var Yj=.7,Gj=1/Yj,Vj="\\s*([+-]?\\d+)\\s*",Wj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zj=/^#([0-9a-f]{3,8})$/,Hj=new RegExp("^rgb\\("+[Vj,Vj,Vj]+"\\)$"),qj=new RegExp("^rgb\\("+[Uj,Uj,Uj]+"\\)$"),Xj=new RegExp("^rgba\\("+[Vj,Vj,Vj,Wj]+"\\)$"),Kj=new RegExp("^rgba\\("+[Uj,Uj,Uj,Wj]+"\\)$"),Jj=new RegExp("^hsl\\("+[Wj,Uj,Uj]+"\\)$"),$j=new RegExp("^hsla\\("+[Wj,Uj,Uj,Wj]+"\\)$"),Qj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eF(){return this.rgb().formatHex()}function tF(){return this.rgb().formatRgb()}function nF(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rF(t):3===n?new sF(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?iF(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?iF(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Hj.exec(e))?new sF(t[1],t[2],t[3],1):(t=qj.exec(e))?new sF(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Xj.exec(e))?iF(t[1],t[2],t[3],t[4]):(t=Kj.exec(e))?iF(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Jj.exec(e))?dF(t[1],t[2]/100,t[3]/100,1):(t=$j.exec(e))?dF(t[1],t[2]/100,t[3]/100,t[4]):Qj.hasOwnProperty(e)?rF(Qj[e]):"transparent"===e?new sF(NaN,NaN,NaN,0):null}function rF(e){return new sF(e>>16&255,e>>8&255,255&e,1)}function iF(e,t,n,r){return r<=0&&(e=t=n=NaN),new sF(e,t,n,r)}function oF(e){return e instanceof zj||(e=nF(e)),e?new sF((e=e.rgb()).r,e.g,e.b,e.opacity):new sF}function aF(e,t,n,r){return 1===arguments.length?oF(e):new sF(e,t,n,null==r?1:r)}function sF(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function uF(){return"#"+cF(this.r)+cF(this.g)+cF(this.b)}function lF(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function cF(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function dF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hF(e,t,n,r)}function fF(e){if(e instanceof hF)return new hF(e.h,e.s,e.l,e.opacity);if(e instanceof zj||(e=nF(e)),!e)return new hF;if(e instanceof hF)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new hF(a,s,u,e.opacity)}function hF(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function pF(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gF(){return gF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gF.apply(this,arguments)}function vF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fj(zj,nF,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:eF,formatHex:eF,formatHsl:function(){return fF(this).formatHsl()},formatRgb:tF,toString:tF}),Fj(sF,aF,Bj(zj,{brighter:function(e){return e=null==e?Gj:Math.pow(Gj,e),new sF(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Yj:Math.pow(Yj,e),new sF(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uF,formatHex:uF,formatRgb:lF,toString:lF})),Fj(hF,(function(e,t,n,r){return 1===arguments.length?fF(e):new hF(e,t,n,null==r?1:r)}),Bj(zj,{brighter:function(e){return e=null==e?Gj:Math.pow(Gj,e),new hF(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Yj:Math.pow(Yj,e),new hF(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sF(pF(e>=240?e-240:e+120,i,r),pF(e,i,r),pF(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var mF={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:FO,accent:BO,dark2:zO,paired:YO,pastel1:GO,pastel2:VO,set1:WO,set2:UO,set3:ZO},yF=Object.keys(mF),bF={brown_blueGreen:FI,purpleRed_green:zI,pink_yellowGreen:GI,purple_orange:WI,red_blue:ZI,red_grey:qI,red_yellow_blue:KI,red_yellow_green:$I,spectral:eO},xF=Object.keys(bF),wF={brown_blueGreen:BI,purpleRed_green:YI,pink_yellowGreen:VI,purple_orange:UI,red_blue:HI,red_grey:XI,red_yellow_blue:JI,red_yellow_green:QI,spectral:tO},EF={blues:nO,greens:iO,greys:aO,oranges:uO,purples:cO,reds:fO,blue_green:pO,blue_purple:vO,green_blue:yO,orange_red:xO,purple_blue_green:EO,purple_blue:_O,purple_red:TO,red_purple:MO,yellow_green_blue:IO,yellow_green:NO,yellow_orange_brown:DO,yellow_orange_red:LO},kF=Object.keys(EF),_F={blues:rO,greens:oO,greys:sO,oranges:lO,purples:dO,reds:hO,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:qO,inferno:KO,magma:XO,plasma:JO,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:hN,cool:pN,cubehelixDefault:mN,blue_green:gO,blue_purple:mO,green_blue:bO,orange_red:wO,purple_blue_green:kO,purple_blue:SO,purple_red:CO,red_purple:AO,yellow_green_blue:OO,yellow_green:PO,yellow_orange_brown:RO,yellow_orange_red:jO},SF=gF({},mF,bF,EF),TF=Object.keys(SF),CF=gF({},wF,_F,{rainbow:vN,sinebow:wN}),MF=(Object.keys(CF),function(e,t){if("function"==typeof e)return e;if(DR()(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var n=FA()(t,e.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return FA()(t,e.from)};if(Array.isArray(e.modifiers)){for(var i,o=[],a=function(){var e=i.value,t=e[0],n=e[1];if("brighter"===t)o.push((function(e){return e.brighter(n)}));else if("darker"===t)o.push((function(e){return e.darker(n)}));else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");o.push((function(e){return e.opacity=n,e}))}},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vF(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(i=s()).done;)a();return 0===o.length?r:function(e){return o.reduce((function(e,t){return t(e)}),aF(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),AF=function(e,t){return(0,y.useMemo)((function(){return MF(e,t)}),[e,t])},IF=kS().oneOfType([kS().func,kS().arrayOf(kS().string),kS().shape({scheme:kS().oneOf(TF).isRequired,size:kS().number}),kS().shape({datum:kS().string.isRequired}),kS().string]),OF=(kS().oneOfType([kS().string,kS().func,kS().shape({theme:kS().string.isRequired}),kS().shape({from:kS().string.isRequired,modifiers:kS().arrayOf(kS().array)})]),function(e,t){if("function"==typeof e)return e;var n="function"==typeof t?t:function(e){return FA()(e,t)};if(Array.isArray(e)){var r=KA(e),i=function(e){return r(n(e))};return i.scale=r,i}if(DR()(e)){if(function(e){return void 0!==e.datum}(e))return function(t){return FA()(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return yF.includes(e)}(e.scheme)){var o=KA(SF[e.scheme]),a=function(e){return o(n(e))};return a.scale=o,a}if(function(e){return xF.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=KA(SF[e.scheme][e.size||11]),u=function(e){return s(n(e))};return u.scale=s,u}if(function(e){return kF.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var l=KA(SF[e.scheme][e.size||9]),c=function(e){return l(n(e))};return c.scale=l,c}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}}),NF=function(e,t){return(0,y.useMemo)((function(){return OF(e,t)}),[e,t])};function PF(){return PF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PF.apply(this,arguments)}function DF(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var RF,LF=function(e){var t,n=e.data,r=e.id,i=e.value,o=e.valueFormat,a=e.width,s=e.height,u=e.padding,l=e.leavesOnly,c=e.colors,d=e.colorBy,f=e.inheritColorFromParent,h=e.childColor,p=tj(r),g=tj(i),v=bL(o),m=NF(c,d),y=kL(),b=AF(h,y),x=uj(Rj()(n)).sum(g),w=function(){var e=null,t=1,n=1,r=Mj;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Oj(e)).eachAfter(Nj(r,.5)).eachBefore(Pj(1)):i.eachBefore(Oj(Ij)).eachAfter(Nj(Mj,1)).eachAfter(Nj(r,i.r/Math.min(t,n))).eachBefore(Pj(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Cj(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Aj(+e),i):r},i}().size([a,s]).padding(u)(x),E=l?w.leaves():w.descendants(),k=jj()(E,"depth"),_=null!=(t=x.value)?t:0,S=k.reduce((function(e,t){var n,r=p(t.data),i=t.value,a=100*i/_,s=t.ancestors().map((function(e){return p(e.data)}));t.parent&&(n=e.find((function(e){return e.id===p(t.parent.data)})));var u={id:r,path:s,value:i,percentage:a,formattedValue:o?v(i):a.toFixed(2)+"%",x:t.x,y:t.y,radius:t.r,color:"",data:t.data,depth:t.depth,height:t.height};return f&&n&&u.depth>1?u.color=b(n):u.color=m(u),[].concat(e,[u])}),[]);return S},jF=function(e,t,n,r){return(0,y.useMemo)((function(){if(!t)return e;var i=e.find((function(e){return e.id===t}));if(!i)return e;var o=Math.min(n,r)/(2*i.radius),a=n/2-i.x*o,s=r/2-i.y*o;return e.map((function(e){return PF({},e,{x:e.x*o+a,y:e.y*o+s,radius:e.radius*o})}))}),[e,t,n,r])},FF=function(e){var t=e.nodes,n=e.label,r=e.filter,i=e.skipRadius,o=e.textColor,a=tj(n),s=kL(),u=AF(o,s),l=(0,y.useMemo)((function(){return t.filter((function(e){return e.radius>=i})).map((function(e){return{label:a(e),textColor:u(e),node:e}}))}),[t,i,a,u]);return(0,y.useMemo)((function(){return r?l.filter(r):l}),[l,r])},BF=function(e){var t=e.nodes,n=e.canvasEl,r=e.margin,i=(0,y.useMemo)((function(){return jj()(t,"height")}),[t]);return(0,y.useCallback)((function(e){if(!n.current)return null;var t=rj(n.current,e),o=t[0],a=t[1];return i.find((function(e){return function(e,t,n,r){var i=n-e,o=r-t;return i*=i,o*=o,Math.sqrt(i+o)}(e.x,e.y,o-r.left,a-r.top)<=e.radius}))}),[n,r,i])},zF={id:"id",value:"value",padding:0,leavesOnly:!1,layers:["circles","labels"],colors:{scheme:"nivo"},colorBy:"depth",inheritColorFromParent:!1,childColor:{from:"color",modifiers:[["darker",.3]]},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.3]]},defs:[],fill:[],enableLabels:!1,label:"id",labelTextColor:{from:"color",modifiers:[["darker",1.6]]},labelsSkipRadius:8,isInteractive:!0,tooltip:function(e){var t=e.id,n=e.formattedValue,r=e.color;return(0,pS.jsx)(kA,{id:t,value:n,enableChip:!0,color:r})},animate:!0,motionConfig:"gentle",role:"img",pixelRatio:"undefined"!=typeof window&&null!=(RF=window.devicePixelRatio)?RF:1},YF=["isInteractive","theme"],GF=function(e){var t=e.data,n=e.id,r=void 0===n?zF.id:n,i=e.value,o=void 0===i?zF.value:i,a=e.valueFormat,s=e.width,u=e.height,l=e.margin,c=e.padding,d=void 0===c?zF.padding:c,f=e.leavesOnly,h=void 0===f?zF.leavesOnly:f,p=e.colors,g=void 0===p?zF.colors:p,v=e.colorBy,m=void 0===v?zF.colorBy:v,b=e.inheritColorFromParent,x=void 0===b?zF.inheritColorFromParent:b,w=e.childColor,E=void 0===w?zF.childColor:w,k=e.borderWidth,_=void 0===k?zF.borderWidth:k,S=e.borderColor,T=void 0===S?zF.borderColor:S,C=e.enableLabels,M=void 0===C?zF.enableLabels:C,A=e.label,I=void 0===A?zF.label:A,O=e.labelsFilter,N=e.labelsSkipRadius,P=void 0===N?zF.labelsSkipRadius:N,D=e.labelTextColor,R=void 0===D?zF.labelTextColor:D,L=e.isInteractive,j=e.onMouseMove,F=e.onClick,B=e.tooltip,z=void 0===B?zF.tooltip:B,Y=e.zoomedId,G=e.role,V=void 0===G?zF.role:G,W=e.pixelRatio,U=void 0===W?zF.pixelRatio:W,Z=(0,y.useRef)(null),H=kL(),q=mL(s,u,l),X=q.margin,K=q.innerWidth,J=q.innerHeight,$=q.outerWidth,Q=q.outerHeight,ee=LF({data:t,id:r,value:o,valueFormat:a,width:K,height:J,padding:d,leavesOnly:h,colors:g,colorBy:m,inheritColorFromParent:x,childColor:E}),te=jF(ee,Y,K,J),ne=FF({nodes:te,label:I,filter:O,skipRadius:P,textColor:R}),re=AF(T,H);(0,y.useEffect)((function(){if(Z.current){Z.current.width=$*U,Z.current.height=Q*U;var e=Z.current.getContext("2d");e.scale(U,U),e.fillStyle=H.background,e.fillRect(0,0,$,Q),e.save(),e.translate(X.left,X.top),te.forEach((function(t){_>0&&(e.strokeStyle=re(t),e.lineWidth=_),e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI),e.fillStyle=t.color,e.fill(),_>0&&e.stroke()})),M&&(e.textAlign="center",e.textBaseline="middle",e.font=H.labels.text.fontSize+"px "+H.labels.text.fontFamily,ne.forEach((function(t){e.fillStyle=t.textColor,e.fillText(""+t.label,t.node.x,t.node.y)})))}}),[Z,K,J,$,Q,X.top,X.left,H,U,te,M,ne,_,re]);var ie=BF({nodes:te,canvasEl:Z,margin:X}),oe=NA(),ae=oe.showTooltipFromEvent,se=oe.hideTooltip,ue=(0,y.useCallback)((function(e){var t=ie(e);t?(null==j||j(t,e),ae((0,y.createElement)(z,t),e)):se()}),[ie,ae,z,se]),le=(0,y.useCallback)((function(){se()}),[se]),ce=(0,y.useCallback)((function(e){if(F){var t=ie(e);t&&F(t,e)}}),[ie,F]);return(0,pS.jsx)("canvas",{ref:Z,width:$*U,height:Q*U,style:{width:$,height:Q,cursor:L?"auto":"normal"},role:V,onMouseEnter:L?ue:void 0,onMouseMove:L?ue:void 0,onMouseLeave:L?le:void 0,onClick:L?ce:void 0})},VF=function(e){var t=e.isInteractive,n=void 0===t?zF.isInteractive:t,r=e.theme,i=DF(e,YF);return(0,pS.jsx)(TL,{isInteractive:n,theme:r,children:(0,pS.jsx)(GF,PF({isInteractive:n},i))})},WF=function(e){return(0,pS.jsx)(CL,{children:function(t){var n=t.width,r=t.height;return(0,pS.jsx)(VF,PF({width:n,height:r},e))}})},UF=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.closable,o=t.closeIcon,a=t.style,s=t.onClick,u=t.children,l=t.holder,c="".concat(n,"-notice"),d=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),f=y.createElement("div",It({className:In()(c,r,(0,xe.Z)({},"".concat(c,"-closable"),i)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:s},d),y.createElement("div",{className:"".concat(c,"-content")},u),i?y.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(c,"-close")},o||y.createElement("span",{className:"".concat(c,"-close-x")})):null);return l?b.createPortal(f,l):f}}]),n}(y.Component);function ZF(e){var t=y.useRef({}),n=y.useState([]),r=(0,m.Z)(n,2),i=r[0],o=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var i=n.key;if(e&&(!t.current[i]||r)){var a=y.createElement(UF,It({},n,{holder:e}));t.current[i]=a,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,Mn.Z)(e),[a]);var r=(0,Mn.Z)(e);return r[t]=a,r}))}r=!1}))},y.createElement(y.Fragment,null,i)]}UF.defaultProps={onClose:function(){},duration:1.5};var HF=0,qF=Date.now();function XF(){var e=HF;return HF+=1,"rcNotification_".concat(qF,"_").concat(e)}var KF=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||XF(),i=Ee(Ee({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=XF(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,Nn.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,i=n.className,o=n.closeIcon,a=n.style,s=[];return t.forEach((function(n,i){var a=n.notice,u=n.holderCallback,l=i===t.length-1?a.updateMark:void 0,c=a.key,d=a.userPassKey,f=Ee(Ee(Ee({prefixCls:r,closeIcon:o},a),a.props),{},{key:c,noticeKey:d||c,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(c),e.noticePropsMap[c]={props:f,holderCallback:u}})),y.createElement("div",{className:In()(r,i),style:a},y.createElement(Va,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,i=t.className,o=t.style,a=t.visible,s=e.noticePropsMap[n],u=s.props,l=s.holderCallback;return l?y.createElement("div",{key:n,className:In()(i,"".concat(r,"-hook-holder")),style:Ee({},o),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),l(t,u)):e.hookRefs.delete(n))}}):y.createElement(UF,It({},u,{className:In()(i,null===u||void 0===u?void 0:u.className),style:Ee(Ee({},o),null===u||void 0===u?void 0:u.style),visible:a}))})))}}]),n}(y.Component);KF.newInstance=void 0,KF.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},KF.newInstance=function(e,t){var n=e||{},r=n.getContainer,i=dr(n,["getContainer"]),o=document.createElement("div");r?r().appendChild(o):document.body.appendChild(o);var a=!1;b.render(y.createElement(KF,It({},i,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){b.unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return ZF(e)}}))}})),o)};var JF=KF,$F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},QF=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:$F}))};QF.displayName="InfoCircleFilled";var eB=y.forwardRef(QF);var tB=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function nB(e,t){return e===t||!(!tB(e)||!tB(t))}function rB(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!nB(e[n],t[n]))return!1;return!0}var iB=It({},Bn.Modal);function oB(e){iB=e?It(It({},iB),e):It({},Bn.Modal)}var aB="internalMark",sB=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=rB);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((function(e){return It(It({},e),{exist:!0})})),oB(e.locale&&e.locale.Modal),zi(e._ANT_MARK__===aB,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){oB(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&oB(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){oB()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return y.createElement(Yn.Provider,{value:r},n)}}]),n}(y.Component);sB.defaultProps={locale:{}};var uB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},lB=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:uB}))};lB.displayName="CheckCircleOutlined";var cB=y.forwardRef(lB),dB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},fB=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:dB}))};fB.displayName="CloseCircleOutlined";var hB=y.forwardRef(fB),pB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},gB=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:pB}))};gB.displayName="ExclamationCircleOutlined";var vB,mB,yB,bB={},xB=4.5,wB=24,EB=24,kB="",_B="topRight",SB=!1;function TB(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wB,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EB;switch(e){case"top":t={left:0,right:0,top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:0,right:0,top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function CB(e,t){var n=e.placement,r=void 0===n?_B:n,i=e.top,o=e.bottom,a=e.getContainer,s=void 0===a?vB:a,u=e.prefixCls,l=zB(),c=l.getPrefixCls,d=l.getIconPrefixCls,f=c("notification",u||kB),h=d(),p="".concat(f,"-").concat(r),g=bB[p];if(g)Promise.resolve(g).then((function(e){t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:h,instance:e})}));else{var v=In()("".concat(f,"-").concat(r),(0,xe.Z)({},"".concat(f,"-rtl"),!0===SB));bB[p]=new Promise((function(e){JF.newInstance({prefixCls:f,className:v,style:TB(r,i,o),getContainer:s,maxCount:yB},(function(n){e(n),t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var MB={success:cB,info:hS,error:hB,warning:y.forwardRef(gB)};function AB(e,t,n){var r=e.duration,i=e.icon,o=e.type,a=e.description,s=e.message,u=e.btn,l=e.onClose,c=e.onClick,d=e.key,f=e.style,h=e.className,p=e.closeIcon,g=void 0===p?mB:p,v=void 0===r?xB:r,m=null;i?m=y.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(m=y.createElement(MB[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var b=y.createElement("span",{className:"".concat(t,"-close-x")},g||y.createElement(Ip,{className:"".concat(t,"-close-icon")})),x=!a&&m?y.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:y.createElement(HB,{iconPrefixCls:n},y.createElement("div",{className:m?"".concat(t,"-with-icon"):"",role:"alert"},m,y.createElement("div",{className:"".concat(t,"-message")},x,s),y.createElement("div",{className:"".concat(t,"-description")},a),u?y.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:v,closable:!0,closeIcon:b,onClose:l,onClick:c,key:d,style:f||{},className:In()(h,(0,xe.Z)({},"".concat(t,"-").concat(o),!!o))}}var IB={open:function(e){CB(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(AB(e,n,r))}))},close:function(e){Object.keys(bB).forEach((function(t){return Promise.resolve(bB[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(kB=s),void 0!==t&&(xB=t),void 0!==n?_B=n:e.rtl&&(_B="topLeft"),void 0!==r&&(EB=r),void 0!==i&&(wB=i),void 0!==o&&(vB=o),void 0!==a&&(mB=a),void 0!==e.rtl&&(SB=e.rtl),void 0!==e.maxCount&&(yB=e.maxCount)},destroy:function(){Object.keys(bB).forEach((function(e){Promise.resolve(bB[e]).then((function(e){e.destroy()})),delete bB[e]}))}};["success","info","warning","error"].forEach((function(e){IB[e]=function(t){return IB.open(It(It({},t),{type:e}))}})),IB.warn=IB.warning,IB.useNotification=function(e,t){return function(){var n,r=null,i=ZF({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),o=(0,m.Z)(i,2),a=o[0],s=o[1];var u=y.useRef({});return u.current.open=function(i){var o=i.prefixCls,s=n("notification",o);e(It(It({},i),{prefixCls:s}),(function(e){var n=e.prefixCls,o=e.instance;r=o,a(t(i,n))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(It(It({},t),{type:e}))}})),[u.current,y.createElement(Qn,{key:"holder"},(function(e){return n=e.getPrefixCls,s}))]}}(CB,AB);var OB=IB,NB=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Cr(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=vr(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=wr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=wr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=br(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=br(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Er(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[yr(Math.round(e).toString(16)),yr(Math.round(t).toString(16)),yr(Math.round(n).toString(16)),yr(kr(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*pr(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*pr(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Er(this.r,this.g,this.b,!1),t=0,n=Object.entries(Tr);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=gr(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=gr(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=gr(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=gr(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var PB="-ant-".concat(Date.now(),"-").concat(Math.random());function DB(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new NB(e),o=zr(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[1],n["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new NB(t.primaryColor),a=zr(o.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new NB(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var u=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  ").trim()}(e,t);Kr()?ri(n,"".concat(PB,"-dynamic-theme")):zi(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var RB,LB,jB=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function FB(){return RB||"ant"}function BB(){return LB||"anticon"}var zB=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(FB(),"-").concat(e):FB())},getIconPrefixCls:BB,getRootPrefixCls:function(e,t){return e||(RB||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):FB()))}}},YB=function(e){var t,n,r=e.children,i=e.csp,o=e.autoInsertSpaceInButton,a=e.form,s=e.locale,u=e.componentSize,l=e.direction,c=e.space,d=e.virtual,f=e.dropdownMatchSelectWidth,h=e.legacyLocale,p=e.parentContext,g=e.iconPrefixCls,v=y.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||p.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[p.getPrefixCls,e.prefixCls]),m=It(It({},p),{csp:i,autoInsertSpaceInButton:o,locale:s||h,direction:l,space:c,virtual:d,dropdownMatchSelectWidth:f,getPrefixCls:v});jB.forEach((function(t){var n=e[t];n&&(m[t]=n)}));var b=Li((function(){return m}),m,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),x=y.useMemo((function(){return{prefixCls:g,csp:i}}),[g,i]),w=r,E={};return s&&(E=(null===(t=s.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=Bn.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),a&&a.validateMessages&&(E=It(It({},E),a.validateMessages)),Object.keys(E).length>0&&(w=y.createElement(Ic,{validateMessages:E},r)),s&&(w=y.createElement(sB,{locale:s,_ANT_MARK__:aB},w)),(g||i)&&(w=y.createElement(fr.Provider,{value:x},w)),u&&(w=y.createElement(ll,{size:u},w)),y.createElement($n.Provider,{value:b},w)},GB=function(e){return y.useEffect((function(){e.direction&&(az.config({rtl:"rtl"===e.direction}),OB.config({rtl:"rtl"===e.direction}))}),[e.direction]),y.createElement(Gn,null,(function(t,n,r){return y.createElement(Qn,null,(function(t){return y.createElement(YB,It({parentContext:t,legacyLocale:r},e))}))}))};GB.ConfigContext=$n,GB.SizeContext=cl,GB.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(RB=t),void 0!==n&&(LB=n),r&&DB(FB(),r)};var VB,WB,UB,ZB,HB=GB,qB=3,XB=1,KB="",JB="move-up",$B=!1,QB=!1;function ez(){return XB++}function tz(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=zB(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,u=o("message",n||KB),l=a(e.rootPrefixCls,u),c=s();if(VB)t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:VB});else{var d={prefixCls:u,transitionName:$B?JB:"".concat(l,"-").concat(JB),style:{top:WB},getContainer:UB||r,maxCount:ZB};JF.newInstance(d,(function(e){VB?t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:VB}):(VB=e,t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:e}))}))}}var nz={info:eB,success:Vc,error:Xc,warning:Zc,loading:$c};function rz(e,t,n){var r,i=void 0!==e.duration?e.duration:qB,o=nz[e.type],a=In()("".concat(t,"-custom-content"),(r={},(0,xe.Z)(r,"".concat(t,"-").concat(e.type),e.type),(0,xe.Z)(r,"".concat(t,"-rtl"),!0===QB),r));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:y.createElement(HB,{iconPrefixCls:n},y.createElement("div",{className:a},e.icon||o&&y.createElement(o,null),y.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var iz={open:function(e){var t=e.key||ez(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};tz(e,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(rz(It(It({},e),{key:t,onClose:r}),i,o))}))})),r=function(){VB&&VB.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(WB=e.top,VB=null),void 0!==e.duration&&(qB=e.duration),void 0!==e.prefixCls&&(KB=e.prefixCls),void 0!==e.getContainer&&(UB=e.getContainer,VB=null),void 0!==e.transitionName&&(JB=e.transitionName,VB=null,$B=!0),void 0!==e.maxCount&&(ZB=e.maxCount,VB=null),void 0!==e.rtl&&(QB=e.rtl)},destroy:function(e){if(VB)if(e){(0,VB.removeNotice)(e)}else{var t=VB.destroy;t(),VB=null}}};function oz(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(It(It({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}["success","info","warning","error","loading"].forEach((function(e){return oz(iz,e)})),iz.warn=iz.warning,iz.useMessage=function(e,t){return function(){var n,r,i=null,o=ZF({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),a=(0,m.Z)(o,2),s=a[0],u=a[1];var l=y.useRef({});return l.current.open=function(o){var a=o.prefixCls,u=n("message",a),l=n(),c=o.key||ez(),d=new Promise((function(n){var a=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};e(It(It({},o),{prefixCls:u,rootPrefixCls:l,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;i=r,s(t(It(It({},o),{key:c,onClose:a}),n))}))})),f=function(){i&&i.removeNotice(c)};return f.then=function(e,t){return d.then(e,t)},f.promise=d,f},["success","info","warning","error","loading"].forEach((function(e){return oz(l.current,e)})),[l.current,y.createElement(Qn,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,u}))]}}(tz,rz);var az=iz,sz={textColor:"#ffffff",fontSize:20};var uz=function(e){var t=function(e){var t=DE(),n={name:"",children:[]},r={};t.forEach((function(t){var n=t[e];if(Array.isArray(n)){var i,o=(0,PE.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]||(r[a]=[]),r[a].push({name:t.Title,value:1,url:t.url})}}catch(s){o.e(s)}finally{o.f()}}})),n.children=[];for(var i=0,o=Object.entries(r);i<o.length;i++){var a=(0,m.Z)(o[i],2),s=a[0],u=a[1];n.children.push({name:s,children:u})}return n}(e.type);return t.children.length<1?(0,pS.jsx)(Ene,{}):(0,pS.jsx)("div",{style:{height:"900px",width:"100%",marginTop:"20px"},children:(0,pS.jsx)(WF,{data:t,margin:{top:20,right:20,bottom:20,left:20},id:"name",colors:["#f0f2f5","#1890ff","#d8e6f3"],labelsSkipRadius:40,labelsFilter:function(e){return e.label.toString().length/e.node.radius<.35&&!("root"===e.label)},padding:5,leavesOnly:!1,enableLabels:!0,label:"id",tooltip:function(e){var t=e.id;return t.length>1?(0,pS.jsx)("div",{style:{padding:5,background:"#ffffff"},children:(0,pS.jsx)("strong",{children:t})}):(0,pS.jsx)(pS.Fragment,{})},animate:!1,onClick:function(e){"url"in e.data&&az.info({content:(0,pS.jsx)("a",{href:e.data.url,target:"_blank",rel:"noreferrer",children:e.data.url})})},theme:sz})})},lz=n(72064),cz=n.n(lz),dz=n(66339),fz=n.n(dz),hz=n(36609),pz=n.n(hz),gz=Math.sqrt(50),vz=Math.sqrt(10),mz=Math.sqrt(2);function yz(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=bz(e,t,n))||!isFinite(a))return[];if(a>0){var u=Math.round(e/a),l=Math.round(t/a);for(u*a<e&&++u,l*a>t&&--l,o=new Array(i=l-u+1);++s<i;)o[s]=(u+s)*a}else{a=-a;var c=Math.round(e*a),d=Math.round(t*a);for(c/a<e&&++c,d/a>t&&--d,o=new Array(i=d-c+1);++s<i;)o[s]=(c+s)/a}return r&&o.reverse(),o}function bz(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=gz?10:o>=vz?5:o>=mz?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=gz?10:o>=vz?5:o>=mz?2:1)}function xz(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=gz?i*=10:o>=vz?i*=5:o>=mz&&(i*=2),t<e?-i:i}function wz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ez(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return wz(e(t),n)}}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);var a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}var kz=Ez(wz),_z=kz.right,Sz=(kz.left,Ez((function(e){return null===e?NaN:+e})).center,_z);function Tz(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Cz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mz(e,t){return(Cz(t)?Tz:Az)(e,t)}function Az(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Lz(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Iz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oz(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nz(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Lz(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Pz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dz=new RegExp(Pz.source,"g");function Rz(e,t){var n,r,i,o=Pz.lastIndex=Dz.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Pz.exec(e))&&(r=Dz.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Oz(n,r)})),o=Dz.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Lz(e,t){var n,r=typeof t;return null==t||"boolean"===r?II(t):("number"===r?Oz:"string"===r?(n=vI(t))?(t=n,DI):Rz:t instanceof vI?DI:t instanceof Date?Iz:Cz(t)?Tz:Array.isArray(t)?Az:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Nz:Oz)(e,t)}function jz(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Fz(e){return+e}var Bz=[0,1];function zz(e){return e}function Yz(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Gz(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Yz(i,r),o=n(a,o)):(r=Yz(r,i),o=n(o,a)),function(e){return o(r(e))}}function Vz(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Yz(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Sz(e,t,1,r)-1;return o[n](i[n](t))}}function Wz(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uz(){var e,t,n,r,i,o,a=Bz,s=Bz,u=Lz,l=zz;function c(){var e=Math.min(a.length,s.length);return l!==zz&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Vz:Gz,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return d.invert=function(n){return l(t((o||(o=r(s,a.map(e),Oz)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Fz),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),u=jz,c()},d.clamp=function(e){return arguments.length?(l=!!e||zz,c()):l!==zz},d.interpolate=function(e){return arguments.length?(u=e,c()):u},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function Zz(){return Uz()(zz,zz)}function Hz(e,t,n,r){var i,o=xz(e,t,n);switch((r=vP(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hP(t)/3)))-hP(Math.abs(e)))}(o,a))||(r.precision=i),kP(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hP(t)-hP(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-hP(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return EP(r)}function qz(e){var t=e.domain;return e.ticks=function(e){var n=t();return yz(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Hz(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=bz(u,l,n))===r)return o[a]=u,o[s]=l,t(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function Xz(){var e=Zz();return e.copy=function(){return Wz(e,Xz())},qA.apply(e,arguments),qz(e)}function Kz(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Jz(){var e,t,n=KA().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,l=0,c=.5;function d(){var n=r().length,d=a<o,f=d?a:o,h=d?o:a;e=(h-f)/Math.max(1,n-u+2*l),s&&(e=Math.floor(e)),f+=(h-f-e*(n-u))*c,t=e*(1-u),s&&(f=Math.round(f),t=Math.round(t));var p=Kz(n).map((function(t){return f+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){var t,n;return arguments.length?(t=e,n=(0,m.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){var t,n;return t=e,n=(0,m.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(u=Math.min(1,l=+e),d()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),d()):u},n.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return Jz(r(),[o,a]).round(s).paddingInner(u).paddingOuter(l).align(c)},qA.apply(d(),arguments)}function $z(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $z(t())},e}var Qz=1e3,eY=6e4,tY=36e5,nY=864e5,rY=6048e5,iY=2592e6,oY=31536e6,aY=new Date,sY=new Date;function uY(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return uY((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return aY.setTime(+t),sY.setTime(+r),e(aY),e(sY),Math.floor(n(aY,sY))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var lY=uY((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));lY.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?uY((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):lY:null};var cY=lY,dY=(lY.range,uY((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Qz)}),(function(e,t){return(t-e)/Qz}),(function(e){return e.getUTCSeconds()}))),fY=dY,hY=(dY.range,uY((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qz)}),(function(e,t){e.setTime(+e+t*eY)}),(function(e,t){return(t-e)/eY}),(function(e){return e.getMinutes()}))),pY=hY,gY=(hY.range,uY((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qz-e.getMinutes()*eY)}),(function(e,t){e.setTime(+e+t*tY)}),(function(e,t){return(t-e)/tY}),(function(e){return e.getHours()}))),vY=gY,mY=(gY.range,uY((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eY)/nY}),(function(e){return e.getDate()-1}))),yY=mY;mY.range;function bY(e){return uY((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eY)/rY}))}var xY=bY(0),wY=bY(1),EY=bY(2),kY=bY(3),_Y=bY(4),SY=bY(5),TY=bY(6),CY=(xY.range,wY.range,EY.range,kY.range,_Y.range,SY.range,TY.range,uY((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),MY=CY,AY=(CY.range,uY((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));AY.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uY((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var IY=AY,OY=(AY.range,uY((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*eY)}),(function(e,t){return(t-e)/eY}),(function(e){return e.getUTCMinutes()}))),NY=OY,PY=(OY.range,uY((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*tY)}),(function(e,t){return(t-e)/tY}),(function(e){return e.getUTCHours()}))),DY=PY,RY=(PY.range,uY((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/nY}),(function(e){return e.getUTCDate()-1}))),LY=RY;RY.range;function jY(e){return uY((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/rY}))}var FY=jY(0),BY=jY(1),zY=jY(2),YY=jY(3),GY=jY(4),VY=jY(5),WY=jY(6),UY=(FY.range,BY.range,zY.range,YY.range,GY.range,VY.range,WY.range,uY((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),ZY=UY,HY=(UY.range,uY((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));HY.every=function(e){return isFinite(e=Math.floor(e))&&e>0?uY((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var qY=HY;HY.range;function XY(e,t,n,r,i,o){var a=[[fY,1,Qz],[fY,5,5e3],[fY,15,15e3],[fY,30,3e4],[o,1,eY],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,tY],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,nY],[r,2,1728e5],[n,1,rY],[t,1,iY],[t,3,7776e6],[e,1,oY]];function s(t,n,r){var i=Math.abs(n-t)/r,o=Ez((function(e){return(0,m.Z)(e,3)[2]})).right(a,i);if(o===a.length)return e.every(xz(t/oY,n/oY,r));if(0===o)return cY.every(Math.max(xz(t,n,r),1));var s=(0,m.Z)(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),u=s[0],l=s[1];return u.every(l)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var o=n&&"function"===typeof n.range?n:s(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},s]}var KY=XY(qY,ZY,FY,LY,DY,NY),JY=(0,m.Z)(KY,2),$Y=JY[0],QY=JY[1],eG=XY(IY,MY,xY,yY,vY,pY),tG=(0,m.Z)(eG,2),nG=tG[0],rG=tG[1];function iG(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function oG(e){return new Date(e)}function aG(e){return e instanceof Date?+e:+new Date(+e)}function sG(e,t,n,r,i,o,a,s,u,l){var c=Zz(),d=c.invert,f=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),v=l("%I %p"),m=l("%a %d"),y=l("%b %d"),b=l("%B"),x=l("%Y");function w(e){return(u(e)<e?h:s(e)<e?p:a(e)<e?g:o(e)<e?v:r(e)<e?i(e)<e?m:y:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?f(Array.from(e,aG)):f().map(oG)},c.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:l(t)},c.nice=function(e){var n=f();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(iG(n,e)):c},c.copy=function(){return Wz(c,sG(e,t,n,r,i,o,a,s,u,l))},c}function uG(e){return Math.log(e)}function lG(e){return Math.exp(e)}function cG(e){return-Math.log(-e)}function dG(e){return-Math.exp(-e)}function fG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hG(e){return function(t){return-e(-t)}}function pG(e){var t,n,r=e(uG,lG),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?fG:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=hG(t),n=hG(n),e(cG,dG)):e(uG,lG),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var l,c,d,f=t(s),h=t(u),p=null==e?10:+e,g=[];if(!(o%1)&&h-f<p){if(f=Math.floor(f),h=Math.ceil(h),s>0){for(;f<=h;++f)for(c=1,l=n(f);c<o;++c)if(!((d=l*c)<s)){if(d>u)break;g.push(d)}}else for(;f<=h;++f)for(c=o-1,l=n(f);c>=1;--c)if(!((d=l*c)<s)){if(d>u)break;g.push(d)}2*g.length<p&&(g=yz(s,u,p))}else g=yz(f,h,Math.min(h-f,p)).map(n);return r?g.reverse():g},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=EP(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(iG(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function gG(){var e=pG(Uz()).domain([1,10]);return e.copy=function(){return Wz(e,gG()).base(e.base())},qA.apply(e,arguments),e}function vG(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mG(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yG(e){var t=1,n=e(vG(t),mG(t));return n.constant=function(n){return arguments.length?e(vG(t=+n),mG(t)):t},qz(n)}function bG(){var e=yG(Uz());return e.copy=function(){return Wz(e,bG()).constant(e.constant())},qA.apply(e,arguments)}var xG=AP((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));xG.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?AP((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):xG:null};var wG=xG,EG=(xG.range,AP((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*IP)}),(function(e,t){return(t-e)/IP}),(function(e){return e.getUTCSeconds()}))),kG=EG,_G=(EG.range,AP((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*IP)}),(function(e,t){e.setTime(+e+t*OP)}),(function(e,t){return(t-e)/OP}),(function(e){return e.getMinutes()}))),SG=_G,TG=(_G.range,AP((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*OP)}),(function(e,t){return(t-e)/OP}),(function(e){return e.getUTCMinutes()}))),CG=TG,MG=(TG.range,AP((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*IP-e.getMinutes()*OP)}),(function(e,t){e.setTime(+e+t*NP)}),(function(e,t){return(t-e)/NP}),(function(e){return e.getHours()}))),AG=MG,IG=(MG.range,AP((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*NP)}),(function(e,t){return(t-e)/NP}),(function(e){return e.getUTCHours()}))),OG=IG,NG=(IG.range,AP((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),PG=NG,DG=(NG.range,AP((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),RG=DG;DG.range;function LG(){return LG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LG.apply(this,arguments)}var jG=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],FG={millisecond:[],second:jG.slice(0,1),minute:jG.slice(0,2),hour:jG.slice(0,3),day:jG.slice(0,4),month:jG.slice(0,5),year:jG.slice(0,6)},BG=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,i=void 0===r?"millisecond":r,o=e.useUTC,a=void 0===o||o,s=function(e){return function(t){return FG[e].forEach((function(e){e(t)})),t}}(i);return function(e){if(void 0===e)return e;if("native"===n||e instanceof Date)return s(e);var t=a?fD(n):cD(n);return s(t(e))}},zG=function(e,t,n,r){var i,o,a,s,u=e.min,l=void 0===u?0:u,c=e.max,d=void 0===c?"auto":c,f=e.stacked,h=void 0!==f&&f,p=e.reverse,g=void 0!==p&&p,v=e.clamp,m=void 0!==v&&v,y=e.nice,b=void 0!==y&&y;i="auto"===l?!0===h?null!=(o=t.minStacked)?o:0:t.min:l,a="auto"===d?!0===h?null!=(s=t.maxStacked)?s:0:t.max:d;var x=Xz().rangeRound("x"===r?[0,n]:[n,0]).domain(g?[a,i]:[i,a]).clamp(m);return!0===b?x.nice():"number"==typeof b&&x.nice(b),YG(x,h)},YG=function(e,t){void 0===t&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},GG=function(e,t,n){var r=function(){return $z(Jz.apply(null,arguments).paddingInner(1))}().range([0,n]).domain(t.all);return r.type="point",r},VG=function(e){var t=e;return t.type="band",t},WG=function(e,t,n){var r,i,o=e.format,a=void 0===o?"native":o,s=e.precision,u=void 0===s?"millisecond":s,l=e.min,c=void 0===l?"auto":l,d=e.max,f=void 0===d?"auto":d,h=e.useUTC,p=void 0===h||h,g=e.nice,v=void 0!==g&&g,m=BG({format:a,precision:u,useUTC:p});r="auto"===c?m(t.min):"native"!==a?m(c):c,i="auto"===f?m(t.max):"native"!==a?m(f):f;var y=p?function(){return qA.apply(sG($Y,QY,qY,ZY,FY,LY,DY,NY,fY,dD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return qA.apply(sG(nG,rG,IY,MY,xY,yY,vY,pY,fY,lD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();y.range([0,n]),r&&i&&y.domain([r,i]),!0===v?y.nice():"object"!=typeof v&&"number"!=typeof v||y.nice(v);var b=y;return b.type="time",b.useUTC=p,b},UG=function(e,t,n,r){var i,o=e.base,a=void 0===o?10:o,s=e.min,u=void 0===s?"auto":s,l=e.max,c=void 0===l?"auto":l;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var d,f,h=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){h||(void 0===i?i=Math.sign(e):Math.sign(e)!==i&&(h=!0))})),h)throw new Error("a log scale domain must be strictly-positive or strictly-negative");d="auto"===u?t.min:u,f="auto"===c?t.max:c;var p=gG().domain([d,f]).rangeRound("x"===r?[0,n]:[n,0]).base(a).nice();return p.type="log",p},ZG=function(e,t,n,r){var i,o,a=e.constant,s=void 0===a?1:a,u=e.min,l=void 0===u?"auto":u,c=e.max,d=void 0===c?"auto":c,f=e.reverse,h=void 0!==f&&f;i="auto"===l?t.min:l,o="auto"===d?t.max:d;var p=bG().constant(s).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===h?p.domain([o,i]):p.domain([i,o]);var g=p;return g.type="symlog",g},HG=function(e,t){return e===t},qG=function(e,t){return e.getTime()===t.getTime()};function XG(e,t,n,r){switch(e.type){case"linear":return zG(e,t,n,r);case"point":return GG(0,t,n);case"band":return function(e,t,n,r){var i=e.round,o=void 0===i||i,a=Jz().range("x"===r?[0,n]:[n,0]).domain(t.all).round(o);return VG(a)}(e,t,n,r);case"time":return WG(e,t,n);case"log":return UG(e,t,n,r);case"symlog":return ZG(e,t,n,r);default:throw new Error("invalid scale spec")}}var KG=function(e,t,n){var r;if("stacked"in n&&n.stacked){var i=e.data["x"===t?"xStacked":"yStacked"];return null==i?null:n(i)}return null!=(r=n(e.data[t]))?r:null},JG=function(e,t,n){return{x:$G(e,"x",t),y:$G(e,"y",n)}},$G=function(e,t,n,r){var i=void 0===r?{}:r,o=i.getValue,a=void 0===o?function(e){return e.data[t]}:o,s=i.setValue,u=void 0===s?function(e,n){e.data[t]=n}:s;if("linear"===n.type)e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&u(e,parseFloat(String(t)))}))}));else if("time"===n.type&&"native"!==n.format){var l=BG(n);e.forEach((function(e){e.data.forEach((function(e){var t=a(e);t&&u(e,l(t))}))}))}var c=[];switch(e.forEach((function(e){e.data.forEach((function(e){c.push(a(e))}))})),n.type){case"linear":var d=jj()(cz()(c).filter((function(e){return null!==e})),(function(e){return e}));return{all:d,min:Math.min.apply(Math,d),max:Math.max.apply(Math,d)};case"time":var f=fz()(c,(function(e){return e.getTime()})).slice(0).sort((function(e,t){return t.getTime()-e.getTime()})).reverse();return{all:f,min:f[0],max:HA()(f)};default:var h=cz()(c);return{all:h,min:h[0],max:HA()(h)}}},QG=function(e,t,n){var r=function(e){return"x"===e?"y":"x"}(e),i=[];t[r].all.forEach((function(t){var o=pz()(t)?qG:HG,a=[];n.forEach((function(n){var s=n.data.find((function(e){return o(e.data[r],t)})),u=null,l=null;if(void 0!==s){if(null!==(u=s.data[e])){var c=HA()(a);void 0===c?l=u:null!==c&&(l=c+u)}s.data["x"===e?"xStacked":"yStacked"]=l}a.push(l),null!==l&&i.push(l)}))})),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},eV=function(e,t){return QG("x",e,t)},tV=function(e,t){return QG("y",e,t)},nV=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var r;return(null!=(r=e(t))?r:0)+n}},rV={millisecond:[wG,wG],second:[kG,kG],minute:[SG,CG],hour:[AG,OG],day:[AP((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),AP((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,t){return e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[ZP,LP],sunday:[ZP,LP],monday:[HP,jP],tuesday:[qP,FP],wednesday:[XP,BP],thursday:[KP,zP],friday:[JP,YP],saturday:[$P,GP],month:[PG,RG],year:[nD,iD]},iV=Object.keys(rV),oV=new RegExp("^every\\s*(\\d+)?\\s*("+iV.join("|")+")s?$","i"),aV=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(oV);if(n){var r=n[1],i=n[2],o=rV[i][e.useUTC?1:0];if("day"===i){var a,s,u=e.domain(),l=u[0],c=u[1],d=new Date(c);return d.setDate(d.getDate()+1),null!=(a=null==(s=o.every(Number(null!=r?r:1)))?void 0:s.range(l,d))?a:[]}if(void 0===r)return e.ticks(o);var f=o.every(Number(r));if(f)return e.ticks(f)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof(h=t)&&isFinite(h)&&Math.floor(h)===h)return e.ticks(t)}var h;return e.domain()};function sV(){return sV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sV.apply(this,arguments)}var uV=function(e){var t,n=e.axis,r=e.scale,i=e.ticksPosition,o=e.tickValues,a=e.tickSize,s=e.tickPadding,u=e.tickRotation,l=e.engine,c=void 0===l?"svg":l,d=aV(r,o),f=RL[c],h="bandwidth"in r?nV(r):r,p={lineX:0,lineY:0},g={textX:0,textY:0},v="object"==typeof document&&"rtl"===document.dir,m=f.align.center,y=f.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!=(t=h(e))?t:0,y:0}},p.lineY=a*("after"===i?1:-1),g.textY=(a+s)*("after"===i?1:-1),y="after"===i?f.baseline.top:f.baseline.bottom,0===u?m=f.align.center:"after"===i&&u<0||"before"===i&&u>0?(m=f.align[v?"left":"right"],y=f.baseline.center):("after"===i&&u>0||"before"===i&&u<0)&&(m=f.align[v?"right":"left"],y=f.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=h(e))?t:0}},p.lineX=a*("after"===i?1:-1),g.textX=(a+s)*("after"===i?1:-1),m="after"===i?f.align.left:f.align.right),{ticks:d.map((function(e){return sV({key:"number"==typeof e||"string"==typeof e?e:""+e,value:e},t(e),p,g)})),textAlign:m,textBaseline:y}},lV=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=lD(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return EP(e)},cV=function(e){var t,n=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values,s=(t=a,(Array.isArray(t)?a:void 0)||aV(i,a)),u="bandwidth"in i?nV(i):i,l="x"===o?s.map((function(e){var t,n;return{key:""+e,x1:null!=(t=u(e))?t:0,x2:null!=(n=u(e))?n:0,y1:0,y2:r}})):s.map((function(e){var t,r;return{key:""+e,x1:0,x2:n,y1:null!=(t=u(e))?t:0,y2:null!=(r=u(e))?r:0}}));return l},dV=(0,y.memo)((function(e){var t,n=e.value,r=e.format,i=e.lineX,o=e.lineY,a=e.onClick,s=e.textBaseline,u=e.textAnchor,l=e.animatedProps,c=kL(),d=null!=(t=null==r?void 0:r(n))?t:n,f=(0,y.useMemo)((function(){var e={opacity:l.opacity};return a?{style:sV({},e,{cursor:"pointer"}),onClick:function(e){return a(e,d)}}:{style:e}}),[l.opacity,a,d]);return(0,pS.jsxs)(mA.g,sV({transform:l.transform},f,{children:[(0,pS.jsx)("line",{x1:0,x2:i,y1:0,y2:o,style:c.axis.ticks.line}),(0,pS.jsx)(mA.text,{dominantBaseline:s,textAnchor:u,transform:l.textTransform,style:c.axis.ticks.text,children:d})]}))})),fV=(0,y.memo)((function(e){var t=e.axis,n=e.scale,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.length,u=e.ticksPosition,l=e.tickValues,c=e.tickSize,d=void 0===c?5:c,f=e.tickPadding,h=void 0===f?5:f,p=e.tickRotation,g=void 0===p?0:p,v=e.format,m=e.renderTick,b=void 0===m?dV:m,x=e.legend,w=e.legendPosition,E=void 0===w?"end":w,k=e.legendOffset,_=void 0===k?0:k,S=e.onClick,T=e.ariaHidden,C=kL(),M=(0,y.useMemo)((function(){return lV(v,n)}),[v,n]),A=uV({axis:t,scale:n,ticksPosition:u,tickValues:l,tickSize:d,tickPadding:h,tickRotation:g}),I=A.ticks,O=A.textAlign,N=A.textBaseline,P=null;if(void 0!==x){var D,R=0,L=0,j=0;"y"===t?(j=-90,R=_,"start"===E?(D="start",L=s):"middle"===E?(D="middle",L=s/2):"end"===E&&(D="end")):(L=_,"start"===E?D="start":"middle"===E?(D="middle",R=s/2):"end"===E&&(D="end",R=s)),P=(0,pS.jsx)("text",{transform:"translate("+R+", "+L+") rotate("+j+")",textAnchor:D,style:sV({dominantBaseline:"central"},C.axis.legend.text),children:x})}var F=tL(),B=F.animate,z=F.config,Y=WM({transform:"translate("+i+","+a+")",lineX2:"x"===t?s:0,lineY2:"x"===t?0:s,config:z,immediate:!B}),G=ZM(I,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+g+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+g+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+g+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+g+")"}},leave:{opacity:0},config:z,immediate:!B});return(0,pS.jsxs)(mA.g,{transform:Y.transform,"aria-hidden":T,children:[G((function(e,t,n,r){return y.createElement(b,sV({tickIndex:r,format:M,rotate:g,textBaseline:N,textAnchor:O,animatedProps:e},t,S?{onClick:S}:{}))})),(0,pS.jsx)(mA.line,{style:C.axis.domain.line,x1:0,x2:Y.lineX2,y1:0,y2:Y.lineY2}),P]})})),hV={ticksPosition:kS().oneOf(["before","after"]),tickValues:kS().oneOfType([kS().number,kS().arrayOf(kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)])),kS().string]),tickSize:kS().number,tickPadding:kS().number,tickRotation:kS().number,format:kS().oneOfType([kS().func,kS().string]),renderTick:kS().func,legend:kS().node,legendPosition:kS().oneOf(["start","middle","end"]),legendOffset:kS().number,ariaHidden:kS().bool},pV=kS().shape(hV),gV=["top","right","bottom","left"],vV=(0,y.memo)((function(e){var t=e.xScale,n=e.yScale,r=e.width,i=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,pS.jsx)(pS.Fragment,{children:gV.map((function(e){var a=o[e];if(!a)return null;var s="top"===e||"bottom"===e;return(0,pS.jsx)(fV,sV({},a,{axis:s?"x":"y",x:"right"===e?r:0,y:"bottom"===e?i:0,scale:s?t:n,length:s?r:i,ticksPosition:"top"===e||"left"===e?"before":"after"}),e)}))})})),mV=(0,y.memo)((function(e){var t=e.animatedProps,n=kL();return(0,pS.jsx)(mA.line,sV({},t,n.grid.line))})),yV=(0,y.memo)((function(e){var t=e.lines,n=tL(),r=n.animate,i=ZM(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:n.config,immediate:!r});return(0,pS.jsx)("g",{children:i((function(e,t){return(0,y.createElement)(mV,sV({},t,{key:t.key,animatedProps:e}))}))})})),bV=(0,y.memo)((function(e){var t=e.width,n=e.height,r=e.xScale,i=e.yScale,o=e.xValues,a=e.yValues,s=(0,y.useMemo)((function(){return!!r&&cV({width:t,height:n,scale:r,axis:"x",values:o})}),[r,o,t,n]),u=(0,y.useMemo)((function(){return!!i&&cV({width:t,height:n,scale:i,axis:"y",values:a})}),[n,t,i,a]);return(0,pS.jsxs)(pS.Fragment,{children:[s&&(0,pS.jsx)(yV,{lines:s}),u&&(0,pS.jsx)(yV,{lines:u})]})})),xV=function(e,t){var n=t.xScale,r=t.yScale,i=t.width,o=t.height,a=t.top,s=t.right,u=t.bottom,l=t.left,c=t.theme,d={top:a,right:s,bottom:u,left:l};gV.forEach((function(t){var a=d[t];if(!a)return null;var s="top"===t||"bottom"===t,u="top"===t||"left"===t?"before":"after",l=s?n:r,f=lV(a.format,l);!function(e,t){var n,r=t.axis,i=t.scale,o=t.x,a=void 0===o?0:o,s=t.y,u=void 0===s?0:s,l=t.length,c=t.ticksPosition,d=t.tickValues,f=t.tickSize,h=void 0===f?5:f,p=t.tickPadding,g=void 0===p?5:p,v=t.tickRotation,m=void 0===v?0:v,y=t.format,b=t.legend,x=t.legendPosition,w=void 0===x?"end":x,E=t.legendOffset,k=void 0===E?0:E,_=t.theme,S=uV({axis:r,scale:i,ticksPosition:c,tickValues:d,tickSize:h,tickPadding:g,tickRotation:m,engine:"canvas"}),T=S.ticks,C=S.textAlign,M=S.textBaseline;e.save(),e.translate(a,u),e.textAlign=C,e.textBaseline=M,e.font=(_.axis.ticks.text.fontWeight?_.axis.ticks.text.fontWeight+" ":"")+_.axis.ticks.text.fontSize+"px "+_.axis.ticks.text.fontFamily,(null!=(n=_.axis.domain.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(_.axis.domain.line.strokeWidth),e.lineCap="square",_.axis.domain.line.stroke&&(e.strokeStyle=_.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?l:0,"x"===r?0:l),e.stroke());var A="function"==typeof y?y:function(e){return""+e};if(T.forEach((function(t){var n;(null!=(n=_.axis.ticks.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(_.axis.ticks.line.strokeWidth),e.lineCap="square",_.axis.ticks.line.stroke&&(e.strokeStyle=_.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=A(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(NL(m)),_.axis.ticks.text.fill&&(e.fillStyle=_.axis.ticks.text.fill),e.fillText(String(r),0,0),e.restore()})),void 0!==b){var I=0,O=0,N=0,P="center";"y"===r?(N=-90,I=k,"start"===w?(P="start",O=l):"middle"===w?(P="center",O=l/2):"end"===w&&(P="end")):(O=k,"start"===w?P="start":"middle"===w?(P="center",I=l/2):"end"===w&&(P="end",I=l)),e.translate(I,O),e.rotate(NL(N)),e.font=(_.axis.legend.text.fontWeight?_.axis.legend.text.fontWeight+" ":"")+_.axis.legend.text.fontSize+"px "+_.axis.legend.text.fontFamily,_.axis.legend.text.fill&&(e.fillStyle=_.axis.legend.text.fill),e.textAlign=P,e.textBaseline="middle",e.fillText(b,0,0)}e.restore()}(e,sV({},a,{axis:s?"x":"y",x:"right"===t?i:0,y:"bottom"===t?o:0,scale:l,format:f,length:s?i:o,ticksPosition:u,theme:c}))}))},wV=function(e,t){var n=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values;cV({width:n,height:r,scale:i,axis:o,values:a}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))};function EV(){return EV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EV.apply(this,arguments)}var kV={top:0,right:0,bottom:0,left:0},_V=function(e){var t,n=e.direction,r=e.itemsSpacing,i=e.padding,o=e.itemCount,a=e.itemWidth,s=e.itemHeight;if("number"!=typeof i&&("object"!=typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var u="number"==typeof i?{top:i,right:i,bottom:i,left:i}:EV({},kV,i),l=u.left+u.right,c=u.top+u.bottom,d=a+l,f=s+c,h=(o-1)*r;return"row"===n?d=a*o+h+l:"column"===n&&(f=s*o+h+c),{width:d,height:f,padding:u}},SV=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,i=e.containerWidth,o=e.containerHeight,a=e.width,s=e.height,u=n,l=r;switch(t){case"top":u+=(i-a)/2;break;case"top-right":u+=i-a;break;case"right":u+=i-a,l+=(o-s)/2;break;case"bottom-right":u+=i-a,l+=o-s;break;case"bottom":u+=(i-a)/2,l+=o-s;break;case"bottom-left":l+=o-s;break;case"left":l+=(o-s)/2;break;case"center":u+=(i-a)/2,l+=(o-s)/2}return{x:u,y:l}},TV=function(e){var t,n,r,i,o,a,s=e.direction,u=e.justify,l=e.symbolSize,c=e.symbolSpacing,d=e.width,f=e.height;switch(s){case"left-to-right":t=0,n=(f-l)/2,i=f/2,a="central",u?(r=d,o="end"):(r=l+c,o="start");break;case"right-to-left":t=d-l,n=(f-l)/2,i=f/2,a="central",u?(r=0,o="start"):(r=d-l-c,o="end");break;case"top-to-bottom":t=(d-l)/2,n=0,r=d/2,o="middle",u?(i=f,a="alphabetic"):(i=l+c,a="text-before-edge");break;case"bottom-to-top":t=(d-l)/2,n=f-l,r=d/2,o="middle",u?(i=0,a="text-before-edge"):(i=f-l-c,a="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}},CV={circle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,l=e.borderColor;return(0,pS.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:i,opacity:a,strokeWidth:u,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,l=e.borderColor;return(0,pS.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,pS.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:i,opacity:a,strokeWidth:u,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,l=e.borderColor;return(0,pS.jsx)("rect",{x:t,y:n,fill:i,opacity:a,strokeWidth:u,stroke:void 0===l?"transparent":l,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,s=e.borderWidth,u=void 0===s?0:s,l=e.borderColor;return(0,pS.jsx)("g",{transform:"translate("+t+","+n+")",children:(0,pS.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:i,opacity:a,strokeWidth:u,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})}},MV=function(e){var t,n,r,i,o,a,s,u,l,c,d,f=e.x,h=e.y,p=e.width,g=e.height,v=e.data,m=e.direction,b=void 0===m?"left-to-right":m,x=e.justify,w=void 0!==x&&x,E=e.textColor,k=e.background,_=void 0===k?"transparent":k,S=e.opacity,T=void 0===S?1:S,C=e.symbolShape,M=void 0===C?"square":C,A=e.symbolSize,I=void 0===A?16:A,O=e.symbolSpacing,N=void 0===O?8:O,P=e.symbolBorderWidth,D=void 0===P?0:P,R=e.symbolBorderColor,L=void 0===R?"transparent":R,j=e.onClick,F=e.onMouseEnter,B=e.onMouseLeave,z=e.toggleSerie,Y=e.effects,G=(0,y.useState)({}),V=G[0],W=G[1],U=kL(),Z=(0,y.useCallback)((function(e){if(Y){var t=Y.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return EV({},e,t.style)}),{});W(t)}null==F||F(v,e)}),[F,v,Y]),H=(0,y.useCallback)((function(e){if(Y){var t=Y.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return EV({},e,t.style)}),{});W(t)}null==B||B(v,e)}),[B,v,Y]),q=TV({direction:b,justify:w,symbolSize:null!=(t=V.symbolSize)?t:I,symbolSpacing:N,width:p,height:g}),X=q.symbolX,K=q.symbolY,J=q.labelX,$=q.labelY,Q=q.labelAnchor,ee=q.labelAlignment,te=[j,F,B,z].some((function(e){return void 0!==e})),ne="function"==typeof M?M:CV[M];return(0,pS.jsxs)("g",{transform:"translate("+f+","+h+")",style:{opacity:null!=(n=V.itemOpacity)?n:T},children:[(0,pS.jsx)("rect",{width:p,height:g,fill:null!=(r=V.itemBackground)?r:_,style:{cursor:te?"pointer":"auto"},onClick:function(e){null==j||j(v,e),null==z||z(v.id)},onMouseEnter:Z,onMouseLeave:H}),y.createElement(ne,EV({id:v.id,x:X,y:K,size:null!=(i=V.symbolSize)?i:I,fill:null!=(o=null!=(a=v.fill)?a:v.color)?o:"black",borderWidth:null!=(s=V.symbolBorderWidth)?s:D,borderColor:null!=(u=V.symbolBorderColor)?u:L},v.hidden?U.legends.hidden.symbol:void 0)),(0,pS.jsx)("text",{textAnchor:Q,style:EV({},U.legends.text,{fill:null!=(l=null!=(c=null!=(d=V.itemTextColor)?d:E)?c:U.legends.text.fill)?l:"black",dominantBaseline:ee,pointerEvents:"none",userSelect:"none"},v.hidden?U.legends.hidden.text:void 0),x:J,y:$,children:v.label})]})},AV=function(e){var t=e.data,n=e.x,r=e.y,i=e.direction,o=e.padding,a=void 0===o?0:o,s=e.justify,u=e.effects,l=e.itemWidth,c=e.itemHeight,d=e.itemDirection,f=void 0===d?"left-to-right":d,h=e.itemsSpacing,p=void 0===h?0:h,g=e.itemTextColor,v=e.itemBackground,m=void 0===v?"transparent":v,y=e.itemOpacity,b=void 0===y?1:y,x=e.symbolShape,w=e.symbolSize,E=e.symbolSpacing,k=e.symbolBorderWidth,_=e.symbolBorderColor,S=e.onClick,T=e.onMouseEnter,C=e.onMouseLeave,M=e.toggleSerie,A=_V({itemCount:t.length,itemWidth:l,itemHeight:c,itemsSpacing:p,direction:i,padding:a}).padding,I="row"===i?l+p:0,O="column"===i?c+p:0;return(0,pS.jsx)("g",{transform:"translate("+n+","+r+")",children:t.map((function(e,t){return(0,pS.jsx)(MV,{data:e,x:t*I+A.left,y:t*O+A.top,width:l,height:c,direction:f,justify:s,effects:u,textColor:g,background:m,opacity:b,symbolShape:x,symbolSize:w,symbolSpacing:E,symbolBorderWidth:k,symbolBorderColor:_,onClick:S,onMouseEnter:T,onMouseLeave:C,toggleSerie:M},t)}))})},IV=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,i=e.translateX,o=void 0===i?0:i,a=e.translateY,s=void 0===a?0:a,u=e.anchor,l=e.direction,c=e.padding,d=void 0===c?0:c,f=e.justify,h=e.itemsSpacing,p=void 0===h?0:h,g=e.itemWidth,v=e.itemHeight,m=e.itemDirection,y=e.itemTextColor,b=e.itemBackground,x=e.itemOpacity,w=e.symbolShape,E=e.symbolSize,k=e.symbolSpacing,_=e.symbolBorderWidth,S=e.symbolBorderColor,T=e.onClick,C=e.onMouseEnter,M=e.onMouseLeave,A=e.toggleSerie,I=e.effects,O=_V({itemCount:t.length,itemsSpacing:p,itemWidth:g,itemHeight:v,direction:l,padding:d}),N=O.width,P=O.height,D=SV({anchor:u,translateX:o,translateY:s,containerWidth:n,containerHeight:r,width:N,height:P}),R=D.x,L=D.y;return(0,pS.jsx)(AV,{data:t,x:R,y:L,direction:l,padding:d,justify:f,effects:I,itemsSpacing:p,itemWidth:g,itemHeight:v,itemDirection:m,itemTextColor:y,itemBackground:b,itemOpacity:x,symbolShape:w,symbolSize:E,symbolSpacing:k,symbolBorderWidth:_,symbolBorderColor:S,onClick:T,onMouseEnter:C,onMouseLeave:M,toggleSerie:"boolean"==typeof A?void 0:A})},OV={start:"left",middle:"center",end:"right"},NV=function(e,t){var n=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,a=void 0===o?0:o,s=t.translateY,u=void 0===s?0:s,l=t.anchor,c=t.direction,d=t.padding,f=void 0===d?0:d,h=t.justify,p=void 0!==h&&h,g=t.itemsSpacing,v=void 0===g?0:g,m=t.itemWidth,y=t.itemHeight,b=t.itemDirection,x=void 0===b?"left-to-right":b,w=t.itemTextColor,E=t.symbolSize,k=void 0===E?16:E,_=t.symbolSpacing,S=void 0===_?8:_,T=t.theme,C=_V({itemCount:n.length,itemWidth:m,itemHeight:y,itemsSpacing:v,direction:c,padding:f}),M=C.width,A=C.height,I=C.padding,O=SV({anchor:l,translateX:a,translateY:u,containerWidth:r,containerHeight:i,width:M,height:A}),N=O.x,P=O.y,D="row"===c?m+v:0,R="column"===c?y+v:0;e.save(),e.translate(N,P),e.font=T.legends.text.fontSize+"px "+(T.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,i,o=n*D+I.left,a=n*R+I.top,s=TV({direction:x,justify:p,symbolSize:k,symbolSpacing:S,width:m,height:y}),u=s.symbolX,l=s.symbolY,c=s.labelX,d=s.labelY,f=s.labelAnchor,h=s.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(o+u,a+l,k,k),e.textAlign=OV[f],"central"===h&&(e.textBaseline="middle"),e.fillStyle=null!=(i=null!=w?w:T.legends.text.fill)?i:"black",e.fillText(String(t.label),o+c,a+d)})),e.restore()},PV={data:kS().arrayOf(kS().object),anchor:kS().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:kS().number,translateY:kS().number,direction:kS().oneOf(["row","column"]).isRequired,itemsSpacing:kS().number,itemWidth:kS().number.isRequired,itemHeight:kS().number.isRequired,itemDirection:kS().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:kS().string,itemBackground:kS().string,itemOpacity:kS().number,symbolShape:kS().oneOfType([kS().oneOf(["circle","diamond","square","triangle"]),kS().func]),symbolSize:kS().number,symbolSpacing:kS().number,symbolBorderWidth:kS().number,symbolBorderColor:kS().string,onClick:kS().func,onMouseEnter:kS().func,onMouseLeave:kS().func,effects:kS().arrayOf(kS().shape({on:kS().oneOfType([kS().oneOf(["hover"])]).isRequired,style:kS().shape({itemTextColor:kS().string,itemBackground:kS().string,itemOpacity:kS().number,symbolSize:kS().number,symbolBorderWidth:kS().number,symbolBorderColor:kS().string}).isRequired}))},DV=Math.PI,RV=2*DV,LV=1e-6,jV=RV-LV;function FV(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function BV(){return new FV}FV.prototype=BV.prototype={constructor:FV,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,d=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>LV)if(Math.abs(c*s-u*l)>LV&&i){var f=n-o,h=r-a,p=s*s+u*u,g=f*f+h*h,v=Math.sqrt(p),m=Math.sqrt(d),y=i*Math.tan((DV-Math.acos((p+d-g)/(2*v*m)))/2),b=y/m,x=y/v;Math.abs(b-1)>LV&&(this._+="L"+(e+b*l)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*h)+","+(this._x1=e+x*s)+","+(this._y1=t+x*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>LV||Math.abs(this._y1-l)>LV)&&(this._+="L"+u+","+l),n&&(d<0&&(d=d%RV+RV),d>jV?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):d>LV&&(this._+="A"+n+","+n+",0,"+ +(d>=DV)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var zV=BV;function YV(e){return function(){return e}}function GV(e){return e[0]}function VV(e){return e[1]}function WV(){var e=GV,t=VV,n=YV(!0),r=null,i=qN,o=null;function a(a){var s,u,l,c=a.length,d=!1;for(null==r&&(o=i(l=zV())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:YV(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:YV(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:YV(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}var UV=Math.pow(2,-52),ZV=new Uint32Array(512),HV=function(){function e(t){(0,On.Z)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,Nn.Z)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<o;c++){var d=e[2*c],f=e[2*c+1];d<a&&(a=d),f<s&&(s=f),d>u&&(u=d),f>l&&(l=f),this._ids[c]=c}for(var h,p,g,v=(a+u)/2,m=(s+l)/2,y=1/0,b=0;b<o;b++){var x=qV(v,m,e[2*b],e[2*b+1]);x<y&&(h=b,y=x)}var w=e[2*h],E=e[2*h+1];y=1/0;for(var k=0;k<o;k++)if(k!==h){var _=qV(w,E,e[2*k],e[2*k+1]);_<y&&_>0&&(p=k,y=_)}for(var S=e[2*p],T=e[2*p+1],C=1/0,M=0;M<o;M++)if(M!==h&&M!==p){var A=$V(w,E,S,T,e[2*M],e[2*M+1]);A<C&&(g=M,C=A)}var I=e[2*g],O=e[2*g+1];if(C===1/0){for(var N=0;N<o;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];QV(this._ids,this._dists,0,o-1);for(var P=new Uint32Array(o),D=0,R=0,L=-1/0;R<o;R++){var j=this._ids[R];this._dists[j]>L&&(P[D++]=j,L=this._dists[j])}return this.hull=P.subarray(0,D),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(KV(w,E,S,T,I,O)){var F=p,B=S,z=T;p=g,S=I,T=O,g=F,I=B,O=z}var Y=function(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,d=u*u+l*l,f=.5/(a*l-s*u);return{x:e+(l*c-s*d)*f,y:t+(a*d-u*c)*f}}(w,E,S,T,I,O);this._cx=Y.x,this._cy=Y.y;for(var G=0;G<o;G++)this._dists[G]=qV(e[2*G],e[2*G+1],Y.x,Y.y);QV(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=t[g]=p,n[p]=t[h]=g,n[g]=t[p]=h,r[h]=0,r[p]=1,r[g]=2,i.fill(-1),i[this._hashKey(w,E)]=h,i[this._hashKey(S,T)]=p,i[this._hashKey(I,O)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(var W,U,Z=0;Z<this._ids.length;Z++){var H=this._ids[Z],q=e[2*H],X=e[2*H+1];if(!(Z>0&&Math.abs(q-W)<=UV&&Math.abs(X-U)<=UV)&&(W=q,U=X,H!==h&&H!==p&&H!==g)){for(var K=0,J=0,$=this._hashKey(q,X);J<this._hashSize&&(-1===(K=i[($+J)%this._hashSize])||K===n[K]);J++);for(var Q=K=t[K],ee=void 0;ee=n[Q],!KV(q,X,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1]);)if((Q=ee)===K){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,H,n[Q],-1,-1,r[Q]);r[H]=this._legalize(te+2),r[Q]=te,V++;for(var ne=n[Q];ee=n[ne],KV(q,X,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,H,ee,r[H],-1,r[ne]),r[H]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(Q===K)for(;KV(q,X,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1]);)te=this._addTriangle(ee,H,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,V--,Q=ee;this._hullStart=t[H]=Q,n[Q]=t[ne]=H,n[H]=ne,i[this._hashKey(q,X)]=H,i[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var u=a-a%3,l=s+(e+1)%3,c=u+(a+2)%3,d=t[o],f=t[e],h=t[l],p=t[c];if(JV(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=d;var g=n[c];if(-1===g){var v=this._hullStart;do{if(this._hullTri[v]===c){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,g),this._link(a,n[o]),this._link(o,c);var m=u+(a+1)%3;i<ZV.length&&(ZV[i++]=m)}else{if(0===i)break;e=ZV[--i]}}else{if(0===i)break;e=ZV[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tW,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nW,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),e}();function qV(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function XV(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function KV(e,t,n,r,i,o){return(XV(i,o,e,t,n,r)||XV(e,t,n,r,i,o)||XV(n,r,i,o,e,t))<0}function JV(e,t,n,r,i,o,a,s){var u=e-a,l=t-s,c=n-a,d=r-s,f=i-a,h=o-s,p=c*c+d*d,g=f*f+h*h;return u*(d*g-p*h)-l*(c*g-p*f)+(u*u+l*l)*(c*h-d*f)<0}function $V(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,d=u*u+l*l,f=.5/(a*l-s*u),h=(l*c-s*d)*f,p=(a*d-u*c)*f;return h*h+p*p}function QV(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var u=n+1,l=r;eW(e,n+r>>1,u),t[e[n]]>t[e[r]]&&eW(e,n,r),t[e[u]]>t[e[r]]&&eW(e,u,r),t[e[n]]>t[e[u]]&&eW(e,n,u);for(var c=e[u],d=t[c];;){do{u++}while(t[e[u]]<d);do{l--}while(t[e[l]]>d);if(l<u)break;eW(e,u,l)}e[n+1]=e[l],e[l]=c,r-u+1>=l-n?(QV(e,t,u,r),QV(e,t,n,l-1)):(QV(e,t,n,l-1),QV(e,t,u,r))}}function eW(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function tW(e){return e[0]}function nW(e){return e[1]}var rW=1e-6,iW=function(){function e(){(0,On.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,Nn.Z)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>rW||Math.abs(this._y1-i)>rW)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),oW=function(){function e(){(0,On.Z)(this,e),this._=[]}return(0,Nn.Z)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),aW=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,m.Z)(n,4),i=r[0],o=r[1],a=r[2],s=r[3];if((0,On.Z)(this,e),!((a=+a)>=(i=+i))||!((s=+s)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=s,this.ymin=o,this._init()}return(0,Nn.Z)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,l=0,c=o.length;u<c;u+=3,l+=2){var d=2*o[u],f=2*o[u+1],h=2*o[u+2],p=r[d],g=r[d+1],v=r[f],m=r[f+1],y=r[h],b=r[h+1],x=v-p,w=m-g,E=y-p,k=b-g,_=x*x+w*w,S=E*E+k*k,T=2*(x*k-w*E);if(T)if(Math.abs(T)<1e-8)e=(p+y)/2,t=(g+b)/2;else{var C=1/T;e=p+(k*_-w*S)*C,t=g+(x*S-E*_)*C}else e=(p+y)/2-1e8*k,t=(g+b)/2+1e8*E;s[l]=e,s[l+1]=t}var M,A,I,O=i[i.length-1],N=4*O,P=r[2*O],D=r[2*O+1];a.fill(0);for(var R=0;R<i.length;++R)M=N,A=P,I=D,N=4*(O=i[R]),P=r[2*O],D=r[2*O+1],a[M+2]=a[N]=I-D,a[M+3]=a[N+1]=P-A}},{key:"render",value:function(e){var t=null==e?e=new iW:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,l=r.length;u<l;++u){var c=r[u];if(!(c<u)){var d=2*Math.floor(u/3),f=2*Math.floor(c/3),h=a[d],p=a[d+1],g=a[f],v=a[f+1];this._renderSegment(h,p,g,v,e)}}for(var m,y=o[o.length-1],b=0;b<o.length;++b){m=y,y=o[b];var x=2*Math.floor(i[y]/3),w=a[x],E=a[x+1],k=4*m,_=this._project(w,E,s[k+2],s[k+3]);_&&this._renderSegment(w,E,_[0],_[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new iW:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new iW:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:ru().mark((function e(){var t,n,r,i;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new oW;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:ru().mark((function e(t){var n,r,i,o,a,s,u,l,c;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=(0,PE.Z)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}s=0,u=n.length;case 10:if(!(s<u)){e.next=23;break}l=0,c=a.length;case 12:if(!(l<c)){e.next=20;break}if(n[s]!=a[l]||n[s+1]!=a[l+1]||n[(s+2)%u]!=a[(l+c-2)%c]||n[(s+3)%u]!=a[(l+c-1)%c]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:l+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],u=a;do{var l=Math.floor(u/3);if(s.push(t[2*l],t[2*l+1]),o[u=u%3===2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,s=t.length,u=null,l=t[s-2],c=t[s-1],d=this._regioncode(l,c),f=0;f<s;f+=2)if(n=l,r=c,l=t[f],c=t[f+1],i=d,d=this._regioncode(l,c),0===i&&0===d)o=a,a=0,u?u.push(l,c):u=[l,c];else{var h=void 0,p=void 0,g=void 0,v=void 0,y=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,l,c,i,d)))continue;var b=h,x=(0,m.Z)(b,4);p=x[0],g=x[1],v=x[2],y=x[3]}else{if(null===(h=this._clipSegment(l,c,n,r,d,i)))continue;var w=h,E=(0,m.Z)(w,4);v=E[0],y=E[1],p=E[2],g=E[3],o=a,a=this._edgecode(p,g),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(p,g):u=[p,g]}o=a,a=this._edgecode(v,y),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(v,y):u=[v,y]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(e,o,a,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var u,l=0,c=s.length,d=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=d,d=this._edgecode(s[l],s[l+1]),u&&d&&(l=this._edge(e,u,d,s,l),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,l=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[l]||r[s+1]===r[u+1]&&r[u+1]===r[l+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),sW=ru().mark(gW),uW=2*Math.PI,lW=Math.pow;function cW(e){return e[0]}function dW(e){return e[1]}function fW(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var hW=function(){function e(t){(0,On.Z)(this,e),this._delaunator=new HV(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return(0,Nn.Z)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,s=t.length/2;a<s;++a){var u=fW(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new HV(t)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,d=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,g=l.length;p<g;++p){var v=d[p%3===2?p-2:p+1];-1!==l[p]&&-1!==f[v]||(f[v]=p)}for(var m=0,y=c.length;m<y;++m)h[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],f[c[0]]=1,2===c.length&&(f[c[1]]=0))}},{key:"voronoi",value:function(e){return new aW(this,e)}},{key:"neighbors",value:ru().mark((function e(t){var n,r,i,o,a,s,u,l,c,d,f;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((u=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[u-1];case 6:if(!(u<s.length-1)){e.next=9;break}return e.next=9,s[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(l=n[t])){e.next=13;break}return e.abrupt("return");case 13:c=l,d=-1;case 14:return e.next=16,d=a[c];case 16:if(a[c=c%3===2?c-2:c+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(c=o[c])){e.next=26;break}if((f=r[(i[t]+1)%r.length])===d){e.next=25;break}return e.next=25,f;case 25:return e.abrupt("return");case 26:if(c!==l){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var l=e,c=lW(t-u[2*e],2)+lW(n-u[2*e+1],2),d=r[e],f=d;do{var h=s[f],p=lW(t-u[2*h],2)+lW(n-u[2*h+1],2);if(p<c&&(c=p,l=h),s[f=f%3===2?f-2:f+1]!==e)break;if(-1===(f=a[f])){if((f=i[(o[e]+1)%i.length])!==h&&lW(t-u[2*f],2)+lW(n-u[2*f+1],2)<c)return f;break}}while(f!==d);return l}},{key:"render",value:function(e){for(var t=null==e?e=new iW:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var u=2*i[o],l=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[l],n[l+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new iW:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,uW)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new iW:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new oW;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new iW:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:ru().mark((function e(){var t,n,r;return ru().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new oW;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cW,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dW,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?pW(t,n,r,i):Float64Array.from(gW(t,n,r,i)))}}]),e}();function pW(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}function gW(e,t,n,r){var i,o,a,s;return ru().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:i=0,o=(0,PE.Z)(e),u.prev=2,o.s();case 4:if((a=o.n()).done){u.next=13;break}return s=a.value,u.next=8,t.call(r,s,i,e);case 8:return u.next=10,n.call(r,s,i,e);case 10:++i;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),o.e(u.t0);case 18:return u.prev=18,o.f(),u.finish(18);case 21:case"end":return u.stop()}}),sW,null,[[2,15,18,21]])}var vW=function(e){return"function"==typeof e?e:function(t){return t[e]}},mW=function(e){var t=e.points,n=e.x,r=e.y,i=e.width,o=e.height,a=e.debug,s=(0,y.useMemo)((function(){return function(e){var t=e.points,n=e.x,r=void 0===n?"x":n,i=e.y,o=void 0===i?"y":i,a=vW(r),s=vW(o);return t.map((function(e){return[a(e),s(e)]}))}({points:t,x:n,y:r})}),[t,n,r]);return(0,y.useMemo)((function(){return function(e){var t=e.points,n=e.width,r=e.height,i=e.debug,o=hW.from(t),a=i?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:a}}({points:s,width:i,height:o,debug:a})}),[s,i,o,a])},yW=function(e){var t=e.nodes,n=e.width,r=e.height,i=e.x,o=e.y,a=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,l=e.onClick,c=e.debug,d=(0,y.useRef)(null),f=(0,y.useState)(null),h=f[0],p=f[1],g=mW({points:t,x:i,y:o,width:n,height:r,debug:c}),v=g.delaunay,m=g.voronoi,b=(0,y.useMemo)((function(){if(c&&m)return m.render()}),[c,m]),x=(0,y.useCallback)((function(e){if(!d.current)return[null,null];var n=rj(d.current,e),r=n[0],i=n[1],o=v.find(r,i);return[o,void 0!==o?t[o]:null]}),[d,v]),w=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==a||a(r,e))}),[x,p,a]),E=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==s||s(r,e))}),[x,p,s]),k=(0,y.useCallback)((function(e){if(p(null),u){var n=void 0;null!==h&&(n=t[h]),n&&u(n,e)}}),[p,h,u,t]),_=(0,y.useCallback)((function(e){var t=x(e),n=t[0],r=t[1];p(n),r&&(null==l||l(r,e))}),[x,p,l]);return(0,pS.jsxs)("g",{ref:d,children:[c&&m&&(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsx)("path",{d:b,stroke:"red",strokeWidth:1,opacity:.75}),null!==h&&(0,pS.jsx)("path",{fill:"pink",opacity:.35,d:m.renderCell(h)})]}),(0,pS.jsx)("rect",{width:n,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:E,onMouseLeave:k,onClick:_})]})};function bW(){return bW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bW.apply(this,arguments)}var xW=function(e){var t=e.point;return(0,pS.jsx)(kA,{id:(0,pS.jsxs)("span",{children:["x: ",(0,pS.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,pS.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};xW.propTypes={point:kS().object.isRequired};var wW=(0,y.memo)(xW),EW=function(e){var t=e.slice,n=e.axis,r=kL(),i="x"===n?"y":"x";return(0,pS.jsx)(SA,{rows:t.points.map((function(e){return[(0,pS.jsx)(EA,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,(0,pS.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data[i+"Formatted"]},"value")]}))})};EW.propTypes={slice:kS().object.isRequired,axis:kS().oneOf(["x","y"]).isRequired};var kW=(0,y.memo)(EW),_W={data:kS().arrayOf(kS().shape({id:kS().oneOfType([kS().string,kS().number]).isRequired,data:kS().arrayOf(kS().shape({x:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]),y:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)])})).isRequired})).isRequired,xScale:kS().object.isRequired,xFormat:kS().oneOfType([kS().func,kS().string]),yScale:kS().object.isRequired,yFormat:kS().oneOfType([kS().func,kS().string]),layers:kS().arrayOf(kS().oneOfType([kS().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),kS().func])).isRequired,curve:uL.isRequired,axisTop:pV,axisRight:pV,axisBottom:pV,axisLeft:pV,enableGridX:kS().bool.isRequired,enableGridY:kS().bool.isRequired,gridXValues:kS().oneOfType([kS().number,kS().arrayOf(kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]))]),gridYValues:kS().oneOfType([kS().number,kS().arrayOf(kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]))]),enablePoints:kS().bool.isRequired,pointSymbol:kS().func,pointSize:kS().number.isRequired,pointColor:kS().any.isRequired,pointBorderWidth:kS().number.isRequired,pointBorderColor:kS().any.isRequired,enablePointLabel:kS().bool.isRequired,pointLabel:kS().oneOfType([kS().string,kS().func]).isRequired,markers:kS().arrayOf(kS().shape({axis:kS().oneOf(["x","y"]).isRequired,value:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]).isRequired,style:kS().object})),colors:IF.isRequired,enableArea:kS().bool.isRequired,areaOpacity:kS().number.isRequired,areaBlendMode:gL.isRequired,areaBaselineValue:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]).isRequired,lineWidth:kS().number.isRequired,legends:kS().arrayOf(kS().shape(PV)).isRequired,isInteractive:kS().bool.isRequired,debugMesh:kS().bool.isRequired,tooltip:kS().oneOfType([kS().func,kS().object]).isRequired,enableSlices:kS().oneOf(["x","y",!1]).isRequired,debugSlices:kS().bool.isRequired,sliceTooltip:kS().oneOfType([kS().func,kS().object]).isRequired,enableCrosshair:kS().bool.isRequired,crosshairType:kS().string.isRequired},SW=bW({},_W,{enablePointLabel:kS().bool.isRequired,role:kS().string.isRequired,useMesh:kS().bool.isRequired},eL,cL),TW=bW({pixelRatio:kS().number.isRequired},_W),CW={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:wW,enableSlices:!1,debugSlices:!1,sliceTooltip:kW,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},MW=bW({},CW,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),AW=bW({},CW,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),IW=function(e){var t=e.curve;return(0,y.useMemo)((function(){return WV().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(lL(t))}),[t])},OW=function(e){var t=e.curve,n=e.yScale,r=e.areaBaselineValue;return(0,y.useMemo)((function(){return function(){var e=GV,t=null,n=YV(0),r=VV,i=YV(!0),o=null,a=qN,s=null;function u(u){var l,c,d,f,h,p=u.length,g=!1,v=new Array(p),m=new Array(p);for(null==o&&(s=a(h=zV())),l=0;l<=p;++l){if(!(l<p&&i(f=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=l-1;d>=c;--d)s.point(v[d],m[d]);s.lineEnd(),s.areaEnd()}g&&(v[l]=+e(f,l,u),m[l]=+n(f,l,u),s.point(t?+t(f,l,u):v[l],r?+r(f,l,u):m[l]))}if(h)return s=null,h+""||null}function l(){return WV().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:YV(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:YV(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:YV(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:YV(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:YV(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:YV(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:YV(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(lL(t)).y0(n(r))}),[t,n,r])},NW=function(e){var t=e.data,n=e.xScale,r=void 0===n?MW.xScale:n,i=e.xFormat,o=e.yScale,a=void 0===o?MW.yScale:o,s=e.yFormat,u=e.width,l=e.height,c=e.colors,d=void 0===c?MW.colors:c,f=e.curve,h=void 0===f?MW.curve:f,p=e.areaBaselineValue,g=void 0===p?MW.areaBaselineValue:p,v=e.pointColor,m=void 0===v?MW.pointColor:v,b=e.pointBorderColor,x=void 0===b?MW.pointBorderColor:b,w=e.enableSlices,E=void 0===w?MW.enableSlicesTooltip:w,k=bL(i),_=bL(s),S=NF(d,"id"),T=kL(),C=AF(m,T),M=AF(x,T),A=(0,y.useState)([]),I=A[0],O=A[1],N=(0,y.useMemo)((function(){return function(e,t,n,r,i){var o=e.map((function(e){return function(e){return LG({},e,{data:e.data.map((function(e){return{data:LG({},e)}}))})}(e)})),a=JG(o,t,n);"stacked"in t&&!0===t.stacked&&eV(a,o),"stacked"in n&&!0===n.stacked&&tV(a,o);var s=XG(t,a.x,r,"x"),u=XG(n,a.y,i,"y"),l=o.map((function(e){return LG({},e,{data:e.data.map((function(e){return LG({},e,{position:{x:KG(e,"x",s),y:KG(e,"y",u)}})}))})}));return LG({},a,{series:l,xScale:s,yScale:u})}(t.filter((function(e){return-1===I.indexOf(e.id)})),r,a,u,l)}),[t,I,r,a,u,l]),P=N.xScale,D=N.yScale,R=N.series,L=(0,y.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:S(e)}})),n=e.map((function(e){return bW({},R.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return bW({},e,{hidden:!n.find((function(t){return t.id===e.id}))})})).reverse(),series:n}}),[t,R,S]),j=L.legendData,F=L.series,B=(0,y.useCallback)((function(e){O((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),z=function(e){var t=e.series,n=e.getPointColor,r=e.getPointBorderColor,i=e.formatX,o=e.formatY;return(0,y.useMemo)((function(){return t.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(a,s){var u={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:a.position.x,y:a.position.y};return u.color=n(t),u.borderColor=r(u),u.data=bW({},a.data,{xFormatted:i(a.data.x),yFormatted:o(a.data.y)}),u})))}),[])}),[t,n,r,i,o])}({series:F,getPointColor:C,getPointBorderColor:M,formatX:k,formatY:_}),Y=function(e){var t=e.enableSlices,n=e.points,r=e.width,i=e.height;return(0,y.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var o,a=e[0],s=e[1],u=n[t-1],l=n[t+1];return{id:a,x0:o=u?a-(a-u[0])/2:a,x:a,y0:0,y:0,width:l?a-o+(l[0]-a)/2:r-o,height:i,points:s.reverse()}}))}if("y"===t){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var o,a,s=e[0],u=e[1],l=n[t-1],c=n[t+1];return o=l?s-(s-l[0])/2:s,a=c?s-o+(c[0]-s)/2:i-o,{id:s,x0:0,x:0,y0:o,y:s,width:r,height:a,points:u.reverse()}}))}}),[t,n])}({enableSlices:E,points:z,width:u,height:l});return{legendData:j,toggleSerie:B,lineGenerator:IW({curve:h}),areaGenerator:OW({curve:h,yScale:D,areaBaselineValue:g}),getColor:S,series:F,xScale:P,yScale:D,slices:Y,points:z}},PW=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,i=e.fill,o=e.path,a=tL(),s=a.animate,u=a.config,l=nL(o),c=WM({color:r,config:u,immediate:!s});return(0,pS.jsx)(mA.path,{d:l,fill:i||c.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};PW.propTypes={areaBlendMode:gL.isRequired,areaOpacity:kS().number.isRequired,color:kS().string,fill:kS().string,path:kS().string.isRequired};var DW=function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return(0,pS.jsx)("g",{children:i.map((function(e){return(0,pS.jsx)(PW,bW({path:t(e.data.map((function(e){return e.position})))},bW({areaOpacity:n,areaBlendMode:r},e)),e.id)}))})};DW.propTypes={areaGenerator:kS().func.isRequired,areaOpacity:kS().number.isRequired,areaBlendMode:gL.isRequired,lines:kS().arrayOf(kS().object).isRequired};var RW=(0,y.memo)(DW),LW=function(e){var t=e.lineGenerator,n=e.points,r=e.color,i=e.thickness,o=(0,y.useMemo)((function(){return t(n)}),[t,n]),a=nL(o);return(0,pS.jsx)(mA.path,{d:a,fill:"none",strokeWidth:i,stroke:r})};LW.propTypes={points:kS().arrayOf(kS().shape({x:kS().oneOfType([kS().string,kS().number]),y:kS().oneOfType([kS().string,kS().number])})),lineGenerator:kS().func.isRequired,color:kS().string.isRequired,thickness:kS().number.isRequired};var jW=(0,y.memo)(LW),FW=function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,i=e.data,o=e.color;return(0,pS.jsx)(jW,{id:t,points:i.map((function(e){return e.position})),lineGenerator:n,color:o,thickness:r},t)}))};FW.propTypes={lines:kS().arrayOf(kS().shape({id:kS().oneOfType([kS().string,kS().number]).isRequired,color:kS().string.isRequired,data:kS().arrayOf(kS().shape({data:kS().shape({x:kS().oneOfType([kS().string,kS().number,kS().instanceOf(Date)]),y:kS().oneOfType([kS().string,kS().number,kS().instanceOf(Date)])}).isRequired,position:kS().shape({x:kS().number,y:kS().number}).isRequired})).isRequired})).isRequired,lineWidth:kS().number.isRequired,lineGenerator:kS().func.isRequired};var BW=(0,y.memo)(FW),zW=function(e){var t=e.slice,n=e.axis,r=e.debug,i=e.tooltip,o=e.isCurrent,a=e.setCurrent,s=NA(),u=s.showTooltipFromEvent,l=s.hideTooltip,c=(0,y.useCallback)((function(e){u((0,y.createElement)(i,{slice:t,axis:n}),e,"right"),a(t)}),[u,i,t]),d=(0,y.useCallback)((function(e){u((0,y.createElement)(i,{slice:t,axis:n}),e,"right")}),[u,i,t]),f=(0,y.useCallback)((function(){l(),a(null)}),[l]);return(0,pS.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&r?.35:0,onMouseEnter:c,onMouseMove:d,onMouseLeave:f})};zW.propTypes={slice:kS().object.isRequired,axis:kS().oneOf(["x","y"]).isRequired,debug:kS().bool.isRequired,height:kS().number.isRequired,tooltip:kS().oneOfType([kS().func,kS().object]),isCurrent:kS().bool.isRequired,setCurrent:kS().func.isRequired};var YW=(0,y.memo)(zW),GW=function(e){var t=e.slices,n=e.axis,r=e.debug,i=e.height,o=e.tooltip,a=e.current,s=e.setCurrent;return t.map((function(e){return(0,pS.jsx)(YW,{slice:e,axis:n,debug:r,height:i,tooltip:o,setCurrent:s,isCurrent:null!==a&&a.id===e.id},e.id)}))};GW.propTypes={slices:kS().arrayOf(kS().shape({id:kS().oneOfType([kS().number,kS().string,kS().instanceOf(Date)]).isRequired,x:kS().number.isRequired,y:kS().number.isRequired,points:kS().arrayOf(kS().object).isRequired})).isRequired,axis:kS().oneOf(["x","y"]).isRequired,debug:kS().bool.isRequired,height:kS().number.isRequired,tooltip:kS().oneOfType([kS().func,kS().object]).isRequired,current:kS().object,setCurrent:kS().func.isRequired};var VW=(0,y.memo)(GW),WW=function(e){var t=e.points,n=e.symbol,r=e.size,i=e.borderWidth,o=e.enableLabel,a=e.label,s=e.labelYOffset,u=kL(),l=function(e,t){var n,r=kN()(e)?e:function(t){return FA()(t,e)};return t&&(n=kN()(t)?t:EP(t)),n?function(e){return n(r(e))}:r}(a),c=t.reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?l(e.data):null}}));return(0,pS.jsx)("g",{children:c.map((function(e){return(0,pS.jsx)(HL,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:r,color:e.fill,borderWidth:i,borderColor:e.stroke,label:e.label,labelYOffset:s,theme:u},e.id)}))})};WW.propTypes={points:kS().arrayOf(kS().object),symbol:kS().func,size:kS().number.isRequired,color:kS().func.isRequired,borderWidth:kS().number.isRequired,borderColor:kS().func.isRequired,enableLabel:kS().bool.isRequired,label:kS().oneOfType([kS().string,kS().func]).isRequired,labelYOffset:kS().number};var UW=(0,y.memo)(WW),ZW=function(e){var t=e.points,n=e.width,r=e.height,i=e.margin,o=e.setCurrent,a=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,l=e.onClick,c=e.tooltip,d=e.debug,f=NA(),h=f.showTooltipAt,p=f.hideTooltip,g=(0,y.useCallback)((function(e,t){h((0,y.createElement)(c,{point:e}),[e.x+i.left,e.y+i.top],"top"),o(e),a&&a(e,t)}),[o,h,c,a,i]),v=(0,y.useCallback)((function(e,t){h((0,y.createElement)(c,{point:e}),[e.x+i.left,e.y+i.top],"top"),o(e),s&&s(e,t)}),[o,h,c,s]),m=(0,y.useCallback)((function(e,t){p(),o(null),u&&u(e,t)}),[p,o,u]),b=(0,y.useCallback)((function(e,t){l&&l(e,t)}),[l]);return(0,pS.jsx)(yW,{nodes:t,width:n,height:r,onMouseEnter:g,onMouseMove:v,onMouseLeave:m,onClick:b,debug:d})};ZW.propTypes={points:kS().arrayOf(kS().object).isRequired,width:kS().number.isRequired,height:kS().number.isRequired,margin:kS().object.isRequired,setCurrent:kS().func.isRequired,onMouseEnter:kS().func,onMouseMove:kS().func,onMouseLeave:kS().func,onClick:kS().func,tooltip:kS().oneOfType([kS().func,kS().object]).isRequired,debug:kS().bool.isRequired};var HW=(0,y.memo)(ZW),qW=function(e){var t=e.data,n=e.xScale,r=e.xFormat,i=e.yScale,o=e.yFormat,a=e.layers,s=e.curve,u=e.areaBaselineValue,l=e.colors,c=e.margin,d=e.width,f=e.height,h=e.axisTop,p=e.axisRight,g=e.axisBottom,v=e.axisLeft,m=e.enableGridX,b=e.enableGridY,x=e.gridXValues,w=e.gridYValues,E=e.lineWidth,k=e.enableArea,_=e.areaOpacity,S=e.areaBlendMode,T=e.enablePoints,C=e.pointSymbol,M=e.pointSize,A=e.pointColor,I=e.pointBorderWidth,O=e.pointBorderColor,N=e.enablePointLabel,P=e.pointLabel,D=e.pointLabelYOffset,R=e.defs,L=e.fill,j=e.markers,F=e.legends,B=e.isInteractive,z=e.useMesh,Y=e.debugMesh,G=e.onMouseEnter,V=e.onMouseMove,W=e.onMouseLeave,U=e.onClick,Z=e.tooltip,H=e.enableSlices,q=e.debugSlices,X=e.sliceTooltip,K=e.enableCrosshair,J=e.crosshairType,$=e.role,Q=mL(d,f,c),ee=Q.margin,te=Q.innerWidth,ne=Q.innerHeight,re=Q.outerWidth,ie=Q.outerHeight,oe=NW({data:t,xScale:n,xFormat:r,yScale:i,yFormat:o,width:te,height:ne,colors:l,curve:s,areaBaselineValue:u,pointColor:A,pointBorderColor:O,enableSlices:H}),ae=oe.legendData,se=oe.toggleSerie,ue=oe.lineGenerator,le=oe.areaGenerator,ce=oe.series,de=oe.xScale,fe=oe.yScale,he=oe.slices,pe=oe.points,ge=kL(),ve=AF(A,ge),me=AF(O,ge),ye=(0,y.useState)(null),be=ye[0],xe=ye[1],we=(0,y.useState)(null),Ee=we[0],ke=we[1],_e={grid:(0,pS.jsx)(bV,{theme:ge,width:te,height:ne,xScale:m?de:null,yScale:b?fe:null,xValues:x,yValues:w},"grid"),markers:(0,pS.jsx)(JL,{markers:j,width:te,height:ne,xScale:de,yScale:fe,theme:ge},"markers"),axes:(0,pS.jsx)(vV,{xScale:de,yScale:fe,width:te,height:ne,theme:ge,top:h,right:p,bottom:g,left:v},"axes"),areas:null,lines:(0,pS.jsx)(BW,{lines:ce,lineGenerator:ue,lineWidth:E},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:F.map((function(e,t){return(0,pS.jsx)(IV,bW({},e,{containerWidth:te,containerHeight:ne,data:e.data||ae,theme:ge,toggleSerie:e.toggleSerie?se:void 0}),"legend."+t)}))},Se=aj(R,ce,L);return k&&(_e.areas=(0,pS.jsx)(RW,{areaGenerator:le,areaOpacity:_,areaBlendMode:S,lines:ce},"areas")),B&&!1!==H&&(_e.slices=(0,pS.jsx)(VW,{slices:he,axis:H,debug:q,height:ne,tooltip:X,current:Ee,setCurrent:ke},"slices")),T&&(_e.points=(0,pS.jsx)(UW,{points:pe,symbol:C,size:M,color:ve,borderWidth:I,borderColor:me,enableLabel:N,label:P,labelYOffset:D},"points")),B&&K&&(null!==be&&(_e.crosshair=(0,pS.jsx)(CA,{width:te,height:ne,x:be.x,y:be.y,type:J},"crosshair")),null!==Ee&&(_e.crosshair=(0,pS.jsx)(CA,{width:te,height:ne,x:Ee.x,y:Ee.y,type:H},"crosshair"))),B&&z&&!1===H&&(_e.mesh=(0,pS.jsx)(HW,{points:pe,width:te,height:ne,margin:ee,current:be,setCurrent:xe,onMouseEnter:G,onMouseMove:V,onMouseLeave:W,onClick:U,tooltip:Z,debug:Y},"mesh")),(0,pS.jsx)(VL,{defs:Se,width:re,height:ie,margin:ee,role:$,children:a.map((function(t,n){return"function"==typeof t?(0,pS.jsx)(y.Fragment,{children:t(bW({},e,{innerWidth:te,innerHeight:ne,series:ce,slices:he,points:pe,xScale:de,yScale:fe,lineGenerator:ue,areaGenerator:le,currentPoint:be,setCurrentPoint:xe,currentSlice:Ee,setCurrentSlice:ke}))},n):_e[t]}))})};qW.propTypes=SW,qW.defaultProps=MW;var XW=QL(qW),KW=function(e){return(0,pS.jsx)(CL,{children:function(t){var n=t.width,r=t.height;return(0,pS.jsx)(XW,bW({width:n,height:r},e))}})},JW=function(e){var t=e.width,n=e.height,r=e.margin,i=e.pixelRatio,o=e.data,a=e.xScale,s=e.xFormat,u=e.yScale,l=e.yFormat,c=e.curve,d=e.layers,f=e.colors,h=e.lineWidth,p=e.enableArea,g=e.areaBaselineValue,v=e.areaOpacity,m=e.enablePoints,b=e.pointSize,x=e.pointColor,w=e.pointBorderWidth,E=e.pointBorderColor,k=e.enableGridX,_=e.gridXValues,S=e.enableGridY,T=e.gridYValues,C=e.axisTop,M=e.axisRight,A=e.axisBottom,I=e.axisLeft,O=e.legends,N=e.isInteractive,P=e.debugMesh,D=e.onMouseLeave,R=e.onClick,L=e.tooltip,j=e.canvasRef,F=(0,y.useRef)(null),B=mL(t,n,r),z=B.margin,Y=B.innerWidth,G=B.innerHeight,V=B.outerWidth,W=B.outerHeight,U=kL(),Z=(0,y.useState)(null),H=Z[0],q=Z[1],X=NW({data:o,xScale:a,xFormat:s,yScale:u,yFormat:l,width:Y,height:G,colors:f,curve:c,areaBaselineValue:g,pointColor:x,pointBorderColor:E}),K=X.lineGenerator,J=X.areaGenerator,$=X.series,Q=X.xScale,ee=X.yScale,te=X.points,ne=mW({points:te,width:Y,height:G,debug:P}),re=ne.delaunay,ie=ne.voronoi;(0,y.useEffect)((function(){j&&(j.current=F.current),F.current.width=V*i,F.current.height=W*i;var e=F.current.getContext("2d");e.scale(i,i),e.fillStyle=U.background,e.fillRect(0,0,V,W),e.translate(z.left,z.top),d.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:Y,innerHeight:G,series:$,points:te,xScale:Q,yScale:ee,lineWidth:h,lineGenerator:K,areaGenerator:J,currentPoint:H,setCurrentPoint:q}),"grid"===t&&U.grid.line.strokeWidth>0&&(e.lineWidth=U.grid.line.strokeWidth,e.strokeStyle=U.grid.line.stroke,k&&wV(e,{width:Y,height:G,scale:Q,axis:"x",values:_}),S&&wV(e,{width:Y,height:G,scale:ee,axis:"y",values:T})),"axes"===t&&xV(e,{xScale:Q,yScale:ee,width:Y,height:G,top:C,right:M,bottom:A,left:I,theme:U}),"areas"===t&&!0===p&&(e.save(),e.globalAlpha=v,J.context(e),$.forEach((function(t){e.fillStyle=t.color,e.beginPath(),J(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(K.context(e),$.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=h,e.beginPath(),K(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===m&&b>0&&te.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,b/2,0,2*Math.PI),e.fill(),w>0&&(e.strokeStyle=t.borderColor,e.lineWidth=w,e.stroke())})),"mesh"===t&&!0===P&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,ie),H&&function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()}(e,ie,H.index)),"legends"===t){var n=$.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();O.forEach((function(t){NV(e,bW({},t,{data:t.data||n,containerWidth:Y,containerHeight:G,theme:U}))}))}}))}),[F,V,W,d,U,K,$,Q,ee,k,_,S,T,C,M,A,I,O,te,m,b,H]);var oe=(0,y.useCallback)((function(e){var t=rj(F.current,e),n=t[0],r=t[1];if(!nj(z.left,z.top,Y,G,n,r))return null;var i=re.find(n-z.left,r-z.top);return te[i]}),[F,z,Y,G,re]),ae=NA(),se=ae.showTooltipFromEvent,ue=ae.hideTooltip,le=(0,y.useCallback)((function(e){var t=oe(e);q(t),t?se((0,y.createElement)(L,{point:t}),e):ue()}),[oe,q,se,ue,L]),ce=(0,y.useCallback)((function(e){ue(),q(null),H&&D&&D(H,e)}),[ue,q,D]),de=(0,y.useCallback)((function(e){if(R){var t=oe(e);t&&R(t,e)}}),[oe,R]);return(0,pS.jsx)("canvas",{ref:F,width:V*i,height:W*i,style:{width:V,height:W,cursor:N?"auto":"normal"},onMouseEnter:N?le:void 0,onMouseMove:N?le:void 0,onMouseLeave:N?ce:void 0,onClick:N?de:void 0})};JW.propTypes=TW,JW.defaultProps=AW;var $W=QL(JW),QW=(0,y.forwardRef)((function(e,t){return(0,pS.jsx)($W,bW({},e,{canvasRef:t}))})),eU=((0,y.forwardRef)((function(e,t){return(0,pS.jsx)(CL,{children:function(n){var r=n.width,i=n.height;return(0,pS.jsx)(QW,bW({width:r,height:i},e,{ref:t}))}})})),{axis:{ticks:{text:{fontSize:16,fill:"#333333"}}}});var tU=function(e){var t=function(e){var t=DE().sort((function(e,t){return e.Year.localeCompare(t.Year)})),n=[],r={};t.forEach((function(t){r.Papers?t.Year>r.Papers[r.Papers.length-1].x?r.Papers.push({x:t.Year,y:r.Papers[r.Papers.length-1].y+1}):r.Papers[r.Papers.length-1].y&&(r.Papers[r.Papers.length-1].y+=1):(r.Papers=[],r.Papers.push({x:t.Year,y:1}));var n=t[e];if(Array.isArray(n)){var i,o=(0,PE.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]?t.Year>r[a][r[a].length-1].x?r[a].push({x:t.Year,y:r[a][r[a].length-1].y+1}):r[a][r[a].length-1].y&&(r[a][r[a].length-1].y+=1):(r[a]=[],r[a].push({x:t.Year,y:1}))}}catch(s){o.e(s)}finally{o.f()}}}));for(var i=0,o=Object.entries(r);i<o.length;i++){var a=(0,m.Z)(o[i],2),s=a[0],u=a[1];n.push({id:s,data:u})}return n}(e.type);return t.length<1?(0,pS.jsx)(Ene,{}):(0,pS.jsx)("div",{style:{height:"450px",width:"100%",marginTop:"20px"},children:(0,pS.jsx)(KW,{data:t,margin:{top:25,right:200,bottom:50,left:60},xScale:{type:"time",format:"%Y",useUTC:!1,precision:"year",min:"auto",max:"auto"},colors:{scheme:"accent"},xFormat:"time:%Y",yScale:{type:"linear",min:"auto",max:"auto"},axisBottom:{format:"%Y",tickValues:"every year"},pointSize:16,pointBorderWidth:1,curve:"monotoneX",useMesh:!0,enableSlices:"x",pointLabelYOffset:-12,theme:eU,legends:[{anchor:"top-right",toggleSerie:!0,direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},nU=n(3431),rU=n(98092),iU={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),(0,rU.each)(n,(function(t,n){e.on(n,t)})),document.addEventListener("visibilitychange",(function(){t.keydown=!1}))},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),(0,rU.each)(t,(function(t,n){e.off(n,t)})),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},oU=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=(0,rU.clone)(iU);Object.assign(r,n);var i=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&((0,rU.each)(n,(function(e,n){r[n]=(0,rU.wrapBehavior)(t,e)})),this.events=r)};i.prototype=r,e.types[t]=i},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),aU=oU,sU=aU,uU=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),lU=uU,cU=n(5742);function dU(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return cU.fromTranslation(r,n),cU.multiply(e,r,t)}function fU(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return cU.fromRotation(r,n),cU.multiply(e,r,t)}function hU(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return cU.fromScaling(r,n),cU.multiply(e,r,t)}function pU(e,t,n){return cU.multiply(e,n,t)}function gU(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"t":dU(n,n,[o[1],o[2]]);break;case"s":hU(n,n,[o[1],o[2]]);break;case"r":fU(n,n,o[1]);break;case"m":pU(n,n,o[1])}}return n}var vU=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i},mU=function(e,t){return e===t},yU=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),bU=function(){function e(e){void 0===e&&(e=mU),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new yU(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new yU(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),xU=bU,wU=function(){function e(){this.linkedList=new xU}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),EU=wU,kU=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},_U=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},SU=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var TU=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),o=new EU,a=e.edges,s=void 0===a?[]:a;o.enqueue(t);for(var u="",l=function(){var e=o.dequeue();i.enter({current:e,previous:u}),kU(e,s,r?"target":void 0).forEach((function(t){i.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),i.leave({current:e,previous:u}),u=e};!o.isEmpty();)l()},CU=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},l=[],c=0,d=function e(t){s[t.id]=c,u[t.id]=c,c+=1,o.push(t),a[t.id]=!0;for(var r=kU(t.id,i,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),d=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[t.id]=Math.min(u[t.id],s[o]));else{var l=n.filter((function(e){return e.id===o}));l.length>0&&e(l[0]),u[t.id]=Math.min(u[t.id],u[o])}},f=0;f<r.length;f++)d(f);if(u[t.id]===s[t.id]){for(var h=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&l.push(h)}},f=0,h=n;f<h.length;f++){var p=h[f];s[p.id]||0===s[p.id]||d(p)}return l};function MU(e,t){return t?CU(e):function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=kU(t.id,i),o=function(t){var i=r[t];if(!a[i]){var o=n.filter((function(e){return e.id===i}));o.length>0&&e(o[0])}},u=0;u<r.length;++u)o(u)},l=0;l<n.length;l++){var c=n[l];if(!a[c.id]){u(c);for(var d=[];s.length>0;)d.push(s.pop());o.push(d)}}return o}(e)}var AU=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},IU=AU,OU=function(e,t){return AU(e)[t]?AU(e)[t].inDegree:0},NU=function(e,t){return AU(e)[t]?AU(e)[t].outDegree:0};function PU(e,t,n,r){r.enter({current:t,previous:n});var i=e.edges;kU(t,void 0===i?[]:i,"target").forEach((function(i){r.allowTraversal({previous:n,current:t,next:i})&&PU(e,i,t,r)})),r.leave({current:t,previous:n})}function DU(e,t,n){PU(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var RU=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=MU(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var l=u[0],c=l.id,d=[l],f=((r={})[c]=l,r),h=((i={})[c]=new Set,i);d.length>0;)for(var p=d.pop(),g=p.id,v=kU(g,e.edges),m=function(r){var i,a=v[r],s=e.nodes.find((function(e){return e.id===a}));if(a===g)o.push(((i={})[a]=p,i));else if(a in h){if(!h[g].has(s)){for(var u=!0,l=[s,p],c=f[g];h[a].size&&!h[a].has(c)&&(l.push(c),c!==f[c.id]);)c=f[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var m={},y=1;y<l.length;y+=1)m[l[y-1].id]=l[y];l.length&&(m[l[l.length-1].id]=l[0]),o.push(m)}h[a].add(p)}}else f[a]=p,d.push(s),h[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return o},LU=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},l=function e(u,l,c){var d=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return d;r.push(u),i.add(u);for(var f=c[u.id],h=0;h<f.length;h+=1){if((v=s[f[h]])===l){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),d=!0}else i.has(v)||e(v,l,c)&&(d=!0)}if(d)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(u);else for(h=0;h<f.length;h+=1){var v=s[f[h]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),d},c=e.nodes,d=void 0===c?[]:c,f=0;f<d.length;f+=1){var h=d[f],p=h.id;u[p]=f,s[f]=h}if(t&&n){var g=function(e){var n=t[e];u[d[e].id]=u[n],u[n]=0,s[0]=d.find((function(e){return e.id===n})),s[u[d[e].id]]=d[e]};for(f=0;f<t.length;f++)g(f)}for(var v=function(r){for(var i,o,s=1/0,l=0;l<r.length;l+=1)for(var c=r[l],d=0;d<c.length;d++){var f=u[c[d].id];f<s&&(s=f,o=l)}var h=r[o],p=[];for(l=0;l<h.length;l+=1){var g=h[l];p[g.id]=[];for(var v=0,m=kU(g.id,e.edges,"target").filter((function(e){return h.map((function(e){return e.id})).indexOf(e)>-1}));v<m.length;v++){var y=m[v];y!==g.id||!1===n&&t.indexOf(g.id)>-1?p[g.id].push(u[y]):a.push(((i={})[g.id]=g,i))}}return{component:h,adjList:p,minIdx:s}},m=0;m<d.length;){var y=d.filter((function(e){return u[e.id]>=m})),b=CU({nodes:y,edges:e.edges}).filter((function(e){return e.length>1}));if(0===b.length)break;var x=v(b),w=x.minIdx,E=x.adjList,k=x.component;if(!(k.length>1))break;k.forEach((function(e){o[e.id]=new Set}));var _=s[w];if(t&&n&&-1===t.indexOf(_.id))return a;l(_,_,E),m=w+1}return a},jU=function(e,t,n,r){return void 0===r&&(r=!0),t?LU(e,n,r):RU(e,n,r)},FU=function(e){var t=null,n=e.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var s={enter:function(e){var n=e.current,a=e.previous;if(o[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete o[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(i).length;){DU(e,Object.keys(i)[0],s)}return t},BU=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u=[],l={},c={},d={};o.forEach((function(e,n){var r=e.id;u.push(r),c[r]=1/0,r===t&&(c[r]=0)}));for(var f=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(c,o,l),i=t.id;if(l[i]=!0,c[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(i,s):_U(i,s),a.forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;c[a]>c[t.id]+s?(c[a]=c[t.id]+s,d[a]=[t.id]):c[a]===c[t.id]+s&&d[a].push(t.id)}))},p=0;p<f;p++)h();d[t]=[t];var g={};for(var v in c)c[v]!==1/0&&zU(t,v,d,g);var m={};for(var v in g)m[v]=g[v][0];return{length:c,path:m,allPath:g}};function zU(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=zU(e,a[o],n,r);if(!s)return;for(var u=0,l=s;u<l.length;u++){var c=l[u];(0,rU.isArray)(c)?i.push((0,nU.__spreadArray)((0,nU.__spreadArray)([],c,!0),[t],!1)):i.push([c,t])}}return r[t]=i,r[t]}var YU,GU=function(e,t,n,r,i){var o=BU(e,t,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},VU=function(e,t,n,r){var i;if(t===n)return[[t]];var o=e.edges,a=void 0===o?[]:o,s=[t],u=((i={})[t]=!0,i),l=[],c=[],d=r?kU(t,a,"target"):kU(t,a);for(l.push(d);s.length>0&&l.length>0;){var f=l[l.length-1];if(f.length){var h=f.shift();if(h&&(s.push(h),u[h]=!0,d=r?kU(h,a,"target"):kU(h,a),l.push(d.filter((function(e){return!u[e]})))),s[s.length-1]===n){var p=s.map((function(e){return e}));c.push(p);g=s.pop();u[g]=!1,l.pop()}}else{var g=s.pop();u[g]=!1,l.pop()}}return c},WU=function(e,t){for(var n=vU(e,t),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},UU=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u={},l={};o.forEach((function(e,t){var n=SU();e.clusterId=n,u[n]={id:n,nodes:[e]},l[e.id]={node:e,idx:t}}));var c=vU(e,t),d=[],f={};c.forEach((function(e,t){var n=0,r=o[t].id;f[r]={},e.forEach((function(e,t){if(e){n+=e;var i=o[t].id;f[r][i]=e}})),d.push(n)}));for(var h=0,p=function(){var e=!1;if(o.forEach((function(t){var n={};Object.keys(f[t.id]).forEach((function(e){var r=f[t.id][e],i=l[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var c=Math.floor(Math.random()*i.length),d=u[i[c]];d.nodes.push(t),t.clusterId=d.id}}})),!e)return"break";h++};h<r;){if("break"===p())break}Object.keys(u).forEach((function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]}));var g=[],v={};s.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=l[t].node.clusterId,a=l[r].node.clusterId,s="".concat(o,"---").concat(a);if(v[s])v[s].weight+=i,v[s].count++;else{var u={source:o,target:a,weight:i,count:1};v[s]=u,g.push(u)}}));var m=[];return Object.keys(u).forEach((function(e){m.push(u[e])})),{clusters:m,clusterEdges:g}},ZU=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,rU.clone)(this.arr);n.sort((function(e,t){return e-t}));var r=n[n.length-1],i=n[0];for(var o in this.arr)t[o]=(this.arr[o]-i)/(r-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),HU=ZU,qU=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};!function(e){e.EuclideanDistance="euclideanDistance"}(YU||(YU={}));var XU=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,rU.uniq)(r));var i={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=(0,rU.uniq)(r))})),i},KU=function(e,t,n){var r=XU(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i},JU=function(e,t,n,r){void 0===n&&(n=YU.EuclideanDistance);var i=0;if(n===YU.EuclideanDistance)i=new HU(e).euclideanDistance(new HU(t));return i},$U=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},QU=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new HU([]),i=0;i<n;i++)r=r.add(new HU(t[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new HU(t[i])).squareEuclideanDistance(o)}var s=[];e.forEach((function(){s.push([])}));for(i=0;i<n;i++){var u=new HU(t[i]);e[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var c=new HU(t[l]);s[i][l]=u.squareEuclideanDistance(c),e[i].clusterInertial+=s[i][l]}else s[i][l]=0}var d=0,f=2*n*a;for(i=0;i<n;i++){var h=e[i].clusterId;for(l=0;l<n;l++){var p=e[l].clusterId;if(i!==l&&h===p)d+=e[i].clusterInertial*e[l].clusterInertial/Math.pow(f,2)-s[i][l]/f}}return Number(d.toFixed(4))},eZ=function(e,t,n,r,i,o,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var l=e.nodes,c=void 0===l?[]:l,d=e.edges,f=void 0===d?[]:d,h=[];if(i){c.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var p=[];c.every((function(e){return e.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(c.map((function(e){return e.nodeType})))),c.forEach((function(e){e.properties.nodeType=p.findIndex((function(t){return t===e.nodeType}))})));var g=qU(c,o);h=KU(g,a,s)}var v=1,m={},y={};c.forEach((function(e,t){var n=String(v++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}}));var b=vU(e,t),x=[],w={},E=0;b.forEach((function(e,t){var n=0,r=c[t].id;w[r]={},e.forEach((function(e,t){if(e){n+=e;var i=c[t].id;w[r][i]=e,E+=e}})),x.push(n)})),E/=2;for(var k=1/0,_=1/0,S=0,T=[],C={};;){k=i&&c.every((function(e){return e.hasOwnProperty("properties")}))?$U(c,b,x,E)+QU(c,h)*u:$U(c,b,x,E),0===S&&(_=k,T=c,C=m);var M=k>0&&k>_&&k-_<r;if(k>_&&(T=c.map((function(e){return{node:e,clusterId:e.clusterId}})),C=(0,rU.clone)(m),_=k),M||S>100)break;S++,Object.keys(m).forEach((function(e){var t=0;f.forEach((function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),m[e].sumTot=t})),c.forEach((function(e,t){var r,o=m[e.clusterId],a=0,s=x[t]/(2*E),l=0,c=o.nodes;c.forEach((function(e){var n=y[e.id].idx;l+=b[t][n]||0}));var d=l-o.sumTot*s,p=c.filter((function(t){return t.id!==e.id})),g=[];p.forEach((function(e,t){g[t]=h[e.originIndex]}));var v=QU(p,h)*u,k=w[e.id];if(Object.keys(k).forEach((function(n){var o=y[n].node.clusterId;if(o!==e.clusterId){var l=m[o],c=l.nodes;if(c&&c.length){var f=0;c.forEach((function(e){var n=y[e.id].idx;f+=b[t][n]||0}));var p=f-l.sumTot*s,g=c.concat([e]),x=[];g.forEach((function(e,t){x[t]=h[e.originIndex]}));var w=QU(g,h)*u,E=p-d;i&&(E=p+w-(d+v)),E>a&&(a=E,r=l)}}})),a>0){r.nodes.push(e);var _=e.clusterId;e.clusterId=r.id;var S=o.nodes.indexOf(e);o.nodes.splice(S,1);var T=0,C=0;f.forEach((function(e){var t=e.source,i=e.target,o=y[t].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(T+=e[n]||1),(o===_&&a!==_||a===_&&o!==_)&&(C+=e[n]||1)})),r.sumTot=T,o.sumTot=C}}))}var A={},I=0;Object.keys(C).forEach((function(e){var t=C[e];if(t.nodes&&t.nodes.length){var n=String(I+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),C[n]=t,A[e]=n,delete C[e],I++)}else delete C[e]})),T.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&A[t.clusterId]&&(t.clusterId=A[t.clusterId])}));var O=[],N={};f.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=y[t].node.clusterId,a=y[r].node.clusterId,s="".concat(o,"---").concat(a);if(N[s])N[s].weight+=i,N[s].count++;else{var u={source:o,target:a,weight:i,count:1};N[s]=u,O.push(u)}}));var P=[];return Object.keys(C).forEach((function(e){P.push(C[e])})),{clusters:P,clusterEdges:O}},tZ=function(e,t,n,r,i,o,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),eZ(e,t,n,r,!0,i,o,a,s)},nZ=function(e,t){var n;void 0===t&&(t=1);for(var r=(0,rU.clone)(e),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var e=IU({nodes:o,edges:s}),r=Object.keys(e);r.sort((function(t,n){var r,i;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(i=e[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=e[i])||void 0===n?void 0:n.degree)>=t)return"break";var a=o.findIndex((function(e){return e.id===i}));o.splice(a,1),s=s.filter((function(e){return!(e.source===i||e.target===i)}))};;){if("break"===u())break}return{nodes:o,edges:s}},rZ=function(e,t,n){var r=[];if(e===YU.EuclideanDistance)r=t[n];else r=[];return r},iZ=function(e,t,n,r,i,o){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=YU.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===YU.EuclideanDistance&&!s.every((function(e){return e.hasOwnProperty(n)})))return c;var d=[],f=[];if(o===YU.EuclideanDistance&&(d=qU(s,n),f=KU(d,r,i)),!f.length)return c;for(var h=(0,rU.uniq)(f.map((function(e){return e.join("")}))),p=Math.min(t,s.length,h.length),g=0;g<s.length;g++)s[g].originIndex=g;var v=[],m=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);if(o===YU.EuclideanDistance)v[g]=f[b];else v[g]=[];m.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var x=-1/0,w=0,E=function(e){if(!m.includes(e)){for(var t=0,n=0;n<v.length;n++){var r=0;if(o===YU.EuclideanDistance)r=JU(f[s[e].originIndex],v[n],o);t+=r}var i=t/v.length;i>x&&!v.find((function(t){return(0,rU.isEqual)(t,rZ(o,f,s[e].originIndex))}))&&(x=i,w=e)}},k=0;k<s.length;k++)E(k);v[g]=rZ(o,f,w),m.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var _=0;;){for(g=0;g<s.length;g++){var S=0,T=1/0;if(0!==_||!m.includes(g)){for(var C=0;C<v.length;C++){var M=0;if(o===YU.EuclideanDistance)M=JU(f[g],v[C],o);M<T&&(T=M,S=C)}if(void 0!==s[g].clusterId)for(var A=y[Number(s[g].clusterId)].length-1;A>=0;A--)y[Number(s[g].clusterId)][A].id===s[g].id&&y[Number(s[g].clusterId)].splice(A,1);s[g].clusterId=String(S),y[S].push(s[g])}}var I=!1;for(g=0;g<y.length;g++){var O=y[g],N=new HU([]);for(C=0;C<O.length;C++)N=N.add(new HU(f[O[C].originIndex]));var P=N.avg(O.length);P.equal(new HU(v[g]))||(I=!0,v[g]=P.getArr())}if(_++,s.every((function(e){return void 0!==e.clusterId}))&&I||_>=1e3)break}var D=[],R={};return l.forEach((function(e){var t,n,r=e.source,i=e.target,o=null===(t=s.find((function(e){return e.id===r})))||void 0===t?void 0:t.clusterId,a=null===(n=s.find((function(e){return e.id===i})))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(R[u])R[u].count++;else{var l={source:o,target:a,count:1};R[u]=l,D.push(l)}})),{clusters:y,clusterEdges:D}},oZ=function(e,t){var n=new HU(t),r=n.norm2(),i=new HU(e),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},aZ=function(e,t,n,r,i){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,rU.clone)(e.filter((function(e){return e.id!==t.id}))),a=e.findIndex((function(e){return e.id===t.id})),s=qU(e,n),u=KU(s,r,i),l=u[a],c=[];return o.forEach((function(e,n){if(e.id!==t.id){var r=u[n],i=oZ(r,l);c.push(i),e.cosineSimilarity=i}})),o.sort((function(e,t){return t.cosineSimilarity-e.cosineSimilarity})),{allCosineSimilarity:c,similarNodes:o}},sZ=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),uZ=sZ,lZ=function(e,t){return e-t},cZ=function(){function e(e){void 0===e&&(e=lZ),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),dZ=cZ,fZ=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var l=new dZ((function(e,n){return t?e.weight-n.weight:0}));for(_U(s.id,a).forEach((function(e){l.insert(e)}));!l.isEmpty();){var c=l.delMin(),d=c.source,f=c.target;u.has(d)&&u.has(f)||(n.push(c),u.has(d)||(u.add(d),_U(d,a).forEach((function(e){l.insert(e)}))),u.has(f)||(u.add(f),_U(f,a).forEach((function(e){l.insert(e)}))))}return n},hZ=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(e){return e}));t&&s.sort((function(e,t){return e.weight-t.weight}));for(var u=new uZ(i.map((function(e){return e.id})));s.length>0;){var l=s.shift(),c=l.source,d=l.target;u.connected(c,d)||(n.push(l),u.union(c,d))}return n},pZ=function(e,t,n){return n?{prim:fZ,kruskal:hZ}[n](e,t):hZ(e,t)},gZ=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,l=e.edges,c=void 0===l?[]:l,d=u.length,f={},h={},p=0;p<d;++p){f[v=(w=u[p]).id]=1/d,h[v]=1/d}for(var g=IU(e);a>0&&i>t;){o=0;for(p=0;p<d;++p){var v=(w=u[p]).id;if(r=0,0===g[w.id].inDegree)f[v]=0;else{for(var m=kU(v,c,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(r+=h[b]/x)}f[v]=n*r,o+=f[v]}}o=(1-o)/d,i=0;for(p=0;p<d;++p){var w;r=f[v=(w=u[p]).id]+o,i+=Math.abs(r-h[v]),h[v]=r}a-=1}return h},vZ="-1",mZ=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r},yZ=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=vZ),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),bZ=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new yZ(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new mZ(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new mZ(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}(),xZ=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||vZ,edgeLabel:r||"-1",nodeLabel2:i||vZ}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),wZ=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new xZ(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new bZ(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==vZ&&n.addNode(t,o),s!==vZ&&n.addNode(r,s),o!==vZ&&s!==o&&n.addEdge(void 0,t,r,a)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),EZ=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),kZ=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,l=void 0===u?10:u,c=e.directed,d=void 0!==c&&c,f=e.verbose,h=void 0!==f&&f;this.graphs=t,this.dfsCode=new wZ,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=d,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],d=o[c.to].label;t.to===c.to||n>d||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=d)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),i=r.nodeMap,o=new wZ,a={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=i[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new xZ(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),l=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[u[0]].toNode,d={},f=!1,h=0,p=n?-1:0,g=function(t){if(f)return"break";s.forEach((function(n){var i=new EZ(n),a=e.findBackwardEdge(r,i.edges[u[t]],i.edges[u[0]],i);a&&(d[a.label]||(d[a.label]={projected:[],edgeLabel:a.label}),d[a.label].projected.push({graphId:r.id,edge:d,preNode:n}),h=o.dfsEdgeList[u[t]].fromNode,f=!0)}))},v=u.length-1;v>p;v--){if("break"===g(v))break}if(f){var m=e.findMinLabel(d);o.dfsEdgeList.push(new xZ(c,h,vZ,m.edgeLabel,vZ));var y=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(d[m.edgeLabel].projected)}var b={};f=!1;var x=0;s.forEach((function(t){var n=new EZ(t),o=e.findForwardPureEdges(r,n.edges[u[0]],l,n);o.length>0&&(f=!0,x=c,o.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var w=u.length,E=function(t){if(f)return"break";var n=u[t];s.forEach((function(t){var a=new EZ(t),s=e.findForwardRmpathEdges(r,a.edges[n],l,a);s.length>0&&(f=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(v=0;v<w;v++){if("break"===E(v))break}if(!f)return!0;var k=e.findMinLabel(b);o.dfsEdgeList.push(new xZ(x,c+1,vZ,k.edgeLabel,k.nodeLabel2));var _=o.dfsEdgeList.length-1;return t.dfsEdgeList[_]===o.dfsEdgeList[_]&&a(b["".concat(k.edgeLabel,"-").concat(k.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,rU.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach((function(e){for(var u=t.graphs[e.graphId],l=u.nodeMap,c=new EZ(e),d=r.length-1;d>=0;d--){var f=t.findBackwardEdge(u,c.edges[r[d]],c.edges[r[0]],c);if(f){var h="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(f.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:f.label}),s[h].projected.push({graphId:e.graphId,edge:f,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,c.edges[r[0]],o,c).forEach((function(t){var n="".concat(i,"-").concat(t.label,"-").concat(l[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:t.label,nodeLabel2:l[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(n){t.findForwardRmpathEdges(u,c.edges[r[n]],o,c).forEach((function(i){var o="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(l[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:l[i.to].label}),a[o].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(d=0;d<r.length;d++)p(d)}})),Object.keys(s).forEach((function(e){var n=s[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new xZ(i,r,"-1",o,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var n=a[e],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new xZ(r,i+1,vZ,o,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var d=i[l]||0;d++,i[l]=d}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,d="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),f="".concat(r,"-").concat(c,"-").concat(i);if(!o[f]){var h=o[f]||0;h++,o[f]=h}s[d]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new xZ(0,1,o,a,s)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),_Z="cluster",SZ=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,o=void 0===i?_Z:i,a=e.edgeLabelProp,s=void 0===a?_Z:a,u=function(e,t,n,r){var i={};return Object.keys(e).forEach((function(o,a){var s=e[o],u=new bZ(a,!0,t),l={};s.nodes.forEach((function(e,t){u.addNode(t,e[n]),l[e.id]=t})),s.edges.forEach((function(e,t){var n=l[e.source],i=l[e.target];u.addEdge(-1,n,i,e[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(t,r,o,s),l=e.minSupport,c=e.maxNodeNum,d=e.minNodeNum,f=e.verbose,h=e.top,p=new kZ({graphs:u,minSupport:l,maxNodeNum:c,minNodeNum:d,top:h,verbose:f,directed:r});p.run();var g=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(p.frequentSubgraphs,o,s);return g},TZ=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(CZ(o,e,t,n,r))})),i},CZ=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},MZ=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var d=new Set(c),f=l.filter((function(e){return d.has(e)}));if(f&&f.length){for(var h={},p=f.length,g=0;g<p;g++){var v=i[f[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},AZ=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},IZ=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},OZ=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(SU)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},NZ=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},PZ=function(e,t,n,r,i,o,a,s,u,l,c){var d,f="".concat(t.id,"-").concat(n.id);if(l&&l[f])return l[f];var h=c?c[f]:void 0;if(!h){var p=((d={})[f]={start:r[t.id].idx,end:r[n.id].idx,distance:i},d);h=(c=MZ(p,o,e,c))[f]}return AZ(h,a,s,u)},DZ=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},RZ=function(e,t,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var l=WU(e,n),c=WU(t,n),d=NZ(e.nodes,l,n),f=NZ(t.nodes,c,n),h=IZ(e.nodes,o),p=h.nodeMap,g=h.nodeLabelMap,v=IZ(t.nodes,o),m=v.nodeMap,y=v.nodeLabelMap;OZ(e.edges,a,p);var b=OZ(t.edges,a,m).edgeLabelMap,x=[];null===c||void 0===c||c.forEach((function(e){x=x.concat(e)})),i||(i=Math.max.apply(Math,(0,nU.__spreadArray)((0,nU.__spreadArray)([],x,!1),[2],!1))),r||(r=i);var w=TZ(e,l,o,r),E=TZ(t,c,o,r),k=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,d=e.neighborNum-1;u<o;){for(var f=c[1+Math.floor(Math.random()*d)],h=0;(a["".concat(r,"-").concat(f)]||a["".concat(f,"-").concat(r)])&&(f=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(f)]={start:r,end:f,distance:i[r][f]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),w,l),_=MZ(k,w,e),S=SZ({graphs:_,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),T=S.length,C=[];S.forEach((function(e,t){C[t]={},Object.keys(_).forEach((function(n){var r=_[n],i=AZ(r,e,o,a);C[t][n]=i}))}));var M=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(C,T,S),A=M.structure,I=M.structureCountMap,O=t.nodes[0],N=[],P=null===(s=t.nodes[0])||void 0===s?void 0:s[o],D=-1/0;t.nodes.forEach((function(e){var t=e[o],n=g[t];(null===n||void 0===n?void 0:n.length)>D&&(D=n.length,N=n,P=t,O=e)}));var R={},L={},j={},F={},B={},z={};Object.keys(y).forEach((function(r,i){B[r]=[],n&&(z[r]=[]);var s=-1/0,u=y[r],l={};u.forEach((function(e){var t=f["".concat(O.id,"-").concat(e.id)];if(t&&B[r].push(t),s<t&&(s=t),l["".concat(O.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var i=f["".concat(e.id,"-").concat(O.id)];i&&z[r].push(i)}})),B[r]=B[r].sort((function(e,t){return e-t})),n&&(z[r]=z[r].sort((function(e,t){return e-t}))),L=MZ(l,E,t,L);var c=[];if(Object.keys(l).forEach((function(e){if(j[e])c.push(j[e]);else{var t=L[e];j[e]=AZ(t,A,o,a),c.push(j[e])}})),c=c.sort((function(e,t){return t-e})),F["".concat(O.id,"-").concat(r)]=c,r!==P)for(var h=function(t){var n=N[t],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return N.splice(t,1),"continue";for(var l=!1,f=0;f<u;f++)if(s.dists[f]>B[r][f]){l=!0;break}if(l)return N.splice(t,1),"continue";var h={};i.neighbors.forEach((function(e){var t=d["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}})),_=MZ(h,w,e,_);var g=[];Object.keys(h).forEach((function(e){if(I[e])g.push(I[e]);else{var t=_[e];I[e]=AZ(t,A,o,a),g.push(I[e])}})),g=g.sort((function(e,t){return t-e}));var v=!1;for(f=0;f<u;f++)if(g[f]<c[f]){v=!0;break}return v?(N.splice(t,1),"continue"):void 0},g=((null===N||void 0===N?void 0:N.length)||0)-1;g>=0;g--)h(g)}));var Y=[];null===N||void 0===N||N.forEach((function(r){for(var s=p[r.id].idx,u=CZ(e.nodes,l[s],s,o,i).neighbors,c=!1,f=u.length-1;f>=0;f--){if(u.length+1<t.nodes.length)return void(c=!0);var h=u[f],g=h[o];if(y[g]&&y[g].length)if(B[g]&&B[g].length){var v="".concat(r.id,"-").concat(h.id),b=d[v],x=B[g].length-1;if(b>B[g][x])u.splice(f,1);else{if(n){var E="".concat(h.id,"-").concat(r.id),k=d[E];if(x=z[g].length-1,k>z[g][x]){u.splice(f,1);continue}}var S=I[v]?I[v]:PZ(e,r,h,p,b,w,A,o,a,I,_),T="".concat(O.id,"-").concat(g);if(S<F[T][F[T].length-1])u.splice(f,1);else{var C=DZ(R,g,m,y),M=C.minPatternNodeLabelDegree;C.minPatternNodeLabelInDegree,C.minPatternNodeLabelOutDegree;p[h.id].degree<M&&u.splice(f,1)}}}else u.splice(f,1);else u.splice(f,1)}c||Y.push({nodes:[r].concat(u)})}));var G=BU(t,O.id,!1).length,V={};n?(Object.keys(G).forEach((function(e){var t=m[e].node[o];V[t]?V[t].push(G[e]):V[t]=[G[e]]})),Object.keys(V).forEach((function(e){V[e].sort((function(e,t){return e-t}))}))):V=B;for(var W=function(r){var i=Y[r],s=i.nodes[0],u={},l={};i.nodes.forEach((function(e,t){l[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[o];u[n]?u[n]++:u[n]=1}));var c=[],d={};e.edges.forEach((function(e){l[e.source]&&l[e.target]&&(c.push(e),d[e[a]]?d[e[a]]++:d[e[a]]=1,l[e.source].degree++,l[e.target].degree++,l[e.source].outDegree++,l[e.target].inDegree++)}));for(var f=Object.keys(b).length,h=!1,g=0;g<f;g++){var v=Object.keys(b)[g];if(!d[v]||d[v]<b[v].length){h=!0;break}}if(h)return Y.splice(r,1),"continue";var x=c.length;if(x<t.edges.length)return Y.splice(r,1),"break";var w=!1,E=function(e){var t=c[e],r=t[a],i=b[r];if(!i||!i.length)return d[r]--,i&&d[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue");var s=l[t.source].node[o],u=l[t.target].node[o],f=!1;return i.forEach((function(e){var t=m[e.source].node,r=m[e.target].node;t[o]===s&&r[o]===u&&(f=!0),n||t[o]!==u||r[o]!==s||(f=!0)})),f?void 0:(d[r]--,i&&d[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue"))};for(g=x-1;g>=0;g--){if("break"===E(g))break}if(w)return Y.splice(r,1),"continue";i.edges=c;var k=BU(i,i.nodes[0].id,!1).length;if(Object.keys(k).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!w){if(k[e]===1/0){var t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);var n=i.nodes.indexOf(l[e].node);return i.nodes.splice(n,1),void(l[e]=void 0)}var r=p[e].node[o];if(!V[r]||!V[r].length||k[e]>V[r][V[r].length-1]){t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);n=i.nodes.indexOf(l[e].node);i.nodes.splice(n,1),l[e]=void 0}}})),w)return Y.splice(r,1),"continue";for(var _=!0,S=0;_&&!w;){if(_=!1,n?l[s.id].degree<m[O.id].degree||l[s.id].inDegree<m[O.id].inDegree||l[s.id].outDegree<m[O.id].outDegree:l[s.id].degree<m[O.id].degree){w=!0;break}if(u[s[o]]<y[s[o]].length){w=!0;break}for(var T=i.nodes.length-1;T>=0;T--){var C=i.nodes[T],M=l[C.id].degree,A=l[C.id].inDegree,I=l[C.id].outDegree,N=C[o],P=DZ(R,N,m,y),D=P.minPatternNodeLabelDegree,L=P.minPatternNodeLabelInDegree,j=P.minPatternNodeLabelOutDegree;if(n?M<D||A<L||I<j:M<D){if(u[C[o]]--,u[C[o]]<y[C[o]].length){w=!0;break}i.nodes.splice(T,1),l[C.id]=void 0,_=!0}}if(w||!_&&0!==S)break;for(var F=(x=c.length)-1;F>=0;F--){var B=c[F];if(!l[B.source]||!l[B.target]){c.splice(F,1);var z=B[a];if(d[z]--,l[B.source]&&(l[B.source].degree--,l[B.source].outDegree--),l[B.target]&&(l[B.target].degree--,l[B.target].inDegree--),b[z]&&d[z]<b[z].length){w=!0;break}_=!0}}S++}return w||w||i.nodes.length<t.nodes.length||c.length<t.edges.length?(Y.splice(r,1),"continue"):void 0},U=Y.length-1;U>=0;U--){if("break"===W(U))break}var Z=Y.length,H=function(e){var t=Y[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=Y[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&Y.splice(e,1)},i=Z-1;i>e;i--)r(i);Z=Y.length};for(U=0;U<=Z-1;U++)H(U);return Y}}},LZ=function(){function e(e){void 0===e&&(e=10),this.linkedList=new xU,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),jZ=LZ,FZ=FU,BZ={getAdjMatrix:vU,breadthFirstSearch:TU,connectedComponent:MU,getDegree:IU,getInDegree:OU,getOutDegree:NU,detectCycle:FU,detectDirectedCycle:FZ,detectAllCycles:jU,detectAllDirectedCycle:LU,detectAllUndirectedCycle:RU,depthFirstSearch:DU,dijkstra:BU,findAllPath:VU,findShortestPath:GU,floydWarshall:WU,labelPropagation:UU,louvain:eZ,iLouvain:tZ,kCore:nZ,kMeans:iZ,cosineSimilarity:oZ,nodesCosineSimilarity:aZ,minimumSpanningTree:pZ,pageRank:gZ,getNeighbors:kU,Stack:jZ,GADDI:RZ},zZ=n(88679),YZ=n(50907);function GZ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function VZ(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function WZ(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function UZ(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function ZZ(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function HZ(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function qZ(e,t){return e[0]*t[0]+e[1]*t[1]}function XZ(e,t){return e[0]===t[0]&&e[1]===t[1]}var KZ=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},JZ=(function(){var e=function(){var e=new YZ.WT(2);return YZ.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),gU),$Z=function(e){return function(t,n){return t[e]-n[e]}},QZ=function(e,t,n){return e>=t&&e<=n},eH=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,l=r.y-n.y,c=a*l-s*u,d=1/c;if(c*c>1e-4*(a*a+s*s)*(u*u+l*l)){var f=(i*l-o*u)*d,h=(i*s-o*a)*d;return QZ(f,0,1)&&QZ(h,0,1)?{x:e.x+f*a,y:e.y+f*s}:null}return null},tH=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,l=1;l<a.length&&!(u=eH(a[l-1],a[l],s,t));l++);return u},nH=function(e,t){var n=e.x,r=e.y,i=e.r,o=t.x-n,a=t.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},rH=function(e,t){var n=e.rx,r=e.ry,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},iH=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),zZ.kK(r,r,t),{x:r[0],y:r[1]}},oH=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=cU.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[e.x,e.y,n];return zZ.kK(i,i,r),{x:i[0],y:i[1]}},aH=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,l=i*o-r*a;return{x:-(a*s-i*u)/l,y:-(r*u-o*s)/l}},sH=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},uH=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n},lH=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t},cH=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];i[a][s]=1,t||(i[s][a]=1)})),i},dH=function(e,t){e.translate(t.x,t.y)},fH=function(e,t,n,r){void 0===r&&(r={duration:500});var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),a=t.x-o.minX,s=t.y-o.minY;if(n){var u=a*i[0],l=s*i[4],c=0,d=0,f=0,h=0;e.animate((function(e){return i=JZ(i,[["t",(f=u*e)-c,(h=l*e)-d]]),c=f,d=h,{matrix:i}}),r)}else{var p=JZ(i,[["t",a,s]]);e.setMatrix(p)}},hH=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;(0,rU.isArray)(t)||(r=[t,t]),(0,rU.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=JZ(n,[["s",r[0],r[1]]]),e.setMatrix(n)},pH=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=JZ(n,[["r",t]]),e.setMatrix(n)},gH=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n.forEach((function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)})),r};function vH(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var mH=function(e,t,n){var r=!1,i=e.length;function o(e){return Math.abs(e)<1e-6?0:e<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],u=e[(a+1)%i];if(vH(s,u,[t,n]))return!0;o(s[1]-n)>0!==o(u[1]-n)>0&&o(t-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},yH=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},bH=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var i=e[r],o=e[r+1];t.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var i=n(e),o=n(t);if(!yH(i,o))return!1;var a=!1;if((0,rU.each)(t,(function(t){if(mH(e,t[0],t[1]))return a=!0,!1})),a)return!0;if((0,rU.each)(e,(function(e){if(mH(t,e[0],e[1]))return a=!0,!1})),a)return!0;var s=r(e),u=r(t),l=!1;return(0,rU.each)(u,(function(e){if(function(e,t){var n=!1;return(0,rU.each)(e,(function(e){if(eH(e.from,e.to,t.from,t.to))return n=!0,!1})),n}(s,e))return l=!0,!1})),l},xH=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),wH=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},EH=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},kH=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=0,o=[],a=0;a<4;a++){var s=wH(r,n[a]),u=s[0],l=s[1],c=s[2],d=s[3];o[a]=eH({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:l},{x:c,y:d}),o[a]&&(i+=1)}return[o,i]},_H=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=wH(r,n[a]),u=s[0],l=s[1],c=s[2],d=s[3],f=EH(t,new xH(u,l,c,d));(f=Math.abs(f-.5))>=0&&f<=1&&(o+=1,i=f<i?f:i)}return 0===o?-1:i},SH=function(e){var t=0,n=0;if(e.length>0){for(var r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}t/=e.length,n/=e.length}return{x:t,y:n}},TH=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},CH=function(e,t){var n,r=t.x1,i=t.y1,o=t.x2-r,a=t.y2-i,s=e.x-r,u=e.y-i,l=s*o+u*a;n=l<=0||(l=(s=o-s)*o+(u=a-u)*a)<=0?0:l*l/(o*o+a*a);var c=s*s+u*u-n;return c<0&&(c=0),c},MH=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},AH=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,i=e.y>t.y+t.height,o=e.y<t.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(o&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!i&&!o)return Math.pow(t.x-e.x,2);if(r&&!i&&!o)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},IH=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t.x,s=t.y,u=[i-n,o-r];if(XZ(u,[0,0]))return NaN;var l=[-u[1],u[0]];HZ(l,l);var c=[a-n,s-r];return Math.abs(qZ(c,l))},OH=function(e,t,n){return e+(t-e)*n},NH="rgb(95, 149, 255)",PH="rgb(0, 0, 0)",DH="rgb(247, 250, 255)",RH="rgb(239, 244, 255)",LH="rgb(253, 253, 253)",jH="rgb(250, 250, 250)",FH="rgb(224, 224, 224)",BH="rgb(234, 234, 234)",zH="#4572d9",YH={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:NH,fill:RH},size:20,color:NH,linkPoints:{size:8,lineWidth:1,fill:DH,stroke:NH}},nodeStateStyles:{active:{fill:DH,stroke:NH,lineWidth:2,shadowColor:NH,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:NH,lineWidth:4,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:zH,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:DH,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:jH,stroke:FH,lineWidth:1}},edgeLabel:{style:{fill:PH,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:FH,lineAppendWidth:2},color:FH},edgeStateStyles:{active:{stroke:NH,lineWidth:1},selected:{stroke:NH,lineWidth:2,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:NH,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:BH,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:PH,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:LH,lineWidth:1,stroke:FH,r:5,width:20,height:10},size:[20,5],color:FH,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:NH,lineWidth:1,fill:DH},selected:{stroke:NH,lineWidth:2,fill:LH,shadowColor:NH,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:zH,lineWidth:2,fill:LH,"text-shape":{fontWeight:500}},inactive:{stroke:FH,fill:LH,lineWidth:1},disable:{stroke:BH,fill:jH,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},GH={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},VH=Math.PI,WH=Math.sin,UH=Math.cos,ZH=WH(VH/8),HH=UH(VH/8),qH=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=iH(r,o),i=iH(i,o)}var a=r.x,s=r.y,u=i.x,l=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:l,width:u-a,height:l-s}},XH=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),i=e.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||YH.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],l=[e.endPoint.x,e.endPoint.y],c=r.height/2,d=r.height/2,f=c*ZH,h=c*HH,p=d*ZH,g=d*HH;if(u[0]===l[0]&&u[1]===l[1]){switch(a){case"top":u=[s[0]-f,s[1]-h],l=[s[0]+p,s[1]-g];break;case"top-right":c=r.height/2,d=r.width/2,u=[s[0]+(f=c*ZH),s[1]-(h=c*HH)],l=[s[0]+(g=d*HH),s[1]-(p=d*ZH)];break;case"right":c=r.width/2,d=r.width/2,u=[s[0]+(h=c*HH),s[1]-(f=c*ZH)],l=[s[0]+(g=d*HH),s[1]+(p=d*ZH)];break;case"bottom-right":c=r.width/2,d=r.height/2,u=[s[0]+(h=c*HH),s[1]+(f=c*ZH)],l=[s[0]+(p=d*ZH),s[1]+(g=d*HH)];break;case"bottom":c=r.height/2,d=r.height/2,u=[s[0]+(f=c*ZH),s[1]+(h=c*HH)],l=[s[0]-(p=d*ZH),s[1]+(g=d*HH)];break;case"bottom-left":c=r.height/2,d=r.width/2,u=[s[0]-(f=c*ZH),s[1]+(h=c*HH)],l=[s[0]-(g=d*HH),s[1]+(p=d*ZH)];break;case"left":c=r.width/2,d=r.width/2,u=[s[0]-(h=c*HH),s[1]+(f=c*ZH)],l=[s[0]-(g=d*HH),s[1]-(p=d*ZH)];break;case"top-left":c=r.width/2,d=r.height/2,u=[s[0]-(h=c*HH),s[1]-(f=c*ZH)],l=[s[0]-(p=d*ZH),s[1]-(g=d*HH)];break;default:c=r.width/2,d=r.width/2,u=[s[0]-(f=c*ZH),s[1]-(h=c*HH)],l=[s[0]+(p=d*ZH),s[1]-(g=d*HH)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[l[0],l[1]],l=[v[0],v[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(c+o)/c,b=(d+o)/d;!1===i.clockwise&&(y=(d+o)/d,b=(c+o)/c);var x=UZ([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],E=UZ([0,0],[l[0]-s[0],l[1]-s[1]],b),k=[s[0]+E[0],s[1]+E[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:l[0],y:l[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:k[0],y:k[1]}],e},KH=function(e,t,n,r,i){var o=1e-4,a=[],s=null===e||void 0===e?void 0:e.getPoint(t);if(!s)return{x:0,y:0,angle:0};if(t<o)a=e.getStartTangent().reverse();else if(t>.9999)a=e.getEndTangent();else{var u=null===e||void 0===e?void 0:e.getPoint(t+o);a.push([s.x,s.y]),a.push([u.x,u.y])}var l=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(l<0&&(l+=2*VH),n&&(s.x+=UH(l)*n,s.y+=WH(l)*n),r){var c=l-VH/2;l>.5*VH&&l<1.5*VH&&(c-=VH),s.x+=UH(c)*r,s.y+=WH(c)*r}var d={x:s.x,y:s.y,angle:l};return i?(l>.5*VH&&l<1.5*VH&&(l-=VH),(0,nU.__assign)({rotate:l},d)):d},JH=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},$H=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)},QH=function(e,t){"function"===typeof t&&JH(e,t)},eq=function(e,t){"function"===typeof t&&$H(e,t)},tq=function(e,t){return t*(GH[e]||1)},nq=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach((function(e){r.test(e)?n+=t:n+=tq(e,t)})),[n,t]},rq=function(e,t){var n=[],r={},i={};e.forEach((function(e){i[e.id]=e})),e.forEach((function(e,t){var o=(0,rU.clone)(e);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if((0,rU.isString)(e.parentId)){var l=r[e.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var c={id:e.parentId,children:[o]};r[c.id]=c,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(t||[]).forEach((function(e){o[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}}));var a=0;return n.forEach((function(e){e.depth=a+10,JH(e,(function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var i=o[e.id];return i&&(i.depth=e.depth),!0}))})),n},iq=function(e,t,n){var r,i,o=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach((function(e){if(!s)return e.id===t?(i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void QH(e,(function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},o=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!o||(u=e.parentId||e.comboId||"root",i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,s=!0,!1)}))}));var l=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(l>-1&&o.splice(l,1),s||(i={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var c=!1;if(n){var d=0;(e||[]).forEach((function(e){c||QH(e,(function(e){return n!==e.id||(c=!0,e.children?e.children.push(i):e.children=[i],d=e.depth,"node"===i.itemType?i.depth=d+2:i.depth=d+1,!1)}))}))}else n&&c||"node"===i.itemType||e.push(i);var f=i.depth;QH(i,(function(e){return"node"===e.itemType?f+=2:f+=1,e.depth=f,!0}))}return e},oq=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return e.forEach((function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)})),r},aq=function(e){var t=(0,rU.isNumber)(e.x)||(0,rU.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,rU.isNumber)(e.style.r)||(0,rU.isNumber)(e.style.width)||(0,rU.isNumber)(e.style.height)||(0,rU.isNumber)(e.style.rx)||(0,rU.isNumber)(e.style.ry)),t},sq=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if((0,rU.isObject)(r)&&!(0,rU.isArray)(r)){var i={};Object.keys(r).forEach((function(e){var t=r[e];("img"!==e||(0,rU.isString)(t))&&(i[e]=(0,rU.clone)(t))})),t[n]=i}else t[n]=(0,rU.clone)(r)})),t},uq=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,r=e.combos,i=void 0===r?[]:r;if(!t&&!n){var o=!0;return QH(e,(function(e){return!!(0,rU.isString)(e.id)||(o=!1,!1)})),o}var a=(t||[]).find((function(e){return!(0,rU.isString)(e.id)}));if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(t||[]).map((function(e){return e.id})),u=null===i||void 0===i?void 0:i.map((function(e){return e.id})),l=(0,nU.__spreadArray)((0,nU.__spreadArray)([],s,!0),u,!0),c=(n||[]).find((function(e){return!l.includes(e.source)||!l.includes(e.target)}));return!c||(console.warn("G6 Warning Tips: The source %c".concat(c.source,"%c or the target %c").concat(c.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},lq=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;(0,rU.each)(e,(function(e){(0,rU.each)(e,(function(t,n){(0,rU.isString)(t)&&(e[n]={type:t})}))}))},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],i=[];(0,rU.each)(r||[],(function(e){var r=aU.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),i.push(t))})),this.currentBehaves=i},e.mergeBehaviors=function(e,t){return(0,rU.each)(t,(function(t){e.indexOf(t)<0&&((0,rU.isString)(t)&&(t={type:t}),e.push(t))})),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach((function(e){var r="";r=(0,rU.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)})),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),(0,rU.each)(this.currentBehaves,(function(e){e.delegate&&e.delegate.remove(),e.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var i,o=this;if(i=(0,rU.isArray)(t)?t:[t],(0,rU.isArray)(n))return(0,rU.each)(n,(function(t){o.modes[t]?o.modes[t]=r?e.mergeBehaviors(o.modes[t]||[],i):e.filterBehaviors(o.modes[t]||[],i):r&&(o.modes[t]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],i):e.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){(0,rU.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),cq=lq,dq="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",fq=new RegExp("([a-z])["+dq+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+dq+"]*,?["+dq+"]*)+)","ig"),hq=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+dq+"]*,?["+dq+"]*","ig"),pq=function(e){if(!e)return null;if((0,rU.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(fq,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(hq,(function(e,t){t&&a.push(+t)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=t[s]&&(n.push([i].concat(a.splice(0,t[s]))),t[s]););return e})),n},gq=function(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4===r?o[3]={x:+e[0],y:+e[1]}:i-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},vq=function(e,t,n,r,i){var o=[];if(null===i&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==i){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-i*a);o=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,t+n*Math.sin(-i*a)]]}else o=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},mq=function(e){if(!(e=pq(e))||!e.length)return[["M",0,0]];var t,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var l=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=void 0,d=void 0,f=u,h=e.length;f<h;f++){if(r.push(c=[]),(t=(d=e[f])[0])!==t.toUpperCase())switch(c[0]=t.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+i,c[7]=+d[7]+o;break;case"V":c[1]=+d[1]+o;break;case"H":c[1]=+d[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(d.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(gq(n,l));break;case"O":r.pop(),(n=vq(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(vq(i,o,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+d[1]+i,s=+d[2]+o;break;default:for(p=1,g=d.length;p<g;p++)c[p]=+d[p]+(p%2?i:o)}else if("R"===t)n=[i,o].concat(d.slice(1)),r.pop(),r=r.concat(gq(n,l)),c=["R"].concat(d.slice(-2));else if("O"===t)r.pop(),(n=vq(i,o,d[1],d[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(vq(i,o,d[1],d[2],d[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,m=d.length;v<m;v++)c[v]=d[v];if("O"!==(t=t.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},yq=function(e,t,n,r){return[e,t,n,r,n,r]},bq=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},xq=function e(t,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var d,f,h,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(c)f=c[0],h=c[1],p=c[2],g=c[3];else{t=(d=b(t,n,-m)).x,n=d.y,u=(d=b(u,l,-m)).x,l=d.y,t===u&&n===l&&(u+=1,l+=1);var x=(t-u)/2,w=(n-l)/2,E=x*x/(r*r)+w*w/(i*i);E>1&&(r*=E=Math.sqrt(E),i*=E);var k=r*r,_=i*i,S=(a===s?-1:1)*Math.sqrt(Math.abs((k*_-k*w*w-_*x*x)/(k*w*w+_*x*x)));p=S*r*w/i+(t+u)/2,g=S*-i*x/r+(n+l)/2,f=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((l-g)/i).toFixed(9)),f=t<p?Math.PI-f:f,h=u<p?Math.PI-h:h,f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),s&&f>h&&(f-=2*Math.PI),!s&&h>f&&(h-=2*Math.PI)}var T=h-f;if(Math.abs(T)>v){var C=h,M=u,A=l;h=f+v*(s&&h>f?1:-1),y=e(u=p+r*Math.cos(h),l=g+i*Math.sin(h),r,i,o,0,s,M,A,[h,C,p,g])}T=h-f;var I=Math.cos(f),O=Math.sin(f),N=Math.cos(h),P=Math.sin(h),D=Math.tan(T/4),R=4/3*r*D,L=4/3*i*D,j=[t,n],F=[t+R*O,n-L*I],B=[u+R*P,l-L*N],z=[u,l];if(F[0]=2*j[0]-F[0],F[1]=2*j[1]-F[1],c)return[F,B,z].concat(y);for(var Y=[],G=0,V=(y=[F,B,z].concat(y).join().split(",")).length;G<V;G++)Y[G]=G%2?b(y[G-1],y[G],m).y:b(y[G],y[G+1],m).x;return Y},wq=function(e,t){var n,r=mq(e),i=t&&mq(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",c="",d=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(xq.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(bq(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(bq(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(yq(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(yq(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(yq(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(yq(t.x,t.y,t.X,t.Y))}return e},f=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)s[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),n=Math.max(r.length,i&&i.length||0)}},h=function(e,t,o,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(l=r[p][0]),"C"!==l&&(s[p]=l,p&&(c=s[p-1])),r[p]=d(r[p],o,c),"A"!==s[p]&&"C"===l&&(s[p]="C"),f(r,p),i&&(i[p]&&(l=i[p][0]),"C"!==l&&(u[p]=l,p&&(c=u[p-1])),i[p]=d(i[p],a,c),"A"!==u[p]&&"C"===l&&(u[p]="C"),f(i,p)),h(r,i,o,a,p),h(i,r,a,o,p);var g=r[p],v=i&&i[p],m=g.length,y=i&&v.length;o.x=g[m-2],o.y=g[m-1],o.bx=parseFloat(g[m-4])||o.x,o.by=parseFloat(g[m-3])||o.y,a.bx=i&&(parseFloat(v[y-4])||a.x),a.by=i&&(parseFloat(v[y-3])||a.y),a.x=i&&v[y-2],a.y=i&&v[y-1]}return i?[r,i]:r},Eq=/,?([a-z]),?/gi,kq=function(e){return e.join(",").replace(Eq,"$1")},_q=function(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n},Sq=function(e,t,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,h=0;h<12;h++){var p=l*c[h]+l,g=_q(p,e,n,i,a),v=_q(p,t,r,o,s),m=g*g+v*v;f+=d[h]*Math.sqrt(m)}return l*f},Tq=function(e,t,n,r,i,o,a,s){for(var u,l,c,d,f=[],h=[[],[]],p=0;p<2;++p)if(0===p?(l=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,c=3*n-3*e):(l=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*s,c=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(d=-c/l)>0&&d<1&&f.push(d)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var m=(-l+v)/(2*u);m>0&&m<1&&f.push(m);var y=(-l-v)/(2*u);y>0&&y<1&&f.push(y)}}for(var b,x=f.length,w=x;x--;)b=1-(d=f[x]),h[0][x]=b*b*b*e+3*b*b*d*n+3*b*d*d*i+d*d*d*a,h[1][x]=b*b*b*t+3*b*b*d*r+3*b*d*d*o+d*d*d*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},Cq=function(e,t,n,r,i,o,a,s){if(!(Math.max(e,n)<Math.min(i,a)||Math.min(e,n)>Math.max(i,a)||Math.max(t,r)<Math.min(o,s)||Math.min(t,r)>Math.max(o,s))){var u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var l=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,c=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u,d=+l.toFixed(2),f=+c.toFixed(2);if(!(d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(i,a).toFixed(2)||d>+Math.max(i,a).toFixed(2)||f<+Math.min(t,r).toFixed(2)||f>+Math.max(t,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},Mq=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},Aq=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=kq,o},Iq=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Aq(e,t,n,r),vb:[e,t,n,r].join(" ")}},Oq=function(e,t,n,r,i,o,a,s){(0,rU.isArray)(e)||(e=[e,t,n,r,i,o,a,s]);var u=Tq.apply(null,e);return Iq(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Nq=function(e,t,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),f=u*u,h=f*u,p=e+2*u*(n-e)+f*(i-2*n+e),g=t+2*u*(r-t)+f*(o-2*r+t),v=n+2*u*(i-n)+f*(a-2*i+n),m=r+2*u*(o-r)+f*(s-2*o+r);return{x:c*e+3*d*u*n+3*l*u*u*i+h*a,y:c*t+3*d*u*r+3*l*u*u*o+h*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:l*e+u*n,y:l*t+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},Pq=function(e,t,n){if(!function(e,t){return e=Iq(e),t=Iq(t),Mq(t,e.x,e.y)||Mq(t,e.x2,e.y)||Mq(t,e.x,e.y2)||Mq(t,e.x2,e.y2)||Mq(e,t.x,t.y)||Mq(e,t.x2,t.y)||Mq(e,t.x,t.y2)||Mq(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(Oq(e),Oq(t)))return n?0:[];for(var r=~~(Sq.apply(0,e)/8),i=~~(Sq.apply(0,t)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=Nq.apply(0,e.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=Nq.apply(0,t.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var d=0;d<i;d++){var f=o[l],h=o[l+1],p=a[d],g=a[d+1],v=Math.abs(h.x-f.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=Cq(f.x,f.y,h.x,h.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=f.t+Math.abs((y[v]-f[v])/(h[v]-f[v]))*(h.t-f.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},Dq=function(e,t){return function(e,t,n){var r,i,o,a,s,u,l,c,d,f;e=wq(e),t=wq(t);for(var h=n?0:[],p=0,g=e.length;p<g;p++){var v=e[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(d=[r,i].concat(v.slice(1)),r=d[6],i=d[7]):(d=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,l,c,l,c],o=l,a=c);var x=Pq(d,f,n);if(n)h+=x;else{for(var w=0,E=x.length;w<E;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=d,x[w].bez2=f;h=h.concat(x)}}}}}return h}(e,t)};function Rq(e,t){var n=[],r=[];return e.length&&function e(t,i){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-i)*t[a][0]+i*t[a+1][0],(1-i)*t[a][1]+i*t[a+1][1]];e(o,i)}}(e,t),{left:n,right:r.reverse()}}var Lq=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=Rq(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},jq=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(t,r,i){return i===n?t.concat(e[n]):t.concat(Lq(e[i],e[i+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},Fq=function(e,t){if(e.length!==t.length)return!1;var n=!0;return(0,rU.each)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function Bq(e,t,n){var r=null,i=n;return t<i&&(i=t,r="add"),e<i&&(i=e,r="del"),{type:r,min:i}}var zq=function(e,t){var n=function(e,t){var n,r,i=e.length,o=t.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=e[u-1],l=1;l<=o;l++){r=t[l-1],a=Fq(n,r)?0:1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,f=s[u-1][l-1].min+a;s[u][l]=Bq(c,d,f)}return s}(e,t),r=e.length,i=t.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var d=i-(r=e.length);if(r<i)for(u=0;u<d;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function Yq(e,t,n){for(var r,i=[].concat(e),o=1/(n+1),a=Gq(t)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(e.length*o))?i.unshift([a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]);return i}function Gq(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var Vq=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=Gq(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Yq(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=Yq(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Yq(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},Wq=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),Uq=Wq;function Zq(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var Hq="undefined"!==typeof window&&"undefined"!==typeof window.document;function qq(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function Xq(e){return e.cfg.visible&&e.cfg.capture}var Kq=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,rU.mix)(r,t),n}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(lU),Jq=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},$q=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Qq=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},eX=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},tX=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},nX=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},rX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,iX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],oX=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function aX(e){return e?uX(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new nX:"undefined"!==typeof navigator?uX(navigator.userAgent):"undefined"!==typeof process&&process.version?new Qq(process.version.slice(1)):null}function sX(e){return""!==e&&iX.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function uX(e){var t=sX(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new tX;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Jq(Jq([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,n=oX.length;t<n;t++){var r=oX[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=rX.exec(e);return s&&s[1]?new eX(n,o,a,s[1]):new $q(n,o,a)}function lX(e,t){var n=[],r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=f*r+h*a+p*l,n[1]=f*i+h*s+p*c,n[2]=f*o+h*u+p*d,n[3]=g*r+v*a+m*l,n[4]=g*i+v*s+m*c,n[5]=g*o+v*u+m*d,n[6]=y*r+b*a+x*l,n[7]=y*i+b*s+x*c,n[8]=y*o+b*u+x*d,n}function cX(e,t){var n=[],r=t[0],i=t[1];return n[0]=e[0]*r+e[3]*i+e[6],n[1]=e[1]*r+e[4]*i+e[7],n}function dX(e){var t=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=c*a-s*l,f=-c*o+s*u,h=l*o-a*u,p=n*d+r*f+i*h;return p?(p=1/p,t[0]=d*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}var fX=gU,hX="matrix",pX=["zIndex","capture","visible","type"],gX=["repeat"];function vX(e,t){var n={},r=t.attrs;for(var i in e)n[i]=r[i];return n}function mX(e,t){var n={},r=t.attr();return(0,rU.each)(e,(function(e,t){-1!==gX.indexOf(t)||(0,rU.isEqual)(r[t],e)||(n[t]=e)})),n}function yX(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,i=t.duration,o=Object.prototype.hasOwnProperty;return(0,rU.each)(e,(function(e){n+r<e.startTime+e.delay+e.duration&&i>e.delay&&(0,rU.each)(t.toAttrs,(function(t,n){o.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var bX=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,rU.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(!r)return this.attrs;if((0,rU.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,i),this.afterAttrsChange(((e={})[r]=i,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(Zq(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(hX,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(hX)},t.prototype.setMatrix=function(e){this.attr(hX,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?lX(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?lX(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?cX(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=dX(t);if(n)return cX(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[(0,rU.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};(0,rU.each)(t,(function(e,r){(0,rU.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)(0,rU.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return(0,rU.each)(pX,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,l=e[0],c=e[1],d=e[2],f=void 0===d?"easeLinear":d,h=e[3],p=void 0===h?rU.noop:h,g=e[4],v=void 0===g?0:g;(0,rU.isFunction)(l)?(i=l,l={}):(0,rU.isObject)(l)&&l.onFrame&&(i=l.onFrame,o=l.repeat),(0,rU.isObject)(c)?(c=(u=c).duration,f=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||rU.noop,a=u.pauseCallback||rU.noop,s=u.resumeCallback||rU.noop):((0,rU.isNumber)(p)&&(v=p,p=null),(0,rU.isFunction)(f)?(p=f,f="easeLinear"):f=f||"easeLinear");var m=mX(l,this),y={fromAttrs:vX(m,this),toAttrs:m,duration:c,easing:f,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:(0,rU.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=yX(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");(0,rU.each)(n,(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return(0,rU.each)(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return(0,rU.each)(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,i=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var o=function(e){var o=i[e],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&qq(o,n))return"break";(0,rU.isArray)(s)?(0,rU.each)(s,(function(e){r.emitDelegateEvent(o,e,t)})):a.emitDelegateEvent(o,s,t)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),i=t+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(i,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=fX(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=fX(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=fX(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,i=this.getMatrix(),o=fX(i,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(o),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),i=fX(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(i),this},t}(Kq),xX=bX,wX={};function EX(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){EX(e,t)}))}}function kX(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){kX(e,t)}))}}var _X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,rU.each)(a,(function(e){var t=e.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,rU.min)(i),t=(0,rU.max)(i),n=(0,rU.min)(o),r=(0,rU.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,rU.each)(a,(function(e){var t=e.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,rU.min)(i),t=(0,rU.max)(i),n=(0,rU.min)(o),r=(0,rU.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();(0,rU.each)(t,(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];(0,rU.isObject)(n)?r=n:r.type=n;var i=wX[r.type];i||(i=(0,rU.upperFirst)(r.type),wX[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],i=e[1];if((0,rU.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!Xq(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,e,t,n);else{var o=[e,t,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var i=null,o=e.length-1;o>=0;o--){var a=e[o];if(Xq(a)&&(a.isGroup()?i=a.getShape(t,n,r):a.isHit(t,n)&&(i=a)),i)break}return i},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=e.getParent();i&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),Zq(e.getChildren(),t)}(i,e,!1),e.set("parent",this),t&&EX(e,t),r&&kX(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,rU.each)(e,(function(e,t){return e._INDEX=t,e})),e.sort(function(e){return function(t,n){var r=e(t,n);return 0===r?t._INDEX-n._INDEX:r}}((function(e,t){return e.get("zIndex")-t.get("zIndex")}))),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return(0,rU.each)(n,(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return(0,rU.each)(n,(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(xX),SX=_X,TX=n(96212);function CX(e){return+e}function MX(e){return e*e}function AX(e){return e*(2-e)}function IX(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function OX(e){return e*e*e}function NX(e){return--e*e*e+1}function PX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var DX=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),RX=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),LX=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),jX=Math.PI,FX=jX/2;function BX(e){return 1===+e?1:1-Math.cos(e*FX)}function zX(e){return Math.sin(e*FX)}function YX(e){return(1-Math.cos(jX*e))/2}function GX(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function VX(e){return GX(1-+e)}function WX(e){return 1-GX(e)}function UX(e){return((e*=2)<=1?GX(1-e):2-GX(e-1))/2}function ZX(e){return 1-Math.sqrt(1-e*e)}function HX(e){return Math.sqrt(1- --e*e)}function qX(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var XX=4/11,KX=7.5625;function JX(e){return 1-$X(1-e)}function $X(e){return(e=+e)<XX?KX*e*e:e<.7272727272727273?KX*(e-=.5454545454545454)*e+.75:e<.9090909090909091?KX*(e-=.8181818181818182)*e+.9375:KX*(e-=.9545454545454546)*e+.984375}function QX(e){return((e*=2)<=1?1-$X(1-e):$X(e-1)+1)/2}var eK=1.70158,tK=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(eK),nK=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(eK),rK=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(eK),iK=2*Math.PI,oK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iK);function i(e){return t*GX(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*iK)},i.period=function(n){return e(t,n)},i}(1,.3),aK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iK);function i(e){return 1-t*GX(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*iK)},i.period=function(n){return e(t,n)},i}(1,.3),sK=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=iK);function i(e){return((e=2*e-1)<0?t*GX(-e)*Math.sin((r-e)/n):2-t*GX(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*iK)},i.period=function(n){return e(t,n)},i}(1,.3),uK=[1,0,0,0,1,0,0,0,1];function lK(e,t,n){var r,i=t.startTime;if(n<i+t.delay||t._paused)return!1;var a=t.duration,s=t.easing;if(n=n-i-t.delay,t.repeat)r=n%a/a,r=o[s](r);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=o[s](r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},i=t.fromAttrs,o=t.toAttrs;if(!e.destroyed){var a,s;for(var u in o)if(!(0,rU.isEqual)(i[u],o[u]))if("path"===u){var l=o[u],c=i[u];l.length>c.length?(l=pq(o[u]),c=pq(i[u]),c=zq(c,l),c=Vq(c,l),t.fromAttrs.path=c,t.toAttrs.path=l):t.pathFormatted||(l=pq(o[u]),c=pq(i[u]),c=Vq(c,l),t.fromAttrs.path=c,t.toAttrs.path=l,t.pathFormatted=!0),r[u]=[];for(var d=0;d<l.length;d++){for(var f=l[d],h=c[d],p=[],g=0;g<f.length;g++)(0,rU.isNumber)(f[g])&&h&&(0,rU.isNumber)(h[g])?(a=Lz(h[g],f[g]),p.push(a(n))):p.push(f[g]);r[u].push(p)}}else if("matrix"===u){var v=Mz(i[u]||uK,o[u]||uK)(n);r[u]=v}else["fill","stroke","fillStyle","strokeStyle"].includes(u)&&(s=o[u],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[u]=o[u]:(0,rU.isFunction)(o[u])||(a=Lz(i[u],o[u]),r[u]=a(n));e.attr(r)}}(e,t,r);return!1}var cK=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=TX.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((e=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],lK(e,n,i)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),dK=cK,fK=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function hK(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function pK(e,t,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===t?(r=n.fromShape,i=!0):"mouseleave"===t&&(i=!0,r=n.toShape),e.isCanvas()&&i)return;if(r&&qq(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var gK=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,rU.each)(fK,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,rU.each)(fK,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,i,o){var a=new Uq(e,t);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(o=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),i||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),i&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-e.clientX,c=a.clientY-e.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,i,o){var a=this._getEventObj(e,t,n,r,i,o);if(r){a.shape=r,hK(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||pK(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{hK(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),vK=gK,mK=aX(),yK=mK&&"firefox"===mK.name,bK=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");(0,rU.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new vK({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new dK(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");Hq&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");Hq&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(yK&&!(0,rU.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,rU.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(SX),xK=bK,wK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];t.add(i.clone())}return t},t}(SX),EK=wK,kK=function(e){function t(t){return e.call(this,t)||this}return(0,nU.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;if(t){var a=cX(t,[e.minX,e.minY]),s=cX(t,[e.maxX,e.minY]),u=cX(t,[e.minX,e.maxY]),l=cX(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],l[0]),i=Math.max(a[0],s[0],u[0],l[0]),r=Math.min(a[1],s[1],u[1],l[1]),o=Math.max(a[1],s[1],u[1],l[1])}var c=this.attrs;if(c.shadowColor){var d=c.shadowBlur,f=void 0===d?0:d,h=c.shadowOffsetX,p=void 0===h?0:h,g=c.shadowOffsetY,v=void 0===g?0:g,m=n-f+p,y=i+f+p,b=r-f+v,x=o+f+v;n=Math.min(n,m),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[e,t,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},t}(xX),_K=kK,SK=new Map;function TK(e,t){SK.set(e,t)}function CK(e){return SK.get(e)}function MK(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function AK(e){var t=e.attr(),n=t.x,r=t.y,i=t.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function IK(e){return Math.min.apply(null,e)}function OK(e){return Math.max.apply(null,e)}function NK(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function PK(e,t){return Math.abs(e-t)<.001}function DK(e,t){var n=IK(e),r=IK(t);return{x:n,y:r,width:OK(e)-n,height:OK(t)-r}}function RK(e){return(e+2*Math.PI)%(2*Math.PI)}var LK={box:function(e,t,n,r){return DK([e,n],[t,r])},length:function(e,t,n,r){return NK(e,t,n,r)},pointAt:function(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}},pointDistance:function(e,t,n,r,i,o){var a=(n-e)*(i-e)+(r-t)*(o-t);return a<0?NK(e,t,i,o):a>(n-e)*(n-e)+(r-t)*(r-t)?NK(n,r,i,o):this.pointToLine(e,t,n,r,i,o)},pointToLine:function(e,t,n,r,i,o){var a=[n-e,r-t];if(XZ(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];HZ(s,s);var u=[i-e,o-t];return Math.abs(qZ(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function jK(e,t,n,r,i,o){var a,s=1/0,u=[n,r],l=20;o&&o>200&&(l=o/10);for(var c=1/l,d=c/10,f=0;f<=l;f++){var h=f*c,p=[i.apply(null,e.concat([h])),i.apply(null,t.concat([h]))];(y=NK(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(f=0;f<32&&!(d<1e-4);f++){var v=a-d,m=a+d,y=(p=[i.apply(null,e.concat([v])),i.apply(null,t.concat([v]))],NK(u[0],u[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[i.apply(null,e.concat([m])),i.apply(null,t.concat([m]))],x=NK(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):d*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,t.concat([a]))}}function FK(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function BK(e,t,n){var r=e+n-2*t;if(PK(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function zK(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function YK(e,t,n,r,i,o,a){var s=FK(e,n,i,a),u=FK(t,r,o,a),l=LK.pointAt(e,t,n,r,a),c=LK.pointAt(n,r,i,o,a);return[[e,t,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}function GK(e,t,n,r,i,o,a){if(0===a)return(NK(e,t,n,r)+NK(n,r,i,o)+NK(e,t,i,o))/2;var s=YK(e,t,n,r,i,o,.5),u=s[0],l=s[1];return u.push(a-1),l.push(a-1),GK.apply(null,u)+GK.apply(null,l)}var VK={box:function(e,t,n,r,i,o){var a=BK(e,n,i)[0],s=BK(t,r,o)[0],u=[e,i],l=[t,o];return void 0!==a&&u.push(FK(e,n,i,a)),void 0!==s&&l.push(FK(t,r,o,s)),DK(u,l)},length:function(e,t,n,r,i,o){return GK(e,t,n,r,i,o,3)},nearestPoint:function(e,t,n,r,i,o,a,s){return jK([e,n,i],[t,r,o],a,s,FK)},pointDistance:function(e,t,n,r,i,o,a,s){var u=this.nearestPoint(e,t,n,r,i,o,a,s);return NK(u.x,u.y,a,s)},interpolationAt:FK,pointAt:function(e,t,n,r,i,o,a){return{x:FK(e,n,i,a),y:FK(t,r,o,a)}},divide:function(e,t,n,r,i,o,a){return YK(e,t,n,r,i,o,a)},tangentAngle:function(e,t,n,r,i,o,a){var s=zK(e,n,i,a),u=zK(t,r,o,a);return RK(Math.atan2(u,s))}};function WK(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function UK(e,t,n,r,i){var o=1-i;return 3*(o*o*(t-e)+2*o*i*(n-t)+i*i*(r-n))}function ZK(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,l=3*t-3*e,c=[];if(PK(s,0))PK(u,0)||(i=-l/u)>=0&&i<=1&&c.push(i);else{var d=u*u-4*s*l;PK(d,0)?c.push(-u/(2*s)):d>0&&(o=(-u-(a=Math.sqrt(d)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function HK(e,t,n,r,i,o,a,s,u){var l=WK(e,n,i,a,u),c=WK(t,r,o,s,u),d=LK.pointAt(e,t,n,r,u),f=LK.pointAt(n,r,i,o,u),h=LK.pointAt(i,o,a,s,u),p=LK.pointAt(d.x,d.y,f.x,f.y,u),g=LK.pointAt(f.x,f.y,h.x,h.y,u);return[[e,t,d.x,d.y,p.x,p.y,l,c],[l,c,g.x,g.y,h.x,h.y,a,s]]}function qK(e,t,n,r,i,o,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,i=0;i<r;i++)n+=NK(e[i],t[i],e[(i+1)%r],t[(i+1)%r]);return n/2}([e,n,i,a],[t,r,o,s]);var l=HK(e,t,n,r,i,o,a,s,.5),c=l[0],d=l[1];return c.push(u-1),d.push(u-1),qK.apply(null,c)+qK.apply(null,d)}var XK={extrema:ZK,box:function(e,t,n,r,i,o,a,s){for(var u=[e,a],l=[t,s],c=ZK(e,n,i,a),d=ZK(t,r,o,s),f=0;f<c.length;f++)u.push(WK(e,n,i,a,c[f]));for(f=0;f<d.length;f++)l.push(WK(t,r,o,s,d[f]));return DK(u,l)},length:function(e,t,n,r,i,o,a,s){return qK(e,t,n,r,i,o,a,s,3)},nearestPoint:function(e,t,n,r,i,o,a,s,u,l,c){return jK([e,n,i,a],[t,r,o,s],u,l,WK,c)},pointDistance:function(e,t,n,r,i,o,a,s,u,l,c){var d=this.nearestPoint(e,t,n,r,i,o,a,s,u,l,c);return NK(d.x,d.y,u,l)},interpolationAt:WK,pointAt:function(e,t,n,r,i,o,a,s,u){return{x:WK(e,n,i,a,u),y:WK(t,r,o,s,u)}},divide:function(e,t,n,r,i,o,a,s,u){return HK(e,t,n,r,i,o,a,s,u)},tangentAngle:function(e,t,n,r,i,o,a,s,u){var l=UK(e,n,i,a,u),c=UK(t,r,o,s,u);return RK(Math.atan2(c,l))}};function KK(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function JK(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}var $K=function(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),u=1/0,l=-1/0,c=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var f=s+d;o<a?o<f&&f<a&&c.push(f):a<f&&f<o&&c.push(f)}for(d=0;d<c.length;d++){var h=KK(e,0,n,r,i,c[d]);h<u&&(u=h),h>l&&(l=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,m=[o,a];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var y=p+d;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(d=0;d<m.length;d++){var b=JK(0,t,n,r,i,m[d]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:l-u,height:v-g}};function QK(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=NK(r[0],r[1],i[0],i[1])}return t}var eJ=function(e){return QK(e)};function tJ(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function nJ(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=tJ(t,n.getCanvasBBox())),r&&(t=tJ(t,r.getCanvasBBox())),t}var rJ=null;function iJ(){if(!rJ){var e=document.createElement("canvas");e.width=1,e.height=1,rJ=e.getContext("2d")}return rJ}function oJ(e,t,n){var r=1;if((0,rU.isString)(e)&&(r=e.split("\n").length),r>1){var i=function(e,t){return t?t-e:.14*e}(t,n);return t*r+i*(r-1)}return t}function aJ(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var sJ=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,uJ=/[^\s\,]+/gi;var lJ=function(e){var t=e||[];return(0,rU.isArray)(t)?t:(0,rU.isString)(t)?(t=t.match(sJ),(0,rU.each)(t,(function(e,n){if((e=e.match(uJ))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}(0,rU.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0};var cJ=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,u,l,c=function(e,t,n,r){var i,o,a,s,u,l,c,d=[],f=!!r;if(f){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1)a=VZ([0,0],a,v=e[h]),s=WZ([0,0],s,v)}h=0;for(var g=e.length;h<g;h+=1){var v=e[h];if(0!==h||n)if(h!==g-1||n){i=e[[h?h-1:g-1,h-1][n?0:1]],o=e[n?(h+1)%g:h+1];var m=[0,0];m=UZ(m=KZ(m,o,i),m,t);var y=ZZ(v,i),b=ZZ(v,o),x=y+b;0!==x&&(y/=x,b/=x);var w=UZ([0,0],m,-y),E=UZ([0,0],m,b);l=GZ([0,0],v,w),u=VZ([0,0],u=GZ([0,0],v,E),WZ([0,0],o,v)),u=WZ([0,0],u,VZ([0,0],o,v)),l=VZ([0,0],l=GZ([0,0],v,w=UZ([0,0],w=KZ([0,0],u,v),-y/b)),WZ([0,0],i,v)),l=WZ([0,0],l,VZ([0,0],i,v)),u=GZ([0,0],v,E=UZ([0,0],E=KZ([0,0],v,l),b/y)),f&&(l=VZ([0,0],l=WZ([0,0],l,a),s),u=VZ([0,0],u=WZ([0,0],u,a),s)),d.push(c),d.push(l),c=u}else l=v,d.push(c),d.push(l);else c=v}return n&&d.push(d.shift()),d}(i,.4,r,n),d=i.length,f=[];for(o=0;o<d-1;o+=1)s=c[2*o],u=c[2*o+1],l=i[o+1],f.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]]);return r&&(s=c[d],u=c[d+1],l=i[0],f.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]])),f};var dJ=new RegExp("([a-z])[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)","ig"),fJ=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*","ig");function hJ(e){if(!e)return null;if((0,rU.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(dJ,(function(e,r,i){var o=[],a=r.toLowerCase();if(i.replace(fJ,(function(e,t){t&&o.push(+t)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=t[a]&&(n.push([r].concat(o.splice(0,t[a]))),t[a]););return""})),n}var pJ=/[a-z]/;function gJ(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function vJ(e){var t=hJ(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];if(pJ.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return t;var o=[],a=0,s=0,u=0,l=0,c=0,d=t[0];"M"!==d[0]&&"m"!==d[0]||(u=a=+d[1],l=s=+d[2],c++,o[0]=["M",a,s]);r=c;for(var f=t.length;r<f;r++){var h=t[r],p=o[r-1],g=[],v=(i=h[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=+h[6]+a,g[7]=+h[7]+s;break;case"V":g[1]=+h[1]+s;break;case"H":g[1]=+h[1]+a;break;case"M":u=+h[1]+a,l=+h[2]+s,g[1]=u,g[2]=l;break;default:for(var m=1,y=h.length;m<y;m++)g[m]=+h[m]+(m%2?a:s)}else g=t[r];switch(v){case"Z":a=+u,s=+l;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=gJ([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=gJ([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],l=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}Math.PI;function mJ(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function yJ(e,t){return mJ(e)*mJ(t)?(e[0]*t[0]+e[1]*t[1])/(mJ(e)*mJ(t)):1}function bJ(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(yJ(e,t))}function xJ(e,t){return e[0]===t[0]&&e[1]===t[1]}function wJ(e,t){var n=t[1],r=t[2],i=(0,rU.mod)((0,rU.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],d=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,f=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,m=n?g*-r*d/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(d-v)/n,(f-m)/r],w=[(-1*d-v)/n,(-1*f-m)/r],E=bJ([1,0],x),k=bJ(x,w);return yJ(x,w)<=-1&&(k=Math.PI),yJ(x,w)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:xJ(e,[l,c])?0:n,ry:xJ(e,[l,c])?0:r,startAngle:E,endAngle:E+k,xRotation:i,arcFlag:o,sweepFlag:a}}function EJ(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function kJ(e){for(var t=[],n=null,r=null,i=null,o=0,a=(e=lJ(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var l=u[0],c={command:l,prePoint:n,params:u,startTangent:null,endTangent:null};switch(l){case"M":i=[u[1],u[2]],o=s;break;case"A":var d=wJ(n,u);c.arcParams=d}if("Z"===l)n=i,r=e[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),c.currentPoint=n,t[o]&&xJ(n,t[o].currentPoint)&&(t[o].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===l){var g=[u[1],u[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===l){g=EJ((y=t[s-1]).currentPoint,p);"Q"===y.command?(c.command="Q",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===l){var v=[u[1],u[2]],m=[u[3],u[4]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[v[0]-m[0],v[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===l){var y;v=EJ((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(c.command="C",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===l){var b=.001,x=c.arcParams||{},w=x.cx,E=void 0===w?0:w,k=x.cy,_=void 0===k?0:k,S=x.rx,T=void 0===S?0:S,C=x.ry,M=void 0===C?0:C,A=x.sweepFlag,I=void 0===A?0:A,O=x.startAngle,N=void 0===O?0:O,P=x.endAngle,D=void 0===P?0:P;0===I&&(b*=-1);var R=T*Math.cos(N-b)+E,L=M*Math.sin(N-b)+_;c.startTangent=[R-i[0],L-i[1]];var j=T*Math.cos(N+D+b)+E,F=M*Math.sin(N+D-b)+_;c.endTangent=[p[0]-j,p[1]-F]}t.push(c)}return t}function _J(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||(0,rU.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(u/2-l)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(c-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}TK("rect",MK),TK("image",MK),TK("circle",AK),TK("marker",AK),TK("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}var a=DK(n,r),s=a.x,u=a.y,l={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(l=nJ(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),TK("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}return DK(n,r)})),TK("text",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=t.font;s||(s=aJ(t));var u,l=function(e,t){var n=iJ(),r=0;if((0,rU.isNil)(e)||""===e)return r;if(n.save(),n.font=t,(0,rU.isString)(e)&&e.includes("\n")){var i=e.split("\n");(0,rU.each)(i,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))}else r=n.measureText(e).width;return n.restore(),r}(i,s);if(l){var c=t.textAlign,d=t.textBaseline,f=oJ(i,o,a),h={x:n,y:r-f};c&&("end"===c||"right"===c?h.x-=l:"center"===c&&(h.x-=l/2)),d&&("top"===d?h.y+=f:"middle"===d&&(h.y+=f/2)),u={x:h.x,y:h.y,width:l,height:f}}else u={x:n,y:r,width:0,height:0};return u})),TK("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,i=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=(g=e[o]).currentPoint,s=g.params,u=g.prePoint,l=void 0;switch(g.command){case"Q":l=VK.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":l=XK.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=g.arcParams;l=$K(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}l&&(g.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height)),t&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var d=(0,rU.min)(n),f=(0,rU.min)(r),h=(0,rU.max)(n),p=(0,rU.max)(r);if(0===i.length)return{x:d,y:f,width:h-d,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===d?d-=_J(g,t).xExtra:a[0]===h&&(h+=_J(g,t).xExtra),a[1]===f?f-=_J(g,t).yExtra:a[1]===p&&(p+=_J(g,t).yExtra)}return{x:d,y:f,width:h-d,height:p-f}}(e.get("segments")||kJ(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=nJ(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),TK("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=nJ(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),TK("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var SJ=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,nU.__extends)(t,e),t}(Uq),TJ=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},CJ=function(e){if((0,rU.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,rU.isNumber)(e))return[e,e,e,e];if((0,rU.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},MJ=function(e){var t=new SJ(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},AJ=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},IJ=function(e){return Number.isNaN(Number(e))},OJ=function(e){for(var t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o].getBBox(),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY;s<t&&(t=s),u<r&&(r=u),l>n&&(n=l),c>i&&(i=c)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(i)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:i}},NJ=function(e,t,n,r,i){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},l=[],c={},d=0;d<o;d++){var f=e[d],h=f.source,p=f.target,g="".concat(h,"-").concat(p);if(!l[d]){u[g]||(u[g]=[]),l[d]=!0,u[g].push(f);for(var v=0;v<o;v++)if(d!==v){var m=e[v],y=m.source,b=m.target;l[v]||(h===b&&p===y?(u[g].push(m),l[v]=!0,c["".concat(y,"|").concat(b,"|").concat(u[g].length-1)]=!0):h===y&&p===b&&(u[g].push(m),l[v]=!0))}}}for(var x in u)for(var w=u[x],E=w.length,k=0;k<E;k++){var _=w[k];if(_.source!==_.target)if(1===E&&r&&_.source!==_.target)_.type=r;else{_.type=n;var S=(k%2===0?1:-1)*(c["".concat(_.source,"|").concat(_.target,"|").concat(k)]?-1:1);_.curveOffset=E%2===1?S*Math.ceil(k/2)*a:S*(Math.floor(k/2)*a+t)}else i&&(_.type=i),_.loopCfg={position:s[k%8],dist:20*Math.floor(k/8)+50}}return e},PJ=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;e.translate(r.x-i,r.y-o)}},e.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),r=e.get("height"),i=e.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;e.translate(a.x-s,a.y-u);var l=(n-t[1]-t[3])/o.width,c=(r-t[0]-t[2])/o.height,d=l;l>c&&(d=c),e.zoom(d,a)||console.warn("zoom failed, ratio out of range, ratio: %f",d)}},e.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=void 0!==t&&t,r=e.direction,i=void 0===r?"both":r,o=e.ratioRule,a=void 0===o?"min":o,s=this.graph,u=this.getFormatPadding(),l=s.get("width"),c=s.get("height"),d=s.get("group");d.resetMatrix();var f=d.getCanvasBBox();if(0!==f.width&&0!==f.height){var h=this.getViewCenter(),p=f.x+f.width/2,g=f.y+f.height/2;s.translate(h.x-p,h.y-g);var v,m=(l-u[1]-u[3])/f.width,y=(c-u[0]-u[2])/f.height;v="x"===i?m:"y"===i?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(v=v<1?v:1);var b=s.getZoom()*v,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),s.zoomTo(b,h)}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return CJ(e)},e.prototype.focusPoint=function(e,t,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(o.x-e.x)*a[0],u=(o.y-e.y)*a[4],l=0,c=0,d=0,f=0;this.graph.get("canvas").animate((function(e){d=s*e,f=u*e,r.graph.translate(d-l,f-c),l=d,c=f}),(0,nU.__assign)({},n))}else this.graph.translate((o.x-e.x)*a[0],(o.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),oH({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),iH({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if((0,rU.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,i=0;if(e.getType&&"edge"===e.getType()){var o=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,rU.isNumber)(e)||!(0,rU.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach((function(e){e.get("gridContainer")&&e.positionInit()}))},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}(),DJ=PJ;function RJ(e){return RJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RJ(e)}function LJ(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},i=e.trim(),o=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return r(a)===e}))},u=null,l=0,c="";l<i.length;){var d=i[l],f=s('"',"'");if(f||d.trim()){var h="\\"===i[l-1],p=s("}"),g=s("]"),v=s(","),m=r(o);if(f)if(r(a)!==d||h)c+=d;else{a.pop();var y=t(c);m.push(y),u=y,c=""}else if(g&&","===d)c&&(m.push(t(c)),c="");else if(p&&":"===d)a.push(","),c&&(m.push(c),c="");else if(v&&","===d)c&&(m.push(t(c)),c=""),a.pop();else if("}"===d&&(p||v)){c&&(m.push(t(c)),c=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===d&&g?(c&&(m.push(t(c)),c=""),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):"{"===d?(o.push([]),a.push("}")):"["===d?(o.push([]),a.push("]")):'"'===d?a.push('"'):"'"===d?a.push("'"):c+=d;l+=1}else l+=1}return u||c}function jJ(e,t){var n={},r=e.getAttributeNames&&e.getAttributeNames()||[],i=e.children&&Array.from(e.children).map((function(e){return jJ(e,t)})),o={},a=e.tagName?e.tagName.toLowerCase():"group";return"text"===a&&(n.text=e.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(r).forEach((function(t){var r=function(e){return e.split("-").reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}))}(t),i=e.getAttribute(t);try{if("style"===r||"attrs"===r){var a=LJ(i);n=(0,nU.__assign)((0,nU.__assign)({},n),a)}else o[r]=LJ(i)}catch(s){if("style"===r)throw s;o[r]=i}})),o.attrs=n,t&&t.style&&o.name&&"object"===RJ(t.style[o.name])&&(o.attrs=(0,nU.__assign)((0,nU.__assign)({},o.attrs),t.style[o.name])),t&&t.style&&o.keyshape&&(o.attrs=(0,nU.__assign)((0,nU.__assign)({},o.attrs),t.style)),i.length&&(o.children=i),o}function FJ(e,t){var n;void 0===t&&(t={x:0,y:0});var r=(0,nU.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var i=e.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,nU.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var l=FJ(e.children[u],s);if(l.bbox){var c=l.bbox;"inline"===l.attrs.next?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return e.bbox=function(e,t,n){var r,i,o=e.attrs,a=void 0===o?{}:o,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=nq(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,e.attrs=(0,nU.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=(0,nU.__assign)((0,nU.__assign)({},e.attrs),e.bbox),e}function BJ(e,t){var n,r,i,o,a=(e||{}).type,s=((null===t||void 0===t?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:a,key:s};if(e&&!t)return{action:"add",val:e,type:a};if(!e&&!t)return{action:"same",type:a};var u=[];if((null===(n=e.children)||void 0===n?void 0:n.length)>0||(null===(r=t.children)||void 0===r?void 0:r.length)>0)for(var l=Math.max(null===(i=e.children)||void 0===i?void 0:i.length,null===(o=t.children)||void 0===o?void 0:o.length),c=t.children||[],d=e.children||[],f=0;f<l;f+=1)u.push(BJ(d[f],c[f]));var h=Object.keys(t.attrs),p=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:u}:h.filter((function(e){return"children"!==e})).some((function(n){return e.attrs[n]!==t.attrs[n]||!p.includes(n)}))?{action:"change",val:e,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function zJ(e){var t={},n=function(t){var n=function(e){return function(t){for(var n=e.length,r=[],i=0,o="";i<n;)if("{"===e[i]&&"{"===e[i+1])r.push(o),o="",i+=2;else if("}"===e[i]&&"}"===e[i+1]){if(r.length){var a=r.pop();o=(0,rU.get)(t,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=e[i],i+=1;return r.push(o),r.map((function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e})).join("")}}("function"===typeof e?e(t):e)(t),r=document.createElement("div");r.innerHTML=n;var i=FJ(jJ(r.children[0],t));return r.remove(),i};return{draw:function(e,r){var i=n(e),o=r;return function e(t){var n=t.attrs,i=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,l=(0,nU.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var c=r.addShape(t.type,(0,nU.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},l));t.keyshape&&(o=c)}t.children&&t.children.forEach((function(t){return e(t)}))}(i),t[e.id]=[i],o},update:function(e,r){t[e.id]||(t[e.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(e),s=BJ(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&i.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))},l=function e(t){var n,r=o.find((function(e){return e.attrs.key===t.attrs.key}));r&&i.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))};!function e(t){var n=t.key;if("group"!==t.type){var i=o.find((function(e){return e.attrs.key===n}));switch(t.action){case"change":if(i){var a=t.val.keyshape?r.getOriginStyle():{};i.attr((0,nU.__assign)((0,nU.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":l(t.val);break;case"restructure":l(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return e(t)}))}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var YJ={};function GJ(e){return YJ[e]||(YJ[e]=(0,rU.upperFirst)(e)),YJ[e]}var VJ={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this;return t[e]||t[t.defaultShapeType]||t["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var i=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,i),i},baseUpdate:function(e,t,n,r){var i,o,a=this.getShape(e);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,t,r),null===(o=a.update)||void 0===o||o.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},WJ={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},UJ=function(){function e(){}return e.registerFactory=function(t,n){var r=GJ(t),i=VJ,o=(0,nU.__assign)((0,nU.__assign)({},i),n);return e[r]=o,o.className=r,o},e.getFactory=function(t){return e[GJ(t)]},e.registerNode=function(t,n,r){var i,o=e.Node;if("string"===typeof n||"function"===typeof n){var a=zJ(n);i=(0,nU.__assign)((0,nU.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=zJ(n.jsx);i=(0,nU.__assign)((0,nU.__assign)((0,nU.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):WJ;i=(0,nU.__assign)((0,nU.__assign)({},s),n)}return i.type=t,i.itemType="node",o[t]=i,i},e.registerEdge=function(t,n,r){var i=e.Edge,o=r?i.getShape(r):WJ,a=(0,nU.__assign)((0,nU.__assign)({},o),n);return a.type=t,a.itemType="edge",i[t]=a,a},e.registerCombo=function(t,n,r){var i=e.Combo,o=r?i.getShape(r):WJ,a=(0,nU.__assign)((0,nU.__assign)({},o),n);return a.type=t,a.itemType="combo",i[t]=a,a},e}(),ZJ=UJ;UJ.registerFactory("node",{defaultShapeType:"circle"}),UJ.registerFactory("edge",{defaultShapeType:"line"}),UJ.registerFactory("combo",{defaultShapeType:"circle"});var HJ="bboxCache",qJ="bboxCanvasCache",XJ=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=TJ(i),this.get("model").id=r),this.set("id",r);var o=e.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var l=this.get("styles")||n.stateStyles;l=(0,rU.deepMix)({},u.stateStyles,l),this.set("styles",l)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=qH(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=qH(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),r=e.get("model");n.clear();var i=r.visible;if(void 0===i||i||e.changeVisibility(i),t){e.updatePosition(r);var o=e.getShapeCfg(r),a=o.type,s=t.draw(a,o,n);s&&(e.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(t,a)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==i){var l=a[s];o[s]||(o[s]={}),l?Object.keys(u).forEach((function(e){var t=u[e];t!==l[e]&&(o[s][e]=t)})):o[s]="image"!==n.get("type")?(0,rU.clone)(u):r.getShapeStyleByName(s)}else{var c=n.attr(),d={};Object.keys(a).forEach((function(e){var t=a[e];e!==i&&(0,rU.isPlainObject)(t)||(d[e]=t)})),Object.keys(c).forEach((function(e){var t=c[e];d[e]!==t&&(i?o[i][e]=t:o[e]=t)}))}};for(l=0;l<t.length;l++)s(l);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var u={},l=0;l<t.length;l++){var c=t[l],d=c.get("type"),f=c.get("name");if(f&&f!==i)u[f]="image"!==d?(0,rU.clone)(c.attr()):r.getShapeStyleByName(f),"text"===d&&u[f]&&(delete u[f].x,delete u[f].y,delete u[f].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,i)if(f)u[i]=h;else{var p=TJ("shape");c.set("name",p),e.shapeMap[p]=c,u[p]="image"!==d?(0,rU.clone)(c.attr()):r.getShapeStyleByName(f)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");(0,rU.each)(r,(function(r){e.setState(t,r,!0,n)}))},e.prototype.init=function(){var e=ZJ.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){(0,rU.isPlainObject)(e)?this._cfg=(0,nU.__assign)((0,nU.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(HJ,null),this.set(qJ,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return(0,rU.each)(t.attr(),(function(e,t){("img"!==t||(0,rU.isString)(e))&&(r[t]=e)})),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=(0,nU.__assign)((0,nU.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?((0,rU.each)(e.getStates(),(function(n){t=Object.assign(t,e.getStateStyle(n))})),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),i=e,o=e;(0,rU.isString)(t)&&(i="".concat(e,":").concat(t),o="".concat(e,":"));var a=n;if((0,rU.isBoolean)(t)){var s=n.indexOf(o);if(t){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if((0,rU.isString)(t)){var u=n.filter((function(e){return e.includes(o)}));u.length>0&&this.clearStates(u),(a=a.filter((function(e){return!e.includes(o)}))).push(i),this.set("states",a)}if(r){var l=this.get("model").type;r.setState(l,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),i=t.get("model").type;e||(e=n),(0,rU.isString)(e)&&(e=[e]);var o=n.filter((function(t){return-1===e.indexOf(t)}));t.set("states",o),e.forEach((function(e){r.setState(i,e,!1,t)}))},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,rU.mix)(a,s),delete e.stateStyles}Object.assign(n,e),o.x===e.x&&o.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,e);t.baseUpdate(r,i,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),dH(i,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get(HJ);return e||(e=this.calculateBBox(),this.set(HJ,e)),e},e.prototype.getCanvasBBox=function(){var e=this.get(qJ);return e||(e=this.calculateCanvasBBox(),this.set(qJ,e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),KJ=XJ,JJ={source:"start",target:"end"},$J="Node",QJ="Point",e$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=JJ[e]+QJ,r=e+$J,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,rU.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=JJ[e]+QJ,i=e+$J,o=this.get(r);if(!o){var a=this.get(i),s=e+"Anchor",u=this.getPrePoint(e,n),l=t[s];(0,rU.isNil)(l)||(o=a.getLinkPointByAnchor(l)),o=o||a.getLinkPoint(u),(0,rU.isNil)(o.index)||this.set("".concat(e,"AnchorIndex"),o.index)}return o},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+$J,n=JJ[e]+QJ,r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=e.type;return r.getControlPoints(i,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+$J,n=JJ[e]+QJ,r=this.get(t);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this,i=r.get("linkCenter"),o=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var a=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",t,a),o.endPoint=r.getLinkPoint("target",t,a)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat($J)),n=this.get("target".concat($J));return t?delete e["source".concat($J)]:e.source=this.get("start".concat(QJ)),n?delete e["target".concat($J)]:e.target=this.get("end".concat(QJ)),(0,rU.isString)(e.source)||(0,rU.isPlainObject)(e.source)||(e.source=e.source.getID()),(0,rU.isString)(e.target)||(0,rU.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(e.stateStyles){var a=e.stateStyles;(0,rU.mix)(o,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat($J)),n=this.get("target".concat($J));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(KJ),t$=e$,n$="anchorPointsCache",r$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],i=sH(e[0],t),o=0;o<e.length;o++){var a=e[o],s=sH(a,t);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("target")===e}))},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("source")===e}))},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter((function(e){return e.getSource()===t})).map((function(e){return e.getTarget()}))}if("source"===e){return n.filter((function(e){return e.getTarget()===t})).map((function(e){return e.getSource()}))}return n.map((function(e){return e.getSource()===t?e.getTarget():e.getSource()}))},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(t=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(t=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=nH({x:t,y:n,r:o.width/2},e);break;case"ellipse":a=rH({x:t,y:n,rx:o.width/2,ry:o.height/2},e);break;default:a=tH(o,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get(n$);if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=t.getAnchorPoints(o,i)||[];(0,rU.each)(a,(function(t,r){var i={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(i)})),this.set(n$,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(n$,null)},t.prototype.getUpdateType=function(e){var t,n,r,i,o;if(e){var a=!(0,rU.isNil)(e.x),s=!(0,rU.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":(0,rU.isNumber)(e.x)||(0,rU.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.rx)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(KJ),i$=r$,o$="bboxCache",a$="bboxCanvasCache",s$="sizeCache",u$="anchorPointsCache",l$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,i={r:Math.hypot(n.height,n.width)/2||YH.defaultCombo.size[0]/2,width:n.width||YH.defaultCombo.size[0],height:n.height||YH.defaultCombo.size[1]};r.style=(0,nU.__assign)((0,nU.__assign)((0,nU.__assign)({},t),e.style),i);var o=e.padding||YH.defaultCombo.padding;return(0,rU.isNumber)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(s$,i),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=qH(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(s$),i=this.get(o$)||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set(u$,null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(a$,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(o$,null),this.set(a$,null),this.set(u$,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set(s$,null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(i$),c$=l$,d$="node",f$="edge",h$="vedge",p$="combo",g$="Mapper",v$="stateStyles",m$=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,rU.throttle)((function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var i=t.edgeToBeUpdateMap;i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)&&(Object.keys(i).forEach((function(e){var t=i[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(i[e].updateType)}})),t.edgeToBeUpdateMap={})}}),16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r=e===h$?f$:e,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,rU.upperFirst)(r),a=null,s=n.get(r+(0,rU.upperFirst)(v$))||{},u=n.get("default"+o);t.stateStyles&&(s=t.stateStyles),u&&(0,rU.each)(u,(function(e,n){(0,rU.isObject)(e)&&!(0,rU.isArray)(e)?t[n]=(0,rU.deepMix)({},e,t[n]):(0,rU.isArray)(e)?t[n]=t[n]||(0,rU.clone)(u[n]):t[n]=t[n]||u[n]}));var l=n.get(r+g$);if(l){var c=l(t);c.stateStyles&&(s=c.stateStyles,delete c.stateStyles),(0,rU.each)(c,(function(e,n){(0,rU.isObject)(e)&&!(0,rU.isArray)(e)?t[n]=(0,rU.deepMix)({},t[n],e):t[n]=c[n]||t[n]}))}if(n.emit("beforeadditem",{type:e,model:t}),e===f$||e===h$){var d=void 0,f=void 0;if(d=t.source,f=t.target,d&&(0,rU.isString)(d)&&(d=n.findById(d)),f&&(0,rU.isString)(f)&&(f=n.findById(f)),!d||!f)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),a=new t$({model:t,source:d,target:f,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(e===d$)a=new i$({model:t,styles:s,group:i.addGroup()});else if(e===p$){var h=t.children,p=oq(h,n),g=void 0,v=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(t.y)&&(v=100*Math.random()):v=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=v;else{var m=t.x-g,y=t.y-v;this.updateComboSucceeds(t.id,m,y,h)}var b=i.addGroup();b.setZIndex(t.depth);var x=(a=new c$({model:t,styles:s,bbox:t.collapsed?oq([],n):p,group:b})).getModel();(h||[]).forEach((function(e){var t=n.findById(e.id);a.addChild(t),e.depth=x.depth+2})),t.collapsed&&setTimeout((function(){a.destroyed||(n.collapseCombo(a),n.updateCombo(a))}),0)}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,i=this,o=this.graph;if((0,rU.isString)(e)&&(e=o.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=o.get(a+g$),u=e.getModel(),l=u.x,c=u.y,d=e.getUpdateType(t);if(s){var f=s((0,rU.deepMix)({},u,t)),h=(0,rU.deepMix)({},u,f,t);f.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),(0,rU.each)(h,(function(e,n){t[n]=e}))}else(0,rU.each)(t,(function(e,n){u[n]&&(0,rU.isObject)(e)&&!(0,rU.isArray)(e)&&(t[n]=(0,nU.__assign)((0,nU.__assign)({},u[n]),t[n]))}));if(o.emit("beforeupdateitem",{item:e,cfg:t}),a===f$){if(t.source){var p=t.source;(0,rU.isString)(p)&&(p=o.findById(p)),e.setSource(p)}if(t.target){var g=t.target;(0,rU.isString)(g)&&(g=o.findById(g)),e.setTarget(g)}e.update(t)}else if(a===d$){e.update(t,d);var v=e.getEdges(),m=(null===d||void 0===d?void 0:d.includes("bbox"))||"move"===d;"move"===d?(0,rU.each)(v,(function(e){i.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:d},i.throttleRefresh()})):m&&(0,rU.each)(v,(function(e){e.refresh(d)}))}else if(a===p$){if(e.update(t,d),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-l||0,b=t.y-c||0;this.updateComboSucceeds(u.id,y,b)}var x=e.getEdges();if((m=(null===d||void 0===d?void 0:d.includes("bbox"))||"move"===d)&&a===p$){var w=e.get("shapeFactory"),E=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=w[E])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(0,rU.each)(x,(function(e){e&&!e.destroyed&&e.refresh()}))}}),201):(0,rU.each)(x,(function(e){e.refresh()}))}}o.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,i,o=this,a=this.graph;if((0,rU.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=oq(t,a,e),l=u.x,c=u.y;e.set("bbox",u);var d=l,f=c;n?(d=isNaN(s.x)?l:s.x,f=isNaN(s.y)?c:s.y):(d=isNaN(l)?s.x:l,f=isNaN(c)?s.y:c),e.update({x:d,y:f});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),o.updateComboEdges(e))}}),201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];if(r&&!r.destroyed){var i=r.get("shapeFactory"),o=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=i.draw(o.type,o,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},e.prototype.collapseCombo=function(e){var t=this.graph;(0,rU.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.hideItem(e)})),n.combos.forEach((function(e){t.hideItem(e)}))},e.prototype.updateComboSucceeds=function(e,t,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach((function(t){QH(t,(function(t){return t.id!==e||(a=t.children,!1)}))}))}null===a||void 0===a||a.forEach((function(e){var r=o.findById(e.id);if(r){var a=r.getModel();i.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}}))}},e.prototype.expandCombo=function(e){var t=this.graph;(0,rU.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.showItem(e)})),n.combos.forEach((function(e){e.getModel().collapsed?e.show():t.showItem(e)}))},e.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,rU.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=(0,rU.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var i="";e.getType&&(i=e.getType());var o=n.get("".concat(i,"s")),a=o.indexOf(e);if(a>-1&&o.splice(a,1),i===f$){var s=n.get("v".concat(i,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var l=e.get("id");delete n.get("itemMap")[l];var c=n.get("comboTrees"),d=e.get("id");if(i===d$){var f=e.getModel().comboId;if(c&&f){var h=c,p=!1;c.forEach((function(e){p||QH(e,(function(e){if(e.id===d&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0}))}))}for(var g=(b=e.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);f&&n.updateCombo(f)}else if(i===p$){var v,m=e.getModel().parentId,y=!1;(c||[]).forEach((function(e){y||QH(e,(function(e){return e.id!==d||(v=e,y=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(e){t.removeItem(e.id)}));var b;for(g=(b=e.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,i=t;(0,rU.isString)(n)&&(i="".concat(t,":").concat(n)),e.hasState(i)===n&&n||(0,rU.isString)(n)&&e.hasState(i)||(r.emit("beforeitemstatechange",{item:e,state:i,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:i,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;(0,rU.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;(0,rU.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;(0,rU.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach((function(e){eq(e,(function(e){var r;return t.forEach((function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if((0,rU.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===d$){var i=e.getEdges();(0,rU.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}else if(e.getType&&e.getType()===p$){var o=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(o||[]).forEach((function(e){u||e.children&&0!==e.children.length&&QH(e,(function(e){return e.id!==a||(s=e.children,u=!0,!1)}))})),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach((function(e){var i=r.findById(e.id);n.changeItemVisibility(i,t)}));i=e.getEdges();(0,rU.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),y$=m$,b$=null,x$=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var i=this,o=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,l=s.disabled;r?(o(t,n,l),a(t,n,u)):(o(t,n,u),a(t,n,l)),b$&&clearTimeout(b$),b$=setTimeout((function(){b$=null,i.updateGraphStates()}),16)}},e.prototype.updateStates=function(e,t,n){var r=this;(0,rU.isString)(t)?this.updateState(e,t,n):t.forEach((function(t){r.updateState(e,t,n)}))},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,rU.each)(t.disabled,(function(t,n){e[n]&&(e[n]=e[n].filter((function(e){return t.indexOf(e)<0&&!t.destroyed})))})),(0,rU.each)(t.enabled,(function(t,n){if(e[n]){var r={};e[n].forEach((function(e){e.destroyed||(r[e.get("id")]=!0)})),t.forEach((function(t){if(!t.destroyed){var i=t.get("id");r[i]||(r[i]=!0,e[n].push(t))}}))}else e[n]=t})),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,b$&&clearTimeout(b$),b$=null,this.destroyed=!0},e}(),w$=x$,E$=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""})):e},k$=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.x,a=i.y;t.push(o),t.push(a)}var s=cJ(t);return s.unshift(["M",e[0].x,e[0].y]),s},_$=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},o=[0,0];HZ(o,[t.x-e.x,t.y-e.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},S$=function(e,t){var n=e.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=e[i];r+=E$(0===i?"M{x} {y}":"L{x} {y}",o)}return t&&(r+="Z"),r},T$=function(e){var t=[];return e.forEach((function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}})),t},C$=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(r),e.unshift(i),e.push(t),e.push(n);for(var o=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,l=e[a].x,c=e[a].y,d=e[a+1].x,f=e[a+1].y,h=l+(d-s)/6,p=c+(f-u)/6,g=d-((a!==e.length-2?e[a+2].x:d)-l)/6,v=f-((a!==e.length-2?e[a+2].y:f)-c)/6;o.push(["C",h,p,g,v,d,f])}return o.unshift(["M",r.x,r.y]),o},M$=function(e,t){return UZ([0,0],HZ([0,0],e),t)},A$=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},I$=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function O$(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=UZ([0,0],A$(e[0],e[1]),t),r=UZ([0,0],n,-1),i=GZ([0,0],e[0],n),o=GZ([0,0],e[1],n),a=GZ([0,0],e[1],r),s=GZ([0,0],e[0],r);return"M ".concat(i," L ").concat(o," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",i].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var i=0===r?e[e.length-1]:e[r-1],o=e[r],a=UZ([0,0],A$(i,o),t);n[r]=[GZ([0,0],i,a),GZ([0,0],o,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return n=n.map((function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})),n.join(" ")}function N$(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=I$(e[0],e[1]),r=M$(n,t),i=GZ([0,0],e[0],UZ([0,0],r,-1)),o=GZ([0,0],e[1],r),a=1.2*t,s=M$(HZ([0,0],n),a),u=UZ([0,0],s,-1),l=GZ([0,0],i,u),c=GZ([0,0],o,u),d=GZ([0,0],i,s);return"M ".concat(i," C ").concat([l,c,o].join(",")," S ").concat([d,i].join(",")," Z")}(e);for(var r=e.map((function(t,r){var i=e[(r+1)%n];return{p:t,v:HZ([0,0],I$(t,i))}})),i=0;i<r.length;++i){var o=HZ([0,0],GZ([0,0],r[i>0?i-1:n-1].v,UZ([0,0],r[i].v,-1)));r[i].p=GZ([0,0],r[i].p,UZ([0,0],o,t))}return r.map((function(e){var t=e.p;return{x:t[0],y:t[1]}}))}var P$=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},D$=function(e){var t=e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}}));if(t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x})),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&P$(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var i=[];for(r=t.length-1;r>=0;r--){for(;i.length>=2&&P$(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}return i.pop(),n.pop(),n.concat(i)},R$={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function L$(e,t,n){var r=!1,i=function(e,n){return t.cells[e+n*t.width]},o=function(e,t){var r=0;return i(e-1,t-1)>=n&&(r+=1),i(e,t-1)>n&&(r+=2),i(e-1,t)>n&&(r+=4),i(e,t)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,l=0;l<t.width*t.height;l++){if(i=s,a=u,e.findIndex((function(e){return e.x===s&&e.y===u}))>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var c=o(s,u);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(c)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)i(e,s)>n&&15!==o(e,s)&&(r=a(e,s));return r}}var j$=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach((function(e){var i=_H(e,t);i>=0&&i<n&&(r=e,n=i)})),r};function F$(e,t,n,r,i){var o=function(e,t,n){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach((function(t){var o={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=TH(o,a),u=new xH(o.x,o.y,a.x,a.y),l=n.reduce((function(e,t){return _H(t,u)>0?e+1:e}),0);s*Math.pow(l+1,2)<i&&(r=t,i=s*Math.pow(l+1,2))})),r}(e,n,t);if(null===o)return[];var a=function(e,t,n,r){var i=[],o=[];o.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach((function(t){n||(MH(e,{x:t.x1,y:t.y1})||MH(e,{x:t.x2,y:t.y2}))&&(n=!0)})),n},l=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(mH(o,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var e=o.pop(),n=j$(t,e);if(n){var c=kH(n,e),d=c[0];if(2===c[1]){var f=function(s){for(var c=r,f=Y$(n,c,d,s),h=u(f,o)||u(f,i),p=l(f,t);!h&&p&&c>=1;)f=Y$(n,c/=1.5,d,s),h=u(f,o)||u(f,i),p=l(f,t);!f||h||s&&p||(o.push(new xH(e.x1,e.y1,f.x,f.y)),o.push(new xH(f.x,f.y,e.x2,e.y2)),a=!0)};f(!0),a||f(!1)}}a||i.push(e),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i}(new xH(e.getModel().x,e.getModel().y,o.getModel().x,o.getModel().y),t,r,i),s=function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var i=e.pop(),o=new xH(r.x1,r.y1,i.x2,i.y2);j$(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(a);return s}var B$=function(e,t,n){var r=Object.assign(R$,n),i=SH(e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}})));e=e.sort((function(e,t){return TH({x:e.getModel().x,y:e.getModel().y},i)-TH({x:t.getModel().x,y:t.getModel().y},i)}));var o=[],a=[];e.forEach((function(e){F$(e,t,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(e){a.push(e)})),o.push(e)}));for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];e.forEach((function(e){i.push(e.getBBox())})),t.forEach((function(e){i.push(e.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),i=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*i)).fill(0),width:r,height:i}}(s.width,s.height,r.pixelGroupSize),l=[],c=[],d=0;d<r.maxMarchingIterations;d++)if(z$(e,t,a,s,u,r),c=[],new L$(l=[],u,r.threshold).march()){var f=l.map((function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}}));if(f){var h=f.length;if(r.skip>1)for(h=Math.floor(f.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(f.length/r.skip);for(var p=0,g=0;g<h;g+=1,p+=r.skip)c.push({x:f[p].x,y:f[p].y})}if(c&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=c.map((function(e){return[e.x,e.y]}));if(!mH(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return c;if(r.threshold*=.9,d<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return c};function z$(e,t,n,r,i,o){function a(e,t){var n=Math.floor((e-t)/o.pixelGroupSize);return n<0?0:n}function s(e,t){return e*o.pixelGroupSize+t}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),l=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(e,t){return[Math.min(a(e.minX,t+r.minX),i.width),Math.min(a(e.minY,t+r.minY),i.height),Math.min(a(e.maxX,-t+r.minX),i.width),Math.min(a(e.maxY,-t+r.minY),i.height)]},d=function(e,t){for(var n=e.getBBox(),a=c(n,o.nodeR1),u=a[0],l=a[1],d=a[2],f=a[3],h=l;h<f;h+=1)for(var p=u;p<d;p+=1)if(!(t<0&&i[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=AH({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;i.cells[p+h*i.width]+=t*y*y}}};o.nodeInfluenceFactor&&e.forEach((function(e){d(e,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(e){!function(e,t){for(var n=e.getBBox(),a=c(n,o.edgeR1),u=a[0],l=a[1],d=a[2],f=a[3],h=l;h<f;h+=1)for(var p=u;p<d;p+=1)if(!(t<0&&i.cells[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=CH({x:g,y:v},e);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;i.cells[p+h*i.width]+=t*y*y}}}(e,o.edgeInfluenceFactor/l)})),o.negativeNodeInfluenceFactor&&t.forEach((function(e){d(e,o.negativeNodeInfluenceFactor/u)}))}function Y$(e,t,n,r){var i=e.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],l={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},c=i.height*i.width;function d(e,t){return i.width*(.5*(e.y-i.minY+(t.y-i.minY)))}if(a)return o?r?l.topLeft:l.bottomRight:s?r?l.bottomLeft:l.topRight:d(a,u)<.5*c?a.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:a.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft;if(u){if(o)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}return d(o,s)<.5*c?o.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:o.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var G$=function(){function e(e,t){this.cfg=(0,rU.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(t){return(0,rU.isString)(t)?e.findById(t):t})),this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,rU.isString)(t)?e.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,i;switch(this.type){case"round-convex":r=hJ(i=O$((n=D$(e)).map((function(e){return[e.x,e.y]})),this.padding));break;case"smooth-convex":2===(n=D$(e)).length?r=hJ(i=O$(n.map((function(e){return[e.x,e.y]})),this.padding)):n.length>2&&(i=N$(n.map((function(e){return[e.x,e.y]})),this.padding),r=C$(i));break;case"bubble":r=(n=B$(e,t,this.cfg.bubbleCfg)).length>=2&&C$(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:(0,nU.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){(0,rU.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){(0,rU.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){(0,rU.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){(0,rU.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map((function(e){return(0,rU.isString)(e)?n.graph.findById(e):e}))),t&&(this.nonMembers=t.map((function(e){return(0,rU.isString)(e)?n.graph.findById(e):e}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr((0,nU.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=(0,rU.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map((function(e){return(0,rU.isString)(e)?t.graph.findById(e):e}))),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,rU.isString)(e)?t.graph.findById(e):e}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,i=(t=(0,rU.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=T$(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]})),bH(n,T$(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),V$=G$,W$=gU,U$=function(e){function t(t){var n=e.call(this)||this;return n.cfg=(0,rU.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new jZ(n.cfg.maxStep),n.redoStack=new jZ(n.cfg.maxStep)),n}return(0,nU.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new DJ(this),t=new cq(this),n=new y$(this),r=new w$(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:YH.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:YH.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:YH.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:YH.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:YH.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return(0,rU.isPlainObject)(e)?this.cfg=(0,nU.__assign)((0,nU.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new jZ(this.cfg.maxStep),this.redoStack=new jZ(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){(0,rU.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return(0,rU.each)(r,(function(e,r){if(t(e,r))return n=e})),n},t.prototype.findAll=function(e,t){var n=[];return(0,rU.each)(this.get("".concat(e,"s")),(function(e,r){t(e,r)&&n.push(e)})),n},t.prototype.findAllByState=function(e,t){return this.findAll(e,(function(e){return e.hasState(t)}))},t.prototype.getAnimateCfgWithCallback=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=(0,rU.clone)(n),n.callback){var i=n.callback;t.callback=function(){r(),i()}}else t.callback=r;else t={duration:500,callback:r};return t},t.prototype.translate=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,rU.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});fH(o,{x:o.getCanvasBBox().x+e,y:o.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=W$(a,[["t",e,t]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var i=this.get("group");fH(i,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},t.prototype.fitView=function(e,t){e&&this.set("fitViewPadding",e);var n=this.get("viewController");t?n.fitViewByRules(t):n.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,rU.clone)(o.getMatrix()),s=this.get("minZoom"),u=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=W$(a,t?[["t",-t.x,-t.y],["s",e,e],["t",t.x,t.y]]:[["s",e,e]]),s&&a[0]<s||u&&a[0]>u)return!1;if(n){var l=(0,rU.clone)(o.getMatrix());l||(l=[1,0,0,0,1,0,0,0,1]);var c=l[0],d=c*e,f=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(e){if(1===e)l=a;else{var n=OH(c,d,e)/l[0];l=W$(l,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:l}}),f)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,t,n,r){var i=e/this.getZoom();return this.zoom(i,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),i=!1;t?i=!0:void 0===t&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(e,i,o),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if((0,rU.isString)(e)&&(n=this.findById(e)),!n&&(0,rU.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var i=(0,nU.__assign)((0,nU.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,nU.__assign)((0,nU.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=iq(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!(0,rU.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var a,s=this.get("comboTrees")||[];if("combo"===e){var u=this.get("itemMap"),l=!1;if(s.forEach((function(n){l||eq(n,(function(n){if(t.parentId===n.id){l=!0;var r=(0,nU.__assign)({id:t.id,depth:n.depth+2},t);n.children?n.children.push(r):n.children=[r],t.depth=r.depth,a=o.addItem(e,t)}var i=u[n.id];return l&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!l){var c=(0,nU.__assign)({id:t.id,depth:0},t);t.depth=c.depth,s.push(c),a=o.addItem(e,t)}this.set("comboTrees",s)}else if("node"===e&&(0,rU.isString)(t.comboId)&&s){var d;(d=this.findById(t.comboId))&&d.getType&&"combo"!==d.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=o.addItem(e,t);var f=this.get("itemMap"),h=!1,p=!1;s.forEach((function(e){p||h||eq(e,(function(e){if(e.id===t.id)return p=!0,!1;if(t.comboId===e.id&&!p){h=!0;var n=(0,rU.clone)(t);n.itemType="node",e.children?e.children.push(n):e.children=[n],n.depth=e.depth+1}return h&&f[e.id].getType&&"combo"===f[e.id].getType()&&o.updateCombo(f[e.id],e.children),!0}))}))}else a=o.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(d=this.findById(t.comboId||t.parentId))&&d.getType&&"combo"===d.getType()&&d.addChild(a);var g=this.get("combos");if(g&&g.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var v=(0,nU.__assign)((0,nU.__assign)({},a.getModel()),{itemType:e}),m={};switch(e){case"node":m.nodes=[v];break;case"edge":m.edges=[v];break;case"combo":m.combos=[v]}this.pushStack("add",{before:{},after:m})}return a}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,rU.isString)(e)?this.findById(e):e;var a=(0,rU.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=(0,nU.__spreadArray)([],i.getStates(),!0);if("combo"===s&&(0,rU.each)(u,(function(e){return r.setItemState(i,e,!1)})),o.updateItem(i,t),"combo"===s&&(0,rU.each)(u,(function(e){return r.setItemState(i,e,!0)})),n&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},d=(0,nU.__assign)({id:a.id},t);switch(s){case"node":l.nodes.push(a),c.nodes.push(d);break;case"edge":l.edges.push(a),c.edges.push(d);break;case"combo":l.combos.push(a),c.combos.push(d)}"node"===s&&l.nodes.push(a),this.pushStack("update",{before:l,after:c})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){(0,rU.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");(0,rU.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){uq(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),(0,rU.each)(r,(function(t){e.add("node",t,!1,!1)})),0!==(null===s||void 0===s?void 0:s.length)){var u=rq(s,r);this.set("comboTrees",u),e.addCombos(s)}(0,rU.each)(o,(function(t){e.add("edge",t,!1,!1)}));var l=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var c=e.get("layoutController");if(c){if(c.layout((function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter();e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",l)})),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",l);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach((function(e){e.toFront()})):this.getEdges().forEach((function(e){e.toBack()})));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,i=this,o=this.get("itemMap");(0,rU.each)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)}))},t.prototype.changeData=function(e,t){void 0===t&&(t=!0);var n=this,r=e||n.get("data");if(!uq(r))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:r}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(e){return n.clearItemStates(e)})),this.getEdges().map((function(e){return n.clearItemStates(e)}));var i=this.get("canvas"),o=i.get("localRefresh");i.set("localRefresh",!1),n.get("data")||(n.data(r),n.render());var a=this.get("itemMap"),s={nodes:[],edges:[]},u=r.combos;if(u){var l=rq(u,r.nodes);this.set("comboTrees",l)}else this.set("comboTrees",[]);this.diffItems("node",s,r.nodes),(0,rU.each)(a,(function(e,t){a[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete a[t],e.destroy()):s.nodes.indexOf(e)<0&&(delete a[t],n.remove(e,!1)))}));for(var c=this.getCombos(),d=c.length-1;d>=0;d--)c[d].destroyed&&c.splice(d,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",s,r.edges),(0,rU.each)(a,(function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&s.edges.indexOf(e)<0&&(delete a[t],n.remove(e,!1))})),this.set({nodes:s.nodes,edges:s.edges});var f=this.get("layoutController");return f&&(f.changeData(),n.get("animate")&&!f.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){i.set("localRefresh",o)}),16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,i="";if(e){if((0,rU.isString)(e))i=e,r={id:e};else{if(!(i=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var o=t.map((function(e){var t=n.findById(e),r=t.getModel(),o="";t.getType&&(o=t.getType());var a={id:t.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(e){eq(e,(function(e){return e.id!==i||(e.itemType="combo",e.children=o,!1)}))})),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if((0,rU.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var i=r.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=r.get("id"),l=[],c=this.get("combos"),d=this.findById(i);if(o.forEach((function(e){a||eq(e,(function(e){var t;if(e.id===u){a=e;var o=r.getEdges().map((function(e){return e.getID()}));o.forEach((function(e){n.removeItem(e,!1)}));var f=c.indexOf(r);c.splice(f,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!i||!a||e.id!==i||(d.removeCombo(r),-1!==(f=(l=e.children).indexOf(a))&&l.splice(f,1),null===(t=a.children)||void 0===t||t.forEach((function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=i,delete e.comboId,r.parentId=i,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=i,r.comboId=i),d.addChild(t),l.push(e)})),!1)}))})),!i&&a){var f=o.indexOf(a);o.splice(f,1),null===(t=a.children)||void 0===t||t.forEach((function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&o.push(e)}))}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){eq(n,(function(n){if(!n)return!0;var r=o[n.id];if(r&&r.getType&&"combo"===r.getType()){var a=(0,nU.__spreadArray)([],r.getStates(),!0);(0,rU.each)(a,(function(e){return t.setItemState(r,e,!1)})),i.updateCombo(r,n.children,e),(0,rU.each)(a,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),n.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if((0,rU.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(e){eq(e,(function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,nU.__spreadArray)([],r.getStates(),!0);(0,rU.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)})),o.updateCombo(r,e.children),(0,rU.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)})),t&&(t=e.parentId)}return!0}))}))}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=(0,rU.isString)(e)?this.findById(e):e).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,l=this.get("comboTrees"),c=!0;if((l||[]).forEach((function(e){u||QH(e,(function(e){if(!u)return e.id===r.getID()&&(u=e),!0}))})),QH(u,(function(e){return e.id!==t||(c=!1,!1)})),!c)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var d={},f={};"combo"===s?(d.combos=[{id:o.id,parentId:o.parentId}],f.combos=[{id:o.id,parentId:t}]):"node"===s&&(d.nodes=[{id:o.id,parentId:o.comboId}],f.nodes=[{id:o.id,parentId:t}]),this.pushStack("updateComboTree",{before:d,after:f})}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(r)}("combo"===s?o.parentId=t:"node"===s&&(o.comboId=t),t)&&((i=this.findById(t))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=iq(this.get("comboTrees"),o.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return(0,rU.each)(this.get("nodes"),(function(t){e.push(t.getModel())})),(0,rU.each)(this.get("edges"),(function(e){t.push(e.getModel())})),(0,rU.each)(this.get("combos"),(function(e){n.push(e.getModel())})),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var t=e.get("nodes"),n=e.get("edges"),r=e.get("edges");(0,rU.each)(t,(function(e){e.refresh()})),(0,rU.each)(n,(function(e){e.refresh()})),(0,rU.each)(r,(function(e){e.refresh()}))}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,rU.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,i=e?t.getNodes().concat(t.getCombos()):t.getNodes(),o=i.map((function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(n){(0,rU.each)(o,(function(e){var i=t.findById(e.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0===o&&i.set("originAttrs",s?{x:s[6],y:s[7]}:0),r){var u=r(i,n,e,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(e.x-o.x)*n,a.y=o.y+(e.y-o.y)*n):(a.x=e.x,a.y=e.y)}})),t.refreshPositions(e)}),{duration:n.duration,easing:n.easing,callback:function(){(0,rU.each)(i,(function(e){e.set("originAttrs",null)})),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){var t=this;t.emit("beforegraphrefreshposition");var n,r=t.get("nodes"),i=t.get("edges"),o=t.get("vedges"),a=t.get("combos"),s={},u=function(e){(0,rU.each)(e,(function(e){n=e.getModel();var t=e.get("originAttrs");if(!t||n.x!==t.x||n.y!==t.y){var r=e.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r)}}))};u(r),a&&0!==a.length&&(e?(u(a),setTimeout((function(){t.updateCombos()}),0)):t.updateCombos()),(0,rU.each)(i,(function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!(0,rU.isPlainObject)(n)){var r=n.getModel();(s[t.id]||s[r.id]||e.getModel().isComboEdge)&&e.refresh()}})),(0,rU.each)(o,(function(e){e.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n){var r=this,i=this.get("layoutController");if((0,rU.isString)(e)&&(e={type:e}),t){var o=n;o||(o="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=["force","gForce","fruchterman"];a.includes(e.type)||!e.type&&a.includes(null===i||void 0===i?void 0:i.layoutType)?e.center=[o.x,o.y]:this.once("afterlayout",(function(e){var n=r.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*n[0]+n[6],o.y=o.y*n[0]+n[7];var i=r.getGroup().getCanvasBBox(),a=i.minX,s=i.maxX,u=i.minY,l={x:(a+s)/2,y:(u+i.maxY)/2};"begin"===t&&(l.x=a,l.y=u),r.translate(o.x-l.x,o.y-l.y)}))}var s=this.get("layout"),u={};Object.assign(u,s,e),this.set("layout",u),i&&(i.isLayoutTypeSame(u)&&u.gpuEnabled===s.gpuEnabled?i.updateLayoutCfg(u):i.changeLayout(u))},t.prototype.destroyLayout=function(){var e=this.get("layoutController");null===e||void 0===e||e.destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),t=this.get("layout");t&&e&&(t.workerEnabled?e.layout():e.layoutMethod?e.relayout(!0):e.layout())},t.prototype.collapseCombo=function(e){var t=this;if(!this.destroyed)if((0,rU.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").collapseCombo(e),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||QH(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l=[];r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((f=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=t.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var c=s.id;if(u["".concat(n.id,"-").concat(c)])return void(u["".concat(n.id,"-").concat(c)]+=f.size||1);var d=t.addItem("vedge",{source:n.id,target:c,isVEdge:!0},!1);u["".concat(n.id,"-").concat(c)]=f.size||1,l.push(d)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var f;if((f=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var h=r.getModel();!r.isVisible();){if(!(r=t.findById(h.parentId||h.comboId))||!h.parentId&&!h.comboId)return;h=r.getModel()}var p=h.id;if(u["".concat(p,"-").concat(n.id)])return void(u["".concat(p,"-").concat(n.id)]+=f.size||1);d=t.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);u["".concat(p,"-").concat(n.id)]=f.size||1,l.push(d)}}})),l.forEach((function(e){var n=e.getModel();t.updateItem(e,{size:u["".concat(n.source,"-").concat(n.target)]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e){var t=this;if((0,rU.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").expandCombo(e),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||QH(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l={};r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget(),s=r.get("id"),c=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(var d=a.getModel();!a.isVisible();){if(!(a=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=a.getModel()}c=d.id;for(var f=r.getModel();!r.isVisible();){if(!(r=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=r.getModel()}if(s=f.id,c){var h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);var p=t.addItem("vedge",{source:s,target:c,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||c===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(f=r.getModel();!r.isVisible();){if(!(r=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=r.getModel()}s=f.id;for(d=a.getModel();!a.isVisible();){if(!(a=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=a.getModel()}if(c=d.id,s){h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);p=t.addItem("vedge",{target:c,source:s,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&e.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e){if((0,rU.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var t=e.getModel(),n=this.findById(t.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}t.collapsed?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var t=[],n={};(this.get("comboTrees")||[]).forEach((function(e){QH(e,(function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],n[e.id]=e.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(e){var r=e.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);t[a]?t[a].push(r.id):t[a]=[r.id]})),t.forEach((function(t){if(t&&t.length)for(var n=t.length-1;n>=0;n--){var r=e.findById(t[n]);r&&r.toFront()}}))}},t.prototype.getNeighbors=function(e,t){var n=e;return(0,rU.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;(0,rU.isString)(e)&&(r=this.findById(e));var i=this.get("degrees");i&&!n||(i=IU(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(t){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?(0,rU.clone)(t):{before:{},after:(0,rU.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=vU(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=vU(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=WU(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,i;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),i=new V$(this,(0,nU.__assign)((0,nU.__assign)({},e),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=(0,rU.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach((function(t){e[t].destroy()})),this.set("hullMap",{}))},t}(lU),Z$=U$;function H$(e){return H$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H$(e)}var q$=gU,X$="-shape",K$="-label",J$=["startArrow","endArrow"],$$={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Q$={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:$$,combo:$$},eQ="-label-bg",tQ={options:{labelCfg:{style:{fontFamily:YH.windowFontFamily}},descriptionCfg:{style:{fontFamily:YH.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:(0,rU.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+X$),t.shapeMap[this.itemType+X$]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+K$),t.shapeMap[this.itemType+K$]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),i=r.rotate;delete r.rotate;var o=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=q$(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=q$(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=q$(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]])}else s=q$(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,o),l=this.itemType+eQ;u.set("classname",l),t.shapeMap[l]=u,o.toFront()}return o},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,i=(0,rU.mix)({},r,e.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),i="".concat(this.itemType,"Label"),o=YH[i]?YH[i].style:null;return(0,nU.__assign)((0,nU.__assign)((0,nU.__assign)({},o),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=t.getKeyShape(),a=(0,rU.mix)({},o.attr(),e.style),s=function(e){var t,n=a[e];if((0,rU.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[e])||i.find((function(t){return t.get("name")===e}));null===s||void 0===s||s.attr(n)}else o.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,i;if(e.label||""===e.label){var o=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+K$,l=o.shapeMap[u]||o.find((function(e){return e.get("className")===u})),c=this.itemType+eQ,d=o.shapeMap[c]||o.find((function(e){return e.get("className")===c}));if(l){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,rU.deepMix)(s,e.labelCfg));var f=this.getLabelStyleByPosition(e,s,o),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=(0,nU.__assign)((0,nU.__assign)({},f),h),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=l.getMatrix())||void 0===i?void 0:i[4])&&l.resetMatrix(),l.attr(p);else{var v=[1,0,0,0,1,0,0,0,1];v=q$(v,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=v,l.attr(p)}if(d)if(p.background){var m=this.getLabelBgStyleByPosition(l,s);d.attr(m)}else o.removeChild(d);else p.background&&((d=this.drawLabelBg(e,o,l)).set("classname",c),o.shapeMap[c]=d,l.toFront())}else{var y=this.drawLabel(e,o);y.set("className",u),o.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=(0,rU.isBoolean)(t)?e:"".concat(e,":").concat(t),l=this.getStateStyle(u,n),c=n.getStateStyle(u);if(c||l){var d=(0,rU.mix)({},c||l),f=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=d[e];if((0,rU.isPlainObject)(n)&&!J$.includes(e)){var r=(null===(o=f.shapeMap)||void 0===o?void 0:o[e])||f.find((function(t){return t.get("name")===e}));null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var g in d)p(g)}else{var v=sq(n.getCurrentStatesStyle()),m=n.getModel(),y=(0,rU.mix)({},m.style,sq(n.getOriginStyle())),b=a.get("name"),x=a.attr(),w={};Object.keys(x).forEach((function(e){if("img"!==e){var t=x[e];t&&"object"===H$(t)?w[e]=(0,rU.clone)(t):w[e]=t}}));var E={},k=function(e){var t=d[e];if((0,rU.isPlainObject)(t)&&!J$.includes(e)){var n=f.shapeMap[e]||f.find((function(t){return t.get("name")===e}));if(n){var r=sq(n.attr());(0,rU.each)(t,(function(t,i){if(e===b&&w[i]&&!h[i]){delete w[i];var o=y[e][i]||Q$[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=y[e][i]||Q$[s][i];n.attr(i,u)}})),E[e]=r}}else if(w[e]&&!h[e]){delete w[e];var i=y[e]||(y[b]?y[b][e]:void 0)||Q$[s][e];a.attr(e,i)}};for(var _ in d)k(_);for(var g in b?E[b]=w:(0,rU.mix)(E,w),v)if(!h[g]){var S=v[g];(0,rU.isPlainObject)(S)&&!J$.includes(g)||(b?((0,rU.mix)(y[b],((i={})[g]=S,i)),delete y[g]):(0,rU.mix)(y,((r={})[g]=S,r)),delete v[g])}var T={};(0,rU.deepMix)(T,y,E,v);var C=!1,M=function(e){var t,n,r=T[e];if((0,rU.isPlainObject)(r)&&!J$.includes(e)){var i=f.shapeMap[e]||f.find((function(t){return t.get("name")===e}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),C=!0),i.attr(r))}else if(!C){var o=r||Q$[s][e];"combo"===s?b||a.attr(((t={})[e]=o,t)):a.attr(((n={})[e]=o,n))}};for(var A in T)M(A)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:o&&o[e];return"combo"===r?(0,rU.clone)(u):(0,rU.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},nQ={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:YH.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||YH.defaultNode.size;return(0,rU.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,rU.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var r=t.offset;(0,rU.isNil)(r)&&(r=this.offset);var i,o=this.getSize(e);switch(n){case"top":i={x:0,y:-o[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":i={x:0,y:o[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":i={x:-o[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:i={x:o[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return i.text=e.label,i},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var i=e.getBBox(),o=CJ(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return(0,nU.__assign)((0,nU.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),i=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=i,i},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,i=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),o=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),a=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),s=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=(0,rU.mix)({},n,e.linkPoints),l=u.fill,c=u.stroke,d=u.lineWidth,f=u.size/2;f||(f=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,g=h.right,v=h.top,m=h.bottom,y=this.getSize(e),b=y[0],x=y[1],w={r:f,fill:l,stroke:c,lineWidth:d};if(i)p||void 0===p?i.attr((0,nU.__assign)((0,nU.__assign)({},w),{x:-b/2,y:0})):(i.remove(),delete t.shapeMap["link-point-left"]);else if(p){var E="link-point-left";t.shapeMap[E]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},w),{x:-b/2,y:0}),className:E,name:E,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete t.shapeMap["link-point-right"]),o.attr((0,nU.__assign)((0,nU.__assign)({},w),{x:b/2,y:0}));else if(g){var k="link-point-right";t.shapeMap[k]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},w),{x:b/2,y:0}),className:k,name:k,isAnchorPoint:!0})}if(a)v||void 0===v||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr((0,nU.__assign)((0,nU.__assign)({},w),{x:0,y:-x/2}));else if(v){var _="link-point-top";t.shapeMap[_]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},w),{x:0,y:-x/2}),className:_,name:_,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr((0,nU.__assign)((0,nU.__assign)({},w),{x:0,y:x/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var S="link-point-bottom";t.shapeMap[S]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},w),{x:0,y:x/2}),className:S,name:S,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,i){t.get("keyShape").attr((0,nU.__assign)({},n)),this.updateLabel(e,t,i),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),i=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(e){return e.get("name")==="".concat(n.type,"-icon")}));if(u)if(a||void 0===a){var l=(0,rU.mix)({},u.attr(),i),c=l.width,d=void 0===c?20:c,f=l.height,h=void 0===f?20:f;("iconfont"===l.fontFamily||l.hasOwnProperty("text"))&&(d=0,h=0),u.attr((0,nU.__assign)((0,nU.__assign)({},l),{x:-d/2,y:-h/2}))}else u.remove();else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{d=i.width,h=i.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,nU.__assign)((0,nU.__assign)({},i),{x:-d/2,y:-h/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find((function(e){return"node-label"===e.get("name")}));g&&g.toFront()}}},rQ=(0,nU.__assign)((0,nU.__assign)({},tQ),nQ);ZJ.registerNode("single-node",rQ);var iQ="edge-shape";var oQ={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:YH.defaultEdge.size,style:{x:0,y:0,stroke:YH.defaultEdge.style.stroke,lineAppendWidth:YH.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:YH.edgeLabel.style.fill,fontSize:YH.edgeLabel.style.fontSize,fontFamily:YH.windowFontFamily}},stateStyles:(0,nU.__assign)({},YH.edgeStateStyles)},getPath:function(e){var t=[];return(0,rU.each)(e,(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,rU.mix)({},t,n,e.style),i=e.size||YH.defaultEdge.size,o=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[o];s&&(u=u.concat(s)),u.push(a);var l=this.getPath(u);return(0,rU.mix)({},YH.defaultEdge.style,{stroke:YH.defaultEdge.color,lineWidth:i,path:l},r)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||i.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var d=o.attr(),f=e.style||{};void 0===f.stroke&&(f.stroke=e.color);var h=e.sourceNode,p=e.targetNode,g={radius:f.radius};l||(g={source:h,target:p,offset:f.offset,radius:f.radius});var v=this.getPath(c,g),m={};"move"===n?m={path:v}:(d.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),d.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""}),void 0===(m=(0,nU.__assign)({},e.style)).lineWidth&&(m.lineWdith=((0,rU.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||d.lineWidth),void 0===m.path&&(m.path=v),void 0===m.stroke&&(m.stroke=d.stroke||e.color)),o&&o.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,i=t.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap[iQ];r="start"===i?0:"end"===i?1:.5;var s,u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+u,o.y=e.startPoint.y+l,o.text=e.label,o;s=(0,rU.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var c=KH(a,r,u,l,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=(0,nU.__assign)((0,nU.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,rU.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:iQ,name:iQ,attrs:n});return t.shapeMap[iQ]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=(0,rU.deepMix)({},n,e.labelCfg),i=this.getLabelStyle(e,r,t),o=i.rotate;delete i.rotate;var a=t.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(e,t,a,i,o),u=this.itemType+eQ;s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,i){var o=this.options.labelCfg,a=(0,rU.deepMix)({},o,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},aQ=(0,nU.__assign)((0,nU.__assign)({},tQ),oQ);ZJ.registerEdge("single-edge",aQ),ZJ.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ZJ.registerEdge("spline",{getPath:function(e){return k$(e)}},"single-edge"),ZJ.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,i=e.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=aH(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=t.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=t.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),(0,rU.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+o,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=aH(r,n,i)}var l=sH(r,t);return[{x:l,y:l}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),ZJ.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,rU.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,rU.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[_$(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),ZJ.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,rU.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,rU.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[_$(n,r,e.curvePosition[0],e.curveOffset[0]),_$(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),ZJ.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,rU.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,rU.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,rU.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),ZJ.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,rU.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,rU.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,rU.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+i[0],y:t.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),ZJ.registerEdge("loop",{getPathPoints:function(e){return XH(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var sQ={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:YH.comboLabel.refX,refY:YH.comboLabel.refY,options:{style:{stroke:YH.defaultCombo.style.stroke,fill:YH.defaultCombo.style.fill,lineWidth:YH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:YH.comboLabel.style.fill,fontSize:YH.comboLabel.style.fontSize,fontFamily:YH.windowFontFamily}},stateStyles:(0,nU.__assign)({},YH.comboStateStyles)},getSize:function(e){var t=(0,rU.clone)(e.size||this.options.size||YH.defaultCombo.size);return(0,rU.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),(0,rU.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,rU.isArray)(i)&&(i=i[0]);var o=t.refX,a=t.refY;(0,rU.isNil)(o)&&(o=this.refX),(0,rU.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),l=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-l-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-l+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,nU.__assign)({},n)),this.updateLabel(e,t)}},uQ=(0,nU.__assign)((0,nU.__assign)({},tQ),sQ);ZJ.registerCombo("single-combo",uQ),ZJ.registerCombo("circle",{options:{size:[YH.defaultCombo.size[0],YH.defaultCombo.size[0]],padding:YH.defaultCombo.padding[0],animate:!0,style:{stroke:YH.defaultCombo.style.stroke,fill:YH.defaultCombo.style.fill,lineWidth:YH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:YH.comboLabel.style.fill,fontSize:YH.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,nU.__assign)({},YH.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,rU.isArray)(n)&&(n=n[0]);var r,i={stroke:e.color},o=(0,rU.mix)({},t,i,e.style);if(e.fixSize)r=(0,rU.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!(0,rU.isNumber)(o.r)||isNaN(o.r)?a[0]/2||YH.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=(0,nU.__assign)({x:0,y:0},o);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,rU.isArray)(r)&&(r=r[0]);var i,o=(0,rU.clone)(e.style);i=e.fixSize?(0,rU.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=t.get("sizeCache");a&&(a.r=o.r);var s={stroke:e.color},u=t.get("keyShape"),l=(0,rU.mix)({},u.attr(),s,o);e.style?e.style.r=i:e.style={r:i},this.updateShape(e,t,l,!0)}},"single-combo"),ZJ.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:YH.defaultCombo.style.stroke,fill:YH.defaultCombo.style.fill,lineWidth:YH.defaultCombo.style.lineWidth},labelCfg:{style:{fill:YH.comboLabel.style.fill,fontSize:YH.comboLabel.style.fontSize,fontFamily:YH.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,nU.__assign)({},YH.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,rU.isNumber)(i)&&(i=[i,i,i,i]);var o=t.refX,a=t.refY;(0,rU.isNil)(o)&&(o=this.refX),(0,rU.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],l=r.height/2+i[0];switch(n){case"top":s={x:0-u+o,y:0-l+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,rU.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:e.color},a=(0,rU.mix)({},t,o,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,rU.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!(0,rU.isNumber)(a.width)||isNaN(a.width)?s[0]||YH.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,rU.isNumber)(a.height)||isNaN(a.height)?s[1]||YH.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var l=-r/2-n[3],c=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var d=(0,nU.__assign)({x:l,y:c},a);return e.style?(e.style.width=r,e.style.height=i):e.style={width:r,height:i},d},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,rU.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=(0,rU.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?(0,rU.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var l={stroke:e.color},c=t.get("keyShape"),d=(0,rU.mix)({},c.attr(),l,a);e.style?(e.style.width=i,e.style.height=o):e.style={width:i,height:o},this.updateShape(e,t,d,!1)},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,nU.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),ZJ.registerNode("simple-circle",{options:{size:YH.defaultNode.size,style:{x:0,y:0,stroke:YH.defaultNode.style.stroke,fill:YH.defaultNode.style.fill,lineWidth:YH.defaultNode.style.lineWidth},labelCfg:{style:{fill:YH.nodeLabel.style.fill,fontSize:YH.nodeLabel.style.fontSize,fontFamily:YH.windowFontFamily}},stateStyles:(0,nU.__assign)({},YH.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),i=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=i,i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,nU.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=this.getSize(e),i={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),a=(0,rU.deepMix)({},o.attr(),i,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),ZJ.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:YH.defaultNode.style.stroke,fill:YH.defaultNode.style.fill,lineWidth:YH.defaultNode.style.lineWidth},labelCfg:{style:{fill:YH.nodeLabel.style.fill,fontSize:YH.nodeLabel.style.fontSize,fontFamily:YH.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,nU.__assign)({},YH.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,nU.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,i=this.getSize(e),o=t.get("keyShape");e.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,rU.mix)({},r,o.attr(),a);s=(0,rU.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),ZJ.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:YH.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var i=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,i),i},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:(0,nU.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,l=n.height,c=i-u/2,d=o-l/2;t.setClip({type:"rect",attrs:(0,nU.__assign)({x:c,y:d,width:u,height:l},a)})}else if("ellipse"===r){var f=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:(0,nU.__assign)({x:i,y:o,rx:f,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:(0,nU.__assign)({points:p},a)})}else if("path"===r){var g=n.path;t.setClip({type:"path",attrs:(0,nU.__assign)({path:g},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,i=this.getSize(e),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),(0,nU.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find((function(e){return e.get("className")===r}))||t.getKeyShape(),o=this.getShapeStyle(e);i&&!i.destroyed&&i.attr(o)}},"single-node");var lQ,cQ={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,i,o){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+t+i;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},dQ={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t+i],["L",e+r,t+i],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t-i],["L",e+r,t-i],["L",e,t+n],["Z"]]}},fQ=ZJ,hQ=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],pQ=gU,gQ=(0,nU.__assign)((0,nU.__assign)((0,nU.__assign)((0,nU.__assign)((0,nU.__assign)((0,nU.__assign)({},a),r),s),t),u),{transform:pQ,mat3:cU}),vQ=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map((function(e){return(null===e||void 0===e?void 0:e.type)||""})):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every((function(e,n){return e===t[n]})):(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType;e.data;t&&(t.get("animate")?t.positionsAnimate("comboCombined"===n):t.refreshPositions("comboCombined"===n))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach((function(e){e.destroy()})),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],i=[],o=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),l=this.graph.getCombos(),c=s.length,d=0;d<c;d++){var f=s[d];if(f&&!f.destroyed){var h=f.getModel();f.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(d=0;d<p;d++){var g=u[d];if(g&&!g.destroyed){h=g.getModel();g.isVisible()?h.isComboEdge?i.push(h):n.push(h):r.push(h)}}var v=l.length;for(d=0;d<v;d++){var m=l[d];if(!m.destroyed){h=m.getModel();m.isVisible()?o.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:o,hiddenCombos:a,comboEdges:i}},e.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){var o=n.graph,a=null===t||void 0===t?void 0:t.type;t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},e.init(n.data),"force"===a&&(e.ticking=!1,e.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.relayout=function(e){var t=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;this.initPositions(o.center,a)}r.emit("beforelayout");var s=Promise.resolve();null===i||void 0===i||i.forEach((function(e,n){var r=o[n];s=s.then((function(){return t.reLayoutMethod(e,r)}))})),(null===i||void 0===i?void 0:i.length)&&s.then((function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()})).catch((function(e){console.warn("relayout failed",e)}))},e.prototype.filterLayoutData=function(e,t){var n,r,i=e.nodes,o=e.edges,a=(0,nU.__rest)(e,["nodes","edges"]);if(!i)return e;n=(0,rU.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=i.filter(n);if((0,rU.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce((function(e,t){return e[t.id]=!0,e}),{});r=function(e){return u[e.source]&&u[e.target]}}return(0,nU.__assign)({nodes:s,edges:o.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,rU.groupBy)(t.getNodes(),(function(e){return e.getModel().layoutOrder})),r=Object.values(n).map((function(e){var t=OJ(e);return t.size=[t.width,t.height],t}));return{groupNodes:Object.values((0,rU.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!IJ(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var i=e[r];t[0]+=i.x,t[1]+=i.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(i=e[r]).x-=t[0],i.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var l=e[0]-i/2,c=e[1]-o/2,d=!0,f=0;f<r;f++){var h=t[f];IJ(+h.x)&&(d=!1,h.x=f%a*s+l),IJ(+h.y)&&(d=!1,h.y=Math.floor(f/a)*u+c)}return d}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),mQ=vQ,yQ=function(e){this.graph=e,this.destroyed=!1,this.initEvents()},bQ=yQ;!function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.MOUSEDOWN="mousedown",e.MOUDEUP="mouseup",e.CONTEXTMENU="contextmenu",e.MOUSEENTER="mouseenter",e.MOUSEOUT="mouseout",e.MOUSEOVER="mouseover",e.MOUSEMOVE="mousemove",e.MOUSELEAVE="mouseleave",e.DRAGSTART="dragstart",e.DRAGEND="dragend",e.DRAG="drag",e.DRAGENTER="dragenter",e.DRAGLEAVE="dragleave",e.DRAGOVER="dragover",e.DRAGOUT="dragout",e.DDROP="drop",e.KEYUP="keyup",e.KEYDOWN="keydown",e.WHEEL="wheel",e.FOCUS="focus",e.BLUR="blur",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.CANVAS_TOUCHSTART="canvas:touchstart",e.CANVAS_TOUCHMOVE="canvas:touchmove",e.CANVAS_TOUCHEND="canvas:touchend",e.NODE_TOUCHSTART="node:touchstart",e.NODE_TOUCHMOVE="node:touchmove",e.NODE_TOUCHEND="node:touchend",e.COMBO_TOUCHSTART="combo:touchstart",e.COMBO_TOUCHMOVE="combo:touchmove",e.COMBO_TOUCHEND="combo:touchend",e.EDGE_TOUCHSTART="edge:touchstart",e.EDGE_TOUCHMOVE="edge:touchmove",e.EDGE_TOUCHEND="edge:touchend",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_CLICK="node:click",e.NODE_DBLCLICK="node:dblclick",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEOUT="node:mouseout",e.NODE_MOUSEOVER="node:mouseover",e.NODE_DROP="node:drop",e.NODE_DRAGOVER="node:dragover",e.NODE_DRAGENTER="node:dragenter",e.NODE_DRAGLEAVE="node:dragleave",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DRAGEND="node:dragend",e.NODE_TAP="node:tap",e.NODE_PANSTART="node:panstart",e.NODE_PANMOVE="node:panmove",e.NODE_PANEND="node:panend",e.COMBO_CONTEXTMENU="combo:contextmenu",e.COMBO_CLICK="combo:click",e.COMBO_DBLCLICK="combo:dblclick",e.COMBO_MOUSEDOWN="combo:mousedown",e.COMBO_MOUSEUP="combo:mouseup",e.COMBO_MOUSEENTER="combo:mouseenter",e.COMBO_MOUSELEAVE="combo:mouseleave",e.COMBO_MOUSEMOVE="combo:mousemove",e.COMBO_MOUSEOUT="combo:mouseout",e.COMBO_MOUSEOVER="combo:mouseover",e.COMBO_DROP="combo:drop",e.COMBO_DRAGOVER="combo:dragover",e.COMBO_DRAGENTER="combo:dragenter",e.COMBO_DRAGLEAVE="combo:dragleave",e.COMBO_DRAGSTART="combo:dragstart",e.COMBO_DRAG="combo:drag",e.COMBO_DRAGEND="combo:dragend",e.COMBO_TAP="combo:tap",e.COMBO_PANSTART="combo:panstart",e.COMBO_PANMOVE="combo:panmove",e.COMBO_PANEND="combo:panend",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_CLICK="edge:click",e.EDGE_DBLCLICK="edge:dblclick",e.EDGE_MOUSEDOWN="edge:mousedown",e.EDGE_MOUSEUP="edge:mouseup",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_MOUSEMOVE="edge:mousemove",e.EDGE_MOUSEOUT="edge:mouseout",e.EDGE_MOUSEOVER="edge:mouseover",e.EDGE_DROP="edge:drop",e.EDGE_DRAGOVER="edge:dragover",e.EDGE_DRAGENTER="edge:dragenter",e.EDGE_DRAGLEAVE="edge:dragleave",e.CANVAS_CONTEXTMENU="canvas:contextmenu",e.CANVAS_CLICK="canvas:click",e.CANVAS_DBLCLICK="canvas:dblclick",e.CANVAS_MOUSEDOWN="canvas:mousedown",e.CANVAS_MOUSEUP="canvas:mouseup",e.CANVAS_MOUSEENTER="canvas:mouseenter",e.CANVAS_MOUSELEAVE="canvas:mouseleave",e.CANVAS_MOUSEMOVE="canvas:mousemove",e.CANVAS_MOUSEOUT="canvas:mouseout",e.CANVAS_MOUSEOVER="canvas:mouseover",e.CANVAS_DROP="canvas:drop",e.CANVAS_DRAGENTER="canvas:dragenter",e.CANVAS_DRAGLEAVE="canvas:dragleave",e.CANVAS_DRAGSTART="canvas:dragstart",e.CANVAS_DRAG="canvas:drag",e.CANVAS_DRAGEND="canvas:dragend",e.CANVAS_TAP="canvas:tap",e.CANVAS_PANSTART="canvas:panstart",e.CANVAS_PANMOVE="canvas:panmove",e.CANVAS_PANEND="canvas:panend",e.BEFORERENDER="beforerender",e.AFTERRENDER="afterrender",e.BEFOREADDITEM="beforeadditem",e.AFTERADDITEM="afteradditem",e.BEFOREREMOVEITEM="beforeremoveitem",e.AFTERREMOVEITEM="afterremoveitem",e.BEFOREUPDATEITEM="beforeupdateitem",e.AFTERUPDATEITEM="afterupdateitem",e.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",e.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",e.BEFOREITEMSTATECHANGE="beforeitemstatechange",e.AFTERITEMSTATECHANGE="afteritemstatechange",e.BEFOREITEMREFRESH="beforeitemrefresh",e.AFTERITEMREFRESH="afteritemrefresh",e.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",e.AFTERITEMSTATESCLEAR="afteritemstatesclear",e.BEFOREMODECHANGE="beforemodechange",e.AFTERMODECHANGE="aftermodechange",e.BEFORELAYOUT="beforelayout",e.AFTERLAYOUT="afterlayout",e.BEFORECREATEEDGE="beforecreateedge",e.AFTERCREATEEDGE="aftercreateedge",e.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",e.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",e.BEFOREGRAPHREFRESH="beforegraphrefresh",e.AFTERGRAPHREFRESH="aftergraphrefresh",e.BEFOREANIMATE="beforeanimate",e.AFTERANIMATE="afteranimate",e.BEFOREPAINT="beforepaint",e.AFTERPAINT="afterpaint",e.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",e.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",e.GRAPHSTATECHANGE="graphstatechange",e.AFTERACTIVATERELATIONS="afteractivaterelations",e.NODESELECTCHANGE="nodeselectchange",e.TOOLTIPCHANGE="tooltipchange",e.WHEELZOOM="wheelzoom",e.VIEWPORTCHANGE="viewportchange",e.DRAGNODEEND="dragnodeend",e.STACKCHANGE="stackchange",e.TAP="tap",e.PINCHSTART="pinchstart",e.PINCHMOVE="pinchmove",e.PANSTART="panstart",e.PANMOVE="panmove",e.PANEND="panend"}(lQ||(lQ={}));var xQ=fQ.registerNode,wQ=fQ.registerEdge,EQ=fQ.registerCombo,kQ=sU.registerBehavior,_Q=YH,SQ=(fQ.registerNode,fQ.registerEdge,fQ.registerCombo,sU.registerBehavior,n(69252));function TQ(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function CQ(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function MQ(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function AQ(e,t){return e[0]===t[0]&&e[1]===t[1]}var IQ=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,OQ=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,NQ=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,PQ=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function DQ(e,t){var n=e.match(PQ);(0,rU.each)(n,(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function RQ(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,rU.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,i,o=IQ.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var l=Math.tan(a),c=l*l,d=(i.x-r.x+l*(i.y-r.y))/(c+1)+r.x,f=l*(i.x-r.x+l*(i.y-r.y))/(c+1)+r.y,h=e.createLinearGradient(r.x,r.y,d,f);return DQ(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=OQ.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(PQ);return u[u.length-1].split(":")[1]}var l=t.getBBox(),c=l.maxX-l.minX,d=l.maxY-l.minY,f=Math.sqrt(c*c+d*d)/2,h=e.createRadialGradient(l.minX+c*i,l.minY+d*o,0,l.minX+c/2,l.minY+d/2,a*f);return DQ(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,i,o=NQ.exec(n),a=o[1],s=o[2];function u(){r=e.createPattern(i,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function LQ(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function jQ(e,t){return LQ(e)*LQ(t)?(e[0]*t[0]+e[1]*t[1])/(LQ(e)*LQ(t)):1}function FQ(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(jQ(e,t))}function BQ(e,t){var n=t[1],r=t[2],i=(0,rU.mod)((0,rU.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],d=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,f=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=d*d/(n*n)+f*f/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(f*f)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,m=n?g*-r*d/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(d-v)/n,(f-m)/r],w=[(-1*d-v)/n,(-1*f-m)/r],E=FQ([1,0],x),k=FQ(x,w);return jQ(x,w)<=-1&&(k=Math.PI),jQ(x,w)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:AQ(e,[l,c])?0:n,ry:AQ(e,[l,c])?0:r,startAngle:E,endAngle:E+k,xRotation:i,arcFlag:o,sweepFlag:a}}var zQ=Math.sin,YQ=Math.cos,GQ=Math.atan2,VQ=Math.PI;function WQ(e,t,n,r,i,o,a){var s=t.stroke,u=t.lineWidth,l=GQ(r-o,n-i),c=new P0({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*YQ(VQ/6)+","+10*zQ(VQ/6)+" L0,0 L"+10*YQ(VQ/6)+",-"+10*zQ(VQ/6),stroke:s,lineWidth:u}});c.translate(i,o),c.rotateAtPoint(i,o,l),e.set(a?"startArrowShape":"endArrowShape",c)}function UQ(e,t,n,r,i,o,a){var s=t.startArrow,u=t.endArrow,l=t.stroke,c=t.lineWidth,d=a?s:u,f=d.d,h=d.fill,p=d.stroke,g=d.lineWidth,v=(0,nU.__rest)(d,["d","fill","stroke","lineWidth"]),m=GQ(r-o,n-i);f&&(i-=YQ(m)*f,o-=zQ(m)*f);var y=new P0({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,nU.__assign)((0,nU.__assign)({},v),{stroke:p||l,lineWidth:g||c,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),e.set(a?"startArrowShape":"endArrowShape",y)}function ZQ(e,t,n,r,i){var o=GQ(r-t,n-e);return{dx:YQ(o)*i,dy:zQ(o)*i}}function HQ(e,t,n,r,i,o){"object"===typeof t.startArrow?UQ(e,t,n,r,i,o,!0):t.startArrow?WQ(e,t,n,r,i,o,!0):e.set("startArrowShape",null)}function qQ(e,t,n,r,i,o){"object"===typeof t.endArrow?UQ(e,t,n,r,i,o,!1):t.endArrow?WQ(e,t,n,r,i,o,!1):e.set("startArrowShape",null)}var XQ={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function KQ(e,t){var n=t.attr();for(var r in n){var i=n[r],o=XQ[r]?XQ[r]:r;"matrix"===o&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&e.setLineDash?(0,rU.isArray)(i)&&e.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=RQ(e,t,i):"globalAlpha"===o&&(i*=e.globalAlpha),e[o]=i)}}function JQ(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];i.cfg.visible?i.draw(e,n):i.skipDraw()}}function $Q(e,t,n){var r=e.get("refreshElements");(0,rU.each)(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?t0(t,n):QQ(t,n)}function QQ(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&t0(r.cfg.children,t);else if(r.cfg.refresh)r.isGroup()&&QQ(r.cfg.children,t);else{var i=n0(r,t);r.cfg.refresh=i,i&&r.isGroup()&&QQ(r.cfg.children,t)}}}function e0(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&e0(n.cfg.children)}}function t0(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&t0(r.get("children"),t)}}function n0(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&MQ(n,t)}function r0(e,t,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],l={dx:0,dy:0};t.beginPath();for(var c=0;c<i.length;c++){var d=i[c],f=d[0];if(0===c&&o&&o.d)l=ZQ((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){if("Z"===i[c+1][0])l=ZQ((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===i.length-1&&a&&a.d){var h;if("Z"!==i[0])l=ZQ((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=l.dx,g=l.dy;switch(f){case"M":t.moveTo(d[1]-p,d[2]-g),u=[d[1],d[2]];break;case"L":t.lineTo(d[1]-p,d[2]-g);break;case"Q":t.quadraticCurveTo(d[1],d[2],d[3]-p,d[4]-g);break;case"C":t.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-p,d[6]-g);break;case"A":var v=void 0;r?(v=r[c])||(v=BQ(s,d),r[c]=v):v=BQ(s,d);var m=v.cx,y=v.cy,b=v.rx,x=v.ry,w=v.startAngle,E=v.endAngle,k=v.xRotation,_=v.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,k,w,E,1-_);else{var S=b>x?b:x,T=b>x?1:b/x,C=b>x?x/b:1;t.translate(m,y),t.rotate(k),t.scale(T,C),t.arc(0,0,S,w,E,1-_),t.scale(1/T,1/C),t.rotate(-k),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===f)s=u;else{var M=d.length;s=[d[M-2],d[M-1]]}}}}function i0(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function o0(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var i=e.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,t=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?t=i:s&&(t=a)}return t}var a0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.onCanvasChange=function(e){i0(this,e)},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),KQ(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];(0,rU.each)(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var i=(0,rU.min)(t),o=(0,rU.max)(t),a=(0,rU.min)(n),s=(0,rU.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var l=u.getViewRange();this.set("isInView",MQ(r,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),KQ(e,this),this._applyClip(e,this.getClip()),JQ(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(EK),s0=a0,u0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return s0},t.prototype.onCanvasChange=function(e){i0(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=CK(e)(this),r=t/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),KQ(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!MQ(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),KQ(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=MQ(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isFill()&&((0,rU.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&((0,rU.isNil)(i)||1===i||(e.globalAlpha=i),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(_K),l0=u0,c0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,l=i/2,c=TQ(a,s,e,t);return r&&n?c<=u+l:r?c<=u:!!n&&(c>=u-l&&c<=u+l)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.r;e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.closePath()},t}(l0),d0=c0;function f0(e,t,n,r){return e/(n*n)+t/(r*r)}var h0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,l=o.rx,c=o.ry,d=(e-s)*(e-s),f=(t-u)*(t-u);return r&&n?f0(d,f,l+a,c+a)<=1:r?f0(d,f,l,c)<=1:!!n&&(f0(d,f,l-a,c-a)>=1&&f0(d,f,l+a,c+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(l0),p0=h0;function g0(e){return e instanceof HTMLElement&&(0,rU.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var v0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if((0,rU.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):g0(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.sx,s=t.sy,u=t.swidth,l=t.sheight,c=t.img;(c instanceof Image||g0(c))&&((0,rU.isNil)(a)||(0,rU.isNil)(s)||(0,rU.isNil)(u)||(0,rU.isNil)(l)?e.drawImage(c,n,r,i,o):e.drawImage(c,a,s,u,l,n,r,i,o))},t}(l0),m0=v0;function y0(e,t,n,r,i,o,a){var s=Math.min(e,n),u=Math.max(e,n),l=Math.min(t,r),c=Math.max(t,r),d=i/2;return o>=s-d&&o<=u+d&&a>=l-d&&a<=c+d&&LK.pointToLine(e,t,n,r,o,a)<=i/2}var b0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow;o&&HQ(this,e,r,i,t,n),a&&qQ(this,e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){if(!n||!i)return!1;var o=this.attr();return y0(o.x1,o.y1,o.x2,o.y2,i,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},l={dx:0,dy:0};a&&a.d&&(u=ZQ(n,r,i,o,t.startArrow.d)),s&&s.d&&(l=ZQ(n,r,i,o,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(i-l.dx,o-l.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return LK.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return LK.pointAt(n,r,i,o,e)},t}(l0),x0=b0,w0={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},E0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,rU.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,rU.isFunction)(a))n=vJ(n=(e=a)(i,o,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(i,o,s)}return n},t.prototype.createPath=function(e){r0(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=w0,t}(l0),k0=E0;function _0(e,t,n){var r=iJ();return e.createPath(r),r.isPointInPath(t,n)}function S0(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function T0(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function C0(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(T0(a,s,[t,n]))return!0;S0(a[1]-n)>0!==S0(s[1]-n)>0&&S0(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function M0(e,t,n,r,i,o,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var l={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return TQ(l.x,l.y,a,s)<=o/2}var A0=gU;var I0=(0,nU.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],i=[],o=0;o<t;o++){var a=e[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],l=u.currentPoint,c=u.params,d=u.prePoint,f=u.box;if(!f||CQ(f.x-a,f.y-a,f.width+t,f.height+t,n,r)){switch(u.command){case"L":case"Z":o=y0(d[0],d[1],l[0],l[1],t,n,r);break;case"Q":o=VK.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],n,r)<=t/2;break;case"C":o=XK.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,g=h.cy,v=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,w=[n,r,1],E=v>m?v:m,k=A0(null,[["t",-p,-g],["r",-x],["s",1/(v>m?1:v/m),1/(v>m?m/v:1)]]);zZ.kK(w,w,k),o=M0(0,0,E,y,b,t,w[0],w[1])}if(o)break}}return o}},i);function O0(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=C0(e[i],t,n))break}return r}var N0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=vJ(e);var t=I0.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=kJ(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&HQ(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&qQ(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=I0.isPointInStroke(o,i,e,t,u)}if(!s&&r)if(a)s=_0(this,e,t);else{var l=this.attr("path"),c=I0.extractPolygons(l);s=O0(c.polygons,e,t)||O0(c.polylines,e,t)}return s},t.prototype.createPath=function(e){r0(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,rU.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,rU.each)(r,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,rU.isNil)(o)||(0,rU.isNil)(n))return null;var a=o.length,s=i[n+1];return XK.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",I0.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,i=0,o=0,a=[],s=this.get("curve");s&&((0,rU.each)(s,(function(e,t){n=s[t+1],r=e.length,n&&(i+=XK.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,rU.each)(s,(function(u,l){n=s[l+1],r=u.length,n&&((e=[])[0]=o/i,t=XK.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t||0,e[1]=o/i,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,i=t[n-1].currentPoint,o=t[n-1].endTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([r[0],r[1]]),e.push([i[0],i[1]]))}return e},t}(l0),P0=N0;function D0(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(y0(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],u=e[o-1];if(y0(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var R0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr().points,a=!1;return n&&(a=D0(o,i,e,t,!0)),!a&&r&&(a=C0(o,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(l0),L0=R0,j0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,i=t.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],l=n[o-1][1];r&&HQ(this,e,n[1][0],n[1][1],a,s),i&&qQ(this,e,n[o-2][0],n[o-2][1],u,l)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!(!n||!i)&&D0(this.attr().points,i,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,i=t.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d)s+=(a=ZQ(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)l-=(a=ZQ(n[o-2][0],n[o-2][1],l,c,i.d)).dx,c-=a.dy;e.beginPath(),e.moveTo(s,u);for(var d=0;d<o-1;d++){var f=n[d];e.lineTo(f[0],f[1])}e.lineTo(l,c)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,rU.isNil)(t)?(this.set("totalLength",eJ(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,rU.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),LK.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,rU.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=LK.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(l0),F0=j0;var B0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,l=o.height,c=o.radius;if(c){var d=!1;return n&&(d=function(e,t,n,r,i,o,a,s){return y0(e+i,t,e+n-i,t,o,a,s)||y0(e+n,t+i,e+n,t+r-i,o,a,s)||y0(e+n-i,t+r,e+i,t+r,o,a,s)||y0(e,t+r-i,e,t+i,o,a,s)||M0(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||M0(e+n-i,t+r-i,i,0,.5*Math.PI,o,a,s)||M0(e+i,t+r-i,i,.5*Math.PI,Math.PI,o,a,s)||M0(e+i,t+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,l,c,i,e,t)),!d&&r&&(d=_0(this,e,t)),d}var f=i/2;return r&&n?CQ(a-f,s-f,u+f,l+f,e,t):r?CQ(a,s,u,l,e,t):n?function(e,t,n,r,i,o,a){var s=i/2;return CQ(e-s,t-s,n,i,o,a)||CQ(e+n-s,t-s,i,r,o,a)||CQ(e+s,t+r-s,n,i,o,a)||CQ(e-s,t+s,i,r,o,a)}(a,s,u,l,i,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,i,o);else{var s=function(e){var t=0,n=0,r=0,i=0;return(0,rU.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,[t,n,r,i]}(a),u=s[0],l=s[1],c=s[2],d=s[3];e.moveTo(n+u,r),e.lineTo(n+i-l,r),0!==l&&e.arc(n+i-l,r+l,l,-Math.PI/2,0),e.lineTo(n+i,r+o-c),0!==c&&e.arc(n+i-c,r+o-c,c,0,Math.PI/2),e.lineTo(n+d,r+o),0!==d&&e.arc(n+d,r+o-d,d,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(l0),z0=B0,Y0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=aJ(e)},t.prototype._setText=function(e){var t=null;(0,rU.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,l=this._getSpaceingY(),c=oJ(i.text,i.fontSize,i.lineHeight);(0,rU.each)(t,(function(t,i){r=s+i*(l+u)-c+u,"middle"===o&&(r+=c-u-(c-u)/2),"top"===o&&(r+=c-u),(0,rU.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(e,o,t);else{var a=n.text;(0,rU.isNil)(a)||(t?e.fillText(a,r,i):e.strokeText(a,r,i))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isStroke()&&n>0&&((0,rU.isNil)(i)||1===i||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&((0,rU.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(l0),G0=Y0;function V0(e,t,n){var r=e.getTotalMatrix();if(r){var i=function(e,t){return t?cX(dX(t),e):e}([t,n,1],r);return[i[0],i[1]]}return[t,n]}function W0(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!Xq(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=V0(e,t,n),i=r[0],o=r[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function U0(e,t,n){if(!W0(e,t,n))return null;for(var r=null,i=e.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=U0(a,t,n);else if(W0(a,t,n)){var s=a,u=V0(a,t,n),l=u[0],c=u[1];s.isInShape(l,c)&&(r=a)}if(r)break}return r}var Z0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return s0},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&r.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?U0(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],i=[];return(0,rU.each)(e,(function(e){var o=o0(e);o&&(t.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,rU.min)(t),minY:(0,rU.min)(n),maxX:(0,rU.max)(r),maxY:(0,rU.max)(i)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&MQ(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,rU.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),KQ(e,this),JQ(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),KQ(e,this),$Q(this,n,r),JQ(e,n,r),e.restore()):t.length&&e0(t),(0,rU.each)(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=(0,rU.requestAnimationFrame)((function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)})),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(xK),H0=Z0,q0={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},X0={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function K0(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J0(e){var t=q0[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=K0(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function $0(e,t){var n=e.get("el"),r=(0,rU.toArray)(n.children).sort(t),i=document.createDocumentFragment();r.forEach((function(e){i.appendChild(e)})),n.appendChild(i)}function Q0(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],i=0;i<9;i+=3)r.push(t[i]+","+t[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function e1(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){J0(n),n.createPath(t);var i=t.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function t1(e,t){t.forEach((function(t){t.draw(e)}))}function n1(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=e.getParent(),o=i?i.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter((function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()})),i=r[t],o=r.indexOf(e);if(i){if(o>t)n.insertBefore(e,i);else if(o<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,o.indexOf(e));else if("sort"===t){var l=e.get("children");l&&l.length&&$0(e,(function(e,t){return l.indexOf(e)-l.indexOf(t)?1:0}))}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?Q0(e):"clip"===t?e1(e,r):"attr"===t||"add"===t&&e.draw(r)}}var r1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,nU.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=K0("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){n1(this,e)},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),e1(this,e),this.createPath(e),t.length&&t1(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(e,t){X0[t]&&r.setAttribute(X0[t],e)})),Q0(this)},t}(EK),i1=r1,o1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return i1},t.prototype.onCanvasChange=function(e){n1(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=CK(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,l=r-u,c=i-u;return{x:l,y:c,minX:l,minY:c,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||J0(this),e1(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,l=n.lineWidth,c=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",i):this._setColor(e,"fill",r||i),s&&c.setAttribute(X0.fillOpacity,s)),this.canStroke&&l>0&&(t?"stroke"in n?this._setColor(e,"stroke",o):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",o||a),u&&c.setAttribute(X0.strokeOpacity,u),l&&c.setAttribute(X0.lineWidth,l))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=e.find("gradient",n))||(i=e.addGradient(n)),r.setAttribute(X0[t],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=e.find("pattern",n))||(i=e.addPattern(n)),r.setAttribute(X0[t],"url(#"+i+")")}else r.setAttribute(X0[t],n);else r.setAttribute(X0[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=t.find("filter",i);o||(o=t.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&Q0(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=e+r.left,o=t+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(_K),a1=o1,s1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):X0[t]&&r.setAttribute(X0[t],e)}))},t}(a1),u1=s1,l1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,nU.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if((0,rU.each)(t||n,(function(e,t){X0[t]&&r.setAttribute(X0[t],e)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},t}(a1),c1=l1,d1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):X0[t]&&r.setAttribute(X0[t],e)}))},t}(a1),f1=d1,h1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,rU.each)(t||r,(function(e,t){"img"===t?n._setImage(r.img):X0[t]&&i.setAttribute(X0[t],e)}))},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if((0,rU.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,rU.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(a1),p1=h1,g1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(t,i){if("startArrow"===i||"endArrow"===i)if(t){var o=(0,rU.isObject)(t)?e.addArrow(n,X0[i]):e.getDefaultArrow(n,X0[i]);r.setAttribute(X0[i],"url(#"+o+")")}else r.removeAttribute(X0[i]);else X0[i]&&r.setAttribute(X0[i],t)}))},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return LK.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return LK.pointAt(n,r,i,o,e)},t}(a1),v1=g1,m1={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},y1={get:function(e){return m1[e]},register:function(e,t){m1[e]=t},remove:function(e){delete m1[e]},getAll:function(){return m1}},b1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,rU.isArray)(e)?e.map((function(e){return e.join(" ")})).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,i=t.r||t.radius,o=t.symbol||"circle";return(e=(0,rU.isFunction)(o)?o:y1.get(o))?e(n,r,i):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=y1,t}(a1),x1=b1,w1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,rU.each)(t||r,(function(t,o){if("path"===o&&(0,rU.isArray)(t))i.setAttribute("d",n._formatPath(t));else if("startArrow"===o||"endArrow"===o)if(t){var a=(0,rU.isObject)(t)?e.addArrow(r,X0[o]):e.getDefaultArrow(r,X0[o]);i.setAttribute(X0[o],"url(#"+a+")")}else i.removeAttribute(X0[o]);else X0[o]&&i.setAttribute(X0[o],t)}))},t.prototype._formatPath=function(e){var t=e.map((function(e){return e.join(" ")})).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(a1),E1=w1,k1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(e,t){"points"===t&&(0,rU.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):X0[t]&&r.setAttribute(X0[t],e)}))},t}(a1),_1=k1,S1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,rU.each)(t||n,(function(e,t){"points"===t&&(0,rU.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):X0[t]&&r.setAttribute(X0[t],e)}))},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,rU.isNil)(t)?(this.set("totalLength",eJ(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,rU.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),LK.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,rU.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=LK.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(a1),T1=S1;var C1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,rU.each)(t||r,(function(e,t){-1===a.indexOf(t)||o?-1===a.indexOf(t)&&X0[t]&&i.setAttribute(X0[t],e):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius;if(!o)return"M "+t+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,i=0;return(0,rU.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}(o);return(0,rU.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(a1),M1=C1,A1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},I1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},O1={left:"left",start:"left",center:"middle",right:"end",end:"end"},N1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,nU.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,nU.__assign)((0,nU.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,rU.each)(t||r,(function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?Q0(n):X0[t]&&i.setAttribute(X0[t],e)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,i=aX();i&&"firefox"===i.name?e.setAttribute("dominant-baseline",I1[n]||"alphabetic"):e.setAttribute("alignment-baseline",A1[n]||"baseline"),e.setAttribute("text-anchor",O1[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";(0,rU.each)(a,(function(e,t){0===t?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"})),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(a1),P1=N1,D1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,R1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function j1(e){var t=e.match(L1);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),(0,rU.each)(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var F1=function(){function e(e){this.cfg={};var t=null,n=(0,rU.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,i=D1.exec(e),o=(0,rU.mod)((0,rU.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,l=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,c=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",l),t.setAttribute("y2",c),t.innerHTML=j1(a)}(e,t=K0("linearGradient")):function(e,t){var n=R1.exec(e),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",i),t.setAttribute("r",o),t.innerHTML=j1(a)}(e,t=K0("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),B1=F1,z1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Y1={x:"-40%",y:"-40%",width:"200%",height:"200%"},G1=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=K0("filter");return(0,rU.each)(Y1,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=(0,rU.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return(0,rU.each)(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},e.prototype.update=function(e,t){var n=this.cfg;return n[z1[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),V1=G1,W1=function(){function e(e,t){this.cfg={};var n=K0("marker"),r=(0,rU.uniqueId)("marker_");n.setAttribute("id",r);var i=K0("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===o?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,rU.isArray)(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),U1=W1,Z1=function(){function e(e){this.type="clip",this.cfg={};var t=K0("clipPath");this.el=t,this.id=(0,rU.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),H1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,q1=function(){function e(e){this.cfg={};var t=K0("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=K0("image");t.appendChild(n);var r=(0,rU.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var i=H1.exec(e)[2];n.setAttribute("href",i);var o=new Image;function a(){t.setAttribute("width",""+o.width),t.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),X1=q1,K1=function(){function e(e){var t=K0("defs"),n=(0,rU.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(e,t)){r=n[i].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new U1(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new B1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new U1(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new V1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new X1(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new Z1(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),J1=K1,$1=function(e){function t(t){return e.call(this,(0,nU.__assign)((0,nU.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,nU.__extends)(t,e),t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return i1},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!q0[r.tagName]){for(var i=r.parentNode;i&&!q0[i.tagName];)i=i.parentNode;r=i}return this.find((function(e){return e.get("el")===r}))},t.prototype.createDom=function(){var e=K0("svg"),t=new J1(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&$0(this,(function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0}))}else if("clear"===e){if(n){n.innerHTML="";var i=t.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===e?Q0(this):"clip"===e?e1(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();e1(this,e),t.length&&t1(e,t)},t}(xK),Q1=$1,e2=n(3861),t2=n.n(e2),n2=n(47045),r2=n.n(n2),i2=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function o2(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function a2(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function s2(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function u2(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=r2()(e),i=5;i>0;i-=1){var o=r.toHsv(),a=r2()({h:o2(o,i,!0),s:a2(o,i,!0),v:s2(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),l=r2()({h:o2(u,s),s:a2(u,s),v:s2(u,s)}).toHexString();n.push(l)}return"dark"===t.theme?i2.map((function(e){var r=e.index,i=e.opacity;return r2().mix(t.backgroundColor||"#141414",n[r],100*i).toHexString()})):n}var l2={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},c2={},d2={};Object.keys(l2).forEach((function(e){c2[e]=u2(l2[e]),c2[e].primary=c2[e][5],d2[e]=u2(l2[e],{theme:"dark",backgroundColor:"#141414"}),d2[e].primary=d2[e][5]}));c2.red,c2.volcano,c2.gold,c2.orange,c2.yellow,c2.lime,c2.green,c2.cyan,c2.blue,c2.geekblue,c2.purple,c2.magenta,c2.grey;var f2=function(e,t,n){var r=t2()(e),i=t2()(t);return t2()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},h2=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=f2(t,e,.05).rgb().toString(),i=f2(t,e,.1).rgb().toString(),o=f2(t,e,.2).rgb().toString(),a=f2(t,e,.4).rgb().toString(),s=f2(t,n,.02).rgb().toString(),u=f2(t,n,.05).rgb().toString(),l=f2(t,n,.1).rgb().toString(),c=f2(t,n,.2).rgb().toString(),d=f2(t,n,.3).rgb().toString(),f=u2(e,{theme:"default",backgroundColor:t}),h=t2()(e).hex().toLowerCase(),p=f.indexOf(h),g=e;return-1!==p&&(g=f[p+1]),{mainStroke:e,mainFill:i,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:d,edgeActiveStroke:e,edgeInactiveStroke:c,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:d,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:d,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=f2(t,e,.2).rgb().toString(),i=f2(t,e,.3).rgb().toString(),o=f2(t,e,.6).rgb().toString(),a=f2(t,e,.8).rgb().toString(),s=f2(t,n,.2).rgb().toString(),u=f2(t,n,.25).rgb().toString(),l=f2(t,n,.3).rgb().toString(),c=f2(t,n,.4).rgb().toString(),d=f2(t,n,.5).rgb().toString(),f=u2(e,{theme:"dark",backgroundColor:t}),h=t2()(e).hex().toLowerCase(),p=f.indexOf(h),g=e;return-1!==p&&(g=f[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:c,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:c,comboDisableFill:s}}(e,t,"#777")},p2=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return e.forEach((function(e){i.push(h2(e,t,n,r))})),i},g2="rgb(0, 0, 0)",v2=h2("rgb(95, 149, 255)","rgb(255, 255, 255)"),m2={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:v2.mainStroke,fill:v2.mainFill},size:20,color:v2.mainStroke,linkPoints:{size:8,lineWidth:1,fill:v2.activeFill,stroke:v2.activeStroke}},nodeStateStyles:{active:{fill:v2.activeFill,stroke:v2.activeStroke,lineWidth:2,shadowColor:v2.mainStroke,shadowBlur:10},selected:{fill:v2.selectedFill,stroke:v2.selectedStroke,lineWidth:4,shadowColor:v2.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:v2.highlightFill,stroke:v2.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:v2.inactiveFill,stroke:v2.inactiveStroke,lineWidth:1},disable:{fill:v2.disableFill,stroke:v2.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:g2,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:v2.edgeMainStroke,lineAppendWidth:2},color:v2.edgeMainStroke},edgeStateStyles:{active:{stroke:v2.edgeActiveStroke,lineWidth:1},selected:{stroke:v2.edgeSelectedStroke,lineWidth:2,shadowColor:v2.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:v2.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:v2.edgeInactiveStroke,lineWidth:1},disable:{stroke:v2.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:g2,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:v2.comboMainFill,lineWidth:1,stroke:v2.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:v2.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:v2.comboActiveStroke,lineWidth:1,fill:v2.comboActiveFill},selected:{stroke:v2.comboSelectedStroke,lineWidth:2,fill:v2.comboSelectedFill,shadowColor:v2.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:v2.comboHighlightStroke,lineWidth:2,fill:v2.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:v2.comboInactiveStroke,fill:v2.comboInactiveFill,lineWidth:1},disable:{stroke:v2.comboDisableStroke,fill:v2.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function y2(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}var b2=gQ.cloneEvent,x2=gQ.isViewportChanged,w2=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return(0,nU.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),i=r.get("el"),o=(0,rU.wrapBehavior)(this,"onCanvasEvents"),a=(0,rU.wrapBehavior)(this,"onExtendEvents"),s=(0,rU.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(y2(i,"DOMMouseScroll",s)),n.push(y2(i,"mousewheel",s)),"undefined"!==typeof window&&(n.push(y2(window,"keydown",a)),n.push(y2(window,"keyup",a)),n.push(y2(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),x2(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,i===r)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(o,e),void n.emit("canvas:".concat(o),e);var u=t.getItemRoot(i);if(u){var l=u.get("item");if(!l.destroyed){var c=l.getType();if(e.target=i,e.item=l,e.canvasX===e.x&&e.canvasY===e.y){var d=n.getCanvasByPoint(e.x,e.y);e.canvasX=d.x,e.canvasY=d.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(c,":").concat(o),e):n.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,c)}}else n.emit(o,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,rU.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=e.target===i?null:e.item;e=b2(e),r&&r!==o&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),o&&r!==o&&(e.item=o,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=o},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this,t=e.graph,n=e.canvasHandler,r=e.extendEvents;t.get("canvas").off("*",n),(0,rU.each)(r,(function(e){e.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(bQ),E2=w2,k2=n(68253),_2=n(7701),S2=n.n(_2),T2=gQ.traverseTree,C2=function(e,t){return e?(0,rU.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},M2=function(e,t){var n=[],r=[],i={},o=0;for(o=0;o<e.length;o++){var a=e[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<t.length;o++){var s=t[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<e.length;o++){var l=n.length,c=r[o],d=c.length;n[4*o+2]=l,n[4*o+3]=c.length,u=Math.max(u,c.length);for(var f=0;f<d;++f){var h=c[f];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},A2=function(e,t,n){var r=[],i=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<t.length;a++){var u=t[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var l=0;for(a=0;a<e.length;a++){var c=r.length,d=i[a],f=d.length;r[4*a+2]=c,r[4*a+3]=f/2,l=Math.max(l,f/2);for(var h=0;h<f;++h){var p=d[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},I2=function(e,t,n,r){var i=[],o=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<t.length;s++){var l=t[s];o[a[l.source]].push(a[l.target]),o[a[l.source]].push(n(l)),o[a[l.source]].push(r(l)),o[a[l.source]].push(0),o[a[l.target]].push(a[l.source]),o[a[l.target]].push(n(l)),o[a[l.target]].push(r(l)),o[a[l.target]].push(0)}var c=0;for(s=0;s<e.length;s++){var d=i.length,f=o[s],h=f.length;i[4*s+2]=d+1048576*h/4,i[4*s+3]=0,c=Math.max(c,h/4);for(var p=0;p<h;++p){var g=f[p];i.push(+g)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},O2=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},N2=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)},P2=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";t&&["V","TB","BT"].indexOf(t)>=0&&(o="x",i="y");var a=0;T2(e,(function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0}));var s=2*Math.PI/a,u=r[o]-n[o];return 0===u||T2(e,(function(t){var r=(t[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0})),e},D2=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",i=e().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},R2=(0,nU.__assign)((0,nU.__assign)((0,nU.__assign)((0,nU.__assign)({},gQ),d),f),h),L2=R2.radialLayout,j2=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=S2()[t.type](e,t.config);return L2(n),n}:this.layoutMethod=function(e){return S2()[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}(),F2=j2;(0,k2.registerLayout)("grid",k2.GridLayout),(0,k2.registerLayout)("random",k2.RandomLayout),(0,k2.registerLayout)("force",k2.ForceLayout),(0,k2.registerLayout)("circular",k2.CircularLayout),(0,k2.registerLayout)("dagre",k2.DagreLayout),(0,k2.registerLayout)("dagreCompound",k2.DagreCompoundLayout),(0,k2.registerLayout)("radial",k2.RadialLayout),(0,k2.registerLayout)("concentric",k2.ConcentricLayout),(0,k2.registerLayout)("mds",k2.MDSLayout),(0,k2.registerLayout)("fruchterman",k2.FruchtermanLayout),(0,k2.registerLayout)("fruchterman-gpu",k2.FruchtermanGPULayout),(0,k2.registerLayout)("gForce",k2.GForceLayout),(0,k2.registerLayout)("gForce-gpu",k2.GForceGPULayout),(0,k2.registerLayout)("comboForce",k2.ComboForceLayout),(0,k2.registerLayout)("comboCombined",k2.ComboCombinedLayout),(0,k2.registerLayout)("forceAtlas2",k2.ForceAtlas2Layout);var B2=function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},z2=function(e){void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");var t=new B2((function(){var e="LAYOUT_RUN",t="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(i){(function(t){var n=t.data.type;return n===e||n===r})(i)&&function(i){var o=this;switch(i.data.type){case e:var a,s=i.data,u=s.nodes,l=s.edges,c=s.layoutCfg,d=(v=void 0===c?{}:c).type;if(!(f=layout.getLayoutByName(d))){this.postMessage({type:n,message:"layout ".concat(d," not found")});break}v.onLayoutEnd=function(){o.postMessage({type:t,nodes:u}),null===a||void 0===a||a.destroy()},(a=new f(v)).init({nodes:u,edges:l}),a.execute();break;case r:var f,h=i.data,p=h.nodes,g=(l=h.edges,h.layoutCfg),v=void 0===g?{}:g,m=h.canvas;if(d=v.type,!(f=layout.getLayoutByName(d))){this.postMessage({type:n,message:"layout ".concat(d," not found")});break}if("gpu"!==d.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(d," does not support GPU")});break}var y=new f(v);y.init({nodes:p,edges:l}),y.executeWithWorker(m,this)}}(i)}}),e);return t},Y2="LAYOUT_RUN",G2="LAYOUT_END",V2="LAYOUT_ERROR",W2="LAYOUT_TICK",U2="GPU_LAYOUT_RUN",Z2="GPU_LAYOUT_END";function H2(e){return H2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H2(e)}var q2,X2,K2,J2,$2=function(e){return setTimeout(e,16)},Q2=function(e){return clearTimeout(e)},e3=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||$2)(e)},t3=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Q2)(e)},n3=["fruchterman","gForce"],r3=["force","grid","circular"],i3=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,nU.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=z2(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(t3(e.requestId),e.requestId=null),e.requestId2&&(t3(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,nU.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,u,l,c;return(0,nU.__generator)(this,(function(d){switch(d.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=e.onTick,l=function(){a&&a(),n.refreshPositions()},e.tick=l):"comboForce"!==o&&"comboCombined"!==o||(e.comboTrees=n.get("comboTrees")),!1;try{s=new k2.Layouts[o](e)}catch(f){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return s.enableTick&&(u=e.onTick,l=function(){u&&u(),n.refreshPositions()},s.tick=l),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach((function(e){e.layoutOrder=t}))}(c=this.filterLayoutData(this.data,e),t),s.init(c),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return d.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}}))}))}))},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,nU.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return(0,nU.__generator)(this,(function(a){switch(a.label){case 0:return n=this.graph,i=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,t),e.init(o),e.updateCfg(t),n.emit("beforesublayout",{type:i}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var l=u.type;l&&"gpu"===l.split("-")[1]&&(l=l.split("-")[0],u.gpuEnabled=!0);var c=!1;u.gpuEnabled&&(c=!0,D2().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),c=!1)),this.isGPU=c;var d=u.onLayoutEnd,f=u.layoutEndFormatted,h=u.adjust;if(f||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,nU.__awaiter)(t,void 0,void 0,(function(){return(0,nU.__generator)(this,(function(e){switch(e.label){case 0:return d&&d(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),g=!1;return u.type?(g=!0,p=p.then((function(){return(0,nU.__awaiter)(t,void 0,void 0,(function(){return(0,nU.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}}))}))}))):u.pipes&&(g=!0,u.pipes.forEach((function(e,n){p=p.then((function(){return(0,nU.__awaiter)(t,void 0,void 0,(function(){return(0,nU.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}}))}))}))}))),g&&p.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()})).catch((function(e){console.warn("graph layout failed,",e)})),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then((function(){return t.runWebworker(i,e,n)}));else if(n.pipes){s=!0;for(var u=function(n){a=a.then((function(){return t.runWebworker(i,e,n)}))},l=0,c=n.pipes;l<c.length;l++){u(c[l])}}return s&&a.then((function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()})).catch((function(e){console.error("layout failed",e)})),!0},t.prototype.runWebworker=function(e,t,n){var r=this,i=this.isGPU,o=this.filterLayoutData(t,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),l=i&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,c=function(e,t){var n={};if(e&&"object"===H2(e))return Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])})),n;return e}(n,(function(e){return"function"!==typeof e}));if(l){var d=u.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),e.postMessage({type:U2,nodes:a,edges:s,layoutCfg:c,canvas:d},[d])}else e.postMessage({type:Y2,nodes:a,edges:s,layoutCfg:c});return new Promise((function(t,i){e.onmessage=function(e){r.handleWorkerMessage(t,i,e,o,n)}}))},t.prototype.handleWorkerMessage=function(e,t,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=s.type,l=function(){i.onTick&&i.onTick()};switch(u){case W2:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=e3((function(){a3(r,s),o.refreshPositions(),l(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=e3((function(){a3(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,l(),e()}))),a.requestId=null})));break;case G2:null==a.currentTick&&(a3(r,s),e());break;case Z2:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),e());break;case V2:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=(0,rU.mix)({},this.layoutCfg,e);if(this.layoutCfg=i,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve(),a=!1;1===r.length?(a=!0,o=o.then((function(){return(0,nU.__awaiter)(t,void 0,void 0,(function(){return(0,nU.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],i)];case 1:return[2,e.sent()]}}))}))}))):(a=!0,null===r||void 0===r||r.forEach((function(e,n){var r=i.pipes[n];o=o.then((function(){return(0,nU.__awaiter)(t,void 0,void 0,(function(){return(0,nU.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}}))}))}))}))),a&&o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(e){console.warn("layout failed",e)}))}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise((function(r){var i=e.nodes;(null===i||void 0===i?void 0:i.length)||r(),r3.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,l=(0,rU.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach((function(e,t){var n,r,i,o=e.x-(null===(n=l[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=l[t])||void 0===r?void 0:r.y);null===(i=s[t])||void 0===i||i.forEach((function(e){e.x+=o,e.y+=a}))})),r()},new k2.Layouts[t](o).layout({nodes:u})}))},t.prototype.hasGPUVersion=function(e){return n3.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(mQ),o3=i3;function a3(e,t){for(var n=e.nodes,r=t.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function s3(e){q2||(q2=document.createElement("table"),X2=document.createElement("tr"),K2=/^\s*<(\w+|!)[^>]*>/,J2={tr:document.createElement("tbody"),tbody:q2,thead:q2,tfoot:q2,td:X2,th:X2,"*":document.createElement("div")});var t=K2.test(e)&&RegExp.$1;t&&t in J2||(t="*");var n=J2[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var u3=gU,l3=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,nU.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new o3(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new E2(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new Q1({container:e,width:i,height:o});else{var a={container:e,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new H0(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;(0,rU.each)(e.get("plugins"),(function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)}))},t.prototype.downloadImageWatermark=function(e,t,n,r){return(0,nU.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,nU.__generator)(this,(function(s){switch(s.label){case 0:return i=e.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise((function(e){a.onload=function(){var i=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=i,t.fill(),e("")}}))];case 1:return s.sent(),[2]}}))}))},t.prototype.asyncToDataUrl=function(e,t,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),l=u.getRenderer(),c=o||u.get("el"),d="";e||(e="image/png"),setTimeout((function(){return(0,nU.__awaiter)(a,void 0,void 0,(function(){var o,a,u,f,h,p,g,v,m,y;return(0,nU.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==l?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),f=(new XMLSerializer).serializeToString(u),d="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(f)),[3,4]);case 1:return h=void 0,p=c.getContext("2d"),g=r||this.get("width"),v=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,g,v)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,g*y,v*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,g,v)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}d=c.toDataURL(e),t&&(p.clearRect(0,0,g,v),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(d),[2]}}))}))}),16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");e||(e="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var l=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(l))}else{var c=void 0,d=i.getContext("2d"),f=this.get("width"),h=this.get("height"),p=void 0;if(t){var g="undefined"!==typeof window?window.devicePixelRatio:1;try{c=d.getImageData(0,0,f*g,h*g),p=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=t,d.fillRect(0,0,f,h)}catch(v){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(e),t&&(d.clearRect(0,0,f,h),d.putImageData(c,0,0),d.globalCompositeOperation=p)}return o},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=s3('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?(0,rU.isNumber)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var c=i+l[0]+l[2],d=o+l[1]+l[3],f={container:s,height:c,width:d,quickHit:!0},h="svg"===a?new Q1(f):new H0(f),p=this.get("group").clone(),g=(0,rU.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;g=u3(g,[["t",-v,-m],["t",o/2+l[3],i/2+l[0]]]),p.resetMatrix(),p.setMatrix(g),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,l=y.getContext("2d"),f=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=l.getImageData(0,0,d*h,c*h),f=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=u,l.fillRect(0,0,d,c)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(l.clearRect(0,0,d,c),l.putImageData(s,0,0),l.globalCompositeOperation=f)}e&&e(b)}),16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=s3('<div id="virtual-image"></div>'),l=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,rU.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var f=o+d[0]+d[2],h=a+d[1]+d[3];if(l){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;f=Math.ceil(f/v)*v,h=Math.ceil(h/g)*g}var m={container:u,height:f,width:h},y="svg"===s?new Q1(m):new H0(m),b=this.get("group").clone(),x=(0,rU.clone)(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(i.maxX+i.minX)/2,E=(i.maxY+i.minY)/2;x=u3(x,[["t",-w,-E],["t",a/2+d[3],o/2+d[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var k=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,c,(function(n){var i=document.createElement("a"),o=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}),h,f,k)},t.prototype.downloadImage=function(e,t,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();t||(t="image/png");var a=(e||"graph")+("svg"===o?".svg":t.split("/")[1]),s=document.createElement("a");i.asyncToDataUrl(t,n,(function(e){r.dataURLToImage(e,o,s,a);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),s.dispatchEvent(t)}))},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var i=e.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(c)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=m2.waterMarkerImage);var n=this.get("container");(0,rU.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,rU.deepMix)({},m2.imageWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new H0(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=u.rotate,h=u.x,p=u.y;d.rotate(-f*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=e,g.onload=function(){if(d.drawImage(g,h,p,u.width,u.height),d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");(0,rU.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,rU.deepMix)({},m2.textWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new H0(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=u.rotate,h=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,m=u.x,y=u.y,b=u.lineHeight;d.rotate(-f*Math.PI/180),d.font="".concat(g,"px ").concat(p),d.fillStyle=h,d.textBaseline=v;for(var x=e.length-1;x>=0;x--)d.fillText(e[x],m,y+x*b);if(d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,i;(0,rU.each)(this.get("plugins"),(function(e){e.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),e.prototype.destroy.call(this)},t}(Z$),c3=l3,d3=R2.radialLayout,f3=R2.traverseTree,h3=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,nU.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=S2()[e.type](t,e);return d3(n),n}:function(t){return S2()[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return(0,rU.each)(e,(function(e,r){if(t===e.id)return n=r,!1})),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,i=e.data;i&&(i.x=e.x,i.y=e.y,i.depth=e.depth);var o=r.addItem("node",i,!1);if(t){if(o.set("parent",t),n){var a=t.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=t.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(o):t.set("children",[o]),r.addItem("edge",{source:t.get("id"),target:o.get("id"),id:"".concat(t.get("id"),":").concat(o.get("id"))},!1)}return(0,rU.each)(e.children||[],(function(e){r.innerAddChild(e,o,n)})),r.emit("afteraddchild",{item:o,parent:t}),o},t.prototype.innerUpdateChild=function(e,n,r){var i=this,o=i.findById(e.id);if(o){(0,rU.each)(e.children||[],(function(e){i.innerUpdateChild(e,o,r)}));var a,s,u=o.get("children");if(u)if(u.length>0)for(var l=u.length-1;l>=0;l--){var c=u[l].getModel();-1===t.indexOfChild(e.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:e.x,y:e.y},r),u.splice(l,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var d=o.getModel();r&&o.set("originAttrs",{x:d.x,y:d.y}),o.set("model",e.data),a===e.x&&s===e.y||o.updatePosition({x:e.x,y:e.y})}else i.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,i=r.findById(e);if(i)if((0,rU.each)(i.get("children"),(function(e){r.innerRemoveChild(e.getModel().id,t,n)})),n){var o=i.getModel();i.set("to",t),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map((function(e){return t.clearItemStates(e)})),this.getEdges().map((function(e){return t.clearItemStates(e)})),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t.getLayout()),t.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this,n=t.get("data"),r=t.get("layoutMethod"),i=r?r(n,t.get("layout")):n,o=t.get("animate");(t.emit("beforerefreshlayout",{data:n,layoutData:i}),t.emit("beforelayout"),t.innerUpdateChild(i,void 0,o),e)&&t.get("viewController").fitView();o?t.layoutAnimate(i):(t.refresh(),t.paint()),t.emit("afterrefreshlayout",{data:n,layoutData:i}),t.emit("afterlayout")},t.prototype.addChild=function(e,t){var n=this;n.emit("beforeaddchild",{model:e,parent:t}),(0,rU.isString)(t)||(t=t.get("id"));var r=n.findDataById(t);r&&(r.children||(r.children=[]),r.children.push(e),n.changeData())},t.prototype.updateChildren=function(e,t){var n=this;t&&n.findById(t)?(n.findDataById(t).children=e,n.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){var r=this;if(n&&r.findById(n)){var i=r.findDataById(n),o=r.findById(e.id);if(i.children||(i.children=[]),o){var a=t.indexOfChild(i.children,e.id);i.children[a]=e}else i.children.push(e);r.changeData()}else r.changeData(e)},t.prototype.removeChild=function(e){var n=this,r=n.findById(e);if(r){var i=r.get("parent");if(i&&!i.destroyed){var o=n.findDataById(i.get("id")),a=o&&o.children||[],s=r.getModel(),u=t.indexOfChild(a,s.id);a.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return(0,rU.each)(t.children||[],(function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0})),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach((function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){f3(e,(function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),t){var u=t(o,r,a,e);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0})),(0,rU.each)(n.get("removeList"),(function(e){var t=e.getModel(),n=e.get("originAttrs"),i=e.get("to");t.x=n.x+(i.x-n.x)*r,t.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,rU.each)(n.getNodes(),(function(e){e.set("originAttrs",null)})),(0,rU.each)(n.get("removeList"),(function(e){n.removeItem(e)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,t=e.get("data");if(!t||!(0,rU.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(c3),p3=h3;function g3(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var v3=function(){function e(e){this._cfgs=(0,rU.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};(0,rU.each)(n,(function(n,i){var o=(0,rU.wrapBehavior)(t,n);r[i]=o,e.on(i,o)})),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,rU.each)(t,(function(t,n){e.off(n,t)})),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),m3=v3,y3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b3="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",x3=function(e){function t(t){return e.call(this,t)||this}return y3(t,e),t.prototype.getDefaultCfgs=function(){return{img:b3,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||b3,i=s3("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=s3("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),t.insertBefore(i,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");g3(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/t,o=80*r/t;g3(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");g3(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(m3),w3=x3,E3=n(95929),k3=n.n(E3),_3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&k3()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var S3=function(e){function t(t){return e.call(this,t)||this}return _3(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=s3("<div class=".concat(e||"g6-component-contextmenu","></div>"));g3(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,rU.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(e,o);(0,rU.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var l=o.get("width"),c=o.get("height"),d=r.getBoundingClientRect(),f=this.get("offsetX")||0,h=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=e.canvasX+g+f,m=e.canvasY+p+h;v+d.width>l&&(v=e.canvasX-d.width-f+g),m+d.height>c&&(m=e.canvasY-d.height-h+p),g3(r,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&g3(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,rU.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(m3),T3=S3,C3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M3=function(){return M3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M3.apply(this,arguments)},A3=Math.max,I3=gU,O3=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=(0,rU.debounce)((function(e){var t=n;t.destroyed||t.updateCanvas()}),100,!1),n}return C3(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=s3("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,l=!1,c=0,d=0,f=0,h=0,p=0,g=0;o.addEventListener("dragstart",(function(i){var a,v;if(i.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=i.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(b){i.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,i.target===o){var y=o.style;c=parseInt(y.left,10),d=parseInt(y.top,10),f=parseInt(y.width,10),h=parseInt(y.height,10),f>n[0]||h>n[1]||(g=r.getZoom(),p=e.get("ratio"),l=!0,s=i.clientX,u=i.clientY)}}),!1),o.addEventListener(a?"dragover":"drag",(function(e){if(l&&!(0,rU.isNil)(e.clientX)&&!(0,rU.isNil)(e.clientY)){var t=s-e.clientX,i=u-e.clientY;(c-t<0||c-t+f>=n[0])&&(t=0),(d-i<0||d-i+h>=n[1])&&(i=0),d-=i,g3(o,{left:"".concat(c-=t,"px"),top:"".concat(d,"px")}),r.translate(t*g/p,i*g/p),s=e.clientX,u=e.clientY}}),!1),o.addEventListener("dragend",(function(){l=!1,t.refresh=!0}),!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),l=this.get("viewport");l||this.initViewport();var c=(u.x-s.x)*e,d=(u.y-s.y)*e,f=s.x*e+t,h=s.y*e+n,p=f+c,g=h+d;f<0&&(c+=f,f=0),p>i[0]&&(c-=p-i[0]),h<0&&(d+=h,h=0),g>i[1]&&(d-=g-i[1]),this.set("ratio",e),g3(l,{left:"".concat(f,"px"),top:"".concat(h,"px"),width:"".concat(c,"px"),height:"".concat(d,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach((function(e){e.get("visible")||e.hide(),t.updateVisible(e)}))}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,rU.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,rU.each)(t.getNodes(),(function(t){e.updateOneNodeKeyShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,rU.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,rU.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,rU.each)(t.getNodes(),(function(t){e.updateOneNodeDelegateShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,rU.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var i=e.get("keyShape").attr("path");r.attr("path",i)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[e.get("id")],o=e.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a)}else i=t.addShape("rect",{attrs:M3({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});e.isVisible()?i.show():i.hide(),i.exist=!0,r[e.get("id")]=i,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=e.get("size"),r=e.get("className"),i=e.get("container"),o=s3("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,rU.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):t.get("container").appendChild(o),e.set("container",o);var a,s=s3('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),s.addEventListener("dragenter",(function(e){e.preventDefault()})),s.addEventListener("dragover",(function(e){e.preventDefault()})),a="svg"===t.get("renderer")?new Q1({container:s,width:n[0],height:n[1]}):new H0({container:s,width:n[0],height:n[1]}),e.set("canvas",a),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,l=s.width/u,c=s.height/u;Number.isFinite(a.width)&&(l=A3(a.width,l),c=A3(a.height,c)),l+=2*i,c+=2*i;var d=Math.min(t[0]/l,t[1]/c),f=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(t[0]-(l-2*i)*d)/2,v=(t[1]-(c-2*i)*d)/2;f=I3(f,[["t",h,p],["s",d,d],["t",g,v]]),o.setMatrix(f),this.set("ratio",d),this.set("totaldx",g+h*d),this.set("totaldy",v+p*d),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(m3),N3=O3,P3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function D3(e,t,n){var r=e.x-t.x,i=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function R3(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var L3=function(e){function t(t){return e.call(this,t)||this}return P3(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",(function(){t&&t(),e.refreshPositions()}))},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],i={},o=!1;if(r.forEach((function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(o=!0),i[e.id]=e})),o)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",i);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var l=t.getEdgeBundles();t.set("edgeBundles",l);for(var c=t.get("cycles"),d=t.get("iterations"),f=t.get("iterRate"),h=t.get("lambda"),p=0;p<c;p++){for(var g=function(e){var r=[];n.forEach((function(e,n){if(e.source!==e.target){var o=i[e.source],s=i[e.target];r[n]=t.getEdgeForces({source:o,target:s},n,a,h);for(var l=0;l<a+1;l++)u[n][l].x+=r[n][l].x,u[n][l].y+=r[n][l].y}}))},v=0;v<d;v++)g();h/=2,a*=s,d*=f,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach((function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))})),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach((function(n){t.set(n,e[n])})),e.onTick){var r=this.get("graph");t.set("tick",(function(){e.onTick(),r.refresh()}))}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),i=t.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],s=r[n.target];if(1===e)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?t.getEdgeLength(i[o]):D3({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),l=u,c=[{x:a.x,y:a.y}];i[o].forEach((function(e,t){if(0!==t){for(var n=D3(e,i[o][t-1]);n>l;){var r=l/n,a={x:i[o][t-1].x,y:i[o][t-1].y};a.x+=r*(e.x-i[o][t-1].x),a.y+=r*(e.y-i[o][t-1].y),c.push(a),n-=l,l=u}l-=n}})),c.push({x:s.x,y:s.y}),i[o]=c}})),i},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach((function(n,r){0!==r&&(t+=D3(n,e[r-1]))})),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),i=e.get("edgeBundles");return i||(i=[]),t.forEach((function(e,t){i[t]&&void 0!==i[t]||(i[t]=[])})),t.forEach((function(o,a){var s=r[o.source],u=r[o.target];t.forEach((function(t,o){if(!(o<=a)){var l=r[t.source],c=r[t.target];e.getBundleScore({source:s,target:u},{source:l,target:c})>=n&&(i[a].push(o),i[o].push(a))}}))})),i},t.prototype.getBundleScore=function(e,t){var n=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=D3({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=D3({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.getAngleScore(e,t)*n.getScaleScore(e,t)*n.getPositionScore(e,t)*n.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy});return n/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+D3({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=R3(t.source,e),r=R3(t.target,e),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*D3(i,o)/D3(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(D3(e.source,e.target)*(n+1)),s=[{x:0,y:0}],u=1;u<n;u++){var l={x:0,y:0},c=i.getSpringForce({pre:o[t][u-1],cur:o[t][u],next:o[t][u+1]},a),d=i.getElectrostaticForce(u,t);l.x=r*(c.x+d.x),l.y=r*(c.y+d.y),s.push(l)}return s.push({x:0,y:0}),s},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),a=i[t],s={x:0,y:0};return a.forEach((function(n){var i={x:o[n][e].x-o[t][e].x,y:o[n][e].y-o[t][e].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var a=1/D3(o[n][e],o[t][e]);s.x+=i.x*a,s.y+=i.y*a}})),s},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(m3),j3=L3,F3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B3=function(){return B3=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B3.apply(this,arguments)},z3={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Y3=function(e){function t(t){return e.call(this,t)||this}return F3(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,rU.clone)(z3),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,t=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",t*t);var n=e.get("d");e.set("molecularParam",(n+1)*t)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",(function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})})),r.on("drag",(function(e){n.magnify(e)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(e){t.scaleDByWheel(e)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(e){n.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||r.get("height"))&&n>1||u<(s||.05*r.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.set("delegateCenterDiff",void 0),t.magnify(e,o)}},t.prototype.scaleRByDrag=function(e){var t=this;if(e){var n,r=t.get("dragPrePos"),i=t.get("graph"),o=i.getPointByClient(e.clientX,e.clientY);n=e.x-r.x<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||i.get("height"))&&n>1||u<(s||.05*i.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.magnify(e,o),t.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var t=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var n=0;n=e.originalEvent.wheelDelta<0?-.1:.1;var r=t.get("d")+n,i=t.get("maxD"),o=t.get("minD");if(r<i&&r>o){t.set("d",r);var a=t.get("r");t.set("molecularParam",(r+1)*a);var s=t.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;t.set("delegateCenterDiff",void 0),t.magnify(e,u)}}},t.prototype.scaleDByDrag=function(e){var t=this,n=t.get("dragPrePos"),r=e.x-n.x>0?.1:-.1,i=t.get("d")+r,o=t.get("maxD"),a=t.get("minD");if(i<o&&i>a){t.set("d",i);var s=t.get("r");t.set("molecularParam",(i+1)*s),t.magnify(e)}t.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),u=n.get("r2"),l=n.get("d"),c=n.get("molecularParam"),d=r.getNodes(),f=d.length,h=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(h=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(h.x+=p.x,h.y+=p.y),n.updateDelegate(h,s);for(var g=0;g<f;g++){var v=d[g].getModel(),m=v.x,y=v.y;if(!isNaN(m)&&!isNaN(y)){var b=(m-h.x)*(m-h.x)+(y-h.y)*(y-h.y);if(!isNaN(b)&&b<u&&0!==b){var x=Math.sqrt(b),w=c*x/(l*x+s),E=(m-h.x)/x,k=(y-h.y)/x;if(v.x=E*w+h.x,v.y=k*w+h.y,o[v.id]||(o[v.id]={x:m,y:y,texts:[]}),i.push(v),a&&2*x<s)for(var _=d[g].getContainer().getChildren(),S=_.length,T=0;T<S;T++){var C=_[T];"text"===C.get("type")&&(o[v.id].texts.push({visible:C.get("visible"),shape:C}),C.set("visible",!0))}}}}r.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,t=e.get("cachedMagnifiedModels"),n=e.get("cachedOriginPositions"),r=t.length,i=0;i<r;i++){var o=t[i],a=n[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var l=a.texts[u];l.shape.set("visible",l.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.d,i=e.trigger,o=e.minD,a=e.maxD,s=e.minR,u=e.maxR,l=e.scaleDBy,c=e.scaleRBy;isNaN(e.r)||(t.set("r",n),t.set("r2",n*n)),isNaN(r)||t.set("d",r),isNaN(a)||t.set("maxD",a),isNaN(o)||t.set("minD",o),isNaN(u)||t.set("maxR",u),isNaN(s)||t.set("minR",s);var d,f=t.get("d"),h=t.get("r");(t.set("molecularParam",(f+1)*h),"mousemove"!==i&&"click"!==i&&"drag"!==i||t.set("trigger",i),"drag"===l||"wheel"===l||"unset"===l)&&(t.set("scaleDBy",l),t.get("delegate").remove(),t.get("delegate").destroy(),(d=t.get("dPercentText"))&&(d.remove(),d.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(t.set("scaleRBy",c),t.get("delegate").remove(),t.get("delegate").destroy(),(d=t.get("dPercentText"))&&(d.remove(),d.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||z3;o=a.addShape("circle",{attrs:B3({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(e){r.scaleRByWheel(e)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){r.scaleRByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(e){n.scaleDByWheel(e)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){n.scaleDByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))))}else o.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),l=r.get("dPercentText"),c=e.y+t/1.5+16;if(!l||l.destroyed)l=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",l);else l.attr({text:"".concat(u,"%"),x:e.x,y:c})}r.set("delegate",o)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(m3),G3=Y3,V3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&k3()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var W3=function(e){function t(t){return e.call(this,t)||this}return V3(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;(0,rU.isString)(n)&&(r=s3(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),(0,rU.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter((function(e){return"LI"===e.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,t):e.handleDefaultOperator(i,t))}}));var s=this.get("position");s&&g3(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&i&&e.on("stackchange",(function(e){var o=e.undoStack,a=e.redoStack,s=o.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,(0,rU.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,i=n.data.after;if(e.pushStack(r,(0,rU.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(t){e.removeItem(t.id,!1)})),i.nodes&&i.nodes.forEach((function(t){e.removeItem(t.id,!1)})),i.combos&&i.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.handleDefaultOperator=function(e,t){var n=t.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||t.get("maxZoom")))return;t.zoomTo(n*r);break;case"zoomIn":var i=1-.05*this.get("zoomSensitivity");if(i*n<(this.get("minZoom")||t.get("minZoom")))return;t.zoomTo(n*i);break;case"realZoom":t.zoomTo(1);break;case"autoZoom":t.fitView([20,20])}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,rU.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(m3),U3=W3,Z3=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&k3()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var H3=function(e){function t(t){return e.call(this,t)||this}return Z3(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=s3("<div class=".concat(t,"></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),(0,rU.isString)(r)&&(r=document.getElementById(r)),g3(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",(function(e){g3(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(t){e.hideTooltip()}))),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);(0,rU.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&g3(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),l=this.get("fixToNode"),c=e.item;if(c.getType&&"node"===c.getType()&&l&&(0,rU.isArray)(l)&&l.length>=2){var d=c.getBBox();u={x:d.minX+d.width*l[0],y:d.minY+d.height*l[1]}}var f=r.getCanvasByPoint(u.x,u.y),h=f.x,p=f.y,g=r.getContainer(),v={x:h+g.offsetLeft+a,y:p+g.offsetTop+s};g3(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>i&&(v.x-=m.width+a),p+m.height+s>o&&(v.y-=m.height+s),g3(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else g3(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,rU.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(m3),q3=H3,X3={};function K3(e,t){X3[e]=t}var J3=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){(0,rU.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return(0,rU.map)(this.ticks,(function(t,n){return(0,rU.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}}))},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return(0,rU.isNil)(r)||!(0,rU.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){(0,rU.assign)(this,this.__cfg__),this.setDomain(),(0,rU.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,rU.isString)(e)){var n=function(e){return X3[e]}(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,rU.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return(0,rU.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),$3=J3,Q3=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,nU.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=(0,rU.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return(0,rU.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,(0,nU.__spreadArray)([i],n,!1))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,rU.isNil)(this.getConfig("min"))&&(this.min=0),(0,rU.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}($3),e4=Q3,t4=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,n4="[1-9]\\d?",r4="\\d\\d",i4="[^\\s]+",o4=/\[([^]*?)\]/gm;function a4(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var s4=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})),i=r.indexOf(t.toLowerCase());return i>-1?i:null}};function u4(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e}var l4=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c4=["January","February","March","April","May","June","July","August","September","October","November","December"],d4=a4(c4,3),f4={dayNamesShort:a4(l4,3),dayNames:l4,monthNamesShort:d4,monthNames:c4,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},h4=u4({},f4),p4=function(e){return h4=u4(h4,e)},g4=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},v4=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},m4={D:function(e){return String(e.getDate())},DD:function(e){return v4(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return v4(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return v4(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return v4(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return v4(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return v4(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return v4(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return v4(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return v4(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return v4(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return v4(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+v4(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+v4(Math.floor(Math.abs(t)/60),2)+":"+v4(Math.abs(t)%60,2)}},y4=function(e){return+e-1},b4=[null,n4],x4=[null,i4],w4=["isPm",i4,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],E4=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],k4={D:["day",n4],DD:["day",r4],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",n4,y4],MM:["month",r4,y4],YY:["year",r4,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",n4,void 0,"isPm"],hh:["hour",r4,void 0,"isPm"],H:["hour",n4],HH:["hour",r4],m:["minute",n4],mm:["minute",r4],s:["second",n4],ss:["second",r4],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",r4,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:b4,dd:b4,ddd:x4,dddd:x4,MMM:["month",i4,s4("monthNamesShort")],MMMM:["month",i4,s4("monthNames")],a:w4,A:w4,ZZ:E4,Z:E4},_4={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},S4=function(e){return u4(_4,e)},T4=function(e,t,n){if(void 0===t&&(t=_4.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=_4[t]||t).replace(o4,(function(e,t){return r.push(t),"@@@"}));var i=u4(u4({},h4),n);return(t=t.replace(t4,(function(t){return m4[t](e,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function C4(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=_4[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=t.replace(o4,(function(e,t){return o.push(g4(t)),"@@@"})),s={},u={};a=g4(a).replace(t4,(function(e){var t=k4[e],n=t[0],r=t[1],o=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(t),"("+r+")"})),Object.keys(u).forEach((function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var l=e.match(new RegExp(a,"i"));if(!l)return null;for(var c=u4(u4({},h4),n),d=1;d<l.length;d++){var f=i[d-1],h=f[0],p=f[2],g=p?p(l[d],c):+l[d];if(null==g)return null;r[h]=g}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(d=0,m.length);d<y;d++)if(s[m[d][0]]&&r[m[d][0]]!==v[m[d][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var M4={format:T4,parse:C4,defaultI18n:f4,setGlobalDateI18n:p4,setGlobalDateMasks:S4};function A4(e,t){return(p.format||M4.format)(e,t)}function I4(e){return(0,rU.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,rU.isDate)(e)&&(e=e.getTime()),e}var O4=1e3,N4=6e4,P4=36e5,D4=24*P4,R4=31*D4,L4=365*D4,j4=[["HH:mm:ss",O4],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",N4],["HH:mm",6e5],["HH:mm",18e5],["HH",P4],["HH",6*P4],["HH",12*P4],["YYYY-MM-DD",D4],["YYYY-MM-DD",4*D4],["YYYY-WW",7*D4],["YYYY-MM",R4],["YYYY-MM",4*R4],["YYYY-MM",6*R4],["YYYY",380*D4]];function F4(e,t,n){var r,i=(r=function(e){return e[1]},function(e,t,n,i){for(var o=(0,rU.isNil)(n)?0:n,a=(0,rU.isNil)(i)?e.length:i;o<a;){var s=o+a>>>1;r(e[s])>t?a=s:o=s+1}return o})(j4,(t-e)/n)-1,o=j4[i];return i<0?o=j4[0]:i>=j4.length&&(o=(0,rU.last)(j4)),o}var B4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,nU.__extends)(t,e),t.prototype.translate=function(e){e=I4(e);var t=this.values.indexOf(e);return-1===t&&(t=(0,rU.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,t):A4(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;(0,rU.each)(t,(function(e,n){t[n]=I4(e)})),t.sort((function(e,t){return e-t})),e.prototype.setDomain.call(this)},t}(e4),z4=B4,Y4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,nU.__extends)(t,e),t.prototype.scale=function(e){if((0,rU.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,rU.head)(t),r=(0,rU.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,rU.isNil)(this.minLimit)||(this.min=n),(0,rU.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=(0,rU.getRange)(this.values),t=e.min,n=e.max;(0,rU.isNil)(this.min)&&(this.min=t),(0,rU.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,rU.filter)(n,(function(e){return e>=t.min&&e<=t.max}))),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}($3),G4=Y4,V4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,nU.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(G4),W4=V4;function U4(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function Z4(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function H4(e,t,n){(0,rU.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return(0,rU.each)(e,(function(e){e>0&&e<r&&(r=e)})),r===n&&(r=n/t),r>1&&(r=1),r}var q4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,nU.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=Z4(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=Z4(n,a/n)))*o;if(e<s)return e/s*a}else t=Z4(n,this.min);var u=(e-i)/o*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=H4(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),e<i?e/i/(Z4(r,t)-Z4(r,n)):(Z4(r,e)-Z4(r,n))/(Z4(r,t)-Z4(r,n))},t}(G4),X4=q4,K4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,nU.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=U4(n,this.max),i=U4(n,this.min),o=t*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(U4(r,e)-U4(r,n))/(U4(r,t)-U4(r,n))},t}(G4),J4=K4,$4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,nU.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):A4(n,this.mask)},t.prototype.scale=function(t){var n=t;return((0,rU.isString)(n)||(0,rU.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return I4(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if((0,rU.isNil)(t)&&(0,rU.isNumber)(t)||(this.min=this.translate(this.min)),(0,rU.isNil)(n)&&(0,rU.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],i=1/0,o=i,a=0;(0,rU.each)(e,(function(e){var t=I4(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");i>t?(o=i,i=t):o>t&&(o=t),a<t&&(a=t),r.push(t)})),e.length>1&&(this.minTickInterval=o-i),(0,rU.isNil)(t)&&(this.min=i),(0,rU.isNil)(n)&&(this.max=a)}},t}(W4),Q4=$4,e6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,nU.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),i=Math.floor(r*(n-1));if(i>=n-1)return(0,rU.last)(t);if(i<0)return(0,rU.head)(t);var o=t[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(t[i+1]-o)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,rU.last)(t)!==this.max&&t.push(this.max),(0,rU.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<(0,rU.head)(t))return 0;if(e>(0,rU.last)(t))return 1;var n=0;return(0,rU.each)(t,(function(t,r){if(!(e>=t))return!1;n=r})),n/(t.length-1)},t}(G4),t6=e6,n6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,nU.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(t6),r6=n6,i6={};function o6(e,t){if(function(e){return i6[e]}(e))throw new Error("type '"+e+"' existed.");i6[e]=t}var a6=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,nU.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,rU.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}($3),s6=a6;function u6(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var l6=[1,5,2,2.5,4,3],c6=100*Number.EPSILON;function d6(e,t,n,r,i,o){var a=(0,rU.size)(t),s=(0,rU.indexOf)(t,e),u=0,l=function(e,t){return(e%t+t)%t}(r,o);return(l<c6||o-l<c6)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function f6(e,t,n){var r=(0,rU.size)(t);return 1-(0,rU.indexOf)(t,e)/(r-1)-n+1}function h6(e,t,n,r,i,o){var a=(e-1)/(o-i),s=(t-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function p6(e,t){return e>=t?2-(e-1)/(t-1):1}function g6(e,t,n,r){var i=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*i,2)}function v6(e,t,n){var r=t-e;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function m6(e,t,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=l6),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var l=0;l<i.length;l+=1){var c=i[l],d=f6(c,i,u);if(o[0]*d+o[1]+o[2]+o[3]<s.score){u=1/0;break}for(var f=2;f<1/0;){var h=p6(f,a);if(o[0]*d+o[1]+o[2]*h+o[3]<s.score)break;for(var p=(t-e)/(f+1)/u/c,g=Math.ceil(Math.log10(p));g<1/0;){var v=u*c*Math.pow(10,g),m=v6(e,t,v*(f-1));if(o[0]*d+o[1]*m+o[2]*h+o[3]<s.score)break;var y=Math.floor(t/v)*u-(f-1)*u,b=Math.ceil(e/v)*u;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var E=(y+w)*(v/u),k=E+v*(f-1),_=v,S=d6(c,i,u,E,k,_),T=g6(e,t,E,k),C=h6(f,a,e,t,E,k),M=o[0]*S+o[1]*T+o[2]*C+1*o[3];M>s.score&&(!r||E<=e&&k>=t)&&(s.lmin=E,s.lmax=k,s.lstep=_,s.score=M)}g+=1}f+=1}}u+=1}var A=u6(s.lmax),I=u6(s.lmin),O=u6(s.lstep),N=Math.floor(function(e){return Math.round(1e12*e)/1e12}((A-I)/O))+1,P=new Array(N);P[0]=u6(I);for(l=1;l<N;l++)P[l]=u6(P[l-1]+O);return{min:Math.min(e,(0,rU.head)(P)),max:Math.max(t,(0,rU.last)(P)),ticks:P}}function y6(e){var t=e.values,n=e.tickInterval,r=e.tickCount,i=t;if((0,rU.isNumber)(n))return(0,rU.filter)(i,(function(e,t){return t%n===0}));var o=e.min,a=e.max;if((0,rU.isNil)(o)&&(o=0),(0,rU.isNil)(a)&&(a=t.length-1),(0,rU.isNumber)(r)&&r<a-o){var s=m6(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,rU.filter)(s,(function(e){return e>=o&&e<=a})).map((function(e){return t[e]}))}return t.slice(o,a+1)}var b6=Math.sqrt(50),x6=Math.sqrt(10),w6=Math.sqrt(2),E6=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],o=(n=[a,o])[0],a=n[1]),(r=k6(s,u,e))>0?r=k6(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=k6(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(i=e,e=t,t=i);if(0===(a=k6(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function k6(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=b6?10:o>=x6?5:o>=w6?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=b6?10:o>=x6?5:o>=w6?2:1)}function _6(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function S6(e,t,n){var r=_6(e,n,"floor"),i=_6(t,n,"ceil");r=(0,rU.fixedBase)(r,n),i=(0,rU.fixedBase)(i,n);for(var o=[],a=r;a<=i;a+=n){var s=(0,rU.fixedBase)(a,n);o.push(s)}return{min:r,max:i,ticks:o}}function T6(e,t,n){var r,i=e.minLimit,o=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,l=void 0===u?5:u,c=(0,rU.isNil)(i)?(0,rU.isNil)(t)?a:t:i,d=(0,rU.isNil)(o)?(0,rU.isNil)(n)?s:n:o;if(c>d&&(d=(r=[c,d])[0],c=r[1]),l<=2)return[c,d];for(var f=(d-c)/(l-1),h=[],p=0;p<l;p++)h.push(c+f*p);return h}function C6(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var i=(t-e)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(t/a),u=Math.floor(e/a),l=Math.max(s*a,t),c=Math.min(u*a,e),d=Math.floor((l-c)/a)+1,f=new Array(d),h=0;h<d;h++)f[h]=u6(c+h*a);return{min:c,max:l,ticks:f}}function M6(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function A6(e){return new Date(e).getFullYear()}function I6(e){return new Date(e,0,1).getTime()}function O6(e){return new Date(e).getMonth()}function N6(e,t){return new Date(e,t,1).getTime()}K3("cat",y6),K3("time-cat",(function(e){var t=y6(e),n=(0,rU.last)(e.values);return n!==(0,rU.last)(t)&&t.push(n),t})),K3("wilkinson-extended",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.nice,o=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=m6(t,n,r,i).ticks;return(0,rU.isNil)(a)&&(0,rU.isNil)(s)?o?S6(t,n,o).ticks:u:T6(e,(0,rU.head)(u),(0,rU.last)(u))})),K3("r-pretty",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.tickInterval,o=e.minLimit,a=e.maxLimit,s=C6(t,n,r).ticks;return(0,rU.isNil)(o)&&(0,rU.isNil)(a)?i?S6(t,n,i).ticks:s:T6(e,(0,rU.head)(s),(0,rU.last)(s))})),K3("time",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickInterval,o=e.tickCount;if(i)o=Math.ceil((n-t)/i);else{var a=(n-t)/(i=F4(t,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var s=[],u=t;u<n+i;u+=i)s.push(u);return s})),K3("time-pretty",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickCount,o=e.tickInterval,a=[];o||(o=(n-t)/i,r&&o<r&&(o=r));var s=A6(t);if(o>L4)for(var u=A6(n),l=Math.ceil(o/L4),c=s;c<=u+l;c+=l)a.push(I6(c));else if(o>R4){var d=Math.ceil(o/R4),f=O6(t),h=function(e,t){var n=A6(e),r=A6(t),i=O6(e);return 12*(r-n)+(O6(t)-i)%12}(t,n);for(c=0;c<=h+d;c+=d)a.push(N6(s,c+f))}else if(o>D4){var p=(b=new Date(t)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(o/D4),y=function(e,t){return Math.ceil((t-e)/D4)}(t,n);for(c=0;c<y+m;c+=m)a.push(new Date(p,g,v+c).getTime())}else if(o>P4){p=(b=new Date(t)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/P4),E=function(e,t){return Math.ceil((t-e)/P4)}(t,n);for(c=0;c<=E+w;c+=w)a.push(new Date(p,g,m,x+c).getTime())}else if(o>N4){var k=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),_=Math.ceil(o/N4);for(c=0;c<=k+_;c+=_)a.push(t+c*N4)}else{var S=o;S<O4&&(S=O4);var T=Math.floor(t/O4)*O4,C=Math.ceil((n-t)/O4),M=Math.ceil(S/O4);for(c=0;c<C+M;c+=M)a.push(T+c*O4)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),K3("log",(function(e){var t,n=e.base,r=e.tickCount,i=e.min,o=e.max,a=e.values,s=Z4(n,o);if(i>0)t=Math.floor(Z4(n,i));else{var u=H4(a,n,o);t=Math.floor(Z4(n,u))}for(var l=s-t,c=Math.ceil(l/r),d=[],f=t;f<s+c;f+=c)d.push(Math.pow(n,f));return i<=0&&d.unshift(0),d})),K3("pow",(function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(U4(t,e.max));return C6(Math.floor(U4(t,e.min)),r,n).ticks.map((function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n}))})),K3("quantile",(function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(e,t){return e-t})),i=[],o=0;o<t;o++){var a=o/(t-1);i.push(M6(r,a))}return i})),K3("d3-linear",(function(e){var t=e.min,n=e.max,r=e.tickInterval,i=e.minLimit,o=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,i=e.tickCount,o=new E6;return o.domain([t,n]),r&&o.nice(i),o.ticks(i)}(e);return(0,rU.isNil)(i)&&(0,rU.isNil)(o)?r?S6(t,n,r).ticks:a:T6(e,(0,rU.head)(a),(0,rU.last)(a))})),o6("cat",e4),o6("category",e4),o6("identity",s6),o6("linear",W4),o6("log",X4),o6("pow",J4),o6("time",Q4),o6("timeCat",z4),o6("quantize",t6),o6("quantile",r6);var P6=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function D6(e){return function(e){return(0,rU.map)(e,(function(e,t){return[0===t?"M":"L",e[0],e[1]]}))}(e)}function R6(e,t,n,r){void 0===r&&(r=!0);var i=new W4({values:e}),o=new e4({values:(0,rU.map)(e,(function(e,t){return t}))}),a=(0,rU.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]}));return r?function(e){if(e.length<=2)return D6(e);var t=[];(0,rU.each)(e,(function(e){(0,rU.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])}));var n=cJ(t,!1),r=(0,rU.head)(e),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):D6(a)}function L6(e,t,n,r){void 0===r&&(r=5);for(var i=new W4({values:e}),o=new e4({values:(0,rU.map)(e,(function(e,t){return t}))}),a=(0,rU.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]})),s=[],u=0;u<a.length;u++){var l=a[u],c=F6({x:l[0],y:l[1],y0:n,size:r});s.push.apply(s,c)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var i=1,o=e.length;i<o;i++)n.push(["L",e[i].x,e[i].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function j6(e,t,n,r){var i=P6([],e,!0),o=function(e,t){var n=new W4({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return i.push(["L",t,o]),i.push(["L",0,o]),i.push(["Z"]),i}function F6(e){var t,n,r,i,o=e.x,a=e.y,s=e.y0,u=e.size;(0,rU.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),(0,rU.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var l=[{x:r,y:t},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:t}),l}var B6=function(){return B6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B6.apply(this,arguments)},z6={stroke:"#C5C5C5",strokeOpacity:.85},Y6={fill:"#CACED4",opacity:.85},G6=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?200:o,s=e.height,u=void 0===s?26:s,l=e.smooth,c=void 0===l||l,d=e.isArea,f=void 0!==d&&d,h=e.data,p=void 0===h?[]:h,g=e.lineStyle,v=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=c,this.isArea=f,this.lineStyle=Object.assign({},z6,g),this.areaStyle=Object.assign({},Y6,v),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height,o=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,l=e.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var d=R6(o,r,i,a);if(c.addShape("path",{attrs:B6({path:d},u),name:"trend-line"}),s){var f=j6(d,r,i,o);c.addShape("path",{attrs:B6({path:f},l),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:B6({path:L6(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),V6=G6,W6=function(){return W6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W6.apply(this,arguments)},U6={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},Z6={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},H6=function(){function e(e){var t=e.group,n=e.name,r=e.type,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.width,l=void 0===u?2:u,c=e.height,d=void 0===c?24:c,f=e.style,h=void 0===f?{}:f;this.group=t,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=l,this.height=d,"trend"===r?this.style=W6(W6({},U6),h):"simple"===r&&(this.style=W6(W6({},Z6),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){(0,rU.isNumber)(e)&&(this.x=e),(0,rU.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,r=e.style,i=e.name,o=r.fill,a=r.stroke,s=r.radius,u=r.opacity,l=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.topCircle.attr("fill",t)}))},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}))},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),q6=H6,X6="timebarstartplay",K6="timebarendplay",J6="valuechange",$6="timebarConfigChanged",Q6="playPauseBtn",e5="nextStepBtn",t5="preStepBtn",n5=function(){return n5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n5.apply(this,arguments)},r5=function(){function e(e){this.config=(0,rU.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=(0,rU.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=this.config.x+a,c=this.config.y+u,d=t.addGroup({name:Q6});this.startMarkerGroup=d.addGroup({name:Q6}),this.circle=t.addShape("circle",{attrs:n5({x:l,y:c,r:this.config.r*i},n),name:Q6}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(l,c,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=d.addGroup({name:Q6});var f=.25*this.config.r*i,h=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l-.375*this.config.r*i,y:c-h/2,width:f,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l+1/8*this.config.r*i,y:c-h/2,width:f,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,i=void 0===r?0:r,o=e.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var l=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-c/2),this.pauseLeftMarker.attr("width",l),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-c/2),this.pauseRightMarker.attr("width",l),this.pauseRightMarker.attr("height",c)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),i5=r5,o5=function(){return o5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o5.apply(this,arguments)},a5=gU,s5={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},u5={fill:"#fff"},l5={fill:"green"},c5={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},d5={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},f5={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:c5,timeTypeControllerStyle:d5},h5=50,p5=function(){function e(e){this.controllerCfg=(0,rU.deepMix)({},f5,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,i=e.y,o=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,l=void 0===u?"green":u,c=e.containerStyle,d=void 0===c?{}:c,f=o5(o5({},s5),e.playBtnStyle||{}),h=o5(o5({},u5),e.preBtnStyle||{}),p=o5(o5({},l5),e.nextBtnStyle||{}),g=n/2-5,v=i+10,m=this.controllerGroup.addShape("rect",{attrs:o5({x:r,y:v,width:t,height:n,stroke:l,fill:s},d),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:v,r:g}):this.playButton=new i5({group:this.controllerGroup,x:t/2,y:v+g+5,r:g,isPlay:this.isPlay,style:f});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*g;this.controllerGroup.addShape("path",{attrs:o5({path:this.getPreMarkerPath(t/2-5*g+y,v+g+5+b,.5*x)},h),name:t5});var w=p.offsetX||0,E=p.offsetY||0,k=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:o5({path:this.getNextMarkerPath(t/2+5*g+w,v+g+5+E,.5*k)},p),name:e5}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var _=this.controllerCfg.scale,S=void 0===_?1:_,T=this.controllerGroup.getCanvasBBox(),C=(T.maxX+T.minX)/2,M=(T.maxY+T.minY)/2,A=a5([1,0,0,0,1,0,0,0,1],[["t",-C,-M],["s",S,S],["t",C,M]]);this.controllerGroup.setMatrix(A)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,i=o5(o5({},c5),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,l=i.pointer,c=void 0===l?{}:l,d=i.scale,f=void 0===d?1:d,h=i.offsetX,p=void 0===h?0:h,g=i.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=t+this.speedAxisY[x],E=n-(r?h5:110);m.addShape("line",{attrs:o5({x1:E,x2:E+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:o5({x:n-(r?h5:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:o5({path:this.getPointerPath(n-(r?h5:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var k=this.speedGroup.getCanvasBBox(),_=(k.maxX+k.minX)/2,S=(k.maxY+k.minY)/2,T=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];T=a5(T,[["t",-_,-S],["s",f,f],["t",_+p*f,S+v*f]]),this.speedGroup.setMatrix(T)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=o5(o5({},d5),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=n.box,c=void 0===l?{}:l,d=n.check,f=void 0===d?{}:d,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:o5({x:t-h5,y:this.speedAxisY[0]+3.5},c),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:o5({path:[["M",t-h5+3,this.speedAxisY[1]+6],["L",t-h5+7,this.speedAxisY[1]+10],["L",t-h5+12,this.speedAxisY[1]+4]]},f),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:o5({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-h5+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=a5(y,[["t",-v,-m],["s",i,i],["t",v+a*i,m+u*i]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",(function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),i=e.speedAxisY.indexOf(r[7]||0),o=e.speedAxisY.indexOf(n),a=e.speedAxisY[o]-e.speedAxisY[i];r=a5(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit($6,{speed:e.currentSpeed,type:e.currentType})})),this.speedGroup.on("mousewheel",(function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=e.speedAxisY.indexOf(r);if(-1===i){var o=1/0;e.speedAxisY.forEach((function(e,t){var n=Math.abs(e-r);o>n&&(o=n,i=t)}))}i=t.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(e.speedAxisY.length-1,i+1);var a=e.speedAxisY[i]-r;n=a5(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit($6,{speed:e.currentSpeed,type:e.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(t){var n,r,i=t.target.get("isChecked");i?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!i),e.group.emit($6,{type:e.currentType,speed:e.currentSpeed})}))},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),g5=p5,v5=function(){return v5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v5.apply(this,arguments)},m5=gU,y5={fill:"#416180",opacity:.05},b5={fill:"#416180",opacity:.15,radius:5},x5={fill:"#5B8FF9",opacity:.3,cursor:"grab"},w5={width:2,height:24},E5={textBaseline:"middle",fill:"#000",opacity:.45},k5={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},_5={lineWidth:1,stroke:"#ccc"},S5=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=(0,rU.get)(r,"touches.0.pageX",r.pageX);var i=t.canvas.get("container");i.addEventListener("mousemove",t.onMouseMove),i.addEventListener("mouseup",t.onMouseUp),i.addEventListener("mouseleave",t.onMouseUp),i.addEventListener("touchmove",t.onMouseMove),i.addEventListener("touchend",t.onMouseUp),i.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=(0,rU.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,i=t.adjustOffsetRange(r/t.width);t.updateStartEnd(i),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?100:a,u=e.height,l=e.padding,c=void 0===l?10:l,d=e.trendCfg,f=e.controllerCfg,h=void 0===f?{speed:1}:f,p=e.backgroundStyle,g=void 0===p?{}:p,v=e.foregroundStyle,m=void 0===v?{}:v,y=e.handlerStyle,b=void 0===y?{}:y,x=e.textStyle,w=void 0===x?{}:x,E=e.start,k=void 0===E?0:E,_=e.end,S=void 0===_?1:_,T=e.minText,C=void 0===T?"":T,M=e.maxText,A=void 0===M?"":M,I=e.group,O=e.graph,N=e.canvas,P=e.tick,D=void 0===P?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:P,R=e.type;this.graph=O,this.canvas=N,this.group=I,this.timeBarType=R,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=c,this.ticks=D.ticks,this.trendCfg=d,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=D.tickLabelFormatter,"trend"===R?this.backgroundStyle=v5(v5({},y5),g):"simple"===R&&(this.backgroundStyle=v5(v5({},b5),g)),this.foregroundStyle=v5(v5({},x5),m),this.handlerStyle=v5(v5({},w5),b),this.textStyle=v5(v5({},E5),w),this.tickLabelStyle=v5(v5({},k5),D.tickLabelStyle),this.tickLineStyle=v5(v5({},_5),D.tickLineStyle),this.currentMode="range",this.start=k,this.end=S,this.minText=C,this.maxText=A,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,rU.assign)(this,{x:t,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this,n=t.width,r=t.height,i=t.timeBarType;if("trend"===i&&(0,rU.size)((0,rU.get)(this.trendCfg,"data"))){var o=new V6(v5(v5({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:v5({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:v5({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:v5({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:v5({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:v5({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:v5({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(e){e.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")}));var u=(0,rU.get)(this.handlerStyle,"width",2),l=(0,rU.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new q6({name:"minHandlerShape",group:c,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new q6({name:"maxHandlerShape",group:d,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var f=this.ticks,h=n/(f.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(e){e.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=f.map((function(t,n){var i;e.tickPosList.push(e.x+n*h),e.tickLabelFormatter?(i=e.tickLabelFormatter(t),!(0,rU.isString)(i)&&i&&(i=t.date)):i=t.date;var o=e.x+n*h,a=e.y+r+5,s=e.group.addShape("text",{attrs:v5({x:o,y:a,text:i,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,rU.isNumber)(g)&&n!==f.length-1){var u=m5([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",g],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===n?s.attr({textAlign:"left"}):n!==f.length-1&&s.attr({textAlign:"right"});var l=e.group.addShape("line",{attrs:v5({x1:e.x+n*h,y1:e.y+r+2,x2:e.x+n*h,y2:e.y+r+6},e.tickLineStyle),name:"tick-line"});l.toBack();var c=s.getBBox();return c.minX>p?(s.show(),l.show(),p=c.minX+c.width+10):(s.hide(),l.hide()),s})),this.controllerBtnGroup=new g5(v5({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(Q6,":click"),(function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()})),this.group.on("".concat(e5,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()})),this.group.on("".concat(t5,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()})),this.group.on($6,(function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())}))},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=(0,rU.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,n]),o=i[0],a=i[1];this.minHandlerShape.setX(t-r/2),(0,rU.each)(o,(function(t,n){return e.minTextShape.attr(n,t)})),this.maxHandlerShape.setX(n-r/2),(0,rU.each)(a,(function(t,n){return e.maxTextShape.attr(n,t)})),"range"===this.currentMode?this.graph.emit(J6,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(J6,{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=(0,rU.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],i=(n=[o,i])[0],o=n[1],u=!0);var l=i.getBBox(),c=o.getBBox(),d=null,f=null;return"trend"===this.timeBarType?(d=a-l.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},f=s+c.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(d=i.attr("x")>l.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},f=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[f,d]:[d,f]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e,n=t.ticks,r=t.width,i=e.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=e.adjustOffsetRange(o/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(X6,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(K6,null))},e.prototype.destory=function(){this.graph.off(J6);var e=this.group,t=e.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(Q6,":click")),e.off("".concat(e5,":click")),e.off("".concat(t5,":click")),e.off($6),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),T5=S5,C5=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,l=e.className,c=void 0===l?"g6-component-timebar-tooltip":l,d=e.backgroundColor,f=void 0===d?"#000":d,h=e.textColor,p=void 0===h?"#fff":h,g=e.opacity,v=void 0===g?.8:g,m=e.fontSize,y=void 0===m?12:m;this.container=o,this.className=c,this.backgroundColor=f,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this,t=e.className,n=(e.x,e.y,e.backgroundColor),r=e.textColor,i=e.text,o=e.padding,a=e.opacity,s=e.fontSize,u=e.container,l=s3("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,rU.isString)(u)&&(u=document.getElementById(u)),u.appendChild(l),e.parentHeight=u.offsetHeight,e.parentWidth=u.offsetWidth,g3(l,{visibility:"hidden",top:0,left:0});var c=s3("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));c.innerHTML=i,l.appendChild(c),e.backgroundDOM=c;var d=s3("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));l.appendChild(d),e.arrowDOM=d,e.container=l},e.prototype.show=function(e){var t=this,n=e.text,r=e.x;e.y,e.clientX,e.clientY;t.backgroundDOM.innerHTML=n;var i=t.backgroundDOM.offsetWidth,o=t.backgroundDOM.offsetHeight,a=t.arrowDOM.offsetWidth,s=t.arrowDOM.offsetHeight;g3(t.container,{top:"".concat(-o-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),g3(t.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),g3(t.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(o,"px")});var u=r-i/2,l=r+i/2;u<0?g3(t.backgroundDOM,{marginLeft:"".concat(-i/2-u,"px")}):l>t.parentWidth&&g3(t.backgroundDOM,{marginLeft:"".concat(-i/2-l+t.parentWidth+12,"px")})},e.prototype.hide=function(){g3(this.container,{top:0,left:0,visibility:"hidden"})},e}(),M5=C5,A5=function(){return A5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A5.apply(this,arguments)},I5=gU,O5={fill:"#5B8FF9"},N5={fill:"#e6e8e9"},P5=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,i=e.width,o=e.height,a=e.padding,s=e.data,u=e.start,l=e.end,c=e.x,d=void 0===c?0:c,f=e.y,h=void 0===f?0:f,p=e.tickLabelFormatter,g=e.selectedTickStyle,v=void 0===g?O5:g,m=e.unselectedTickStyle,y=void 0===m?N5:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,w=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=l,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=d,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,i=t.padding,o=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,l=t.selectedTickStyle,c=t.unselectedTickStyle,d=t.tickLabelStyle,f=n-2*i,h=r-(3*i+4+10)-2*i,p=o.length,g=(f-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=d.rotate;delete d.rotate,o.forEach((function(t,r){var o=r>=b&&r<=x?l:c,a=v.addShape("rect",{attrs:A5({x:i+r*(g+2),y:i,width:g,height:h},o),draggable:!0,name:"tick-rect-".concat(r)}),s=v.addShape("rect",{attrs:{x:i+r*g+2*(2*r-1)/2,y:i,width:0===r||r===p-1?g+1:g+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var f,E=a.getBBox(),k=(E.minX+E.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:k,y:E.minY}),u?(f=u(t),!(0,rU.isString)(f)&&f&&(f=t.date)):r%Math.round(p/10)===0&&(f=t.date),f){y.push(f);var _=E.maxY+2*i;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:k,y1:_,x2:k,y2:_+4},name:"tick-line"});var S=_+4+i,T=v.addShape("text",{attrs:A5({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:k,y:S,textAlign:"center",text:f,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},d),capture:!1,name:"tick-label"}),C=T.getBBox();if(C.maxX>n?T.attr("textAlign","right"):C.minX<0&&T.attr("textAlign","left"),(0,rU.isNumber)(w)&&10!==y.length){var M=I5([1,0,0,0,1,0,0,0,1],[["t",-k,-S],["r",w],["t",k-5,S+2]]);T.attr({textAlign:"left",matrix:M})}1===y.length?T.attr({textAlign:"left"}):10===y.length&&T.attr({textAlign:"right"})}})),this.tickRects=m;var E=this.group;this.currentSpeed=1,this.controllerBtnGroup=new g5({group:E,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",(function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=e.tickRects,o=e.unselectedTickStyle;i.forEach((function(e){e.rect.attr(o)}));var a=e.selectedTickStyle;i[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/i.length;e.graph.emit(J6,{value:[s,s]})}}})),t.on("dragstart",(function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach((function(e){e.rect.attr(r)}));var i=t.target,o=parseInt(i.get("name").split("-")[2],10),a=e.selectedTickStyle;n[o].rect.attr(a),e.startTickRectId=o;var s=o/n.length;e.graph.emit(J6,{value:[s,s]}),e.dragging=!0})),t.on("dragover",(function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,i=e.tickRects,o=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var l=i.length;e.endTickRectId=n;var c=r/l,d=n/l;e.graph.emit(J6,{value:[c,d]})}})),t.on("drop",(function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var i=e.selectedTickStyle,o=e.tickRects;o[r].rect.attr(i),e.endTickRectId=r;var a=o.length,s=n/a,u=r/a;e.graph.emit(J6,{value:[s,u]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,a=new M5({container:o.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(e){var t=e.pickRect;t.on("mouseenter",(function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),r=o.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:i?i(s[n].value):s[n].value})}})),t.on("mouseleave",(function(e){a.hide()}))}));var u=this.group;u.on("".concat(Q6,":click"),(function(){e.isPlay=!e.isPlay,e.changePlayStatus()})),u.on("".concat(e5,":click"),(function(){e.updateStartEnd(1)})),u.on("".concat(t5,":click"),(function(){e.updateStartEnd(-1)})),u.on($6,(function(t){t.type;var n=t.speed;e.currentSpeed=n}))},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(X6,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(K6,null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(i),t.endTickRectId--),a!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var s=t.startTickRectId;s<=t.endTickRectId-1;s++)n[s].rect.attr(i);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/r,l=t.endTickRectId/r;this.graph.emit(J6,{value:[u,l]})}},e.prototype.destory=function(){this.graph.off(J6);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach((function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")})),this.tickRects.length=0,e.off("".concat(Q6,":click")),e.off("".concat(e5,":click")),e.off("".concat(t5,":click")),e.off($6),this.sliceGroup.destroy()},e}(),D5=P5,R5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L5=function(){return L5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L5.apply(this,arguments)},j5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},F5=function(e){function t(t){return e.call(this,t)||this}return R5(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?((0,rU.isString)(s)&&(s=document.getElementById(s)),e=s):g3(e=s3("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new Q1({container:e,width:i,height:o}):new H0({container:e,width:i,height:o}),this.get("containerCSS")&&g3(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,i=t.y,o=t.padding,a=t.type,s=t.trend,u=t.slider,l=t.controllerCfg,c=t.textStyle,d=t.tick,f=t.backgroundStyle,h=t.foregroundStyle,p=s.data,g=j5(s,["data"]),v=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var E=this.get("getValue");w=new T5(L5(L5({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:v,height:m,padding:o,backgroundStyle:f,foregroundStyle:h,trendCfg:L5(L5({},g),{data:p.map((function(e){return(null===E||void 0===E?void 0:E(e))||e.value}))})},u),{tick:{ticks:p,tickLabelFormatter:d.tickLabelFormatter,tickLabelStyle:d.tickLabelStyle,tickLineStyle:d.tickLineStyle},handlerStyle:L5(L5({},u.handlerStyle),{height:u.height||m}),controllerCfg:l,textStyle:c}))}else"tick"===a&&(w=new D5(L5({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2},d)));var k=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",(function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==w.foregroundShape||document.addEventListener("mouseup",k)})),this.set("timebar",w)},t.prototype.filterData=function(e){var t,n=e.value,r=null,i=this._cfgs.type;if("trend"===i||"simple"===i?r=this._cfgs.trend.data:"tick"===i&&(r=this._cfgs.tick.data),r&&0!==r.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var l=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,c=l?l(r[s]):r[s].date,d=l?l(r[u]):r[u].date;if("tick"!==i)this.get("timebar").setText(c,d);if(o)o(a,c,d);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var f=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(f.includes("node")){y=y.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("node",e,{min:v,max:m}))}));var x=y.map((function(e){return e.id}));b&&(b=b.filter((function(e){return x.includes(e.source)&&x.includes(e.target)||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))})))}(this.get("filterEdge")||f.includes("edge"))&&(b=b.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))}))),a.changeData({nodes:y,edges:b})}else f.includes("node")&&a.getNodes().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("node",t,{min:v,max:m}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<v||n>m?a.hideItem(e):a.showItem(e)}})),(this.get("filterEdge")||f.includes("edge"))&&a.getEdges().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("edge",t,{min:r[s].date,max:r[u].date}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}}))}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",(function(r){e.filterData({value:[t,n]})})),i.on(J6,(0,rU.throttle)((function(t){e.filterData(t)}),200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,rU.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(m3),B5=F5,z5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y5=gQ.applyMatrix;var G5=function(e){function t(t){return e.call(this,t)||this}return z5(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");(0,rU.isString)(r)&&(r=document.getElementById(r));var i=s3("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),o=0,a=0,s=!1,u=0,l=0,c=0,d=0,f=0,h=0;r.addEventListener("mousedown",(function(r){if(t.refresh=!1,r.target===i){var u=i.style;c=parseInt(u.width,10),d=parseInt(u.height,10);var l=e.get("width"),p=e.get("height");c>l||d>p||(h=n.getZoom(),f=e.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(t){if(s&&!(0,rU.isNil)(t.clientX)&&!(0,rU.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),g=i.style;u=parseInt(g.left,10),l=parseInt(g.top,10),c=parseInt(g.width,10),d=parseInt(g.height,10);var v=o-t.clientX,m=a-t.clientY;u-v<0?v=u:u-v+c>=r&&(v=0),l-m<0?m=l:l-m+d>=p&&(m=0),l-=m,g3(i,{left:"".concat(u-=v,"px"),top:"".concat(l,"px")}),n.translate(v*h/f,m*h/f),o=t.clientX,a=t.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,t.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,t.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],l=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=l[0],c.height=c.width/o):(c.height=l[1],c.width=c.height*o),c.minX=u[0]-c.width/2,c.minY=u[1]-c.height/2;var d=a.getMatrix();d||(d=[1,0,0,0,1,0,0,0,1]);var f=cU.invert([1,0,0,0,1,0,0,0,1],d),h=Y5({x:c.minX,y:c.minY},f),p=r.getCanvasByPoint(h.x,h.y),g=this.get("viewport");g||this.initViewport();var v=i/c.width,m=v*t,y=v*n,b=t*-p.x/c.width,x=n*-p.y/c.height,w=b+m,E=x+y;b<0&&(m+=b,b=0),w>t&&(m-=w-t),x<0&&(y+=x,x=0),E>n&&(y-=E-n),this.set("ratio",e),g3(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=t.get("width"),r=t.get("height")/n,i=e.get("className"),o=e.get("container"),a=e.get("width"),s=e.get("height");a||s||(a=200),a?(s=r*a,e.set("height",s)):(a=1/r*s,e.set("width",a));var u=s3("<div class='".concat(i,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,rU.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(u):t.get("container").appendChild(u),e.set("container",u);var l=s3('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(l);var c=s3('<span style="display: table-cell; vertical-align: middle; "></span>');l.appendChild(c),e.set("containerDOM",l),e.set("containerSpan",c);var d=s3('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",d),e.updateImgSize(),c.appendChild(d),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,t=e.get("imgDOM"),n=e.get("width"),r=e.get("height");t.onload=function(){var e=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t&&t(i.width,i.height)}}return[n,r]}(t);e[0]>e[1]?t.width=n:t.height=r}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var t=this;t.get("imgDOM").remove(),t.set("graphImg",e);var n=s3('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));t.set("imgDOM",n),n.src=e,t.updateImgSize(),t.get("containerSpan").appendChild(n),t.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(m3),V5=G5,W5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U5=function(){return U5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U5.apply(this,arguments)},Z5=gQ.distance,H5={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},q5=function(e){function t(t){return e.call(this,t)||this}return W5(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,rU.clone)(H5),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,t=e.get("showLabel"),n="node"===t||"both"===t,r="edge"===t||"both"===t;e.set("showNodeLabel",n),e.set("showEdgeLabel",r),e.get("shouldShow")||e.set("shouldShow",(function(){return!0}))},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",(function(e){})),n.on("drag",(function(e){t.filter(e)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(e){t.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var o=t.get("maxR"),a=t.get("minR"),s=t.get("r");(s>(o||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,t.set("r",s),t.filter(e)}},t.prototype.filter=function(e){var t=this,n=t.get("graph"),r=n.getNodes(),i={},o=t.get("r"),a=t.get("type"),s={x:e.x,y:e.y};t.updateDelegate(s,o);var u=t.get("shouldShow"),l=t.get("vShapes");l&&l.forEach((function(e){e.remove(),e.destroy()})),l=[],r.forEach((function(e){var t=e.getModel(),n=t.x,r=t.y;Z5({x:n,y:r},s)<o&&(i[t.id]=e)}));var c=n.getEdges(),d=[];c.forEach((function(e){var t=e.getModel(),n=t.source,r=t.target;u(t)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&d.push(e):"only-target"===a||"one"===a?i[r]&&!i[n]&&d.push(e):"both"===a&&i[n]&&i[r]&&d.push(e))}));var f=t.get("showNodeLabel"),h=t.get("showEdgelabel"),p=n.get("group");d.forEach((function(e){e.get("group").get("children").forEach((function(e){var t=e.get("type"),n=p.addShape(t,{attrs:e.attr()});l.push(n),f&&"text"===t&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(e){var t=i[e].get("group").clone();if(p.add(t),l.push(t),h)for(var n=t.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}})),t.set("vShapes",l)},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.trigger,i=e.minR,o=e.maxR,a=e.scaleRBy,s=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||t.set("r",n),isNaN(o)||t.set("maxR",o),isNaN(i)||t.set("minR",i),"mousemove"!==r&&"click"!==r||t.set("trigger",r),"wheel"===a||"unset"===a){t.set("scaleRBy",a),t.get("delegate").remove(),t.get("delegate").destroy();var l=t.get("dPercentText");l&&(l.remove(),l.destroy())}"node"!==s&&"both"!==s||t.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||t.set("showEdgeLabel",!0),u&&t.set("shouldShow",u)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||H5;i=o.addShape("circle",{attrs:U5({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(e){n.scaleRByWheel(e)}))}else i.attr({x:e.x,y:e.y,r:t});n.set("delegate",i)},t.prototype.clear=function(){var e=this,t=e.get("vShapes");t&&t.forEach((function(e){e.remove(),e.destroy()})),t=[],e.set("vShapes",t);var n=e.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(m3),X5=q5,K5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J5=gQ.pointLineDistance,$5={stroke:"#FA8C16",lineWidth:1},Q5=function(e){function t(t){return e.call(this,t)||this}return K5(t,e),t.prototype.getDefaultCfgs=function(){return{line:$5,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach((function(e){var i=e.getBBox(),o=e.get("id");!0===r||"horizontal"===r?(t["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,e],t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e],t["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,e]):"center"===r&&(t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,e],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,e]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e])}))},t.prototype.show=function(e,t){var n=(0,rU.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+t.width/2,y:n.y},l={x:n.x+t.width/2,y:n.y+t.height/2},c={x:n.x+t.width/2,y:n.y+t.height},d={x:n.x,y:n.y+t.height/2},f={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],g=null;if(this.clearAlignLine(),(0,rU.each)(o,(function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,l)),h.push(r.getLineDisObject(e,c)))})),(0,rU.each)(a,(function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,d)),p.push(r.getLineDisObject(e,l)),p.push(r.getLineDisObject(e,f)))})),h.sort((function(e,t){return e.dis-t.dis})),p.sort((function(e,t){return e.dis-t.dis})),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,g={type:"item",horizontals:[h[0]]};for(var v=1;v<3;v++)h[0].dis===h[v].dis&&g.horizontals.push(h[v])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=t,this.addAlignLine(g))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,i=e.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&(0,rU.each)(r,(function(e){var n,r,i=e.line,o=e.point,l=(i[0]+i[2])/2;o.x<l?(n=o.x-t.width/2,r=Math.max(i[0],i[2])):(n=o.x+t.width/2,r=Math.min(i[0],i[2]));var c=(0,rU.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),d=u.addShape("line",{attrs:c,capture:!1});s.push(d)})),i&&(0,rU.each)(i,(function(e){var n,r,i=e.line,o=e.point,l=(i[1]+i[3])/2;o.y<l?(n=o.y-t.height/2,r=Math.max(i[1],i[3])):(n=o.y+t.height/2,r=Math.min(i[1],i[3]));var c=(0,rU.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),d=u.addShape("line",{attrs:c,capture:!1});s.push(d)})))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:J5(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,rU.each)(e,(function(e){e.remove()})),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach((function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},t}(m3),e8=Q5,t8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n8=function(){return n8=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n8.apply(this,arguments)},r8=["click","mouseenter"],i8=function(e){function t(t){return e.call(this,t)||this}return t8(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),i=s3("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();g3(i,this.getContainerPos(o)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return o.forEach((function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,o="top";break;default:r=t.getWidth()-e[0]-r+0,o="left"}s[o]=r})),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach((function(e){s[e]="".concat(s[e],"px")})),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";r8.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(t){return e.filterData(t)})),r.on("node-container:mouseleave",(function(t){e.clearFilter(),e.clearActiveLegend()}))):(r.on("node-container:click",(function(t){return e.filterData(t)})),r.on("click",(function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();g3(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(e){e.set("inactive",!0)})):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.lengedStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(n8(n8({},n.get("oriAttrs")),i)),r.attr(n8(n8({},r.get("oriAttrs")),o))}));var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(n8(n8({},n.get("oriAttrs")),a)),r.attr(n8(n8({},r.get("oriAttrs")),s))}))},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")}));return"node"===t?i.get("children").filter((function(t){return!!t.get(e)===n})):"edge"===t?o.get("children").filter((function(t){return!!t.get(e)===n})):i.get("children").filter((function(t){return!!t.get(e)===n})).concat(o.get("children").filter((function(t){return!!t.get(e)===n})))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find((function(e){return"root"===e.get("name")}));[e.find((function(e){return"node-group"===e.get("name")})),e.find((function(e){return"edge-group"===e.get("name")}))].forEach((function(e){e.get("children").forEach((function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find((function(e){return"root"===e.get("name")})),l=u.find((function(e){return"node-group"===e.get("name")})),c=u.find((function(e){return"edge-group"===e.get("name")})),d=l.get("children").filter((function(e){return e.get("active")})),f=c.get("children").filter((function(e){return e.get("active")})),h=0,p=["getNodes","getEdges"];p.forEach((function(e){i[e]().forEach((function(t){var r=!1;("getNodes"===e?d:f).forEach((function(e){var i=n[e.get("id")];r=r||i(t.getModel())})),r?(i.setItemState(t,a,!1),i.setItemState(t,o,!0),h++):(i.setItemState(t,o,!1),i.setItemState(t,a,!0))}))})),h||p.forEach((function(e){i[e]().forEach((function(e){i.clearItemStates(e,[a])}))}))}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach((function(t){e.clearItemStates(t,[n,r])})),e.getEdges().forEach((function(t){e.clearItemStates(t,[n,r])}))}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");if(!t){var n=(t=new H0({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",t)}var r=t.find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")})),a=this.get("itemsData"),s=[i,o];["nodes","edges"].forEach((function(t,n){a[t].forEach((function(r){var i,o,a=s[n].addGroup({id:r.id,name:"node-container"}),u=r.type,l=e.getShapeSize(r),c=l.width,d=l.height,f=l.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":default:o={r:f,x:0,y:0};break;case"rect":o={width:c,height:d,x:-c/2,y:-d/2};break;case"ellipse":o={r1:c,r2:d,x:0,y:0};break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},u="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},u="path"}var p=a.addShape(u,{attrs:n8(n8({},o),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:n8({opacity:1},h)});if(r.label){var g=p.getBBox(),v=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},m=n8({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);a.addShape("text",{attrs:n8({x:g.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}}))}));var u,l=this.get("padding"),c=r.find((function(e){return"title-container"===e.get("name")})),d={height:0,maxY:0,width:0};if(this.get("title")){c||(c=r.addGroup({name:"title-container"}));var f={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:l[0]},h=this.get("titleConfig")||{},p=Object.assign(f,h.style||{});u=c.addShape("text",{attrs:n8({text:this.get("title")},p)}),d=c.getCanvasBBox(),c.setMatrix([1,0,0,0,1,0,h.offsetX,h.offsetY,1])}this.layoutItems();var g=r.getCanvasBBox(),v=i.getCanvasBBox(),m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=d.maxY<v.minY?Math.abs(d.maxY-v.minY)+l[0]:d.maxY+l[0],b=[1,0,0,0,1,0,m,y,1];i.setMatrix(b);var x=[(g=r.getCanvasBBox()).minX+g.width+l[1],g.minY+g.height+l[2]];if(u){h=n8({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));d=c.getCanvasBBox();var w=c.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===h.position?w[6]=x[0]/2+h.offsetX:"right"===h.position?(w[6]=x[0]-l[3]+h.offsetX,u.attr({textAlign:"right"})):(w[6]=l[3]+h.offsetX,u.attr({textAlign:"left"})),c.setMatrix(w),d=c.getCanvasBBox(),b=[1,0,0,0,1,0,m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=v.minY<d.maxY?Math.abs(d.maxY-v.minY)+l[0]:d.maxY+l[0],1],i.setMatrix(b);var E=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?E[6]+=v.maxX+this.get("horiSep"):E[7]+=v.maxY+this.get("vertiSep"),o.setMatrix(E)}else{v=i.getCanvasBBox();var k=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?k[6]+=b[6]+v.maxX+this.get("horiSep"):k[7]+=b[7]+v.maxY+this.get("vertiSep"),o.setMatrix(k)}g=r.getCanvasBBox(),v=i.getCanvasBBox(),b=i.getMatrix()||[1,0,0,0,1,0,0,0,1];var _=o.getMatrix()||[1,0,0,0,1,0,0,0,1],S=o.getCanvasBBox();x=[Math.max(v.width+b[6],S.width+_[6])+l[1],Math.max(v.height+b[7],S.height+_[7])+l[2]],t.changeSize(x[0],x[1]);var T=this.get("containerStyle"),C=r.getMatrix()||[1,0,0,0,1,0,0,0,1],M=gQ.invertMatrix({x:0,y:0},C);return r.addShape("rect",{attrs:n8({x:M.x+(T.lineWidth||1),y:M.y+(T.lineWidth||1),width:x[0]-2*(T.lineWidth||1),height:x[1]-2*(T.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},T),name:"legend-back-rect",capture:!1}).toBack(),x},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=e.find((function(e){return"root"===e.get("name")})),s=a.find((function(e){return"node-group"===e.get("name")})),u=a.find((function(e){return"edge-group"===e.get("name")})),l={min:0,max:-1/0},c=-1/0;s.get("children").forEach((function(e,i){0===i&&(l.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),d=u.width,f=u.height,h=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+d/2,o[0]=g+s.height+n,h=s.maxX+p+d/2):(p=o[0]+d/2,g=o[1],o[0]=p+s.width+t,h=s.maxY+g+f/2),o[0]>l.max&&(l.max=o[0]),h>c&&(c=h),e.setMatrix([1,0,0,0,1,0,p,g,1])}));var d=l.max-l.min,f={min:0,max:-1/0},h=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach((function(e,i){0===i&&(f.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),l=u.width,c=u.height,d=0,h=0;"vertical"===r?(d=o[1],h=o[0],o[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+c/2,1])):(d=o[0],h=o[1],o[0]=d+s.width+t,e.setMatrix([1,0,0,0,1,0,d+l/2,0,1])),o[0]>f.max&&(f.max=o[0])}));var p=f.max-f.min;if(i&&""!==i&&"left"!==i){var g=d-p,v="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach((function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=v:t[6]+=v,e.setMatrix(t)}))}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort((function(e,t){return e.order-t.order})),e.nodes.forEach((function(e){var n,r,i,o,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(i=e.style)||void 0===i?void 0:i.height)||(null===(o=e.style)||void 0===o?void 0:o.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||(0,rU.uniqueId)(),type:e.type||"circle",style:n8({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:n8({fontFamily:"Arial"},u)}})}))),e.edges&&(e.edges.sort((function(e,t){return e.order-t.order})),e.edges.forEach((function(e){var n,r,i=e.type||"line";"cubic-horizontal"===e.type&&(i="cubic");var o=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||(0,rU.uniqueId)(),type:i,size:a,style:n8({lineWidth:(0,rU.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:n8({fontFamily:"Arial"},o)}})}))),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if((0,rU.isNumber)(t))this.set(e,[t,t,t,t]);else if((0,rU.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&((0,rU.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):(0,rU.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return n8(n8({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(m3),o8={PluginBase:m3,Menu:T3,Grid:w3,Minimap:N3,Bundling:j3,ToolBar:U3,Tooltip:q3,Fisheye:G3,TimeBar:B5,ImageMinimap:V5,EdgeFilterLens:X5,SnapLine:e8,Legend:i8};xQ("circle",{options:{size:_Q.defaultNode.size,style:{x:0,y:0,stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,rU.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=o.width,l=o.height,c=o.show,d=o.text;if(c){var f="".concat(this.type,"-icon");t.shapeMap[f]=d?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:f,name:f,draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)({x:-u/2,y:-l/2},o),className:f,name:f,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,nU.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(e)[0]/2;if(o){var f="link-point-left";t.shapeMap[f]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:-d,y:0,r:u/2||l||5}),className:f,name:f,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:d,y:0,r:u/2||l||5}),className:h,name:h,isAnchorPoint:!0})}if(i){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:-d,r:u/2||l||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";t.shapeMap[g]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:d,r:u/2||l||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,nU.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getSize(e),o=(0,nU.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(o.stroke=e.color),void 0!==e.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(e,t,o,!0,n),this.updateLinkPoints(e,r)}},"single-node"),xQ("rect",{options:{size:[100,30],style:{radius:0,stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,nU.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(e),f=d[0],h=d[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:-f/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:f/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,nU.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a=t.get("keyShape");e.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,rU.mix)({},i,a.attr(),s);u=(0,rU.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),xQ("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,nU.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(e),f=d[0]/2,h=d[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:-f,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:f,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:-h,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:h,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getSize(e),o=i[0]/2,a=i[1]/2;return(0,nU.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a={stroke:e.color,rx:o[0]/2,ry:o[1]/2},s=t.get("keyShape"),u=(0,rU.mix)({},i,s.attr(),a);u=(0,rU.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),xQ("diamond",{options:{size:[80,80],style:{stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,nU.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(e),f=d[0],h=d[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:-f/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:f/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getPath(e);return(0,nU.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,rU.mix)({},i,s.attr(),a);u=(0,rU.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),xQ("triangle",{options:{size:40,direction:"up",style:{stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(e),s=e.direction||o,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=i.width,c=i.height,d=i.show,f=i.offset,h=i.text;if(d)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-l/2,g=-c/2;"up"!==s&&"down"!==s||(g+=f),"left"!==s&&"right"!==s||(p+=f),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,nU.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=e.direction||o,s=i.top,u=i.left,l=i.right,c=i.bottom,d=i.size,f=i.r,h=(0,nU.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?g=[-m,v]:"down"===a?g=[-m,-v]:"left"===a&&(g=[-m,m-v]),g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},h),{x:g[0],y:g[1],r:d/2||f||5}),className:"link-point-left",name:"link-point-left"}))}if(l){var y=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,v]:"down"===a?y=[m,-v]:"right"===a&&(y=[m,m-v]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},h),{x:y[0],y:y[1],r:d/2||f||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var b=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?b=[m-v,-v]:"left"===a?b=[m,-v]:"right"===a&&(b=[-m,-v]),b&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},h),{x:b[0],y:b[1],r:d/2||f||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var x=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?x=[-m+v,v]:"left"===a?x=[m,v]:"right"===a&&(x=[-m,v]),x&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},h),{x:x[0],y:x[1],r:d/2||f||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getPath(e);return(0,nU.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,rU.mix)({},i,s.attr(),a);u=(0,rU.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=e.direction||i,a=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),s=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),u=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),l=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")})),c=r,d=a||s||u||l;d&&(c=d.attr());var f=(0,rU.mix)({},c,e.linkPoints),h=f.fill,p=f.stroke,g=f.lineWidth,v=f.size/2;v||(v=f.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,b=m.right,x=m.top,w=m.bottom,E=this.getSize(e)[0],k={r:v,fill:h,stroke:p,lineWidth:g},_=null,S=E*Math.sin(1/3*Math.PI),T=E*Math.sin(1/3*Math.PI);"up"===o?_=[-T,S]:"down"===o?_=[-T,-S]:"left"===o&&(_=[-T,T-S]),_&&(a?y||void 0===y?a.attr((0,nU.__assign)((0,nU.__assign)({},k),{x:_[0],y:_[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},k),{x:_[0],y:_[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var C=null;"up"===o?C=[T,S]:"down"===o?C=[T,-S]:"right"===o&&(C=[T,T-S]),C&&(s?b||void 0===b?s.attr((0,nU.__assign)((0,nU.__assign)({},k),{x:C[0],y:C[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},k),{x:C[0],y:C[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var M=null;"up"===o?M=[T-S,-S]:"left"===o?M=[T,-S]:"right"===o&&(M=[-T,-S]),M&&(u?x||void 0===x?u.attr((0,nU.__assign)((0,nU.__assign)({},k),{x:M[0],y:M[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},k),{x:M[0],y:M[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var A=null;"down"===o?A=[-T+S,S]:"left"===o?A=[T,S]:"right"===o&&(A=[-T,S]),A&&(l?w||void 0===w?l.attr((0,nU.__assign)((0,nU.__assign)({},k),{x:A[0],y:A[1]})):(l.remove(),delete t.shapeMap["link-point-bottom"]):w&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},k),{x:A[0],y:A[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),xQ("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:_Q.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:_Q.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:_Q.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=this.getSize(e),a=o[0],s=o[1],u=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=r.show,c=(0,nU.__rest)(r,["show"]);return l&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,nU.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,d=(0,nU.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=c?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:s||-i/2+o+l,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,d=(0,nU.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=c?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:s||i/2-o+l,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,nU.__rest)(r,["top","left","right","bottom","size","r"]),d=this.getSize(e),f=d[0],h=d[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:-f/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:f/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e)[0],c=null,d=a.show,f=a.width,h=-l/2+i.offset;d&&(h=-l/2+f+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return(0,rU.isString)(e.description)?(c=t.addShape("text",{attrs:(0,nU.__assign)((0,nU.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,nU.__assign)((0,nU.__assign)({},g),{x:h,y:17+(v||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=t.addShape("text",{attrs:(0,nU.__assign)((0,nU.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c),c},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,nU.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e),c=l[0],d=l[1];t.get("keyShape").attr((0,nU.__assign)((0,nU.__assign)({},i),{x:-c/2,y:-d/2,width:c,height:d}));var f=t.getContainer(),h=f.shapeMap["rect-logo-icon"]||f.find((function(e){return"rect-logo-icon"===e.get("className")})),p=h?h.attr():{},g=(0,rU.mix)({},p,e.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,b=-c/2+v+y;m||void 0===m||(b=-c/2+y);var x=f.shapeMap["node-label"]||f.find((function(e){return"node-label"===e.get("className")})),w=f.shapeMap["rect-description"]||f.find((function(e){return"rect-description"===e.get("className")}));if(e.label)if(x){var E=e.labelCfg?e.labelCfg.style:{},k=(0,rU.mix)({},x.attr(),E);e.label&&(k.text=e.label),k.x=b,(0,rU.isString)(e.description)&&(k.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(k)}else f.shapeMap["node-label"]=f.addShape("text",{attrs:(0,nU.__assign)((0,nU.__assign)({},a.style),{x:b,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,rU.isString)(e.description)){var _=u.paddingTop;if(w){E=e.descriptionCfg?e.descriptionCfg.style:{};var S=(0,rU.mix)({},w.attr(),E);(0,rU.isString)(e.description)&&(S.text=e.description),S.x=b,w.resetMatrix(),w.attr((0,nU.__assign)((0,nU.__assign)({},S),{y:17+(_||0)}))}else f.shapeMap["rect-description"]=f.addShape("text",{attrs:(0,nU.__assign)((0,nU.__assign)({},u.style),{x:b,y:17+(_||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var T=f.shapeMap["pre-rect"]||f.find((function(e){return"pre-rect"===e.get("className")}));if(T&&!T.destroyed){var C=(0,rU.mix)({},T.attr(),e.preRect);T.attr((0,nU.__assign)((0,nU.__assign)({},C),{x:-c/2,y:-d/2,height:d}))}if(h&&!h.destroyed)if(m||void 0===m){var M=g.width,A=g.height,I=g.x,O=g.y,N=g.offset,P=(0,nU.__rest)(g,["width","height","x","y","offset"]);h.attr((0,nU.__assign)((0,nU.__assign)({},P),{x:I||-c/2+M+N,y:O||-A/2,width:M,height:A}))}else h.remove(),delete f.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,f);var D=f.shapeMap["rect-state-icon"]||f.find((function(e){return"rect-state-icon"===e.get("className")})),R=D?D.attr():{},L=(0,rU.mix)({},R,e.stateIcon);if(D){L.show||void 0===L.show||(D.remove(),delete f.shapeMap["rect-state-icon"]);var j=L.width,F=(A=L.height,I=L.x,O=L.y,L.offset),B=(0,nU.__rest)(L,["width","height","x","y","offset"]);D.attr((0,nU.__assign)((0,nU.__assign)({},B),{x:I||c/2-j+F,y:O||-A/2,width:j,height:A}))}else L.show&&this.drawStateIcon(e,f);this.updateLinkPoints(e,f)}},"single-node"),xQ("star",{options:{size:60,style:{stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,l=r.size,c=r.r,d=(0,nU.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),f=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*f,p=Math.sin(.1*Math.PI)*f;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){h=Math.cos(.5*Math.PI)*f,p=Math.sin(.5*Math.PI)*f;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:h,y:-p,r:l/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){h=Math.cos(.9*Math.PI)*f,p=Math.sin(.9*Math.PI)*f;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*f,p=Math.sin(1.3*Math.PI)*f;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*f,p=Math.sin(1.7*Math.PI)*f;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},d),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*t,s=Math.sin((18+72*o)/180*Math.PI)*t,u=Math.cos((54+72*o)/180*Math.PI)*r,l=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-l])}return i.push(["Z"]),i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,rU.mix)({},t,n),i=this.getPath(e);return(0,nU.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,rU.mix)({},i,s.attr(),a);u=(0,rU.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),i=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),o=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),a=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-left-bottom"===e.get("className")})),s=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-right-bottom"===e.get("className")})),u=n,l=r||i||o||a||s;l&&(u=l.attr());var c=(0,rU.mix)({},u,e.linkPoints),d=c.fill,f=c.stroke,h=c.lineWidth,p=c.size/2;p||(p=c.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,m=g.right,y=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(e)[0],E={r:p,fill:d,stroke:f,lineWidth:h},k=Math.cos(.1*Math.PI)*w,_=Math.sin(.1*Math.PI)*w;i?m||void 0===m?i.attr((0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_})):(i.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),k=Math.cos(.5*Math.PI)*w,_=Math.sin(.5*Math.PI)*w,o?y||void 0===y?o.attr((0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_})):(o.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),k=Math.cos(.9*Math.PI)*w,_=Math.sin(.9*Math.PI)*w,r?v||void 0===v?r.attr((0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_})):(r.remove(),delete t.shapeMap["link-point-left"]):v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),k=Math.cos(1.3*Math.PI)*w,_=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr((0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),k=Math.cos(1.7*Math.PI)*w,_=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr((0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_})):(a.remove(),delete t.shapeMap["link-point-right-bottom"]):x&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,nU.__assign)((0,nU.__assign)({},E),{x:k,y:-_}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var a8=gQ.defaultSubjectColors;xQ("donut",{options:{size:_Q.defaultNode.size,style:{x:0,y:0,stroke:_Q.defaultNode.style.stroke,fill:_Q.defaultNode.style.fill,lineWidth:_Q.defaultNode.style.lineWidth},labelCfg:{style:{fill:_Q.nodeLabel.style.fill,fontSize:_Q.nodeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_Q.defaultNode.linkPoints.size,lineWidth:_Q.defaultNode.linkPoints.lineWidth,fill:_Q.defaultNode.linkPoints.fill,stroke:_Q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,nU.__assign)({},_Q.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,rU.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,l=o.show,c=o.text;l&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,nU.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,nU.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var d=a.attr("r"),f=.6*d,h=(d+f)/2,p=e,g=p.donutAttrs,v=void 0===g?{}:g,m=p.donutColorMap,y=void 0===m?{}:m,b=Object.keys(v).length;if(v&&b>1){var x=[],w=0;if(Object.keys(v).forEach((function(e){var t=v[e]||0;(0,rU.isNumber)(t)&&(x.push({key:e,value:t,color:y[e]}),w+=t)})),w){var E=d-f;if(1===b)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:x[0].color||a8[0],lineWidth:E},name:"fan-shape-0"}));var k=[h,0],_=0;x.forEach((function(e,n){var r=e.value/w;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=_,_+=e.angle,e.endAngle=_,e.arcBegin=k,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var i=e.angle>Math.PI?1:0,o=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,i,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:o,lineWidth:E,stroke:e.color||a8[n%a8.length]},name:"fan-shape-".concat(n)}),k=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||a8[n%a8.length],lineWidth:E},name:"fan-shape-".concat(n)})}))}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var s8=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},u8=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var i=e[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,t.push(i)}return t},l8=function(e){return u8(e)},c8=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},d8=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var i=e.centerX,o=e.centerY;return n.y<t.y?o=e.minY:n.x>t.x?i=e.maxX:n.x<t.x?i=e.minX:n.x===t.x&&(o=e.maxY),{x:i,y:o}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},f8=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},h8=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},p8=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},g8=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},v8=function(e,t,n,r,i){return g8(e,t)+g8(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,i])},m8=function e(t,n,r,i,o){void 0===o&&(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},y8=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},b8=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,l=n.y-t.y,c=r.x-t.x,d=r.y-t.y;return(i*s-o*a)*(u*d-l*c)<=0&&(i*l-o*u)*(a*d-s*c)<=0},x8=function(e,t,n){if(n.width||n.height){var r=h8(n),i=r[0],o=r[1],a=r[2],s=r[3];return b8(e,t,i,o)||b8(e,t,i,s)||b8(e,t,o,a)||b8(e,t,a,s)}return!1},w8=function(e,t,n,r){var i=[];return e.forEach((function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if(x8(e,t,n)||x8(e,t,r))return;i.push(e)}})),u8(i)},E8=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach((function(r,i){var o=e[i+1],a=e[i+2];if(o&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,o,a)){var s=function(e,t,n,r){var i=g8(e,t),o=g8(n,t);return i<r&&(r=i),o<r&&(r=o),[{x:t.x-r/i*(t.x-e.x),y:t.y-r/i*(t.y-e.y)},{x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)}]}(r,o,a,t),u=s[0],l=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},k8=function(e,t,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||s8(e)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=s8(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),l=u.x,c=u.y;(a={x:l,y:c,width:s.width,height:s.height,minX:s.minX+l,maxX:s.maxX+l,minY:s.minY+c,maxY:s.maxY+c}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=s8(t)}else a=r&&r.getBBox();else a=s8(t);var d=c8(o,i),f=c8(a,i),h=d8(d,e,t),p=d8(f,t,e),g=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([h,p]),v=f8(d,g),m=f8(f,g),y=[];y=y.concat(h8(v)).concat(h8(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[g,v,m].forEach((function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return p8(e,d)&&p8(e,f)})))})),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach((function(e){p8(e,d)&&p8(e,f)&&y.push(e)})),y.unshift(h),y.push(p);var x=function(e,t,n,r,i,o,a){var s=[],u=[t],l={},c={},d={};c[t.id]=0,d[t.id]=v8(t,n,t);var f,h,p={};for(e.forEach((function(e){p[e.id]=e}));u.length;){if(f=void 0,h=1/0,u.forEach((function(e){d[e.id]<=h&&(h=d[e.id],f=e)})),f===n){var g=[];return m8(g,p,l,n.id),g}y8(u,f),s.push(f),w8(e,f,r,i).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=d[f.id]+g8(f,e);c[e.id]&&r>=c[e.id]||(l[e.id]=f.id,c[e.id]=r,d[e.id]=c[e.id]+v8(e,n,t,o,a))}}))}return[t,n]}(y=u8(y),h,p,o,a,e,t);return x.unshift(e),x.push(t),l8(x)},_8={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,i){return l8(k8(e,t,n,r,i.offset))}},S8=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),T8=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},C8=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},M8=function(e,t,n){for(var r=1/0,i=0,o=t.length;i<o;i++){var a=n(e,t[i]);a<r&&(r=a)}return r},A8=function(e,t,n,r,i){var o=[];if(!n)return[e];var a=i.directions,s=i.offset,u=n.getBBox(),l=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,c=c8(u,s);for(var d in c)c[d]=S8(c[d],i.gridSize);if(l){for(var f=0,h=a;f<h.length;f++){var p=h[f],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(d=0;d<4;d++){var v=g[d],m=gQ.getLineIntersect(e,{x:e.x+p.stepX*c.width,y:e.y+p.stepY*c.height},v[0],v[1]);m&&!x8(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=d8(c,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},I8=function(e,t,n,r){var i=T8(e,t);if(!n[e.id]){var o=T8(r,e);return C8(o,i)}var a=T8({x:n[e.id].x,y:n[e.id].y},e);return C8(a,i)},O8=function(e,t,n,r,i,o,a){var s=[r],u=e.id,l=e.x,c=e.y,d={x:l,y:c,id:u};for(I8(d,o,t,n)&&s.unshift({x:o.x===r.x?r.x:d.x*a,y:o.y===r.y?r.y:d.y*a});t[u]&&t[u].id!==u;){var f={x:l,y:c,id:u},h=t[u].id,p=t[u].x,g=t[u].y,v={x:p,y:g,id:h};I8(v,f,t,n)&&s.unshift({x:v.x===f.x?s[0].x:v.x*a,y:v.y===f.y?s[0].y:v.y*a}),u=h,l=p,c=g}var m=l,y=c;return s[0].x=m===n.x?i.x:s[0].x,s[0].y=y===n.y?i.y:s[0].y,s.unshift(i),s},N8=function(e,t,n,r,i){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,rU.deepMix)(_8,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(e,t,n){var r={};return e.forEach((function(e){if(e)for(var i=c8(e.getBBox(),n),o=S8(i.minX,t);o<=S8(i.maxX,t);o+=1)for(var a=S8(i.minY,t);a<=S8(i.maxY,t);a+=1)r["".concat(o,"|||").concat(a)]=!0})),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:S8(e.x,a),y:S8(e.y,a)},l={x:S8(t.x,a),y:S8(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(l.x,"|||").concat(l.y);var c=A8(u,e,n,l,o),d=A8(l,t,r,u,o);c.forEach((function(e){delete s[e.id]})),d.forEach((function(e){delete s[e.id]}));for(var f={},h={},p={},g={},v={},m=0;m<c.length;m++){var y=c[m];f[y.id]=y,g[y.id]=0,v[y.id]=M8(y,d,o.distFunc)}for(var b,x,w,E,k,_,S,T=o.maximumLoops,C=o.penalties;Object.keys(f).length>0&&T>0&&(b=void 0,x=1/0,Object.keys(f).forEach((function(e){var t=f[e].id;v[t]<=x&&(x=v[t],b=f[t])})),b);){if(d.findIndex((function(e){return e.x===b.x&&e.y===b.y}))>-1)return O8(b,p,u,t,e,l,a);delete f[b.id],h[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],h[(E={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(S=I8(b,E,p,u))>o.maxAllowedDirectionChange||s[E.id]||(f[E.id]||(f[E.id]=E),k=o.distFunc(b,E)+(isNaN(C[S])?a:C[S]),_=g[b.id]+k,g[E.id]&&_>=g[E.id]||(p[E.id]=b,g[E.id]=_,v[E.id]=_+M8(E,d,o.distFunc)));T-=1}return o.fallbackRoute(e,t,n,r,o)};wQ("polyline",{options:{color:_Q.defaultEdge.color,size:_Q.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:_Q.defaultEdge.style.stroke,lineAppendWidth:_Q.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:_Q.edgeLabel.style.fill,fontSize:_Q.edgeLabel.style.fontSize,fontFamily:_Q.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,nU.__assign)({},_Q.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,rU.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var i=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),s=[i];a&&(s=s.concat(a)),s.push(o);var u=e.sourceNode,l=e.targetNode,c=r.radius,d=this.options.routeCfg,f=(0,rU.mix)({},d,e.routeCfg);f.offset=r.offset;var h=this.getPath(s,u,l,c,f);return((0,rU.isArray)(h)&&h.length<=1||(0,rU.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(h="M0 0, L0 0"),(0,rU.mix)({},_Q.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},i=n.shapeMap["edge-shape"]||n.find((function(e){return"edge-shape"===e.get("className")}))||t.getKeyShape(),o=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[a];u&&(l=l.concat(u)),l.push(s);var c=i.attr(),d=(0,rU.mix)({},r,c,e.style),f=e.sourceNode,h=e.targetNode,p=d.radius,g=this.options.routeCfg,v=(0,rU.mix)({},g,e.routeCfg);v.offset=d.offset;var m=this.getPath(l,f,h,p,v);((0,rU.isArray)(m)&&m.length<=1||(0,rU.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),c.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),c.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""});var y=(0,rU.mix)(r,i.attr(),{lineWidth:o,path:m},e.style);i&&i.attr(y)}},getPath:function(e,t,n,r,i){var o=i.offset,a=i.simple;if(!o||e.length>2){if(r)return E8(e,r);var s=[];return(0,rU.each)(e,(function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])})),s}var u=a?k8(e[e.length-1],e[0],n,t,o):N8(e[0],e[e.length-1],t,n,i);return u&&u.length?r?E8(u,r):gQ.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var P8=R2.cloneEvent,D8=R2.isNaN,R8=Math.abs,L8=["shift","ctrl","alt","control"],j8={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!D8(n)&&!D8(r)){var i=n-t.x,o=r-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),l=this.scalableRange,c=this.scalableRange;l<1&&l>-1&&(l*=a,c*=s),(u.minX<=a+l&&u.minX+i>a+l||u.maxX+l>=0&&u.maxX+l+i<0)&&(i=0),(u.minY<=s+c&&u.minY+o>s+c||u.maxY+c>=0&&u.maxY+c+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if((!n||e.name===lQ.TOUCHSTART||0===n.button)&&(e.name===lQ.TOUCHSTART||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!t.keydown){var r=e.target,i=r&&r.isCanvas&&r.isCanvas();if((this.allowDragOnItem||i)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var o=this.graph,a=o.getEdges(),s=0,u=a.length;s<u;s++){var l=a[s].get("group").get("children");l&&l.forEach((function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()}))}for(var c=o.getNodes(),d=0,f=c.length;d<f;d++)for(var h=0,p=c[d].getContainer().get("children");h<p.length;h++){var g=p[h];g.get("isKeyShape")||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=P8(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(R8(this.origin.x-e.clientX)+R8(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(t=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===t?void 0:t.filter((function(e){return"zoom-canvas"===e.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),l=0,c=u.length;l<c;l++){var d=u[l].get("group").get("children");d&&d.forEach((function(e){e.get("ori-visibility")&&e.show()}))}if(i>s)for(var f=r.getNodes(),h=0,p=f.length;h<p;h++)for(var g=0,v=f[h].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(e=P8(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(L8.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},F8={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=n.get("id"),s=o.filter((function(e){var t=e.get("id");return a===t}));0===s.length?this.targets.push(n):o.length>1?o.forEach((function(e){e.hasLocked()||t.targets.push(e)})):this.targets.push(n);var u=[];this.targets.forEach((function(e){u.push((0,rU.clone)(e.getModel()))})),this.set("beforeDragNodes",u),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())}))})),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map((function(n){t.update(n,e)})))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach((function(e){e.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(e){i.before.nodes.push({id:e.id,x:e.x,y:e.y})})),this.targets.forEach((function(e){var t=e.getModel();i.after.nodes.push({id:t.id,x:t.x,y:t.y})})),r.pushStack("update",(0,rU.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map((function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)})),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map((function(e){e.getModel().comboId&&t.updateComboTree(e)})))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=this,n=e.item,r=t.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,o),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)r.updateCombos();else if(i){var a=r.findById(i);t.comboActiveState&&r.setItemState(a,t.comboActiveState,!1),this.targets.map((function(e){var t=e.getModel();i!==t.comboId&&r.updateComboTree(e,i)})),r.updateCombo(a)}else this.targets.map((function(e){e.getModel().comboId&&r.updateComboTree(e)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map((function(t){return n.update(t,e)})):this.targets.map((function(r){return n.update(r,e,t)})))},update:function(e,t,n){var r=this.origin,i=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=t.x-r.x+this.point[o].x,s=t.y-r.y+this.point[o].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,rU.debounce)((function(e){var t=e.targets,n=e.graph,r=e.point,i=e.origin,o=e.evt,a=e.updateEdge;e.updateFunc;t.map((function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)}))}),50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=t.get("group"),o=(0,rU.deepMix)({},m2.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,l=a.width,c=a.height,d=a.minX,f=a.minY;this.originPoint={x:s,y:u,width:l,height:c,minX:d,minY:f},this.delegateRect=i.addShape("rect",{attrs:(0,nU.__assign)({width:l,height:c,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,l=s.minY,c=s.maxX,d=s.maxY;u<n&&(n=u),l<i&&(i=l),c>r&&(r=c),d>o&&(o=d)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},B8={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),l=o.length,c=a.length,d=s.length,f=u.length,h=0;h<l;h++){var p=o[h],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),i&&n.setItemState(p,i,!0)}for(h=0;h<c;h++){var v=a[h];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,r,!1),i&&n.setItemState(v,i,!0)}for(h=0;h<d;h++){var m=s[h];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}for(h=0;h<f;h++){var y=u[h];n.setItemState(y,r,!1),i&&n.setItemState(y,i,!0)}i&&n.setItemState(t,i,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var w=void 0;w=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),i&&n.setItemState(w,i,!1),n.setItemState(w,r,!0),n.setItemState(m,i,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var r=this.activeState,i=this.inactiveState,o=n.get("autoPaint");n.setAutoPaint(!1);for(var a=n.getNodes()||[],s=n.getCombos()||[],u=n.getEdges()||[],l=n.get("vedges")||[],c=a.length,d=s.length,f=u.length,h=l.length,p=0;p<c;p++){var g=a[p];n.clearItemStates(g,[r,i])}for(p=0;p<d;p++){var v=s[p];n.clearItemStates(v,[r,i])}for(p=0;p<f;p++){var m=u[p];n.clearItemStates(m,[r,i,"deactivate"])}for(p=0;p<h;p++){var y=l[p];n.clearItemStates(y,[r,i,"deactivate"])}n.paint(),n.setAutoPaint(o),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},z8=Math.min,Y8=Math.max,G8=Math.abs,V8="shift",W8=["drag","shift","ctrl","alt","control"],U8={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:V8,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return W8.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=V8,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,a=this.selectedState,s={x:e.x,y:e.y},u=r.getPointByCanvas(i.x,i.y),l=z8(s.x,u.x),c=Y8(s.x,u.x),d=z8(s.y,u.y),f=Y8(s.y,u.y),h=[],p=[];r.getNodes().forEach((function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=l&&t.centerX<=c&&t.centerY>=d&&t.centerY<=f&&o(e,"select")){h.push(e);var n=e.getModel();p.push(n.id),r.setItemState(e,a,!0)}}}));var g=[];this.includeEdges&&h.forEach((function(e){e.getOutEdges().forEach((function(e){if(e.isVisible()){var n=e.getModel(),i=n.source,a=n.target;p.includes(i)&&p.includes(a)&&o(e,"select")&&(g.push(e),r.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=g,this.selectedNodes=h,this.onSelect&&this.onSelect(h,g),r.emit("nodeselectchange",{selectedItems:{nodes:h,edges:g},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:G8(e.canvasX-t.x),height:G8(e.canvasY-t.y),x:z8(e.canvasX,t.x),y:z8(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Z8="shift",H8=["shift","ctrl","alt","control"],q8={getDefaultCfg:function(){return{multiple:!0,trigger:Z8,selectedState:"selected"}},getEvents:function(){var e=this;return H8.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Z8,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){n.getType();var r=t.graph,i=t.keydown,o=t.multiple,a=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!i||!o){var s=r.findAllByState("node",t.selectedState).concat(r.findAllByState("combo",t.selectedState));(0,rU.each)(s,(function(e){e!==n&&r.setItemState(e,t.selectedState,!1)}))}if(n.hasState(t.selectedState)){a.call(t,e)&&r.setItemState(n,t.selectedState,!1);var u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!1})}else{a.call(t,e)&&r.setItemState(n,t.selectedState,!0);u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);(0,rU.each)(r,(function(e){n.setItemState(e,t.selectedState,!1)}));var i=n.findAllByState("combo",this.selectedState);(0,rU.each)(i,(function(e){n.setItemState(e,t.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},X8=gU,K8={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),l=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},u,l),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var i,o=n.get("canvas").getPointByClient(e.clientX,e.clientY),a=this.get("sensitivity"),s=n.getZoom();i=s*(e.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||n.get("minZoom");if(!(i>(this.get("maxZoom")||n.get("maxZoom"))||i<u)){if(this.get("enableOptimize")){var l=this.get("optimizeZoom"),c=this.get("optimized"),d=n.getNodes(),f=n.getEdges(),h=d.length,p=f.length;if(!c){for(var g=0;g<h;g++){if(!(S=d[g]).destroyed)for(var v=(H=S.get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var y=0;y<p;y++)for(v=(H=(Z=f[y]).get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<h;r++){var i=d[r],o=(c=i.get("group").get("children")).length;if(e<l)(s=(g=i.getKeyShape()).get("ori-visibility"))&&g.show();else for(var a=0;a<o;a++){var s=(m=c[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var u=0;u<p;u++){var c,g,v=f[u];o=(c=v.get("group").get("children")).length;if(e<l)(s=(g=v.getKeyShape()).get("ori-visibility"))&&g.show();else for(a=0;a<o;a++){var m;if(!(m=c[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}}),100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){x=n.findAllByState("node",r.fixState),w=n.findAllByState("edge",r.fixState);for(var E=s/i,k=x.length,_=0;_<k;_++){var S,T=(S=x[_]).getContainer(),C=S.getModel(),M=S.getOriginStyle(),A=S.getStateStyle(r.fixState),I=S.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,S)[r.fixState];if(r.fixAll){if(i<=1){var O=(0,rU.clone)(T.getMatrix());O||(O=[1,0,0,0,1,0,0,0,1]);var N=S.getModel(),P=N.x,D=N.y;O=X8(O,[["t",-P,-D],["s",E,E],["t",P,D]]),T.setMatrix(O)}}else for(v=(H=T.get("children")).length,m=0;m<v;m++){var R=H[m],L=void 0,j=void 0;if(r.fixLabel)if("text"===R.get("type")){L=R.attr("fontSize")||12;var F=A[R.get("name")],B=I[R.get("name")],z=F?F.fontSize:12,Y=B?B.fontSize:12,G=z||Y||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if(r.fixLineWidth&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;var V=A.lineWidth||I.lineWidth||M.lineWidth||0;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}for(var W=w.length,U=0;U<W;U++){var Z,H=(T=(Z=w[U]).getContainer()).get("children");for(C=Z.getModel(),A=Z.getStateStyle(r.fixState),I=Z.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,Z)[r.fixState],v=H.length,m=0;m<v;m++){R=H[m],L=void 0,j=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){L=R.attr("fontSize")||12;F=A[R.get("name")],B=I[R.get("name")],z=F?F.fontSize:12,Y=B?B.fontSize:12,G=z||Y||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;V=A.lineWidth||I.lineWidth||1;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}}}var q=this.get("animate"),X=this.get("animateCfg");n.zoomTo(i,{x:o.x,y:o.y},q,X),n.emit("wheelzoom",e)}}}},J8={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,g3(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){g3(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,a=n.graph;if(t(e)){var s=a.getPointByClient(e.clientX,e.clientY),u=a.getCanvasByPoint(s.x,s.y),l=u.x,c=u.y,d=o.getBoundingClientRect();l>r/2?l-=d.width:l+=this.offset,c>i/2?c-=d.height:c+=this.offset;var f="".concat(l,"px"),h="".concat(c,"px");g3(this.container,{left:f,top:h,visibility:"visible"})}else g3(o,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=s3('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),g3(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},$8=(0,nU.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},J8),Q8=(0,nU.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},J8),e9="click",t9=["click","dblclick"],n9={getDefaultCfg:function(){return{trigger:e9,onChange:function(){}}},getEvents:function(){var e,t;return t9.includes(this.trigger)?t=this.trigger:(t=e9,console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(e,i)&&(n.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:e.item,collapsed:i}),this.shouldUpdate(e,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},r9=R2.calculationItemsBBox,i9=function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;(0,rU.each)(r,(function(t){e(t,n)}))}},o9={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),a=i.filter((function(e){var t=e.get("id");return o===t}));0===a.length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(e){var r=e.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,t.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],i9(r,(function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,l=a.width,c=o.filter((function(e){var n=e.getModel();return i.parentId,n.id!==i.id&&!t.currentItemChildCombos.includes(n.id)}));c.map((function(e){var r=e.getBBox(),i=r.centerX,o=r.centerY,a=r.width,c=s-i,d=u-o,f=2*Math.sqrt(c*c+d*d);l+a-f>.8*l?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)}))}(0,rU.each)(this.targets,(function(n){t.updateCombo(n,e)}))}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,rU.each)(this.targets,(function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(e){e.getModel().parentId!==i.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,i.id)):r.updateCombo(n)})),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(o=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r))}))}else this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e)}));this.endComparison=!0,this.end(o,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;e&&this.activeState&&r.setItemState(e,this.activeState,!1),e||this.targets.map((function(e){n.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(!1!==t(e)&&e){var r=e.get("combos");(0,rU.each)(r,(function(e){n.traverse(e,t)}));var i=e.get("nodes");(0,rU.each)(i,(function(e){n.traverse(e,t)}))}},updateCombo:function(e,t,n){var r=this;this.traverse(e,(function(e){return!e.destroyed&&(r.updateSignleItem(e,t,n),!0)}))},updateSignleItem:function(e,t,n){var r=this.origin,i=this.graph,o=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;n&&(s+=r.x-t.x,u+=r.y-t.y),i.updateItem(e,{x:s,y:u})},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=t.get("delegateGroup"),o=null,a=(o=this.targets.length>1?r9(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,l=o.height,c=o.minX,d=o.minY;this.originPoint={x:a,y:s,width:u,height:l,minX:c,minY:d};var f=(0,nU.__assign)((0,nU.__assign)({},m2.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,nU.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},f),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},a9="dblclick",s9=["click","dblclick"],u9={getDefaultCfg:function(){return{trigger:a9,relayout:!0}},getEvents:function(){var e,t;return s9.includes(this.trigger)?t=this.trigger:(t=a9,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var i=t.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},l9=R2.isPolygonsIntersect,c9=R2.pathToPoints,d9="shift",f9=["drag","shift","ctrl","alt","control"],h9={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:d9,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return f9.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=d9,console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){void 0===e&&(e="canvas:click");var t=this,n=t.graph,r=t.selectedState,i=t.shouldDeselect,o=n.findAllByState("node",r),a=n.findAllByState("edge",r);i&&!i({action:e,nodes:o,edges:a})||(o.forEach((function(e){return n.setItemState(e,r,!1)})),a.forEach((function(e){return n.setItemState(e,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map((function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]})),i=this.selectedState,o=[],a=[];t.getNodes().forEach((function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=c9(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return l9(t,n)}(e,r)&&n(e,"select")){o.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),t.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,nU.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},p9="click",g9=["click","drag"],v9=void 0,m9=["shift","ctrl","control","alt","meta",void 0],y9={getDefaultCfg:function(){return{trigger:p9,key:v9,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return g9.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=p9,console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===m9.indexOf(t.key.toLowerCase())&&(t.trigger=v9,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){var t=this;if(!t.key||t.keydown){var n=e.item;n&&n.getID()!==t.source&&"node"===n.getType()||t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!t.key||t.keydown){var n=e.item,r=t.graph,i=n.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var a=void 0;a=o&&(0,rU.isFunction)(o)?o({source:t.source,target:i.id}):t.edgeConfig;var s=(0,nU.__assign)({target:i.id},a);if(t.source===i.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,s,!1),r.get("enabledStack")){var u=(0,nU.__assign)((0,nU.__assign)({},t.edge.getModel()),{itemType:"edge"}),l={};l.edges=[u],r.pushStack("add",{before:{},after:l})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;a=void 0;a=o&&(0,rU.isFunction)(o)?o({source:i.id,target:i.id}):t.edgeConfig,t.edge=r.addItem("edge",(0,nU.__assign)({source:i.id,target:i.id},a),!1),t.source=i.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!t.key||t.keydown){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};t.graph.findById(t.source)?t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1):t.addingEdge=!1}},cancelCreating:function(e){var t,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=e.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=this,n=e.key;n&&(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},b9="ctrl",x9=["shift","ctrl","alt","control"],w9={getDefaultCfg:function(){return{trigger:b9,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return x9.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=b9,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},E9=["shift","ctrl","alt","control"],k9={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==E9.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=e["".concat(this.zoomKey,"Key")];if("control"===this.zoomKey&&(r=e.ctrlKey),r){var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=n.getZoom();e.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),l=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),d=this.scalableRange,f=this.scalableRange;d<1&&d>-1&&(d*=u,f*=l);var h=c.minX,p=c.maxX,g=c.minY,v=c.maxY;a>0?p<-d?a=0:p-a<-d&&(a=p+d):a<0&&(h>u+d?a=0:h-a>u+d&&(a=h-(u+d))),s>0?v<-f?s=0:v-s<-f&&(s=v+f):s<0&&(g>l+f?s=0:g-s>l+f&&(s=g-(l+f))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,E=x.length;if(!y){for(var k=0;k<w;k++){var _=b[k];if(!_.destroyed)for(var S=(M=_.get("group").get("children")).length,T=0;T<S;T++){(A=M[T]).destoryed||A.get("isKeyShape")||(A.set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide())}}for(var C=0;C<E;C++){var M;for(S=(M=x[C].get("group").get("children")).length,T=0;T<S;T++){var A;(A=M[T]).set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var I=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<w;r++){var i=b[r],o=(l=i.get("group").get("children")).length;if(e<m)(s=(c=i.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(f=l[a]).get("ori-visibility");!f.get("visible")&&s&&s&&f.show()}}for(var u=0;u<E;u++){var l,c,d=x[u];o=(l=d.get("group").get("children")).length;if(e<m)(s=(c=d.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var f;if(!(f=l[a]).get("visible"))(s=f.get("ori-visibility"))&&f.show()}}}}),100);this.set("timeout",I)}}},_9={"drag-canvas":j8,"zoom-canvas":K8,"drag-node":F8,"activate-relations":B8,"brush-select":U8,"click-select":q8,"lasso-select":h9,tooltip:$8,"edge-tooltip":Q8,"collapse-expand":n9,"drag-combo":o9,"collapse-expand-combo":u9,"create-edge":y9,"shortcuts-call":w9,"scroll-canvas":k9};(0,rU.each)(_9,(function(e,t){kQ(t,e)}));var S9=(0,nU.__assign)((0,nU.__assign)({},e),SQ),T9=o8.Fisheye,C9=o8.TimeBar,M9=o8.ImageMinimap,A9=o8.EdgeFilterLens,I9=o8.SnapLine,O9={version:m2.version,Graph:c3,TreeGraph:p3,Util:R2,Layout:k2.Layouts,TreeLayout:F2,registerLayout:function(e,t){t.isCustomLayout=!0,k2.Layouts[e]=(0,k2.registerLayout)(e,t)},Global:m2,registerBehavior:kQ,registerCombo:EQ,registerEdge:wQ,registerNode:xQ,Minimap:o8.Minimap,Grid:o8.Grid,Bundling:o8.Bundling,Menu:o8.Menu,ToolBar:o8.ToolBar,Tooltip:o8.Tooltip,Legend:o8.Legend,TimeBar:C9,SnapLine:I9,Fisheye:T9,ImageMinimap:M9,EdgeFilterLens:A9,Algorithm:S9,Arrow:cQ,Marker:dQ,Shape:fQ};O9.version="4.6.3";var N9=O9,P9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=1.25;if(!(o*t>5))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},D9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=.75;if(!(o*t<.3))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},R9=function(e){return function(t){var n=t.text,r=t.ratio;if(e&&!e.destroyed){var i=e.get("canvas"),o=i.getPointByClient(i.get("width")/2,i.get("height")/2),a=i.get("pixelRatio")||1;return e.zoomTo(r,{x:o.x/a,y:o.y/a}),{text:n,ratio:r}}}},L9=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom();return e.zoom(1/t),e.fitCenter(),{text:"100%",ratio:1}}}},j9=function(e){return function(){if(e&&!e.destroyed){e.getNodes().length>0&&e.fitView([20,20]);var t=e.getZoom();return{text:"".concat(Math.round(100*t),"%"),ratio:t}}}},F9=function(e){return function(t){e.getNodes().forEach((function(n){e.clearItemStates(n,["active","inactive"]),-1!==t.indexOf(n.get("id"))?e.setItemState(n,"active",!0):e.setItemState(n,"active",!1)}))}},B9=function(e){return function(t){if(e&&"string"===typeof t){var n=e.findById(t);n?(e.focusItem(t,!0,{duration:300,easing:"easeCubic"}),e.setItemState(n,"selected",!0),n.toFront()):console.warn("The node ".concat(t," does not exist!"))}}};var z9=Object.assign(Object.assign({},g),v),Y9=function(e){return Object.keys(z9).reduce((function(t,n){return Object.assign(Object.assign({},t),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,z9[n](e)))}),{})},G9={graph:{},apis:{},theme:{},layout:{}},V9=y.createContext(G9),W9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},U9=function(e){var t=e.type,n=e.defaultConfig,r=e.userProps,i=e.mode,o=void 0===i?"default":i,a=y.useContext(V9).graph,s=r.disabled,u=W9(r,["disabled"]);y.useEffect((function(){if(a.removeBehaviors(t,o),!s)return a.addBehaviors(Object.assign(Object.assign({type:t},n),u),o),function(){a.destroyed||a.removeBehaviors(t,o)}}),[])},Z9={disabled:!1,trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1},H9={disabled:!1,brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},q9={disabled:!1,multiple:!0,trigger:"shift",selectedState:"selected"},X9={direction:"both",enableOptimize:!1,scalableRange:0,shouldBegin:function(){return!0},disabled:!1},K9={disabled:!1,enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"},J9={disabled:!1,updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"},$9=function(e){var t=y.useContext(V9),n=t.graph,r=t.layout,i=t.dragNodes,o=t.updateContext,a=e.autoPin,s=e.dragNodeMass,u=void 0===s?1e10:s,l=r.instance;return(0,y.useEffect)((function(){var e=l.simulation,t=l.type,r=function(){console.log("drag-start",l),e&&e.stop()},s=function(e){if("graphin-force"===t&&e.item){var r=e.item.get("model");r.x=e.x,r.y=e.y,r.layout=Object.assign(Object.assign({},r.layout),{force:{mass:a?u:null}});var s=[];n.getNodes().forEach((function(e){if(e.hasState("selected")){var t=e.get("model");t.layout.force={mass:a?u:null},s.push(t)}}));var l=i.concat([r]);s.length>1&&(l=l.concat(s)),o({dragNodes:l})}};return n.on("node:dragstart",r),n.on("node:dragend",s),function(){n.off("node:dragstart",r),n.off("node:dragend",s)}}),[n,a,l,i,o]),null},Q9=function(e){var t=e.padding,n=e.isBindLayoutChange,r=y.useContext(V9).graph;return(0,y.useEffect)((function(){var e=function(){r.fitView(t)};return e(),n&&r.on("afterlayout",e),function(){n&&r.off("afterlayout",e)}}),[]),null},e7=function(){var e=y.useContext(V9).graph;return y.useEffect((function(){var t=setTimeout((function(){e.getNodes().forEach((function(t){e.setItemState(t,"normal",!0)})),e.paint()}),1600);return function(){clearTimeout(t)}}),[]),null},t7=function(e){var t=y.useContext(V9),n=e.bindType,r=void 0===n?"node":n,i=e.disabled,o=t.graph;return y.useEffect((function(){if(!i){var e=function(e){o.setItemState(e.item,"hover",!0)},t=function(e){o.setItemState(e.item,"hover",!1)},n=function(e){o.setItemState(e.item,"hover",!0)},a=function(e){o.setItemState(e.item,"hover",!1)};return"node"===r&&(o.on("node:mouseenter",e),o.on("node:mouseleave",t)),"edge"===r&&(o.on("edge:mouseenter",n),o.on("edge:mouseleave",a)),function(){"node"===r&&(o.off("node:mouseenter",e),o.off("node:mouseleave",t)),"edge"===r&&(o.off("edge:mouseenter",n),o.off("edge:mouseleave",a))}}}),[o,i]),null},n7={disabled:!1,delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},r7=function(e){var t=e.graphDOM,n=y.useContext(V9);return y.useEffect((function(){var e=n.graph,r=(0,rU.debounce)((function(){var n=t.clientWidth,r=t.clientHeight;e.set("width",n),e.set("height",r);var i=e.get("canvas");i&&(i.changeSize(n,r),e.autoPaint())}),200);return window.addEventListener("resize",r,!1),function(){window.removeEventListener("resize",r,!1)}}),[]),null},i7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o7={trigger:"click"},a7=function(e){var t=e.onChange,n=i7(e,["onChange"]),r=y.useContext(V9).graph;return U9({defaultConfig:o7,userProps:n,type:"collapse-expand"}),y.useEffect((function(){var e=function(e){var n=e.item,r=e.collapsed;n.get("model").collapsed=r,t&&t(n,r)};return r.on("itemcollapsed",e),function(){r.off("itemcollapsed",e)}}),[]),null},s7={sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},disabled:!1,animate:!1,animateCfg:{duration:500}},u7={DragCanvas:function(e){return U9({type:"drag-canvas",userProps:e,defaultConfig:X9}),null},ZoomCanvas:function(e){return U9({type:"zoom-canvas",userProps:e,defaultConfig:s7}),null},ClickSelect:function(e){return U9({type:"click-select",userProps:e,defaultConfig:q9}),null},BrushSelect:function(e){return U9({type:"brush-select",userProps:e,defaultConfig:H9}),null},DragNode:function(e){return U9({type:"drag-node",userProps:e,defaultConfig:J9}),null},ResizeCanvas:r7,LassoSelect:function(e){return U9({type:"lasso-select",userProps:e,defaultConfig:n7}),null},DragCombo:function(e){return U9({type:"drag-combo",userProps:e,defaultConfig:K9}),null},ActivateRelations:function(e){return U9({type:"activate-relations",userProps:e,defaultConfig:Z9}),null},TreeCollapse:a7,FitView:Q9,FontPaint:e7,DragNodeWithForce:$9,Hoverable:t7},l7={type:"compactBox",direction:"LR",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 20}},c7=["dendrogram","compactBox","mindmap","indented"],d7=function(){return Math.round(80*(Math.random()-.5))},f7=function(e,t){var n=e.nodes,r=e.edges,i=t.nodes,o=new Map;i.forEach((function(e){var t=e.id,n=e.x,r=e.y;o.set(t,{x:n,y:r})}));var a=new Map;n.forEach((function(e){var t=e.id,n=o.get(t);n?(e.x=n.x,e.y=n.y):a.set(t,e)}));var s=new Map;return r.forEach((function(e){var t=e.source,n=e.target,r=a.get(t),i=a.get(n),u=o.get(t),l=o.get(n);r&&l&&s.set(t,{x:l.x+d7(),y:l.y+d7()}),i&&u&&s.set(n,{x:u.x+d7(),y:u.y+d7()})})),n.forEach((function(e){var t=e.id,n=o.get(t)||s.get(t);n?(e.x=n.x,e.y=n.y):(e.x=250+Math.round(500*Math.random()),e.y=150+Math.round(300*Math.random()))})),Object.assign(Object.assign({},e),{nodes:n,edges:r})};var h7=[{type:"graphin-force",options:{},title:"\u6e10\u8fdb\u529b\u5bfc"},{type:"force",title:"D3\u529b\u5bfc",options:{preventOverlap:!0,linkDistance:250,nodeStrength:30,edgeStrength:.1,collideStrength:.8,nodeSize:30,alpha:.3,alphaDecay:.028,alphaMin:.01,forceSimulation:null,clustering:!1}},{type:"concentric",title:"\u540c\u5fc3\u5706\u5e03\u5c40",options:{minNodeSpacing:60,preventOverlap:!0,nodeSize:60}},{type:"grid",options:{},title:"\u7f51\u683c\u5e03\u5c40"},{type:"radial",options:{},title:"\u8f90\u5c04\u5e03\u5c40"},{type:"dagre",title:"\u5c42\u6b21\u5e03\u5c40",options:{}},{type:"circular",options:{},title:"\u73af\u5f62\u5e03\u5c40"},{type:"gForce",options:{linkDistance:function(){return 200},preventOverlap:!0},title:"G6\u529b\u5bfc"},{type:"mds",options:{},title:"\u964d\u7ef4\u5e03\u5c40"},{type:"random",options:{},title:"\u968f\u673a\u5e03\u5c40"}],p7=h7.map((function(e){var t=e.type,n=e.options;return Object.assign({type:t},n)})).reduce((function(e,t){return Object.assign(Object.assign({},e),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.type,t))}),{}),g7=p7;function v7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m7=function(e){return!e||!e.nodes||0===e.nodes.length},y7=["force","graphin-force","g6force","gForce","comboForce"],b7=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(){var e=n.graphin,t=e.width,r=e.height,i=e.props.layout,o=void 0===i?{type:"concentric"}:i,a=o.type,s=void 0===a?"concentric":a,u=o.preset,l={width:t,height:r,center:[t/2,r/2]};if(n.options=Object.assign(Object.assign(Object.assign({},l),g7[s]||{}),o),m7(n.graphin.data))n.prevOptions={};else if(-1!==y7.indexOf(s)){var c=n.prevOptions.type||"grid";(null===u||void 0===u?void 0:u.type)&&(c=u.type),m7(n.graphin.data)&&(c=u.type||"grid"),n.options.preset=Object.assign(Object.assign(Object.assign({type:c},l),g7[c]||{}),u)}},this.processForce=function(){var e=n,t=e.options,r=e.graphin,i=r.graph,o=t.type;if("graphin-force"===o&&(e.options.graph=i),"force"===o||"g6force"===o||"gForce"===o||"comboCombined"===o){var a=e.options.onTick;e.options.tick=function(){a&&a()};var s=e.options.onLayoutEnd;e.options.onLayoutEnd=function(){e.refreshPosition(),null===s||void 0===s||s(),i.emit("afterlayout")}}"comboForce"!==o&&"comboCombined"!==o||(e.options.comboTrees=i.get("comboTrees"));var u=-1!==y7.indexOf(e.prevOptions.type),l=-1!==y7.indexOf(e.options.type),c=e.options.type===e.prevOptions.type;if(!m7(r.data)){if(l&&!c){var d=e.options.preset;e.presetLayout=new N9.Layout[d.type](Object.assign({},d)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),e.presetLayout.data=Object.assign({},r.data)}if(l&&u&&!e.hasPosition()){var f=e.graph.save(),h=e.options.preset;m7(f)&&(e.presetLayout=new N9.Layout[h.type](Object.assign({},h)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),f=r.data),r.data=f7(r.data,f)}}},this.refreshPosition=function(){var e=n.graphin.options,t=e.animate,r=e.layoutAnimate,i=n.options.type;t||r?n.graph.positionsAnimate("comboCombined"===i):n.graph.refreshPositions("comboCombined"===i)},this.destroy=function(){n.presetLayout&&n.presetLayout.destroy&&n.presetLayout.destroy(),n.instance&&n.instance.destroy&&n.instance.destroy(),n.presetLayout=null,n.instance=null},this.getDataFromGraph=function(){for(var e=[],t=[],r=[],i=[],o=n.graph.getNodes(),a=n.graph.getEdges(),s=n.graph.getCombos(),u=o.length,l=0;l<u;l++){var c=o[l];if(c&&c.isVisible()){var d=c.getModel();e.push(d)}}for(var f=a.length,h=0;h<f;h++){var p=a[h];if(p&&p.isVisible()){var g=p.getModel();g.isComboEdge?i.push(g):t.push(g)}}for(var v=s.length,m=0;m<v;m++){var y=s[m];if(y&&y.isVisible()){var b=y.getModel();r.push(b)}}return{nodes:e,edges:t,combos:r,comboEdges:i}},this.graphin=t,this.graph=this.graphin.graph,this.presetLayout=null,this.prevOptions={},this.init()}var t,n,r;return t=e,n=[{key:"hasPosition",value:function(){var e=this.graphin.data,t=void 0===e?{}:e;return!!t.nodes&&0!==t.nodes.length&&t.nodes.every((function(e){return!window.isNaN(Number(e.x))&&!window.isNaN(Number(e.y))}))}},{key:"init",value:function(){this.updateOptions();var e=this.options,t=this.graphin.data,n=e.type;this.processForce(),N9.Layout[n]||console.warn("".concat(n," layout not found, current layout is grid"));var r=N9.Layout[n]||N9.Layout.grid;this.graph.emit("beforelayout"),this.instance=new r(this.options),this.instance.init(t)}},{key:"start",value:function(){var e=this.options.type;this.instance.execute(),"force"!==e&&"g6force"!==e&&"gForce"!==e&&"comboCombined"!==e&&this.refreshPosition(),this.graph.emit("afterlayout")}},{key:"changeLayout",value:function(){var e=this.graphin,t=e.graph,n=e.data,r=e.isTree,i=e.layoutCache;if(!t||t.destroyed||!n||!n.nodes||!n.nodes.length||i&&this.hasPosition()||r)return!1;-1!==y7.indexOf(this.options.type)&&this.destroy(),this.prevOptions=Object.assign({},this.options),this.init(),this.start()}}],n&&v7(t.prototype,n),r&&v7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x7=b7,w7=function(){return{type:"circle",style:{labelCfg:{position:"top"}},status:{}}},E7={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"},k7=function(e){var t=Object.assign(Object.assign({},E7),e),n=t.edgeSize,r=t.primaryEdgeColor,i={light:{stroke:r,label:r,disabled:"#ddd"},dark:{stroke:r,label:r,disabled:"#ddd3"}}[t.mode];return{type:"graphin-line",style:{keyshape:{type:"line",lineWidth:n,stroke:i.stroke,strokeOpacity:1,lineAppendWidth:9,cursor:"pointer"},halo:{visible:!1,cursor:"pointer",strokeOpacity:.4},label:{value:"",position:"top",fill:i.label,fontSize:12,textAlign:"center"}},status:{hover:{halo:{visible:!0}},selected:{halo:{visible:!0},keyshape:{lineWidth:2}},active:{halo:{visible:!0},keyshape:{lineWidth:2}},inactive:{halo:{visible:!1},keyshape:{strokeOpacity:.1}},disabled:{halo:{visible:!1},keyshape:{lineWidth:.5,stroke:i.disabled}}}}},_7={primaryColor:"#FF6A00",nodeSize:26,mode:"light"},S7=function(e){var t=Object.assign(Object.assign({},_7),e),n=t.nodeSize,r=t.primaryColor,i={light:{fill:r,fillOpacity:.1,stroke:r,strokeOpacity:1,icon:r,badge:{fill:r,stroke:r,font:"#fff"},label:"#000",disabled:"#ddd"},dark:{fill:r,fillOpacity:.3,stroke:r,strokeOpacity:1,icon:"#fff",badge:{fill:r,stroke:r,font:"#fff"},label:"#fff",disabled:"#ddd3"}}[t.mode];return{type:"graphin-circle",style:{keyshape:{size:n,fill:i.fill,fillOpacity:i.fillOpacity,stroke:i.stroke,strokeOpacity:i.strokeOpacity,lineWidth:1,opacity:1,type:"circle"},label:{position:"bottom",value:"",fill:i.label,fontSize:12,offset:0,background:void 0,fillOpacity:1},icon:{type:"text",value:"",size:n/2,fill:i.icon,fillOpacity:1,offset:[0,0]},badges:[],halo:{visible:!1,fillOpacity:.1}},status:{normal:{},selected:{halo:{visible:!0},keyshape:{lineWidth:5}},hover:{halo:{visible:!0}},active:{},inactive:{keyshape:{fillOpacity:.04,strokeOpacity:.04},icon:{fillOpacity:.04},label:{fillOpacity:.04}},disabled:{halo:{visible:!1},keyshape:{fill:i.disabled,stroke:i.disabled},icon:{fill:i.disabled},label:{fill:i.disabled}}}}},T7={mode:"light",primaryColor:"#873bf4",nodeSize:26,edgeSize:1,primaryEdgeColor:"#ddd"},C7=function(e){var t=Object.assign(Object.assign({},T7),e),n=t.primaryColor,r=t.primaryEdgeColor,i=t.nodeSize,o=t.edgeSize,a=t.mode,s=t.background,u=S7({primaryColor:n,nodeSize:i,mode:a}),l=k7({primaryEdgeColor:r,edgeSize:o,mode:a}),c=w7();return Object.assign(Object.assign({},t),{mode:a,background:s||{light:"#fff",dark:"#1f1f1f"}[a],defaultNodeStyle:{type:u.type,style:u.style},defaultNodeStatusStyle:{status:u.status},defaultEdgeStyle:{type:l.type,style:l.style},defaultEdgeStatusStyle:{status:l.status},defaultComboStyle:{type:c.type,style:c.style},defaultComboStatusStyle:{status:c.status}})},M7=n(3941),A7=function e(t,n){if(window.isNaN(t)&&window.isNaN(n)&&"number"===typeof t&&"number"===typeof n)return!0;if(t===n)return!0;if("function"===typeof t&&"function"===typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;var r=[],i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a],u=e(t[s],n[s]);r.push(u)}return r.every((function(e){return e}))};function I7(e){return I7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I7(e)}function O7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N7(e,t){return N7=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N7(e,t)}function P7(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L7(e);if(t){var i=L7(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D7(this,n)}}function D7(e,t){if(t&&("object"===I7(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R7(e)}function R7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L7(e){return L7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L7(e)}var j7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},F7=u7.DragCanvas,B7=u7.ZoomCanvas,z7=u7.DragNode,Y7=u7.DragCombo,G7=u7.ClickSelect,V7=u7.BrushSelect,W7=u7.ResizeCanvas,U7=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N7(e,t)}(o,e);var t,n,r,i=P7(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).graphDOM=null,t.initData=function(e){e.children&&(t.isTree=!0),t.data=(0,M7.Z)(e)},t.initGraphInstance=function(){var e=t.props,n=e.theme,r=e.data,i=e.layout,o=e.width,a=e.height,s=e.defaultCombo,u=void 0===s?{style:{},type:"graphin-combo"}:s,l=e.defaultEdge,c=void 0===l?{style:{},type:"graphin-line"}:l,d=e.defaultNode,f=void 0===d?{style:{},type:"graphin-circle"}:d,h=e.nodeStateStyles,p=e.edgeStateStyles,g=e.comboStateStyles,v=e.modes,m=void 0===v?{default:[]}:v,y=e.animate,b=e.handleAfterLayout,x=j7(e,["theme","data","layout","width","height","defaultCombo","defaultEdge","defaultNode","nodeStateStyles","edgeStateStyles","comboStateStyles","modes","animate","handleAfterLayout"]);m.default.length>0&&console.info("%c suggestion: you can use @antv/graphin Behaviors components","color:lightgreen");var w=t.graphDOM,E=w.clientWidth,k=w.clientHeight;t.initData(r),t.width=Number(o)||E||500,t.height=Number(a)||k||500;var _=C7(n),S=(_.defaultNodeStyle,_.defaultEdgeStyle,_.defaultComboStyle,_.defaultNodeStatusStyle,_.defaultEdgeStatusStyle,_.defaultComboStatusStyle,j7(_,["defaultNodeStyle","defaultEdgeStyle","defaultComboStyle","defaultNodeStatusStyle","defaultEdgeStatusStyle","defaultComboStatusStyle"]));t.isTree=Boolean(r.children)||-1!==c7.indexOf(String(i&&i.type));var T={defaultNode:{style:Object.assign(Object.assign({},f.style),{_theme:n}),type:f.type||"graphin-circle"},defaultEdge:{style:Object.assign(Object.assign({},c.style),{_theme:n}),type:c.type||"graphin-line"},defaultCombo:{style:Object.assign(Object.assign({},u.style),{_theme:n}),type:u.type||"combo"},nodeStateStyles:h,edgeStateStyles:p,comboStateStyles:g};t.theme=Object.assign(Object.assign({},T),S),t.options=Object.assign(Object.assign(Object.assign({container:t.graphDOM,renderer:"canvas",width:t.width,height:t.height,animate:!1!==y},T),{modes:m}),x),t.isTree?(t.options.layout=i||l7,t.graph=new N9.TreeGraph(t.options)):t.graph=new N9.Graph(t.options),t.graph.on("afterlayout",(function(){b&&b(t.graph)})),t.graph.data(t.data),t.graph.render(),t.isTree||(t.layout=new x7(R7(t)),t.layout.start()),t.initStatus(),t.apis=Y9(t.graph),t.setState({isReady:!0,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}})},t.updateLayout=function(){t.layout.changeLayout()},t.updateOptions=function(){return j7(t.props,[])},t.initStatus=function(){if(!t.isTree){var e=t.props.data,n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;r.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))})),o.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))}))}},t.updateContext=function(e){t.setState((function(t){return{context:Object.assign(Object.assign({},t.context),e)}}))},t.clear=function(){t.layout&&t.layout.destroy&&t.layout.destroy(),t.layout={},t.graph.clear(),t.data={nodes:[],edges:[],combos:[]},t.graph.destroy()};var n=e.data,r=e.layout,a=e.width,s=e.height,u=e.layoutCache,l=j7(e,["data","layout","width","height","layoutCache"]);return t.data=n,t.isTree=Boolean(e.data&&e.data.children)||-1!==c7.indexOf(String(r&&r.type)),t.graph={},t.height=Number(s),t.width=Number(a),t.theme={},t.apis={},t.layoutCache=u,t.layout={},t.dragNodes=[],t.options=Object.assign({},l),t.state={isReady:!1,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}},t}return t=o,n=[{key:"componentDidMount",value:function(){this.initGraphInstance()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this,i=this.shouldUpdate(e,"data"),o=this.shouldUpdate(e,"layout"),a=(this.shouldUpdate(e,"options"),this.shouldUpdate(e,"theme"),this.props),s=a.data,u=a.layoutCache,l=a.layout;if(this.layoutCache=u,i){if(this.initData(s),this.isTree)this.graph.changeData(this.data);else{var c=this.state.context.dragNodes;null===(n=null===(t=this.data)||void 0===t?void 0:t.nodes)||void 0===n||n.forEach((function(e){var t,n,r=c.find((function(t){return t.id===e.id}));r&&(e.layout=Object.assign(Object.assign({},e.layout),{force:{mass:null===(n=null===(t=r.layout)||void 0===t?void 0:t.force)||void 0===n?void 0:n.mass}}))})),this.graph.data(this.data),this.graph.set("layoutController",null),this.graph.changeData(this.data),this.data=this.layout.getDataFromGraph(),this.layout.changeLayout()}return this.initStatus(),this.apis=Y9(this.graph),void this.setState((function(e){return Object.assign(Object.assign({},e),{context:{graph:r.graph,apis:r.apis,theme:r.theme,layout:r.layout,dragNodes:e.context.dragNodes,updateContext:r.updateContext}})}),(function(){r.graph.emit("graphin:datachange"),o&&r.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:l})}))}if(o){if(this.isTree)return void this.graph.updateLayout(this.props.layout);this.data=this.layout.getDataFromGraph(),this.layout.changeLayout(),this.layout.refreshPosition(),this.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:l})}}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"componentDidCatch",value:function(e,t){console.error("Catch component error: ",e,t)}},{key:"shouldUpdate",value:function(e,t){var n=e[t],r=this.props[t];return!A7(n,r)}},{key:"render",value:function(){var e,t=this,n=this.state.isReady,r=this.props,i=r.modes,o=r.style;return y.createElement(V9.Provider,{value:this.state.context},y.createElement("div",{id:"graphin-container"},y.createElement("div",{"data-testid":"custom-element",className:"graphin-core",ref:function(e){t.graphDOM=e},style:Object.assign({background:null===(e=this.theme)||void 0===e?void 0:e.background},o)}),y.createElement("div",{className:"graphin-components"},n&&y.createElement(y.Fragment,null,!i&&y.createElement(y.Fragment,null,y.createElement(F7,null),y.createElement(B7,null),y.createElement(z7,null),y.createElement(Y7,null),y.createElement(G7,null),y.createElement(V7,null)),y.createElement(W7,{graphDOM:this.graphDOM}),this.props.children))))}}],r=[{key:"registerBehavior",value:function(e,t){N9.registerBehavior(e,t)}},{key:"registerFontFamily",value:function(e){var t=e(),n=t.glyphs,r=t.fontFamily,i=n.map((function(e){return{name:e.name,unicode:String.fromCodePoint(e.unicode_decimal)}}));return new Proxy(i,{get:function(e,t){var n=e.find((function(e){return e.name===t}));return n?null===n||void 0===n?void 0:n.unicode:(console.error("%c fontFamily:".concat(r,",does not found ").concat(t," icon")),"")}})}},{key:"registerLayout",value:function(e,t){N9.registerLayout(e,t)}}],n&&O7(t.prototype,n),r&&O7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(y.PureComponent);U7.registerNode=function(e,t,n){N9.registerNode(e,t,n)},U7.registerEdge=function(e,t,n){N9.registerEdge(e,t,n)},U7.registerCombo=function(e,t,n){N9.registerCombo(e,t,n)};var Z7=U7;rU.deepMix,M7.Z;var H7=function(e,t){return e.reduce((function(e,n){return e.some((function(e){return t(n,e)}))||e.push(n),e}),[])};function q7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X7(e,t,n){return t&&q7(e.prototype,t),n&&q7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var K7=X7((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getvec=function(){return r},this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)},this.magnitude=function(){return Math.sqrt(r.x*r.x+r.y*r.y)},this.normalise=function(){return r.divide(r.magnitude())},this.divide=function(t){return new e(r.x/t||0,r.y/t||0)},this.scalarMultip=function(t){return new e(r.x*t,r.y*t)},this.x=t,this.y=n})),J7=K7;function $7(e){return function(e){if(Array.isArray(e))return Q7(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Q7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q7(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eee=function(e,t,n){var r,i;return"source"===e?(null===(r=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})))||void 0===i?void 0:i.target)||{}},tee=function(e,t,n,r){var i,o=(null===(i=null===n||void 0===n?void 0:n.data)||void 0===i?void 0:i[t])||"",a=(null===r||void 0===r?void 0:r.filter((function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t])===o})))||[];return"leaf"===e&&(a=a.filter((function(e){var t,n,r,i;return 0===(null===(n=null===(t=e.data)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.sDegree)||0===(null===(i=null===(r=e.data)||void 0===r?void 0:r.layout)||void 0===i?void 0:i.tDegree)}))),a},nee=function(e,t,n){var r=[];switch(e){case"source":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target}));break;case"target":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source}));break;case"both":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target})).concat(null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source})))}return r=H7(r,(function(e,t){return e.id===t.id}))},ree=function(e,t){var n=e.data.id,r=0,i=0,o=0;return t.forEach((function(e){e.source.id===n&&(i+=1,r+=1),e.target.id===n&&(o+=1,r+=1)})),{degree:r,sDegree:i,tDegree:o}},iee=function(e,t){return $7(new Set(null===e||void 0===e?void 0:e.map((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t]}))))||[]},oee=function(e,t,n,r){var i,o=(null===(i=null===t||void 0===t?void 0:t.data)||void 0===i?void 0:i.layout)||{},a=o.sDegree,s=o.tDegree,u=t,l=[];return 0===a?(u=eee("source",t,n),l=nee("both",u,n)):0===s&&(u=eee("target",t,n),l=nee("both",u,n)),l=l.filter((function(e){var t,n;return 0===(null===(t=e.data)||void 0===t?void 0:t.layout.sDegree)||0===(null===(n=e.data)||void 0===n?void 0:n.layout.tDegree)})),{coreNode:u,relativeLeafNodes:l,sameTypeLeafNodes:tee(e,r,t,l)}},aee=function(e){var t=new J7(0,0);e.forEach((function(e){t=t.add(new J7(e.x,e.y))}));var n=t.divide(e.length).getvec();return{x:n.x,y:n.y}};function see(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uee(e,t,n){return t&&see(e.prototype,t),n&&see(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var cee=uee((function e(t){lee(this,e),this.id=t.id,this.data=t||{},this.x=t.x||0,this.y=t.y||0})),dee=uee((function e(t,n,r,i){lee(this,e),this.id=t,this.source=n,this.target=r,this.data=i||{}}));function fee(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,d,f,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[d=c<<1|l]))return i[d]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((d=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=h,i[d]=p,e}function hee(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function pee(e){return e[0]}function gee(e){return e[1]}function vee(e,t,n){var r=new mee(null==t?pee:t,null==n?gee:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function mee(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function yee(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var bee=vee.prototype=mee.prototype;bee.copy=function(){var e,t,n=new mee(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=yee(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=yee(t));return n},bee.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return fee(this.cover(t,n),t,n,e)},bee.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>d&&(d=i));if(u>c||l>d)return this;for(this.cover(u,l).cover(c,d),n=0;n<o;++n)fee(this,a[n],s[n],e[n]);return this},bee.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},bee.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},bee.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},bee.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new hee(g,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>h||(a=u.x1)<c||(s=u.y1)<d))if(g.length){var v=(i+a)/2,m=(o+s)/2;p.push(new hee(g[3],v,m,a,s),new hee(g[2],i,m,v,s),new hee(g[1],v,o,a,m),new hee(g[0],i,o,v,m)),(l=(t>=m)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);c=e-w,d=t-w,f=e+w,h=t+w,r=g.data}}return r},bee.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,d,f,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[d=c<<1|l]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},bee.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},bee.root=function(){return this._root},bee.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},bee.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new hee(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new hee(n,l,c,o,a)),(n=u[2])&&s.push(new hee(n,r,c,l,a)),(n=u[1])&&s.push(new hee(n,l,i,o,c)),(n=u[0])&&s.push(new hee(n,r,i,l,c))}return this},bee.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new hee(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,d=(s+l)/2;(o=i[0])&&n.push(new hee(o,a,s,c,d)),(o=i[1])&&n.push(new hee(o,c,s,u,d)),(o=i[2])&&n.push(new hee(o,a,d,c,l)),(o=i[3])&&n.push(new hee(o,c,d,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},bee.x=function(e){return arguments.length?(this._x=e,this):this._x},bee.y=function(e){return arguments.length?(this._y=e,this):this._y};var xee=.1;function wee(e,t,n){var r=n/(t*t),i=e.map((function(e,t){return Object.assign(Object.assign({index:t},e),{vx:0,vy:0,weight:r})})),o=vee(i,(function(e){return e.x}),(function(e){return e.y})).visitAfter(Eee);return i.forEach((function(e){!function(e,t){var n=function(t,n,r,i,o){var a=e.x-t.x||.001,s=e.y-t.y||.001,u=i-n,l=a*a+s*s+xee,c=Math.sqrt(l)+xee;return u*u/.81<l?(e.vx+=a/c*t.weight/l,e.vy+=s/c*t.weight/l,!0):!t.length&&void(t.data!==e&&(e.vx+=a/c*t.data.weight/l,e.vy+=s/c*t.data.weight/l))};t.visit(n)}(e,o)})),i.map((function(e){return{vx:e.vx,vy:e.vy}}))}function Eee(e){var t=0,n=0,r=0;if(e.length){for(var i=0;i<4;i++){var o=e[i];o&&o.weight&&(t+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}e.x=n/t,e.y=r/t,e.weight=t}else{var a=e;e.x=a.data.x,e.y=a.data.y,e.weight=a.data.weight}}function kee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _ee(e,t,n){return t&&kee(e.prototype,t),n&&kee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function See(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Tee=_ee((function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;See(this,e),this.updateAcc=function(e){i.a=i.a.add(e.divide(i.m))},this.p=t,this.m=o,this.v=new J7(0,0),this.a=new J7(0,0),this.id=n,this.data=r})),Cee=Tee;function Mee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aee(e,t,n){return t&&Mee(e.prototype,t),n&&Mee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Iee=Aee((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.target=n,this.length=r})),Oee=Iee;function Nee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pee(e,t,n){return t&&Nee(e.prototype,t),n&&Nee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dee=Pee((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(e){e&&Object.keys(e).forEach((function(t){n.props[t]=e[t]}))},this.setData=function(e){n.nodes=[],n.edges=[],n.nodeSet={},n.edgeSet={},n.nodePoints=new Map,n.edgeSprings=new Map,n.sourceData=e,n.judgingDistance=0,("nodes"in e||"edges"in e)&&(n.addNodes(e.nodes),n.addEdges(e.edges))},this.getMass=function(e){var t,r=e.layout||{},i=r.degree,o=void 0===i?null===(t=ree(e,n.edges))||void 0===t?void 0:t.degree:i,a=r.force;return a&&a.mass?a.mass:o<5?1:5*o},this.init=function(){var e=n.props,t=e.width,r=e.height,i=n.props.centripetalOptions,o=n.props,a=o.leafCluster,s=o.clustering,u=o.nodeClusterBy,l=o.clusterNodeStrength,c=function(e){return"function"===typeof l?l(e):l};if(a&&(i={single:100,leaf:function(e,t,n){var r=iee(t,u),i=oee("leaf",e,n,u),o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===o||void 0===o?void 0:o.length)||1===(null===r||void 0===r?void 0:r.length)?1:c(e)},others:1,center:function(e,t,n){var r,i,o=((null===(r=e.data)||void 0===r?void 0:r.layout)||{}).degree;if(!o)return{x:100,y:100};if(1===o){var a=oee("leaf",e,n,u).sameTypeLeafNodes;1===a.length?i=void 0:a.length>1&&(i=aee(a))}else i=void 0;return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}),s){var d=Array.from(new Set(n.nodes.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[u]})))).filter((function(e){return void 0!==e})),f={};d.forEach((function(e){var t=n.nodes.filter((function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n[u])===e}));f[e]=aee(t)})),i={single:function(e){return c(e)},leaf:function(e){return c(e)},others:function(e){return c(e)},center:function(e,t,n){var r,i=f[null===(r=e.data)||void 0===r?void 0:r[u]];return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}}n.centripetalOptions=Object.assign(Object.assign({},n.centripetalOptions),i),n.nodes.forEach((function(e){var i=e.data.x||t/2,o=e.data.y||r/2,a=new J7(i,o);e.data.layout||(e.data.layout={});var s=ree(e,n.edges);e.data.layout=Object.assign(Object.assign({},e.data.layout),s);var u=n.getMass(e.data);n.nodePoints.set(e.id,new Cee(a,String(e.id),e.data,u))})),n.edges.forEach((function(e){var t=n.nodePoints.get(e.source.id),r=n.nodePoints.get(e.target.id),i=n.props.defSpringLen(e,t,r);n.edgeSprings.set(e.id,new Oee(t,r,i))}));var h=n.nodePoints.size,p=Math.pow(10,2);n.props.minEnergyThreshold=.5*Math.pow(1,2)*1*h*p},this.start=function(){n.init(),n.props.animation?n.animation():n.slienceForce()},this.calTotalEnergy=function(){var e=0;return n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id),i=r.v.magnitude(),o=r.m;e+=o*Math.pow(i,2)*.5})),e},this.slienceForce=function(){for(var e=n.props,t=e.done,r=e.maxIterations,i=e.minDistanceThreshold,o=0;(n.judgingDistance>i||o<1)&&o<r;o++)n.tick(n.props.tickInterval),n.iterations++;n.render(),t&&t(n.renderNodes)},this.requestAnimationFrame=function(e){return n.props.enableWorker?setInterval((function(){e()}),16):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){n.props.enableWorker?clearInterval(e):window.cancelAnimationFrame(e)},this.animation=function(){var e=n.props,t=e.enableWorker,r=e.maxIterations,i=e.minDistanceThreshold,o=e.done,a=e.tickInterval;if(t)for(var s=(new Date).valueOf(),u=function(e){return e>10?2e3:20*e*e},l=0;l<r;l++){var c=Math.max(.02,.22-.002*l);n.tick(c),(new Date).valueOf()-s>=u(l)&&(n.render(),s=(new Date).valueOf());var d=n.calTotalEnergy(),f=n.registers.get("monitor");if(f&&f(n.reportMointor(d)),n.judgingDistance<i)return n.render(),void(o&&o(n.renderNodes))}else{n.timer=n.requestAnimationFrame((function e(){n.tick(a),n.render(),n.iterations++;var t=n.calTotalEnergy(),r=n.registers.get("monitor");r&&r(n.reportMointor(t)),n.judgingDistance<i||n.iterations>n.props.maxIterations?(n.cancelAnimationFrame(n.timer),n.iterations=0,n.done=!0,o&&o(n.renderNodes)):n.timer=n.requestAnimationFrame(e)}))}},this.render=function(){var e=n.registers.get("render");n.renderNodes=[],n.nodePoints.forEach((function(e){n.renderNodes.push(Object.assign(Object.assign({},n.nodeSet[e.id]&&n.nodeSet[e.id].data),{x:e.p.x,y:e.p.y}))})),e?e({nodes:n.renderNodes,edges:n.sourceData.edges}):console.error("need a render function")},this.reportMointor=function(e){return{energy:e,iterations:n.iterations,nodes:n.nodes,edges:n.edges}},this.tick=function(e){n.updateCoulombsLawOptimized(),n.updateHookesLaw(),n.attractToCentre(),n.updateVelocity(e),n.updatePosition(e)},this.updateCoulombsLawOptimized=function(){var e=n.props.coulombDisScale,t=n.props.repulsion,r=n.nodes.map((function(e){var t=n.nodePoints.get(e.id).p;return{x:t.x,y:t.y}})),i=wee(r,e,t);n.nodes.forEach((function(e,t){n.nodePoints.get(e.id).updateAcc(new J7(i[t].vx,i[t].vy))}))},this.updateCoulombsLaw=function(){for(var e=n.nodes.length,t=0;t<e;t++)for(var r=t+1;r<e;r++)if(t!==r){var i=n.nodes[t],o=n.nodes[r],a=n.props.coulombDisScale,s=n.props.repulsion,u=n.nodePoints.get(i.id).p.subtract(n.nodePoints.get(o.id).p),l=(u.magnitude()+.1)*a,c=u.normalise();n.nodePoints.get(i.id).updateAcc(c.scalarMultip(1*s).divide(Math.pow(l,2))),n.nodePoints.get(o.id).updateAcc(c.scalarMultip(1*s).divide(-Math.pow(l,2)))}},this.updateHookesLaw=function(){n.edges.forEach((function(e){var t=n.edgeSprings.get(e.id),r=t.target.p.subtract(t.source.p),i=t.length-r.magnitude(),o=r.normalise();t.source.updateAcc(o.scalarMultip(-n.props.stiffness*i)),t.target.updateAcc(o.scalarMultip(n.props.stiffness*i))}))},this.attractToCentre=function(){var e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=n.nodePoints.get(e.id),o=i.p.subtract(t);i.updateAcc(o.scalarMultip(-r))};n.nodes.forEach((function(t){var r,i=null===(r=t.data)||void 0===r?void 0:r.layout,o=i.degree,a=i.sDegree,s=i.tDegree,u=n.centripetalOptions,l=u.leaf,c=u.single,d=u.others,f=u.center,h=n.props,p=h.width,g=h.height;if(void 0!==f){var v=f(t,n.nodes,n.edges,p,g),m=v.x,y=v.y,b=v.centerStrength;if(void 0!==m&&void 0!==y){var x=new J7(m,y);if(b)e(t,x,b);else{var w="function"===typeof l?l(t,n.nodes,n.edges):l,E="function"===typeof c?c(t):c,k="function"===typeof d?d(t):d;0!==w&&0!==E&&0!==k&&e(t,x,0===o?E:0===s||0===a?w:k)}}}}))},this.updateVelocity=function(e){n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id);r.v=r.v.add(r.a.scalarMultip(e)).scalarMultip(n.props.damping),r.v.magnitude()>n.props.maxSpeed&&(r.v=r.v.normalise().scalarMultip(n.props.maxSpeed)),r.a=new J7(0,0)}))},this.updatePosition=function(e){var t;if(null===(t=n.nodes)||void 0===t?void 0:t.length){var r=n.props.distanceThresholdMode,i=0;"max"===r?n.judgingDistance=-1/0:"min"===r&&(n.judgingDistance=1/0),n.nodes.forEach((function(t){var o=n.nodePoints.get(t.id);o.p=o.p.add(o.v.scalarMultip(e));var a=o.v.scalarMultip(e).magnitude();switch(r){case"max":n.judgingDistance<a&&(n.judgingDistance=a);break;case"min":n.judgingDistance>a&&(n.judgingDistance=a);break;default:i+=a}})),r&&"mean"!==r||(n.judgingDistance=i/n.nodes.length)}else n.judgingDistance=0},this.addNode=function(e){var t=n.props.ignore;t&&t(e)||(e.id in n.nodeSet||n.nodes.push(e),n.nodeSet[e.id]=e)},this.addNodes=function(e){e.forEach((function(e){n.addNode(new cee(e))}))},this.addEdge=function(e){return e.id in n.edgeSet||n.edges.push(e),n.edgeSet[e.id]=e,e},this.addEdges=function(e){try{for(var t=e.length,r=0;r<t;r++){var i=e[r],o=i.source,a=i.target,s=n.nodeSet[o];if(void 0===s)throw new TypeError("invalid node name: ".concat(i.source));var u=n.nodeSet[a];if(void 0===u)throw new TypeError("invalid node name: ".concat(i.target));var l=i.data,c=new dee(String(n.nextEdgeId++),s,u,l);n.addEdge(c)}}catch(d){console.error(d)}},this.register=function(e,t){n.registers.set(e,t)},this.restart=function(e,t){var r=n.props.ignore;t.getNodes().forEach((function(e){var t=e.get("model");if(!r||!r(t)){var i=new J7(t.x,t.y),o=n.nodePoints.get(t.id);o&&(o.p=i,n.nodePoints.set(t.id,o))}}));e.forEach((function(e){var t=new J7(e.x,e.y),r=n.getMass(e);n.nodePoints.set(e.id,new Cee(t,e.id,e.data,r)),n.edges.forEach((function(t){var r=n.nodePoints.get(t.source.id),i=n.nodePoints.get(t.target.id);if(r.id===e.id||i.id===e.id){var o=n.edgeSprings.get(t.id).length||100;n.edgeSprings.set(t.id,new Oee(r,i,o))}}))})),n.props.restartAnimation?n.animation():n.slienceForce()},this.stop=function(){window.cancelAnimationFrame(n.timer),n.done=!0},this.props={stiffness:200,enableWorker:!1,defSpringLen:function(e){return e.data.spring||200},repulsion:1e3,centripetalOptions:{leaf:2,single:2},leafCluster:!1,clustering:!1,nodeClusterBy:"cluster",clusterNodeStrength:20,damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,coulombDisScale:.005,tickInterval:.02,groupFactor:4,maxIterations:7440,minDistanceThreshold:.4,distanceThresholdMode:"mean",animation:!0,restartAnimation:!0,width:200,height:200},this.updateOptions(t),this.sourceData={nodes:[],edges:[],combos:[]},this.nodes=[],this.edges=[],this.nodeSet={},this.edgeSet={},this.renderNodes=[],this.nodePoints=new Map,this.edgeSprings=new Map,this.registers=new Map,this.done=!1,this.judgingDistance=0,this.iterations=0,this.nextEdgeId=0,this.timer=0,this.center=new J7(0,0),this.centripetalOptions={leaf:2,single:2,others:1,center:function(e){return{x:n.props.width/2,y:n.props.height/2}}},this.dragNodes=[]})),Ree=Dee,Lee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function jee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zee=function(e,t,n){if(t)try{e.forEach((function(e){var r=e.cfg.name;if(t[r]){var i=n(t,r),o=i.animate,a=i.visible,s=Bee(i,["animate","visible"]);if(!e.attrs.img&&(e.attr(s),e.cfg.visible=!1!==a,o)){var u=o.attrs,l=Bee(o,["attrs"]);e.animate(u,l)}}}))}catch(r){console.error(r)}};function Yee(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}var Gee=function(e){if(!e)return[0,0];var t=0,n=0;if((0,rU.isNumber)(e))t=e,n=e;else if((0,rU.isArray)(e))if(1===e.length){var r=jee(e,1)[0];t=r,n=r}else if(2===e.length){var i=jee(e,2);t=i[0],n=i[1]}return[t,n]};function Vee(e){return function(e){if(Array.isArray(e))return Zee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Uee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uee(e,t){if(e){if("string"===typeof e)return Zee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zee(e,t):void 0}}function Zee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qee(e){var t;return(0,rU.isNumber)(e)?t=e/2:(0,rU.isArray)(e)&&(t=e[0]/2),t}var Xee=function(e){var t,n,r,i=e.halo,o=e.keyshape,a=i.size,s=i.visible,u=i.fill,l=i.fillOpacity,c=Hee(i,["size","visible","fill","fillOpacity"]),d=qee(a);o&&o.size&&(t=qee(o.size)+15);return o&&o.fill&&(n=o.fill),o&&o.stroke&&(r=o.stroke),{name:"halo",visible:!1!==s,attrs:Yee(Object.assign({x:0,y:0,r:d||t,fill:u||n||r,fillOpacity:l||.1,visible:!1!==s},c))}},Kee=function(e){var t=e.keyshape,n=t.size,r=t.visible,i=t.stroke,o=t.fill,a=t.fillOpacity,s=t.strokeOpacity,u=Hee(t,["size","visible","stroke","fill","fillOpacity","strokeOpacity"]),l=qee(n);return{name:"keyshape",visible:!1!==r,attrs:Yee(Object.assign({x:0,y:0,r:l,cursor:"pointer",visible:!1!==r,stroke:i,strokeOpacity:s||1,fill:o||i,fillOpacity:a||.2},u))}},Jee=function(e){var t=e.label,n=t.value,r=t.fill,i=t.fontSize,o=t.visible,a=Hee(t,["value","fill","fontSize","visible"]),s=function(e){var t=e.label,n=e.keyshape;if(!(null===n||void 0===n?void 0:n.size)&&!(null===t||void 0===t?void 0:t.offset))return{x:void 0,y:void 0,textBaseline:null===t||void 0===t?void 0:t.textBaseline};!(null===n||void 0===n?void 0:n.size)&&(null===t||void 0===t?void 0:t.offset)&&(n.size=26,console.info("you should set keyshape.size when you update label position,the default keyshape size value is  26"));var r=n.size,i=[0,0],o=t.position,a=t.offset,s=void 0===a?i:a;"number"!==typeof s&&"string"!==typeof s||(i=[Number(s),Number(s)]),s.length>0&&(i=s);var u=jee(i,2),l=u[0],c=u[1];if("center"===o)return{x:0+l,y:0+c};var d,f=Gee(r),h=f[0],p=f[1];switch(o){case"top":d={x:0+l,y:-p/2-c,textBaseline:"bottom"};break;case"bottom":default:d={x:0+l,y:p/2+c,textBaseline:"top"};break;case"left":d={x:0-h-l,y:0+c,textAlign:"right"};break;case"right":d={x:0+h+l,y:0+c,textAlign:"left"}}return d}(e);return{name:"label",visible:!1!==o,attrs:Yee(Object.assign({x:s.x,y:s.y,fontSize:i,text:n,textAlign:"center",fill:r,textBaseline:s.textBaseline,visible:!1!==o},a))}},$ee=function(e){var t=e.icon,n=t.value,r=void 0===n?"":n,i=t.type,o=t.fontFamily,a=t.textAlign,s=void 0===a?"center":a,u=t.textBaseline,l=void 0===u?"middle":u,c=t.fill,d=t.size,f=t.visible,h=(t.clip,Hee(t,["value","type","fontFamily","textAlign","textBaseline","fill","size","visible","clip"])),p=Wee(Gee(d),2),g=p[0],v=p[1],m={name:"icon",visible:!1!==f,capture:!1};return"text"===i||"font"===i?Object.assign(Object.assign({},m),{attrs:Object.assign({x:0,y:0,textAlign:s,textBaseline:l,text:r,fontSize:g,fontFamily:o,fill:c,visible:!1!==f},h)}):Object.assign(Object.assign({},m),{attrs:Object.assign({x:-g/2,y:-v/2,img:r,width:g,height:v,visible:!1!==f},h)})},Qee=function(e,t){return"keyshape"===t?Kee(e).attrs:"halo"===t?Xee(e).attrs:"label"===t?Jee(e).attrs:"icon"===t?$ee(e).attrs:e[t]||{}},ete=function(e,t,n){var r=e.type,i=e.position,o=e.value,a=void 0===o?"":o,s=e.size,u=e.fill,l=e.stroke,c=e.color,d=e.fontSize,f=e.fontFamily,h=e.padding,p=void 0===h?0:h,g=e.offset,v=void 0===g?[0,0]:g,m=e.id,y=Gee(v),b=Wee(Gee(s),2),x=b[0],w=b[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RT",t=arguments.length>1?arguments[1]:void 0,n=0,r=0;return"LT"===e?(n=t*Math.cos(3*Math.PI/4),r=-t*Math.sin(3*Math.PI/4)):"LB"===e?(n=t*Math.cos(5*Math.PI/4),r=-t*Math.sin(5*Math.PI/4)):"RT"===e?(n=t*Math.cos(1*Math.PI/4),r=-t*Math.sin(1*Math.PI/4)):"RB"===e&&(n=t*Math.cos(7*Math.PI/4),r=-t*Math.sin(7*Math.PI/4)),{x:n,y:r}}(i,n),k=E.x,_=E.y,S=k,T=_;if(x===w){var C={attrs:{r:x/2+p,fill:u,stroke:l,x:S+=y[0],y:T+=y[1]},name:"badges-circle"};m&&(C.id=m),t.addShape("circle",C)}else{S=k-x-2*p,T=_-w-2*p,"LB"===i?T=_:"RT"===i?(S=k,T=_-w-2*p):"RB"===i&&(S=k,T=_);var M={attrs:{width:x+2*p,height:w+2*p,fill:u,stroke:l,x:S+=y[0],y:T+=y[1],radius:(w+2*p)/3},name:"badges-rect"};m&&(M.id=m),t.addShape("rect",M)}"font"===r||"text"===r?t.addShape("text",{attrs:{x:x!==w?S+x/2+p:S,y:x!==w?T+w/2+p:T,text:a,fontSize:d,textAlign:"center",textBaseline:"middle",fontFamily:f,fill:c},capture:!1,name:"badges-text"}):"image"===r&&t.addShape("image",{attrs:{x:S-x/2,y:S-w/2,width:x,height:w,img:a},capture:!1,name:"badges-image"})};function tte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nte(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rte,ite=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ote(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}!function(e){e.NORMAL="normal",e.SELECTED="selected",e.HOVERED="hovered",e.DISABLED="disabled"}(rte||(rte={}));var ate=function(e,t){return"keyshape"===t?function(e){var t=ite(e,[]);return ote(Object.assign({id:"keyshape"},t))}(e.keyshape||{}):"halo"===t?function(e){var t=ite(e,[]);return ote(Object.assign({id:"halo"},t))}(e.halo||{}):"label"===t?function(e){var t=e.value,n=ite(e,["value"]);return ote(Object.assign({id:"label",text:t},n))}(e.label||{}):{}},ste=function(e,t,n){var r=(t.x+e.x)/2,i=(t.y+e.y)/2,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return{x:r+a*n/s||0,y:i-o*n/s||0}};Z7.registerLayout("graphin-force",{getDefaultCfg:function(){return{preset:{name:"grid",options:{}},stiffness:200,repulsion:1e3,centripetalOptions:{leaf:1.6,single:1.6},damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,MaxIterations:1e4,animation:!0}},init:function(e){this.nodes=e.nodes,this.edges=e.edges;var t=this.graph,n=Lee(this,["graph"]),r=Object.assign(Object.assign({},this.getDefaultCfg()),n),i=r.width,o=r.height,a=r.animation,s=r.done,u=void 0===s?function(){}:s,l=Lee(r,["width","height","animation","done"]);this.simulation=new Ree(Object.assign(Object.assign(Object.assign({width:i,height:o,animation:a},l),n),{done:function(e){u(t,e)}})),this.simulation.setData(e),this.simulation.register("render",(function(n){if(!a&&e&&e.nodes&&e.nodes.length>0){var r=n.nodes;return e.nodes.forEach((function(e,t){var n=r[t];if(n&&n.id===e.id)e.x=r[t].x,e.y=r[t].y;else{var i=r.find((function(t){return t.id===e.id}));i&&(e.x=i.x,e.y=i.y)}})),Object.assign({},n)}try{if(!t||t.destroyed)return;var i=!1;n.nodes.forEach((function(e){var n=t.findById(e.id);if(n){var r=n.get("model");r.x=e.x,r.y=e.y,"combo"===n.getType()&&(i=!0)}})),t.refreshPositions(i)}catch(o){console.error(o)}}))},execute:function(){this.simulation.start()},layout:function(e){this.init(e),this.execute()},updateCfg:function(e){this.cfg=Object.assign(Object.assign({},this.cfg),e)},destroy:function(){this.destroyed=!0,this.simulation.stop(),this.simulation=null},getType:function(){return"graphin-force"}}),Z7.registerLayout("preset",{init:function(){},execute:function(){},destroy:function(){this.destroyed=!0}}),N9.registerNode("graphin-circle",{options:{style:{},status:{}},draw:function(e,t){var n=e.style._theme;this.options=function(){var e=C7(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultNodeStyle,n=e.defaultNodeStatusStyle;return{style:t.style,status:n.status}}(n);var r=(0,rU.deepMix)({},this.options.style,e.style);e._initialStyle=Object.assign({},r);var i=r.icon,o=r.badges,a=void 0===o?[]:o,s=qee(r.keyshape.size);t.addShape("circle",Xee(r));var u=t.addShape("circle",Kee(r));t.addShape("text",Jee(r));var l=i.type;if("text"!==l&&"font"!==l||t.addShape("text",$ee(r)),"image"===l){var c=$ee(r),d=t.addShape("image",c),f=r.icon.clip;if(f){var h=f.r,p=Hee(f,["r"]);d.setClip({type:"circle",attrs:Object.assign({x:0,y:0,r:h},p)})}}return a.forEach((function(e){ete(e,t,s)})),u},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,rU.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?zee(o,a[n],Qee):(zee(o,s,Qee),u.forEach((function(e){zee(o,a[e],Qee)}))))}))}catch(l){console.error(l)}}},update:function(e,t){if(e.style)try{var n=(0,rU.deepMix)({},e._initialStyle,e.style);e._initialStyle=Object.assign({},n);var r=n.badges,i=qee(n.keyshape.size),o=t.getContainer(),a=o.get("children");zee(a,n,Qee);var s=Vee(a);if(r){var u=0;s.forEach((function(e){e.cfg.name.startsWith("badges")?a.splice(u,1):u+=1})),r.forEach((function(e){ete(e,o,i)}))}}catch(l){console.error("error")}}}),N9.registerEdge("graphin-line",{draw:function(e,t){var n,r,i,o,a,s=e.style._theme;this.options=function(){var e=C7(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultEdgeStyle,n=e.defaultEdgeStatusStyle;return{style:t.style,status:n.status}}(s);var u=(0,rU.deepMix)({},this.options.style,e.style);e&&(e._initialStyle=Object.assign({},u));var l=e.startPoint,c=void 0===l?{x:0,y:0}:l,d=e.endPoint,f=void 0===d?{x:0,y:0}:d,h=e.sourceNode,p=e.targetNode,g=u.label,v=u.halo,m=u.keyshape,y=h.get("model"),b=(null===(n=p)||void 0===n?void 0:n.get("model"))||{id:"temp"},x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||28,w="loop"===(null===m||void 0===m?void 0:m.type)||y.id===b.id,E=g.value,k="poly"===(null===m||void 0===m?void 0:m.type),_=ste(c,f,(null===(o=null===m||void 0===m?void 0:m.poly)||void 0===o?void 0:o.distance)||0),S=(null===m||void 0===m?void 0:m.lineWidth)||1,T=S+5,C=function(e,t){var n,r,i,o=e.startPoint,a=void 0===o?{x:0,y:0}:o,s=e.endPoint,u=void 0===s?{x:0,y:0}:s,l=e.sourceNode,c=e.targetNode,d=t.keyshape,f=d.type,h=void 0===f?"line":f,p=d.poly,g=void 0===p?{distance:0}:p,v=d.loop,m=void 0===v?{}:v,y=l.get("model"),b=(null===(n=c)||void 0===n?void 0:n.get("model"))||{id:"temp"};if("loop"===h||y.id===b.id){var x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||26,w=Object.assign({distance:0,dx:8,rx:void 0,ry:void 0},m),E=w.distance,k=w.dx,_=w.rx,S=w.ry,T=x/2,C=Math.sqrt(Math.pow(T,2)-Math.pow(k,2)),M=_||2*T*.5,A=S||2*T*.6;return[["M",a.x-k,a.y-C],["A",M+E,A+E,0,1,1,a.x+k,a.y-C]]}if("poly"===h){var I=ste(a,u,(null===g||void 0===g?void 0:g.distance)||0);return[["M",a.x,a.y],["Q",I.x,I.y,u.x,u.y]]}return[["M",a.x,a.y],["L",u.x,u.y]]}(e,u);t.addShape("path",{attrs:Object.assign({id:"halo",path:C,lineWidth:S+10,stroke:v.stroke||m.stroke,strokeOpacity:v.strokeOpacity||.4},v),draggable:!0,name:"halo",visible:!1!==v.visible});var M=t.addShape("path",{attrs:Object.assign({id:"keyshape",path:C,endArrow:w?void 0:{d:0,path:"M 0,0 L ".concat(T,",").concat(T/2," L ").concat(T,",-").concat(T/2," Z"),fill:m.stroke}},m),draggable:!0,name:"keyshape"});if(E){var A=g.value,I=g.fontSize,O=void 0===I?8:I,N=g.offset,P=void 0===N?[0,0]:N,D=g.background,R=ite(g,["value","fontSize","offset","background"]),L=Boolean(D),j=tte(P,2),F=j[0],B=j[1],z=Math.atan((f.y-c.y)/(f.x-c.x)),Y=[(c.x+f.x)/2,(c.y+f.y)/2];if(k&&(Y=[(_.x+Y[0])/2,(_.y+Y[1])/2]),f.x-c.x===0&&(z=Math.PI/2),w&&(z=2*Math.PI),L){var G={fill:"#fff",width:String(A).length*O*.6,height:1.8*O,stroke:m.stroke,lineWidth:1,radius:6},V=Object.assign(Object.assign({},G),D),W=V.fill,U=V.width,Z=V.height,H=V.stroke,q=ite(V,["fill","width","height","stroke"]),X=t.addShape("rect",{attrs:Object.assign({id:"label-background",x:-U/2+F,y:-Z/2+B,width:U,height:Z,fill:W,stroke:H},q),draggable:!0,name:"label-background"});X.rotate(z),X.translate(Y[0],Y[1])}var K=B-O/2;w&&(K=B-1.6*x-2*((null===(a=null===m||void 0===m?void 0:m.loop)||void 0===a?void 0:a.distance)||0)),L&&(K=B+O/2);var J=t.addShape("text",{attrs:Object.assign({id:"label",x:F,y:K,text:A,fontSize:O},R),draggable:!0,name:"label"});J.rotate(z),J.translate(Y[0],Y[1])}return M},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,rU.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?zee(o,a[n],ate):(zee(o,s,ate),u.forEach((function(e){zee(o,a[e],ate)}))))}))}catch(l){console.error(l)}}}});Z7.registerFontFamily;var ute=Z7,lte=u7.ZoomCanvas,cte=u7.DragCanvas;var dte={type:"graphin-circle",Style:{keyshape:{fill:"#000",stroke:"#000",fillOpacity:.1},label:{visible:!0}}};ute.registerBehavior("openPaperOnClick",{getEvents:function(){return{"node:click":"onClick"}},onClick:function(e){var t=e.item.getModel();az.info({content:(0,pS.jsx)("a",{href:t.id,target:"_blank",rel:"noreferrer",children:t.id})})}});var fte=function(){var e=function(){for(var e=DE(),t=[],n=[],r=lt,i=[],o=0;o<e.length;o++)for(var a=o+1;a<e.length;a++)i.push([o,a]);return i.forEach((function(t){var i,o=e[t[0]],a=e[t[1]],s=0,u=(0,PE.Z)(r);try{var l=function(){var e=i.value,t=o[e];if(!Array.isArray(t))return"continue";s+=t.filter((function(t){var n=a[e];return Array.isArray(n)&&n.some((function(e){return e===t}))})).length};for(u.s();!(i=u.n()).done;)l()}catch(d){u.e(d)}finally{u.f()}if(s>5){var c={source:o.url,target:a.url,style:{keyshape:{endArrow:{path:"123"},type:"line",poly:{distance:600-5*s},lineWidth:1+.5*s,opacity:(1+s)/50,stroke:"1",fill:"#ffffff"}}};n.push(c)}})),e.forEach((function(e){var n={id:e.url,label:{value:e.Authors[0]+"et al"},size:150,style:{keyshape:{stroke:"red",fill:"red",fillOpacity:.2},label:{value:e.Authors[0]+" et al"}}};t.push(n)})),{nodes:t,edges:n}}();return e.nodes.length<1?(0,pS.jsx)(Ene,{}):(0,pS.jsx)("div",{className:"TestChart",children:(0,pS.jsxs)(ute,{data:e,layout:{type:"force",maxIteration:1e3,preventOverlap:!0,nodeSpacing:100,nodeSize:10,strictRadial:!1,gpuEnabled:!0},defaultNode:dte,modes:{default:["openPaperOnClick"]},children:[(0,pS.jsx)(lte,{enableOptimize:!0}),(0,pS.jsx)(cte,{})]})})},hte=n(24242),pte=n.n(hte),gte=n(30298),vte=n.n(gte),mte=n(80086),yte=n.n(mte);function bte(){return bte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bte.apply(this,arguments)}var xte=4,wte=120,Ete=8,kte=function(e){return"circle"===e.type},_te=function(e){return"dot"===e.type},Ste=function(e){return"rect"===e.type},Tte=function(e){var t,n,r=e.x,i=e.y,o=e.noteX,a=e.noteY,s=e.noteWidth,u=void 0===s?wte:s,l=e.noteTextOffset,c=void 0===l?Ete:l;if(vte()(o))t=r+o;else{if(void 0===o.abs)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=o.abs}if(vte()(a))n=i+a;else{if(void 0===a.abs)throw new Error("noteY should be either a number or an object containing an 'abs' property");n=a.abs}var d=r,f=i,h=function(e,t,n,r){var i=Math.atan2(r-t,n-e);return function(e){var t=e%360;return t<0&&(t+=360),t}(PL(i))}(r,i,t,n);if(kte(e)){var p=DL(NL(h),e.size/2);d+=p.x,f+=p.y}if(Ste(e)){var g=Math.round((h+90)/45)%8;0===g&&(f-=e.height/2),1===g&&(d+=e.width/2,f-=e.height/2),2===g&&(d+=e.width/2),3===g&&(d+=e.width/2,f+=e.height/2),4===g&&(f+=e.height/2),5===g&&(d-=e.width/2,f+=e.height/2),6===g&&(d-=e.width/2),7===g&&(d-=e.width/2,f-=e.height/2)}var v=t,m=t;return(h+90)%360>180?(v-=u,m-=u):m+=u,{points:[[d,f],[t,n],[m,n]],text:[v,n-c],angle:h+90}},Cte=function(e){var t=e.data,n=e.annotations,r=e.getPosition,i=e.getDimensions;return(0,y.useMemo)((function(){return function(e){var t=e.data,n=e.annotations,r=e.getPosition,i=e.getDimensions;return n.reduce((function(e,n){var o=n.offset||0;return[].concat(e,yte()(t,n.match).map((function(e){var t=r(e),a=i(e);return(kte(n)||Ste(n))&&(a.size=a.size+2*o,a.width=a.width+2*o,a.height=a.height+2*o),bte({},pte()(n,["match","offset"]),t,a,{size:n.size||a.size,datum:e})})))}),[])}({data:t,annotations:n,getPosition:r,getDimensions:i})}),[t,n,r,i])},Mte=function(e){var t=e.datum,n=e.x,r=e.y,i=e.note,o=kL(),a=tL(),s=a.animate,u=WM({x:n,y:r,config:a.config,immediate:!s});return"function"==typeof i?(0,y.createElement)(i,{x:n,y:r,datum:t}):(0,pS.jsxs)(pS.Fragment,{children:[o.annotations.text.outlineWidth>0&&(0,pS.jsx)(mA.text,{x:u.x,y:u.y,style:bte({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:i}),(0,pS.jsx)(mA.text,{x:u.x,y:u.y,style:pte()(o.annotations.text,["outlineWidth","outlineColor"]),children:i})]})},Ate=function(e){var t=e.points,n=e.isOutline,r=void 0!==n&&n,i=kL(),o=(0,y.useMemo)((function(){var e=t[0];return t.slice(1).reduce((function(e,t){return e+" L"+t[0]+","+t[1]}),"M"+e[0]+","+e[1])}),[t]),a=nL(o);if(r&&i.annotations.link.outlineWidth<=0)return null;var s=bte({},i.annotations.link);return r&&(s.strokeLinecap="square",s.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,s.stroke=i.annotations.link.outlineColor,s.opacity=i.annotations.link.outlineOpacity),(0,pS.jsx)(mA.path,{fill:"none",d:a,style:s})},Ite=function(e){var t=e.x,n=e.y,r=e.size,i=kL(),o=tL(),a=o.animate,s=WM({x:t,y:n,radius:r/2,config:o.config,immediate:!a});return(0,pS.jsxs)(pS.Fragment,{children:[i.annotations.outline.outlineWidth>0&&(0,pS.jsx)(mA.circle,{cx:s.x,cy:s.y,r:s.radius,style:bte({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),(0,pS.jsx)(mA.circle,{cx:s.x,cy:s.y,r:s.radius,style:i.annotations.outline})]})},Ote=function(e){var t=e.x,n=e.y,r=e.size,i=void 0===r?xte:r,o=kL(),a=tL(),s=a.animate,u=WM({x:t,y:n,radius:i/2,config:a.config,immediate:!s});return(0,pS.jsxs)(pS.Fragment,{children:[o.annotations.outline.outlineWidth>0&&(0,pS.jsx)(mA.circle,{cx:u.x,cy:u.y,r:u.radius,style:bte({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),(0,pS.jsx)(mA.circle,{cx:u.x,cy:u.y,r:u.radius,style:o.annotations.symbol})]})},Nte=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.borderRadius,a=void 0===o?6:o,s=kL(),u=tL(),l=u.animate,c=WM({x:t-r/2,y:n-i/2,width:r,height:i,config:u.config,immediate:!l});return(0,pS.jsxs)(pS.Fragment,{children:[s.annotations.outline.outlineWidth>0&&(0,pS.jsx)(mA.rect,{x:c.x,y:c.y,rx:a,ry:a,width:c.width,height:c.height,style:bte({},s.annotations.outline,{fill:"none",strokeWidth:s.annotations.outline.strokeWidth+2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),(0,pS.jsx)(mA.rect,{x:c.x,y:c.y,rx:a,ry:a,width:c.width,height:c.height,style:s.annotations.outline})]})},Pte=function(e){var t=e.datum,n=e.x,r=e.y,i=e.note,o=function(e){return(0,y.useMemo)((function(){return Tte(e)}),[e])}(e);if(!function(e){var t=typeof e;return(0,y.isValidElement)(e)||"string"===t||"function"===t||"object"===t}(i))throw new Error("note should be a valid react element");return(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsx)(Ate,{points:o.points,isOutline:!0}),kte(e)&&(0,pS.jsx)(Ite,{x:n,y:r,size:e.size}),_te(e)&&(0,pS.jsx)(Ote,{x:n,y:r,size:e.size}),Ste(e)&&(0,pS.jsx)(Nte,{x:n,y:r,width:e.width,height:e.height,borderRadius:e.borderRadius}),(0,pS.jsx)(Ate,{points:o.points}),(0,pS.jsx)(Mte,{datum:t,x:o.text[0],y:o.text[1],note:i})]})},Dte=function(e,t){t.forEach((function(t,n){var r=t[0],i=t[1];0===n?e.moveTo(r,i):e.lineTo(r,i)}))},Rte=Array.prototype.slice;function Lte(e,t){return e[t]}function jte(){return jte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jte.apply(this,arguments)}function Fte(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Bte,zte=function(e){var t=e.bars,n=e.annotations,r=Cte({data:t,annotations:n,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,n=e.width;return{width:n,height:t,size:Math.max(n,t)}}});return(0,pS.jsx)(pS.Fragment,{children:r.map((function(e,t){return(0,pS.jsx)(Pte,jte({},e),t)}))})},Yte=function(e){var t=e.width,n=e.height,r=e.legends,i=e.toggleSerie;return(0,pS.jsx)(pS.Fragment,{children:r.map((function(e,r){var o,a=e[0],s=e[1];return(0,pS.jsx)(IV,jte({},a,{containerWidth:t,containerHeight:n,data:null!=(o=a.data)?o:s,toggleSerie:a.toggleSerie&&"keys"===a.dataFrom?i:void 0}),r)}))})},Gte=["data"],Vte=["color","label"],Wte={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:function(e){var t=e.color,n=e.label,r=Fte(e,Vte);return(0,pS.jsx)(kA,{id:n,value:r.formattedValue,enableChip:!0,color:t})},tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},Ute=jte({},Wte,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:function(e){var t,n=e.bar,r=n.data,i=Fte(n,Gte),o=e.style,a=o.borderColor,s=o.color,u=o.height,l=o.labelColor,c=o.labelOpacity,d=o.labelX,f=o.labelY,h=o.transform,p=o.width,g=e.borderRadius,v=e.borderWidth,m=e.label,b=e.shouldRenderLabel,x=e.isInteractive,w=e.onClick,E=e.onMouseEnter,k=e.onMouseLeave,_=e.tooltip,S=e.isFocusable,T=e.ariaLabel,C=e.ariaLabelledBy,M=e.ariaDescribedBy,A=kL(),I=NA(),O=I.showTooltipFromEvent,N=I.showTooltipAt,P=I.hideTooltip,D=(0,y.useMemo)((function(){return function(){return(0,y.createElement)(_,jte({},i,r))}}),[_,i,r]),R=(0,y.useCallback)((function(e){null==w||w(jte({color:i.color},r),e)}),[i,r,w]),L=(0,y.useCallback)((function(e){return O(D(),e)}),[O,D]),j=(0,y.useCallback)((function(e){null==E||E(r,e),O(D(),e)}),[r,E,O,D]),F=(0,y.useCallback)((function(e){null==k||k(r,e),P()}),[r,P,k]),B=(0,y.useCallback)((function(){N(D(),[i.absX+i.width/2,i.absY])}),[N,D,i]),z=(0,y.useCallback)((function(){P()}),[P]);return(0,pS.jsxs)(mA.g,{transform:h,children:[(0,pS.jsx)(mA.rect,{width:QM(p,(function(e){return Math.max(e,0)})),height:QM(u,(function(e){return Math.max(e,0)})),rx:g,ry:g,fill:null!=(t=r.fill)?t:s,strokeWidth:v,stroke:a,focusable:S,tabIndex:S?0:void 0,"aria-label":T?T(r):void 0,"aria-labelledby":C?C(r):void 0,"aria-describedby":M?M(r):void 0,onMouseEnter:x?j:void 0,onMouseMove:x?L:void 0,onMouseLeave:x?F:void 0,onClick:x?R:void 0,onFocus:x&&S?B:void 0,onBlur:x&&S?z:void 0}),b&&(0,pS.jsx)(mA.text,{x:d,y:f,textAnchor:"middle",dominantBaseline:"central",fillOpacity:c,style:jte({},A.labels.text,{pointerEvents:"none",fill:l}),children:m})]})},defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),Zte=jte({},Wte,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(Bte=window.devicePixelRatio)?Bte:1}),Hte=function(e,t,n,r,i,o){return XG(r,{all:e.map(t),min:0,max:0},i,o).padding(n)},qte=function(e,t){return e.map((function(e){return jte({},t.reduce((function(e,t){return e[t]=null,e}),{}),e)}))},Xte=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},Kte=function(e){return[e,Number(e)]},Jte=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],$te=function(e,t){return e>t},Qte=function(e,t){return e<t},ene=function(e,t){return Array.from(" ".repeat(t-e),(function(t,n){return e+n}))},tne=function(e){return $te(e,0)?0:e},nne=function(e,t,n,r){var i=e.data,o=e.formatValue,a=e.getColor,s=e.getIndex,u=e.getTooltipLabel,l=e.innerPadding,c=void 0===l?0:l,d=e.keys,f=e.xScale,h=e.yScale,p=e.margin,g=n?Qte:$te,v=i.map(Xte),m=[];return d.forEach((function(e,n){return ene(0,f.domain().length).forEach((function(l){var d,y,b,x=Kte(i[l][e]),w=x[0],E=x[1],k=s(i[l]),_=(null!=(d=f(k))?d:0)+t*n+c*n,S=g(y=E,0)?null!=(b=h(y))?b:0:r,T=function(e,t){var n;return g(e,0)?r-t:(null!=(n=h(e))?n:0)-r}(E,S),C={id:e,value:null===w?w:E,formattedValue:o(E),hidden:!1,index:l,indexValue:k,data:v[l]};m.push({key:e+"."+C.indexValue,index:m.length,data:C,x:_,y:S,absX:p.left+_,absY:p.top+S,width:t,height:T,color:a(C),label:u(C)})}))})),m},rne=function(e,t,n,r){var i=e.data,o=e.formatValue,a=e.getIndex,s=e.getColor,u=e.getTooltipLabel,l=e.keys,c=e.innerPadding,d=void 0===c?0:c,f=e.xScale,h=e.yScale,p=e.margin,g=n?Qte:$te,v=i.map(Xte),m=[];return l.forEach((function(e,n){return ene(0,h.domain().length).forEach((function(l){var c,y,b,x=Kte(i[l][e]),w=x[0],E=x[1],k=a(i[l]),_=g(y=E,0)?r:null!=(b=f(y))?b:0,S=(null!=(c=h(k))?c:0)+t*n+d*n,T=function(e,t){var n;return g(e,0)?(null!=(n=f(e))?n:0)-r:r-t}(E,_),C={id:e,value:null===w?w:E,formattedValue:o(E),hidden:!1,index:l,indexValue:k,data:v[l]};m.push({key:e+"."+C.indexValue,index:m.length,data:C,x:_,y:S,absX:p.left+_,absY:p.top+S,width:T,height:t,color:s(C),label:u(C)})}))})),m},ine=function(e){var t,n,r=e.layout,i=e.minValue,o=e.maxValue,a=e.reverse,s=e.width,u=e.height,l=e.padding,c=void 0===l?0:l,d=e.innerPadding,f=void 0===d?0:d,h=e.valueScale,p=e.indexScale,g=e.hiddenIds,v=void 0===g?[]:g,m=Fte(e,Jte),y=m.keys.filter((function(e){return!v.includes(e)})),b=qte(m.data,y),x="vertical"===r?["y","x",s]:["x","y",u],w=x[0],E=x[1],k=x[2],_=Hte(b,m.getIndex,c,p,k,E),S=jte({max:o,min:i,reverse:a},h),T="auto"===S.min?tne:function(e){return e},C=b.reduce((function(e,t){return[].concat(e,y.map((function(e){return t[e]})))}),[]).filter(Boolean),M=XG(S,{all:C,min:T(Math.min.apply(Math,C)),max:(n=Math.max.apply(Math,C),isFinite(n)?n:0)},"x"===w?s:u,w),A="vertical"===r?[_,M]:[M,_],I=A[0],O=A[1],N=(_.bandwidth()-f*(y.length-1))/y.length,P=[jte({},m,{data:b,keys:y,innerPadding:f,xScale:I,yScale:O}),N,S.reverse,null!=(t=M(0))?t:0];return{xScale:I,yScale:O,bars:N>0?"vertical"===r?nne.apply(void 0,P):rne.apply(void 0,P):[]}},one=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],ane=function e(t){var n;return t.some(Array.isArray)?e((n=[]).concat.apply(n,t)):t},sne=function(e,t,n){var r=e.formatValue,i=e.getColor,o=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,l=e.xScale,c=e.yScale,d=e.margin,f=[];return u.forEach((function(e){return l.domain().forEach((function(u,h){var p,g,v=e[h],m=null!=(p=l(o(v.data)))?p:0,y=(null!=(g=function(e){return c(e[n?0:1])}(v))?g:0)+.5*s,b=function(e,t){var r;return(null!=(r=c(e[n?1:0]))?r:0)-t}(v,y)-s,x=Kte(v.data[e.key]),w=x[0],E=x[1],k={id:e.key,value:null===w?w:E,formattedValue:r(E),hidden:!1,index:h,indexValue:u,data:Xte(v.data)};f.push({key:e.key+"."+u,index:f.length,data:k,x:m,y:y,absX:d.left+m,absY:d.top+y,width:t,height:b,color:i(k),label:a(k)})}))})),f},une=function(e,t,n){var r=e.formatValue,i=e.getColor,o=e.getIndex,a=e.getTooltipLabel,s=e.innerPadding,u=e.stackedData,l=e.xScale,c=e.yScale,d=e.margin,f=[];return u.forEach((function(e){return c.domain().forEach((function(u,h){var p,g,v=e[h],m=null!=(p=c(o(v.data)))?p:0,y=(null!=(g=function(e){return l(e[n?1:0])}(v))?g:0)+.5*s,b=function(e,t){var r;return(null!=(r=l(e[n?0:1]))?r:0)-t}(v,y)-s,x=Kte(v.data[e.key]),w=x[0],E=x[1],k={id:e.key,value:null===w?w:E,formattedValue:r(E),hidden:!1,index:h,indexValue:u,data:Xte(v.data)};f.push({key:e.key+"."+u,index:f.length,data:k,x:y,y:m,absX:d.left+y,absY:d.top+m,width:b,height:t,color:i(k),label:a(k)})}))})),f},lne=function(e){var t,n=e.data,r=e.layout,i=e.minValue,o=e.maxValue,a=e.reverse,s=e.width,u=e.height,l=e.padding,c=void 0===l?0:l,d=e.valueScale,f=e.indexScale,h=e.hiddenIds,p=void 0===h?[]:h,g=Fte(e,one),v=g.keys.filter((function(e){return!p.includes(e)})),m=function(){var e=YV([]),t=aP,n=cP,r=Lte;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var d,f=s[o],h=c[o]=new Array(u),p=0;p<u;++p)h[p]=d=[0,+r(i[p],f,p,i)],d.data=i[p];h.key=f}for(o=0,a=t(c);o<l;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:YV(Rte.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:YV(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?aP:"function"===typeof e?e:YV(Rte.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?cP:e,i):n},i}().keys(v).offset(dP)(qte(n,v)),y="vertical"===r?["y","x",s]:["x","y",u],b=y[0],x=y[1],w=y[2],E=Hte(n,g.getIndex,c,f,w,x),k=jte({max:o,min:i,reverse:a},d),_=(t=ane(m),"log"===d.type?t.filter((function(e){return 0!==e})):t),S=XG(k,{all:_,min:Math.min.apply(Math,_),max:Math.max.apply(Math,_)},"x"===b?s:u,b),T="vertical"===r?[E,S]:[S,E],C=T[0],M=T[1],A=g.innerPadding>0?g.innerPadding:0,I=E.bandwidth(),O=[jte({},g,{innerPadding:A,stackedData:m,xScale:C,yScale:M}),I,k.reverse];return{xScale:C,yScale:M,bars:I>0?"vertical"===r?sne.apply(void 0,O):une.apply(void 0,O):[]}},cne=function(e){var t=e.bars,n=e.direction,r=e.from,i=e.groupMode,o=e.layout,a=e.legendLabel,s=e.reverse,u=ej(null!=a?a:"indexes"===r?"indexValue":"id");return"indexes"===r?function(e,t,n){var r=fz()(e.map((function(e){var t,r;return{id:null!=(t=e.data.indexValue)?t:"",label:n(e.data),hidden:e.data.hidden,color:null!=(r=e.color)?r:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&r.reverse(),r}(t,o,u):function(e,t,n,r,i,o){var a=fz()(e.map((function(e){var t;return{id:e.data.id,label:o(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===r&&"column"===n&&!0!==i||"horizontal"===t&&"stacked"===r&&!0===i)&&a.reverse(),a}(t,o,n,i,s,u)},dne=function(e){var t=e.indexBy,n=void 0===t?Wte.indexBy:t,r=e.keys,i=void 0===r?Wte.keys:r,o=e.label,a=void 0===o?Wte.label:o,s=e.tooltipLabel,u=void 0===s?Wte.tooltipLabel:s,l=e.valueFormat,c=e.colors,d=void 0===c?Wte.colors:c,f=e.colorBy,h=void 0===f?Wte.colorBy:f,p=e.borderColor,g=void 0===p?Wte.borderColor:p,v=e.labelTextColor,m=void 0===v?Wte.labelTextColor:v,b=e.groupMode,x=void 0===b?Wte.groupMode:b,w=e.layout,E=void 0===w?Wte.layout:w,k=e.reverse,_=void 0===k?Wte.reverse:k,S=e.data,T=e.minValue,C=void 0===T?Wte.minValue:T,M=e.maxValue,A=void 0===M?Wte.maxValue:M,I=e.margin,O=e.width,N=e.height,P=e.padding,D=void 0===P?Wte.padding:P,R=e.innerPadding,L=void 0===R?Wte.innerPadding:R,j=e.valueScale,F=void 0===j?Wte.valueScale:j,B=e.indexScale,z=void 0===B?Wte.indexScale:B,Y=e.initialHiddenIds,G=void 0===Y?Wte.initialHiddenIds:Y,V=e.enableLabel,W=void 0===V?Wte.enableLabel:V,U=e.labelSkipWidth,Z=void 0===U?Wte.labelSkipWidth:U,H=e.labelSkipHeight,q=void 0===H?Wte.labelSkipHeight:H,X=e.legends,K=void 0===X?Wte.legends:X,J=e.legendLabel,$=(0,y.useState)(null!=G?G:[]),Q=$[0],ee=$[1],te=(0,y.useCallback)((function(e){ee((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),ne=tj(n),re=tj(a),ie=tj(u),oe=bL(l),ae=kL(),se=NF(d,h),ue=AF(g,ae),le=AF(m,ae),ce=("grouped"===x?ine:lne)({layout:E,reverse:_,data:S,getIndex:ne,keys:i,minValue:C,maxValue:A,width:O,height:N,getColor:se,padding:D,innerPadding:L,valueScale:F,indexScale:z,hiddenIds:Q,formatValue:oe,getTooltipLabel:ie,margin:I}),de=ce.bars,fe=ce.xScale,he=ce.yScale,pe=(0,y.useMemo)((function(){return de.filter((function(e){return null!==e.data.value})).map((function(e,t){return jte({},e,{index:t})}))}),[de]),ge=(0,y.useCallback)((function(e){var t=e.width,n=e.height;return!!W&&!(Z>0&&t<Z)&&!(q>0&&n<q)}),[W,Z,q]),ve=(0,y.useMemo)((function(){return i.map((function(e){var t=de.find((function(t){return t.data.id===e}));return jte({},t,{data:jte({id:e},null==t?void 0:t.data,{hidden:Q.includes(e)})})}))}),[Q,i,de]),me=(0,y.useMemo)((function(){return K.map((function(e){return[e,cne({bars:"keys"===e.dataFrom?ve:de,direction:e.direction,from:e.dataFrom,groupMode:x,layout:E,legendLabel:J,reverse:_})]}))}),[K,ve,de,x,E,J,_]);return{bars:de,barsWithValue:pe,xScale:fe,yScale:he,getIndex:ne,getLabel:re,getTooltipLabel:ie,formatValue:oe,getColor:se,getBorderColor:ue,getLabelColor:le,shouldRenderBarLabel:ge,hiddenIds:Q,toggleSerie:te,legendsWithData:me}},fne=["isInteractive","animate","motionConfig","theme","renderWrapper"],hne=function(e){var t=e.data,n=e.indexBy,r=e.keys,i=e.margin,o=e.width,a=e.height,s=e.groupMode,u=e.layout,l=e.reverse,c=e.minValue,d=e.maxValue,f=e.valueScale,h=e.indexScale,p=e.padding,g=e.innerPadding,v=e.axisTop,m=e.axisRight,b=e.axisBottom,x=void 0===b?Ute.axisBottom:b,w=e.axisLeft,E=void 0===w?Ute.axisLeft:w,k=e.enableGridX,_=void 0===k?Ute.enableGridX:k,S=e.enableGridY,T=void 0===S?Ute.enableGridY:S,C=e.gridXValues,M=e.gridYValues,A=e.layers,I=void 0===A?Ute.layers:A,O=e.barComponent,N=void 0===O?Ute.barComponent:O,P=e.enableLabel,D=e.label,R=e.labelSkipWidth,L=e.labelSkipHeight,j=e.labelTextColor,F=e.markers,B=void 0===F?Ute.markers:F,z=e.colorBy,Y=e.colors,G=e.defs,V=void 0===G?Ute.defs:G,W=e.fill,U=void 0===W?Ute.fill:W,Z=e.borderRadius,H=void 0===Z?Ute.borderRadius:Z,q=e.borderWidth,X=void 0===q?Ute.borderWidth:q,K=e.borderColor,J=e.annotations,$=void 0===J?Ute.annotations:J,Q=e.legendLabel,ee=e.tooltipLabel,te=e.valueFormat,ne=e.isInteractive,re=void 0===ne?Ute.isInteractive:ne,ie=e.tooltip,oe=void 0===ie?Ute.tooltip:ie,ae=e.onClick,se=e.onMouseEnter,ue=e.onMouseLeave,le=e.legends,ce=e.role,de=void 0===ce?Ute.role:ce,fe=e.ariaLabel,he=e.ariaLabelledBy,pe=e.ariaDescribedBy,ge=e.isFocusable,ve=void 0===ge?Ute.isFocusable:ge,me=e.barAriaLabel,ye=e.barAriaLabelledBy,be=e.barAriaDescribedBy,xe=e.initialHiddenIds,we=tL(),Ee=we.animate,ke=we.config,_e=mL(o,a,i),Se=_e.outerWidth,Te=_e.outerHeight,Ce=_e.margin,Me=_e.innerWidth,Ae=_e.innerHeight,Ie=dne({indexBy:n,label:D,tooltipLabel:ee,valueFormat:te,colors:Y,colorBy:z,borderColor:K,labelTextColor:j,groupMode:s,layout:u,reverse:l,data:t,keys:r,minValue:c,maxValue:d,margin:Ce,width:Me,height:Ae,padding:p,innerPadding:g,valueScale:f,indexScale:h,enableLabel:P,labelSkipWidth:R,labelSkipHeight:L,legends:le,legendLabel:Q,initialHiddenIds:xe}),Oe=Ie.bars,Ne=Ie.barsWithValue,Pe=Ie.xScale,De=Ie.yScale,Re=Ie.getLabel,Le=Ie.getTooltipLabel,je=Ie.getBorderColor,Fe=Ie.getLabelColor,Be=Ie.shouldRenderBarLabel,ze=Ie.toggleSerie,Ye=Ie.legendsWithData,Ge=ZM(Ne,{keys:function(e){return e.key},from:function(e){return jte({borderColor:je(e),color:e.color,height:0,labelColor:Fe(e),labelOpacity:0,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===u?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return{borderColor:je(e),color:e.color,height:e.height,labelColor:Fe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},update:function(e){return{borderColor:je(e),color:e.color,height:e.height,labelColor:Fe(e),labelOpacity:1,labelX:e.width/2,labelY:e.height/2,transform:"translate("+e.x+", "+e.y+")",width:e.width}},leave:function(e){return jte({borderColor:je(e),color:e.color,height:0,labelColor:Fe(e),labelOpacity:0,labelX:e.width/2,labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===u?{}:{labelX:0,labelY:e.height/2,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},config:ke,immediate:!Ee}),Ve=(0,y.useMemo)((function(){return{borderRadius:H,borderWidth:X,enableLabel:P,isInteractive:re,labelSkipWidth:R,labelSkipHeight:L,onClick:ae,onMouseEnter:se,onMouseLeave:ue,getTooltipLabel:Le,tooltip:oe,isFocusable:ve,ariaLabel:me,ariaLabelledBy:ye,ariaDescribedBy:be}}),[H,X,P,Le,re,L,R,ae,se,ue,oe,ve,me,ye,be]),We=aj(V,Oe,U,{dataKey:"data",targetKey:"data.fill"}),Ue={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};I.includes("annotations")&&(Ue.annotations=(0,pS.jsx)(zte,{bars:Oe,annotations:$},"annotations")),I.includes("axes")&&(Ue.axes=(0,pS.jsx)(vV,{xScale:Pe,yScale:De,width:Me,height:Ae,top:v,right:m,bottom:x,left:E},"axes")),I.includes("bars")&&(Ue.bars=(0,pS.jsx)(y.Fragment,{children:Ge((function(e,t){return(0,y.createElement)(N,jte({},Ve,{bar:t,style:e,shouldRenderLabel:Be(t),label:Re(t.data)}))}))},"bars")),I.includes("grid")&&(Ue.grid=(0,pS.jsx)(bV,{width:Me,height:Ae,xScale:_?Pe:null,yScale:T?De:null,xValues:C,yValues:M},"grid")),I.includes("legends")&&(Ue.legends=(0,pS.jsx)(Yte,{width:Me,height:Ae,legends:Ye,toggleSerie:ze},"legends")),I.includes("markers")&&(Ue.markers=(0,pS.jsx)(JL,{markers:B,width:Me,height:Ae,xScale:Pe,yScale:De},"markers"));var Ze=(0,y.useMemo)((function(){return jte({},Ve,{margin:Ce,innerWidth:Me,innerHeight:Ae,width:o,height:a,bars:Oe,xScale:Pe,yScale:De})}),[Ve,Ce,Me,Ae,o,a,Oe,Pe,De]);return(0,pS.jsx)(VL,{width:Se,height:Te,margin:Ce,defs:We,role:de,ariaLabel:fe,ariaLabelledBy:he,ariaDescribedBy:pe,isFocusable:ve,children:I.map((function(e,t){var n;return"function"==typeof e?(0,pS.jsx)(y.Fragment,{children:(0,y.createElement)(e,Ze)},t):null!=(n=null==Ue?void 0:Ue[e])?n:null}))})},pne=function(e){var t=e.isInteractive,n=void 0===t?Ute.isInteractive:t,r=e.animate,i=void 0===r?Ute.animate:r,o=e.motionConfig,a=void 0===o?Ute.motionConfig:o,s=e.theme,u=e.renderWrapper,l=Fte(e,fne);return(0,pS.jsx)(TL,{animate:i,isInteractive:n,motionConfig:a,renderWrapper:u,theme:s,children:(0,pS.jsx)(hne,jte({isInteractive:n},l))})},gne=["isInteractive","renderWrapper","theme"],vne=function(e,t,n,r){return e.find((function(e){return nj(e.x+t.left,e.y+t.top,e.width,e.height,n,r)}))},mne=function(e){var t=e.data,n=e.indexBy,r=e.keys,i=e.margin,o=e.width,a=e.height,s=e.groupMode,u=e.layout,l=e.reverse,c=e.minValue,d=e.maxValue,f=e.valueScale,h=e.indexScale,p=e.padding,g=e.innerPadding,v=e.axisTop,m=e.axisRight,b=e.axisBottom,x=void 0===b?Zte.axisBottom:b,w=e.axisLeft,E=void 0===w?Zte.axisLeft:w,k=e.enableGridX,_=void 0===k?Zte.enableGridX:k,S=e.enableGridY,T=void 0===S?Zte.enableGridY:S,C=e.gridXValues,M=e.gridYValues,A=e.layers,I=void 0===A?Zte.layers:A,O=e.renderBar,N=void 0===O?function(e,t){var n=t.bar,r=n.color,i=n.height,o=n.width,a=n.x,s=n.y,u=t.borderColor,l=t.borderRadius,c=t.borderWidth,d=t.label,f=t.labelColor,h=t.shouldRenderLabel;if(e.fillStyle=r,c>0&&(e.strokeStyle=u,e.lineWidth=c),e.beginPath(),l>0){var p=Math.min(l,i);e.moveTo(a+p,s),e.lineTo(a+o-p,s),e.quadraticCurveTo(a+o,s,a+o,s+p),e.lineTo(a+o,s+i-p),e.quadraticCurveTo(a+o,s+i,a+o-p,s+i),e.lineTo(a+p,s+i),e.quadraticCurveTo(a,s+i,a,s+i-p),e.lineTo(a,s+p),e.quadraticCurveTo(a,s,a+p,s),e.closePath()}else e.rect(a,s,o,i);e.fill(),c>0&&e.stroke(),h&&(e.textBaseline="middle",e.textAlign="center",e.fillStyle=f,e.fillText(d,a+o/2,s+i/2))}:O,P=e.enableLabel,D=e.label,R=e.labelSkipWidth,L=e.labelSkipHeight,j=e.labelTextColor,F=e.colorBy,B=e.colors,z=e.borderRadius,Y=void 0===z?Zte.borderRadius:z,G=e.borderWidth,V=void 0===G?Zte.borderWidth:G,W=e.borderColor,U=e.annotations,Z=void 0===U?Zte.annotations:U,H=e.legendLabel,q=e.tooltipLabel,X=e.valueFormat,K=e.isInteractive,J=void 0===K?Zte.isInteractive:K,$=e.tooltip,Q=void 0===$?Zte.tooltip:$,ee=e.onClick,te=e.onMouseEnter,ne=e.onMouseLeave,re=e.legends,ie=e.pixelRatio,oe=void 0===ie?Zte.pixelRatio:ie,ae=e.canvasRef,se=(0,y.useRef)(null),ue=kL(),le=mL(o,a,i),ce=le.margin,de=le.innerWidth,fe=le.innerHeight,he=le.outerWidth,pe=le.outerHeight,ge=dne({indexBy:n,label:D,tooltipLabel:q,valueFormat:X,colors:B,colorBy:F,borderColor:W,labelTextColor:j,groupMode:s,layout:u,reverse:l,data:t,keys:r,minValue:c,maxValue:d,margin:ce,width:de,height:fe,padding:p,innerPadding:g,valueScale:f,indexScale:h,enableLabel:P,labelSkipWidth:R,labelSkipHeight:L,legends:re,legendLabel:H}),ve=ge.bars,me=ge.barsWithValue,ye=ge.xScale,be=ge.yScale,xe=ge.getLabel,we=ge.getTooltipLabel,Ee=ge.getBorderColor,ke=ge.getLabelColor,_e=ge.shouldRenderBarLabel,Se=ge.legendsWithData,Te=NA(),Ce=Te.showTooltipFromEvent,Me=Te.hideTooltip,Ae=function(e){var t=e.annotations;return(0,y.useMemo)((function(){return t.map((function(e){return bte({},e,{computed:Tte(bte({},e))})}))}),[t])}({annotations:Cte({data:ve,annotations:Z,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,n=e.height;return{width:t,height:n,size:Math.max(t,n)}}})}),Ie=(0,y.useMemo)((function(){return{borderRadius:Y,borderWidth:V,enableLabel:P,isInteractive:J,labelSkipWidth:R,labelSkipHeight:L,onClick:ee,onMouseEnter:te,onMouseLeave:ne,getTooltipLabel:we,tooltip:Q,margin:ce,innerWidth:de,innerHeight:fe,width:o,height:a,bars:ve,xScale:ye,yScale:be}}),[Y,V,P,we,a,fe,de,J,L,R,ce,ee,te,ne,ve,ye,be,Q,o]);(0,y.useEffect)((function(){var e,t=null==(e=se.current)?void 0:e.getContext("2d");se.current&&t&&(se.current.width=he*oe,se.current.height=pe*oe,t.scale(oe,oe),t.fillStyle=ue.background,t.fillRect(0,0,he,pe),t.translate(ce.left,ce.top),I.forEach((function(e){"grid"===e?"number"==typeof ue.grid.line.strokeWidth&&ue.grid.line.strokeWidth>0&&(t.lineWidth=ue.grid.line.strokeWidth,t.strokeStyle=ue.grid.line.stroke,_&&wV(t,{width:o,height:a,scale:ye,axis:"x",values:C}),T&&wV(t,{width:o,height:a,scale:be,axis:"y",values:M})):"axes"===e?xV(t,{xScale:ye,yScale:be,width:de,height:fe,top:v,right:m,bottom:x,left:E,theme:ue}):"bars"===e?me.forEach((function(e){N(t,{bar:e,borderColor:Ee(e),borderRadius:Y,borderWidth:V,label:xe(e.data),labelColor:ke(e),shouldRenderLabel:_e(e)})})):"legends"===e?Se.forEach((function(e){var n=e[0],r=e[1];NV(t,jte({},n,{data:r,containerWidth:de,containerHeight:fe,theme:ue}))})):"annotations"===e?function(e,t){var n=t.annotations,r=t.theme;0!==n.length&&(e.save(),n.forEach((function(t){if(!function(e){var t=typeof e;return"string"===t||"function"===t}(t.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=r.annotations.link.outlineColor,e.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,e.beginPath(),Dte(e,t.computed.points),e.stroke(),e.lineCap="butt"),kte(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),_te(t)&&r.annotations.symbol.outlineWidth>0&&(e.strokeStyle=r.annotations.symbol.outlineColor,e.lineWidth=2*r.annotations.symbol.outlineWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),Ste(t)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),e.strokeStyle=r.annotations.link.stroke,e.lineWidth=r.annotations.link.strokeWidth,e.beginPath(),Dte(e,t.computed.points),e.stroke(),kte(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.stroke()),_te(t)&&(e.fillStyle=r.annotations.symbol.fill,e.beginPath(),e.arc(t.x,t.y,t.size/2,0,2*Math.PI),e.fill()),Ste(t)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.rect(t.x-t.width/2,t.y-t.height/2,t.width,t.height),e.stroke()),"function"==typeof t.note?t.note(e,{datum:t.datum,x:t.computed.text[0],y:t.computed.text[1],theme:r}):(e.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=r.annotations.text.fill,e.strokeStyle=r.annotations.text.outlineColor,e.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(t.note,t.computed.text[0],t.computed.text[1]),e.lineJoin="miter"),e.fillText(t.note,t.computed.text[0],t.computed.text[1]))})),e.restore())}(t,{annotations:Ae,theme:ue}):"function"==typeof e&&e(t,Ie)})),t.save())}),[x,E,m,v,me,Y,V,Ae,_,T,Ee,xe,ke,C,M,s,a,fe,de,Ie,I,u,Se,ce.left,ce.top,pe,he,oe,N,ye,be,l,_e,ue,o]);var Oe=(0,y.useCallback)((function(e){if(ve&&se.current){var t=rj(se.current,e),n=t[0],r=t[1],i=vne(ve,ce,n,r);void 0!==i?(Ce((0,y.createElement)(Q,jte({},i.data,{color:i.color,label:i.label,value:Number(i.data.value)})),e),"mouseenter"===e.type&&(null==te||te(i.data,e))):Me()}}),[Me,ce,te,ve,Ce,Q]),Ne=(0,y.useCallback)((function(e){if(ve&&se.current){Me();var t=rj(se.current,e),n=t[0],r=t[1],i=vne(ve,ce,n,r);i&&(null==ne||ne(i.data,e))}}),[Me,ce,ne,ve]),Pe=(0,y.useCallback)((function(e){if(ve&&se.current){var t=rj(se.current,e),n=t[0],r=t[1],i=vne(ve,ce,n,r);void 0!==i&&(null==ee||ee(jte({},i.data,{color:i.color}),e))}}),[ce,ee,ve]);return(0,pS.jsx)("canvas",{ref:function(e){se.current=e,ae&&"current"in ae&&(ae.current=e)},width:he*oe,height:pe*oe,style:{width:he,height:pe,cursor:J?"auto":"normal"},onMouseEnter:J?Oe:void 0,onMouseMove:J?Oe:void 0,onMouseLeave:J?Ne:void 0,onClick:J?Pe:void 0})},yne=(0,y.forwardRef)((function(e,t){var n=e.isInteractive,r=e.renderWrapper,i=e.theme,o=Fte(e,gne);return(0,pS.jsx)(TL,{isInteractive:n,renderWrapper:r,theme:i,animate:!1,children:(0,pS.jsx)(mne,jte({},o,{canvasRef:t}))})})),bne=function(e){return(0,pS.jsx)(CL,{children:function(t){var n=t.width,r=t.height;return(0,pS.jsx)(pne,jte({width:n,height:r},e))}})},xne=((0,y.forwardRef)((function(e,t){return(0,pS.jsx)(CL,{children:function(n){var r=n.width,i=n.height;return(0,pS.jsx)(yne,jte({width:r,height:i},e,{ref:t}))}})})),{axis:{legend:{text:{fontSize:18,fill:"#333333"}},ticks:{text:{fontSize:17,fill:"#333333"}}}});var wne=function(e){var t=function(e){var t=DE(),n=0,r=[],i={};t.forEach((function(t){var n=t[e];if(Array.isArray(n)){var r,o=(0,PE.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]?i[a]+=1:i[a]=1}}catch(s){o.e(s)}finally{o.f()}}}));for(var o=0,a=Object.entries(i);o<a.length;o++){var s=(0,m.Z)(a[o],2),u=s[0],l=s[1];r.push({id:u,value:l}),u.length>n&&(n=u.length)}return{data:r,textSize:n}}(e.type),n=t.data,r=t.textSize;return n.length<1?(0,pS.jsx)(Ene,{}):(0,pS.jsx)("div",{style:{height:"545px",width:"100%",marginTop:"30px"},children:(0,pS.jsx)(bne,{data:n,margin:{top:26,right:30,bottom:50,left:10*r+5},layout:"horizontal",indexBy:"id",label:function(e){return"".concat(e.value)},colors:{scheme:"spectral"},colorBy:"indexValue",enableGridX:!0,enableGridY:!1,axisBottom:{legend:"Papers",legendPosition:"middle",legendOffset:40,tickSize:0},padding:.3,theme:xne})})};var Ene=function(){return(0,pS.jsx)("div",{style:{height:"450px",width:"100%",marginTop:"20px"},children:(0,pS.jsx)($p,{justify:"center",children:(0,pS.jsx)("b",{children:"No data available for the selected options."})})})},kne=function(e){return Object.fromEntries(Object.entries(e).map((function(e){return e.reverse()})))}(ct);function _ne(e){var t=e.record,n=e.type,r=kne[n],i=t[n].map((function(e){return"".concat(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)," : ").concat(e)}));return(0,pS.jsx)(wS,{TagData:i,Color:dt(n)})}var Sne=function(){var e=DE(),t=e.map((function(t){return Ee(Ee({},t),{},{key:e.indexOf(t),Author:[t.Authors[0]+" et al."]})})),n=RE(t.map((function(e){return e.key})),"key",!1),r=[{title:"Title",dataIndex:"Title",render:function(e,t){return(0,pS.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:e})},key:"title",defaultSortOrder:"ascend",sorter:{compare:function(e,t){return e.Title.localeCompare(t.Title)},multiple:1}},{title:"Submitted",dataIndex:"Date",key:"date",defaultSortOrder:"descend",sorter:{compare:function(e,t){return"undefined"===typeof e.Date?1:"undefined"===typeof t.Date?-1:e.Date.getTime()-t.Date.getTime()},multiple:4},render:function(e,t){return(0,pS.jsx)(pS.Fragment,{children:"undefined"!==typeof t.Date?(0,pS.jsx)(Cp,{span:24,children:"string"===typeof t.Date?t.Date:t.Date.toLocaleDateString("en-UK")}):(0,pS.jsx)(Bp,{style:{marginLeft:5},color:"blue",children:"Original"})})},width:100},{title:"Venue",dataIndex:"Venue",render:function(e,t){return(0,pS.jsx)(pS.Fragment,{children:t.Venue.value})},key:"venue",defaultSortOrder:"ascend",width:100,sorter:{compare:function(e,t){return e.Venue.value.localeCompare(t.Venue.value)},multiple:2}},{title:"Year",dataIndex:"Year",key:"year",defaultSortOrder:"descend",width:100,sorter:{compare:function(e,t){return e.Year.localeCompare(t.Year)},multiple:3}},{title:"Author",key:"author",dataIndex:"Author",width:250}];return(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsx)(xS,{}),(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsxs)($p,{justify:"space-between",children:[(0,pS.jsx)(hf,{className:"expand-all",children:n.isAllExpanded()?(0,pS.jsx)(CE,{}):(0,pS.jsx)(IE,{})}),(0,pS.jsx)(hf,{children:(0,pS.jsx)("a",{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(e))),download:"FilteredList.json",children:"Export Filtered List as JSON"})})]}),(0,pS.jsx)(_E,{style:{marginTop:10},columns:r,dataSource:t,expandable:{expandRowByClick:!0,expandedRowRender:function(e){return(0,pS.jsxs)($p,{gutter:[0,4],children:[e.Abstract.length>0?(0,pS.jsx)(Cp,{span:24,children:e.Abstract}):null,(0,pS.jsx)(Cp,{span:24,children:(0,pS.jsxs)("b",{children:["Authors: ",st(e.Authors)]})}),(0,pS.jsx)(Cp,{span:24,children:lt.map((function(t){return(0,pS.jsx)(_ne,{record:e,type:t},lt.indexOf(t))}))})]})}},className:n.isAllExpanded()?"table-expanding-all":"",expandedRowKeys:n.expandedRowKeys,onExpand:n.onExpand,rowKey:n.rowKey,pagination:{defaultPageSize:20,position:["bottomCenter"]}})]})]})},Tne=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.forceRender,o=e.className,a=e.style,s=e.children,u=e.isActive,l=e.role,c=y.useState(u||i),d=(0,m.Z)(c,2),f=d[0],h=d[1];return y.useEffect((function(){(i||u)&&h(!0)}),[i,u]),f?y.createElement("div",{ref:t,className:In()("".concat(r,"-content"),(n={},(0,xe.Z)(n,"".concat(r,"-content-active"),u),(0,xe.Z)(n,"".concat(r,"-content-inactive"),!u),n),o),style:a,role:l},y.createElement("div",{className:"".concat(r,"-content-box")},s)):null}));Tne.displayName="PanelContent";var Cne=Tne,Mne=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(){var e;(0,On.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.handleItemClick()},e}return(0,Nn.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!rl()(this.props,e)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.className,o=r.id,a=r.style,s=r.prefixCls,u=r.header,l=r.headerClass,c=r.children,d=r.isActive,f=r.showArrow,h=r.destroyInactivePanel,p=r.accordion,g=r.forceRender,v=r.openMotion,m=r.expandIcon,b=r.extra,x=r.collapsible,w="disabled"===x,E=In()("".concat(s,"-header"),(e={},(0,xe.Z)(e,l,l),(0,xe.Z)(e,"".concat(s,"-header-collapsible-only"),"header"===x),e)),k=In()((t={},(0,xe.Z)(t,"".concat(s,"-item"),!0),(0,xe.Z)(t,"".concat(s,"-item-active"),d),(0,xe.Z)(t,"".concat(s,"-item-disabled"),w),t),i),_=y.createElement("i",{className:"arrow"});f&&"function"===typeof m&&(_=m(this.props));var S=null!==b&&void 0!==b&&"boolean"!==typeof b;return y.createElement("div",{className:k,style:a,id:o},y.createElement("div",{className:E,onClick:function(){return"header"!==x&&n.handleItemClick()},role:p?"tab":"button",tabIndex:w?-1:0,"aria-expanded":d,onKeyPress:this.handleKeyPress},f&&_,"header"===x?y.createElement("span",{onClick:this.handleItemClick,className:"".concat(s,"-header-text")},u):u,S&&y.createElement("div",{className:"".concat(s,"-extra")},b)),y.createElement(Wa,It({visible:d,leavedClassName:"".concat(s,"-content-hidden")},v,{forceRender:g,removeOnLeave:h}),(function(e,t){var n=e.className,r=e.style;return y.createElement(Cne,{ref:t,prefixCls:s,className:n,style:r,isActive:d,forceRender:g,role:p?"tabpanel":null},c)})))}}]),n}(y.Component);Mne.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var Ane=Mne;function Ine(e){var t=e;if(!Array.isArray(t)){var n=(0,hr.Z)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var One=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;(0,On.Z)(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=(0,Mn.Z)(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,i=r.props,o=i.prefixCls,a=i.openMotion,s=i.accordion,u=i.destroyInactivePanel,l=i.expandIcon,c=i.collapsible,d=e.key||String(t),f=e.props,h=f.header,p=f.headerClass,g=f.destroyInactivePanel,v=f.collapsible,m=null!==v&&void 0!==v?v:c,b={key:d,panelKey:d,header:h,headerClass:p,isActive:s?n[0]===d:n.indexOf(d)>-1,prefixCls:o,destroyInactivePanel:null!==g&&void 0!==g?g:u,openMotion:a,accordion:s,children:e.props.children,onItemClick:"disabled"===m?null:r.onClickItem,expandIcon:l,collapsible:m};return"string"===typeof e.type?e:y.cloneElement(e,b)},r.getItems=function(){return Hi(r.props.children).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var i=e.activeKey,o=e.defaultActiveKey;return"activeKey"in e&&(o=i),r.state={activeKey:Ine(o)},r}return(0,Nn.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!rl()(this.props,e)||!rl()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.accordion,a=In()((e={},(0,xe.Z)(e,n,!0),(0,xe.Z)(e,r,!!r),e));return y.createElement("div",{className:a,style:i,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=Ine(e.activeKey)),t}}]),n}(y.Component);One.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},One.Panel=Ane;var Nne=One,Pne=(One.Panel,function(e){var t,n=y.useContext($n),r=n.getPrefixCls,i=n.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=e.bordered,l=void 0===u||u,c=e.ghost,d=r("collapse",o),f=function(){var t=e.expandIconPosition;return void 0!==t?t:"rtl"===i?"right":"left"}(),h=In()((t={},(0,xe.Z)(t,"".concat(d,"-borderless"),!l),(0,xe.Z)(t,"".concat(d,"-icon-position-").concat(f),!0),(0,xe.Z)(t,"".concat(d,"-rtl"),"rtl"===i),(0,xe.Z)(t,"".concat(d,"-ghost"),!!c),t),s),p=It(It({},Yu),{motionAppear:!1,leavedClassName:"".concat(d,"-content-hidden")});return y.createElement(Nne,It({openMotion:p},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):y.createElement(Ei,{rotate:t.isActive?90:void 0});return y.createElement("div",null,Ou(r,(function(){return{className:In()(r.props.className,"".concat(d,"-arrow"))}})))},prefixCls:d,className:h}),Hi(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),i=e.props,o=i.disabled,a=i.collapsible;return Ou(e,It(It({},lr(e.props,["disabled"])),{key:r,collapsible:null!==a&&void 0!==a?a:o?"disabled":void 0}))}return e})))});Pne.Panel=function(e){zi(!("disabled"in e),"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var t=y.useContext($n).getPrefixCls,n=e.prefixCls,r=e.className,i=void 0===r?"":r,o=e.showArrow,a=void 0===o||o,s=t("collapse",n),u=In()((0,xe.Z)({},"".concat(s,"-no-arrow"),!a),i);return y.createElement(Nne.Panel,It({},e,{prefixCls:s,className:u}))};var Dne=Pne;var Rne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},o=Object.keys(e);return o.forEach((function(e){i[e]=r.style[e]})),o.forEach((function(t){r.style[t]=e[t]})),i};var Lne={},jne=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return Rne(Lne),Lne={},void(document.body.className=r.replace(n,"").trim())}var i=ig();if(i&&(Lne=Rne({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(t);document.body.className=o.trim()}}},Fne=[],Bne="ant-scrolling-effect",zne=new RegExp("".concat(Bne),"g"),Yne=0,Gne=new Map,Vne=(0,Nn.Z)((function e(t){var n=this;(0,On.Z)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=Fne.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!Fne.some((function(e){return e.target===n.lockTarget})))if(Fne.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))Fne=[].concat((0,Mn.Z)(Fne),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=ig());var i=r.className;if(0===Fne.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&Gne.set(r,Rne({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!zne.test(i)){var o="".concat(i," ").concat(Bne);r.className=o.trim()}Fne=[].concat((0,Mn.Z)(Fne),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=Fne.find((function(e){return e.target===n.lockTarget}));if(Fne=Fne.filter((function(e){return e.target!==n.lockTarget})),t&&!Fne.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;zne.test(i)&&(Rne(Gne.get(r),{element:r}),Gne.delete(r),r.className=r.className.replace(zne,"").trim())}},this.lockTarget=Yne++,this.options=t})),Wne=0,Une=Kr();var Zne={},Hne=function(e){if(!Une)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,hr.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},qne=function(e){(0,Pn.Z)(n,e);var t=(0,Dn.Z)(n);function n(e){var r;return(0,On.Z)(this,n),(r=t.call(this,e)).container=void 0,r.componentRef=y.createRef(),r.rafId=void 0,r.scrollLocker=void 0,r.renderComponent=void 0,r.updateScrollLocker=function(e){var t=(e||{}).visible,n=r.props,i=n.getContainer,o=n.visible;o&&o!==t&&Une&&Hne(i)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:Hne(i)})},r.updateOpenCount=function(e){var t=e||{},n=t.visible,i=t.getContainer,o=r.props,a=o.visible,s=o.getContainer;a!==n&&Une&&Hne(s)===document.body&&(a&&!n?Wne+=1:e&&(Wne-=1)),("function"===typeof s&&"function"===typeof i?s.toString()!==i.toString():s!==i)&&r.removeCurrentContainer()},r.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||r.container&&!r.container.parentNode){var t=Hne(r.props.getContainer);return!!t&&(t.appendChild(r.container),!0)}return!0},r.getContainer=function(){return Une?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null},r.setWrapperClassName=function(){var e=r.props.wrapperClassName;r.container&&e&&e!==r.container.className&&(r.container.className=e)},r.removeCurrentContainer=function(){var e,t;null===(e=r.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(r.container)},r.switchScrollingEffect=function(){1!==Wne||Object.keys(Zne).length?Wne||(Rne(Zne),Zne={},jne(!0)):(jne(),Zne=Rne({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},r.scrollLocker=new Vne({container:Hne(e.getContainer)}),r}return(0,Nn.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Jo((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;Une&&Hne(n)===document.body&&(Wne=t&&Wne?Wne-1:Wne),this.removeCurrentContainer(),Jo.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,i=null,o={getOpenCount:function(){return Wne},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(i=y.createElement(ta,{getContainer:this.getContainer,ref:this.componentRef},t(o))),i}}]),n}(y.Component),Xne=qne;function Kne(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,o=e.motionName;return y.createElement(Wa,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var r=e.className,o=e.style;return y.createElement("div",It({style:Ee(Ee({},o),n),className:In()("".concat(t,"-mask"),r)},i))}))}function Jne(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}var $ne=-1;function Qne(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var ere=y.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),tre={width:0,height:0,overflow:"hidden",outline:"none"},nre=y.forwardRef((function(e,t){var n=e.closable,r=e.prefixCls,i=e.width,o=e.height,a=e.footer,s=e.title,u=e.closeIcon,l=e.style,c=e.className,d=e.visible,f=e.forceRender,h=e.bodyStyle,p=e.bodyProps,g=e.children,v=e.destroyOnClose,b=e.modalRender,x=e.motionName,w=e.ariaId,E=e.onClose,k=e.onVisibleChanged,_=e.onMouseDown,S=e.onMouseUp,T=e.mousePosition,C=(0,y.useRef)(),M=(0,y.useRef)(),A=(0,y.useRef)();y.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=C.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===M.current?C.current.focus():e||t!==C.current||M.current.focus()}}}));var I,O,N,P=y.useState(),D=(0,m.Z)(P,2),R=D[0],L=D[1],j={};function F(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Qne(i),n.top+=Qne(i,!0),n}(A.current);L(T?"".concat(T.x-e.left,"px ").concat(T.y-e.top,"px"):"")}void 0!==i&&(j.width=i),void 0!==o&&(j.height=o),R&&(j.transformOrigin=R),a&&(I=y.createElement("div",{className:"".concat(r,"-footer")},a)),s&&(O=y.createElement("div",{className:"".concat(r,"-header")},y.createElement("div",{className:"".concat(r,"-title"),id:w},s))),n&&(N=y.createElement("button",{type:"button",onClick:E,"aria-label":"Close",className:"".concat(r,"-close")},u||y.createElement("span",{className:"".concat(r,"-close-x")})));var B=y.createElement("div",{className:"".concat(r,"-content")},N,O,y.createElement("div",It({className:"".concat(r,"-body"),style:h},p),g),I);return y.createElement(Wa,{visible:d,onVisibleChanged:k,onAppearPrepare:F,onEnterPrepare:F,forceRender:f,motionName:x,removeOnLeave:v,ref:A},(function(e,t){var n=e.className,i=e.style;return y.createElement("div",{key:"dialog-element",role:"document",ref:t,style:Ee(Ee(Ee({},i),l),j),className:In()(r,c,n),onMouseDown:_,onMouseUp:S},y.createElement("div",{tabIndex:0,ref:C,style:tre,"aria-hidden":"true"}),y.createElement(ere,{shouldUpdate:d||f},b?b(B):B),y.createElement("div",{tabIndex:0,ref:M,style:tre,"aria-hidden":"true"}))}))}));nre.displayName="Content";var rre=nre;function ire(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,i=e.visible,o=void 0!==i&&i,a=e.keyboard,s=void 0===a||a,u=e.focusTriggerAfterClose,l=void 0===u||u,c=e.scrollLocker,d=e.title,f=e.wrapStyle,h=e.wrapClassName,p=e.wrapProps,g=e.onClose,v=e.afterClose,b=e.transitionName,x=e.animation,w=e.closable,E=void 0===w||w,k=e.mask,_=void 0===k||k,S=e.maskTransitionName,T=e.maskAnimation,C=e.maskClosable,M=void 0===C||C,A=e.maskStyle,I=e.maskProps,O=(0,y.useRef)(),N=(0,y.useRef)(),P=(0,y.useRef)(),D=y.useState(o),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=(0,y.useRef)();function B(e){null===g||void 0===g||g(e)}F.current||(F.current="rcDialogTitle".concat($ne+=1));var z=(0,y.useRef)(!1),Y=(0,y.useRef)(),G=null;return M&&(G=function(e){z.current?z.current=!1:N.current===e.target&&B(e)}),(0,y.useEffect)((function(){return o&&j(!0),function(){}}),[o]),(0,y.useEffect)((function(){return function(){clearTimeout(Y.current)}}),[]),(0,y.useEffect)((function(){return L?(null===c||void 0===c||c.lock(),null===c||void 0===c?void 0:c.unLock):function(){}}),[L,c]),y.createElement("div",It({className:"".concat(n,"-root")},rg(e,{data:!0})),y.createElement(Kne,{prefixCls:n,visible:_&&o,motionName:Jne(n,S,T),style:Ee({zIndex:r},A),maskProps:I}),y.createElement("div",It({tabIndex:-1,onKeyDown:function(e){if(s&&e.keyCode===Fo.ESC)return e.stopPropagation(),void B(e);o&&e.keyCode===Fo.TAB&&P.current.changeActive(!e.shiftKey)},className:In()("".concat(n,"-wrap"),h),ref:N,onClick:G,role:"dialog","aria-labelledby":d?F.current:null,style:Ee(Ee({zIndex:r},f),{},{display:L?null:"none"})},p),y.createElement(rre,It({},e,{onMouseDown:function(){clearTimeout(Y.current),z.current=!0},onMouseUp:function(){Y.current=setTimeout((function(){z.current=!1}))},ref:P,closable:E,ariaId:F.current,prefixCls:n,visible:o,onClose:B,onVisibleChanged:function(e){if(e){var t;if(!$o(N.current,document.activeElement))O.current=document.activeElement,null===(t=P.current)||void 0===t||t.focus()}else{if(j(!1),_&&O.current&&l){try{O.current.focus({preventScroll:!0})}catch(n){}O.current=null}L&&(null===v||void 0===v||v())}},motionName:Jne(n,b,x)}))))}var ore=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,i=e.destroyOnClose,o=void 0!==i&&i,a=e.afterClose,s=y.useState(t),u=(0,m.Z)(s,2),l=u[0],c=u[1];return y.useEffect((function(){t&&c(!0)}),[t]),!1===n?y.createElement(ire,It({},e,{getOpenCount:function(){return 2}})):r||!o||l?y.createElement(Xne,{visible:t,forceRender:r,getContainer:n},(function(t){return y.createElement(ire,It({},e,{destroyOnClose:o,afterClose:function(){null===a||void 0===a||a(),c(!1)}},t))})):null};ore.displayName="Dialog";var are=ore;function sre(e,t,n,r){var i=t+n,o=(n-r)/2;if(n>r){if(t>0)return(0,xe.Z)({},e,o);if(t<0&&i<r)return(0,xe.Z)({},e,-o)}else if(t<0||i>r)return(0,xe.Z)({},e,t<0?o:-o);return{}}function ure(e,t,n,r){var i={width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},o=i.width,a=i.height,s=null;return e<=o&&t<=a?s={x:0,y:0}:(e>o||t>a)&&(s=Ee(Ee({},sre("x",n,e,o)),sre("y",r,t,a))),s}var lre=["visible","onVisibleChange","getContainer","current"],cre=y.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),dre=cre.Provider,fre=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,r=e.children,i=e.icons,o=void 0===i?{}:i,a=e.preview,s="object"===(0,hr.Z)(a)?a:{},u=s.visible,l=void 0===u?void 0:u,c=s.onVisibleChange,d=void 0===c?void 0:c,f=s.getContainer,h=void 0===f?void 0:f,p=s.current,g=void 0===p?0:p,v=dr(s,lre),b=(0,y.useState)(new Map),x=(0,m.Z)(b,2),w=x[0],E=x[1],k=(0,y.useState)(),_=(0,m.Z)(k,2),S=_[0],T=_[1],C=Zi(!!l,{value:l,onChange:d}),M=(0,m.Z)(C,2),A=M[0],I=M[1],O=(0,y.useState)(null),N=(0,m.Z)(O,2),P=N[0],D=N[1],R=void 0!==l,L=Array.from(w.keys())[g],j=new Map(Array.from(w).filter((function(e){return!!(0,m.Z)(e,2)[1].canPreview})).map((function(e){var t=(0,m.Z)(e,2);return[t[0],t[1].url]})));return y.useEffect((function(){T(L)}),[L]),y.useEffect((function(){!A&&R&&T(L)}),[L,R,A]),y.createElement(dre,{value:{isPreviewGroup:!0,previewUrls:j,setPreviewUrls:E,current:S,setCurrent:T,setShowPreview:I,setMousePosition:D,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){E((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return E((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},r,y.createElement(mre,It({"aria-hidden":!A,visible:A,prefixCls:n,onClose:function(e){e.stopPropagation(),I(!1),D(null)},mousePosition:P,src:j.get(S),icons:o,getContainer:h},v)))},hre=["prefixCls","src","alt","onClose","afterClose","visible","icons"],pre=y.useState,gre=y.useEffect,vre={x:0,y:0},mre=function(e){var t=e.prefixCls,n=e.src,r=e.alt,i=e.onClose,o=(e.afterClose,e.visible),a=e.icons,s=void 0===a?{}:a,u=dr(e,hre),l=s.rotateLeft,c=s.rotateRight,d=s.zoomIn,f=s.zoomOut,h=s.close,p=s.left,g=s.right,v=pre(1),b=(0,m.Z)(v,2),x=b[0],w=b[1],E=pre(0),k=(0,m.Z)(E,2),_=k[0],S=k[1],T=function(e){var t=y.useRef(null),n=y.useState(e),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=y.useRef([]);return y.useEffect((function(){return function(){return t.current&&Jo.cancel(t.current)}}),[]),[i,function(e){null===t.current&&(a.current=[],t.current=Jo((function(){o((function(e){var n=e;return a.current.forEach((function(e){n=Ee(Ee({},n),e)})),t.current=null,n}))}))),a.current.push(e)}]}(vre),C=(0,m.Z)(T,2),M=C[0],A=C[1],I=y.useRef(),O=y.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),N=y.useState(!1),P=(0,m.Z)(N,2),D=P[0],R=P[1],L=y.useContext(cre),j=L.previewUrls,F=L.current,B=L.isPreviewGroup,z=L.setCurrent,Y=j.size,G=Array.from(j.keys()),V=G.indexOf(F),W=B?j.get(F):n,U=B&&Y>1,Z=y.useState({wheelDirection:0}),H=(0,m.Z)(Z,2),q=H[0],X=H[1],K=function(){w((function(e){return e+1})),A(vre)},J=function(){x>1&&w((function(e){return e-1})),A(vre)},$=In()((0,xe.Z)({},"".concat(t,"-moving"),D)),Q="".concat(t,"-operations-operation"),ee="".concat(t,"-operations-icon"),te=[{icon:h,onClick:i,type:"close"},{icon:d,onClick:K,type:"zoomIn"},{icon:f,onClick:J,type:"zoomOut",disabled:1===x},{icon:c,onClick:function(){S((function(e){return e+90}))},type:"rotateRight"},{icon:l,onClick:function(){S((function(e){return e-90}))},type:"rotateLeft"}],ne=function(){if(o&&D){var e=I.current.offsetWidth*x,t=I.current.offsetHeight*x,n=I.current.getBoundingClientRect(),r=n.left,i=n.top,a=_%180!==0;R(!1);var s=ure(a?t:e,a?e:t,r,i);s&&A(Ee({},s))}},re=function(e){o&&D&&A({x:e.pageX-O.current.deltaX,y:e.pageY-O.current.deltaY})},ie=function(e){if(o){e.preventDefault();var t=e.deltaY;X({wheelDirection:t})}};return gre((function(){var e=q.wheelDirection;e>0?J():e<0&&K()}),[q]),gre((function(){var e,t,n=Qo(window,"mouseup",ne,!1),r=Qo(window,"mousemove",re,!1),i=Qo(window,"wheel",ie,{passive:!1});try{window.top!==window.self&&(e=Qo(window.top,"mouseup",ne,!1),t=Qo(window.top,"mousemove",re,!1))}catch(o){Ur(0,"[rc-image] ".concat(o))}return function(){n.remove(),r.remove(),i.remove(),e&&e.remove(),t&&t.remove()}}),[o,D]),y.createElement(are,It({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:t,onClose:i,afterClose:function(){w(1),S(0),A(vre)},visible:o,wrapClassName:$},u),y.createElement("ul",{className:"".concat(t,"-operations")},te.map((function(e){var n=e.icon,r=e.onClick,i=e.type,o=e.disabled;return y.createElement("li",{className:In()(Q,(0,xe.Z)({},"".concat(t,"-operations-operation-disabled"),!!o)),onClick:r,key:i},y.isValidElement(n)?y.cloneElement(n,{className:ee}):n)}))),y.createElement("div",{className:"".concat(t,"-img-wrapper"),style:{transform:"translate3d(".concat(M.x,"px, ").concat(M.y,"px, 0)")}},y.createElement("img",{onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),O.current.deltaX=e.pageX-M.x,O.current.deltaY=e.pageY-M.y,O.current.originX=M.x,O.current.originY=M.y,R(!0))},ref:I,className:"".concat(t,"-img"),src:W,alt:r,style:{transform:"scale3d(".concat(x,", ").concat(x,", 1) rotate(").concat(_,"deg)")}})),U&&y.createElement("div",{className:In()("".concat(t,"-switch-left"),(0,xe.Z)({},"".concat(t,"-switch-left-disabled"),0===V)),onClick:function(e){e.preventDefault(),e.stopPropagation(),V>0&&z(G[V-1])}},p),U&&y.createElement("div",{className:In()("".concat(t,"-switch-right"),(0,xe.Z)({},"".concat(t,"-switch-right-disabled"),V===Y-1)),onClick:function(e){e.preventDefault(),e.stopPropagation(),V<Y-1&&z(G[V+1])}},g))},yre=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"],bre=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],xre=0,wre=function(e){var t=e.src,n=e.alt,r=e.onPreviewClose,i=e.prefixCls,o=void 0===i?"rc-image":i,a=e.previewPrefixCls,s=void 0===a?"".concat(o,"-preview"):a,u=e.placeholder,l=e.fallback,c=e.width,d=e.height,f=e.style,h=e.preview,p=void 0===h||h,g=e.className,v=e.onClick,b=e.onError,x=e.wrapperClassName,w=e.wrapperStyle,E=e.crossOrigin,k=e.decoding,_=e.loading,S=e.referrerPolicy,T=e.sizes,C=e.srcSet,M=e.useMap,A=dr(e,yre),I=u&&!0!==u,O="object"===(0,hr.Z)(p)?p:{},N=O.src,P=O.visible,D=void 0===P?void 0:P,R=O.onVisibleChange,L=void 0===R?r:R,j=O.getContainer,F=void 0===j?void 0:j,B=O.mask,z=O.maskClassName,Y=O.icons,G=dr(O,bre),V=null!==N&&void 0!==N?N:t,W=void 0!==D,U=Zi(!!D,{value:D,onChange:L}),Z=(0,m.Z)(U,2),H=Z[0],q=Z[1],X=(0,y.useState)(I?"loading":"normal"),K=(0,m.Z)(X,2),J=K[0],$=K[1],Q=(0,y.useState)(null),ee=(0,m.Z)(Q,2),te=ee[0],ne=ee[1],re="error"===J,ie=y.useContext(cre),oe=ie.isPreviewGroup,ae=ie.setCurrent,se=ie.setShowPreview,ue=ie.setMousePosition,le=ie.registerImage,ce=y.useState((function(){return xre+=1})),de=(0,m.Z)(ce,1)[0],fe=p&&!re,he=y.useRef(!1),pe=function(){$("normal")};y.useEffect((function(){return le(de,V)}),[]),y.useEffect((function(){le(de,V,fe)}),[V,fe]),y.useEffect((function(){re&&$("normal"),I&&!he.current&&$("loading")}),[t]);var ge=In()(o,x,(0,xe.Z)({},"".concat(o,"-error"),re)),ve=re&&l?l:V,me={crossOrigin:E,decoding:k,loading:_,referrerPolicy:S,sizes:T,srcSet:C,useMap:M,alt:n,className:In()("".concat(o,"-img"),(0,xe.Z)({},"".concat(o,"-img-placeholder"),!0===u),g),style:Ee({height:d},f)};return y.createElement(y.Fragment,null,y.createElement("div",It({},A,{className:ge,onClick:fe?function(e){if(!W){var t=ov(e.target),n=t.left,r=t.top;oe?(ae(de),ue({x:n,y:r})):ne({x:n,y:r})}oe?se(!0):q(!0),v&&v(e)}:v,style:Ee({width:c,height:d},w)}),y.createElement("img",It({},me,{ref:function(e){he.current=!1,"loading"===J&&(null===e||void 0===e?void 0:e.complete)&&(e.naturalWidth||e.naturalHeight)&&(he.current=!0,pe())}},re&&l?{src:l}:{onLoad:pe,onError:function(e){b&&b(e),$("error")},src:t})),"loading"===J&&y.createElement("div",{"aria-hidden":"true",className:"".concat(o,"-placeholder")},u),B&&fe&&y.createElement("div",{className:In()("".concat(o,"-mask"),z)},B)),!oe&&fe&&y.createElement(mre,It({"aria-hidden":!H,visible:H,prefixCls:s,onClose:function(e){e.stopPropagation(),q(!1),W||ne(null)},mousePosition:te,src:ve,alt:n,getContainer:F,icons:Y},G)))};wre.PreviewGroup=fre,wre.displayName="Image";var Ere=wre,kre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},_re=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:kre}))};_re.displayName="RotateLeftOutlined";var Sre=y.forwardRef(_re),Tre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Cre=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Tre}))};Cre.displayName="RotateRightOutlined";var Mre=y.forwardRef(Cre),Are={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Ire=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Are}))};Ire.displayName="ZoomInOutlined";var Ore=y.forwardRef(Ire),Nre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Pre=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Nre}))};Pre.displayName="ZoomOutOutlined";var Dre=y.forwardRef(Pre),Rre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lre={rotateLeft:y.createElement(Sre,null),rotateRight:y.createElement(Mre,null),zoomIn:y.createElement(Ore,null),zoomOut:y.createElement(Dre,null),close:y.createElement(Ip,null),left:y.createElement(Si,null),right:y.createElement(Ei,null)},jre=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fre=function(e){var t=e.prefixCls,n=e.preview,r=jre(e,["prefixCls","preview"]),i=(0,y.useContext)($n).getPrefixCls,o=i("image",t),a=i(),s=(0,y.useContext)($n).locale,u=(void 0===s?yE:s).Image||yE.Image,l=y.useMemo((function(){if(!1===n)return n;var e="object"===(0,hr.Z)(n)?n:{};return It(It({mask:y.createElement("div",{className:"".concat(o,"-mask-info")},y.createElement(Uw,null),null===u||void 0===u?void 0:u.preview),icons:Lre},e),{transitionName:zu(a,"zoom",e.transitionName),maskTransitionName:zu(a,"fade",e.maskTransitionName)})}),[n,u]);return y.createElement(Ere,It({prefixCls:o,preview:l},r))};Fre.PreviewGroup=function(e){var t=e.previewPrefixCls,n=e.preview,r=Rre(e,["previewPrefixCls","preview"]),i=y.useContext($n).getPrefixCls,o=i("image-preview",t),a=i(),s=y.useMemo((function(){if(!1===n)return n;var e="object"===(0,hr.Z)(n)?n:{};return It(It({},e),{transitionName:zu(a,"zoom",e.transitionName),maskTransitionName:zu(a,"fade",e.maskTransitionName)})}),[n]);return y.createElement(Ere.PreviewGroup,It({preview:s,previewPrefixCls:o,icons:Lre},r))};var Bre=Fre,zre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Yre=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:zre}))};Yre.displayName="UpOutlined";var Gre=y.forwardRef(Yre);function Vre(){return"function"===typeof BigInt}function Wre(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),o=i[0]||"0",a=i[1]||"0";"0"===o&&"0"===a&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:o,decimalStr:a,fullStr:"".concat(s).concat(r)}}function Ure(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Zre(e){var t=String(e);if(Ure(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&qre(t)?t.length-t.indexOf(".")-1:0}function Hre(e){var t=String(e);if(Ure(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Vre()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Vre()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Zre(t))}return Wre(t).fullStr}function qre(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var Xre=function(){function e(t){(0,On.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,Nn.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(Zre(this.number),Zre(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":Hre(this.number):this.origin}}]),e}(),Kre=function(){function e(t){if((0,On.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(Ure(n)&&(n=Number(n)),qre(n="string"===typeof n?n:Hre(n))){var r=Wre(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,Nn.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=Wre((this.alignDecimal(r)+n.alignDecimal(r)).toString()),o=i.negativeStr,a=i.trimStr,s="".concat(o).concat(a.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":Wre("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function Jre(e){return Vre()?new Kre(e):new Xre(e)}function $re(e,t,n){if(""===e)return"";var r=Wre(e),i=r.negativeStr,o=r.integerStr,a=r.decimalStr,s="".concat(t).concat(a),u="".concat(i).concat(o);if(n>=0){var l=Number(a[n]);return l>=5?$re(Jre(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-l)).toString(),t,n):0===n?u:"".concat(u).concat(t).concat(a.padEnd(n,"0").slice(0,n))}return".0"===s?u:"".concat(u).concat(s)}function Qre(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,o=e.downDisabled,a=e.onStep,s=y.useRef(),u=y.useRef();u.current=a;var l=function(e,t){e.preventDefault(),u.current(t),s.current=setTimeout((function e(){u.current(t),s.current=setTimeout(e,200)}),600)},c=function(){clearTimeout(s.current)};if(y.useEffect((function(){return c}),[]),ra())return null;var d="".concat(t,"-handler"),f=In()(d,"".concat(d,"-up"),(0,xe.Z)({},"".concat(d,"-up-disabled"),i)),h=In()(d,"".concat(d,"-down"),(0,xe.Z)({},"".concat(d,"-down-disabled"),o)),p={unselectable:"on",role:"button",onMouseUp:c,onMouseLeave:c};return y.createElement("div",{className:"".concat(d,"-wrap")},y.createElement("span",It({},p,{onMouseDown:function(e){l(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:f}),n||y.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),y.createElement("span",It({},p,{onMouseDown:function(e){l(e,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:h}),r||y.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var eie=Kr()?y.useLayoutEffect:y.useEffect;function tie(e,t){var n=y.useRef(!1);eie((function(){if(n.current)return e();n.current=!0}),t)}var nie=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],rie=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},iie=function(e){var t=Jre(e);return t.isInvalidate()?null:t},oie=y.forwardRef((function(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-input-number":r,o=e.className,a=e.style,s=e.min,u=e.max,l=e.step,c=void 0===l?1:l,d=e.defaultValue,f=e.value,h=e.disabled,p=e.readOnly,g=e.upHandler,v=e.downHandler,b=e.keyboard,x=e.controls,w=void 0===x||x,E=e.stringMode,k=e.parser,_=e.formatter,S=e.precision,T=e.decimalSeparator,C=e.onChange,M=e.onInput,A=e.onPressEnter,I=e.onStep,O=dr(e,nie),N="".concat(i,"-input"),P=y.useRef(null),D=y.useState(!1),R=(0,m.Z)(D,2),L=R[0],j=R[1],F=y.useRef(!1),B=y.useRef(!1),z=y.useState((function(){return Jre(null!==f&&void 0!==f?f:d)})),Y=(0,m.Z)(z,2),G=Y[0],V=Y[1];var W=y.useCallback((function(e,t){if(!t)return S>=0?S:Math.max(Zre(e),Zre(c))}),[S,c]),U=y.useCallback((function(e){var t=String(e);if(k)return k(t);var n=t;return T&&(n=n.replace(T,".")),n.replace(/[^\w.-]+/g,"")}),[k,T]),Z=y.useRef(""),H=y.useCallback((function(e,t){if(_)return _(e,{userTyping:t,input:String(Z.current)});var n="number"===typeof e?Hre(e):e;if(!t){var r=W(n,t);if(qre(n)&&(T||r>=0))n=$re(n,T||".",r)}return n}),[_,W,T]),q=y.useState((function(){var e=null!==d&&void 0!==d?d:f;return G.isInvalidate()&&["string","number"].includes((0,hr.Z)(e))?Number.isNaN(e)?"":e:H(G.toString(),!1)})),X=(0,m.Z)(q,2),K=X[0],J=X[1];function $(e,t){J(H(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}Z.current=K;var Q=y.useMemo((function(){return iie(u)}),[u]),ee=y.useMemo((function(){return iie(s)}),[s]),te=y.useMemo((function(){return!(!Q||!G||G.isInvalidate())&&Q.lessEquals(G)}),[Q,G]),ne=y.useMemo((function(){return!(!ee||!G||G.isInvalidate())&&G.lessEquals(ee)}),[ee,G]),re=function(e,t){var n=(0,y.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,o=i.substring(0,t),a=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:o,afterTxt:a}}catch(s){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,o=i.beforeTxt,a=i.afterTxt,s=i.start,u=r.length;if(r.endsWith(a))u=r.length-n.current.afterTxt.length;else if(r.startsWith(o))u=o.length;else{var l=o[s-1],c=r.indexOf(l,s-1);-1!==c&&(u=c+1)}e.setSelectionRange(u,u)}catch(d){Xr(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(d.message))}}]}(P.current,L),ie=(0,m.Z)(re,2),oe=ie[0],ae=ie[1],se=function(e){return Q&&!e.lessEquals(Q)?Q:ee&&!ee.lessEquals(e)?ee:null},ue=function(e){return!se(e)},le=function(e,t){var n,r=e,i=ue(r)||r.isEmpty();if(r.isEmpty()||t||(r=se(r)||r,i=!0),!p&&!h&&i){var o=r.toString(),a=W(o,t);return a>=0&&(r=Jre($re(o,".",a))),r.equals(G)||(n=r,void 0===f&&V(n),null===C||void 0===C||C(r.isEmpty()?null:rie(E,r)),void 0===f&&$(r,t)),r}return G},ce=function(){var e=(0,y.useRef)(0),t=function(){Jo.cancel(e.current)};return(0,y.useEffect)((function(){return t}),[]),function(n){t(),e.current=Jo((function(){n()}))}}(),de=function e(t){if(oe(),J(t),!B.current){var n=Jre(U(t));n.isNaN()||le(n,!0)}null===M||void 0===M||M(t),ce((function(){var n=t;k||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},fe=function(e){var t;if(!(e&&te||!e&&ne)){F.current=!1;var n=Jre(c);e||(n=n.negate());var r=(G||Jre(0)).add(n.toString()),i=le(r,!1);null===I||void 0===I||I(rie(E,i),{offset:c,type:e?"up":"down"}),null===(t=P.current)||void 0===t||t.focus()}},he=function(e){var t=Jre(U(K)),n=t;n=t.isNaN()?G:le(t,e),void 0!==f?$(G,!1):n.isNaN()||$(n,!1)};return tie((function(){G.isInvalidate()||$(G,!1)}),[S]),tie((function(){var e=Jre(f);V(e);var t=Jre(U(K));e.equals(t)&&F.current&&!_||$(e,F.current)}),[f]),tie((function(){_&&ae()}),[K]),y.createElement("div",{className:In()(i,o,(n={},(0,xe.Z)(n,"".concat(i,"-focused"),L),(0,xe.Z)(n,"".concat(i,"-disabled"),h),(0,xe.Z)(n,"".concat(i,"-readonly"),p),(0,xe.Z)(n,"".concat(i,"-not-a-number"),G.isNaN()),(0,xe.Z)(n,"".concat(i,"-out-of-range"),!G.isInvalidate()&&!ue(G)),n)),style:a,onFocus:function(){j(!0)},onBlur:function(){he(!1),j(!1),F.current=!1},onKeyDown:function(e){var t=e.which;F.current=!0,t===Fo.ENTER&&(B.current||(F.current=!1),he(!1),null===A||void 0===A||A(e)),!1!==b&&!B.current&&[Fo.UP,Fo.DOWN].includes(t)&&(fe(Fo.UP===t),e.preventDefault())},onKeyUp:function(){F.current=!1},onCompositionStart:function(){B.current=!0},onCompositionEnd:function(){B.current=!1,de(P.current.value)}},w&&y.createElement(Qre,{prefixCls:i,upNode:g,downNode:v,upDisabled:te,downDisabled:ne,onStep:fe}),y.createElement("div",{className:"".concat(N,"-wrap")},y.createElement("input",It({autoComplete:"off",role:"spinbutton","aria-valuemin":s,"aria-valuemax":u,"aria-valuenow":G.isInvalidate()?null:G.toString(),step:c},O,{ref:Fi(P,t),className:N,value:K,onChange:function(e){de(e.target.value)},disabled:h,readOnly:p}))))}));oie.displayName="InputNumber";var aie=oie,sie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},uie=y.forwardRef((function(e,t){var n,r=y.useContext($n),i=r.getPrefixCls,o=r.direction,a=y.useContext(cl),s=y.useState(!1),u=(0,m.Z)(s,2),l=u[0],c=u[1],d=y.useRef(null);y.useImperativeHandle(t,(function(){return d.current}));var f=e.className,h=e.size,p=e.prefixCls,g=e.addonBefore,v=e.addonAfter,b=e.prefix,x=e.bordered,w=void 0===x||x,E=e.readOnly,k=e.status,_=e.controls,S=sie(e,["className","size","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),T=i("input-number",p),C=y.createElement(Gre,{className:"".concat(T,"-handler-up-inner")}),M=y.createElement(Ty,{className:"".concat(T,"-handler-down-inner")}),A="boolean"===typeof _?_:void 0;"object"===(0,hr.Z)(_)&&(C="undefined"===typeof _.upIcon?C:y.createElement("span",{className:"".concat(T,"-handler-up-inner")},_.upIcon),M="undefined"===typeof _.downIcon?M:y.createElement("span",{className:"".concat(T,"-handler-down-inner")},_.downIcon));var I=(0,y.useContext)(Bc),O=I.hasFeedback,N=I.status,P=nd(N,k),D=h||a,R=In()((n={},(0,xe.Z)(n,"".concat(T,"-lg"),"large"===D),(0,xe.Z)(n,"".concat(T,"-sm"),"small"===D),(0,xe.Z)(n,"".concat(T,"-rtl"),"rtl"===o),(0,xe.Z)(n,"".concat(T,"-readonly"),E),(0,xe.Z)(n,"".concat(T,"-borderless"),!w),n),td(T,P),f),L=y.createElement(aie,It({ref:d,className:R,upHandler:C,downHandler:M,prefixCls:T,readOnly:E,controls:A},S));if(null!=b||O){var j,F=In()("".concat(T,"-affix-wrapper"),td("".concat(T,"-affix-wrapper"),P,O),(j={},(0,xe.Z)(j,"".concat(T,"-affix-wrapper-focused"),l),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-disabled"),e.disabled),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-sm"),"small"===a),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-lg"),"large"===a),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-rtl"),"rtl"===o),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-readonly"),E),(0,xe.Z)(j,"".concat(T,"-affix-wrapper-borderless"),!w),(0,xe.Z)(j,"".concat(f),!(g||v)&&f),j));L=y.createElement("div",{className:F,style:e.style,onMouseUp:function(){return d.current.focus()}},b&&y.createElement("span",{className:"".concat(T,"-prefix")},b),Ou(L,{style:null,value:e.value,onFocus:function(t){var n;c(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;c(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),O&&y.createElement("span",{className:"".concat(T,"-suffix")},ed(T,P)))}if(null!=g||null!=v){var B,z="".concat(T,"-group"),Y="".concat(z,"-addon"),G=g?y.createElement("div",{className:Y},g):null,V=v?y.createElement("div",{className:Y},v):null,W=In()("".concat(T,"-wrapper"),z,(0,xe.Z)({},"".concat(z,"-rtl"),"rtl"===o)),U=In()("".concat(T,"-group-wrapper"),(B={},(0,xe.Z)(B,"".concat(T,"-group-wrapper-sm"),"small"===a),(0,xe.Z)(B,"".concat(T,"-group-wrapper-lg"),"large"===a),(0,xe.Z)(B,"".concat(T,"-group-wrapper-rtl"),"rtl"===o),B),td("".concat(T,"-group-wrapper"),P,O),f);L=y.createElement("div",{className:U,style:e.style},y.createElement("div",{className:W},G&&y.createElement(zc,null,G),Ou(L,{style:null}),V&&y.createElement(zc,null,V)))}return L})),lie=uie,cie=cS.Item,die=eE.TextArea,fie=Dne.Panel;function hie(e){var t=e.name,n=e.description,r=e.imageUrl,i=r?r.split(".")[0].split("_"):void 0,o=null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1];return(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsxs)("p",{style:{margin:0},children:[(0,pS.jsx)("i",{children:t}),", ",n]}),r?(0,pS.jsx)(Dne,{style:{marginBottom:10},children:(0,pS.jsx)(fie,{header:"Example taken from [".concat(o,"]"),children:(0,pS.jsx)(Bre,{src:"".concat("/xai-papers/explanation_types_examples/").concat(r),style:{width:"100%"}})},"1")}):null]})}var pie=function(){var e=OE(),t=NE((function(e){return e.form})),n=(0,y.useState)(""),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useState)(!1),s=(0,m.Z)(a,2),u=s[0],l=s[1];(0,y.useEffect)((function(){o(","+JSON.stringify(t,null,2)),l(t["Type of Data"].length>0&&t["Type of Explanation"].length>0&&t["Type of Model to be Explained"].length>0&&t["Type of Problem"].length>0&&t["Type of Task"].length>0&&t["Method used to explain"].length>0&&t.Title.length>0&&t.Venue.value.length>0&&t.Authors.length>0&&function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}(t.url))}),[t]);var c=t.Venue.value,d=t.Venue.isOld?[c]:["Other"];return(0,pS.jsxs)("div",{className:"addpaper",children:[(0,pS.jsx)("h2",{children:"Paper Submission"}),(0,pS.jsx)("p",{children:"The original paper already includes classification of over 300 research papers. Of course this list is not exhaustive and therefore we would like to ask the wider research community to aid in extending the original research."}),(0,pS.jsxs)("p",{children:["You can contribute to this project by going to the project\u2019s ",(0,pS.jsx)("a",{href:"https://github.com/utwente-dmb/xai-papers/blob/master/src/db/db.json",target:"_blank",rel:"noreferrer",children:"GitHub"}),". This page shows the current contents of the database. To add a new entry simply fork the project and append the db.json file using the following template."]}),(0,pS.jsxs)($p,{children:[(0,pS.jsx)(Cp,{span:16,children:(0,pS.jsxs)(cS,{labelCol:{span:6},wrapperCol:{span:16},children:[(0,pS.jsx)(cie,{label:"Title",tooltip:{title:"Title of the paper in English",icon:(0,pS.jsx)(hS,{})},required:!0,children:(0,pS.jsx)(eE,{placeholder:"Title",defaultValue:t.Title,onChange:function(t){e(Mt.setTitle(t.currentTarget.value))}})}),(0,pS.jsx)(cie,{label:"Doi-url",required:!0,children:(0,pS.jsx)(eE,{placeholder:"Doi-url",defaultValue:t.url,onChange:function(t){e(Mt.setDoi(t.currentTarget.value))}})}),(0,pS.jsx)(cie,{label:"Year of Publication",required:!0,children:(0,pS.jsx)(lie,{defaultValue:parseInt(t.Year),onChange:function(t){e(Mt.setYear(t))}})}),(0,pS.jsx)(cie,{label:"Authors",tooltip:{title:"Firstname Lastname, all names should be separated by a comma",icon:(0,pS.jsx)(hS,{})},required:!0,children:(0,pS.jsx)(eE,{placeholder:"Authors",defaultValue:st(t.Authors),onChange:function(t){var n=t.currentTarget.value.split(",").map((function(e){return e.trim()}));e(Mt.setAuthors(n))}})}),(0,pS.jsx)(cie,{label:"Venue",required:!0,children:(0,pS.jsx)(mS,{placeholder:"Venue",enumerator:rt,handleChange:function(t){var n,r=null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"";"Other"===r?(e(Mt.setIsOldVenue(!1)),e(Mt.setVenue(""))):(e(Mt.setIsOldVenue(!0)),e(Mt.setVenue(r)))},value:d,single:!0})}),t.Venue.isOld?null:(0,pS.jsx)(cie,{label:"Venue",tooltip:{title:"Please use an abbreviation of the complete Venue name similar to the predefined venues.",icon:(0,pS.jsx)(hS,{})},children:(0,pS.jsx)(eE,{placeholder:"Venue",onChange:function(t){var n=t.currentTarget.value;e(Mt.setVenue(n))},value:t.Venue.value})}),(0,pS.jsx)(cie,{label:"Type of Data",tooltip:{title:"What Datatypes the model in the paper uses. A combination of multiple flags is possible.",icon:(0,pS.jsx)(hS,{})},required:!0,children:(0,pS.jsx)(mS,{placeholder:"Type of Data",enumerator:Je,handleChange:function(t){e(Mt.setData(ft(t)))},value:t["Type of Data"]})}),(0,pS.jsxs)(cie,{label:"Type of Problem",required:!0,children:[(0,pS.jsx)(mS,{placeholder:"Type of Problem",enumerator:Qe,handleChange:function(t){e(Mt.setProblem(ft(t)))},value:t["Type of Problem"]}),(0,pS.jsx)(Dne,{children:(0,pS.jsxs)(fie,{header:"Info",children:[(0,pS.jsx)("p",{children:"What type of problems a XAI method can solve are solved in the paper. With at least one of the following flags. These four problem types are based on the taxonomy of Guidotti et. al.[8]"}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Model Explanation"}),", globally explaining model \ud835\udc53 through an interpretable, predictive model."]}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Model Inspection"}),", globally explaining some specific property of model \ud835\udc53 or its prediction."]}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Outcome Explanation"}),", explaining an outcome/prediction of \ud835\udc53 on a particular input instance."]}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Transparent Box Design"}),", the explanation method is an interpretable model (i.e., \ud835\udc52 = \ud835\udc53 ) also making the predictions."]})]},"1")})]}),(0,pS.jsx)(cie,{label:"Type of Model to be Explained",tooltip:{title:"What type of AI model is used in the paper. A combination of multiple flags is possible.",icon:(0,pS.jsx)(hS,{})},required:!0,children:(0,pS.jsx)(mS,{placeholder:"Type of Model to be Explained",enumerator:et,handleChange:function(t){e(Mt.setModel(ft(t)))},value:t["Type of Model to be Explained"]})}),(0,pS.jsx)(cie,{label:"Type of Task",tooltip:{title:"What is the task of the AI model in the paper. A combination of multiple flags is possible.",icon:(0,pS.jsx)(hS,{})},required:!0,children:(0,pS.jsx)(mS,{placeholder:"Type of Task",enumerator:tt,handleChange:function(t){e(Mt.setTask(ft(t)))},value:t["Type of Task"]})}),(0,pS.jsxs)(cie,{label:"Method used to explain",required:!0,children:[(0,pS.jsx)(mS,{placeholder:"Method used to explain",enumerator:nt,handleChange:function(t){e(Mt.setMethod(ft(t)))},value:t["Method used to explain"]}),(0,pS.jsx)(Dne,{children:(0,pS.jsxs)(fie,{header:"Info",children:[(0,pS.jsxs)("p",{children:["What method is used to explain the AI model. ",(0,pS.jsx)("br",{}),(0,pS.jsx)("i",{children:"Post-hoc Explanation Method"}),", Post-hoc explanation methods (also called reverse engineering): explain an already trained predictive model."]}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Built-in Interpretability"}),", Interpretability built into the predictive model, such as white-box models, attention mechanisms or interpretability constraints (e.g. sparsity) included in the training process of the predictive model."]}),(0,pS.jsxs)("p",{children:[(0,pS.jsx)("i",{children:"Supervised Explanation Training"}),", where a ground-truth explanation is provided in order to train the model to output an explanation."]})]},"1")})]}),(0,pS.jsxs)(cie,{label:"Type of Explanation",required:!0,children:[(0,pS.jsx)(mS,{placeholder:"Type of Explanation",enumerator:$e,handleChange:function(t){e(Mt.setExplanation(ft(t)))},value:t["Type of Explanation"]}),(0,pS.jsx)(Dne,{children:(0,pS.jsxs)(fie,{header:"Info",children:[(0,pS.jsx)("p",{children:"What type of explanation is used to explain the AI model. A combination of multiple flags is possible."}),(0,pS.jsx)(hie,{name:"Decision Rules",description:"Logical rules, including decision sets[16], anchors[24], decision tables[13] and programs[31].",imageUrl:"decision_rules_16.PNG"}),(0,pS.jsx)(hie,{name:"Decision Tree",description:"Rooted graph with conditional statement at each node, e.g. ProtoTree [19].",imageUrl:"decision_tree_19.png"}),(0,pS.jsx)(hie,{name:"Disentanglement",description:"Disentangled representation, where each disjoint feature might have a semantic meaning. E.g. InfoGAN [5].",imageUrl:"disentanglement_5.PNG"}),(0,pS.jsx)(hie,{name:"Feature Importance",description:"Set of 1-dimensional non-binary values/scores to indicate feature relevance, feature contribution or attribution. A feature is not necessarily an input feature to predictive model \ud835\udc53 , but it should be a feature in the explanation. Examples include SHAP[18] and importance scores by LIME[23].",imageUrl:"feature_importance_22.PNG"}),(0,pS.jsx)(hie,{name:"Feature Plot",description:"Plot or figure showing relations or interactions between features or between feature(s) and outcome. Examples include Partial Dependence Plot[7], Individual Conditional Expectation plot[9] and Feature Auditing[1].",imageUrl:"feature_plot_9.PNG"}),(0,pS.jsx)(hie,{name:"Graph",description:"Graphical network structure with nodes and edges, e.g. Abstract Policy Graph[28], Knowledge Graph[32], Flow Graph[25] and Finite State Automata[11].",imageUrl:"graph_27.PNG"}),(0,pS.jsx)(hie,{name:"Heatmap",description:"Map with at least 2 dimensions visually highlighting non-binary feature attribution, activation, sensitivity, attention or saliency. Includes attention maps[26], perturbation masks [6] and Layer-Wise Relevance Propagation [2].",imageUrl:"heatmap_25.PNG"}),(0,pS.jsx)(hie,{name:"Localization",description:"Binary feature importance. Features can be any type of covariate used in the explanation, such as words, tabular features, or bounding boxes. Examples include binary maps with image patches[23], segmentation[12] and bounding boxes[33].",imageUrl:"Localization_22.PNG"}),(0,pS.jsx)(hie,{name:"Prototypes",description:"(Parts of) Representative examples, including concepts[15], influential training instances[10], prototypical parts [4, 19], nearest neighbors and criticisms[14].",imageUrl:"prototypes_14.PNG"}),(0,pS.jsx)(hie,{name:"Representation Synthesis",description:"Artificially produced visualization to explain representations of the predictive model. Examples include generated data samples[27], Activation Maximization[20] and feature visualization[21].",imageUrl:"representation_synthesis_33.PNG"}),(0,pS.jsx)(hie,{name:"Representation Visualization",description:"Charts or plots to visualize representations of the predictive model, including visualizations of dimensionality reduction with scatter plots[30], visual cluster analysis[17] and Principal Component Analysis.",imageUrl:"representation_visualization_29.PNG"}),(0,pS.jsx)(hie,{name:"Text",description:"Textual explanation via natural language [3, 22].",imageUrl:"text_21.PNG"}),(0,pS.jsx)(hie,{name:"White-box Model",description:"Intrinsically interpretable models (excluding decision rules). Predictive model \ud835\udc53 is interpretable and therefore acts as explanation. Examples include a scoring sheet[29] and linear regression. Decision Rules and Decision Trees do not fall into this category, since they are categories on their own.",imageUrl:"white_box_model_28.PNG"}),(0,pS.jsx)(hie,{name:"Other",description:"Explanation that do not fit any other category."})]},"1")})]}),(0,pS.jsx)(cie,{label:"Abstract",tooltip:{title:"Abstract is optional, but highly recommended",icon:(0,pS.jsx)(hS,{})},children:(0,pS.jsx)(die,{placeholder:"Abstract",defaultValue:t.Abstract,onChange:function(t){e(Mt.setAbstract(t.currentTarget.value))},autoSize:!0})}),(0,pS.jsx)(cie,{label:"Comment",tooltip:{title:"Used to indicate that your paper needs to have a new tag for example",icon:(0,pS.jsx)(hS,{})},children:(0,pS.jsx)(die,{placeholder:"Comment",defaultValue:null===t||void 0===t?void 0:t.Comment,onChange:function(t){e(Mt.setComment(t.currentTarget.value))},autoSize:!0})})]})}),u?(0,pS.jsx)(Cp,{span:8,children:(0,pS.jsxs)(cie,{label:"Your JSON",children:[(0,pS.jsx)(die,{value:i,autoSize:!0}),(0,pS.jsx)(hf,{onClick:function(){navigator.clipboard.writeText(i),OB.open({message:"Successfully copied JSON to clipboard",duration:1.5})},children:"Copy To Clipboard"})]})}):null]}),(0,pS.jsx)("h2",{children:"References"}),(0,pS.jsx)("p",{style:{margin:0},children:"[1] Philip Adler, Casey Falk, Sorelle A Friedler, Tionney Nix, Gabriel Rybeck, Carlos Scheidegger, Brandon Smith, and Suresh Venkatasubramanian. Auditing black-box models for indirect influence. Knowledge and Information Systems, 54(1):95\u2013122, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[2] Sebastian Bach, Alexander Binder, Gr\xe9goire Montavon, Frederick Klauschen, Klaus-Robert M\xfcller, and Wojciech Samek. On pixel-wise explanations for non-linear classifier decisions by layer-wise relevance propagation. PLOS ONE, 10(7):1\u201346, 07 2015."}),(0,pS.jsx)("p",{style:{margin:0},children:"[3] Oana-Maria Camburu, Tim Rockt\xe4schel, Thomas Lukasiewicz, and Phil Blunsom. e-snli: Natural language inference with natural language explanations. In Samy Bengio, Hanna M. Wallach, Hugo Larochelle, Kristen Grauman, Nicol\xf2 Cesa-Bianchi, and Roman Garnett, editors, Advances in Neural Information Processing Systems 31: Annual Conference on Neural Information Processing Systems 2018, NeurIPS 2018, December 3-8, 2018, 36 Nauta et al. Montr\xe9al, Canada, pages 9560\u20139572, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[4] Chaofan Chen, Oscar Li, Daniel Tao, Alina Barnett, Cynthia Rudin, and Jonathan Su. This looks like that: Deep learning for interpretable image recognition. In Hanna M. Wallach, Hugo Larochelle, Alina Beygelzimer, Florence d\u2019Alch\xe9-Buc, Emily B. Fox, and Roman Garnett, editors, Advances in Neural Information Processing Systems 32: Annual Conference on Neural Information Processing Systems 2019, NeurIPS 2019, December 8-14, 2019, Vancouver, BC, Canada, pages 8928\u20138939, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:"[5] Xi Chen, Yan Duan, Rein Houthooft, John Schulman, Ilya Sutskever, and Pieter Abbeel. Infogan: Interpretable representation learning by information maximizing generative adversarial nets. In Daniel D. Lee, Masashi Sugiyama, Ulrike von Luxburg, Isabelle Guyon, and Roman Garnett, editors, Advances in Neural Information Processing Systems 29: Annual Conference on Neural Information Processing Systems 2016, December 5-10, 2016, Barcelona, Spain, pages 2172\u20132180, 2016."}),(0,pS.jsx)("p",{style:{margin:0},children:"[6] Ruth C. Fong and Andrea Vedaldi. Interpretable explanations of black boxes by meaningful perturbation. In IEEE International Conference on Computer Vision, ICCV 2017, Venice, Italy, October 22-29, 2017, pages 3449\u20133457. IEEE Computer Society, 2017."}),(0,pS.jsx)("p",{style:{margin:0},children:"[7] Jerome H. Friedman. Greedy function approximation: A gradient boosting machine. The Annals of Statistics, 29(5):1189\u20131232, 2001."}),(0,pS.jsx)("p",{style:{margin:0},children:"[8] Riccardo Guidotti, Anna Monreale, Salvatore Ruggieri, Franco Turini, Fosca Giannotti, and Dino Pedreschi. A survey of methods for explaining black box models. ACM computing surveys (CSUR), 51(5):1\u201342, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[9] Alex Goldstein, Adam Kapelner, Justin Bleich, and Emil Pitkin. Peeking inside the black box: Visualizing statistical learning with plots of individual conditional expectation. Journal of Computational and Graphical Statistics, 24(1):44\u201365, 2015."}),(0,pS.jsx)("p",{style:{margin:0},children:"[10] Xiaochuang Han, Byron C. Wallace, and Yulia Tsvetkov. Explaining black box predictions and unveiling data artifacts through influence functions. In Dan Jurafsky, Joyce Chai, Natalie Schluter, and Joel R. Tetreault, editors, Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics, ACL 2020, Online, July 5-10, 2020, pages 5553\u20135563. Association for Computational Linguistics, 2020."}),(0,pS.jsx)("p",{style:{margin:0},children:"[11] Bo-Jian Hou and Zhi-Hua Zhou. Learning with interpretable structure from gated rnn. IEEE Transactions on Neural Networks and Learning Systems, 31(7):2267\u20132279, 2020."}),(0,pS.jsx)("p",{style:{margin:0},children:"[12] Lukas Hoyer, Mauricio Munoz, Prateek Katiyar, Anna Khoreva, and Volker Fischer. Grid saliency for context explanations of semantic segmentation. In Hanna M. Wallach, Hugo Larochelle, Alina Beygelzimer, Florence d\u2019Alch\xe9-Buc, Emily B. Fox, and Roman Garnett, editors, Advances in Neural Information Processing Systems 32: Annual Conference on Neural Information Processing Systems 2019, NeurIPS 2019, December 8-14, 2019, Vancouver, BC, Canada, pages 6459\u20136470, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:"[13] Johan Huysmans, Karel Dejaeger, Christophe Mues, Jan Vanthienen, and Bart Baesens. An empirical evaluation of the comprehensibility of decision table, tree and rule based predictive models. Decision Support Systems, 51(1):141\u2013154, April 2011."}),(0,pS.jsx)("p",{style:{margin:0},children:"[14] Been Kim, Oluwasanmi Koyejo, and Rajiv Khanna. Examples are not enough, learn to criticize! criticism for interpretability. In Daniel D. Lee, Masashi Sugiyama, Ulrike von Luxburg, Isabelle Guyon, and Roman Garnett, editors, Advances in Neural Information Processing Systems 29: Annual Conference on Neural Information Processing Systems 2016, December 5-10, 2016, Barcelona, Spain, pages 2280\u20132288, 2016."}),(0,pS.jsx)("p",{style:{margin:0},children:"[15] Been Kim, Martin Wattenberg, Justin Gilmer, Carrie J. Cai, James Wexler, Fernanda B. Vi\xe9gas, and Rory Sayres. Interpretability beyond feature attribution: Quantitative testing with concept activation vectors (TCAV). In Jennifer G. Dy and Andreas Krause, editors, Proceedings of the 35th International Conference on Machine Learning, ICML 2018, Stockholmsm\xe4ssan, Stockholm, Sweden, July 10-15, 2018, volume 80 of Proceedings of Machine Learning Research, pages 2673\u20132682. PMLR, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[16] Himabindu Lakkaraju, Stephen H. Bach, and Jure Leskovec. Interpretable decision sets: A joint framework for description and prediction. In Balaji Krishnapuram, Mohak Shah, Alexander J. Smola, Charu C. Aggarwal, Dou Shen, and Rajeev Rastogi, editors, Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, San Francisco, CA, USA, August 13-17, 2016, pages 1675\u20131684. ACM, 2016."}),(0,pS.jsx)("p",{style:{margin:0},children:"[17] Haoyu Liu, Fenglong Ma, Yaqing Wang, Shibo He, Jiming Chen, and Jing Gao. Lp-explain: Local pictorial explanation for outliers. In Claudia Plant, Haixun Wang, Alfredo Cuzzocrea, Carlo Zaniolo, and Xindong Wu, editors, 20th IEEE International Conference on Data Mining, ICDM 2020, Sorrento, Italy, November 17-20, 2020, pages 372\u2013381. IEEE, 2020."}),(0,pS.jsx)("p",{style:{margin:0},children:"[18] Scott M. Lundberg and Su-In Lee. A unified approach to interpreting model predictions. In Isabelle Guyon, Ulrike von Luxburg, Samy Bengio, Hanna M. Wallach, Rob Fergus, S. V. N. Vishwanathan, and Roman Garnett, editors, Advances in Neural Information Processing Systems 30: Annual Conference on Neural Information Processing Systems 2017, December 4-9, 2017, Long Beach, CA, USA, pages 4765\u20134774, 2017."}),(0,pS.jsx)("p",{style:{margin:0},children:"[19] Meike Nauta, Ron van Bree, and Christin Seifert. Neural prototype trees for interpretable fine-grained image recognition. In 2021 IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR), pages 14928\u201314938, 2021. Anh Nguyen, Alexey Dosovitskiy, Jason Yosinski, Thomas Brox, and Jeff Clune. Synthesizing the preferred inputs for neurons in neural networks via deep generator networks. In D. Lee, M. Sugiyama, U. Luxburg, I. Guyon, and R. Garnett, editors, Advances in Neural Information Processing Systems, volume 29. Curran Associates, Inc., 2016."}),(0,pS.jsx)("p",{style:{margin:0},children:"[20] Chris Olah, Alexander Mordvintsev, and Ludwig Schubert. Feature visualization. Distill, 2017. https://distill.pub/2017/feature-visualization."}),(0,pS.jsx)("p",{style:{margin:0},children:"[21] Nazneen Fatema Rajani, Bryan McCann, Caiming Xiong, and Richard Socher. Explain yourself! leveraging language models for commonsense reasoning. In Anna Korhonen, David R. Traum, and Llu\xeds M\xe0rquez, editors, Proceedings of the 57th Conference of the Association for Computational Linguistics, ACL 2019, Florence, Italy, July 28- August 2, 2019, Volume 1: Long Papers, pages 4932\u20134942. Association for Computational Linguistics, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:'[22] Marco T\xfalio Ribeiro, Sameer Singh, and Carlos Guestrin. "why should I trust you?": Explaining the predictions of any classifier. In Balaji Krishnapuram, Mohak Shah, Alexander J. Smola, Charu C. Aggarwal, Dou Shen, and Rajeev Rastogi, editors, Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, San Francisco, CA, USA, August 13-17, 2016, pages 1135\u20131144. ACM, 2016.'}),(0,pS.jsx)("p",{style:{margin:0},children:"[23] Marco T\xfalio Ribeiro, Sameer Singh, and Carlos Guestrin. Anchors: High-precision model-agnostic explanations. In Sheila A. McIlraith and Kilian Q. Weinberger, editors, Proceedings of the Thirty-Second AAAI Conference on Artificial Intelligence, (AAAI-18), the 30th innovative Applications of Artificial Intelligence (IAAI-18), and the 8th AAAI Symposium on Educational Advances in Artificial Intelligence (EAAI-18), New Orleans, Louisiana, USA, February 2-7, 2018, pages 1527\u20131535. AAAI Press, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[24] Raif M. Rustamov and James T. Klosowski. Interpretable graph-based semi-supervised learning via flows. In Sheila A. McIlraith and Kilian Q. Weinberger, editors, Proceedings of the Thirty-Second AAAI Conference on Artificial Intelligence, (AAAI-18), the 30th innovative Applications of Artificial Intelligence (IAAI-18), and the 8th AAAI Symposium on Educational Advances in Artificial Intelligence (EAAI-18), New Orleans, Louisiana, USA, February 2-7, 2018, pages 3976\u20133983. AAAI Press, 2018."}),(0,pS.jsx)("p",{style:{margin:0},children:"[25] Ramprasaath R. Selvaraju, Michael Cogswell, Abhishek Das, Ramakrishna Vedantam, Devi Parikh, and Dhruv Batra. Grad-cam: Visual explanations from deep networks via gradient-based localization. In IEEE International Conference on Computer Vision, ICCV 2017, Venice, Italy, October 22-29, 2017, pages 618\u2013626. IEEE Computer Society, 2017."}),(0,pS.jsx)("p",{style:{margin:0},children:"[26] Sumedha Singla, Brian Pollack, Junxiang Chen, and Kayhan Batmanghelich. Explanation by progressive exaggeration. In 8th International Conference on Learning Representations, ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020. OpenReview.net, 2020."}),(0,pS.jsx)("p",{style:{margin:0},children:"[27] Nicholay Topin and Manuela Veloso. Generation of policy-level explanations for reinforcement learning. In The Thirty-Third AAAI Conference on Artificial Intelligence, AAAI 2019, The Thirty-First Innovative Applications of Artificial Intelligence Conference, IAAI 2019, The Ninth AAAI Symposium on Educational Advances in Artificial Intelligence, EAAI 2019, Honolulu, Hawaii, USA, January 27 - February 1, 2019, pages 2514\u20132521. AAAI Press, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:"[28] Berk Ustun and Cynthia Rudin. Optimized risk scores. In Proceedings of the 23rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, KDD \u201917, page 1125\u20131134, New York, NY, USA, 2017. Association for Computing Machinery"}),(0,pS.jsx)("p",{style:{margin:0},children:"[29] Laurens van der Maaten and Geoffrey Hinton. Visualizing data using t-sne. Journal of Machine Learning Research, 9(86):2579\u20132605, 2008"}),(0,pS.jsx)("p",{style:{margin:0},children:"[30] Ramakrishna Vedantam, Karan Desai, Stefan Lee, Marcus Rohrbach, Dhruv Batra, and Devi Parikh. Probabilistic neural symbolic models for interpretable visual question answering. In Kamalika Chaudhuri and Ruslan Salakhutdinov, editors, Proceedings of the 36th International Conference on Machine Learning, ICML 2019, 9-15 June 2019, Long Beach, California, USA, volume 97 of Proceedings of Machine Learning Research, pages 6428\u20136437. PMLR, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:"[31] Xiang Wang, Dingxian Wang, Canran Xu, Xiangnan He, Yixin Cao, and Tat-Seng Chua. Explainable reasoning over knowledge graphs for recommendation. In The Thirty-Third AAAI Conference on Artificial Intelligence, AAAI 2019, The Thirty-First Innovative Applications of Artificial Intelligence Conference, IAAI 2019, The Ninth AAAI Symposium on Educational Advances in Artificial Intelligence, EAAI 2019, Honolulu, Hawaii, USA, January 27 - February 1, 2019, pages 5329\u20135336. AAAI Press, 2019."}),(0,pS.jsx)("p",{style:{margin:0},children:"[32] Quanshi Zhang, Ruiming Cao, Ying Nian Wu, and Song-Chun Zhu. Growing interpretable part graphs on convnets via multi-shot learning. In Satinder P. Singh and Shaul Markovitch, editors, Proceedings of the Thirty-First AAAI Conference on Artificial Intelligence, February 4-9, 2017, San Francisco, California, USA, pages 2898\u20132906. AAAI Press, 2017."}),(0,pS.jsx)("p",{style:{margin:0},children:"[33] Anh Nguyen, Alexey Dosovitskiy, Jason Yosinski, Thomas Brox, and Jeff Clune. Synthesizing the preferred inputs for neurons in neural networks via deep generator networks. In D. Lee, M. Sugiyama, U. Luxburg, I. Guyon, and R. Garnett, editors, Advances in Neural Information Processing Systems, volume 29. Curran Associates, Inc., 2016."})]})},gie=Dy.Option,vie=lx.Button,mie=lx.Group;var yie=function(){var e=(0,y.useState)("Line Chart"),t=(0,m.Z)(e,2),n=t[0],r=t[1],i=(0,y.useState)("Type of Data"),o=(0,m.Z)(i,2),a=o[0],s=o[1],u={"Line Chart":{withSelect:!0,element:(0,pS.jsx)(tU,{type:a}),description:"The line chart displays the increase in the number of papers on the subject of Explainable AI over time (accumulative). The filtering option on the right allows you to select a particular attribute so that its development over time can be observed. It should be noted that papers can have multiple labels within a category so the sum of labels is greater than the number of papers in the database."},"Bar Chart":{withSelect:!0,element:(0,pS.jsx)(wne,{type:a}),description:"The bar chart shows the distribution of labels for a selected attribute. The attribute shown can be changed with the dropdown menu on the right. It should be noted that papers can have multiple labels within a category so the total length of all the bars can be greater than the number of papers in the database."},"Connected Graph":{withSelect:!1,element:(0,pS.jsx)(fte,{}),description:"The connected graph below displays papers as nodes in a graph. Papers are connected when they have many labels from our categorization in common. Filtering options can be applied and the nodes can be clicked to reveal a link to the particular paper."},"Circle Packing":{withSelect:!0,element:(0,pS.jsx)(uz,{type:a}),description:"The circle packing chart clusters the papers on Explainable AI based on a specific attribute. Select an attribute on the right. Each of the circles can be hovered over to see the title of the paper and clicked on to go to the paper itself."}};return(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsx)(xS,{}),(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsxs)($p,{justify:"space-between",style:{marginBottom:12},children:[(0,pS.jsx)(Cp,{span:12,children:(0,pS.jsx)(mie,{defaultValue:n,buttonStyle:"solid",onChange:function(e){r(e.target.value)},children:Object.keys(u).map((function(e){return(0,pS.jsx)(vie,{value:e,children:e},e)}))})}),u[n].withSelect?(0,pS.jsx)(Dy,{defaultValue:a,style:{width:240},onChange:function(e){s(e)},children:lt.map((function(e){return(0,pS.jsx)(gie,{value:e,children:e},e)}))}):null]}),(0,pS.jsx)($p,{justify:"center",style:{marginBottom:8},children:(0,pS.jsx)(Cp,{span:12,children:u[n].description})}),u[n].element]})]})},bie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},xie=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:bie}))};xie.displayName="FilterOutlined";var wie=y.forwardRef(xie),Eie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},kie=function(e,t){return y.createElement(mi,Ee(Ee({},e),{},{ref:t,icon:Eie}))};kie.displayName="FileAddOutlined";var _ie=y.forwardRef(kie),Sie=Zd.Title,Tie=Zd.Text;function Cie(e){var t=e.Icon,n=e.text,r=e.description;return(0,pS.jsxs)(Cp,{md:24,lg:7,style:{paddingTop:20},children:[(0,pS.jsx)($p,{justify:"center",align:"middle",children:(0,pS.jsx)(t,{style:{fontSize:50,color:"dodgerblue"}})}),(0,pS.jsx)($p,{justify:"center",align:"middle",children:(0,pS.jsx)(Sie,{style:{fontSize:30},children:n})}),(0,pS.jsx)($p,{justify:"center",align:"middle",children:(0,pS.jsx)(Tie,{children:r})})]})}function Mie(e){var t=e.textAlignment,n=void 0===t?"left":t,r=e.text,i=e.description,o=e.imageUrl,a=(0,y.useState)(window.innerWidth),s=(0,m.Z)(a,2),u=s[0],l=s[1];(0,y.useEffect)((function(){window.addEventListener("resize",(function(){return l(window.innerWidth)}))}),[]);var c=(0,pS.jsx)(Cp,{md:22,lg:10,children:(0,pS.jsx)($p,{justify:"center",children:(0,pS.jsx)(Bre,{src:"".concat("/xai-papers").concat(o),width:1/3*u})})}),d=(0,pS.jsx)(Cp,{md:22,lg:10,children:(0,pS.jsxs)($p,{justify:"center",align:"middle",children:[(0,pS.jsx)(Sie,{style:{fontSize:30},children:r}),(0,pS.jsx)(Tie,{children:i})]})});return(0,pS.jsx)($p,{justify:"center",style:{width:"100%",marginTop:50},gutter:[30,20],children:u<=992?(0,pS.jsxs)(pS.Fragment,{children:[d,c]}):(0,pS.jsxs)(pS.Fragment,{children:["left"===n?d:c,"left"===n?c:d]})})}var Aie=function(){var e=Xt(),t=function(t){window.scrollTo(0,0),e(vt(t))};return(0,pS.jsxs)(pS.Fragment,{children:[(0,pS.jsxs)($p,{justify:"center",style:{marginBottom:50},children:[(0,pS.jsx)(Sie,{style:{fontSize:40,color:"dodgerblue"},children:"A Living and Curated Collection of Explainable AI Methods"}),(0,pS.jsx)(Tie,{style:{fontSize:20},children:(0,pS.jsx)("b",{children:"Interactively browse and contribute to a curated categorization of papers on explainable AI."})}),(0,pS.jsxs)(Tie,{style:{fontSize:18},children:["The initial dataset was collected and labelled by",(0,pS.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:"\xa0Nauta et al. (2023)"})," as part of a large-scale literature review on the evaluation of Explainable Artificial Intelligence. This website provides an interactive way to explore the dataset, and we invite the community to extend the XAI dataset in order to make this a living and curated collection of explainable AI methods. Contribute by adding papers following our categorization scheme, and reviewing suggestions from others."]})]}),(0,pS.jsxs)($p,{style:{marginBottom:50},justify:"space-between",children:[(0,pS.jsx)(Cie,{Icon:wie,text:"Browse and Explore",description:(0,pS.jsxs)(pS.Fragment,{children:["Quickly find relevant XAI papers by",(0,pS.jsx)("a",{onClick:function(){return t("papers")},children:"\xa0filtering and searching\xa0"}),"in the dataset, using our categorization scheme. Prefer visuals? Use our",(0,pS.jsx)("a",{onClick:function(){return t("charts")},children:"\xa0charts page\xa0"}),"for interactive graphs."]})}),(0,pS.jsx)(Cie,{Icon:_ie,text:"Contribute and Categorize",description:(0,pS.jsxs)(pS.Fragment,{children:["Make this a living collection by",(0,pS.jsx)("a",{onClick:function(){return t("add-paper")},children:"\xa0adding papers\xa0"}),"to this collection! Label the paper using our categorization scheme and",(0,pS.jsx)("a",{href:ht,target:"_blank",rel:"noreferrer",children:"\xa0make a pull request"}),"."]})}),(0,pS.jsx)(Cie,{Icon:cB,text:"Review and Verify",description:(0,pS.jsxs)(pS.Fragment,{children:["Help curating this dataset by",(0,pS.jsx)("a",{href:"".concat(ht,"/pulls"),target:"_blank",rel:"noreferrer",children:"\xa0reviewing pull requests\xa0"}),"for new papers. A paper with 3 positive reviews will be automatically added to our collection."]})})]}),(0,pS.jsx)(Mie,{text:"Initial Collection and Categorization",description:(0,pS.jsxs)(pS.Fragment,{children:["All papers in this collection are categorized along the scheme as presented by",(0,pS.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:"\xa0Nauta et al. (2023)"})," and shown in the image on the right. The initial collection contains categorization of papers on explainable AI published in 2014-2020 at conferences AAAI, IJCAI, NeurIPS, ICML, ICLR, CVPR, ICCV, ACL, WWW, ICDM, KDD and SIGIR."]}),imageUrl:"/categories_xai.png"}),(0,pS.jsx)(Mie,{textAlignment:"right",text:"A Living Collection",description:(0,pS.jsxs)(pS.Fragment,{children:["We invite the community to extend the initial paper collection by adding new papers. Anyone can contribute by adding a new paper as follows: Categorize the paper and use our website to generate a database entry. Create a pull request on our project\u2019s",(0,pS.jsx)("a",{href:ht,target:"_blank",rel:"noreferrer",children:"\xa0Github page"})," and append the generated entry to our database. Some automated tests check whether the new database entry is in the right format, but that shouldn\u2019t be any problem with our",(0,pS.jsx)("a",{onClick:function(){return t("add-paper")},children:"\xa0generation tool"}),"."]}),imageUrl:"/add_paper_form_half.png"}),(0,pS.jsx)(Mie,{text:"A Curated Collection",description:(0,pS.jsxs)(pS.Fragment,{children:["To maintain a certain degree of quality, we invite the XAI community to review pull requests of others. Is the suggested paper indeed on explainable AI and is the categorization correct? Leave a review on our project\u2019s",(0,pS.jsx)("a",{href:ht,target:"_blank",rel:"noreferrer",children:"\xa0Github page"}),". With three positive reviews (or one positive review of an admin), the pull request is automatically merged and the paper is added to the collection!"]}),imageUrl:"/pull_request_unreviewed.png"}),(0,pS.jsx)($p,{style:{marginTop:30},children:(0,pS.jsxs)(Tie,{children:[(0,pS.jsx)("br",{}),"We thank ",(0,pS.jsx)("a",{href:"https://www.linkedin.com/in/abdullah-aziz-qazi/",target:"_blank",rel:"noreferrer",children:"Abdullah Qazi"}),",",(0,pS.jsx)("a",{href:"https://www.linkedin.com/in/boris-gerretzen/",target:"_blank",rel:"noreferrer",children:" Boris Gerretzen"}),",",(0,pS.jsx)("a",{href:"https://www.linkedin.com/in/frans-schooltink/",target:"_blank",rel:"noreferrer",children:" Frans Schooltink"}),",",(0,pS.jsx)("a",{href:"https://www.linkedin.com/in/gies-den-broeder/",target:"_blank",rel:"noreferrer",children:" Gies den Broeder "}),"and",(0,pS.jsx)("a",{href:"https://www.linkedin.com/in/ramish-bhutto-06275b237/",target:"_blank",rel:"noreferrer",children:" Ramish Bhutto "}),"for helping us with the development of this website.",(0,pS.jsx)("br",{}),(0,pS.jsx)("br",{})]})}),(0,pS.jsx)(Sie,{level:4,children:"Paper and Citation"}),(0,pS.jsxs)(Tie,{children:["This website is based on the data collected by Meike Nauta, Jan Trienes, Shreyasi Pathak, Elisa Nguyen, Michelle Peters, Yasmin Schmitt, J\xf6rg Schl\xf6tterer, Maurice van Keulen, Christin Seifert as described in",(0,pS.jsx)("a",{href:"http://dx.doi.org/10.1145/3583558",target:"_blank",rel:"noreferrer",children:'\u2002"From Anecdotal Evidence to Quantitative Evaluation Methods: A Systematic Review on Evaluating Explainable AI"'}),(0,pS.jsx)("small",{children:"\u2002(ACM Computing Surveys, 2023)"}),(0,pS.jsx)("br",{}),(0,pS.jsx)("br",{}),"If you found this resource helpful, please cite our work:",(0,pS.jsx)("pre",{children:"@article{Nauta2023_csur_evaluating-xai-survey,\nauthor = {Nauta, Meike and Trienes, Jan and Pathak, Shreyasi and Nguyen, Elisa and Peters, Michelle and Schmitt, Yasmin and Schl\xf6tterer, J\xf6rg and van Keulen, Maurice and Seifert, Christin},\ntitle = {From Anecdotal Evidence to Quantitative Evaluation Methods: A Systematic Review on Evaluating Explainable AI},\nyear = {2023},\nmonth = {feb},\npublisher = {Association for Computing Machinery},\naddress = {New York, NY, USA},\nissn = {0360-0300},\nurl = {https://doi.org/10.1145/3583558},\ndoi = {10.1145/3583558},\njournal = {ACM Comput. Surv.},\ncomment   = {https://utwente-dmb.github.io/xai-papers/},\n} "})]}),(0,pS.jsxs)($p,{justify:"center",children:[(0,pS.jsx)("img",{src:"/xai-papers/UT_Logo_Horizontal_Black.png",height:"80"}),(0,pS.jsx)("img",{src:"/xai-papers/IKIM_Logo.png",height:"80"})]})]})},Iie=Di.Content,Oie=Di.Sider,Nie=Zd.Text;function Pie(){var e=qt(),t=Xt(),n=(0,y.useState)(!1),r=(0,m.Z)(n,2),i=r[0],o=r[1],a=(0,y.useState)(),s=(0,m.Z)(a,2),u=s[0],l=s[1];(0,y.useEffect)((function(){l([gt(e.pathname)])}),[e.pathname]);var c=(0,y.useState)(!1),d=(0,m.Z)(c,2),f=d[0],h=d[1];return(0,y.useEffect)((function(){i?h(!f):setTimeout((function(){h(!f)}),100)}),[i]),(0,pS.jsxs)(Di,{children:[(0,pS.jsxs)(Oie,{collapsible:!0,collapsed:i,style:{overflow:"auto",height:"100vh",position:"sticky",top:0,left:0},trigger:null,theme:"light",children:[(0,pS.jsx)(hf,{onClick:function(){return o(!i)},style:{width:"100%",height:40},icon:i?(0,pS.jsx)(Ei,{}):(0,pS.jsx)(Si,{})}),(0,pS.jsxs)(lp,{mode:"inline",onClick:function(e){var n=e.key;window.scrollTo(0,0),t(vt(n))},selectedKeys:u,children:[(0,pS.jsx)(lp.Item,{icon:(0,pS.jsx)(fp,{}),children:"Home"},"landing"),(0,pS.jsx)(lp.Item,{icon:(0,pS.jsx)(gp,{}),children:"Papers"},"papers"),(0,pS.jsx)(lp.Item,{icon:(0,pS.jsx)(yp,{}),children:"Charts"},"charts"),(0,pS.jsx)(lp.Item,{icon:(0,pS.jsx)(wp,{}),children:"Add Paper"},"add-paper")]}),f?(0,pS.jsx)(Nie,{style:{left:15,color:"dodgerblue",position:"absolute",bottom:15},children:"Overview of Methods on Explainable AI"}):null]}),(0,pS.jsx)(Di,{children:(0,pS.jsx)(Iie,{style:{padding:"0 50px",marginTop:20},children:(0,pS.jsxs)(Zt,{children:[(0,pS.jsx)(Wt,{path:"/",element:(0,pS.jsx)(Aie,{})}),(0,pS.jsx)(Wt,{path:"/papers",element:(0,pS.jsx)(Sne,{})}),(0,pS.jsx)(Wt,{path:"/charts",element:(0,pS.jsx)(yie,{})}),(0,pS.jsx)(Wt,{path:"/add-paper",element:(0,pS.jsx)(pie,{})})]})})})]})}b.render((0,pS.jsx)(yn,{store:At,children:(0,pS.jsx)(dn,{children:(0,pS.jsx)(Pie,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.47ceed15.js.map